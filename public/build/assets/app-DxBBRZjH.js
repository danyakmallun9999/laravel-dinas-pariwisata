import{g as qD,c as gn,L as YD}from"./leaflet-src-eHmD5uJa.js";var W_={exports:{}};var ZD=W_.exports,VS;function KD(){return VS||(VS=1,(function(s,e){(function(t,i){s.exports=i()})(ZD,(function(){var t={},i={};function n(o,a,d){if(i[o]=d,o==="index"){var p="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",g={};return i.shared(g),i.index(t,g),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([p],{type:"text/javascript"}))),t}}n("shared",["exports"],(function(o){function a(c,l,u,m){return new(u||(u=Promise))((function(y,b){function k(R){try{I(m.next(R))}catch(B){b(B)}}function A(R){try{I(m.throw(R))}catch(B){b(B)}}function I(R){var B;R.done?y(R.value):(B=R.value,B instanceof u?B:new u((function(V){V(B)}))).then(k,A)}I((m=m.apply(c,l||[])).next())}))}function d(c,l){this.x=c,this.y=l}function p(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var g,x;typeof SuppressedError=="function"&&SuppressedError,d.prototype={clone(){return new d(this.x,this.y)},add(c){return this.clone()._add(c)},sub(c){return this.clone()._sub(c)},multByPoint(c){return this.clone()._multByPoint(c)},divByPoint(c){return this.clone()._divByPoint(c)},mult(c){return this.clone()._mult(c)},div(c){return this.clone()._div(c)},rotate(c){return this.clone()._rotate(c)},rotateAround(c,l){return this.clone()._rotateAround(c,l)},matMult(c){return this.clone()._matMult(c)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(c){return this.x===c.x&&this.y===c.y},dist(c){return Math.sqrt(this.distSqr(c))},distSqr(c){const l=c.x-this.x,u=c.y-this.y;return l*l+u*u},angle(){return Math.atan2(this.y,this.x)},angleTo(c){return Math.atan2(this.y-c.y,this.x-c.x)},angleWith(c){return this.angleWithSep(c.x,c.y)},angleWithSep(c,l){return Math.atan2(this.x*l-this.y*c,this.x*c+this.y*l)},_matMult(c){const l=c[2]*this.x+c[3]*this.y;return this.x=c[0]*this.x+c[1]*this.y,this.y=l,this},_add(c){return this.x+=c.x,this.y+=c.y,this},_sub(c){return this.x-=c.x,this.y-=c.y,this},_mult(c){return this.x*=c,this.y*=c,this},_div(c){return this.x/=c,this.y/=c,this},_multByPoint(c){return this.x*=c.x,this.y*=c.y,this},_divByPoint(c){return this.x/=c.x,this.y/=c.y,this},_unit(){return this._div(this.mag()),this},_perp(){const c=this.y;return this.y=this.x,this.x=-c,this},_rotate(c){const l=Math.cos(c),u=Math.sin(c),m=u*this.x+l*this.y;return this.x=l*this.x-u*this.y,this.y=m,this},_rotateAround(c,l){const u=Math.cos(c),m=Math.sin(c),y=l.y+m*(this.x-l.x)+u*(this.y-l.y);return this.x=l.x+u*(this.x-l.x)-m*(this.y-l.y),this.y=y,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:d},d.convert=function(c){if(c instanceof d)return c;if(Array.isArray(c))return new d(+c[0],+c[1]);if(c.x!==void 0&&c.y!==void 0)return new d(+c.x,+c.y);throw new Error("Expected [x, y] or {x, y} point format")};var w=(function(){if(x)return g;function c(l,u,m,y){this.cx=3*l,this.bx=3*(m-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(y-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=u,this.p2x=m,this.p2y=y}return x=1,g=c,c.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,u){if(u===void 0&&(u=1e-6),l<0)return 0;if(l>1)return 1;for(var m=l,y=0;y<8;y++){var b=this.sampleCurveX(m)-l;if(Math.abs(b)<u)return m;var k=this.sampleCurveDerivativeX(m);if(Math.abs(k)<1e-6)break;m-=b/k}var A=0,I=1;for(m=l,y=0;y<20&&(b=this.sampleCurveX(m),!(Math.abs(b-l)<u));y++)l>b?A=m:I=m,m=.5*(I-A)+A;return m},solve:function(l,u){return this.sampleCurveY(this.solveCurveX(l,u))}},g})(),S=p(w);let E,M;function D(){return E==null&&(E=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),E}function O(){if(M==null&&(M=!1,D())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<25;m++){const y=4*m;l.fillStyle=`rgb(${y},${y+1},${y+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const u=l.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&u[m]!==m){M=!0;break}}}return M||!1}var N=1e-6,H=typeof Float32Array<"u"?Float32Array:Array;function X(){var c=new H(9);return H!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[5]=0,c[6]=0,c[7]=0),c[0]=1,c[4]=1,c[8]=1,c}function U(c){return c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function Q(){var c=new H(3);return H!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c}function Y(c){var l=c[0],u=c[1],m=c[2];return Math.sqrt(l*l+u*u+m*m)}function te(c,l,u){var m=new H(3);return m[0]=c,m[1]=l,m[2]=u,m}function se(c,l,u){return c[0]=l[0]+u[0],c[1]=l[1]+u[1],c[2]=l[2]+u[2],c}function ce(c,l,u){return c[0]=l[0]*u,c[1]=l[1]*u,c[2]=l[2]*u,c}function ve(c,l,u){var m=l[0],y=l[1],b=l[2],k=u[0],A=u[1],I=u[2];return c[0]=y*I-b*A,c[1]=b*k-m*I,c[2]=m*A-y*k,c}var xe,Ee=Y;function Be(c,l,u){var m=l[0],y=l[1],b=l[2],k=l[3];return c[0]=u[0]*m+u[4]*y+u[8]*b+u[12]*k,c[1]=u[1]*m+u[5]*y+u[9]*b+u[13]*k,c[2]=u[2]*m+u[6]*y+u[10]*b+u[14]*k,c[3]=u[3]*m+u[7]*y+u[11]*b+u[15]*k,c}function Oe(){var c=new H(4);return H!=Float32Array&&(c[0]=0,c[1]=0,c[2]=0),c[3]=1,c}function Ue(c,l,u,m){var y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",b=Math.PI/360;l*=b,m*=b,u*=b;var k=Math.sin(l),A=Math.cos(l),I=Math.sin(u),R=Math.cos(u),B=Math.sin(m),V=Math.cos(m);switch(y){case"xyz":c[0]=k*R*V+A*I*B,c[1]=A*I*V-k*R*B,c[2]=A*R*B+k*I*V,c[3]=A*R*V-k*I*B;break;case"xzy":c[0]=k*R*V-A*I*B,c[1]=A*I*V-k*R*B,c[2]=A*R*B+k*I*V,c[3]=A*R*V+k*I*B;break;case"yxz":c[0]=k*R*V+A*I*B,c[1]=A*I*V-k*R*B,c[2]=A*R*B-k*I*V,c[3]=A*R*V+k*I*B;break;case"yzx":c[0]=k*R*V+A*I*B,c[1]=A*I*V+k*R*B,c[2]=A*R*B-k*I*V,c[3]=A*R*V-k*I*B;break;case"zxy":c[0]=k*R*V-A*I*B,c[1]=A*I*V+k*R*B,c[2]=A*R*B+k*I*V,c[3]=A*R*V-k*I*B;break;case"zyx":c[0]=k*R*V-A*I*B,c[1]=A*I*V+k*R*B,c[2]=A*R*B-k*I*V,c[3]=A*R*V+k*I*B;break;default:throw new Error("Unknown angle order "+y)}return c}function $e(){var c=new H(2);return H!=Float32Array&&(c[0]=0,c[1]=0),c}function nt(c,l){var u=new H(2);return u[0]=c,u[1]=l,u}Q(),xe=new H(4),H!=Float32Array&&(xe[0]=0,xe[1]=0,xe[2]=0,xe[3]=0),Q(),te(1,0,0),te(0,1,0),Oe(),Oe(),X(),$e();const Qe=8192;function Ae(c,l,u){return l*(Qe/(c.tileSize*Math.pow(2,u-c.tileID.overscaledZ)))}function ft(c,l){return(c%l+l)%l}function Dt(c,l,u){return c*(1-u)+l*u}function Yt(c){if(c<=0)return 0;if(c>=1)return 1;const l=c*c,u=l*c;return 4*(c<.5?u:3*(c-l)+u-.75)}function wt(c,l,u,m){const y=new S(c,l,u,m);return b=>y.solve(b)}const Rt=wt(.25,.1,.25,1);function Tt(c,l,u){return Math.min(u,Math.max(l,c))}function Pt(c,l,u){const m=u-l,y=((c-l)%m+m)%m+l;return y===l?u:y}function Et(c,...l){for(const u of l)for(const m in u)c[m]=u[m];return c}let Jt=1;function ti(c,l,u){const m={};for(const y in c)m[y]=l.call(this,c[y],y,c);return m}function ui(c,l,u){const m={};for(const y in c)l.call(this,c[y],y,c)&&(m[y]=c[y]);return m}function Si(c){return Array.isArray(c)?c.map(Si):typeof c=="object"&&c?ti(c,Si):c}const Ht={};function Zt(c){Ht[c]||(typeof console<"u"&&console.warn(c),Ht[c]=!0)}function Bi(c,l,u){return(u.y-c.y)*(l.x-c.x)>(l.y-c.y)*(u.x-c.x)}function cn(c){return typeof WorkerGlobalScope<"u"&&c!==void 0&&c instanceof WorkerGlobalScope}let Ye=null;function Mn(c){return typeof ImageBitmap<"u"&&c instanceof ImageBitmap}const xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Oa(c,l,u,m,y){return a(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const b=new VideoFrame(c,{timestamp:0});try{const k=b?.format;if(!k||!k.startsWith("BGR")&&!k.startsWith("RGB"))throw new Error(`Unrecognized format ${k}`);const A=k.startsWith("BGR"),I=new Uint8ClampedArray(m*y*4);if(yield b.copyTo(I,(function(R,B,V,W,q){const J=4*Math.max(-B,0),ee=(Math.max(0,V)-V)*W*4+J,ne=4*W,le=Math.max(0,B),_e=Math.max(0,V);return{rect:{x:le,y:_e,width:Math.min(R.width,B+W)-le,height:Math.min(R.height,V+q)-_e},layout:[{offset:ee,stride:ne}]}})(c,l,u,m,y)),A)for(let R=0;R<I.length;R+=4){const B=I[R];I[R]=I[R+2],I[R+2]=B}return I}finally{b.close()}}))}let Ri,jn;function Ba(c,l,u,m){return c.addEventListener(l,u,m),{unsubscribe:()=>{c.removeEventListener(l,u,m)}}}function Ya(c){return c*Math.PI/180}function Mi(c){return c/Math.PI*180}const Re={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},ae={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},re="AbortError";class ue extends Error{constructor(l=re){super(l instanceof Error?l.message:l),this.name=re,l instanceof Error&&l.stack&&(this.stack=l.stack)}}function ke(c){return c.name===re}const Me={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function ze(c){return Me.REGISTERED_PROTOCOLS[c.substring(0,c.indexOf("://"))]}const Fe="global-dispatcher";class Le extends Error{constructor(l,u,m,y){super(`AJAXError: ${u} (${l}): ${m}`),this.status=l,this.statusText=u,this.url=m,this.body=y}}const He=()=>cn(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,tt=function(c,l){if(/:\/\//.test(c.url)&&!/^https?:|^file:/.test(c.url)){const m=ze(c.url);if(m)return m(c,l);if(cn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,targetMapId:Fe},l)}if(!(/^file:/.test(u=c.url)||/^file:/.test(He())&&!/^\w+:/.test(u))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(m,y){return a(this,void 0,void 0,(function*(){const b=new Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,cache:m.cache,referrer:He(),signal:y.signal});let k,A;m.type!=="json"||b.headers.has("Accept")||b.headers.set("Accept","application/json");try{k=yield fetch(b)}catch(R){throw ke(R)?R:new Le(0,R.message,m.url,new Blob)}if(!k.ok){const R=yield k.blob();throw new Le(k.status,k.statusText,m.url,R)}A=m.type==="arrayBuffer"||m.type==="image"?k.arrayBuffer():m.type==="json"?k.json():k.text();const I=yield A;return y.signal.throwIfAborted(),{data:I,cacheControl:k.headers.get("Cache-Control"),expires:k.headers.get("Expires")}}))})(c,l);if(cn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:c,mustQueue:!0,targetMapId:Fe},l)}var u;return(function(m,y){return new Promise(((b,k)=>{var A;const I=new XMLHttpRequest;I.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(I.responseType="arraybuffer");for(const R in m.headers)I.setRequestHeader(R,m.headers[R]);m.type==="json"&&(I.responseType="text",!((A=m.headers)===null||A===void 0)&&A.Accept||I.setRequestHeader("Accept","application/json")),I.withCredentials=m.credentials==="include",I.onerror=()=>{k(new Error(I.statusText))},I.onload=()=>{if(!y.signal.aborted)if((I.status>=200&&I.status<300||I.status===0)&&I.response!==null){let R=I.response;if(m.type==="json")try{R=JSON.parse(I.response)}catch(B){return void k(B)}b({data:R,cacheControl:I.getResponseHeader("Cache-Control"),expires:I.getResponseHeader("Expires")})}else{const R=new Blob([I.response],{type:I.getResponseHeader("Content-Type")});k(new Le(I.status,I.statusText,m.url,R))}},y.signal.addEventListener("abort",(()=>{I.abort(),k(new ue(y.signal.reason))})),I.send(m.body)}))})(c,l)};function Je(c){if(!c||c.indexOf("://")<=0||c.indexOf("data:image/")===0||c.indexOf("blob:")===0)return!0;const l=new URL(c),u=window.location;return l.protocol===u.protocol&&l.host===u.host}function _t(c,l,u){u[c]&&u[c].indexOf(l)!==-1||(u[c]=u[c]||[],u[c].push(l))}function ht(c,l,u){if(u&&u[c]){const m=u[c].indexOf(l);m!==-1&&u[c].splice(m,1)}}class Vt{constructor(l,u={}){Et(this,u),this.type=l}}class li extends Vt{constructor(l,u={}){super("error",Et({error:l},u))}}class ii{on(l,u){return this._listeners=this._listeners||{},_t(l,u,this._listeners),{unsubscribe:()=>{this.off(l,u)}}}off(l,u){return ht(l,u,this._listeners),ht(l,u,this._oneTimeListeners),this}once(l,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},_t(l,u,this._oneTimeListeners),this):new Promise((m=>this.once(l,m)))}fire(l,u){typeof l=="string"&&(l=new Vt(l,u||{}));const m=l.type;if(this.listens(m)){l.target=this;const y=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const A of y)A.call(this,l);const b=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const A of b)ht(m,A,this._oneTimeListeners),A.call(this,l);const k=this._eventedParent;k&&(Et(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),k.fire(l))}else l instanceof li&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,u){return this._eventedParent=l,this._eventedParentData=u,this}}var je={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};const _i=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function dn(c,l){const u={};for(const m in c)m!=="ref"&&(u[m]=c[m]);return _i.forEach((m=>{m in l&&(u[m]=l[m])})),u}function Nt(c,l){if(Array.isArray(c)){if(!Array.isArray(l)||c.length!==l.length)return!1;for(let u=0;u<c.length;u++)if(!Nt(c[u],l[u]))return!1;return!0}if(typeof c=="object"&&c!==null&&l!==null){if(typeof l!="object"||Object.keys(c).length!==Object.keys(l).length)return!1;for(const u in c)if(!Nt(c[u],l[u]))return!1;return!0}return c===l}function yi(c,l){c.push(l)}function Bt(c,l,u){yi(u,{command:"addSource",args:[c,l[c]]})}function St(c,l,u){yi(l,{command:"removeSource",args:[c]}),u[c]=!0}function Gt(c,l,u,m){St(c,u,m),Bt(c,l,u)}function ct(c,l,u){let m;for(m in c[u])if(Object.prototype.hasOwnProperty.call(c[u],m)&&m!=="data"&&!Nt(c[u][m],l[u][m]))return!1;for(m in l[u])if(Object.prototype.hasOwnProperty.call(l[u],m)&&m!=="data"&&!Nt(c[u][m],l[u][m]))return!1;return!0}function zt(c,l,u,m,y,b){c=c||{},l=l||{};for(const k in c)Object.prototype.hasOwnProperty.call(c,k)&&(Nt(c[k],l[k])||u.push({command:b,args:[m,k,l[k],y]}));for(const k in l)Object.prototype.hasOwnProperty.call(l,k)&&!Object.prototype.hasOwnProperty.call(c,k)&&(Nt(c[k],l[k])||u.push({command:b,args:[m,k,l[k],y]}))}function $t(c){return c.id}function Qt(c,l){return c[l.id]=l,c}class it{constructor(l,u,m,y){this.message=(l?`${l}: `:"")+m,y&&(this.identifier=y),u!=null&&u.__line__&&(this.line=u.__line__)}}function qt(c,...l){for(const u of l)for(const m in u)c[m]=u[m];return c}class fi extends Error{constructor(l,u){super(u),this.message=u,this.key=l}}class Nn{constructor(l,u=[]){this.parent=l,this.bindings={};for(const[m,y]of u)this.bindings[m]=y}concat(l){return new Nn(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const Ti={kind:"null"},ot={kind:"number"},Mt={kind:"string"},Ut={kind:"boolean"},pi={kind:"color"},la={kind:"projectionDefinition"},Xn={kind:"object"},Ft={kind:"value"},vn={kind:"collator"},Pn={kind:"formatted"},Cr={kind:"padding"},Hr={kind:"colorArray"},Ln={kind:"numberArray"},Ji={kind:"resolvedImage"},Aa={kind:"variableAnchorOffsetCollection"};function ia(c,l){return{kind:"array",itemType:c,N:l}}function Pi(c){if(c.kind==="array"){const l=Pi(c.itemType);return typeof c.N=="number"?`array<${l}, ${c.N}>`:c.itemType.kind==="value"?"array":`array<${l}>`}return c.kind}const ms=[Ti,ot,Mt,Ut,pi,la,Pn,Xn,ia(Ft),Cr,Ln,Hr,Ji,Aa];function va(c,l){if(l.kind==="error")return null;if(c.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!va(c.itemType,l.itemType))&&(typeof c.N!="number"||c.N===l.N))return null}else{if(c.kind===l.kind)return null;if(c.kind==="value"){for(const u of ms)if(!va(u,l))return null}}return`Expected ${Pi(c)} but found ${Pi(l)} instead.`}function Gr(c,l){return l.some((u=>u.kind===c.kind))}function Ar(c,l){return l.some((u=>u==="null"?c===null:u==="array"?Array.isArray(c):u==="object"?c&&!Array.isArray(c)&&typeof c=="object":u===typeof c))}function qn(c,l){return c.kind==="array"&&l.kind==="array"?c.itemType.kind===l.itemType.kind&&typeof c.N=="number":c.kind===l.kind}const Om=.96422,bo=.82521,Qu=4/29,bn=6/29,Bm=3*bn*bn,jm=bn*bn*bn,gh=Math.PI/180,Nm=180/Math.PI;function $m(c){return(c%=360)<0&&(c+=360),c}function Vm([c,l,u,m]){let y,b;const k=Xd((.2225045*(c=ec(c))+.7168786*(l=ec(l))+.0606169*(u=ec(u)))/1);c===l&&l===u?y=b=k:(y=Xd((.4360747*c+.3850649*l+.1430804*u)/Om),b=Xd((.0139322*c+.0971045*l+.7141733*u)/bo));const A=116*k-16;return[A<0?0:A,500*(y-k),200*(k-b),m]}function ec(c){return c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4)}function Xd(c){return c>jm?Math.pow(c,1/3):c/Bm+Qu}function qd([c,l,u,m]){let y=(c+16)/116,b=isNaN(l)?y:y+l/500,k=isNaN(u)?y:y-u/200;return y=1*Zd(y),b=Om*Zd(b),k=bo*Zd(k),[Yd(3.1338561*b-1.6168667*y-.4906146*k),Yd(-.9787684*b+1.9161415*y+.033454*k),Yd(.0719453*b-.2289914*y+1.4052427*k),m]}function Yd(c){return(c=c<=.00304?12.92*c:1.055*Math.pow(c,1/2.4)-.055)<0?0:c>1?1:c}function Zd(c){return c>bn?c*c*c:Bm*(c-Qu)}const _x=Object.hasOwn||function(c,l){return Object.prototype.hasOwnProperty.call(c,l)};function _h(c,l){return _x(c,l)?c[l]:void 0}function tc(c){return parseInt(c.padEnd(2,c),16)/255}function Hm(c,l){return hl(l?c/100:c,0,1)}function hl(c,l,u){return Math.min(Math.max(l,c),u)}function Kd(c){return!c.some(Number.isNaN)}const yh={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Ys(c,l,u){return c+u*(l-c)}function ul(c,l,u){return c.map(((m,y)=>Ys(m,l[y],u)))}class ai{constructor(l,u,m,y=1,b=!0){this.r=l,this.g=u,this.b=m,this.a=y,b||(this.r*=y,this.g*=y,this.b*=y,y||this.overwriteGetter("rgb",[l,u,m,y]))}static parse(l){if(l instanceof ai)return l;if(typeof l!="string")return;const u=(function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const y=_h(yh,m);if(y){const[k,A,I]=y;return[k/255,A/255,I/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const k=m.length<6?1:2;let A=1;return[tc(m.slice(A,A+=k)),tc(m.slice(A,A+=k)),tc(m.slice(A,A+=k)),tc(m.slice(A,A+k)||"ff")]}if(m.startsWith("rgb")){const k=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(k){const[A,I,R,B,V,W,q,J,ee,ne,le,_e]=k,he=[B||" ",q||" ",ne].join("");if(he==="  "||he==="  /"||he===",,"||he===",,,"){const de=[R,W,ee].join(""),be=de==="%%%"?100:de===""?255:0;if(be){const Te=[hl(+I/be,0,1),hl(+V/be,0,1),hl(+J/be,0,1),le?Hm(+le,_e):1];if(Kd(Te))return Te}}return}}const b=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[k,A,I,R,B,V,W,q,J]=b,ee=[I||" ",B||" ",W].join("");if(ee==="  "||ee==="  /"||ee===",,"||ee===",,,"){const ne=[+A,hl(+R,0,100),hl(+V,0,100),q?Hm(+q,J):1];if(Kd(ne))return(function([le,_e,he,de]){function be(Te){const Ne=(Te+le/30)%12,et=_e*Math.min(he,1-he);return he-et*Math.max(-1,Math.min(Ne-3,9-Ne,1))}return le=$m(le),_e/=100,he/=100,[be(0),be(8),be(4),de]})(ne)}}})(l);return u?new ai(...u,!1):void 0}get rgb(){const{r:l,g:u,b:m,a:y}=this,b=y||1/0;return this.overwriteGetter("rgb",[l/b,u/b,m/b,y])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[u,m,y,b]=Vm(l),k=Math.sqrt(m*m+y*y);return[Math.round(1e4*k)?$m(Math.atan2(y,m)*Nm):NaN,k,u,b]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Vm(this.rgb))}overwriteGetter(l,u){return Object.defineProperty(this,l,{value:u}),u}toString(){const[l,u,m,y]=this.rgb;return`rgba(${[l,u,m].map((b=>Math.round(255*b))).join(",")},${y})`}static interpolate(l,u,m,y="rgb"){switch(y){case"rgb":{const[b,k,A,I]=ul(l.rgb,u.rgb,m);return new ai(b,k,A,I,!1)}case"hcl":{const[b,k,A,I]=l.hcl,[R,B,V,W]=u.hcl;let q,J;if(isNaN(b)||isNaN(R))isNaN(b)?isNaN(R)?q=NaN:(q=R,A!==1&&A!==0||(J=B)):(q=b,V!==1&&V!==0||(J=k));else{let he=R-b;R>b&&he>180?he-=360:R<b&&b-R>180&&(he+=360),q=b+m*he}const[ee,ne,le,_e]=(function([he,de,be,Te]){return he=isNaN(he)?0:he*gh,qd([be,Math.cos(he)*de,Math.sin(he)*de,Te])})([q,J??Ys(k,B,m),Ys(A,V,m),Ys(I,W,m)]);return new ai(ee,ne,le,_e,!1)}case"lab":{const[b,k,A,I]=qd(ul(l.lab,u.lab,m));return new ai(b,k,A,I,!1)}}}}ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1);class Jd{constructor(l,u,m){this.sensitivity=l?u?"variant":"case":u?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,u){return this.collator.compare(l,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const yx=["bottom","center","top"];class Qd{constructor(l,u,m,y,b,k){this.text=l,this.image=u,this.scale=m,this.fontStack=y,this.textColor=b,this.verticalAlign=k}}class Za{constructor(l){this.sections=l}static fromString(l){return new Za([new Qd(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof Za?l:Za.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class Ma{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Ma)return l;if(typeof l=="number")return new Ma([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const u of l)if(typeof u!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new Ma(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,u,m){return new Ma(ul(l.values,u.values,m))}}class fn{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof fn)return l;if(typeof l=="number")return new fn([l]);if(Array.isArray(l)){for(const u of l)if(typeof u!="number")return;return new fn(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,u,m){return new fn(ul(l.values,u.values,m))}}class Xt{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof Xt)return l;if(typeof l=="string"){const m=ai.parse(l);return m?new Xt([m]):void 0}if(!Array.isArray(l))return;const u=[];for(const m of l){if(typeof m!="string")return;const y=ai.parse(m);if(!y)return;u.push(y)}return new Xt(u)}toString(){return JSON.stringify(this.values)}static interpolate(l,u,m,y="rgb"){const b=[];if(l.values.length!=u.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${u.values.length}), cannot interpolate.`);for(let k=0;k<l.values.length;k++)b.push(ai.interpolate(l.values[k],u.values[k],m,y));return new Xt(b)}}class $i extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const Zs=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ja{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ja)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let u=0;u<l.length;u+=2){const m=l[u],y=l[u+1];if(typeof m!="string"||!Zs.has(m)||!Array.isArray(y)||y.length!==2||typeof y[0]!="number"||typeof y[1]!="number")return}return new ja(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,u,m){const y=l.values,b=u.values;if(y.length!==b.length)throw new $i(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${u.toString()}`);const k=[];for(let A=0;A<y.length;A+=2){if(y[A]!==b[A])throw new $i(`Cannot interpolate values containing mismatched anchors. from[${A}]: ${y[A]}, to[${A}]: ${b[A]}`);k.push(y[A]);const[I,R]=y[A+1],[B,V]=b[A+1];k.push([Ys(I,B,m),Ys(R,V,m)])}return new ja(k)}}class ur{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new ur({name:l,available:!1}):null}}class Na{constructor(l,u,m){this.from=l,this.to=u,this.transition=m}static interpolate(l,u,m){return new Na(l,u,m)}static parse(l){return l instanceof Na?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new Na(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new Na(l.from,l.to,l.transition):typeof l=="string"?new Na(l,l,1):void 0}}function cl(c,l,u,m){return typeof c=="number"&&c>=0&&c<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof u=="number"&&u>=0&&u<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[c,l,u,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[c,l,u,m]:[c,l,u]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ks(c){if(c===null||typeof c=="string"||typeof c=="boolean"||typeof c=="number"||c instanceof Na||c instanceof ai||c instanceof Jd||c instanceof Za||c instanceof Ma||c instanceof fn||c instanceof Xt||c instanceof ja||c instanceof ur)return!0;if(Array.isArray(c)){for(const l of c)if(!Ks(l))return!1;return!0}if(typeof c=="object"){for(const l in c)if(!Ks(c[l]))return!1;return!0}return!1}function En(c){if(c===null)return Ti;if(typeof c=="string")return Mt;if(typeof c=="boolean")return Ut;if(typeof c=="number")return ot;if(c instanceof ai)return pi;if(c instanceof Na)return la;if(c instanceof Jd)return vn;if(c instanceof Za)return Pn;if(c instanceof Ma)return Cr;if(c instanceof fn)return Ln;if(c instanceof Xt)return Hr;if(c instanceof ja)return Aa;if(c instanceof ur)return Ji;if(Array.isArray(c)){const l=c.length;let u;for(const m of c){const y=En(m);if(u){if(u===y)continue;u=Ft;break}u=y}return ia(u||Ft,l)}return Xn}function wo(c){const l=typeof c;return c===null?"":l==="string"||l==="number"||l==="boolean"?String(c):c instanceof ai||c instanceof Na||c instanceof Za||c instanceof Ma||c instanceof fn||c instanceof Xt||c instanceof ja||c instanceof ur?c.toString():JSON.stringify(c)}class gs{constructor(l,u){this.type=l,this.value=u}static parse(l,u){if(l.length!==2)return u.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!Ks(l[1]))return u.error("invalid value");const m=l[1];let y=En(m);const b=u.expectedType;return y.kind!=="array"||y.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(y=b),new gs(y,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const ic={string:Mt,number:ot,boolean:Ut,object:Xn};class Ka{constructor(l,u){this.type=l,this.args=u}static parse(l,u){if(l.length<2)return u.error("Expected at least one argument.");let m,y=1;const b=l[0];if(b==="array"){let A,I;if(l.length>2){const R=l[1];if(typeof R!="string"||!(R in ic)||R==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);A=ic[R],y++}else A=Ft;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return u.error('The length argument to "array" must be a positive integer literal',2);I=l[2],y++}m=ia(A,I)}else{if(!ic[b])throw new Error(`Types doesn't contain name = ${b}`);m=ic[b]}const k=[];for(;y<l.length;y++){const A=u.parse(l[y],y,Ft);if(!A)return null;k.push(A)}return new Ka(m,k)}evaluate(l){for(let u=0;u<this.args.length;u++){const m=this.args[u].evaluate(l);if(!va(this.type,En(m)))return m;if(u===this.args.length-1)throw new $i(`Expected value to be of type ${Pi(this.type)}, but found ${Pi(En(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const ko={"to-boolean":Ut,"to-color":pi,"to-number":ot,"to-string":Mt};class Ds{constructor(l,u){this.type=l,this.args=u}static parse(l,u){if(l.length<2)return u.error("Expected at least one argument.");const m=l[0];if(!ko[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return u.error("Expected one argument.");const y=ko[m],b=[];for(let k=1;k<l.length;k++){const A=u.parse(l[k],k,Ft);if(!A)return null;b.push(A)}return new Ds(y,b)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let u,m;for(const y of this.args){if(u=y.evaluate(l),m=null,u instanceof ai)return u;if(typeof u=="string"){const b=l.parseColor(u);if(b)return b}else if(Array.isArray(u)&&(m=u.length<3||u.length>4?`Invalid rgba value ${JSON.stringify(u)}: expected an array containing either three or four numeric values.`:cl(u[0],u[1],u[2],u[3]),!m))return new ai(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new $i(m||`Could not parse color from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"padding":{let u;for(const m of this.args){u=m.evaluate(l);const y=Ma.parse(u);if(y)return y}throw new $i(`Could not parse padding from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"numberArray":{let u;for(const m of this.args){u=m.evaluate(l);const y=fn.parse(u);if(y)return y}throw new $i(`Could not parse numberArray from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"colorArray":{let u;for(const m of this.args){u=m.evaluate(l);const y=Xt.parse(u);if(y)return y}throw new $i(`Could not parse colorArray from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"variableAnchorOffsetCollection":{let u;for(const m of this.args){u=m.evaluate(l);const y=ja.parse(u);if(y)return y}throw new $i(`Could not parse variableAnchorOffsetCollection from value '${typeof u=="string"?u:JSON.stringify(u)}'`)}case"number":{let u=null;for(const m of this.args){if(u=m.evaluate(l),u===null)return 0;const y=Number(u);if(!isNaN(y))return y}throw new $i(`Could not convert ${JSON.stringify(u)} to number.`)}case"formatted":return Za.fromString(wo(this.args[0].evaluate(l)));case"resolvedImage":return ur.fromString(wo(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return wo(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const Gm=["Unknown","Point","LineString","Polygon"];class ef{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Gm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let u=this._parseColorCache.get(l);return u||(u=ai.parse(l),this._parseColorCache.set(l,u)),u}}class So{constructor(l,u,m=[],y,b=new Nn,k=[]){this.registry=l,this.path=m,this.key=m.map((A=>`[${A}]`)).join(""),this.scope=b,this.errors=k,this.expectedType=y,this._isConstant=u}parse(l,u,m,y,b={}){return u?this.concat(u,m,y)._parse(l,b):this._parse(l,b)}_parse(l,u){function m(y,b,k){return k==="assert"?new Ka(b,[y]):k==="coerce"?new Ds(b,[y]):y}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=l[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[y];if(b){let k=b.parse(l,this);if(!k)return null;if(this.expectedType){const A=this.expectedType,I=k.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||I.kind!=="value"){if(A.kind==="projectionDefinition"&&["string","array"].includes(I.kind)||["color","formatted","resolvedImage"].includes(A.kind)&&["value","string"].includes(I.kind)||["padding","numberArray"].includes(A.kind)&&["value","number","array"].includes(I.kind)||A.kind==="colorArray"&&["value","string","array"].includes(I.kind)||A.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(I.kind))k=m(k,A,u.typeAnnotation||"coerce");else if(this.checkSubtype(A,I))return null}else k=m(k,A,u.typeAnnotation||"assert")}if(!(k instanceof gs)&&k.type.kind!=="resolvedImage"&&this._isConstant(k)){const A=new ef;try{k=new gs(k.type,k.evaluate(A))}catch(I){return this.error(I.message),null}}return k}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,u,m){const y=typeof l=="number"?this.path.concat(l):this.path,b=m?this.scope.concat(m):this.scope;return new So(this.registry,this._isConstant,y,u||null,b,this.errors)}error(l,...u){const m=`${this.key}${u.map((y=>`[${y}]`)).join("")}`;this.errors.push(new fi(m,l))}checkSubtype(l,u){const m=va(l,u);return m&&this.error(m),m}}class Vi{constructor(l,u){this.type=u.type,this.bindings=[].concat(l),this.result=u}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const u of this.bindings)l(u[1]);l(this.result)}static parse(l,u){if(l.length<4)return u.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let b=1;b<l.length-1;b+=2){const k=l[b];if(typeof k!="string")return u.error(`Expected string, but found ${typeof k} instead.`,b);if(/[^a-zA-Z0-9_]/.test(k))return u.error("Variable names must contain only alphanumeric characters or '_'.",b);const A=u.parse(l[b+1],b+1);if(!A)return null;m.push([k,A])}const y=u.parse(l[l.length-1],l.length-1,u.expectedType,m);return y?new Vi(m,y):null}outputDefined(){return this.result.outputDefined()}}class dl{constructor(l,u){this.type=u.type,this.name=l,this.boundExpression=u}static parse(l,u){if(l.length!==2||typeof l[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const m=l[1];return u.scope.has(m)?new dl(m,u.scope.get(m)):u.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class mi{constructor(l,u,m){this.type=l,this.index=u,this.input=m}static parse(l,u){if(l.length!==3)return u.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=u.parse(l[1],1,ot),y=u.parse(l[2],2,ia(u.expectedType||Ft));return m&&y?new mi(y.type.itemType,m,y):null}evaluate(l){const u=this.index.evaluate(l),m=this.input.evaluate(l);if(u<0)throw new $i(`Array index out of bounds: ${u} < 0.`);if(u>=m.length)throw new $i(`Array index out of bounds: ${u} > ${m.length-1}.`);if(u!==Math.floor(u))throw new $i(`Array index must be an integer, but found ${u} instead.`);return m[u]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class ni{constructor(l,u){this.type=Ut,this.needle=l,this.haystack=u}static parse(l,u){if(l.length!==3)return u.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=u.parse(l[1],1,Ft),y=u.parse(l[2],2,Ft);return m&&y?Gr(m.type,[Ut,Mt,ot,Ti,Ft])?new ni(m,y):u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(m.type)} instead`):null}evaluate(l){const u=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!Ar(u,["boolean","string","number","null"]))throw new $i(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(En(u))} instead.`);if(!Ar(m,["string","array"]))throw new $i(`Expected second argument to be of type array or string, but found ${Pi(En(m))} instead.`);return m.indexOf(u)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class fl{constructor(l,u,m){this.type=ot,this.needle=l,this.haystack=u,this.fromIndex=m}static parse(l,u){if(l.length<=2||l.length>=5)return u.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const m=u.parse(l[1],1,Ft),y=u.parse(l[2],2,Ft);if(!m||!y)return null;if(!Gr(m.type,[Ut,Mt,ot,Ti,Ft]))return u.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(m.type)} instead`);if(l.length===4){const b=u.parse(l[3],3,ot);return b?new fl(m,y,b):null}return new fl(m,y)}evaluate(l){const u=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!Ar(u,["boolean","string","number","null"]))throw new $i(`Expected first argument to be of type boolean, string, number or null, but found ${Pi(En(u))} instead.`);let y;if(this.fromIndex&&(y=this.fromIndex.evaluate(l)),Ar(m,["string"])){const b=m.indexOf(u,y);return b===-1?-1:[...m.slice(0,b)].length}if(Ar(m,["array"]))return m.indexOf(u,y);throw new $i(`Expected second argument to be of type array or string, but found ${Pi(En(m))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class xi{constructor(l,u,m,y,b,k){this.inputType=l,this.type=u,this.input=m,this.cases=y,this.outputs=b,this.otherwise=k}static parse(l,u){if(l.length<5)return u.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return u.error("Expected an even number of arguments.");let m,y;u.expectedType&&u.expectedType.kind!=="value"&&(y=u.expectedType);const b={},k=[];for(let R=2;R<l.length-1;R+=2){let B=l[R];const V=l[R+1];Array.isArray(B)||(B=[B]);const W=u.concat(R);if(B.length===0)return W.error("Expected at least one branch label.");for(const J of B){if(typeof J!="number"&&typeof J!="string")return W.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return W.error("Numeric branch labels must be integer values.");if(m){if(W.checkSubtype(m,En(J)))return null}else m=En(J);if(b[String(J)]!==void 0)return W.error("Branch labels must be unique.");b[String(J)]=k.length}const q=u.parse(V,R,y);if(!q)return null;y=y||q.type,k.push(q)}const A=u.parse(l[1],1,Ft);if(!A)return null;const I=u.parse(l[l.length-1],l.length-1,y);return I?A.type.kind!=="value"&&u.concat(1).checkSubtype(m,A.type)?null:new xi(m,y,A,b,k,I):null}evaluate(l){const u=this.input.evaluate(l);return(En(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class xh{constructor(l,u,m){this.type=l,this.branches=u,this.otherwise=m}static parse(l,u){if(l.length<4)return u.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return u.error("Expected an odd number of arguments.");let m;u.expectedType&&u.expectedType.kind!=="value"&&(m=u.expectedType);const y=[];for(let k=1;k<l.length-1;k+=2){const A=u.parse(l[k],k,Ut);if(!A)return null;const I=u.parse(l[k+1],k+1,m);if(!I)return null;y.push([A,I]),m=m||I.type}const b=u.parse(l[l.length-1],l.length-1,m);if(!b)return null;if(!m)throw new Error("Can't infer output type");return new xh(m,y,b)}evaluate(l){for(const[u,m]of this.branches)if(u.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[u,m]of this.branches)l(u),l(m);l(this.otherwise)}outputDefined(){return this.branches.every((([l,u])=>u.outputDefined()))&&this.otherwise.outputDefined()}}class Mr{constructor(l,u,m,y){this.type=l,this.input=u,this.beginIndex=m,this.endIndex=y}static parse(l,u){if(l.length<=2||l.length>=5)return u.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const m=u.parse(l[1],1,Ft),y=u.parse(l[2],2,ot);if(!m||!y)return null;if(!Gr(m.type,[ia(Ft),Mt,Ft]))return u.error(`Expected first argument to be of type array or string, but found ${Pi(m.type)} instead`);if(l.length===4){const b=u.parse(l[3],3,ot);return b?new Mr(m.type,m,y,b):null}return new Mr(m.type,m,y)}evaluate(l){const u=this.input.evaluate(l),m=this.beginIndex.evaluate(l);let y;if(this.endIndex&&(y=this.endIndex.evaluate(l)),Ar(u,["string"]))return[...u].slice(m,y).join("");if(Ar(u,["array"]))return u.slice(m,y);throw new $i(`Expected first argument to be of type array or string, but found ${Pi(En(u))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function pl(c,l){const u=c.length-1;let m,y,b=0,k=u,A=0;for(;b<=k;)if(A=Math.floor((b+k)/2),m=c[A],y=c[A+1],m<=l){if(A===u||l<y)return A;b=A+1}else{if(!(m>l))throw new $i("Input is not a number.");k=A-1}return 0}class Js{constructor(l,u,m){this.type=l,this.input=u,this.labels=[],this.outputs=[];for(const[y,b]of m)this.labels.push(y),this.outputs.push(b)}static parse(l,u){if(l.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return u.error("Expected an even number of arguments.");const m=u.parse(l[1],1,ot);if(!m)return null;const y=[];let b=null;u.expectedType&&u.expectedType.kind!=="value"&&(b=u.expectedType);for(let k=1;k<l.length;k+=2){const A=k===1?-1/0:l[k],I=l[k+1],R=k,B=k+1;if(typeof A!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',R);if(y.length&&y[y.length-1][0]>=A)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',R);const V=u.parse(I,B,b);if(!V)return null;b=b||V.type,y.push([A,V])}return new Js(b,m,y)}evaluate(l){const u=this.labels,m=this.outputs;if(u.length===1)return m[0].evaluate(l);const y=this.input.evaluate(l);if(y<=u[0])return m[0].evaluate(l);const b=u.length;return y>=u[b-1]?m[b-1].evaluate(l):m[pl(u,y)].evaluate(l)}eachChild(l){l(this.input);for(const u of this.outputs)l(u)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Um(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var vh,tf,xx=(function(){if(tf)return vh;function c(l,u,m,y){this.cx=3*l,this.bx=3*(m-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*u,this.by=3*(y-u)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=u,this.p2x=m,this.p2y=y}return tf=1,vh=c,c.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,u){if(u===void 0&&(u=1e-6),l<0)return 0;if(l>1)return 1;for(var m=l,y=0;y<8;y++){var b=this.sampleCurveX(m)-l;if(Math.abs(b)<u)return m;var k=this.sampleCurveDerivativeX(m);if(Math.abs(k)<1e-6)break;m-=b/k}var A=0,I=1;for(m=l,y=0;y<20&&(b=this.sampleCurveX(m),!(Math.abs(b-l)<u));y++)l>b?A=m:I=m,m=.5*(I-A)+A;return m},solve:function(l,u){return this.sampleCurveY(this.solveCurveX(l,u))}},vh})(),Wm=Um(xx);class $a{constructor(l,u,m,y,b){this.type=l,this.operator=u,this.interpolation=m,this.input=y,this.labels=[],this.outputs=[];for(const[k,A]of b)this.labels.push(k),this.outputs.push(A)}static interpolationFactor(l,u,m,y){let b=0;if(l.name==="exponential")b=_s(u,l.base,m,y);else if(l.name==="linear")b=_s(u,1,m,y);else if(l.name==="cubic-bezier"){const k=l.controlPoints;b=new Wm(k[0],k[1],k[2],k[3]).solve(_s(u,1,m,y))}return b}static parse(l,u){let[m,y,b,...k]=l;if(!Array.isArray(y)||y.length===0)return u.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const R=y[1];if(typeof R!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:R}}else{if(y[0]!=="cubic-bezier")return u.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const R=y.slice(1);if(R.length!==4||R.some((B=>typeof B!="number"||B<0||B>1)))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:R}}}if(l.length-1<4)return u.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(b=u.parse(b,2,ot),!b)return null;const A=[];let I=null;m!=="interpolate-hcl"&&m!=="interpolate-lab"||u.expectedType==Hr?u.expectedType&&u.expectedType.kind!=="value"&&(I=u.expectedType):I=pi;for(let R=0;R<k.length;R+=2){const B=k[R],V=k[R+1],W=R+3,q=R+4;if(typeof B!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(A.length&&A[A.length-1][0]>=B)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const J=u.parse(V,q,I);if(!J)return null;I=I||J.type,A.push([B,J])}return qn(I,ot)||qn(I,la)||qn(I,pi)||qn(I,Cr)||qn(I,Ln)||qn(I,Hr)||qn(I,Aa)||qn(I,ia(ot))?new $a(I,m,y,b,A):u.error(`Type ${Pi(I)} is not interpolatable.`)}evaluate(l){const u=this.labels,m=this.outputs;if(u.length===1)return m[0].evaluate(l);const y=this.input.evaluate(l);if(y<=u[0])return m[0].evaluate(l);const b=u.length;if(y>=u[b-1])return m[b-1].evaluate(l);const k=pl(u,y),A=$a.interpolationFactor(this.interpolation,y,u[k],u[k+1]),I=m[k].evaluate(l),R=m[k+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Ys(I,R,A);case"color":return ai.interpolate(I,R,A);case"padding":return Ma.interpolate(I,R,A);case"colorArray":return Xt.interpolate(I,R,A);case"numberArray":return fn.interpolate(I,R,A);case"variableAnchorOffsetCollection":return ja.interpolate(I,R,A);case"array":return ul(I,R,A);case"projectionDefinition":return Na.interpolate(I,R,A)}case"interpolate-hcl":switch(this.type.kind){case"color":return ai.interpolate(I,R,A,"hcl");case"colorArray":return Xt.interpolate(I,R,A,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return ai.interpolate(I,R,A,"lab");case"colorArray":return Xt.interpolate(I,R,A,"lab")}}}eachChild(l){l(this.input);for(const u of this.outputs)l(u)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function _s(c,l,u,m){const y=m-u,b=c-u;return y===0?0:l===1?b/y:(Math.pow(l,b)-1)/(Math.pow(l,y)-1)}const an={color:ai.interpolate,number:Ys,padding:Ma.interpolate,numberArray:fn.interpolate,colorArray:Xt.interpolate,variableAnchorOffsetCollection:ja.interpolate,array:ul};class To{constructor(l,u){this.type=l,this.args=u}static parse(l,u){if(l.length<2)return u.error("Expected at least one argument.");let m=null;const y=u.expectedType;y&&y.kind!=="value"&&(m=y);const b=[];for(const A of l.slice(1)){const I=u.parse(A,1+b.length,m,void 0,{typeAnnotation:"omit"});if(!I)return null;m=m||I.type,b.push(I)}if(!m)throw new Error("No output type");const k=y&&b.some((A=>va(y,A.type)));return new To(k?Ft:m,b)}evaluate(l){let u,m=null,y=0;for(const b of this.args)if(y++,m=b.evaluate(l),m&&m instanceof ur&&!m.available&&(u||(u=m.name),m=null,y===this.args.length&&(m=u)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function nf(c,l){return c==="=="||c==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function bh(c,l,u,m){return m.compare(l,u)===0}function wn(c,l,u){const m=c!=="=="&&c!=="!=";return class N2{constructor(b,k,A){this.type=Ut,this.lhs=b,this.rhs=k,this.collator=A,this.hasUntypedArgument=b.type.kind==="value"||k.type.kind==="value"}static parse(b,k){if(b.length!==3&&b.length!==4)return k.error("Expected two or three arguments.");const A=b[0];let I=k.parse(b[1],1,Ft);if(!I)return null;if(!nf(A,I.type))return k.concat(1).error(`"${A}" comparisons are not supported for type '${Pi(I.type)}'.`);let R=k.parse(b[2],2,Ft);if(!R)return null;if(!nf(A,R.type))return k.concat(2).error(`"${A}" comparisons are not supported for type '${Pi(R.type)}'.`);if(I.type.kind!==R.type.kind&&I.type.kind!=="value"&&R.type.kind!=="value")return k.error(`Cannot compare types '${Pi(I.type)}' and '${Pi(R.type)}'.`);m&&(I.type.kind==="value"&&R.type.kind!=="value"?I=new Ka(R.type,[I]):I.type.kind!=="value"&&R.type.kind==="value"&&(R=new Ka(I.type,[R])));let B=null;if(b.length===4){if(I.type.kind!=="string"&&R.type.kind!=="string"&&I.type.kind!=="value"&&R.type.kind!=="value")return k.error("Cannot use collator to compare non-string types.");if(B=k.parse(b[3],3,vn),!B)return null}return new N2(I,R,B)}evaluate(b){const k=this.lhs.evaluate(b),A=this.rhs.evaluate(b);if(m&&this.hasUntypedArgument){const I=En(k),R=En(A);if(I.kind!==R.kind||I.kind!=="string"&&I.kind!=="number")throw new $i(`Expected arguments for "${c}" to be (string, string) or (number, number), but found (${I.kind}, ${R.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const I=En(k),R=En(A);if(I.kind!=="string"||R.kind!=="string")return l(b,k,A)}return this.collator?u(b,k,A,this.collator.evaluate(b)):l(b,k,A)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const Xm=wn("==",(function(c,l,u){return l===u}),bh),af=wn("!=",(function(c,l,u){return l!==u}),(function(c,l,u,m){return!bh(0,l,u,m)})),qm=wn("<",(function(c,l,u){return l<u}),(function(c,l,u,m){return m.compare(l,u)<0})),vx=wn(">",(function(c,l,u){return l>u}),(function(c,l,u,m){return m.compare(l,u)>0})),ml=wn("<=",(function(c,l,u){return l<=u}),(function(c,l,u,m){return m.compare(l,u)<=0})),nc=wn(">=",(function(c,l,u){return l>=u}),(function(c,l,u,m){return m.compare(l,u)>=0}));class gl{constructor(l,u,m){this.type=vn,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=u}static parse(l,u){if(l.length!==2)return u.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return u.error("Collator options argument must be an object.");const y=u.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,Ut);if(!y)return null;const b=u.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,Ut);if(!b)return null;let k=null;return m.locale&&(k=u.parse(m.locale,1,Mt),!k)?null:new gl(y,b,k)}evaluate(l){return new Jd(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class rf{constructor(l,u,m,y,b){this.type=Mt,this.number=l,this.locale=u,this.currency=m,this.minFractionDigits=y,this.maxFractionDigits=b}static parse(l,u){if(l.length!==3)return u.error("Expected two arguments.");const m=u.parse(l[1],1,ot);if(!m)return null;const y=l[2];if(typeof y!="object"||Array.isArray(y))return u.error("NumberFormat options argument must be an object.");let b=null;if(y.locale&&(b=u.parse(y.locale,1,Mt),!b))return null;let k=null;if(y.currency&&(k=u.parse(y.currency,1,Mt),!k))return null;let A=null;if(y["min-fraction-digits"]&&(A=u.parse(y["min-fraction-digits"],1,ot),!A))return null;let I=null;return y["max-fraction-digits"]&&(I=u.parse(y["max-fraction-digits"],1,ot),!I)?null:new rf(m,b,k,A,I)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class wh{constructor(l){this.type=Pn,this.sections=l}static parse(l,u){if(l.length<2)return u.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return u.error("First argument must be an image or text section.");const y=[];let b=!1;for(let k=1;k<=l.length-1;++k){const A=l[k];if(b&&typeof A=="object"&&!Array.isArray(A)){b=!1;let I=null;if(A["font-scale"]&&(I=u.parse(A["font-scale"],1,ot),!I))return null;let R=null;if(A["text-font"]&&(R=u.parse(A["text-font"],1,ia(Mt)),!R))return null;let B=null;if(A["text-color"]&&(B=u.parse(A["text-color"],1,pi),!B))return null;let V=null;if(A["vertical-align"]){if(typeof A["vertical-align"]=="string"&&!yx.includes(A["vertical-align"]))return u.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${A["vertical-align"]}' instead.`);if(V=u.parse(A["vertical-align"],1,Mt),!V)return null}const W=y[y.length-1];W.scale=I,W.font=R,W.textColor=B,W.verticalAlign=V}else{const I=u.parse(l[k],1,Ft);if(!I)return null;const R=I.type.kind;if(R!=="string"&&R!=="value"&&R!=="null"&&R!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,y.push({content:I,scale:null,font:null,textColor:null,verticalAlign:null})}}return new wh(y)}evaluate(l){return new Za(this.sections.map((u=>{const m=u.content.evaluate(l);return En(m)===Ji?new Qd("",m,null,null,null,u.verticalAlign?u.verticalAlign.evaluate(l):null):new Qd(wo(m),null,u.scale?u.scale.evaluate(l):null,u.font?u.font.evaluate(l).join(","):null,u.textColor?u.textColor.evaluate(l):null,u.verticalAlign?u.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const u of this.sections)l(u.content),u.scale&&l(u.scale),u.font&&l(u.font),u.textColor&&l(u.textColor),u.verticalAlign&&l(u.verticalAlign)}outputDefined(){return!1}}class _l{constructor(l){this.type=Ji,this.input=l}static parse(l,u){if(l.length!==2)return u.error("Expected two arguments.");const m=u.parse(l[1],1,Mt);return m?new _l(m):u.error("No image name provided.")}evaluate(l){const u=this.input.evaluate(l),m=ur.fromString(u);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(u)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class yl{constructor(l){this.type=ot,this.input=l}static parse(l,u){if(l.length!==2)return u.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=u.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?u.error(`Expected argument of type string or array, but found ${Pi(m.type)} instead.`):new yl(m):null}evaluate(l){const u=this.input.evaluate(l);if(typeof u=="string")return[...u].length;if(Array.isArray(u))return u.length;throw new $i(`Expected value to be of type string or array, but found ${Pi(En(u))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Yn=8192;function Ym(c,l){const u=(180+c[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c[1]*Math.PI/360)))/360,y=Math.pow(2,l.z);return[Math.round(u*y*Yn),Math.round(m*y*Yn)]}function xl(c,l){const u=Math.pow(2,l.z);return[(y=(c[0]/Yn+l.x)/u,360*y-180),(m=(c[1]/Yn+l.y)/u,360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90)];var m,y}function kh(c,l){c[0]=Math.min(c[0],l[0]),c[1]=Math.min(c[1],l[1]),c[2]=Math.max(c[2],l[0]),c[3]=Math.max(c[3],l[1])}function Co(c,l){return!(c[0]<=l[0]||c[2]>=l[2]||c[1]<=l[1]||c[3]>=l[3])}function bx(c,l,u){const m=c[0]-l[0],y=c[1]-l[1],b=c[0]-u[0],k=c[1]-u[1];return m*k-b*y==0&&m*b<=0&&y*k<=0}function ac(c,l,u,m){return(y=[m[0]-u[0],m[1]-u[1]])[0]*(b=[l[0]-c[0],l[1]-c[1]])[1]-y[1]*b[0]!=0&&!(!sf(c,l,u,m)||!sf(u,m,c,l));var y,b}function wx(c,l,u){for(const m of u)for(let y=0;y<m.length-1;++y)if(ac(c,l,m[y],m[y+1]))return!0;return!1}function vl(c,l,u=!1){let m=!1;for(const A of l)for(let I=0;I<A.length-1;I++){if(bx(c,A[I],A[I+1]))return u;(b=A[I])[1]>(y=c)[1]!=(k=A[I+1])[1]>y[1]&&y[0]<(k[0]-b[0])*(y[1]-b[1])/(k[1]-b[1])+b[0]&&(m=!m)}var y,b,k;return m}function rc(c,l){for(const u of l)if(vl(c,u))return!0;return!1}function Zm(c,l){for(const u of c)if(!vl(u,l))return!1;for(let u=0;u<c.length-1;++u)if(wx(c[u],c[u+1],l))return!1;return!0}function Km(c,l){for(const u of l)if(Zm(c,u))return!0;return!1}function sf(c,l,u,m){const y=m[0]-u[0],b=m[1]-u[1],k=(c[0]-u[0])*b-y*(c[1]-u[1]),A=(l[0]-u[0])*b-y*(l[1]-u[1]);return k>0&&A<0||k<0&&A>0}function of(c,l,u){const m=[];for(let y=0;y<c.length;y++){const b=[];for(let k=0;k<c[y].length;k++){const A=Ym(c[y][k],u);kh(l,A),b.push(A)}m.push(b)}return m}function lf(c,l,u){const m=[];for(let y=0;y<c.length;y++){const b=of(c[y],l,u);m.push(b)}return m}function Jm(c,l,u,m){if(c[0]<u[0]||c[0]>u[2]){const y=.5*m;let b=c[0]-u[0]>y?-m:u[0]-c[0]>y?m:0;b===0&&(b=c[0]-u[2]>y?-m:u[2]-c[0]>y?m:0),c[0]+=b}kh(l,c)}function Qm(c,l,u,m){const y=Math.pow(2,m.z)*Yn,b=[m.x*Yn,m.y*Yn],k=[];for(const A of c)for(const I of A){const R=[I.x+b[0],I.y+b[1]];Jm(R,l,u,y),k.push(R)}return k}function eg(c,l,u,m){const y=Math.pow(2,m.z)*Yn,b=[m.x*Yn,m.y*Yn],k=[];for(const I of c){const R=[];for(const B of I){const V=[B.x+b[0],B.y+b[1]];kh(l,V),R.push(V)}k.push(R)}if(l[2]-l[0]<=y/2){(A=l)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const I of k)for(const R of I)Jm(R,l,u,y)}var A;return k}class Ao{constructor(l,u){this.type=Ut,this.geojson=l,this.geometries=u}static parse(l,u){if(l.length!==2)return u.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Ks(l[1])){const m=l[1];if(m.type==="FeatureCollection"){const y=[];for(const b of m.features){const{type:k,coordinates:A}=b.geometry;k==="Polygon"&&y.push(A),k==="MultiPolygon"&&y.push(...A)}if(y.length)return new Ao(m,{type:"MultiPolygon",coordinates:y})}else if(m.type==="Feature"){const y=m.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Ao(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new Ao(m,m)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(u,m){const y=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],k=u.canonicalID();if(m.type==="Polygon"){const A=of(m.coordinates,b,k),I=Qm(u.geometry(),y,b,k);if(!Co(y,b))return!1;for(const R of I)if(!vl(R,A))return!1}if(m.type==="MultiPolygon"){const A=lf(m.coordinates,b,k),I=Qm(u.geometry(),y,b,k);if(!Co(y,b))return!1;for(const R of I)if(!rc(R,A))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(u,m){const y=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],k=u.canonicalID();if(m.type==="Polygon"){const A=of(m.coordinates,b,k),I=eg(u.geometry(),y,b,k);if(!Co(y,b))return!1;for(const R of I)if(!Zm(R,A))return!1}if(m.type==="MultiPolygon"){const A=lf(m.coordinates,b,k),I=eg(u.geometry(),y,b,k);if(!Co(y,b))return!1;for(const R of I)if(!Km(R,A))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let tg=class{constructor(c=[],l=(u,m)=>u<m?-1:u>m?1:0){if(this.data=c,this.length=this.data.length,this.compare=l,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(c){this.data.push(c),this._up(this.length++)}pop(){if(this.length===0)return;const c=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),c}peek(){return this.data[0]}_up(c){const{data:l,compare:u}=this,m=l[c];for(;c>0;){const y=c-1>>1,b=l[y];if(u(m,b)>=0)break;l[c]=b,c=y}l[c]=m}_down(c){const{data:l,compare:u}=this,m=this.length>>1,y=l[c];for(;c<m;){let b=1+(c<<1);const k=b+1;if(k<this.length&&u(l[k],l[b])<0&&(b=k),u(l[b],y)>=0)break;l[c]=l[b],c=b}l[c]=y}};function hf(c,l,u=0,m=c.length-1,y=ig){for(;m>u;){if(m-u>600){const I=m-u+1,R=l-u+1,B=Math.log(I),V=.5*Math.exp(2*B/3),W=.5*Math.sqrt(B*V*(I-V)/I)*(R-I/2<0?-1:1);hf(c,l,Math.max(u,Math.floor(l-R*V/I+W)),Math.min(m,Math.floor(l+(I-R)*V/I+W)),y)}const b=c[l];let k=u,A=m;for(bl(c,u,l),y(c[m],b)>0&&bl(c,u,m);k<A;){for(bl(c,k,A),k++,A--;y(c[k],b)<0;)k++;for(;y(c[A],b)>0;)A--}y(c[u],b)===0?bl(c,u,A):(A++,bl(c,A,m)),A<=l&&(u=A+1),l<=A&&(m=A-1)}}function bl(c,l,u){const m=c[l];c[l]=c[u],c[u]=m}function ig(c,l){return c<l?-1:c>l?1:0}function sc(c,l){if(c.length<=1)return[c];const u=[];let m,y;for(const b of c){const k=Sx(b);k!==0&&(b.area=Math.abs(k),y===void 0&&(y=k<0),y===k<0?(m&&u.push(m),m=[b]):m.push(b))}if(m&&u.push(m),l>1)for(let b=0;b<u.length;b++)u[b].length<=l||(hf(u[b],l,1,u[b].length-1,kx),u[b]=u[b].slice(0,l));return u}function kx(c,l){return l.area-c.area}function Sx(c){let l=0;for(let u,m,y=0,b=c.length,k=b-1;y<b;k=y++)u=c[y],m=c[k],l+=(m.x-u.x)*(u.y+m.y);return l}const ng=1/298.257223563,Sh=ng*(2-ng),ag=Math.PI/180;class uf{constructor(l){const u=6378.137*ag*1e3,m=Math.cos(l*ag),y=1/(1-Sh*(1-m*m)),b=Math.sqrt(y);this.kx=u*b*m,this.ky=u*b*y*(1-Sh)}distance(l,u){const m=this.wrap(l[0]-u[0])*this.kx,y=(l[1]-u[1])*this.ky;return Math.sqrt(m*m+y*y)}pointOnLine(l,u){let m,y,b,k,A=1/0;for(let I=0;I<l.length-1;I++){let R=l[I][0],B=l[I][1],V=this.wrap(l[I+1][0]-R)*this.kx,W=(l[I+1][1]-B)*this.ky,q=0;V===0&&W===0||(q=(this.wrap(u[0]-R)*this.kx*V+(u[1]-B)*this.ky*W)/(V*V+W*W),q>1?(R=l[I+1][0],B=l[I+1][1]):q>0&&(R+=V/this.kx*q,B+=W/this.ky*q)),V=this.wrap(u[0]-R)*this.kx,W=(u[1]-B)*this.ky;const J=V*V+W*W;J<A&&(A=J,m=R,y=B,b=I,k=q)}return{point:[m,y],index:b,t:Math.max(0,Math.min(1,k))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function rg(c,l){return l[0]-c[0]}function oc(c){return c[1]-c[0]+1}function Ur(c,l){return c[1]>=c[0]&&c[1]<l}function lc(c,l){if(c[0]>c[1])return[null,null];const u=oc(c);if(l){if(u===2)return[c,null];const y=Math.floor(u/2);return[[c[0],c[0]+y],[c[0]+y,c[1]]]}if(u===1)return[c,null];const m=Math.floor(u/2)-1;return[[c[0],c[0]+m],[c[0]+m+1,c[1]]]}function cf(c,l){if(!Ur(l,c.length))return[1/0,1/0,-1/0,-1/0];const u=[1/0,1/0,-1/0,-1/0];for(let m=l[0];m<=l[1];++m)kh(u,c[m]);return u}function df(c){const l=[1/0,1/0,-1/0,-1/0];for(const u of c)for(const m of u)kh(l,m);return l}function ff(c){return c[0]!==-1/0&&c[1]!==-1/0&&c[2]!==1/0&&c[3]!==1/0}function hc(c,l,u){if(!ff(c)||!ff(l))return NaN;let m=0,y=0;return c[2]<l[0]&&(m=l[0]-c[2]),c[0]>l[2]&&(m=c[0]-l[2]),c[1]>l[3]&&(y=c[1]-l[3]),c[3]<l[1]&&(y=l[1]-c[3]),u.distance([0,0],[m,y])}function Mo(c,l,u){const m=u.pointOnLine(l,c);return u.distance(c,m.point)}function pf(c,l,u,m,y){const b=Math.min(Mo(c,[u,m],y),Mo(l,[u,m],y)),k=Math.min(Mo(u,[c,l],y),Mo(m,[c,l],y));return Math.min(b,k)}function Tx(c,l,u,m,y){if(!Ur(l,c.length)||!Ur(m,u.length))return 1/0;let b=1/0;for(let k=l[0];k<l[1];++k){const A=c[k],I=c[k+1];for(let R=m[0];R<m[1];++R){const B=u[R],V=u[R+1];if(ac(A,I,B,V))return 0;b=Math.min(b,pf(A,I,B,V,y))}}return b}function sg(c,l,u,m,y){if(!Ur(l,c.length)||!Ur(m,u.length))return NaN;let b=1/0;for(let k=l[0];k<=l[1];++k)for(let A=m[0];A<=m[1];++A)if(b=Math.min(b,y.distance(c[k],u[A])),b===0)return b;return b}function Cx(c,l,u){if(vl(c,l,!0))return 0;let m=1/0;for(const y of l){const b=y[0],k=y[y.length-1];if(b!==k&&(m=Math.min(m,Mo(c,[k,b],u)),m===0))return m;const A=u.pointOnLine(y,c);if(m=Math.min(m,u.distance(c,A.point)),m===0)return m}return m}function Ax(c,l,u,m){if(!Ur(l,c.length))return NaN;for(let b=l[0];b<=l[1];++b)if(vl(c[b],u,!0))return 0;let y=1/0;for(let b=l[0];b<l[1];++b){const k=c[b],A=c[b+1];for(const I of u)for(let R=0,B=I.length,V=B-1;R<B;V=R++){const W=I[V],q=I[R];if(ac(k,A,W,q))return 0;y=Math.min(y,pf(k,A,W,q,m))}}return y}function og(c,l){for(const u of c)for(const m of u)if(vl(m,l,!0))return!0;return!1}function Mx(c,l,u,m=1/0){const y=df(c),b=df(l);if(m!==1/0&&hc(y,b,u)>=m)return m;if(Co(y,b)){if(og(c,l))return 0}else if(og(l,c))return 0;let k=1/0;for(const A of c)for(let I=0,R=A.length,B=R-1;I<R;B=I++){const V=A[B],W=A[I];for(const q of l)for(let J=0,ee=q.length,ne=ee-1;J<ee;ne=J++){const le=q[ne],_e=q[J];if(ac(V,W,le,_e))return 0;k=Math.min(k,pf(V,W,le,_e,u))}}return k}function Li(c,l,u,m,y,b){if(!b)return;const k=hc(cf(m,b),y,u);k<l&&c.push([k,b,[0,0]])}function uc(c,l,u,m,y,b,k){if(!b||!k)return;const A=hc(cf(m,b),cf(y,k),u);A<l&&c.push([A,b,k])}function cc(c,l,u,m,y=1/0){let b=Math.min(m.distance(c[0],u[0][0]),y);if(b===0)return b;const k=new tg([[0,[0,c.length-1],[0,0]]],rg),A=df(u);for(;k.length>0;){const I=k.pop();if(I[0]>=b)continue;const R=I[1],B=l?50:100;if(oc(R)<=B){if(!Ur(R,c.length))return NaN;if(l){const V=Ax(c,R,u,m);if(isNaN(V)||V===0)return V;b=Math.min(b,V)}else for(let V=R[0];V<=R[1];++V){const W=Cx(c[V],u,m);if(b=Math.min(b,W),b===0)return 0}}else{const V=lc(R,l);Li(k,b,m,c,A,V[0]),Li(k,b,m,c,A,V[1])}}return b}function dc(c,l,u,m,y,b=1/0){let k=Math.min(b,y.distance(c[0],u[0]));if(k===0)return k;const A=new tg([[0,[0,c.length-1],[0,u.length-1]]],rg);for(;A.length>0;){const I=A.pop();if(I[0]>=k)continue;const R=I[1],B=I[2],V=l?50:100,W=m?50:100;if(oc(R)<=V&&oc(B)<=W){if(!Ur(R,c.length)&&Ur(B,u.length))return NaN;let q;if(l&&m)q=Tx(c,R,u,B,y),k=Math.min(k,q);else if(l&&!m){const J=c.slice(R[0],R[1]+1);for(let ee=B[0];ee<=B[1];++ee)if(q=Mo(u[ee],J,y),k=Math.min(k,q),k===0)return k}else if(!l&&m){const J=u.slice(B[0],B[1]+1);for(let ee=R[0];ee<=R[1];++ee)if(q=Mo(c[ee],J,y),k=Math.min(k,q),k===0)return k}else q=sg(c,R,u,B,y),k=Math.min(k,q)}else{const q=lc(R,l),J=lc(B,m);uc(A,k,y,c,u,q[0],J[0]),uc(A,k,y,c,u,q[0],J[1]),uc(A,k,y,c,u,q[1],J[0]),uc(A,k,y,c,u,q[1],J[1])}}return k}function mf(c){return c.type==="MultiPolygon"?c.coordinates.map((l=>({type:"Polygon",coordinates:l}))):c.type==="MultiLineString"?c.coordinates.map((l=>({type:"LineString",coordinates:l}))):c.type==="MultiPoint"?c.coordinates.map((l=>({type:"Point",coordinates:l}))):[c]}class Po{constructor(l,u){this.type=ot,this.geojson=l,this.geometries=u}static parse(l,u){if(l.length!==2)return u.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if(Ks(l[1])){const m=l[1];if(m.type==="FeatureCollection")return new Po(m,m.features.map((y=>mf(y.geometry))).flat());if(m.type==="Feature")return new Po(m,mf(m.geometry));if("type"in m&&"coordinates"in m)return new Po(m,mf(m))}return u.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(u,m){const y=u.geometry(),b=y.flat().map((I=>xl([I.x,I.y],u.canonical)));if(y.length===0)return NaN;const k=new uf(b[0][1]);let A=1/0;for(const I of m){switch(I.type){case"Point":A=Math.min(A,dc(b,!1,[I.coordinates],!1,k,A));break;case"LineString":A=Math.min(A,dc(b,!1,I.coordinates,!0,k,A));break;case"Polygon":A=Math.min(A,cc(b,!1,I.coordinates,k,A))}if(A===0)return A}return A})(l,this.geometries);if(l.geometryType()==="LineString")return(function(u,m){const y=u.geometry(),b=y.flat().map((I=>xl([I.x,I.y],u.canonical)));if(y.length===0)return NaN;const k=new uf(b[0][1]);let A=1/0;for(const I of m){switch(I.type){case"Point":A=Math.min(A,dc(b,!0,[I.coordinates],!1,k,A));break;case"LineString":A=Math.min(A,dc(b,!0,I.coordinates,!0,k,A));break;case"Polygon":A=Math.min(A,cc(b,!0,I.coordinates,k,A))}if(A===0)return A}return A})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(u,m){const y=u.geometry();if(y.length===0||y[0].length===0)return NaN;const b=sc(y,0).map((I=>I.map((R=>R.map((B=>xl([B.x,B.y],u.canonical))))))),k=new uf(b[0][0][0][1]);let A=1/0;for(const I of m)for(const R of b){switch(I.type){case"Point":A=Math.min(A,cc([I.coordinates],!1,R,k,A));break;case"LineString":A=Math.min(A,cc(I.coordinates,!0,R,k,A));break;case"Polygon":A=Math.min(A,Mx(R,I.coordinates,k,A))}if(A===0)return A}return A})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Th{constructor(l){this.type=Ft,this.key=l}static parse(l,u){if(l.length!==2)return u.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=l[1];return m==null?u.error("Global state property must be defined."):typeof m!="string"?u.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new Th(m)}evaluate(l){var u;const m=(u=l.globals)===null||u===void 0?void 0:u.globalState;return m&&Object.keys(m).length!==0?_h(m,this.key):null}eachChild(){}outputDefined(){return!1}}const wl={"==":Xm,"!=":af,">":vx,"<":qm,">=":nc,"<=":ml,array:Ka,at:mi,boolean:Ka,case:xh,coalesce:To,collator:gl,format:wh,image:_l,in:ni,"index-of":fl,interpolate:$a,"interpolate-hcl":$a,"interpolate-lab":$a,length:yl,let:Vi,literal:gs,match:xi,number:Ka,"number-format":rf,object:Ka,slice:Mr,step:Js,string:Ka,"to-boolean":Ds,"to-color":Ds,"to-number":Ds,"to-string":Ds,var:dl,within:Ao,distance:Po,"global-state":Th};class Pr{constructor(l,u,m,y){this.name=l,this.type=u,this._evaluate=m,this.args=y}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,u){const m=l[0],y=Pr.definitions[m];if(!y)return u.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(y)?y[0]:y.type,k=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,A=k.filter((([R])=>!Array.isArray(R)||R.length===l.length-1));let I=null;for(const[R,B]of A){I=new So(u.registry,fc,u.path,null,u.scope);const V=[];let W=!1;for(let q=1;q<l.length;q++){const J=l[q],ee=Array.isArray(R)?R[q-1]:R.type,ne=I.parse(J,1+V.length,ee);if(!ne){W=!0;break}V.push(ne)}if(!W)if(Array.isArray(R)&&R.length!==V.length)I.error(`Expected ${R.length} arguments, but found ${V.length} instead.`);else{for(let q=0;q<V.length;q++){const J=Array.isArray(R)?R[q]:R.type,ee=V[q];I.concat(q+1).checkSubtype(J,ee.type)}if(I.errors.length===0)return new Pr(m,b,B,V)}}if(A.length===1)u.errors.push(...I.errors);else{const R=(A.length?A:k).map((([V])=>{return W=V,Array.isArray(W)?`(${W.map(Pi).join(", ")})`:`(${Pi(W.type)}...)`;var W})).join(" | "),B=[];for(let V=1;V<l.length;V++){const W=u.parse(l[V],1+B.length);if(!W)return null;B.push(Pi(W.type))}u.error(`Expected arguments of type ${R}, but found (${B.join(", ")}) instead.`)}return null}static register(l,u){Pr.definitions=u;for(const m in u)l[m]=Pr}}function lg(c,[l,u,m,y]){l=l.evaluate(c),u=u.evaluate(c),m=m.evaluate(c);const b=y?y.evaluate(c):1,k=cl(l,u,m,b);if(k)throw new $i(k);return new ai(l/255,u/255,m/255,b,!1)}function hg(c,l){return c in l}function gf(c,l){const u=l[c];return u===void 0?null:u}function Lo(c){return{type:c}}function fc(c){if(c instanceof dl)return fc(c.boundExpression);if(c instanceof Pr&&c.name==="error"||c instanceof gl||c instanceof Ao||c instanceof Po||c instanceof Th)return!1;const l=c instanceof Ds||c instanceof Ka;let u=!0;return c.eachChild((m=>{u=l?u&&fc(m):u&&m instanceof gs})),!!u&&pc(c)&&mc(c,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function pc(c){if(c instanceof Pr&&(c.name==="get"&&c.args.length===1||c.name==="feature-state"||c.name==="has"&&c.args.length===1||c.name==="properties"||c.name==="geometry-type"||c.name==="id"||/^filter-/.test(c.name))||c instanceof Ao||c instanceof Po)return!1;let l=!0;return c.eachChild((u=>{l&&!pc(u)&&(l=!1)})),l}function Ch(c){if(c instanceof Pr&&c.name==="feature-state")return!1;let l=!0;return c.eachChild((u=>{l&&!Ch(u)&&(l=!1)})),l}function mc(c,l){if(c instanceof Pr&&l.indexOf(c.name)>=0)return!1;let u=!0;return c.eachChild((m=>{u&&!mc(m,l)&&(u=!1)})),u}function ug(c){return{result:"success",value:c}}function kl(c){return{result:"error",value:c}}function Sl(c){return c["property-type"]==="data-driven"||c["property-type"]==="cross-faded-data-driven"}function cg(c){return!!c.expression&&c.expression.parameters.indexOf("zoom")>-1}function _f(c){return!!c.expression&&c.expression.interpolated}function ri(c){return c instanceof Number?"number":c instanceof String?"string":c instanceof Boolean?"boolean":Array.isArray(c)?"array":c===null?"null":typeof c}function gc(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&En(c)===Xn}function Px(c){return c}function dg(c,l){const u=c.stops&&typeof c.stops[0][0]=="object",m=u||!(u||c.property!==void 0),y=c.type||(_f(l)?"exponential":"interval"),b=(function(B){switch(B.type){case"color":return ai.parse;case"padding":return Ma.parse;case"numberArray":return fn.parse;case"colorArray":return Xt.parse;default:return null}})(l);if(b&&((c=qt({},c)).stops&&(c.stops=c.stops.map((B=>[B[0],b(B[1])]))),c.default=b(c.default?c.default:l.default)),c.colorSpace&&(k=c.colorSpace)!=="rgb"&&k!=="hcl"&&k!=="lab")throw new Error(`Unknown color space: "${c.colorSpace}"`);var k;const A=(function(B){switch(B){case"exponential":return fg;case"interval":return Ex;case"categorical":return Lx;case"identity":return Ix;default:throw new Error(`Unknown function type "${B}"`)}})(y);let I,R;if(y==="categorical"){I=Object.create(null);for(const B of c.stops)I[B[0]]=B[1];R=typeof c.stops[0][0]}if(u){const B={},V=[];for(let J=0;J<c.stops.length;J++){const ee=c.stops[J],ne=ee[0].zoom;B[ne]===void 0&&(B[ne]={zoom:ne,type:c.type,property:c.property,default:c.default,stops:[]},V.push(ne)),B[ne].stops.push([ee[0].value,ee[1]])}const W=[];for(const J of V)W.push([B[J].zoom,dg(B[J],l)]);const q={name:"linear"};return{kind:"composite",interpolationType:q,interpolationFactor:$a.interpolationFactor.bind(void 0,q),zoomStops:W.map((J=>J[0])),evaluate:({zoom:J},ee)=>fg({stops:W,base:c.base},l,J).evaluate(J,ee)}}if(m){const B=y==="exponential"?{name:"exponential",base:c.base!==void 0?c.base:1}:null;return{kind:"camera",interpolationType:B,interpolationFactor:$a.interpolationFactor.bind(void 0,B),zoomStops:c.stops.map((V=>V[0])),evaluate:({zoom:V})=>A(c,l,V,I,R)}}return{kind:"source",evaluate(B,V){const W=V&&V.properties?V.properties[c.property]:void 0;return W===void 0?Ah(c.default,l.default):A(c,l,W,I,R)}}}function Ah(c,l,u){return c!==void 0?c:l!==void 0?l:u!==void 0?u:void 0}function Lx(c,l,u,m,y){return Ah(typeof u===y?m[u]:void 0,c.default,l.default)}function Ex(c,l,u){if(ri(u)!=="number")return Ah(c.default,l.default);const m=c.stops.length;if(m===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[m-1][0])return c.stops[m-1][1];const y=pl(c.stops.map((b=>b[0])),u);return c.stops[y][1]}function fg(c,l,u){const m=c.base!==void 0?c.base:1;if(ri(u)!=="number")return Ah(c.default,l.default);const y=c.stops.length;if(y===1||u<=c.stops[0][0])return c.stops[0][1];if(u>=c.stops[y-1][0])return c.stops[y-1][1];const b=pl(c.stops.map((B=>B[0])),u),k=(function(B,V,W,q){const J=q-W,ee=B-W;return J===0?0:V===1?ee/J:(Math.pow(V,ee)-1)/(Math.pow(V,J)-1)})(u,m,c.stops[b][0],c.stops[b+1][0]),A=c.stops[b][1],I=c.stops[b+1][1],R=an[l.type]||Px;return typeof A.evaluate=="function"?{evaluate(...B){const V=A.evaluate.apply(void 0,B),W=I.evaluate.apply(void 0,B);if(V!==void 0&&W!==void 0)return R(V,W,k,c.colorSpace)}}:R(A,I,k,c.colorSpace)}function Ix(c,l,u){switch(l.type){case"color":u=ai.parse(u);break;case"formatted":u=Za.fromString(u.toString());break;case"resolvedImage":u=ur.fromString(u.toString());break;case"padding":u=Ma.parse(u);break;case"colorArray":u=Xt.parse(u);break;case"numberArray":u=fn.parse(u);break;default:ri(u)===l.type||l.type==="enum"&&l.values[u]||(u=void 0)}return Ah(u,c.default,l.default)}Pr.register(wl,{error:[{kind:"error"},[Mt],(c,[l])=>{throw new $i(l.evaluate(c))}],typeof:[Mt,[Ft],(c,[l])=>Pi(En(l.evaluate(c)))],"to-rgba":[ia(ot,4),[pi],(c,[l])=>{const[u,m,y,b]=l.evaluate(c).rgb;return[255*u,255*m,255*y,b]}],rgb:[pi,[ot,ot,ot],lg],rgba:[pi,[ot,ot,ot,ot],lg],has:{type:Ut,overloads:[[[Mt],(c,[l])=>hg(l.evaluate(c),c.properties())],[[Mt,Xn],(c,[l,u])=>hg(l.evaluate(c),u.evaluate(c))]]},get:{type:Ft,overloads:[[[Mt],(c,[l])=>gf(l.evaluate(c),c.properties())],[[Mt,Xn],(c,[l,u])=>gf(l.evaluate(c),u.evaluate(c))]]},"feature-state":[Ft,[Mt],(c,[l])=>gf(l.evaluate(c),c.featureState||{})],properties:[Xn,[],c=>c.properties()],"geometry-type":[Mt,[],c=>c.geometryType()],id:[Ft,[],c=>c.id()],zoom:[ot,[],c=>c.globals.zoom],"heatmap-density":[ot,[],c=>c.globals.heatmapDensity||0],elevation:[ot,[],c=>c.globals.elevation||0],"line-progress":[ot,[],c=>c.globals.lineProgress||0],accumulated:[Ft,[],c=>c.globals.accumulated===void 0?null:c.globals.accumulated],"+":[ot,Lo(ot),(c,l)=>{let u=0;for(const m of l)u+=m.evaluate(c);return u}],"*":[ot,Lo(ot),(c,l)=>{let u=1;for(const m of l)u*=m.evaluate(c);return u}],"-":{type:ot,overloads:[[[ot,ot],(c,[l,u])=>l.evaluate(c)-u.evaluate(c)],[[ot],(c,[l])=>-l.evaluate(c)]]},"/":[ot,[ot,ot],(c,[l,u])=>l.evaluate(c)/u.evaluate(c)],"%":[ot,[ot,ot],(c,[l,u])=>l.evaluate(c)%u.evaluate(c)],ln2:[ot,[],()=>Math.LN2],pi:[ot,[],()=>Math.PI],e:[ot,[],()=>Math.E],"^":[ot,[ot,ot],(c,[l,u])=>Math.pow(l.evaluate(c),u.evaluate(c))],sqrt:[ot,[ot],(c,[l])=>Math.sqrt(l.evaluate(c))],log10:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))/Math.LN10],ln:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))],log2:[ot,[ot],(c,[l])=>Math.log(l.evaluate(c))/Math.LN2],sin:[ot,[ot],(c,[l])=>Math.sin(l.evaluate(c))],cos:[ot,[ot],(c,[l])=>Math.cos(l.evaluate(c))],tan:[ot,[ot],(c,[l])=>Math.tan(l.evaluate(c))],asin:[ot,[ot],(c,[l])=>Math.asin(l.evaluate(c))],acos:[ot,[ot],(c,[l])=>Math.acos(l.evaluate(c))],atan:[ot,[ot],(c,[l])=>Math.atan(l.evaluate(c))],min:[ot,Lo(ot),(c,l)=>Math.min(...l.map((u=>u.evaluate(c))))],max:[ot,Lo(ot),(c,l)=>Math.max(...l.map((u=>u.evaluate(c))))],abs:[ot,[ot],(c,[l])=>Math.abs(l.evaluate(c))],round:[ot,[ot],(c,[l])=>{const u=l.evaluate(c);return u<0?-Math.round(-u):Math.round(u)}],floor:[ot,[ot],(c,[l])=>Math.floor(l.evaluate(c))],ceil:[ot,[ot],(c,[l])=>Math.ceil(l.evaluate(c))],"filter-==":[Ut,[Mt,Ft],(c,[l,u])=>c.properties()[l.value]===u.value],"filter-id-==":[Ut,[Ft],(c,[l])=>c.id()===l.value],"filter-type-==":[Ut,[Mt],(c,[l])=>c.geometryType()===l.value],"filter-<":[Ut,[Mt,Ft],(c,[l,u])=>{const m=c.properties()[l.value],y=u.value;return typeof m==typeof y&&m<y}],"filter-id-<":[Ut,[Ft],(c,[l])=>{const u=c.id(),m=l.value;return typeof u==typeof m&&u<m}],"filter->":[Ut,[Mt,Ft],(c,[l,u])=>{const m=c.properties()[l.value],y=u.value;return typeof m==typeof y&&m>y}],"filter-id->":[Ut,[Ft],(c,[l])=>{const u=c.id(),m=l.value;return typeof u==typeof m&&u>m}],"filter-<=":[Ut,[Mt,Ft],(c,[l,u])=>{const m=c.properties()[l.value],y=u.value;return typeof m==typeof y&&m<=y}],"filter-id-<=":[Ut,[Ft],(c,[l])=>{const u=c.id(),m=l.value;return typeof u==typeof m&&u<=m}],"filter->=":[Ut,[Mt,Ft],(c,[l,u])=>{const m=c.properties()[l.value],y=u.value;return typeof m==typeof y&&m>=y}],"filter-id->=":[Ut,[Ft],(c,[l])=>{const u=c.id(),m=l.value;return typeof u==typeof m&&u>=m}],"filter-has":[Ut,[Ft],(c,[l])=>l.value in c.properties()],"filter-has-id":[Ut,[],c=>c.id()!==null&&c.id()!==void 0],"filter-type-in":[Ut,[ia(Mt)],(c,[l])=>l.value.indexOf(c.geometryType())>=0],"filter-id-in":[Ut,[ia(Ft)],(c,[l])=>l.value.indexOf(c.id())>=0],"filter-in-small":[Ut,[Mt,ia(Ft)],(c,[l,u])=>u.value.indexOf(c.properties()[l.value])>=0],"filter-in-large":[Ut,[Mt,ia(Ft)],(c,[l,u])=>(function(m,y,b,k){for(;b<=k;){const A=b+k>>1;if(y[A]===m)return!0;y[A]>m?k=A-1:b=A+1}return!1})(c.properties()[l.value],u.value,0,u.value.length-1)],all:{type:Ut,overloads:[[[Ut,Ut],(c,[l,u])=>l.evaluate(c)&&u.evaluate(c)],[Lo(Ut),(c,l)=>{for(const u of l)if(!u.evaluate(c))return!1;return!0}]]},any:{type:Ut,overloads:[[[Ut,Ut],(c,[l,u])=>l.evaluate(c)||u.evaluate(c)],[Lo(Ut),(c,l)=>{for(const u of l)if(u.evaluate(c))return!0;return!1}]]},"!":[Ut,[Ut],(c,[l])=>!l.evaluate(c)],"is-supported-script":[Ut,[Mt],(c,[l])=>{const u=c.globals&&c.globals.isSupportedScript;return!u||u(l.evaluate(c))}],upcase:[Mt,[Mt],(c,[l])=>l.evaluate(c).toUpperCase()],downcase:[Mt,[Mt],(c,[l])=>l.evaluate(c).toLowerCase()],concat:[Mt,Lo(Ft),(c,l)=>l.map((u=>wo(u.evaluate(c)))).join("")],"resolved-locale":[Mt,[vn],(c,[l])=>l.evaluate(c).resolvedLocale()]});class yf{constructor(l,u,m){this.expression=l,this._warningHistory={},this._evaluator=new ef,this._defaultValue=u?(function(y){if(y.type==="color"&&gc(y.default))return new ai(0,0,0,0);switch(y.type){case"color":return ai.parse(y.default)||null;case"padding":return Ma.parse(y.default)||null;case"numberArray":return fn.parse(y.default)||null;case"colorArray":return Xt.parse(y.default)||null;case"variableAnchorOffsetCollection":return ja.parse(y.default)||null;case"projectionDefinition":return Na.parse(y.default)||null;default:return y.default===void 0?null:y.default}})(u):null,this._enumValues=u&&u.type==="enum"?u.values:null,this._globalState=m}evaluateWithoutErrorHandling(l,u,m,y,b,k){return this._globalState&&(l=Eo(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=u,this._evaluator.featureState=m,this._evaluator.canonical=y,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=k,this.expression.evaluate(this._evaluator)}evaluate(l,u,m,y,b,k){this._globalState&&(l=Eo(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=u||null,this._evaluator.featureState=m||null,this._evaluator.canonical=y,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=k||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new $i(`Expected value to be one of ${Object.keys(this._enumValues).map((I=>JSON.stringify(I))).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Tl(c){return Array.isArray(c)&&c.length>0&&typeof c[0]=="string"&&c[0]in wl}function Mh(c,l,u){const m=new So(wl,fc,[],l?(function(b){const k={color:pi,string:Mt,number:ot,enum:Mt,boolean:Ut,formatted:Pn,padding:Cr,numberArray:Ln,colorArray:Hr,projectionDefinition:la,resolvedImage:Ji,variableAnchorOffsetCollection:Aa};return b.type==="array"?ia(k[b.value]||Ft,b.length):k[b.type]})(l):void 0),y=m.parse(c,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?ug(new yf(y,l,u)):kl(m.errors)}class _c{constructor(l,u,m){this.kind=l,this._styleExpression=u,this.isStateDependent=l!=="constant"&&!Ch(u.expression),this.globalStateRefs=Qs(u.expression),this._globalState=m}evaluateWithoutErrorHandling(l,u,m,y,b,k){return this._globalState&&(l=Eo(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,u,m,y,b,k)}evaluate(l,u,m,y,b,k){return this._globalState&&(l=Eo(l,this._globalState)),this._styleExpression.evaluate(l,u,m,y,b,k)}}class xf{constructor(l,u,m,y,b){this.kind=l,this.zoomStops=m,this._styleExpression=u,this.isStateDependent=l!=="camera"&&!Ch(u.expression),this.globalStateRefs=Qs(u.expression),this.interpolationType=y,this._globalState=b}evaluateWithoutErrorHandling(l,u,m,y,b,k){return this._globalState&&(l=Eo(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,u,m,y,b,k)}evaluate(l,u,m,y,b,k){return this._globalState&&(l=Eo(l,this._globalState)),this._styleExpression.evaluate(l,u,m,y,b,k)}interpolationFactor(l,u,m){return this.interpolationType?$a.interpolationFactor(this.interpolationType,l,u,m):0}}function vf(c,l,u){const m=Mh(c,l,u);if(m.result==="error")return m;const y=m.value.expression,b=pc(y);if(!b&&!Sl(l))return kl([new fi("","data expressions not supported")]);const k=mc(y,["zoom"]);if(!k&&!cg(l))return kl([new fi("","zoom expressions not supported")]);const A=xc(y);return A||k?A instanceof fi?kl([A]):A instanceof $a&&!_f(l)?kl([new fi("",'"interpolate" expressions cannot be used with this property')]):ug(A?new xf(b?"camera":"composite",m.value,A.labels,A instanceof $a?A.interpolation:void 0,u):new _c(b?"constant":"source",m.value,u)):kl([new fi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class yc{constructor(l,u){this._parameters=l,this._specification=u,qt(this,dg(this._parameters,this._specification))}static deserialize(l){return new yc(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function xc(c){let l=null;if(c instanceof Vi)l=xc(c.result);else if(c instanceof To){for(const u of c.args)if(l=xc(u),l)break}else(c instanceof Js||c instanceof $a)&&c.input instanceof Pr&&c.input.name==="zoom"&&(l=c);return l instanceof fi||c.eachChild((u=>{const m=xc(u);m instanceof fi?l=m:!l&&m?l=new fi("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new fi("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function Qs(c,l=new Set){return c instanceof Th&&l.add(c.key),c.eachChild((u=>{Qs(u,l)})),l}function Eo(c,l){const{zoom:u,heatmapDensity:m,elevation:y,lineProgress:b,isSupportedScript:k,accumulated:A}=c??{};return{zoom:u,heatmapDensity:m,elevation:y,lineProgress:b,isSupportedScript:k,accumulated:A,globalState:l}}function bf(c){if(c===!0||c===!1)return!0;if(!Array.isArray(c)||c.length===0)return!1;switch(c[0]){case"has":return c.length>=2&&c[1]!=="$id"&&c[1]!=="$type";case"in":return c.length>=3&&(typeof c[1]!="string"||Array.isArray(c[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return c.length!==3||Array.isArray(c[1])||Array.isArray(c[2]);case"any":case"all":for(const l of c.slice(1))if(!bf(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Dx={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ph(c,l){if(c==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};bf(c)||(c=Lh(c));const u=Mh(c,Dx,l);if(u.result==="error")throw new Error(u.value.map((m=>`${m.key}: ${m.message}`)).join(", "));return{filter:(m,y,b)=>u.value.evaluate(m,y,{},b),needGeometry:pg(c),getGlobalStateRefs:()=>Qs(u.value.expression)}}function zx(c,l){return c<l?-1:c>l?1:0}function pg(c){if(!Array.isArray(c))return!1;if(c[0]==="within"||c[0]==="distance")return!0;for(let l=1;l<c.length;l++)if(pg(c[l]))return!0;return!1}function Lh(c){if(!c)return!0;const l=c[0];return c.length<=1?l!=="any":l==="=="?vc(c[1],c[2],"=="):l==="!="?Eh(vc(c[1],c[2],"==")):l==="<"||l===">"||l==="<="||l===">="?vc(c[1],c[2],l):l==="any"?(u=c.slice(1),["any"].concat(u.map(Lh))):l==="all"?["all"].concat(c.slice(1).map(Lh)):l==="none"?["all"].concat(c.slice(1).map(Lh).map(Eh)):l==="in"?mg(c[1],c.slice(2)):l==="!in"?Eh(mg(c[1],c.slice(2))):l==="has"?gg(c[1]):l!=="!has"||Eh(gg(c[1]));var u}function vc(c,l,u){switch(c){case"$type":return[`filter-type-${u}`,l];case"$id":return[`filter-id-${u}`,l];default:return[`filter-${u}`,c,l]}}function mg(c,l){if(l.length===0)return!1;switch(c){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((u=>typeof u!=typeof l[0]))?["filter-in-large",c,["literal",l.sort(zx)]]:["filter-in-small",c,["literal",l]]}}function gg(c){switch(c){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",c]}}function Eh(c){return["!",c]}function bc(c){const l=typeof c;if(l==="number"||l==="boolean"||l==="string"||c==null)return JSON.stringify(c);if(Array.isArray(c)){let y="[";for(const b of c)y+=`${bc(b)},`;return`${y}]`}const u=Object.keys(c).sort();let m="{";for(let y=0;y<u.length;y++)m+=`${JSON.stringify(u[y])}:${bc(c[u[y]])},`;return`${m}}`}function _g(c){let l="";for(const u of _i)l+=`/${bc(c[u])}`;return l}function yg(c){const l=c.value;return l?[new it(c.key,l,"constants have been deprecated as of v8")]:[]}function In(c){return c instanceof Number||c instanceof String||c instanceof Boolean?c.valueOf():c}function Io(c){if(Array.isArray(c))return c.map(Io);if(c instanceof Object&&!(c instanceof Number||c instanceof String||c instanceof Boolean)){const l={};for(const u in c)l[u]=Io(c[u]);return l}return In(c)}function cr(c){const l=c.key,u=c.value,m=c.valueSpec||{},y=c.objectElementValidators||{},b=c.style,k=c.styleSpec,A=c.validateSpec;let I=[];const R=ri(u);if(R!=="object")return[new it(l,u,`object expected, ${R} found`)];for(const B in u){const V=B.split(".")[0],W=_h(m,V)||m["*"];let q;if(_h(y,V))q=y[V];else if(_h(m,V)){if(u[B]===void 0)continue;q=A}else if(y["*"])q=y["*"];else{if(!m["*"]){I.push(new it(l,u[B],`unknown property "${B}"`));continue}q=A}I=I.concat(q({key:(l&&`${l}.`)+B,value:u[B],valueSpec:W,style:b,styleSpec:k,object:u,objectKey:B,validateSpec:A},u))}for(const B in m)y[B]||m[B].required&&m[B].default===void 0&&u[B]===void 0&&I.push(new it(l,u,`missing required property "${B}"`));return I}function wc(c){const l=c.value,u=c.valueSpec,m=c.style,y=c.styleSpec,b=c.key,k=c.arrayElementValidator||c.validateSpec;if(ri(l)!=="array")return[new it(b,l,`array expected, ${ri(l)} found`)];if(u.length&&l.length!==u.length)return[new it(b,l,`array length ${u.length} expected, length ${l.length} found`)];let A={type:u.value,values:u.values};y.$version<7&&(A.function=u.function),ri(u.value)==="object"&&(A=u.value);let I=[];for(let R=0;R<l.length;R++)I=I.concat(k({array:l,arrayIndex:R,value:l[R],valueSpec:A,validateSpec:c.validateSpec,style:m,styleSpec:y,key:`${b}[${R}]`}));return I}function Ih(c){const l=c.key,u=c.value,m=c.valueSpec;let y=ri(u);return y==="number"&&u!=u&&(y="NaN"),y!=="number"?[new it(l,u,`number expected, ${y} found`)]:"minimum"in m&&u<m.minimum?[new it(l,u,`${u} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&u>m.maximum?[new it(l,u,`${u} is greater than the maximum value ${m.maximum}`)]:[]}function kc(c){const l=c.valueSpec,u=In(c.value.type);let m,y,b,k={};const A=u!=="categorical"&&c.value.property===void 0,I=!A,R=ri(c.value.stops)==="array"&&ri(c.value.stops[0])==="array"&&ri(c.value.stops[0][0])==="object",B=cr({key:c.key,value:c.value,valueSpec:c.styleSpec.function,validateSpec:c.validateSpec,style:c.style,styleSpec:c.styleSpec,objectElementValidators:{stops:function(q){if(u==="identity")return[new it(q.key,q.value,'identity function may not have a "stops" property')];let J=[];const ee=q.value;return J=J.concat(wc({key:q.key,value:ee,valueSpec:q.valueSpec,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,arrayElementValidator:V})),ri(ee)==="array"&&ee.length===0&&J.push(new it(q.key,ee,"array must have at least one stop")),J},default:function(q){return q.validateSpec({key:q.key,value:q.value,valueSpec:l,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec})}}});return u==="identity"&&A&&B.push(new it(c.key,c.value,'missing required property "property"')),u==="identity"||c.value.stops||B.push(new it(c.key,c.value,'missing required property "stops"')),u==="exponential"&&c.valueSpec.expression&&!_f(c.valueSpec)&&B.push(new it(c.key,c.value,"exponential functions not supported")),c.styleSpec.$version>=8&&(I&&!Sl(c.valueSpec)?B.push(new it(c.key,c.value,"property functions not supported")):A&&!cg(c.valueSpec)&&B.push(new it(c.key,c.value,"zoom functions not supported"))),u!=="categorical"&&!R||c.value.property!==void 0||B.push(new it(c.key,c.value,'"property" property is required')),B;function V(q){let J=[];const ee=q.value,ne=q.key;if(ri(ee)!=="array")return[new it(ne,ee,`array expected, ${ri(ee)} found`)];if(ee.length!==2)return[new it(ne,ee,`array length 2 expected, length ${ee.length} found`)];if(R){if(ri(ee[0])!=="object")return[new it(ne,ee,`object expected, ${ri(ee[0])} found`)];if(ee[0].zoom===void 0)return[new it(ne,ee,"object stop key must have zoom")];if(ee[0].value===void 0)return[new it(ne,ee,"object stop key must have value")];if(b&&b>In(ee[0].zoom))return[new it(ne,ee[0].zoom,"stop zoom values must appear in ascending order")];In(ee[0].zoom)!==b&&(b=In(ee[0].zoom),y=void 0,k={}),J=J.concat(cr({key:`${ne}[0]`,value:ee[0],valueSpec:{zoom:{}},validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec,objectElementValidators:{zoom:Ih,value:W}}))}else J=J.concat(W({key:`${ne}[0]`,value:ee[0],validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec},ee));return Tl(Io(ee[1]))?J.concat([new it(`${ne}[1]`,ee[1],"expressions are not allowed in function stops.")]):J.concat(q.validateSpec({key:`${ne}[1]`,value:ee[1],valueSpec:l,validateSpec:q.validateSpec,style:q.style,styleSpec:q.styleSpec}))}function W(q,J){const ee=ri(q.value),ne=In(q.value),le=q.value!==null?q.value:J;if(m){if(ee!==m)return[new it(q.key,le,`${ee} stop domain type must match previous stop domain type ${m}`)]}else m=ee;if(ee!=="number"&&ee!=="string"&&ee!=="boolean")return[new it(q.key,le,"stop domain value must be a number, string, or boolean")];if(ee!=="number"&&u!=="categorical"){let _e=`number expected, ${ee} found`;return Sl(l)&&u===void 0&&(_e+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new it(q.key,le,_e)]}return u!=="categorical"||ee!=="number"||isFinite(ne)&&Math.floor(ne)===ne?u!=="categorical"&&ee==="number"&&y!==void 0&&ne<y?[new it(q.key,le,"stop domain values must appear in ascending order")]:(y=ne,u==="categorical"&&ne in k?[new it(q.key,le,"stop domain values must be unique")]:(k[ne]=!0,[])):[new it(q.key,le,`integer expected, found ${ne}`)]}}function eo(c){const l=(c.expressionContext==="property"?vf:Mh)(Io(c.value),c.valueSpec);if(l.result==="error")return l.value.map((m=>new it(`${c.key}${m.key}`,c.value,m.message)));const u=l.value.expression||l.value._styleExpression.expression;if(c.expressionContext==="property"&&c.propertyKey==="text-font"&&!u.outputDefined())return[new it(c.key,c.value,`Invalid data expression for "${c.propertyKey}". Output values must be contained as literals within the expression.`)];if(c.expressionContext==="property"&&c.propertyType==="layout"&&!Ch(u))return[new it(c.key,c.value,'"feature-state" data expressions are not supported with layout properties.')];if(c.expressionContext==="filter"&&!Ch(u))return[new it(c.key,c.value,'"feature-state" data expressions are not supported with filters.')];if(c.expressionContext&&c.expressionContext.indexOf("cluster")===0){if(!mc(u,["zoom","feature-state"]))return[new it(c.key,c.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(c.expressionContext==="cluster-initial"&&!pc(u))return[new it(c.key,c.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Dh(c){const l=c.key,u=c.value,m=ri(u);return m!=="string"?[new it(l,u,`color expected, ${m} found`)]:ai.parse(String(u))?[]:[new it(l,u,`color expected, "${u}" found`)]}function Do(c){const l=c.key,u=c.value,m=c.valueSpec,y=[];return Array.isArray(m.values)?m.values.indexOf(In(u))===-1&&y.push(new it(l,u,`expected one of [${m.values.join(", ")}], ${JSON.stringify(u)} found`)):Object.keys(m.values).indexOf(In(u))===-1&&y.push(new it(l,u,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(u)} found`)),y}function Cl(c){return bf(Io(c.value))?eo(qt({},c,{expressionContext:"filter",valueSpec:{value:"boolean"}})):xg(c)}function xg(c){const l=c.value,u=c.key;if(ri(l)!=="array")return[new it(u,l,`array expected, ${ri(l)} found`)];const m=c.styleSpec;let y,b=[];if(l.length<1)return[new it(u,l,"filter array must have at least 1 element")];switch(b=b.concat(Do({key:`${u}[0]`,value:l[0],valueSpec:m.filter_operator,style:c.style,styleSpec:c.styleSpec})),In(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&In(l[1])==="$type"&&b.push(new it(u,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&b.push(new it(u,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(y=ri(l[1]),y!=="string"&&b.push(new it(`${u}[1]`,l[1],`string expected, ${y} found`)));for(let k=2;k<l.length;k++)y=ri(l[k]),In(l[1])==="$type"?b=b.concat(Do({key:`${u}[${k}]`,value:l[k],valueSpec:m.geometry_type,style:c.style,styleSpec:c.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&b.push(new it(`${u}[${k}]`,l[k],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let k=1;k<l.length;k++)b=b.concat(xg({key:`${u}[${k}]`,value:l[k],style:c.style,styleSpec:c.styleSpec}));break;case"has":case"!has":y=ri(l[1]),l.length!==2?b.push(new it(u,l,`filter array for "${l[0]}" operator must have 2 elements`)):y!=="string"&&b.push(new it(`${u}[1]`,l[1],`string expected, ${y} found`))}return b}function vg(c,l){const u=c.key,m=c.validateSpec,y=c.style,b=c.styleSpec,k=c.value,A=c.objectKey,I=b[`${l}_${c.layerType}`];if(!I)return[];const R=A.match(/^(.*)-transition$/);if(l==="paint"&&R&&I[R[1]]&&I[R[1]].transition)return m({key:u,value:k,valueSpec:b.transition,style:y,styleSpec:b});const B=c.valueSpec||I[A];if(!B)return[new it(u,k,`unknown property "${A}"`)];let V;if(ri(k)==="string"&&Sl(B)&&!B.tokens&&(V=/^{([^}]+)}$/.exec(k)))return[new it(u,k,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(V[1])} }\`.`)];const W=[];return c.layerType==="symbol"&&A==="text-font"&&gc(Io(k))&&In(k.type)==="identity"&&W.push(new it(u,k,'"text-font" does not support identity functions')),W.concat(m({key:c.key,value:k,valueSpec:B,style:y,styleSpec:b,expressionContext:"property",propertyType:l,propertyKey:A}))}function bg(c){return vg(c,"paint")}function wg(c){return vg(c,"layout")}function kg(c){let l=[];const u=c.value,m=c.key,y=c.style,b=c.styleSpec;if(ri(u)!=="object")return[new it(m,u,`object expected, ${ri(u)} found`)];u.type||u.ref||l.push(new it(m,u,'either "type" or "ref" is required'));let k=In(u.type);const A=In(u.ref);if(u.id){const I=In(u.id);for(let R=0;R<c.arrayIndex;R++){const B=y.layers[R];In(B.id)===I&&l.push(new it(m,u.id,`duplicate layer id "${u.id}", previously used at line ${B.id.__line__}`))}}if("ref"in u){let I;["type","source","source-layer","filter","layout"].forEach((R=>{R in u&&l.push(new it(m,u[R],`"${R}" is prohibited for ref layers`))})),y.layers.forEach((R=>{In(R.id)===A&&(I=R)})),I?I.ref?l.push(new it(m,u.ref,"ref cannot reference another ref layer")):k=In(I.type):l.push(new it(m,u.ref,`ref layer "${A}" not found`))}else if(k!=="background")if(u.source){const I=y.sources&&y.sources[u.source],R=I&&In(I.type);I?R==="vector"&&k==="raster"?l.push(new it(m,u.source,`layer "${u.id}" requires a raster source`)):R!=="raster-dem"&&k==="hillshade"||R!=="raster-dem"&&k==="color-relief"?l.push(new it(m,u.source,`layer "${u.id}" requires a raster-dem source`)):R==="raster"&&k!=="raster"?l.push(new it(m,u.source,`layer "${u.id}" requires a vector source`)):R!=="vector"||u["source-layer"]?R==="raster-dem"&&k!=="hillshade"&&k!=="color-relief"?l.push(new it(m,u.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):k!=="line"||!u.paint||!u.paint["line-gradient"]||R==="geojson"&&I.lineMetrics||l.push(new it(m,u,`layer "${u.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new it(m,u,`layer "${u.id}" must specify a "source-layer"`)):l.push(new it(m,u.source,`source "${u.source}" not found`))}else l.push(new it(m,u,'missing required property "source"'));return l=l.concat(cr({key:m,value:u,valueSpec:b.layer,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,objectElementValidators:{"*":()=>[],type:()=>c.validateSpec({key:`${m}.type`,value:u.type,valueSpec:b.layer.type,style:c.style,styleSpec:c.styleSpec,validateSpec:c.validateSpec,object:u,objectKey:"type"}),filter:Cl,layout:I=>cr({layer:u,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":R=>wg(qt({layerType:k},R))}}),paint:I=>cr({layer:u,key:I.key,value:I.value,style:I.style,styleSpec:I.styleSpec,validateSpec:I.validateSpec,objectElementValidators:{"*":R=>bg(qt({layerType:k},R))}})}})),l}function to(c){const l=c.value,u=c.key,m=ri(l);return m!=="string"?[new it(u,l,`string expected, ${m} found`)]:[]}const wf={promoteId:function({key:c,value:l}){if(ri(l)==="string")return to({key:c,value:l});{const u=[];for(const m in l)u.push(...to({key:`${c}.${m}`,value:l[m]}));return u}}};function kf(c){const l=c.value,u=c.key,m=c.styleSpec,y=c.style,b=c.validateSpec;if(!l.type)return[new it(u,l,'"type" is required')];const k=In(l.type);let A;switch(k){case"vector":case"raster":return A=cr({key:u,value:l,valueSpec:m[`source_${k.replace("-","_")}`],style:c.style,styleSpec:m,objectElementValidators:wf,validateSpec:b}),A;case"raster-dem":return A=(function(I){var R;const B=(R=I.sourceName)!==null&&R!==void 0?R:"",V=I.value,W=I.styleSpec,q=W.source_raster_dem,J=I.style;let ee=[];const ne=ri(V);if(V===void 0)return ee;if(ne!=="object")return ee.push(new it("source_raster_dem",V,`object expected, ${ne} found`)),ee;const le=In(V.encoding)==="custom",_e=["redFactor","greenFactor","blueFactor","baseShift"],he=I.value.encoding?`"${I.value.encoding}"`:"Default";for(const de in V)!le&&_e.includes(de)?ee.push(new it(de,V[de],`In "${B}": "${de}" is only valid when "encoding" is set to "custom". ${he} encoding found`)):q[de]?ee=ee.concat(I.validateSpec({key:de,value:V[de],valueSpec:q[de],validateSpec:I.validateSpec,style:J,styleSpec:W})):ee.push(new it(de,V[de],`unknown property "${de}"`));return ee})({sourceName:u,value:l,style:c.style,styleSpec:m,validateSpec:b}),A;case"geojson":if(A=cr({key:u,value:l,valueSpec:m.source_geojson,style:y,styleSpec:m,validateSpec:b,objectElementValidators:wf}),l.cluster)for(const I in l.clusterProperties){const[R,B]=l.clusterProperties[I],V=typeof R=="string"?[R,["accumulated"],["get",I]]:R;A.push(...eo({key:`${u}.${I}.map`,value:B,expressionContext:"cluster-map"})),A.push(...eo({key:`${u}.${I}.reduce`,value:V,expressionContext:"cluster-reduce"}))}return A;case"video":return cr({key:u,value:l,valueSpec:m.source_video,style:y,validateSpec:b,styleSpec:m});case"image":return cr({key:u,value:l,valueSpec:m.source_image,style:y,validateSpec:b,styleSpec:m});case"canvas":return[new it(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Do({key:`${u}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function zh(c){const l=c.value,u=c.styleSpec,m=u.light,y=c.style;let b=[];const k=ri(l);if(l===void 0)return b;if(k!=="object")return b=b.concat([new it("light",l,`object expected, ${k} found`)]),b;for(const A in l){const I=A.match(/^(.*)-transition$/);b=b.concat(I&&m[I[1]]&&m[I[1]].transition?c.validateSpec({key:A,value:l[A],valueSpec:u.transition,validateSpec:c.validateSpec,style:y,styleSpec:u}):m[A]?c.validateSpec({key:A,value:l[A],valueSpec:m[A],validateSpec:c.validateSpec,style:y,styleSpec:u}):[new it(A,l[A],`unknown property "${A}"`)])}return b}function Sg(c){const l=c.value,u=c.styleSpec,m=u.sky,y=c.style,b=ri(l);if(l===void 0)return[];if(b!=="object")return[new it("sky",l,`object expected, ${b} found`)];let k=[];for(const A in l)k=k.concat(m[A]?c.validateSpec({key:A,value:l[A],valueSpec:m[A],style:y,styleSpec:u}):[new it(A,l[A],`unknown property "${A}"`)]);return k}function Sf(c){const l=c.value,u=c.styleSpec,m=u.terrain,y=c.style;let b=[];const k=ri(l);if(l===void 0)return b;if(k!=="object")return b=b.concat([new it("terrain",l,`object expected, ${k} found`)]),b;for(const A in l)b=b.concat(m[A]?c.validateSpec({key:A,value:l[A],valueSpec:m[A],validateSpec:c.validateSpec,style:y,styleSpec:u}):[new it(A,l[A],`unknown property "${A}"`)]);return b}function Tf(c){let l=[];const u=c.value,m=c.key;if(Array.isArray(u)){const y=[],b=[];for(const k in u)u[k].id&&y.includes(u[k].id)&&l.push(new it(m,u,`all the sprites' ids must be unique, but ${u[k].id} is duplicated`)),y.push(u[k].id),u[k].url&&b.includes(u[k].url)&&l.push(new it(m,u,`all the sprites' URLs must be unique, but ${u[k].url} is duplicated`)),b.push(u[k].url),l=l.concat(cr({key:`${m}[${k}]`,value:u[k],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:c.validateSpec}));return l}return to({key:m,value:u})}function Tg(c){return!!c&&c.constructor===Object}function Cf(c){return Tg(c.value)?[]:[new it(c.key,c.value,`object expected, ${ri(c.value)} found`)]}const Af={"*":()=>[],array:wc,boolean:function(c){const l=c.value,u=c.key,m=ri(l);return m!=="boolean"?[new it(u,l,`boolean expected, ${m} found`)]:[]},number:Ih,color:Dh,constants:yg,enum:Do,filter:Cl,function:kc,layer:kg,object:cr,source:kf,light:zh,sky:Sg,terrain:Sf,projection:function(c){const l=c.value,u=c.styleSpec,m=u.projection,y=c.style,b=ri(l);if(l===void 0)return[];if(b!=="object")return[new it("projection",l,`object expected, ${b} found`)];let k=[];for(const A in l)k=k.concat(m[A]?c.validateSpec({key:A,value:l[A],valueSpec:m[A],style:y,styleSpec:u}):[new it(A,l[A],`unknown property "${A}"`)]);return k},projectionDefinition:function(c){const l=c.key;let u=c.value;u=u instanceof String?u.valueOf():u;const m=ri(u);return m!=="array"||(function(y){return Array.isArray(y)&&y.length===3&&typeof y[0]=="string"&&typeof y[1]=="string"&&typeof y[2]=="number"})(u)||(function(y){return!!["interpolate","step","literal"].includes(y[0])})(u)?["array","string"].includes(m)?[]:[new it(l,u,`projection expected, invalid type "${m}" found`)]:[new it(l,u,`projection expected, invalid array ${JSON.stringify(u)} found`)]},string:to,formatted:function(c){return to(c).length===0?[]:eo(c)},resolvedImage:function(c){return to(c).length===0?[]:eo(c)},padding:function(c){const l=c.key,u=c.value;if(ri(u)==="array"){if(u.length<1||u.length>4)return[new it(l,u,`padding requires 1 to 4 values; ${u.length} values found`)];const m={type:"number"};let y=[];for(let b=0;b<u.length;b++)y=y.concat(c.validateSpec({key:`${l}[${b}]`,value:u[b],validateSpec:c.validateSpec,valueSpec:m}));return y}return Ih({key:l,value:u,valueSpec:{}})},numberArray:function(c){const l=c.key,u=c.value;if(ri(u)==="array"){const m={type:"number"};if(u.length<1)return[new it(l,u,"array length at least 1 expected, length 0 found")];let y=[];for(let b=0;b<u.length;b++)y=y.concat(c.validateSpec({key:`${l}[${b}]`,value:u[b],validateSpec:c.validateSpec,valueSpec:m}));return y}return Ih({key:l,value:u,valueSpec:{}})},colorArray:function(c){const l=c.key,u=c.value;if(ri(u)==="array"){if(u.length<1)return[new it(l,u,"array length at least 1 expected, length 0 found")];let m=[];for(let y=0;y<u.length;y++)m=m.concat(Dh({key:`${l}[${y}]`,value:u[y]}));return m}return Dh({key:l,value:u})},variableAnchorOffsetCollection:function(c){const l=c.key,u=c.value,m=ri(u),y=c.styleSpec;if(m!=="array"||u.length<1||u.length%2!=0)return[new it(l,u,"variableAnchorOffsetCollection requires a non-empty array of even length")];let b=[];for(let k=0;k<u.length;k+=2)b=b.concat(Do({key:`${l}[${k}]`,value:u[k],valueSpec:y.layout_symbol["text-anchor"]})),b=b.concat(wc({key:`${l}[${k+1}]`,value:u[k+1],valueSpec:{length:2,value:"number"},validateSpec:c.validateSpec,style:c.style,styleSpec:y}));return b},sprite:Tf,state:Cf,fontFaces:function(c){const l=c.key,u=c.value,m=c.validateSpec,y=c.styleSpec,b=c.style;if(!Tg(u))return[new it(l,u,`object expected, ${ri(u)} found`)];const k=[];for(const A in u){const I=u[A],R=ri(I);if(R==="string")k.push(...to({key:`${l}.${A}`,value:I}));else if(R==="array"){const B={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(const[V,W]of I.entries())k.push(...cr({key:`${l}.${A}[${V}]`,value:W,valueSpec:B,styleSpec:y,style:b,validateSpec:m}))}else k.push(new it(`${l}.${A}`,I,`string or array expected, ${R} found`))}return k}};function io(c){const l=c.value,u=c.valueSpec,m=c.styleSpec;return c.validateSpec=io,u.expression&&gc(In(l))?kc(c):u.expression&&Tl(Io(l))?eo(c):u.type&&Af[u.type]?Af[u.type](c):cr(qt({},c,{valueSpec:u.type?m[u.type]:u}))}function Cg(c){const l=c.value,u=c.key,m=to(c);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new it(u,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new it(u,l,'"glyphs" url must include a "{range}" token'))),m}function Lr(c,l=je){let u=[];return u=u.concat(io({key:"",value:c,valueSpec:l.$root,styleSpec:l,style:c,validateSpec:io,objectElementValidators:{glyphs:Cg,"*":()=>[]}})),c.constants&&(u=u.concat(yg({key:"constants",value:c.constants}))),Ag(u)}function Wr(c){return function(l){return c(Object.assign({},l,{validateSpec:io}))}}function Ag(c){return[].concat(c).sort(((l,u)=>l.line-u.line))}function Xr(c){return function(...l){return Ag(c.apply(this,l))}}Lr.source=Xr(Wr(kf)),Lr.sprite=Xr(Wr(Tf)),Lr.glyphs=Xr(Wr(Cg)),Lr.light=Xr(Wr(zh)),Lr.sky=Xr(Wr(Sg)),Lr.terrain=Xr(Wr(Sf)),Lr.state=Xr(Wr(Cf)),Lr.layer=Xr(Wr(kg)),Lr.filter=Xr(Wr(Cl)),Lr.paintProperty=Xr(Wr(bg)),Lr.layoutProperty=Xr(Wr(wg));const Rx={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class Rh{constructor(l,u){this._globalState=u,this.setValue(l)}evaluate(){var l;return(l=this._literalValue)!==null&&l!==void 0?l:this._compiledValue.evaluate({})}setValue(l){if(l==null||l==="visible"||l==="none")return this._literalValue=l==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);const u=Mh(l,Rx,this._globalState);if(u.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(u.value.map((m=>`${m.key}: ${m.message}`)).join(", "));this._literalValue=void 0,this._compiledValue=u.value,this._globalStateRefs=Qs(u.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}const Fh=je,ha=Lr,Oh=ha.light,Mg=ha.sky,Fx=ha.paintProperty,Ox=ha.layoutProperty;function Al(c,l){let u=!1;if(l&&l.length)for(const m of l)c.fire(new li(new Error(m.message))),u=!0;return u}class Ml{constructor(l,u,m){const y=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const k=new Int32Array(this.arrayBuffer);l=k[0],this.d=(u=k[1])+2*(m=k[2]);for(let I=0;I<this.d*this.d;I++){const R=k[3+I],B=k[3+I+1];y.push(R===B?null:k.subarray(R,B))}const A=k[3+y.length+1];this.keys=k.subarray(k[3+y.length],A),this.bboxes=k.subarray(A),this.insert=this._insertReadonly}else{this.d=u+2*m;for(let k=0;k<this.d*this.d;k++)y.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=l,this.padding=m,this.scale=u/l,this.uid=0;const b=m/u*l;this.min=-b,this.max=l+b}insert(l,u,m,y,b){this._forEachCell(u,m,y,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(u),this.bboxes.push(m),this.bboxes.push(y),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,u,m,y,b,k){this.cells[b].push(k)}query(l,u,m,y,b){const k=this.min,A=this.max;if(l<=k&&u<=k&&A<=m&&A<=y&&!b)return Array.prototype.slice.call(this.keys);{const I=[];return this._forEachCell(l,u,m,y,this._queryCell,I,{},b),I}}_queryCell(l,u,m,y,b,k,A,I){const R=this.cells[b];if(R!==null){const B=this.keys,V=this.bboxes;for(let W=0;W<R.length;W++){const q=R[W];if(A[q]===void 0){const J=4*q;(I?I(V[J+0],V[J+1],V[J+2],V[J+3]):l<=V[J+2]&&u<=V[J+3]&&m>=V[J+0]&&y>=V[J+1])?(A[q]=!0,k.push(B[q])):A[q]=!1}}}}_forEachCell(l,u,m,y,b,k,A,I){const R=this._convertToCellCoord(l),B=this._convertToCellCoord(u),V=this._convertToCellCoord(m),W=this._convertToCellCoord(y);for(let q=R;q<=V;q++)for(let J=B;J<=W;J++){const ee=this.d*J+q;if((!I||I(this._convertFromCellCoord(q),this._convertFromCellCoord(J),this._convertFromCellCoord(q+1),this._convertFromCellCoord(J+1)))&&b.call(this,l,u,m,y,ee,k,A,I))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,u=3+this.cells.length+1+1;let m=0;for(let k=0;k<this.cells.length;k++)m+=this.cells[k].length;const y=new Int32Array(u+m+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;let b=u;for(let k=0;k<l.length;k++){const A=l[k];y[3+k]=b,y.set(A,b),b+=A.length}return y[3+l.length]=b,y.set(this.keys,b),b+=this.keys.length,y[3+l.length+1]=b,y.set(this.bboxes,b),b+=this.bboxes.length,y.buffer}static serialize(l,u){const m=l.toArrayBuffer();return u&&u.push(m),{buffer:m}}static deserialize(l){return new Ml(l.buffer)}}const qr={};function bt(c,l,u={}){if(qr[c])throw new Error(`${c} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:c,writeable:!1}),qr[c]={klass:l,omit:u.omit||[],shallow:u.shallow||[]}}bt("Object",Object),bt("Set",Set),bt("TransferableGridIndex",Ml),bt("Color",ai),bt("Error",Error),bt("AJAXError",Le),bt("ResolvedImage",ur),bt("StylePropertyFunction",yc),bt("StyleExpression",yf,{omit:["_evaluator"]}),bt("ZoomDependentExpression",xf),bt("ZoomConstantExpression",_c),bt("CompoundExpression",Pr,{omit:["_evaluate"]});for(const c in wl)wl[c]._classRegistryKey||bt(`Expression_${c}`,wl[c]);function Sc(c){return c&&typeof ArrayBuffer<"u"&&(c instanceof ArrayBuffer||c.constructor&&c.constructor.name==="ArrayBuffer")}function Mf(c){return c.$name||c.constructor._classRegistryKey}function Pl(c){return!(function(l){if(l===null||typeof l!="object")return!1;const u=Mf(l);return!(!u||u==="Object")})(c)&&(c==null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c instanceof Boolean||c instanceof Number||c instanceof String||c instanceof Date||c instanceof RegExp||c instanceof Blob||c instanceof Error||Sc(c)||Mn(c)||ArrayBuffer.isView(c)||c instanceof ImageData)}function Bh(c,l){if(Pl(c))return(Sc(c)||Mn(c))&&l&&l.push(c),ArrayBuffer.isView(c)&&l&&l.push(c.buffer),c instanceof ImageData&&l&&l.push(c.data.buffer),c;if(Array.isArray(c)){const b=[];for(const k of c)b.push(Bh(k,l));return b}if(typeof c!="object")throw new Error("can't serialize object of type "+typeof c);const u=Mf(c);if(!u)throw new Error(`can't serialize object of unregistered class ${c.constructor.name}`);if(!qr[u])throw new Error(`${u} is not registered.`);const{klass:m}=qr[u],y=m.serialize?m.serialize(c,l):{};if(m.serialize){if(l&&y===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in c){if(!c.hasOwnProperty(b)||qr[u].omit.indexOf(b)>=0)continue;const k=c[b];y[b]=qr[u].shallow.indexOf(b)>=0?k:Bh(k,l)}c instanceof Error&&(y.message=c.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return u!=="Object"&&(y.$name=u),y}function jh(c){if(Pl(c))return c;if(Array.isArray(c))return c.map(jh);if(typeof c!="object")throw new Error("can't deserialize object of type "+typeof c);const l=Mf(c)||"Object";if(!qr[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:u}=qr[l];if(!u)throw new Error(`can't deserialize unregistered class ${l}`);if(u.deserialize)return u.deserialize(c);const m=Object.create(u.prototype);for(const y of Object.keys(c)){if(y==="$name")continue;const b=c[y];m[y]=qr[l].shallow.indexOf(y)>=0?b:jh(b)}return m}class Pf{constructor(){this.first=!0}update(l,u){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=u):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=u),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}function Nh(c){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function Lf(c){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))}function Pg(c){return/\s/u.test(String.fromCodePoint(c))}function Ll(c){for(const l of c)if(Lf(l.codePointAt(0)))return!0;return!1}function Bx(c){for(const l of c)if(!Lg(l.codePointAt(0)))return!1;return!0}function Tc(c){const l=c.map((u=>{try{return new RegExp(`\\p{sc=${u}}`,"u").source}catch{return null}})).filter((u=>u));return new RegExp(l.join("|"),"u")}const Cc=Tc(["Arab","Dupl","Mong","Ougr","Syrc"]);function Lg(c){return!Cc.test(String.fromCodePoint(c))}function Ef(c){return!(Lf(c)||(l=c,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(l))));var l}const Eg=Tc(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function If(c){return Eg.test(String.fromCodePoint(c))}function Df(c,l){return!(!l&&If(c)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(c)))}function Ig(c){for(const l of c)if(If(l.codePointAt(0)))return!0;return!1}const no=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(c){this.pluginStatus=c.pluginStatus,this.pluginURL=c.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(c){if(no.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=c.applyArabicShaping,this.processBidirectionalText=c.processBidirectionalText,this.processStyledBidirectionalText=c.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(c,l){return a(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(c.pluginStatus!=="loading")return this.setState(c),c;const u=c.pluginURL,m=new Promise((b=>{this.loadScriptResolve=b}));l(u);const y=new Promise((b=>setTimeout((()=>b()),this.TIMEOUT)));if(yield Promise.race([m,y]),this.isParsed()){const b={pluginStatus:"loaded",pluginURL:u};return this.setState(b),b}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${u}`)}))}};class ji{constructor(l,u){this.isSupportedScript=jx,this.zoom=l,u?(this.now=u.now||0,this.fadeDuration=u.fadeDuration||0,this.zoomHistory=u.zoomHistory||new Pf,this.transition=u.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pf,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,u=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:u+(1-u)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*u}}}function jx(c){return(function(l,u){for(const m of l)if(!Df(m.codePointAt(0),u))return!1;return!0})(c,no.getRTLTextPluginStatus()==="loaded")}const $h="-transition";class Ac{constructor(l,u,m){this.property=l,this.value=u,this.expression=(function(y,b,k){if(gc(y))return new yc(y,b);if(Tl(y)){const A=vf(y,b,k);if(A.result==="error")throw new Error(A.value.map((I=>`${I.key}: ${I.message}`)).join(", "));return A.value}{let A=y;return b.type==="color"&&typeof y=="string"?A=ai.parse(y):b.type!=="padding"||typeof y!="number"&&!Array.isArray(y)?b.type!=="numberArray"||typeof y!="number"&&!Array.isArray(y)?b.type!=="colorArray"||typeof y!="string"&&!Array.isArray(y)?b.type==="variableAnchorOffsetCollection"&&Array.isArray(y)?A=ja.parse(y):b.type==="projectionDefinition"&&typeof y=="string"&&(A=Na.parse(y)):A=Xt.parse(y):A=fn.parse(y):A=Ma.parse(y),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>A}}})(u===void 0?l.specification.default:u,l.specification,m)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,u,m){return this.property.possiblyEvaluate(this,l,u,m)}}class Mc{constructor(l,u){this.property=l,this.value=new Ac(l,void 0,u)}transitioned(l,u){return new Dg(this.property,this.value,u,Et({},l.transition,this.transition),l.now)}untransitioned(){return new Dg(this.property,this.value,null,{},0)}}class zf{constructor(l,u){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues),this._globalState=u}getValue(l){return Si(this._values[l].value.value)}setValue(l,u){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Mc(this._values[l].property,this._globalState)),this._values[l].value=new Ac(this._values[l].property,u===null?void 0:Si(u),this._globalState)}getTransition(l){return Si(this._values[l].transition)}setTransition(l,u){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new Mc(this._values[l].property,this._globalState)),this._values[l].transition=Si(u)||void 0}serialize(){const l={};for(const u of Object.keys(this._values)){const m=this.getValue(u);m!==void 0&&(l[u]=m);const y=this.getTransition(u);y!==void 0&&(l[`${u}${$h}`]=y)}return l}transitioned(l,u){const m=new zg(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].transitioned(l,u._values[y]);return m}untransitioned(){const l=new zg(this._properties);for(const u of Object.keys(this._values))l._values[u]=this._values[u].untransitioned();return l}}class Dg{constructor(l,u,m,y,b){this.property=l,this.value=u,this.begin=b+y.delay||0,this.end=this.begin+y.duration||0,l.specification.transition&&(y.delay||y.duration)&&(this.prior=m)}possiblyEvaluate(l,u,m){const y=l.now||0,b=this.value.possiblyEvaluate(l,u,m),k=this.prior;if(k){if(y>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(y<this.begin)return k.possiblyEvaluate(l,u,m);{const A=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(k.possiblyEvaluate(l,u,m),b,Yt(A))}}return b}}class zg{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,u,m){const y=new Vh(this._properties);for(const b of Object.keys(this._values))y._values[b]=this._values[b].possiblyEvaluate(l,u,m);return y}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class Rg{constructor(l,u){this._properties=l,this._values=Object.create(l.defaultPropertyValues),this._globalState=u}hasValue(l){return this._values[l].value!==void 0}getValue(l){return Si(this._values[l].value)}setValue(l,u){this._values[l]=new Ac(this._values[l].property,u===null?void 0:Si(u),this._globalState)}serialize(){const l={};for(const u of Object.keys(this._values)){const m=this.getValue(u);m!==void 0&&(l[u]=m)}return l}possiblyEvaluate(l,u,m){const y=new Vh(this._properties);for(const b of Object.keys(this._values))y._values[b]=this._values[b].possiblyEvaluate(l,u,m);return y}}class Yr{constructor(l,u,m){this.property=l,this.value=u,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,u,m,y){return this.property.evaluate(this.value,this.parameters,l,u,m,y)}}class Vh{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class Lt{constructor(l){this.specification=l}possiblyEvaluate(l,u){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(u)}interpolate(l,u,m){const y=an[this.specification.type];return y?y(l,u,m):l}}class jt{constructor(l,u){this.specification=l,this.overrides=u}possiblyEvaluate(l,u,m,y){return new Yr(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(u,null,{},m,y)}:l.expression,u)}interpolate(l,u,m){if(l.value.kind!=="constant"||u.value.kind!=="constant")return l;if(l.value.value===void 0||u.value.value===void 0)return new Yr(this,{kind:"constant",value:void 0},l.parameters);const y=an[this.specification.type];if(y){const b=y(l.value.value,u.value.value,m);return new Yr(this,{kind:"constant",value:b},l.parameters)}return l}evaluate(l,u,m,y,b,k){return l.kind==="constant"?l.value:l.evaluate(u,m,y,b,k)}}class Hh extends jt{possiblyEvaluate(l,u,m,y){if(l.value===void 0)return new Yr(this,{kind:"constant",value:void 0},u);if(l.expression.kind==="constant"){const b=l.expression.evaluate(u,null,{},m,y),k=l.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,A=this._calculate(k,k,k,u);return new Yr(this,{kind:"constant",value:A},u)}if(l.expression.kind==="camera"){const b=this._calculate(l.expression.evaluate({zoom:u.zoom-1}),l.expression.evaluate({zoom:u.zoom}),l.expression.evaluate({zoom:u.zoom+1}),u);return new Yr(this,{kind:"constant",value:b},u)}return new Yr(this,l.expression,u)}evaluate(l,u,m,y,b,k){if(l.kind==="source"){const A=l.evaluate(u,m,y,b,k);return this._calculate(A,A,A,u)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(u.zoom)-1},m,y),l.evaluate({zoom:Math.floor(u.zoom)},m,y),l.evaluate({zoom:Math.floor(u.zoom)+1},m,y),u):l.value}_calculate(l,u,m,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:l,to:u}:{from:m,to:u}}interpolate(l){return l}}class Pc{constructor(l){this.specification=l}possiblyEvaluate(l,u,m,y){if(l.value!==void 0){if(l.expression.kind==="constant"){const b=l.expression.evaluate(u,null,{},m,y);return this._calculate(b,b,b,u)}return this._calculate(l.expression.evaluate(new ji(Math.floor(u.zoom-1),u)),l.expression.evaluate(new ji(Math.floor(u.zoom),u)),l.expression.evaluate(new ji(Math.floor(u.zoom+1),u)),u)}}_calculate(l,u,m,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:l,to:u}:{from:m,to:u}}interpolate(l){return l}}class Lc{constructor(l){this.specification=l}possiblyEvaluate(l,u,m,y){return!!l.expression.evaluate(u,null,{},m,y)}interpolate(){return!1}}class Va{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const u in l){const m=l[u];m.specification.overridable&&this.overridableProperties.push(u);const y=this.defaultPropertyValues[u]=new Ac(m,void 0,void 0),b=this.defaultTransitionablePropertyValues[u]=new Mc(m,void 0);this.defaultTransitioningPropertyValues[u]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=y.possiblyEvaluate({})}}}bt("DataDrivenProperty",jt),bt("DataConstantProperty",Lt),bt("CrossFadedDataDrivenProperty",Hh),bt("CrossFadedProperty",Pc),bt("ColorRampProperty",Lc);class Er extends ii{constructor(l,u,m){if(super(),this.id=l.id,this.type=l.type,this._globalState=m,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,this._visibilityExpression=(function(y,b){return new Rh(y,b)})(this.visibility,m),l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=Ph(l.filter,m)),u.layout&&(this._unevaluatedLayout=new Rg(u.layout,m)),u.paint)){this._transitionablePaint=new zf(u.paint,m);for(const y in l.paint)this.setPaintProperty(y,l.paint[y],{validate:!1});for(const y in l.layout)this.setLayoutProperty(y,l.layout[y],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Vh(u.paint)}}setFilter(l){this.filter=l,this._featureFilter=Ph(l,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;for(const u of this._visibilityExpression.getGlobalStateRefs())l.add(u);if(this._unevaluatedLayout)for(const u in this._unevaluatedLayout._values){const m=this._unevaluatedLayout._values[u];for(const y of m.getGlobalStateRefs())l.add(y)}for(const u of this._featureFilter.getGlobalStateRefs())l.add(u);return l}getPaintAffectingGlobalStateRefs(){var l;const u=new globalThis.Map;if(this._transitionablePaint)for(const m in this._transitionablePaint._values){const y=this._transitionablePaint._values[m].value;for(const b of y.getGlobalStateRefs()){const k=(l=u.get(b))!==null&&l!==void 0?l:[];k.push({name:m,value:y.value}),u.set(b,k)}}return u}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(l,u,m={}){if(u==null||!this._validate(Ox,`layers.${this.id}.layout.${l}`,l,u,m))return l==="visibility"?(this.visibility=u,this._visibilityExpression.setValue(u),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(l,u)}getPaintProperty(l){return l.endsWith($h)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,u,m={}){if(u!=null&&this._validate(Fx,`layers.${this.id}.paint.${l}`,l,u,m))return!1;if(l.endsWith($h))return this._transitionablePaint.setTransition(l.slice(0,-11),u||void 0),!1;{const y=this._transitionablePaint._values[l],b=y.property.specification["property-type"]==="cross-faded-data-driven",k=y.value.isDataDriven(),A=y.value;this._transitionablePaint.setValue(l,u),this._handleSpecialPaintPropertyUpdate(l);const I=this._transitionablePaint._values[l].value;return I.isDataDriven()||k||b||this._handleOverridablePaintPropertyUpdate(l,A,I)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,u,m){return!1}isHidden(l=this.minzoom,u=!1){return!!(this.minzoom&&l<(u?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&l>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(l,u){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,u)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),ui(l,((u,m)=>!(u===void 0||m==="layout"&&!Object.keys(u).length||m==="paint"&&!Object.keys(u).length)))}_validate(l,u,m,y,b={}){return(!b||b.validate!==!1)&&Al(this,l.call(ha,{key:u,layerType:this.type,objectKey:m,value:y,styleSpec:je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const u=this.paint.get(l);if(u instanceof Yr&&Sl(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}}let Rf;var Fg={get paint(){return Rf=Rf||new Va({"raster-opacity":new Lt(je.paint_raster["raster-opacity"]),"raster-hue-rotate":new Lt(je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Lt(je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Lt(je.paint_raster["raster-brightness-max"]),"raster-saturation":new Lt(je.paint_raster["raster-saturation"]),"raster-contrast":new Lt(je.paint_raster["raster-contrast"]),"raster-resampling":new Lt(je.paint_raster["raster-resampling"]),"raster-fade-duration":new Lt(je.paint_raster["raster-fade-duration"])})}};class Nx extends Er{constructor(l,u){super(l,Fg,u)}}const $x={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Gh{constructor(l,u){this._structArray=l,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class pn{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,u){return l._trim(),u&&(l.isTransferred=!0,u.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const u=Object.create(this.prototype);return u.arrayBuffer=l.arrayBuffer,u.length=l.length,u.capacity=l.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Dn(c,l=1){let u=0,m=0;return{members:c.map((y=>{const b=$x[y.type].BYTES_PER_ELEMENT,k=u=zo(u,Math.max(l,b)),A=y.components||1;return m=Math.max(m,b),u+=b*A,{name:y.name,type:y.type,components:A,offset:k}})),size:zo(u,Math.max(m,l)),alignment:l}}function zo(c,l){return Math.ceil(c/l)*l}class Uh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u){const m=this.length;return this.resize(m+1),this.emplace(m,l,u)}emplace(l,u,m){const y=2*l;return this.int16[y+0]=u,this.int16[y+1]=m,l}}Uh.prototype.bytesPerElement=4,bt("StructArrayLayout2i4",Uh);class Ec extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,l,u,m)}emplace(l,u,m,y){const b=3*l;return this.int16[b+0]=u,this.int16[b+1]=m,this.int16[b+2]=y,l}}Ec.prototype.bytesPerElement=6,bt("StructArrayLayout3i6",Ec);class Ff extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y){const b=this.length;return this.resize(b+1),this.emplace(b,l,u,m,y)}emplace(l,u,m,y,b){const k=4*l;return this.int16[k+0]=u,this.int16[k+1]=m,this.int16[k+2]=y,this.int16[k+3]=b,l}}Ff.prototype.bytesPerElement=8,bt("StructArrayLayout4i8",Ff);class Ic extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k){const A=this.length;return this.resize(A+1),this.emplace(A,l,u,m,y,b,k)}emplace(l,u,m,y,b,k,A){const I=6*l;return this.int16[I+0]=u,this.int16[I+1]=m,this.int16[I+2]=y,this.int16[I+3]=b,this.int16[I+4]=k,this.int16[I+5]=A,l}}Ic.prototype.bytesPerElement=12,bt("StructArrayLayout2i4i12",Ic);class Of extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k){const A=this.length;return this.resize(A+1),this.emplace(A,l,u,m,y,b,k)}emplace(l,u,m,y,b,k,A){const I=4*l,R=8*l;return this.int16[I+0]=u,this.int16[I+1]=m,this.uint8[R+4]=y,this.uint8[R+5]=b,this.uint8[R+6]=k,this.uint8[R+7]=A,l}}Of.prototype.bytesPerElement=8,bt("StructArrayLayout2i4ub8",Of);class Wh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u){const m=this.length;return this.resize(m+1),this.emplace(m,l,u)}emplace(l,u,m){const y=2*l;return this.float32[y+0]=u,this.float32[y+1]=m,l}}Wh.prototype.bytesPerElement=8,bt("StructArrayLayout2f8",Wh);class zs extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I,R,B){const V=this.length;return this.resize(V+1),this.emplace(V,l,u,m,y,b,k,A,I,R,B)}emplace(l,u,m,y,b,k,A,I,R,B,V){const W=10*l;return this.uint16[W+0]=u,this.uint16[W+1]=m,this.uint16[W+2]=y,this.uint16[W+3]=b,this.uint16[W+4]=k,this.uint16[W+5]=A,this.uint16[W+6]=I,this.uint16[W+7]=R,this.uint16[W+8]=B,this.uint16[W+9]=V,l}}zs.prototype.bytesPerElement=20,bt("StructArrayLayout10ui20",zs);class Dc extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I){const R=this.length;return this.resize(R+1),this.emplace(R,l,u,m,y,b,k,A,I)}emplace(l,u,m,y,b,k,A,I,R){const B=8*l;return this.uint16[B+0]=u,this.uint16[B+1]=m,this.uint16[B+2]=y,this.uint16[B+3]=b,this.uint16[B+4]=k,this.uint16[B+5]=A,this.uint16[B+6]=I,this.uint16[B+7]=R,l}}Dc.prototype.bytesPerElement=16,bt("StructArrayLayout8ui16",Dc);class Xh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I,R,B,V,W){const q=this.length;return this.resize(q+1),this.emplace(q,l,u,m,y,b,k,A,I,R,B,V,W)}emplace(l,u,m,y,b,k,A,I,R,B,V,W,q){const J=12*l;return this.int16[J+0]=u,this.int16[J+1]=m,this.int16[J+2]=y,this.int16[J+3]=b,this.uint16[J+4]=k,this.uint16[J+5]=A,this.uint16[J+6]=I,this.uint16[J+7]=R,this.int16[J+8]=B,this.int16[J+9]=V,this.int16[J+10]=W,this.int16[J+11]=q,l}}Xh.prototype.bytesPerElement=24,bt("StructArrayLayout4i4ui4i24",Xh);class zc extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,l,u,m)}emplace(l,u,m,y){const b=3*l;return this.float32[b+0]=u,this.float32[b+1]=m,this.float32[b+2]=y,l}}zc.prototype.bytesPerElement=12,bt("StructArrayLayout3f12",zc);class qh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const u=this.length;return this.resize(u+1),this.emplace(u,l)}emplace(l,u){return this.uint32[1*l+0]=u,l}}qh.prototype.bytesPerElement=4,bt("StructArrayLayout1ul4",qh);class Bf extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I,R){const B=this.length;return this.resize(B+1),this.emplace(B,l,u,m,y,b,k,A,I,R)}emplace(l,u,m,y,b,k,A,I,R,B){const V=10*l,W=5*l;return this.int16[V+0]=u,this.int16[V+1]=m,this.int16[V+2]=y,this.int16[V+3]=b,this.int16[V+4]=k,this.int16[V+5]=A,this.uint32[W+3]=I,this.uint16[V+8]=R,this.uint16[V+9]=B,l}}Bf.prototype.bytesPerElement=20,bt("StructArrayLayout6i1ul2ui20",Bf);class El extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k){const A=this.length;return this.resize(A+1),this.emplace(A,l,u,m,y,b,k)}emplace(l,u,m,y,b,k,A){const I=6*l;return this.int16[I+0]=u,this.int16[I+1]=m,this.int16[I+2]=y,this.int16[I+3]=b,this.int16[I+4]=k,this.int16[I+5]=A,l}}El.prototype.bytesPerElement=12,bt("StructArrayLayout2i2i2i12",El);class Ro extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b){const k=this.length;return this.resize(k+1),this.emplace(k,l,u,m,y,b)}emplace(l,u,m,y,b,k){const A=4*l,I=8*l;return this.float32[A+0]=u,this.float32[A+1]=m,this.float32[A+2]=y,this.int16[I+6]=b,this.int16[I+7]=k,l}}Ro.prototype.bytesPerElement=16,bt("StructArrayLayout2f1f2i16",Ro);class jf extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k){const A=this.length;return this.resize(A+1),this.emplace(A,l,u,m,y,b,k)}emplace(l,u,m,y,b,k,A){const I=16*l,R=4*l,B=8*l;return this.uint8[I+0]=u,this.uint8[I+1]=m,this.float32[R+1]=y,this.float32[R+2]=b,this.int16[B+6]=k,this.int16[B+7]=A,l}}jf.prototype.bytesPerElement=16,bt("StructArrayLayout2ub2f2i16",jf);class Yh extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,l,u,m)}emplace(l,u,m,y){const b=3*l;return this.uint16[b+0]=u,this.uint16[b+1]=m,this.uint16[b+2]=y,l}}Yh.prototype.bytesPerElement=6,bt("StructArrayLayout3ui6",Yh);class Fo extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le){const _e=this.length;return this.resize(_e+1),this.emplace(_e,l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le)}emplace(l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le,_e){const he=24*l,de=12*l,be=48*l;return this.int16[he+0]=u,this.int16[he+1]=m,this.uint16[he+2]=y,this.uint16[he+3]=b,this.uint32[de+2]=k,this.uint32[de+3]=A,this.uint32[de+4]=I,this.uint16[he+10]=R,this.uint16[he+11]=B,this.uint16[he+12]=V,this.float32[de+7]=W,this.float32[de+8]=q,this.uint8[be+36]=J,this.uint8[be+37]=ee,this.uint8[be+38]=ne,this.uint32[de+10]=le,this.int16[he+22]=_e,l}}Fo.prototype.bytesPerElement=48,bt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Fo);class Nf extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le,_e,he,de,be,Te,Ne,et,Ze,at,pt,st){const Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le,_e,he,de,be,Te,Ne,et,Ze,at,pt,st)}emplace(l,u,m,y,b,k,A,I,R,B,V,W,q,J,ee,ne,le,_e,he,de,be,Te,Ne,et,Ze,at,pt,st,Ke){const Xe=32*l,vt=16*l;return this.int16[Xe+0]=u,this.int16[Xe+1]=m,this.int16[Xe+2]=y,this.int16[Xe+3]=b,this.int16[Xe+4]=k,this.int16[Xe+5]=A,this.int16[Xe+6]=I,this.int16[Xe+7]=R,this.uint16[Xe+8]=B,this.uint16[Xe+9]=V,this.uint16[Xe+10]=W,this.uint16[Xe+11]=q,this.uint16[Xe+12]=J,this.uint16[Xe+13]=ee,this.uint16[Xe+14]=ne,this.uint16[Xe+15]=le,this.uint16[Xe+16]=_e,this.uint16[Xe+17]=he,this.uint16[Xe+18]=de,this.uint16[Xe+19]=be,this.uint16[Xe+20]=Te,this.uint16[Xe+21]=Ne,this.uint16[Xe+22]=et,this.uint32[vt+12]=Ze,this.float32[vt+13]=at,this.float32[vt+14]=pt,this.uint16[Xe+30]=st,this.uint16[Xe+31]=Ke,l}}Nf.prototype.bytesPerElement=64,bt("StructArrayLayout8i15ui1ul2f2ui64",Nf);class Rc extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const u=this.length;return this.resize(u+1),this.emplace(u,l)}emplace(l,u){return this.float32[1*l+0]=u,l}}Rc.prototype.bytesPerElement=4,bt("StructArrayLayout1f4",Rc);class Fc extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,l,u,m)}emplace(l,u,m,y){const b=3*l;return this.uint16[6*l+0]=u,this.float32[b+1]=m,this.float32[b+2]=y,l}}Fc.prototype.bytesPerElement=12,bt("StructArrayLayout1ui2f12",Fc);class $f extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u,m){const y=this.length;return this.resize(y+1),this.emplace(y,l,u,m)}emplace(l,u,m,y){const b=4*l;return this.uint32[2*l+0]=u,this.uint16[b+2]=m,this.uint16[b+3]=y,l}}$f.prototype.bytesPerElement=8,bt("StructArrayLayout1ul2ui8",$f);class T extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,u){const m=this.length;return this.resize(m+1),this.emplace(m,l,u)}emplace(l,u,m){const y=2*l;return this.uint16[y+0]=u,this.uint16[y+1]=m,l}}T.prototype.bytesPerElement=4,bt("StructArrayLayout2ui4",T);class h extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const u=this.length;return this.resize(u+1),this.emplace(u,l)}emplace(l,u){return this.uint16[1*l+0]=u,l}}h.prototype.bytesPerElement=2,bt("StructArrayLayout1ui2",h);class f extends pn{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,u,m,y){const b=this.length;return this.resize(b+1),this.emplace(b,l,u,m,y)}emplace(l,u,m,y,b){const k=4*l;return this.float32[k+0]=u,this.float32[k+1]=m,this.float32[k+2]=y,this.float32[k+3]=b,l}}f.prototype.bytesPerElement=16,bt("StructArrayLayout4f16",f);class _ extends Gh{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new d(this.anchorPointX,this.anchorPointY)}}_.prototype.size=20;class v extends Bf{get(l){return new _(this,l)}}bt("CollisionBoxArray",v);class C extends Gh{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}C.prototype.size=48;class P extends Fo{get(l){return new C(this,l)}}bt("PlacedSymbolArray",P);class z extends Gh{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}z.prototype.size=64;class F extends Nf{get(l){return new z(this,l)}}bt("SymbolInstanceArray",F);class $ extends Rc{getoffsetX(l){return this.float32[1*l+0]}}bt("GlyphOffsetArray",$);class G extends Ec{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}bt("SymbolLineVertexArray",G);class K extends Gh{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}K.prototype.size=12;class Z extends Fc{get(l){return new K(this,l)}}bt("TextAnchorOffsetArray",Z);class ie extends Gh{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ie.prototype.size=8;class oe extends $f{get(l){return new ie(this,l)}}bt("FeatureIndexArray",oe);class fe extends Uh{}class me extends Uh{}class pe extends Uh{}class ye extends Ic{}class Ce extends Of{}class ge extends Wh{}class Se extends zs{}class Pe extends Dc{}class we extends Xh{}class Ie extends zc{}class qe extends qh{}class Ve extends El{}class Ge extends jf{}class We extends Yh{}class ut extends T{}const dt=Dn([{name:"a_pos",components:2,type:"Int16"}],4),{members:rt}=dt;class mt{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,u,m,y){const b=this.segments[this.segments.length-1];return l>mt.MAX_VERTEX_ARRAY_LENGTH&&Zt(`Max vertices per segment is ${mt.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${mt.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!b||b.vertexLength+l>mt.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==y?this.createNewSegment(u,m,y):b}createNewSegment(l,u,m){const y={vertexOffset:l.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0,vaos:{}};return m!==void 0&&(y.sortKey=m),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(y),y}getOrCreateLatestSegment(l,u,m){return this.prepareSegment(0,l,u,m)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const u in l.vaos)l.vaos[u].destroy()}static simpleSegment(l,u,m,y){return new mt([{vertexOffset:l,primitiveOffset:u,vertexLength:m,primitiveLength:y,vaos:{},sortKey:0}])}}function ei(c,l){return 256*(c=Tt(Math.floor(c),0,255))+Tt(Math.floor(l),0,255)}mt.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bt("SegmentVector",mt);const Fi=Dn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Qi=Dn([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var Hi,rn,Gi,kn={exports:{}},sn={exports:{}},ua={exports:{}},$n=(function(){if(Gi)return kn.exports;Gi=1;var c=(Hi||(Hi=1,sn.exports=function(u,m){var y,b,k,A,I,R,B,V;for(b=u.length-(y=3&u.length),k=m,I=3432918353,R=461845907,V=0;V<b;)B=255&u.charCodeAt(V)|(255&u.charCodeAt(++V))<<8|(255&u.charCodeAt(++V))<<16|(255&u.charCodeAt(++V))<<24,++V,k=27492+(65535&(A=5*(65535&(k=(k^=B=(65535&(B=(B=(65535&B)*I+(((B>>>16)*I&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295)<<13|k>>>19))+((5*(k>>>16)&65535)<<16)&4294967295))+((58964+(A>>>16)&65535)<<16);switch(B=0,y){case 3:B^=(255&u.charCodeAt(V+2))<<16;case 2:B^=(255&u.charCodeAt(V+1))<<8;case 1:k^=B=(65535&(B=(B=(65535&(B^=255&u.charCodeAt(V)))*I+(((B>>>16)*I&65535)<<16)&4294967295)<<15|B>>>17))*R+(((B>>>16)*R&65535)<<16)&4294967295}return k^=u.length,k=2246822507*(65535&(k^=k>>>16))+((2246822507*(k>>>16)&65535)<<16)&4294967295,k=3266489909*(65535&(k^=k>>>13))+((3266489909*(k>>>16)&65535)<<16)&4294967295,(k^=k>>>16)>>>0}),sn.exports),l=(rn||(rn=1,ua.exports=function(u,m){for(var y,b=u.length,k=m^b,A=0;b>=4;)y=1540483477*(65535&(y=255&u.charCodeAt(A)|(255&u.charCodeAt(++A))<<8|(255&u.charCodeAt(++A))<<16|(255&u.charCodeAt(++A))<<24))+((1540483477*(y>>>16)&65535)<<16),k=1540483477*(65535&k)+((1540483477*(k>>>16)&65535)<<16)^(y=1540483477*(65535&(y^=y>>>24))+((1540483477*(y>>>16)&65535)<<16)),b-=4,++A;switch(b){case 3:k^=(255&u.charCodeAt(A+2))<<16;case 2:k^=(255&u.charCodeAt(A+1))<<8;case 1:k=1540483477*(65535&(k^=255&u.charCodeAt(A)))+((1540483477*(k>>>16)&65535)<<16)}return k=1540483477*(65535&(k^=k>>>13))+((1540483477*(k>>>16)&65535)<<16),(k^=k>>>15)>>>0}),ua.exports);return kn.exports=c,kn.exports.murmur3=c,kn.exports.murmur2=l,kn.exports})(),zn=p($n);class ba{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,u,m,y){this.ids.push(ao(l)),this.positions.push(u,m,y)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const u=ao(l);let m=0,y=this.ids.length-1;for(;m<y;){const k=m+y>>1;this.ids[k]>=u?y=k:m=k+1}const b=[];for(;this.ids[m]===u;)b.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return b}static serialize(l,u){const m=new Float64Array(l.ids),y=new Uint32Array(l.positions);return Rs(m,y,0,m.length-1),u&&u.push(m.buffer,y.buffer),{ids:m,positions:y}}static deserialize(l){const u=new ba;return u.ids=l.ids,u.positions=l.positions,u.indexed=!0,u}}function ao(c){const l=+c;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:zn(String(c))}function Rs(c,l,u,m){for(;u<m;){const y=c[u+m>>1];let b=u-1,k=m+1;for(;;){do b++;while(c[b]<y);do k--;while(c[k]>y);if(b>=k)break;ys(c,b,k),ys(l,3*b,3*k),ys(l,3*b+1,3*k+1),ys(l,3*b+2,3*k+2)}k-u<m-k?(Rs(c,l,u,k),u=k+1):(Rs(c,l,k+1,m),m=k)}}function ys(c,l,u){const m=c[l];c[l]=c[u],c[u]=m}bt("FeaturePositionMap",ba);class Ja{constructor(l,u){this.gl=l.gl,this.location=u}}class Oo extends Ja{constructor(l,u){super(l,u),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class Zh extends Ja{constructor(l,u){super(l,u),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class Bo extends Ja{constructor(l,u){super(l,u),this.current=ai.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Ir=new Float32Array(16);function xs(c){return[ei(255*c.r,255*c.g),ei(255*c.b,255*c.a)]}class Zr{constructor(l,u,m){this.value=l,this.uniformNames=u.map((y=>`u_${y}`)),this.type=m}setUniform(l,u,m){l.set(m.constantOr(this.value))}getBinding(l,u,m){return this.type==="color"?new Bo(l,u):new Oo(l,u)}}class Kr{constructor(l,u){this.uniformNames=u.map((m=>`u_${m}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,u){this.pixelRatioFrom=u.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=u.tlbr,this.patternTo=l.tlbr}setConstantDashPositions(l,u){this.dashTo=[0,l.y,l.height,l.width],this.dashFrom=[0,u.y,u.height,u.width]}setUniform(l,u,m,y){let b=null;y==="u_pattern_to"?b=this.patternTo:y==="u_pattern_from"?b=this.patternFrom:y==="u_dasharray_to"?b=this.dashTo:y==="u_dasharray_from"?b=this.dashFrom:y==="u_pixel_ratio_to"?b=this.pixelRatioTo:y==="u_pixel_ratio_from"&&(b=this.pixelRatioFrom),b!==null&&l.set(b)}getBinding(l,u,m){return m.substr(0,9)==="u_pattern"||m.substr(0,12)==="u_dasharray_"?new Zh(l,u):new Oo(l,u)}}class qi{constructor(l,u,m,y){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=u.map((b=>({name:`a_${b}`,type:"Float32",components:m==="color"?2:1,offset:0}))),this.paintVertexArray=new y}populatePaintArray(l,u,m){const y=this.paintVertexArray.length,b=this.expression.evaluate(new ji(0,m),u,{},m.canonical,[],m.formattedSection);this.paintVertexArray.resize(l),this._setPaintValue(y,l,b)}updatePaintArray(l,u,m,y,b){const k=this.expression.evaluate(new ji(0,b),m,y);this._setPaintValue(l,u,k)}_setPaintValue(l,u,m){if(this.type==="color"){const y=xs(m);for(let b=l;b<u;b++)this.paintVertexArray.emplace(b,y[0],y[1])}else{for(let y=l;y<u;y++)this.paintVertexArray.emplace(y,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ui{constructor(l,u,m,y,b,k){this.expression=l,this.uniformNames=u.map((A=>`u_${A}_t`)),this.type=m,this.useIntegerZoom=y,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=u.map((A=>({name:`a_${A}`,type:"Float32",components:m==="color"?4:2,offset:0}))),this.paintVertexArray=new k}populatePaintArray(l,u,m){const y=this.expression.evaluate(new ji(this.zoom,m),u,{},m.canonical,[],m.formattedSection),b=this.expression.evaluate(new ji(this.zoom+1,m),u,{},m.canonical,[],m.formattedSection),k=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(k,l,y,b)}updatePaintArray(l,u,m,y,b){const k=this.expression.evaluate(new ji(this.zoom,b),m,y),A=this.expression.evaluate(new ji(this.zoom+1,b),m,y);this._setPaintValue(l,u,k,A)}_setPaintValue(l,u,m,y){if(this.type==="color"){const b=xs(m),k=xs(y);for(let A=l;A<u;A++)this.paintVertexArray.emplace(A,b[0],b[1],k[0],k[1])}else{for(let b=l;b<u;b++)this.paintVertexArray.emplace(b,m,y);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(y))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,u){const m=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,y=Tt(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(y)}getBinding(l,u,m){return new Oo(l,u)}}class na{constructor(l,u,m,y,b,k){this.expression=l,this.type=u,this.useIntegerZoom=m,this.zoom=y,this.layerId=k,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(l,u,m){const y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(y,l,this.getPositionIds(u),m)}updatePaintArray(l,u,m,y,b){this._setPaintValues(l,u,this.getPositionIds(m),b)}_setPaintValues(l,u,m,y){const b=this.getPositions(y);if(!b||!m)return;const k=b[m.min],A=b[m.mid],I=b[m.max];if(k&&A&&I)for(let R=l;R<u;R++)this.emplace(this.zoomInPaintVertexArray,R,A,k),this.emplace(this.zoomOutPaintVertexArray,R,A,I)}upload(l){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const u=this.getVertexAttributes();this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,u,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,u,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class aa extends na{getPositions(l){return l.imagePositions}getPositionIds(l){return l.patterns&&l.patterns[this.layerId]}getVertexAttributes(){return Fi.members}emplace(l,u,m,y){l.emplace(u,m.tlbr[0],m.tlbr[1],m.tlbr[2],m.tlbr[3],y.tlbr[0],y.tlbr[1],y.tlbr[2],y.tlbr[3],m.pixelRatio,y.pixelRatio)}}class Og extends na{getPositions(l){return l.dashPositions}getPositionIds(l){return l.dashes&&l.dashes[this.layerId]}getVertexAttributes(){return Qi.members}emplace(l,u,m,y){l.emplace(u,0,m.y,m.height,m.width,0,y.y,y.height,y.width)}}class Bg{constructor(l,u,m){this.binders={},this._buffers=[];const y=[];for(const b in l.paint._values){if(!m(b))continue;const k=l.paint.get(b);if(!(k instanceof Yr&&Sl(k.property.specification)))continue;const A=Vx(b,l.type),I=k.value,R=k.property.specification.type,B=k.property.useIntegerZoom,V=k.property.specification["property-type"],W=V==="cross-faded"||V==="cross-faded-data-driven";if(I.kind==="constant")this.binders[b]=W?new Kr(I.value,A):new Zr(I.value,A,R),y.push(`/u_${b}`);else if(I.kind==="source"||W){const q=jg(b,R,"source");this.binders[b]=W?b==="line-dasharray"?new Og(I,R,B,u,q,l.id):new aa(I,R,B,u,q,l.id):new qi(I,A,R,q),y.push(`/a_${b}`)}else{const q=jg(b,R,"composite");this.binders[b]=new Ui(I,A,R,B,u,q),y.push(`/z_${b}`)}}this.cacheKey=y.sort().join("")}getMaxValue(l){const u=this.binders[l];return u instanceof qi||u instanceof Ui?u.maxValue:0}populatePaintArrays(l,u,m){for(const y in this.binders){const b=this.binders[y];(b instanceof qi||b instanceof Ui||b instanceof na)&&b.populatePaintArray(l,u,m)}}setConstantPatternPositions(l,u){for(const m in this.binders){const y=this.binders[m];y instanceof Kr&&y.setConstantPatternPositions(l,u)}}setConstantDashPositions(l,u){for(const m in this.binders){const y=this.binders[m];y instanceof Kr&&y.setConstantDashPositions(l,u)}}updatePaintArrays(l,u,m,y,b){let k=!1;for(const A in l){const I=u.getPositions(A);for(const R of I){const B=m.feature(R.index);for(const V in this.binders){const W=this.binders[V];if((W instanceof qi||W instanceof Ui||W instanceof na)&&W.expression.isStateDependent===!0){const q=y.paint.get(V);W.expression=q.value,W.updatePaintArray(R.start,R.end,B,l[A],b),k=!0}}}}return k}defines(){const l=[];for(const u in this.binders){const m=this.binders[u];(m instanceof Zr||m instanceof Kr)&&l.push(...m.uniformNames.map((y=>`#define HAS_UNIFORM_${y}`)))}return l}getBinderAttributes(){const l=[];for(const u in this.binders){const m=this.binders[u];if(m instanceof qi||m instanceof Ui)for(let y=0;y<m.paintVertexAttributes.length;y++)l.push(m.paintVertexAttributes[y].name);else if(m instanceof na){const y=m.getVertexAttributes();for(const b of y)l.push(b.name)}}return l}getBinderUniforms(){const l=[];for(const u in this.binders){const m=this.binders[u];if(m instanceof Zr||m instanceof Kr||m instanceof Ui)for(const y of m.uniformNames)l.push(y)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,u){const m=[];for(const y in this.binders){const b=this.binders[y];if(b instanceof Zr||b instanceof Kr||b instanceof Ui){for(const k of b.uniformNames)if(u[k]){const A=b.getBinding(l,u[k],k);m.push({name:k,property:y,binding:A})}}}return m}setUniforms(l,u,m,y){for(const{name:b,property:k,binding:A}of u)this.binders[k].setUniform(A,y,m.get(k),b)}updatePaintBuffers(l){this._buffers=[];for(const u in this.binders){const m=this.binders[u];if(l&&m instanceof na){const y=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(m instanceof qi||m instanceof Ui)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const u in this.binders){const m=this.binders[u];(m instanceof qi||m instanceof Ui||m instanceof na)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const u=this.binders[l];(u instanceof qi||u instanceof Ui||u instanceof na)&&u.destroy()}}}class jo{constructor(l,u,m=()=>!0){this.programConfigurations={};for(const y of l)this.programConfigurations[y.id]=new Bg(y,u,m);this.needsUpload=!1,this._featureMap=new ba,this._bufferOffset=0}populatePaintArrays(l,u,m,y){for(const b in this.programConfigurations)this.programConfigurations[b].populatePaintArrays(l,u,y);u.id!==void 0&&this._featureMap.add(u.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,u,m,y){for(const b of m)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(l,this._featureMap,u,b,y)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Vx(c,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[c]||[c.replace(`${l}-`,"").replace(/-/g,"_")]}function jg(c,l,u){const m={color:{source:Wh,composite:f},number:{source:Rc,composite:Wh}},y=(function(b){return{"line-pattern":{source:Se,composite:Se},"fill-pattern":{source:Se,composite:Se},"fill-extrusion-pattern":{source:Se,composite:Se},"line-dasharray":{source:Pe,composite:Pe}}[b]})(c);return y&&y[u]||m[l][u]}bt("ConstantBinder",Zr),bt("CrossFadedConstantBinder",Kr),bt("SourceExpressionBinder",qi),bt("CrossFadedPatternBinder",aa),bt("CrossFadedDasharrayBinder",Og),bt("CompositeExpressionBinder",Ui),bt("ProgramConfiguration",Bg,{omit:["_buffers"]}),bt("ProgramConfigurationSet",jo);const Vf=Math.pow(2,14)-1,ro=-Vf-1;function so(c){const l=Qe/c.extent,u=c.loadGeometry();for(let m=0;m<u.length;m++){const y=u[m];for(let b=0;b<y.length;b++){const k=y[b],A=Math.round(k.x*l),I=Math.round(k.y*l);k.x=Tt(A,ro,Vf),k.y=Tt(I,ro,Vf),(A<k.x||A>k.x+1||I<k.y||I>k.y+1)&&Zt("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return u}function oo(c,l){return{type:c.type,id:c.id,properties:c.properties,geometry:l?so(c):[]}}const Hf=-32768;function Gf(c,l,u,m,y){c.emplaceBack(Hf+8*l+m,Hf+8*u+y)}class Oc{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((u=>u.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new me,this.indexArray=new We,this.segments=new mt,this.programConfigurations=new jo(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((u=>u.isStateDependent())).map((u=>u.id))}populate(l,u,m){const y=this.layers[0],b=[];let k=null,A=!1,I=y.type==="heatmap";if(y.type==="circle"){const B=y;k=B.layout.get("circle-sort-key"),A=!k.isConstant(),I=I||B.paint.get("circle-pitch-alignment")==="map"}const R=I?u.subdivisionGranularity.circle:1;for(const{feature:B,id:V,index:W,sourceLayerIndex:q}of l){const J=this.layers[0]._featureFilter.needGeometry,ee=oo(B,J);if(!this.layers[0]._featureFilter.filter(new ji(this.zoom),ee,m))continue;const ne=A?k.evaluate(ee,{},m):void 0,le={id:V,properties:B.properties,type:B.type,sourceLayerIndex:q,index:W,geometry:J?ee.geometry:so(B),patterns:{},sortKey:ne};b.push(le)}A&&b.sort(((B,V)=>B.sortKey-V.sortKey));for(const B of b){const{geometry:V,index:W,sourceLayerIndex:q}=B,J=l[W].feature;this.addFeature(B,V,W,m,R),u.featureIndex.insert(J,V,W,q,this.index)}}update(l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,u,this.stateDependentLayers,{imagePositions:m})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,rt),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,u,m,y,b=1){let k;switch(b){case 1:k=[0,7];break;case 3:k=[0,2,5,7];break;case 5:k=[0,1,3,4,6,7];break;case 7:k=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${b}; valid values are 1, 3, 5, 7.`)}const A=k.length;for(const I of u)for(const R of I){const B=R.x,V=R.y;if(B<0||B>=Qe||V<0||V>=Qe)continue;const W=this.segments.prepareSegment(A*A,this.layoutVertexArray,this.indexArray,l.sortKey),q=W.vertexLength;for(let J=0;J<A;J++)for(let ee=0;ee<A;ee++)Gf(this.layoutVertexArray,B,V,k[ee],k[J]);for(let J=0;J<A-1;J++)for(let ee=0;ee<A-1;ee++){const ne=q+J*A+ee,le=q+(J+1)*A+ee;this.indexArray.emplaceBack(ne,le+1,ne+1),this.indexArray.emplaceBack(ne,le,le+1)}W.vertexLength+=A*A,W.primitiveLength+=(A-1)*(A-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:{},canonical:y})}}function Bc(c,l){for(let u=0;u<c.length;u++)if(jc(l,c[u]))return!0;for(let u=0;u<l.length;u++)if(jc(c,l[u]))return!0;return!!Hx(c,l)}function Ng(c,l,u){return!!jc(c,l)||!!Gx(l,c,u)}function E1(c,l){if(c.length===1)return D1(l,c[0]);for(let u=0;u<l.length;u++){const m=l[u];for(let y=0;y<m.length;y++)if(jc(c,m[y]))return!0}for(let u=0;u<c.length;u++)if(D1(l,c[u]))return!0;for(let u=0;u<l.length;u++)if(Hx(c,l[u]))return!0;return!1}function SE(c,l,u){if(c.length>1){if(Hx(c,l))return!0;for(let m=0;m<l.length;m++)if(Gx(l[m],c,u))return!0}for(let m=0;m<c.length;m++)if(Gx(c[m],l,u))return!0;return!1}function Hx(c,l){if(c.length===0||l.length===0)return!1;for(let u=0;u<c.length-1;u++){const m=c[u],y=c[u+1];for(let b=0;b<l.length-1;b++)if(TE(m,y,l[b],l[b+1]))return!0}return!1}function TE(c,l,u,m){return Bi(c,u,m)!==Bi(l,u,m)&&Bi(c,l,u)!==Bi(c,l,m)}function Gx(c,l,u){const m=u*u;if(l.length===1)return c.distSqr(l[0])<m;for(let y=1;y<l.length;y++)if(I1(c,l[y-1],l[y])<m)return!0;return!1}function I1(c,l,u){const m=l.distSqr(u);if(m===0)return c.distSqr(l);const y=((c.x-l.x)*(u.x-l.x)+(c.y-l.y)*(u.y-l.y))/m;return c.distSqr(y<0?l:y>1?u:u.sub(l)._mult(y)._add(l))}function D1(c,l){let u,m,y,b=!1;for(let k=0;k<c.length;k++){u=c[k];for(let A=0,I=u.length-1;A<u.length;I=A++)m=u[A],y=u[I],m.y>l.y!=y.y>l.y&&l.x<(y.x-m.x)*(l.y-m.y)/(y.y-m.y)+m.x&&(b=!b)}return b}function jc(c,l){let u=!1;for(let m=0,y=c.length-1;m<c.length;y=m++){const b=c[m],k=c[y];b.y>l.y!=k.y>l.y&&l.x<(k.x-b.x)*(l.y-b.y)/(k.y-b.y)+b.x&&(u=!u)}return u}function CE(c,l,u){const m=u[0],y=u[2];if(c.x<m.x&&l.x<m.x||c.x>y.x&&l.x>y.x||c.y<m.y&&l.y<m.y||c.y>y.y&&l.y>y.y)return!1;const b=Bi(c,l,u[0]);return b!==Bi(c,l,u[1])||b!==Bi(c,l,u[2])||b!==Bi(c,l,u[3])}function Nc(c,l,u){const m=l.paint.get(c).value;return m.kind==="constant"?m.value:u.programConfigurations.get(l.id).getMaxValue(c)}function $g(c){return Math.sqrt(c[0]*c[0]+c[1]*c[1])}function Vg(c,l,u,m,y){if(!l[0]&&!l[1])return c;const b=d.convert(l)._mult(y);u==="viewport"&&b._rotate(-m);const k=[];for(let A=0;A<c.length;A++)k.push(c[A].sub(b));return k}function AE(c){const l=[];for(let u=0;u<c.length;u++){const m=c[u],y=l.at(-1);(u===0||y&&!m.equals(y))&&l.push(m)}return l}function ME({queryGeometry:c,size:l},u){return Ng(c,u,l)}function PE({queryGeometry:c,size:l,transform:u,unwrappedTileID:m,getElevation:y},b){return Ng(c,b,l*(u.projectTileCoordinates(b.x,b.y,m,y).signedDistanceFromCamera/u.cameraToCenterDistance))}function LE({queryGeometry:c,size:l,transform:u,unwrappedTileID:m,getElevation:y},b){const k=u.projectTileCoordinates(b.x,b.y,m,y).signedDistanceFromCamera,A=l*(u.cameraToCenterDistance/k);return Ng(c,Ux(b,u,m,y),A)}function EE({queryGeometry:c,size:l,transform:u,unwrappedTileID:m,getElevation:y},b){return Ng(c,Ux(b,u,m,y),l)}function z1({queryGeometry:c,size:l,transform:u,unwrappedTileID:m,getElevation:y,pitchAlignment:b="map",pitchScale:k="map"},A){const I=b==="map"?k==="map"?ME:PE:k==="map"?LE:EE,R={queryGeometry:c,size:l,transform:u,unwrappedTileID:m,getElevation:y};for(const B of A)for(const V of B)if(I(R,V))return!0;return!1}function Ux(c,l,u,m){const y=l.projectTileCoordinates(c.x,c.y,u,m).point;return new d((.5*y.x+.5)*l.width,(.5*-y.y+.5)*l.height)}let R1,F1;bt("CircleBucket",Oc,{omit:["layers"]});var IE={get paint(){return F1=F1||new Va({"circle-radius":new jt(je.paint_circle["circle-radius"]),"circle-color":new jt(je.paint_circle["circle-color"]),"circle-blur":new jt(je.paint_circle["circle-blur"]),"circle-opacity":new jt(je.paint_circle["circle-opacity"]),"circle-translate":new Lt(je.paint_circle["circle-translate"]),"circle-translate-anchor":new Lt(je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Lt(je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Lt(je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new jt(je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new jt(je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new jt(je.paint_circle["circle-stroke-opacity"])})},get layout(){return R1=R1||new Va({"circle-sort-key":new jt(je.layout_circle["circle-sort-key"])})}};class DE extends Er{constructor(l,u){super(l,IE,u)}createBucket(l){return new Oc(l)}queryRadius(l){const u=l;return Nc("circle-radius",this,u)+Nc("circle-stroke-width",this,u)+$g(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:u,featureState:m,geometry:y,transform:b,pixelsToTileUnits:k,unwrappedTileID:A,getElevation:I}){const R=Vg(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-b.bearingInRadians,k),B=this.paint.get("circle-radius").evaluate(u,m)+this.paint.get("circle-stroke-width").evaluate(u,m),V=this.paint.get("circle-pitch-scale"),W=this.paint.get("circle-pitch-alignment");let q,J;return W==="map"?(q=R,J=B*k):(q=(function(ee,ne,le,_e){return ee.map((he=>Ux(he,ne,le,_e)))})(R,b,A,I),J=B),z1({queryGeometry:q,size:J,transform:b,unwrappedTileID:A,getElevation:I,pitchAlignment:W,pitchScale:V},y)}}class O1 extends Oc{}let B1;bt("HeatmapBucket",O1,{omit:["layers"]});var zE={get paint(){return B1=B1||new Va({"heatmap-radius":new jt(je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new jt(je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Lt(je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Lc(je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Lt(je.paint_heatmap["heatmap-opacity"])})}};function Wx(c,{width:l,height:u},m,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==l*u*m)throw new RangeError(`mismatched image size. expected: ${y.length} but got: ${l*u*m}`)}else y=new Uint8Array(l*u*m);return c.width=l,c.height=u,c.data=y,c}function j1(c,{width:l,height:u},m){if(l===c.width&&u===c.height)return;const y=Wx({},{width:l,height:u},m);Xx(c,y,{x:0,y:0},{x:0,y:0},{width:Math.min(c.width,l),height:Math.min(c.height,u)},m),c.width=l,c.height=u,c.data=y.data}function Xx(c,l,u,m,y,b){if(y.width===0||y.height===0)return l;if(y.width>c.width||y.height>c.height||u.x>c.width-y.width||u.y>c.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>l.width||y.height>l.height||m.x>l.width-y.width||m.y>l.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const k=c.data,A=l.data;if(k===A)throw new Error("srcData equals dstData, so image is already copied");for(let I=0;I<y.height;I++){const R=((u.y+I)*c.width+u.x)*b,B=((m.y+I)*l.width+m.x)*b;for(let V=0;V<y.width*b;V++)A[B+V]=k[R+V]}return l}class Uf{constructor(l,u){Wx(this,l,1,u)}resize(l){j1(this,l,1)}clone(){return new Uf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,u,m,y,b){Xx(l,u,m,y,b,1)}}class dr{constructor(l,u){Wx(this,l,4,u)}resize(l){j1(this,l,4)}replace(l,u){u?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new dr({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,u,m,y,b){Xx(l,u,m,y,b,4)}setPixel(l,u,m){const y=4*(l*this.width+u);this.data[y+0]=Math.round(255*m.r/m.a),this.data[y+1]=Math.round(255*m.g/m.a),this.data[y+2]=Math.round(255*m.b/m.a),this.data[y+3]=Math.round(255*m.a)}}function N1(c){const l={},u=c.resolution||256,m=c.clips?c.clips.length:1,y=c.image||new dr({width:u,height:m});if(Math.log(u)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${u}`);const b=(k,A,I)=>{l[c.evaluationKey]=I;const R=c.expression.evaluate(l);y.setPixel(k/4/u,A/4,R)};if(c.clips)for(let k=0,A=0;k<m;++k,A+=4*u)for(let I=0,R=0;I<u;I++,R+=4){const B=I/(u-1),{start:V,end:W}=c.clips[k];b(A,R,V*(1-B)+W*B)}else for(let k=0,A=0;k<u;k++,A+=4)b(0,A,k/(u-1));return y}bt("AlphaImage",Uf),bt("RGBAImage",dr);const qx="big-fb";class RE extends Er{createBucket(l){return new O1(l)}constructor(l,u){super(l,zE,u),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=N1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(qx)&&this.heatmapFbos.delete(qx)}queryRadius(l){return Nc("heatmap-radius",this,l)}queryIntersectsFeature({queryGeometry:l,feature:u,featureState:m,geometry:y,transform:b,pixelsToTileUnits:k,unwrappedTileID:A,getElevation:I}){return z1({queryGeometry:l,size:this.paint.get("heatmap-radius").evaluate(u,m)*k,transform:b,unwrappedTileID:A,getElevation:I},y)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let $1;var FE={get paint(){return $1=$1||new Va({"hillshade-illumination-direction":new Lt(je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Lt(je.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Lt(je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Lt(je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Lt(je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Lt(je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Lt(je.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Lt(je.paint_hillshade["hillshade-method"])})}};class OE extends Er{constructor(l,u){super(l,FE,u),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,u=this.paint.get("hillshade-illumination-altitude").values,m=this.paint.get("hillshade-highlight-color").values,y=this.paint.get("hillshade-shadow-color").values;const b=Math.max(l.length,u.length,m.length,y.length);l=l.concat(Array(b-l.length).fill(l.at(-1))),u=u.concat(Array(b-u.length).fill(u.at(-1))),m=m.concat(Array(b-m.length).fill(m.at(-1))),y=y.concat(Array(b-y.length).fill(y.at(-1)));const k=u.map(Ya);return{directionRadians:l.map(Ya),altitudeRadians:k,shadowColor:y,highlightColor:m}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let V1;var BE={get paint(){return V1=V1||new Va({"color-relief-opacity":new Lt(je["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Lc(je["paint_color-relief"]["color-relief-color"])})}};class Yx{constructor(l,u,m,y){this.context=l,this.format=m,this.texture=l.gl.createTexture(),this.update(u,y)}update(l,u,m){const{width:y,height:b}=l,k=!(this.size&&this.size[0]===y&&this.size[1]===b||m),{context:A}=this,{gl:I}=A;if(this.useMipmap=!!(u&&u.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),A.pixelStoreUnpackFlipY.set(!1),A.pixelStoreUnpack.set(1),A.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!u||u.premultiply!==!1)),k)this.size=[y,b],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Mn(l)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,l):I.texImage2D(I.TEXTURE_2D,0,this.format,y,b,0,this.format,I.UNSIGNED_BYTE,l.data);else{const{x:R,y:B}=m||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Mn(l)?I.texSubImage2D(I.TEXTURE_2D,0,R,B,I.RGBA,I.UNSIGNED_BYTE,l):I.texSubImage2D(I.TEXTURE_2D,0,R,B,y,b,I.RGBA,I.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D),A.pixelStoreUnpackFlipY.setDefault(),A.pixelStoreUnpack.setDefault(),A.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,u,m){const{context:y}=this,{gl:b}=y;b.bindTexture(b.TEXTURE_2D,this.texture),m!==b.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=b.LINEAR),l!==this.filter&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,l),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m||l),this.filter=l),u!==this.wrap&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,u),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class H1{constructor(l,u,m,y=1,b=1,k=1,A=0){if(this.uid=l,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void Zt(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=u.height;const I=this.dim=u.height-2;switch(this.data=new Uint32Array(u.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=y,this.greenFactor=b,this.blueFactor=k,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let R=0;R<I;R++)this.data[this._idx(-1,R)]=this.data[this._idx(0,R)],this.data[this._idx(I,R)]=this.data[this._idx(I-1,R)],this.data[this._idx(R,-1)]=this.data[this._idx(R,0)],this.data[this._idx(R,I)]=this.data[this._idx(R,I-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(I,-1)]=this.data[this._idx(I-1,0)],this.data[this._idx(-1,I)]=this.data[this._idx(0,I-1)],this.data[this._idx(I,I)]=this.data[this._idx(I-1,I-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let R=0;R<I;R++)for(let B=0;B<I;B++){const V=this.get(R,B);V>this.max&&(this.max=V),V<this.min&&(this.min=V)}}get(l,u){const m=new Uint8Array(this.data.buffer),y=4*this._idx(l,u);return this.unpack(m[y],m[y+1],m[y+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,u){if(l<-1||l>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${l}, y: ${u}, dim: ${this.dim}`);return(u+1)*this.stride+(l+1)}unpack(l,u,m){return l*this.redFactor+u*this.greenFactor+m*this.blueFactor-this.baseShift}pack(l){return G1(l,this.getUnpackVector())}getPixels(){return new dr({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,u,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let y=u*this.dim,b=u*this.dim+this.dim,k=m*this.dim,A=m*this.dim+this.dim;switch(u){case-1:y=b-1;break;case 1:b=y+1}switch(m){case-1:k=A-1;break;case 1:A=k+1}const I=-u*this.dim,R=-m*this.dim;for(let B=k;B<A;B++)for(let V=y;V<b;V++)this.data[this._idx(V,B)]=l.data[this._idx(V+I,B+R)]}}function G1(c,l){const u=l[0],m=l[1],y=l[2],b=l[3],k=Math.min(u,m,y),A=Math.round((c+b)/k);return{r:Math.floor(A*k/u)%256,g:Math.floor(A*k/m)%256,b:Math.floor(A*k/y)%256}}bt("DEMData",H1);class jE extends Er{constructor(l,u){super(l,BE,u)}_createColorRamp(l){const u={elevationStops:[],colorStops:[]},m=this._transitionablePaint._values["color-relief-color"].value.expression;if(m instanceof _c&&m._styleExpression.expression instanceof $a){this.colorRampExpression=m;const k=m._styleExpression.expression;u.elevationStops=k.labels,u.colorStops=[];for(const A of u.elevationStops)u.colorStops.push(k.evaluate({globals:{elevation:A}}))}if(u.elevationStops.length<1&&(u.elevationStops=[0],u.colorStops=[ai.transparent]),u.elevationStops.length<2&&(u.elevationStops.push(u.elevationStops[0]+1),u.colorStops.push(u.colorStops[0])),u.elevationStops.length<=l)return u;const y={elevationStops:[],colorStops:[]},b=(u.elevationStops.length-1)/(l-1);for(let k=0;k<u.elevationStops.length-.5;k+=b)y.elevationStops.push(u.elevationStops[Math.round(k)]),y.colorStops.push(u.colorStops[Math.round(k)]);return Zt(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${l}, provided: ${u.elevationStops.length}`),y}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,u,m){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const y=this._createColorRamp(u),b=new dr({width:y.colorStops.length,height:1}),k=new dr({width:y.colorStops.length,height:1});for(let A=0;A<y.elevationStops.length;A++){const I=G1(y.elevationStops[A],m);k.setPixel(0,A,new ai(I.r/255,I.g/255,I.b/255,1)),b.setPixel(0,A,y.colorStops[A])}return this.colorRampTextures={elevationTexture:new Yx(l,k,l.gl.RGBA),colorTexture:new Yx(l,b,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}const NE=Dn([{name:"a_pos",components:2,type:"Int16"}],4),{members:$E}=NE;function Hg(c,l,u){const m=u.patternDependencies;let y=!1;for(const b of l){const k=b.paint.get(`${c}-pattern`);k.isConstant()||(y=!0);const A=k.constantOr(null);A&&(y=!0,m[A.to]=!0,m[A.from]=!0)}return y}function Zx(c,l,u,m,y){const{zoom:b}=m,k=y.patternDependencies;for(const A of l){const I=A.paint.get(`${c}-pattern`).value;if(I.kind!=="constant"){let R=I.evaluate({zoom:b-1},u,{},y.availableImages),B=I.evaluate({zoom:b},u,{},y.availableImages),V=I.evaluate({zoom:b+1},u,{},y.availableImages);R=R&&R.name?R.name:R,B=B&&B.name?B.name:B,V=V&&V.name?V.name:V,k[R]=!0,k[B]=!0,k[V]=!0,u.patterns[A.id]={min:R,mid:B,max:V}}}return u}function U1(c,l,u,m,y){let b;if(y===(function(k,A,I,R){let B=0;for(let V=A,W=I-R;V<I;V+=R)B+=(k[W]-k[V])*(k[V+1]+k[W+1]),W=V;return B})(c,l,u,m)>0)for(let k=l;k<u;k+=m)b=Y1(k/m|0,c[k],c[k+1],b);else for(let k=u-m;k>=l;k-=m)b=Y1(k/m|0,c[k],c[k+1],b);return b&&$c(b,b.next)&&(Yf(b),b=b.next),b}function Kh(c,l){if(!c)return c;l||(l=c);let u,m=c;do if(u=!1,m.steiner||!$c(m,m.next)&&Vn(m.prev,m,m.next)!==0)m=m.next;else{if(Yf(m),m=l=m.prev,m===m.next)break;u=!0}while(u||m!==l);return l}function Wf(c,l,u,m,y,b,k){if(!c)return;!k&&b&&(function(I,R,B,V){let W=I;do W.z===0&&(W.z=Kx(W.x,W.y,R,B,V)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==I);W.prevZ.nextZ=null,W.prevZ=null,(function(q){let J,ee=1;do{let ne,le=q;q=null;let _e=null;for(J=0;le;){J++;let he=le,de=0;for(let Te=0;Te<ee&&(de++,he=he.nextZ,he);Te++);let be=ee;for(;de>0||be>0&&he;)de!==0&&(be===0||!he||le.z<=he.z)?(ne=le,le=le.nextZ,de--):(ne=he,he=he.nextZ,be--),_e?_e.nextZ=ne:q=ne,ne.prevZ=_e,_e=ne;le=he}_e.nextZ=null,ee*=2}while(J>1)})(W)})(c,m,y,b);let A=c;for(;c.prev!==c.next;){const I=c.prev,R=c.next;if(b?HE(c,m,y,b):VE(c))l.push(I.i,c.i,R.i),Yf(c),c=R.next,A=R.next;else if((c=R)===A){k?k===1?Wf(c=GE(Kh(c),l),l,u,m,y,b,2):k===2&&UE(c,l,u,m,y,b):Wf(Kh(c),l,u,m,y,b,1);break}}}function VE(c){const l=c.prev,u=c,m=c.next;if(Vn(l,u,m)>=0)return!1;const y=l.x,b=u.x,k=m.x,A=l.y,I=u.y,R=m.y,B=Math.min(y,b,k),V=Math.min(A,I,R),W=Math.max(y,b,k),q=Math.max(A,I,R);let J=m.next;for(;J!==l;){if(J.x>=B&&J.x<=W&&J.y>=V&&J.y<=q&&Xf(y,A,b,I,k,R,J.x,J.y)&&Vn(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function HE(c,l,u,m){const y=c.prev,b=c,k=c.next;if(Vn(y,b,k)>=0)return!1;const A=y.x,I=b.x,R=k.x,B=y.y,V=b.y,W=k.y,q=Math.min(A,I,R),J=Math.min(B,V,W),ee=Math.max(A,I,R),ne=Math.max(B,V,W),le=Kx(q,J,l,u,m),_e=Kx(ee,ne,l,u,m);let he=c.prevZ,de=c.nextZ;for(;he&&he.z>=le&&de&&de.z<=_e;){if(he.x>=q&&he.x<=ee&&he.y>=J&&he.y<=ne&&he!==y&&he!==k&&Xf(A,B,I,V,R,W,he.x,he.y)&&Vn(he.prev,he,he.next)>=0||(he=he.prevZ,de.x>=q&&de.x<=ee&&de.y>=J&&de.y<=ne&&de!==y&&de!==k&&Xf(A,B,I,V,R,W,de.x,de.y)&&Vn(de.prev,de,de.next)>=0))return!1;de=de.nextZ}for(;he&&he.z>=le;){if(he.x>=q&&he.x<=ee&&he.y>=J&&he.y<=ne&&he!==y&&he!==k&&Xf(A,B,I,V,R,W,he.x,he.y)&&Vn(he.prev,he,he.next)>=0)return!1;he=he.prevZ}for(;de&&de.z<=_e;){if(de.x>=q&&de.x<=ee&&de.y>=J&&de.y<=ne&&de!==y&&de!==k&&Xf(A,B,I,V,R,W,de.x,de.y)&&Vn(de.prev,de,de.next)>=0)return!1;de=de.nextZ}return!0}function GE(c,l){let u=c;do{const m=u.prev,y=u.next.next;!$c(m,y)&&X1(m,u,u.next,y)&&qf(m,y)&&qf(y,m)&&(l.push(m.i,u.i,y.i),Yf(u),Yf(u.next),u=c=y),u=u.next}while(u!==c);return Kh(u)}function UE(c,l,u,m,y,b){let k=c;do{let A=k.next.next;for(;A!==k.prev;){if(k.i!==A.i&&ZE(k,A)){let I=q1(k,A);return k=Kh(k,k.next),I=Kh(I,I.next),Wf(k,l,u,m,y,b,0),void Wf(I,l,u,m,y,b,0)}A=A.next}k=k.next}while(k!==c)}function WE(c,l){let u=c.x-l.x;return u===0&&(u=c.y-l.y,u===0)&&(u=(c.next.y-c.y)/(c.next.x-c.x)-(l.next.y-l.y)/(l.next.x-l.x)),u}function XE(c,l){const u=(function(y,b){let k=b;const A=y.x,I=y.y;let R,B=-1/0;if($c(y,k))return k;do{if($c(y,k.next))return k.next;if(I<=k.y&&I>=k.next.y&&k.next.y!==k.y){const ee=k.x+(I-k.y)*(k.next.x-k.x)/(k.next.y-k.y);if(ee<=A&&ee>B&&(B=ee,R=k.x<k.next.x?k:k.next,ee===A))return R}k=k.next}while(k!==b);if(!R)return null;const V=R,W=R.x,q=R.y;let J=1/0;k=R;do{if(A>=k.x&&k.x>=W&&A!==k.x&&W1(I<q?A:B,I,W,q,I<q?B:A,I,k.x,k.y)){const ee=Math.abs(I-k.y)/(A-k.x);qf(k,y)&&(ee<J||ee===J&&(k.x>R.x||k.x===R.x&&qE(R,k)))&&(R=k,J=ee)}k=k.next}while(k!==V);return R})(c,l);if(!u)return l;const m=q1(u,c);return Kh(m,m.next),Kh(u,u.next)}function qE(c,l){return Vn(c.prev,c,l.prev)<0&&Vn(l.next,c,c.next)<0}function Kx(c,l,u,m,y){return(c=1431655765&((c=858993459&((c=252645135&((c=16711935&((c=(c-u)*y|0)|c<<8))|c<<4))|c<<2))|c<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*y|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function YE(c){let l=c,u=c;do(l.x<u.x||l.x===u.x&&l.y<u.y)&&(u=l),l=l.next;while(l!==c);return u}function W1(c,l,u,m,y,b,k,A){return(y-k)*(l-A)>=(c-k)*(b-A)&&(c-k)*(m-A)>=(u-k)*(l-A)&&(u-k)*(b-A)>=(y-k)*(m-A)}function Xf(c,l,u,m,y,b,k,A){return!(c===k&&l===A)&&W1(c,l,u,m,y,b,k,A)}function ZE(c,l){return c.next.i!==l.i&&c.prev.i!==l.i&&!(function(u,m){let y=u;do{if(y.i!==u.i&&y.next.i!==u.i&&y.i!==m.i&&y.next.i!==m.i&&X1(y,y.next,u,m))return!0;y=y.next}while(y!==u);return!1})(c,l)&&(qf(c,l)&&qf(l,c)&&(function(u,m){let y=u,b=!1;const k=(u.x+m.x)/2,A=(u.y+m.y)/2;do y.y>A!=y.next.y>A&&y.next.y!==y.y&&k<(y.next.x-y.x)*(A-y.y)/(y.next.y-y.y)+y.x&&(b=!b),y=y.next;while(y!==u);return b})(c,l)&&(Vn(c.prev,c,l.prev)||Vn(c,l.prev,l))||$c(c,l)&&Vn(c.prev,c,c.next)>0&&Vn(l.prev,l,l.next)>0)}function Vn(c,l,u){return(l.y-c.y)*(u.x-l.x)-(l.x-c.x)*(u.y-l.y)}function $c(c,l){return c.x===l.x&&c.y===l.y}function X1(c,l,u,m){const y=Ug(Vn(c,l,u)),b=Ug(Vn(c,l,m)),k=Ug(Vn(u,m,c)),A=Ug(Vn(u,m,l));return y!==b&&k!==A||!(y!==0||!Gg(c,u,l))||!(b!==0||!Gg(c,m,l))||!(k!==0||!Gg(u,c,m))||!(A!==0||!Gg(u,l,m))}function Gg(c,l,u){return l.x<=Math.max(c.x,u.x)&&l.x>=Math.min(c.x,u.x)&&l.y<=Math.max(c.y,u.y)&&l.y>=Math.min(c.y,u.y)}function Ug(c){return c>0?1:c<0?-1:0}function qf(c,l){return Vn(c.prev,c,c.next)<0?Vn(c,l,c.next)>=0&&Vn(c,c.prev,l)>=0:Vn(c,l,c.prev)<0||Vn(c,c.next,l)<0}function q1(c,l){const u=Jx(c.i,c.x,c.y),m=Jx(l.i,l.x,l.y),y=c.next,b=l.prev;return c.next=l,l.prev=c,u.next=y,y.prev=u,m.next=u,u.prev=m,b.next=m,m.prev=b,m}function Y1(c,l,u,m){const y=Jx(c,l,u);return m?(y.next=m.next,y.prev=m,m.next.prev=y,m.next=y):(y.prev=y,y.next=y),y}function Yf(c){c.next.prev=c.prev,c.prev.next=c.next,c.prevZ&&(c.prevZ.nextZ=c.nextZ),c.nextZ&&(c.nextZ.prevZ=c.prevZ)}function Jx(c,l,u){return{i:c,x:l,y:u,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class Vc{constructor(l,u){if(u>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=u}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class Wg{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}Wg.noSubdivision=new Wg({fill:new Vc(0,0),line:new Vc(0,0),tile:new Vc(0,0),stencil:new Vc(0,0),circle:1}),bt("SubdivisionGranularityExpression",Vc),bt("SubdivisionGranularitySetting",Wg);const Hc=-32768,Zf=32767;class KE{constructor(l,u){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=Qe/l,this._canonical=u}_getKey(l,u){return(l+=32768)<<16|u+32768}_vertexToIndex(l,u){if(l<-32768||u<-32768||l>32767||u>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const m=0|Math.round(l),y=0|Math.round(u),b=this._getKey(m,y);if(this._vertexDictionary.has(b))return this._vertexDictionary.get(b);const k=this._vertexBuffer.length/2;return this._vertexDictionary.set(b,k),this._vertexBuffer.push(m,y),k}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(y,b){const k=[];for(let A=0;A<b.length;A+=3){const I=b[A],R=b[A+1],B=b[A+2],V=y[2*I],W=y[2*I+1];(y[2*R]-V)*(y[2*B+1]-W)-(y[2*R+1]-W)*(y[2*B]-V)>0?(k.push(I),k.push(B),k.push(R)):(k.push(I),k.push(R),k.push(B))}return k})(this._vertexBuffer,l);const u=[],m=l.length;for(let y=0;y<m;y+=3){const b=[l[y+0],l[y+1],l[y+2]],k=[this._vertexBuffer[2*l[y+0]+0],this._vertexBuffer[2*l[y+0]+1],this._vertexBuffer[2*l[y+1]+0],this._vertexBuffer[2*l[y+1]+1],this._vertexBuffer[2*l[y+2]+0],this._vertexBuffer[2*l[y+2]+1]];let A=1/0,I=1/0,R=-1/0,B=-1/0;for(let ee=0;ee<3;ee++){const ne=k[2*ee],le=k[2*ee+1];A=Math.min(A,ne),R=Math.max(R,ne),I=Math.min(I,le),B=Math.max(B,le)}if(A===R||I===B)continue;const V=Math.floor(A/this._granularityCellSize),W=Math.ceil(R/this._granularityCellSize),q=Math.floor(I/this._granularityCellSize),J=Math.ceil(B/this._granularityCellSize);if(V!==W||q!==J)for(let ee=q;ee<J;ee++){const ne=this._scanlineGenerateVertexRingForCellRow(ee,k,b);JE(this._vertexBuffer,ne,u)}else u.push(...b)}return u}_scanlineGenerateVertexRingForCellRow(l,u,m){const y=l*this._granularityCellSize,b=y+this._granularityCellSize,k=[];for(let A=0;A<3;A++){const I=u[2*A],R=u[2*A+1],B=u[2*(A+1)%6],V=u[(2*(A+1)+1)%6],W=u[2*(A+2)%6],q=u[(2*(A+2)+1)%6],J=B-I,ee=V-R,ne=J===0,le=ee===0,_e=(y-R)/ee,he=(b-R)/ee,de=Math.min(_e,he),be=Math.max(_e,he);if(!le&&(de>=1||be<=0)||le&&(R<y||R>b)){V>=y&&V<=b&&k.push(m[(A+1)%3]);continue}!le&&de>0&&k.push(this._vertexToIndex(I+J*de,R+ee*de));const Te=I+J*Math.max(de,0),Ne=I+J*Math.min(be,1);ne||this._generateIntraEdgeVertices(k,I,R,B,V,Te,Ne),!le&&be<1&&k.push(this._vertexToIndex(I+J*be,R+ee*be)),(le||V>=y&&V<=b)&&k.push(m[(A+1)%3]),!le&&(V<=y||V>=b)&&this._generateInterEdgeVertices(k,I,R,B,V,W,q,Ne,y,b)}return k}_generateIntraEdgeVertices(l,u,m,y,b,k,A){const I=y-u,R=b-m,B=R===0,V=B?Math.min(u,y):Math.min(k,A),W=B?Math.max(u,y):Math.max(k,A),q=Math.floor(V/this._granularityCellSize)+1,J=Math.ceil(W/this._granularityCellSize)-1;if(B?u<y:k<A)for(let ee=q;ee<=J;ee++){const ne=ee*this._granularityCellSize;l.push(this._vertexToIndex(ne,m+R*(ne-u)/I))}else for(let ee=J;ee>=q;ee--){const ne=ee*this._granularityCellSize;l.push(this._vertexToIndex(ne,m+R*(ne-u)/I))}}_generateInterEdgeVertices(l,u,m,y,b,k,A,I,R,B){const V=b-m,W=k-y,q=A-b,J=(R-b)/q,ee=(B-b)/q,ne=Math.min(J,ee),le=Math.max(J,ee),_e=y+W*ne;let he=Math.floor(Math.min(_e,I)/this._granularityCellSize)+1,de=Math.ceil(Math.max(_e,I)/this._granularityCellSize)-1,be=I<_e;const Te=q===0;if(Te&&(A===R||A===B))return;if(Te||ne>=1||le<=0){const et=m-A,Ze=k+(u-k)*Math.min((R-A)/et,(B-A)/et);he=Math.floor(Math.min(Ze,I)/this._granularityCellSize)+1,de=Math.ceil(Math.max(Ze,I)/this._granularityCellSize)-1,be=I<Ze}const Ne=V>0?B:R;if(be)for(let et=he;et<=de;et++)l.push(this._vertexToIndex(et*this._granularityCellSize,Ne));else for(let et=de;et>=he;et--)l.push(this._vertexToIndex(et*this._granularityCellSize,Ne))}_generateOutline(l){const u=[];for(const m of l){const y=Jh(m,this._granularity,!0),b=this._pointArrayToIndices(y),k=[];for(let A=1;A<b.length;A++)k.push(b[A-1]),k.push(b[A]);u.push(k)}return u}_handlePoles(l){let u=!1,m=!1;this._canonical&&(this._canonical.y===0&&(u=!0),this._canonical.y===(1<<this._canonical.z)-1&&(m=!0)),(u||m)&&this._fillPoles(l,u,m)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let u=0;u<l.length;u+=2){const m=l[u+1];m===Hc&&(l[u+1]=-32767),m===Zf&&(l[u+1]=32766)}}_generatePoleQuad(l,u,m,y,b,k){y>b!=(k===Hc)?(l.push(u),l.push(m),l.push(this._vertexToIndex(y,k)),l.push(m),l.push(this._vertexToIndex(b,k)),l.push(this._vertexToIndex(y,k))):(l.push(m),l.push(u),l.push(this._vertexToIndex(y,k)),l.push(this._vertexToIndex(b,k)),l.push(m),l.push(this._vertexToIndex(y,k)))}_fillPoles(l,u,m){const y=this._vertexBuffer,b=Qe,k=l.length;for(let A=2;A<k;A+=3){const I=l[A-2],R=l[A-1],B=l[A],V=y[2*I],W=y[2*I+1],q=y[2*R],J=y[2*R+1],ee=y[2*B],ne=y[2*B+1];u&&(W===0&&J===0&&this._generatePoleQuad(l,I,R,V,q,Hc),J===0&&ne===0&&this._generatePoleQuad(l,R,B,q,ee,Hc),ne===0&&W===0&&this._generatePoleQuad(l,B,I,ee,V,Hc)),m&&(W===b&&J===b&&this._generatePoleQuad(l,I,R,V,q,Zf),J===b&&ne===b&&this._generatePoleQuad(l,R,B,q,ee,Zf),ne===b&&W===b&&this._generatePoleQuad(l,B,I,ee,V,Zf))}}_initializeVertices(l){for(let u=0;u<l.length;u+=2)this._vertexToIndex(l[u],l[u+1])}subdividePolygonInternal(l,u){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:m,holeIndices:y}=(function(A){const I=[],R=[];for(const B of A)if(B.length!==0){B!==A[0]&&I.push(R.length/2);for(let V=0;V<B.length;V++)R.push(B[V].x),R.push(B[V].y)}return{flattened:R,holeIndices:I}})(l);let b;this._initializeVertices(m);try{const A=(function(R,B,V=2){const W=B&&B.length,q=W?B[0]*V:R.length;let J=U1(R,0,q,V,!0);const ee=[];if(!J||J.next===J.prev)return ee;let ne,le,_e;if(W&&(J=(function(he,de,be,Te){const Ne=[];for(let et=0,Ze=de.length;et<Ze;et++){const at=U1(he,de[et]*Te,et<Ze-1?de[et+1]*Te:he.length,Te,!1);at===at.next&&(at.steiner=!0),Ne.push(YE(at))}Ne.sort(WE);for(let et=0;et<Ne.length;et++)be=XE(Ne[et],be);return be})(R,B,J,V)),R.length>80*V){ne=R[0],le=R[1];let he=ne,de=le;for(let be=V;be<q;be+=V){const Te=R[be],Ne=R[be+1];Te<ne&&(ne=Te),Ne<le&&(le=Ne),Te>he&&(he=Te),Ne>de&&(de=Ne)}_e=Math.max(he-ne,de-le),_e=_e!==0?32767/_e:0}return Wf(J,ee,V,ne,le,_e,0),ee})(m,y),I=this._convertIndices(m,A);b=this._subdivideTrianglesScanline(I)}catch(A){console.error(A)}let k=[];return u&&(k=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(b),{verticesFlattened:this._vertexBuffer,indicesTriangles:b,indicesLineList:k}}_convertIndices(l,u){const m=[];for(let y=0;y<u.length;y++)m.push(this._vertexToIndex(l[2*u[y]],l[2*u[y]+1]));return m}_pointArrayToIndices(l){const u=[];for(let m=0;m<l.length;m++){const y=l[m];u.push(this._vertexToIndex(y.x,y.y))}return u}}function Z1(c,l,u,m=!0){return new KE(u,l).subdividePolygonInternal(c,m)}function Jh(c,l,u=!1){if(!c||c.length<1)return[];if(c.length<2)return[];const m=c[0],y=c[c.length-1],b=u&&(m.x!==y.x||m.y!==y.y);if(l<2)return b?[...c,c[0]]:[...c];const k=Math.floor(Qe/l),A=[];A.push(new d(c[0].x,c[0].y));const I=c.length,R=b?I:I-1;for(let B=0;B<R;B++){const V=c[B],W=B<I-1?c[B+1]:c[0],q=V.x,J=V.y,ee=W.x,ne=W.y,le=q!==ee,_e=J!==ne;if(!le&&!_e)continue;const he=ee-q,de=ne-J,be=Math.abs(he),Te=Math.abs(de);let Ne=q,et=J;for(;;){const at=he>0?(Math.floor(Ne/k)+1)*k:(Math.ceil(Ne/k)-1)*k,pt=de>0?(Math.floor(et/k)+1)*k:(Math.ceil(et/k)-1)*k,st=Math.abs(Ne-at),Ke=Math.abs(et-pt),Xe=Math.abs(Ne-ee),vt=Math.abs(et-ne),xt=le?st/be:Number.POSITIVE_INFINITY,kt=_e?Ke/Te:Number.POSITIVE_INFINITY;if((Xe<=st||!le)&&(vt<=Ke||!_e))break;if(xt<kt&&le||!_e){Ne=at,et+=de*xt;const yt=new d(Ne,Math.round(et));A[A.length-1].x===yt.x&&A[A.length-1].y===yt.y||A.push(yt)}else{Ne+=he*kt,et=pt;const yt=new d(Math.round(Ne),et);A[A.length-1].x===yt.x&&A[A.length-1].y===yt.y||A.push(yt)}}const Ze=new d(ee,ne);A[A.length-1].x===Ze.x&&A[A.length-1].y===Ze.y||A.push(Ze)}return A}function JE(c,l,u){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let m=0,y=c[2*l[0]];for(let I=1;I<l.length;I++){const R=c[2*l[I]];R<y&&(y=R,m=I)}const b=l.length;let k=m,A=(k+1)%b;for(;;){const I=k-1>=0?k-1:b-1,R=(A+1)%b,B=c[2*l[I]],V=c[2*l[R]],W=c[2*l[k]],q=c[2*l[k]+1],J=c[2*l[A]+1];let ee=!1;if(B<V)ee=!0;else if(B>V)ee=!1;else{const ne=J-q,le=-(c[2*l[A]]-W),_e=q<J?1:-1;((B-W)*ne+(c[2*l[I]+1]-q)*le)*_e>((V-W)*ne+(c[2*l[R]+1]-q)*le)*_e&&(ee=!0)}if(ee){const ne=l[I],le=l[k],_e=l[A];ne!==le&&ne!==_e&&le!==_e&&u.push(_e,le,ne),k--,k<0&&(k=b-1)}else{const ne=l[R],le=l[k],_e=l[A];ne!==le&&ne!==_e&&le!==_e&&u.push(_e,le,ne),A++,A>=b&&(A=0)}if(I===R)break}}function K1(c,l,u,m,y,b,k,A,I){const R=y.length/2,B=k&&A&&I;if(R<mt.MAX_VERTEX_ARRAY_LENGTH){const V=l.prepareSegment(R,u,m),W=V.vertexLength;for(let ee=0;ee<b.length;ee+=3)m.emplaceBack(W+b[ee],W+b[ee+1],W+b[ee+2]);let q,J;V.vertexLength+=R,V.primitiveLength+=b.length/3,B&&(J=k.prepareSegment(R,u,A),q=J.vertexLength,J.vertexLength+=R);for(let ee=0;ee<y.length;ee+=2)c(y[ee],y[ee+1]);if(B)for(let ee=0;ee<I.length;ee++){const ne=I[ee];for(let le=1;le<ne.length;le+=2)A.emplaceBack(q+ne[le-1],q+ne[le]);J.primitiveLength+=ne.length/2}}else(function(V,W,q,J,ee,ne){const le=[];for(let Te=0;Te<J.length/2;Te++)le.push(-1);const _e={count:0};let he=0,de=V.getOrCreateLatestSegment(W,q),be=de.vertexLength;for(let Te=2;Te<ee.length;Te+=3){const Ne=ee[Te-2],et=ee[Te-1],Ze=ee[Te];let at=le[Ne]<he,pt=le[et]<he,st=le[Ze]<he;de.vertexLength+((at?1:0)+(pt?1:0)+(st?1:0))>mt.MAX_VERTEX_ARRAY_LENGTH&&(de=V.createNewSegment(W,q),he=_e.count,at=!0,pt=!0,st=!0,be=0);const Ke=Kf(le,J,ne,_e,Ne,at,de),Xe=Kf(le,J,ne,_e,et,pt,de),vt=Kf(le,J,ne,_e,Ze,st,de);q.emplaceBack(be+Ke-he,be+Xe-he,be+vt-he),de.primitiveLength++}})(l,u,m,y,b,c),B&&(function(V,W,q,J,ee,ne){const le=[];for(let Te=0;Te<J.length/2;Te++)le.push(-1);const _e={count:0};let he=0,de=V.getOrCreateLatestSegment(W,q),be=de.vertexLength;for(let Te=0;Te<ee.length;Te++){const Ne=ee[Te];for(let et=1;et<ee[Te].length;et+=2){const Ze=Ne[et-1],at=Ne[et];let pt=le[Ze]<he,st=le[at]<he;de.vertexLength+((pt?1:0)+(st?1:0))>mt.MAX_VERTEX_ARRAY_LENGTH&&(de=V.createNewSegment(W,q),he=_e.count,pt=!0,st=!0,be=0);const Ke=Kf(le,J,ne,_e,Ze,pt,de),Xe=Kf(le,J,ne,_e,at,st,de);q.emplaceBack(be+Ke-he,be+Xe-he),de.primitiveLength++}}})(k,u,A,y,I,c),l.forceNewSegmentOnNextPrepare(),k?.forceNewSegmentOnNextPrepare()}function Kf(c,l,u,m,y,b,k){if(b){const A=m.count;return u(l[2*y],l[2*y+1]),c[y]=m.count,m.count++,k.vertexLength++,A}return c[y]}class Qx{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((u=>u.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new pe,this.indexArray=new We,this.indexArray2=new ut,this.programConfigurations=new jo(l.layers,l.zoom),this.segments=new mt,this.segments2=new mt,this.stateDependentLayerIds=this.layers.filter((u=>u.isStateDependent())).map((u=>u.id))}populate(l,u,m){this.hasDependencies=Hg("fill",this.layers,u);const y=this.layers[0].layout.get("fill-sort-key"),b=!y.isConstant(),k=[];for(const{feature:A,id:I,index:R,sourceLayerIndex:B}of l){const V=this.layers[0]._featureFilter.needGeometry,W=oo(A,V);if(!this.layers[0]._featureFilter.filter(new ji(this.zoom),W,m))continue;const q=b?y.evaluate(W,{},m,u.availableImages):void 0,J={id:I,properties:A.properties,type:A.type,sourceLayerIndex:B,index:R,geometry:V?W.geometry:so(A),patterns:{},sortKey:q};k.push(J)}b&&k.sort(((A,I)=>A.sortKey-I.sortKey));for(const A of k){const{geometry:I,index:R,sourceLayerIndex:B}=A;if(this.hasDependencies){const V=Zx("fill",this.layers,A,{zoom:this.zoom},u);this.patternFeatures.push(V)}else this.addFeature(A,I,R,m,{},u.subdivisionGranularity);u.featureIndex.insert(l[R].feature,I,R,B,this.index)}}update(l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,u,this.stateDependentLayers,{imagePositions:m})}addFeatures(l,u,m){for(const y of this.patternFeatures)this.addFeature(y,y.geometry,y.index,u,m,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,$E),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,u,m,y,b,k){for(const A of sc(u,500)){const I=Z1(A,y,k.fill.getGranularityForZoomLevel(y.z)),R=this.layoutVertexArray;K1(((B,V)=>{R.emplaceBack(B,V)}),this.segments,this.layoutVertexArray,this.indexArray,I.verticesFlattened,I.indicesTriangles,this.segments2,this.indexArray2,I.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:b,canonical:y})}}let J1,Q1;bt("FillBucket",Qx,{omit:["layers","patternFeatures"]});var QE={get paint(){return Q1=Q1||new Va({"fill-antialias":new Lt(je.paint_fill["fill-antialias"]),"fill-opacity":new jt(je.paint_fill["fill-opacity"]),"fill-color":new jt(je.paint_fill["fill-color"]),"fill-outline-color":new jt(je.paint_fill["fill-outline-color"]),"fill-translate":new Lt(je.paint_fill["fill-translate"]),"fill-translate-anchor":new Lt(je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Hh(je.paint_fill["fill-pattern"])})},get layout(){return J1=J1||new Va({"fill-sort-key":new jt(je.layout_fill["fill-sort-key"])})}};class eI extends Er{constructor(l,u){super(l,QE,u)}recalculate(l,u){super.recalculate(l,u);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new Qx(l)}queryRadius(){return $g(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:u,transform:m,pixelsToTileUnits:y}){return E1(Vg(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-m.bearingInRadians,y),u)}isTileClipped(){return!0}}const tI=Dn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),iI=Dn([{name:"a_centroid",components:2,type:"Int16"}],4),{members:nI}=tI;class Jf{constructor(l,u,m,y,b){this.properties={},this.extent=m,this.type=0,this.id=void 0,this._pbf=l,this._geometry=-1,this._keys=y,this._values=b,l.readFields(aI,this,u)}loadGeometry(){const l=this._pbf;l.pos=this._geometry;const u=l.readVarint()+l.pos,m=[];let y,b=1,k=0,A=0,I=0;for(;l.pos<u;){if(k<=0){const R=l.readVarint();b=7&R,k=R>>3}if(k--,b===1||b===2)A+=l.readSVarint(),I+=l.readSVarint(),b===1&&(y&&m.push(y),y=[]),y&&y.push(new d(A,I));else{if(b!==7)throw new Error(`unknown command ${b}`);y&&y.push(y[0].clone())}}return y&&m.push(y),m}bbox(){const l=this._pbf;l.pos=this._geometry;const u=l.readVarint()+l.pos;let m=1,y=0,b=0,k=0,A=1/0,I=-1/0,R=1/0,B=-1/0;for(;l.pos<u;){if(y<=0){const V=l.readVarint();m=7&V,y=V>>3}if(y--,m===1||m===2)b+=l.readSVarint(),k+=l.readSVarint(),b<A&&(A=b),b>I&&(I=b),k<R&&(R=k),k>B&&(B=k);else if(m!==7)throw new Error(`unknown command ${m}`)}return[A,R,I,B]}toGeoJSON(l,u,m){const y=this.extent*Math.pow(2,m),b=this.extent*l,k=this.extent*u,A=this.loadGeometry();function I(W){return[360*(W.x+b)/y-180,360/Math.PI*Math.atan(Math.exp((1-2*(W.y+k)/y)*Math.PI))-90]}function R(W){return W.map(I)}let B;if(this.type===1){const W=[];for(const J of A)W.push(J[0]);const q=R(W);B=W.length===1?{type:"Point",coordinates:q[0]}:{type:"MultiPoint",coordinates:q}}else if(this.type===2){const W=A.map(R);B=W.length===1?{type:"LineString",coordinates:W[0]}:{type:"MultiLineString",coordinates:W}}else{if(this.type!==3)throw new Error("unknown feature type");{const W=ek(A),q=[];for(const J of W)q.push(J.map(R));B=q.length===1?{type:"Polygon",coordinates:q[0]}:{type:"MultiPolygon",coordinates:q}}}const V={type:"Feature",geometry:B,properties:this.properties};return this.id!=null&&(V.id=this.id),V}}function aI(c,l,u){c===1?l.id=u.readVarint():c===2?(function(m,y){const b=m.readVarint()+m.pos;for(;m.pos<b;){const k=y._keys[m.readVarint()],A=y._values[m.readVarint()];y.properties[k]=A}})(u,l):c===3?l.type=u.readVarint():c===4&&(l._geometry=u.pos)}function ek(c){const l=c.length;if(l<=1)return[c];const u=[];let m,y;for(let b=0;b<l;b++){const k=rI(c[b]);k!==0&&(y===void 0&&(y=k<0),y===k<0?(m&&u.push(m),m=[c[b]]):m&&m.push(c[b]))}return m&&u.push(m),u}function rI(c){let l=0;for(let u,m,y=0,b=c.length,k=b-1;y<b;k=y++)u=c[y],m=c[k],l+=(m.x-u.x)*(u.y+m.y);return l}Jf.types=["Unknown","Point","LineString","Polygon"];class sI{constructor(l,u){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(oI,this,u),this.length=this._features.length}feature(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];const u=this._pbf.readVarint()+this._pbf.pos;return new Jf(this._pbf,u,this.extent,this._keys,this._values)}}function oI(c,l,u){c===15?l.version=u.readVarint():c===1?l.name=u.readString():c===5?l.extent=u.readVarint():c===2?l._features.push(u.pos):c===3?l._keys.push(u.readString()):c===4&&l._values.push((function(m){let y=null;const b=m.readVarint()+m.pos;for(;m.pos<b;){const k=m.readVarint()>>3;y=k===1?m.readString():k===2?m.readFloat():k===3?m.readDouble():k===4?m.readVarint64():k===5?m.readVarint():k===6?m.readSVarint():k===7?m.readBoolean():null}if(y==null)throw new Error("unknown feature value");return y})(u))}class tk{constructor(l,u){this.layers=l.readFields(lI,{},u)}}function lI(c,l,u){if(c===3){const m=new sI(u,u.readVarint()+u.pos);m.length&&(l[m.name]=m)}}const ev=Math.pow(2,13);function Qf(c,l,u,m,y,b,k,A){c.emplaceBack(l,u,2*Math.floor(m*ev)+k,y*ev*2,b*ev*2,Math.round(A))}class tv{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((u=>u.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new ye,this.centroidVertexArray=new fe,this.indexArray=new We,this.programConfigurations=new jo(l.layers,l.zoom),this.segments=new mt,this.stateDependentLayerIds=this.layers.filter((u=>u.isStateDependent())).map((u=>u.id))}populate(l,u,m){this.features=[],this.hasDependencies=Hg("fill-extrusion",this.layers,u);for(const{feature:y,id:b,index:k,sourceLayerIndex:A}of l){const I=this.layers[0]._featureFilter.needGeometry,R=oo(y,I);if(!this.layers[0]._featureFilter.filter(new ji(this.zoom),R,m))continue;const B={id:b,sourceLayerIndex:A,index:k,geometry:I?R.geometry:so(y),properties:y.properties,type:y.type,patterns:{}};this.hasDependencies?this.features.push(Zx("fill-extrusion",this.layers,B,{zoom:this.zoom},u)):this.addFeature(B,B.geometry,k,m,{},u.subdivisionGranularity),u.featureIndex.insert(y,B.geometry,k,A,this.index,!0)}}addFeatures(l,u,m){for(const y of this.features){const{geometry:b}=y;this.addFeature(y,b,y.index,u,m,l.subdivisionGranularity)}}update(l,u,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,u,this.stateDependentLayers,{imagePositions:m})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,nI),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,iI.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,u,m,y,b,k){for(const A of sc(u,500)){const I={x:0,y:0,sampleCount:0},R=this.layoutVertexArray.length;this.processPolygon(I,y,l,A,k);const B=this.layoutVertexArray.length-R,V=Math.floor(I.x/I.sampleCount),W=Math.floor(I.y/I.sampleCount);for(let q=0;q<B;q++)this.centroidVertexArray.emplaceBack(V,W)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:b,canonical:y})}processPolygon(l,u,m,y,b){if(y.length<1||ik(y[0]))return;for(const V of y)V.length!==0&&hI(l,V);const k={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},A=b.fill.getGranularityForZoomLevel(u.z),I=Jf.types[m.type]==="Polygon";for(const V of y){if(V.length===0||ik(V))continue;const W=Jh(V,A,I);this._generateSideFaces(W,k)}if(!I)return;const R=Z1(y,u,A,!1),B=this.layoutVertexArray;K1(((V,W)=>{Qf(B,V,W,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,R.verticesFlattened,R.indicesTriangles)}_generateSideFaces(l,u){let m=0;for(let y=1;y<l.length;y++){const b=l[y],k=l[y-1];if(uI(b,k))continue;u.segment.vertexLength+4>mt.MAX_VERTEX_ARRAY_LENGTH&&(u.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const A=b.sub(k)._perp()._unit(),I=k.dist(b);m+I>32768&&(m=0),Qf(this.layoutVertexArray,b.x,b.y,A.x,A.y,0,0,m),Qf(this.layoutVertexArray,b.x,b.y,A.x,A.y,0,1,m),m+=I,Qf(this.layoutVertexArray,k.x,k.y,A.x,A.y,0,0,m),Qf(this.layoutVertexArray,k.x,k.y,A.x,A.y,0,1,m);const R=u.segment.vertexLength;this.indexArray.emplaceBack(R,R+2,R+1),this.indexArray.emplaceBack(R+1,R+2,R+3),u.segment.vertexLength+=4,u.segment.primitiveLength+=2}}}function hI(c,l){for(let u=0;u<l.length;u++){const m=l[u];u===l.length-1&&l[0].x===m.x&&l[0].y===m.y||(c.x+=m.x,c.y+=m.y,c.sampleCount++)}}function uI(c,l){return c.x===l.x&&(c.x<0||c.x>Qe)||c.y===l.y&&(c.y<0||c.y>Qe)}function ik(c){return c.every((l=>l.x<0))||c.every((l=>l.x>Qe))||c.every((l=>l.y<0))||c.every((l=>l.y>Qe))}let nk;bt("FillExtrusionBucket",tv,{omit:["layers","features"]});var cI={get paint(){return nk=nk||new Va({"fill-extrusion-opacity":new Lt(je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new jt(je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Lt(je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Lt(je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Hh(je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new jt(je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new jt(je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Lt(je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class dI extends Er{constructor(l,u){super(l,cI,u)}createBucket(l){return new tv(l)}queryRadius(){return $g(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:u,featureState:m,geometry:y,transform:b,pixelsToTileUnits:k,pixelPosMatrix:A}){const I=Vg(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-b.bearingInRadians,k),R=this.paint.get("fill-extrusion-height").evaluate(u,m),B=this.paint.get("fill-extrusion-base").evaluate(u,m),V=(function(q,J){const ee=[];for(const ne of q){const le=[ne.x,ne.y,0,1];Be(le,le,J),ee.push(new d(le[0]/le[3],le[1]/le[3]))}return ee})(I,A),W=(function(q,J,ee,ne){const le=[],_e=[],he=ne[8]*J,de=ne[9]*J,be=ne[10]*J,Te=ne[11]*J,Ne=ne[8]*ee,et=ne[9]*ee,Ze=ne[10]*ee,at=ne[11]*ee;for(const pt of q){const st=[],Ke=[];for(const Xe of pt){const vt=Xe.x,xt=Xe.y,kt=ne[0]*vt+ne[4]*xt+ne[12],yt=ne[1]*vt+ne[5]*xt+ne[13],It=ne[2]*vt+ne[6]*xt+ne[14],vi=ne[3]*vt+ne[7]*xt+ne[15],hi=It+be,on=vi+Te,Ea=kt+Ne,Zn=yt+et,ln=It+Ze,en=vi+at,Ii=new d((kt+he)/on,(yt+de)/on);Ii.z=hi/on,st.push(Ii);const Sn=new d(Ea/en,Zn/en);Sn.z=ln/en,Ke.push(Sn)}le.push(st),_e.push(Ke)}return[le,_e]})(y,B,R,A);return(function(q,J,ee){let ne=1/0;E1(ee,J)&&(ne=ak(ee,J[0]));for(let le=0;le<J.length;le++){const _e=J[le],he=q[le];for(let de=0;de<_e.length-1;de++){const be=_e[de],Te=[be,_e[de+1],he[de+1],he[de],be];Bc(ee,Te)&&(ne=Math.min(ne,ak(ee,Te)))}}return ne!==1/0&&ne})(W[0],W[1],V)}}function ep(c,l){return c.x*l.x+c.y*l.y}function ak(c,l){if(c.length===1){let u=0;const m=l[u++];let y;for(;!y||m.equals(y);)if(y=l[u++],!y)return 1/0;for(;u<l.length;u++){const b=l[u],k=c[0],A=y.sub(m),I=b.sub(m),R=k.sub(m),B=ep(A,A),V=ep(A,I),W=ep(I,I),q=ep(R,A),J=ep(R,I),ee=B*W-V*V,ne=(W*q-V*J)/ee,le=(B*J-V*q)/ee,_e=m.z*(1-ne-le)+y.z*ne+b.z*le;if(isFinite(_e))return _e}return 1/0}{let u=1/0;for(const m of l)u=Math.min(u,m.z);return u}}const fI=Dn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:pI}=fI,mI=Dn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:gI}=mI,_I=Math.cos(Math.PI/180*37.5),rk=Math.pow(2,14)/.5;class iv{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((u=>u.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((u=>{this.gradients[u.id]={}})),this.layoutVertexArray=new Ce,this.layoutVertexArray2=new ge,this.indexArray=new We,this.programConfigurations=new jo(l.layers,l.zoom),this.segments=new mt,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((u=>u.isStateDependent())).map((u=>u.id))}populate(l,u,m){this.hasDependencies=Hg("line",this.layers,u)||this.hasLineDasharray(this.layers);const y=this.layers[0].layout.get("line-sort-key"),b=!y.isConstant(),k=[];for(const{feature:A,id:I,index:R,sourceLayerIndex:B}of l){const V=this.layers[0]._featureFilter.needGeometry,W=oo(A,V);if(!this.layers[0]._featureFilter.filter(new ji(this.zoom),W,m))continue;const q=b?y.evaluate(W,{},m):void 0,J={id:I,properties:A.properties,type:A.type,sourceLayerIndex:B,index:R,geometry:V?W.geometry:so(A),patterns:{},dashes:{},sortKey:q};k.push(J)}b&&k.sort(((A,I)=>A.sortKey-I.sortKey));for(const A of k){const{geometry:I,index:R,sourceLayerIndex:B}=A;this.hasDependencies?(Hg("line",this.layers,u)?Zx("line",this.layers,A,{zoom:this.zoom},u):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,A,this.zoom,u),this.patternFeatures.push(A)):this.addFeature(A,I,R,m,{},{},u.subdivisionGranularity),u.featureIndex.insert(l[R].feature,I,R,B,this.index)}}update(l,u,m,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,u,this.stateDependentLayers,{imagePositions:m,dashPositions:y})}addFeatures(l,u,m,y){for(const b of this.patternFeatures)this.addFeature(b,b.geometry,b.index,u,m,y,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,gI)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,pI),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,u,m,y,b,k,A){const I=this.layers[0].layout,R=I.get("line-join").evaluate(l,{}),B=I.get("line-cap"),V=I.get("line-miter-limit"),W=I.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const q of u)this.addLine(q,l,R,B,V,W,y,A);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:b,dashPositions:k,canonical:y})}addLine(l,u,m,y,b,k,A,I){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=Jh(l,A?I.line.getGranularityForZoomLevel(A.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let he=0;he<l.length-1;he++)this.totalDistance+=l[he].dist(l[he+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const R=Jf.types[u.type]==="Polygon";let B=l.length;for(;B>=2&&l[B-1].equals(l[B-2]);)B--;let V=0;for(;V<B-1&&l[V].equals(l[V+1]);)V++;if(B<(R?3:2))return;m==="bevel"&&(b=1.05);const W=this.overscaling<=16?122880/(512*this.overscaling):0,q=this.segments.prepareSegment(10*B,this.layoutVertexArray,this.indexArray);let J,ee,ne,le,_e;this.e1=this.e2=-1,R&&(J=l[B-2],_e=l[V].sub(J)._unit()._perp());for(let he=V;he<B;he++){if(ne=he===B-1?R?l[V+1]:void 0:l[he+1],ne&&l[he].equals(ne))continue;_e&&(le=_e),J&&(ee=J),J=l[he],_e=ne?ne.sub(J)._unit()._perp():le,le=le||_e;let de=le.add(_e);de.x===0&&de.y===0||de._unit();const be=le.x*_e.x+le.y*_e.y,Te=de.x*_e.x+de.y*_e.y,Ne=Te!==0?1/Te:1/0,et=2*Math.sqrt(2-2*Te),Ze=Te<_I&&ee&&ne,at=le.x*_e.y-le.y*_e.x>0;if(Ze&&he>V){const Ke=J.dist(ee);if(Ke>2*W){const Xe=J.sub(J.sub(ee)._mult(W/Ke)._round());this.updateDistance(ee,Xe),this.addCurrentVertex(Xe,le,0,0,q),ee=Xe}}const pt=ee&&ne;let st=pt?m:R?"butt":y;if(pt&&st==="round"&&(Ne<k?st="miter":Ne<=2&&(st="fakeround")),st==="miter"&&Ne>b&&(st="bevel"),st==="bevel"&&(Ne>2&&(st="flipbevel"),Ne<b&&(st="miter")),ee&&this.updateDistance(ee,J),st==="miter")de._mult(Ne),this.addCurrentVertex(J,de,0,0,q);else if(st==="flipbevel"){if(Ne>100)de=_e.mult(-1);else{const Ke=Ne*le.add(_e).mag()/le.sub(_e).mag();de._perp()._mult(Ke*(at?-1:1))}this.addCurrentVertex(J,de,0,0,q),this.addCurrentVertex(J,de.mult(-1),0,0,q)}else if(st==="bevel"||st==="fakeround"){const Ke=-Math.sqrt(Ne*Ne-1),Xe=at?Ke:0,vt=at?0:Ke;if(ee&&this.addCurrentVertex(J,le,Xe,vt,q),st==="fakeround"){const xt=Math.round(180*et/Math.PI/20);for(let kt=1;kt<xt;kt++){let yt=kt/xt;if(yt!==.5){const vi=yt-.5;yt+=yt*vi*(yt-1)*((1.0904+be*(be*(3.55645-1.43519*be)-3.2452))*vi*vi+(.848013+be*(.215638*be-1.06021)))}const It=_e.sub(le)._mult(yt)._add(le)._unit()._mult(at?-1:1);this.addHalfVertex(J,It.x,It.y,!1,at,0,q)}}ne&&this.addCurrentVertex(J,_e,-Xe,-vt,q)}else if(st==="butt")this.addCurrentVertex(J,de,0,0,q);else if(st==="square"){const Ke=ee?1:-1;this.addCurrentVertex(J,de,Ke,Ke,q)}else st==="round"&&(ee&&(this.addCurrentVertex(J,le,0,0,q),this.addCurrentVertex(J,le,1,1,q,!0)),ne&&(this.addCurrentVertex(J,_e,-1,-1,q,!0),this.addCurrentVertex(J,_e,0,0,q)));if(Ze&&he<B-1){const Ke=J.dist(ne);if(Ke>2*W){const Xe=J.add(ne.sub(J)._mult(W/Ke)._round());this.updateDistance(J,Xe),this.addCurrentVertex(Xe,_e,0,0,q),J=Xe}}}}addCurrentVertex(l,u,m,y,b,k=!1){const A=u.y*y-u.x,I=-u.y-u.x*y;this.addHalfVertex(l,u.x+u.y*m,u.y-u.x*m,k,!1,m,b),this.addHalfVertex(l,A,I,k,!0,-y,b),this.distance>rk/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,u,m,y,b,k))}addHalfVertex({x:l,y:u},m,y,b,k,A,I){const R=.5*(this.lineClips?this.scaledDistance*(rk-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(b?1:0),(u<<1)+(k?1:0),Math.round(63*m)+128,Math.round(63*y)+128,1+(A===0?0:A<0?-1:1)|(63&R)<<2,R>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const B=I.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,B,this.e2),I.primitiveLength++),k?this.e2=B:this.e1=B}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,u){this.distance+=l.dist(u),this.updateScaledDistance()}hasLineDasharray(l){for(const u of l){const m=u.paint.get("line-dasharray");if(m&&!m.isConstant())return!0}return!1}addLineDashDependencies(l,u,m,y){for(const b of l){const k=b.paint.get("line-dasharray");if(!k||k.value.kind==="constant")continue;const A=b.layout.get("line-cap")==="round",I={dasharray:k.value.evaluate({zoom:m-1},u,{}),round:A},R={dasharray:k.value.evaluate({zoom:m},u,{}),round:A},B={dasharray:k.value.evaluate({zoom:m+1},u,{}),round:A},V=`${I.dasharray.join(",")},${I.round}`,W=`${R.dasharray.join(",")},${R.round}`,q=`${B.dasharray.join(",")},${B.round}`;y.dashDependencies[V]=I,y.dashDependencies[W]=R,y.dashDependencies[q]=B,u.dashes[b.id]={min:V,mid:W,max:q}}}}let sk,ok;bt("LineBucket",iv,{omit:["layers","patternFeatures"]});var lk={get paint(){return ok=ok||new Va({"line-opacity":new jt(je.paint_line["line-opacity"]),"line-color":new jt(je.paint_line["line-color"]),"line-translate":new Lt(je.paint_line["line-translate"]),"line-translate-anchor":new Lt(je.paint_line["line-translate-anchor"]),"line-width":new jt(je.paint_line["line-width"]),"line-gap-width":new jt(je.paint_line["line-gap-width"]),"line-offset":new jt(je.paint_line["line-offset"]),"line-blur":new jt(je.paint_line["line-blur"]),"line-dasharray":new Hh(je.paint_line["line-dasharray"]),"line-pattern":new Hh(je.paint_line["line-pattern"]),"line-gradient":new Lc(je.paint_line["line-gradient"])})},get layout(){return sk=sk||new Va({"line-cap":new Lt(je.layout_line["line-cap"]),"line-join":new jt(je.layout_line["line-join"]),"line-miter-limit":new Lt(je.layout_line["line-miter-limit"]),"line-round-limit":new Lt(je.layout_line["line-round-limit"]),"line-sort-key":new jt(je.layout_line["line-sort-key"])})}};class yI extends jt{possiblyEvaluate(l,u){return u=new ji(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,zoomHistory:u.zoomHistory,transition:u.transition}),super.possiblyEvaluate(l,u)}evaluate(l,u,m,y){return u=Et({},u,{zoom:Math.floor(u.zoom)}),super.evaluate(l,u,m,y)}}let Xg;class xI extends Er{constructor(l,u){super(l,lk,u),this.gradientVersion=0,Xg||(Xg=new yI(lk.paint.properties["line-width"].specification),Xg.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const u=this.gradientExpression();this.stepInterpolant=!!(function(m){return m._styleExpression!==void 0})(u)&&u._styleExpression.expression instanceof Js,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,u){super.recalculate(l,u),this.paint._values["line-floorwidth"]=Xg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new iv(l)}queryRadius(l){const u=l,m=hk(Nc("line-width",this,u),Nc("line-gap-width",this,u)),y=Nc("line-offset",this,u);return m/2+Math.abs(y)+$g(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:u,featureState:m,geometry:y,transform:b,pixelsToTileUnits:k}){const A=Vg(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-b.bearingInRadians,k),I=k/2*hk(this.paint.get("line-width").evaluate(u,m),this.paint.get("line-gap-width").evaluate(u,m)),R=this.paint.get("line-offset").evaluate(u,m);return R&&(y=(function(B,V){const W=[];for(let q=0;q<B.length;q++){const J=AE(B[q]),ee=[];for(let ne=0;ne<J.length;ne++){const le=J[ne],_e=J[ne-1],he=J[ne+1],de=ne===0?new d(0,0):le.sub(_e)._unit()._perp(),be=ne===J.length-1?new d(0,0):he.sub(le)._unit()._perp(),Te=de._add(be)._unit(),Ne=Te.x*be.x+Te.y*be.y;Ne!==0&&Te._mult(1/Ne),ee.push(Te._mult(V)._add(le))}W.push(ee)}return W})(y,R*k)),(function(B,V,W){for(let q=0;q<V.length;q++){const J=V[q];if(B.length>=3){for(let ee=0;ee<J.length;ee++)if(jc(B,J[ee]))return!0}if(SE(B,J,W))return!0}return!1})(A,y,I)}isTileClipped(){return!0}}function hk(c,l){return l>0?l+2*c:c}const vI=Dn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),bI=Dn([{name:"a_projected_pos",components:3,type:"Float32"}],4);Dn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const wI=Dn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Dn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const uk=Dn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),kI=Dn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function SI(c,l,u){return c.sections.forEach((m=>{m.text=(function(y,b,k){const A=b.layout.get("text-transform").evaluate(k,{});return A==="uppercase"?y=y.toLocaleUpperCase():A==="lowercase"&&(y=y.toLocaleLowerCase()),no.applyArabicShaping&&(y=no.applyArabicShaping(y)),y})(m.text,l,u)})),c}Dn([{name:"triangle",components:3,type:"Uint16"}]),Dn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Dn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Dn([{type:"Float32",name:"offsetX"}]),Dn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Dn([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var ca=24;const tp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},TI={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},CI={40:!0};function ck(c,l,u,m,y,b){if("fontStack"in l){const k=u[l.fontStack],A=k&&k[c];return A?A.metrics.advance*l.scale+y:0}{const k=m[l.imageName];return k?k.displaySize[0]*l.scale*ca/b+y:0}}function dk(c,l,u,m){const y=Math.pow(c-l,2);return m?c<l?y/2:2*y:y+Math.abs(u)*u}function AI(c,l,u){let m=0;return c===10&&(m-=1e4),u&&(m+=150),c!==40&&c!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function fk(c,l,u,m,y,b){let k=null,A=dk(l,u,y,b);for(const I of m){const R=dk(l-I.x,u,y,b)+I.badness;R<=A&&(k=I,A=R)}return{index:c,x:l,priorBreak:k,badness:A}}function pk(c){return c?pk(c.priorBreak).concat(c.index):[]}class Gc{constructor(l="",u=[],m=[]){this.text=l,this.sections=u,this.sectionIndex=m,this.imageSectionID=null}static fromFeature(l,u){const m=new Gc;for(let y=0;y<l.sections.length;y++){const b=l.sections[y];b.image?m.addImageSection(b):m.addTextSection(b,u)}return m}length(){return[...this.text].length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}verticalizePunctuation(){this.text=(function(l){let u="",m={premature:!0,value:void 0};const y=l[Symbol.iterator]();let b=y.next();const k=l[Symbol.iterator]();k.next();let A=k.next();for(;!b.done;)u+=!A.done&&Ef(A.value.codePointAt(0))&&!tp[A.value]||!m.premature&&Ef(m.value.codePointAt(0))&&!tp[m.value]||!tp[b.value]?b.value:tp[b.value],m={value:b.value,premature:!1},b=y.next(),A=k.next();return u})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const l=this.text.match(/^\s*/),u=l?l[0].length:0,m=this.text.match(/\S\s*$/),y=m?m[0].length-1:0;this.text=this.text.substring(u,this.text.length-y),this.sectionIndex=this.sectionIndex.slice(u,this.sectionIndex.length-y)}substring(l,u){const m=[...this.text].slice(l,u).join(""),y=this.sectionIndex.slice(l,u);return new Gc(m,this.sections,y)}toCodeUnitIndex(l){return[...this.text].slice(0,l).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,u)=>Math.max(l,this.sections[u].scale)),0)}getMaxImageSize(l){let u=0,m=0;for(let y=0;y<this.length();y++){const b=this.getSection(y);if("imageName"in b){const k=l[b.imageName];if(!k)continue;const A=k.displaySize;u=Math.max(u,A[0]),m=Math.max(m,A[1])}}return{maxImageWidth:u,maxImageHeight:m}}addTextSection(l,u){this.text+=l.text,this.sections.push({scale:l.scale||1,verticalAlign:l.verticalAlign||"bottom",fontStack:l.fontStack||u});const m=this.sections.length-1;this.sectionIndex.push(...[...l.text].map((()=>m)))}addImageSection(l){const u=l.image?l.image.name:"";if(u.length===0)return void Zt("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push({scale:1,verticalAlign:l.verticalAlign||"bottom",imageName:u}),this.sectionIndex.push(this.sections.length-1)):Zt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(l,u,m,y,b){const k=[],A=this.determineAverageLineWidth(l,u,m,y,b),I=this.hasZeroWidthSpaces();let R=0,B=0;const V=this.text[Symbol.iterator]();let W=V.next();const q=this.text[Symbol.iterator]();q.next();let J=q.next();const ee=this.text[Symbol.iterator]();ee.next(),ee.next();let ne=ee.next();for(;!W.done;){const le=this.getSection(B),_e=W.value.codePointAt(0);if(Pg(_e)||(R+=ck(_e,le,m,y,l,b)),!J.done){const he=Nh(_e),de=J.value.codePointAt(0);(TI[_e]||he||"imageName"in le||!ne.done&&CI[de])&&k.push(fk(B+1,R,A,k,AI(_e,de,he&&I),!1))}B++,W=V.next(),J=q.next(),ne=ee.next()}return pk(fk(this.length(),R,A,k,0,!0))}determineAverageLineWidth(l,u,m,y,b){let k=0,A=0;for(const I of this.text){const R=this.getSection(A);k+=ck(I.codePointAt(0),R,m,y,l,b),A++}return k/Math.max(1,Math.ceil(k/u))}}const nv=4294967296,mk=1/nv,gk=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class qg{constructor(l=new Uint8Array(16)){this.buf=ArrayBuffer.isView(l)?l:new Uint8Array(l),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(l,u,m=this.length){for(;this.pos<m;){const y=this.readVarint(),b=y>>3,k=this.pos;this.type=7&y,l(b,u,this),this.pos===k&&this.skip(y)}return u}readMessage(l,u){return this.readFields(l,u,this.readVarint()+this.pos)}readFixed32(){const l=this.dataView.getUint32(this.pos,!0);return this.pos+=4,l}readSFixed32(){const l=this.dataView.getInt32(this.pos,!0);return this.pos+=4,l}readFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*nv;return this.pos+=8,l}readSFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*nv;return this.pos+=8,l}readFloat(){const l=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,l}readDouble(){const l=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,l}readVarint(l){const u=this.buf;let m,y;return y=u[this.pos++],m=127&y,y<128?m:(y=u[this.pos++],m|=(127&y)<<7,y<128?m:(y=u[this.pos++],m|=(127&y)<<14,y<128?m:(y=u[this.pos++],m|=(127&y)<<21,y<128?m:(y=u[this.pos],m|=(15&y)<<28,(function(b,k,A){const I=A.buf;let R,B;if(B=I[A.pos++],R=(112&B)>>4,B<128||(B=I[A.pos++],R|=(127&B)<<3,B<128)||(B=I[A.pos++],R|=(127&B)<<10,B<128)||(B=I[A.pos++],R|=(127&B)<<17,B<128)||(B=I[A.pos++],R|=(127&B)<<24,B<128)||(B=I[A.pos++],R|=(1&B)<<31,B<128))return Uc(b,R,k);throw new Error("Expected varint not more than 10 bytes")})(m,l,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const l=this.readVarint();return l%2==1?(l+1)/-2:l/2}readBoolean(){return!!this.readVarint()}readString(){const l=this.readVarint()+this.pos,u=this.pos;return this.pos=l,l-u>=12&&gk?gk.decode(this.buf.subarray(u,l)):(function(m,y,b){let k="",A=y;for(;A<b;){const I=m[A];let R,B,V,W=null,q=I>239?4:I>223?3:I>191?2:1;if(A+q>b)break;q===1?I<128&&(W=I):q===2?(R=m[A+1],(192&R)==128&&(W=(31&I)<<6|63&R,W<=127&&(W=null))):q===3?(R=m[A+1],B=m[A+2],(192&R)==128&&(192&B)==128&&(W=(15&I)<<12|(63&R)<<6|63&B,(W<=2047||W>=55296&&W<=57343)&&(W=null))):q===4&&(R=m[A+1],B=m[A+2],V=m[A+3],(192&R)==128&&(192&B)==128&&(192&V)==128&&(W=(15&I)<<18|(63&R)<<12|(63&B)<<6|63&V,(W<=65535||W>=1114112)&&(W=null))),W===null?(W=65533,q=1):W>65535&&(W-=65536,k+=String.fromCharCode(W>>>10&1023|55296),W=56320|1023&W),k+=String.fromCharCode(W),A+=q}return k})(this.buf,u,l)}readBytes(){const l=this.readVarint()+this.pos,u=this.buf.subarray(this.pos,l);return this.pos=l,u}readPackedVarint(l=[],u){const m=this.readPackedEnd();for(;this.pos<m;)l.push(this.readVarint(u));return l}readPackedSVarint(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readSVarint());return l}readPackedBoolean(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readBoolean());return l}readPackedFloat(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readFloat());return l}readPackedDouble(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readDouble());return l}readPackedFixed32(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readFixed32());return l}readPackedSFixed32(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readSFixed32());return l}readPackedFixed64(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readFixed64());return l}readPackedSFixed64(l=[]){const u=this.readPackedEnd();for(;this.pos<u;)l.push(this.readSFixed64());return l}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(l){const u=7&l;if(u===0)for(;this.buf[this.pos++]>127;);else if(u===2)this.pos=this.readVarint()+this.pos;else if(u===5)this.pos+=4;else{if(u!==1)throw new Error(`Unimplemented type: ${u}`);this.pos+=8}}writeTag(l,u){this.writeVarint(l<<3|u)}realloc(l){let u=this.length||16;for(;u<this.pos+l;)u*=2;if(u!==this.length){const m=new Uint8Array(u);m.set(this.buf),this.buf=m,this.dataView=new DataView(m.buffer),this.length=u}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeSFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*mk),!0),this.pos+=8}writeSFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*mk),!0),this.pos+=8}writeVarint(l){(l=+l||0)>268435455||l<0?(function(u,m){let y,b;if(u>=0?(y=u%4294967296|0,b=u/4294967296|0):(y=~(-u%4294967296),b=~(-u/4294967296),4294967295^y?y=y+1|0:(y=0,b=b+1|0)),u>=18446744073709552e3||u<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");m.realloc(10),(function(k,A,I){I.buf[I.pos++]=127&k|128,k>>>=7,I.buf[I.pos++]=127&k|128,k>>>=7,I.buf[I.pos++]=127&k|128,k>>>=7,I.buf[I.pos++]=127&k|128,I.buf[I.pos]=127&(k>>>=7)})(y,0,m),(function(k,A){const I=(7&k)<<4;A.buf[A.pos++]|=I|((k>>>=3)?128:0),k&&(A.buf[A.pos++]=127&k|((k>>>=7)?128:0),k&&(A.buf[A.pos++]=127&k|((k>>>=7)?128:0),k&&(A.buf[A.pos++]=127&k|((k>>>=7)?128:0),k&&(A.buf[A.pos++]=127&k|((k>>>=7)?128:0),k&&(A.buf[A.pos++]=127&k)))))})(b,m)})(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))}writeSVarint(l){this.writeVarint(l<0?2*-l-1:2*l)}writeBoolean(l){this.writeVarint(+l)}writeString(l){l=String(l),this.realloc(4*l.length),this.pos++;const u=this.pos;this.pos=(function(y,b,k){for(let A,I,R=0;R<b.length;R++){if(A=b.charCodeAt(R),A>55295&&A<57344){if(!I){A>56319||R+1===b.length?(y[k++]=239,y[k++]=191,y[k++]=189):I=A;continue}if(A<56320){y[k++]=239,y[k++]=191,y[k++]=189,I=A;continue}A=I-55296<<10|A-56320|65536,I=null}else I&&(y[k++]=239,y[k++]=191,y[k++]=189,I=null);A<128?y[k++]=A:(A<2048?y[k++]=A>>6|192:(A<65536?y[k++]=A>>12|224:(y[k++]=A>>18|240,y[k++]=A>>12&63|128),y[k++]=A>>6&63|128),y[k++]=63&A|128)}return k})(this.buf,l,this.pos);const m=this.pos-u;m>=128&&_k(u,m,this),this.pos=u-1,this.writeVarint(m),this.pos+=m}writeFloat(l){this.realloc(4),this.dataView.setFloat32(this.pos,l,!0),this.pos+=4}writeDouble(l){this.realloc(8),this.dataView.setFloat64(this.pos,l,!0),this.pos+=8}writeBytes(l){const u=l.length;this.writeVarint(u),this.realloc(u);for(let m=0;m<u;m++)this.buf[this.pos++]=l[m]}writeRawMessage(l,u){this.pos++;const m=this.pos;l(u,this);const y=this.pos-m;y>=128&&_k(m,y,this),this.pos=m-1,this.writeVarint(y),this.pos+=y}writeMessage(l,u,m){this.writeTag(l,2),this.writeRawMessage(u,m)}writePackedVarint(l,u){u.length&&this.writeMessage(l,MI,u)}writePackedSVarint(l,u){u.length&&this.writeMessage(l,PI,u)}writePackedBoolean(l,u){u.length&&this.writeMessage(l,II,u)}writePackedFloat(l,u){u.length&&this.writeMessage(l,LI,u)}writePackedDouble(l,u){u.length&&this.writeMessage(l,EI,u)}writePackedFixed32(l,u){u.length&&this.writeMessage(l,DI,u)}writePackedSFixed32(l,u){u.length&&this.writeMessage(l,zI,u)}writePackedFixed64(l,u){u.length&&this.writeMessage(l,RI,u)}writePackedSFixed64(l,u){u.length&&this.writeMessage(l,FI,u)}writeBytesField(l,u){this.writeTag(l,2),this.writeBytes(u)}writeFixed32Field(l,u){this.writeTag(l,5),this.writeFixed32(u)}writeSFixed32Field(l,u){this.writeTag(l,5),this.writeSFixed32(u)}writeFixed64Field(l,u){this.writeTag(l,1),this.writeFixed64(u)}writeSFixed64Field(l,u){this.writeTag(l,1),this.writeSFixed64(u)}writeVarintField(l,u){this.writeTag(l,0),this.writeVarint(u)}writeSVarintField(l,u){this.writeTag(l,0),this.writeSVarint(u)}writeStringField(l,u){this.writeTag(l,2),this.writeString(u)}writeFloatField(l,u){this.writeTag(l,5),this.writeFloat(u)}writeDoubleField(l,u){this.writeTag(l,1),this.writeDouble(u)}writeBooleanField(l,u){this.writeVarintField(l,+u)}}function Uc(c,l,u){return u?4294967296*l+(c>>>0):4294967296*(l>>>0)+(c>>>0)}function _k(c,l,u){const m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));u.realloc(m);for(let y=u.pos-1;y>=c;y--)u.buf[y+m]=u.buf[y]}function MI(c,l){for(let u=0;u<c.length;u++)l.writeVarint(c[u])}function PI(c,l){for(let u=0;u<c.length;u++)l.writeSVarint(c[u])}function LI(c,l){for(let u=0;u<c.length;u++)l.writeFloat(c[u])}function EI(c,l){for(let u=0;u<c.length;u++)l.writeDouble(c[u])}function II(c,l){for(let u=0;u<c.length;u++)l.writeBoolean(c[u])}function DI(c,l){for(let u=0;u<c.length;u++)l.writeFixed32(c[u])}function zI(c,l){for(let u=0;u<c.length;u++)l.writeSFixed32(c[u])}function RI(c,l){for(let u=0;u<c.length;u++)l.writeFixed64(c[u])}function FI(c,l){for(let u=0;u<c.length;u++)l.writeSFixed64(c[u])}function OI(c,l,u){c===1&&u.readMessage(BI,l)}function BI(c,l,u){if(c===3){const{id:m,bitmap:y,width:b,height:k,left:A,top:I,advance:R}=u.readMessage(jI,{});l.push({id:m,bitmap:new Uf({width:b+6,height:k+6},y),metrics:{width:b,height:k,left:A,top:I,advance:R}})}}function jI(c,l,u){c===1?l.id=u.readVarint():c===2?l.bitmap=u.readBytes():c===3?l.width=u.readVarint():c===4?l.height=u.readVarint():c===5?l.left=u.readSVarint():c===6?l.top=u.readSVarint():c===7&&(l.advance=u.readVarint())}function yk(c){let l=0,u=0;for(const k of c)l+=k.w*k.h,u=Math.max(u,k.w);c.sort(((k,A)=>A.h-k.h));const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),u),h:1/0}];let y=0,b=0;for(const k of c)for(let A=m.length-1;A>=0;A--){const I=m[A];if(!(k.w>I.w||k.h>I.h)){if(k.x=I.x,k.y=I.y,b=Math.max(b,k.y+k.h),y=Math.max(y,k.x+k.w),k.w===I.w&&k.h===I.h){const R=m.pop();R&&A<m.length&&(m[A]=R)}else k.h===I.h?(I.x+=k.w,I.w-=k.w):k.w===I.w?(I.y+=k.h,I.h-=k.h):(m.push({x:I.x+k.w,y:I.y,w:I.w-k.w,h:k.h}),I.y+=k.h,I.h-=k.h);break}}return{w:y,h:b,fill:l/(y*b)||0}}class av{constructor(l,{pixelRatio:u,version:m,stretchX:y,stretchY:b,content:k,textFitWidth:A,textFitHeight:I}){this.paddedRect=l,this.pixelRatio=u,this.stretchX=y,this.stretchY=b,this.content=k,this.version=m,this.textFitWidth=A,this.textFitHeight=I}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class xk{constructor(l,u){const m={},y={};this.haveRenderCallbacks=[];const b=[];this.addImages(l,m,b),this.addImages(u,y,b);const{w:k,h:A}=yk(b),I=new dr({width:k||1,height:A||1});for(const R in l){const B=l[R],V=m[R].paddedRect;dr.copy(B.data,I,{x:0,y:0},{x:V.x+1,y:V.y+1},B.data)}for(const R in u){const B=u[R],V=y[R].paddedRect,W=V.x+1,q=V.y+1,J=B.data.width,ee=B.data.height;dr.copy(B.data,I,{x:0,y:0},{x:W,y:q},B.data),dr.copy(B.data,I,{x:0,y:ee-1},{x:W,y:q-1},{width:J,height:1}),dr.copy(B.data,I,{x:0,y:0},{x:W,y:q+ee},{width:J,height:1}),dr.copy(B.data,I,{x:J-1,y:0},{x:W-1,y:q},{width:1,height:ee}),dr.copy(B.data,I,{x:0,y:0},{x:W+J,y:q},{width:1,height:ee})}this.image=I,this.iconPositions=m,this.patternPositions=y}addImages(l,u,m){for(const y in l){const b=l[y],k={x:0,y:0,w:b.data.width+2,h:b.data.height+2};m.push(k),u[y]=new av(k,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(l,u){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),u),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),u)}patchUpdatedImage(l,u,m){if(!l||!u||l.version===u.version)return;l.version=u.version;const[y,b]=l.tl;m.update(u.data,void 0,{x:y,y:b})}}var Il;function Yg(c,l,u,m,y,b,k,A,I,R,B,V,W,q,J){const ee=Gc.fromFeature(c,y);let ne;V===o.az.vertical&&ee.verticalizePunctuation();let le=ee.determineLineBreaks(R,b,l,m,q);const{processBidirectionalText:_e,processStyledBidirectionalText:he}=no;if(_e&&ee.sections.length===1){ne=[],le=le.map((Ne=>ee.toCodeUnitIndex(Ne)));const Te=_e(ee.toString(),le);for(const Ne of Te){const et=[...Ne].map((()=>0));ne.push(new Gc(Ne,ee.sections,et))}}else if(he){ne=[],le=le.map((Ze=>ee.toCodeUnitIndex(Ze)));let Te=0;const Ne=[];for(const Ze of ee.text)Ne.push(...Array(Ze.length).fill(ee.sectionIndex[Te])),Te++;const et=he(ee.text,Ne,le);for(const Ze of et){const at=[];let pt="";for(const st of Ze[0])at.push(Ze[1][pt.length]),pt+=st;ne.push(new Gc(Ze[0],ee.sections,at))}}else ne=(function(Te,Ne){const et=[];let Ze=0;for(const at of Ne)et.push(Te.substring(Ze,at)),Ze=at;return Ze<Te.length()&&et.push(Te.substring(Ze,Te.length())),et})(ee,le);const de=[],be={positionedLines:de,text:ee.toString(),top:B[1],bottom:B[1],left:B[0],right:B[0],writingMode:V,iconsInText:!1,verticalizable:!1};return(function(Te,Ne,et,Ze,at,pt,st,Ke,Xe,vt,xt,kt){let yt=0,It=0,vi=0,hi=0;const on=Ke==="right"?1:Ke==="left"?0:.5,Ea=ca/kt;let Zn=0;for(const Ii of at){Ii.trim();const Sn=Ii.getMaxScale(),Rn={positionedGlyphs:[],lineOffset:0};Te.positionedLines[Zn]=Rn;const Yi=Rn.positionedGlyphs;let fr=0;if(!Ii.length()){It+=pt,++Zn;continue}const Ia=NI(Ze,Ii,Ea);let pr=0;for(const pa of Ii.text){const mn=Ii.getSection(pr),Kn=pa.codePointAt(0),Tn=$I(Xe,xt,Kn),ma={glyph:Kn,imageName:null,x:yt,y:It+-17,vertical:Tn,scale:1,fontStack:"",sectionIndex:Ii.getSectionIndex(pr),metrics:null,rect:null};let Vo;if("fontStack"in mn){if(Vo=VI(mn,Kn,Tn,Ia,Ne,et),!Vo)continue;ma.fontStack=mn.fontStack}else{if(Te.iconsInText=!0,mn.scale*=Ea,Vo=HI(mn,Tn,Sn,Ia,Ze),!Vo)continue;fr=Math.max(fr,Vo.imageOffset),ma.imageName=mn.imageName}const{rect:Bs,metrics:lp,baselineOffset:Ol}=Vo;ma.y+=Ol,ma.scale=mn.scale,ma.metrics=lp,ma.rect=Bs,Yi.push(ma),Tn?(Te.verticalizable=!0,yt+=("imageName"in mn?lp.advance:ca)*mn.scale+vt):yt+=lp.advance*mn.scale+vt,pr++}Yi.length!==0&&(vi=Math.max(yt-vt,vi),GI(Yi,0,Yi.length-1,on)),yt=0,Rn.lineOffset=Math.max(fr,(Sn-1)*ca);const vs=pt*Sn+fr;It+=vs,hi=Math.max(vs,hi),++Zn}const{horizontalAlign:ln,verticalAlign:en}=rv(st);(function(Ii,Sn,Rn,Yi,fr,Ia,pr,vs,pa){const mn=(Sn-Rn)*fr;let Kn=0;Kn=Ia!==pr?-vs*Yi- -17:-Yi*pa*pr+.5*pr;for(const Tn of Ii)for(const ma of Tn.positionedGlyphs)ma.x+=mn,ma.y+=Kn})(Te.positionedLines,on,ln,en,vi,hi,pt,It,at.length),Te.top+=-en*It,Te.bottom=Te.top+It,Te.left+=-ln*vi,Te.right=Te.left+vi})(be,l,u,m,ne,k,A,I,V,R,W,J),!(function(Te){for(const Ne of Te)if(Ne.positionedGlyphs.length!==0)return!1;return!0})(de)&&be}function rv(c){let l=.5,u=.5;switch(c){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(c){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:l,verticalAlign:u}}function NI(c,l,u){const m=l.getMaxScale()*ca,{maxImageWidth:y,maxImageHeight:b}=l.getMaxImageSize(c),k=Math.max(m,b*u);return{verticalLineContentWidth:Math.max(m,y*u),horizontalLineContentHeight:k}}function vk(c){switch(c){case"top":return 0;case"center":return .5;default:return 1}}function $I(c,l,u){return!(c===o.az.horizontal||!l&&!Lf(u)||l&&(Pg(u)||(m=u,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(m)))));var m}function VI(c,l,u,m,y,b){const k=b[c.fontStack],A=(function(R,B,V,W){if(R&&R.rect)return R;const q=B[V.fontStack],J=q&&q[W];return J?{rect:null,metrics:J.metrics}:null})(k&&k[l],y,c,l);if(A===null)return null;let I;if(u)I=m.verticalLineContentWidth-c.scale*ca;else{const R=vk(c.verticalAlign);I=(m.horizontalLineContentHeight-c.scale*ca)*R}return{rect:A.rect,metrics:A.metrics,baselineOffset:I}}function HI(c,l,u,m,y){const b=y[c.imageName];if(!b)return null;const k=b.paddedRect,A=b.displaySize,I={width:A[0],height:A[1],left:1,top:-3,advance:l?A[1]:A[0]};let R;if(l)R=m.verticalLineContentWidth-A[1]*c.scale;else{const B=vk(c.verticalAlign);R=(m.horizontalLineContentHeight-A[1]*c.scale)*B}return{rect:k,metrics:I,baselineOffset:R,imageOffset:(l?A[0]:A[1])*c.scale-ca*u}}function GI(c,l,u,m){if(m===0)return;const y=c[u],b=(c[u].x+y.metrics.advance*y.scale)*m;for(let k=l;k<=u;k++)c[k].x-=b}function UI(c,l,u){const{horizontalAlign:m,verticalAlign:y}=rv(u),b=l[0]-c.displaySize[0]*m,k=l[1]-c.displaySize[1]*y;return{image:c,top:k,bottom:k+c.displaySize[1],left:b,right:b+c.displaySize[0]}}function bk(c){var l,u;let m=c.left,y=c.top,b=c.right-m,k=c.bottom-y;const A=(l=c.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",I=(u=c.image.textFitHeight)!==null&&u!==void 0?u:"stretchOrShrink",R=(c.image.content[2]-c.image.content[0])/(c.image.content[3]-c.image.content[1]);if(I==="proportional"){if(A==="stretchOnly"&&b/k<R||A==="proportional"){const B=Math.ceil(k*R);m*=B/b,b=B}}else if(A==="proportional"&&I==="stretchOnly"&&R!==0&&b/k>R){const B=Math.ceil(b/R);y*=B/k,k=B}return{x1:m,y1:y,x2:m+b,y2:y+k}}function wk(c,l,u,m,y,b){const k=c.image;let A;if(k.content){const ne=k.content,le=k.pixelRatio||1;A=[ne[0]/le,ne[1]/le,k.displaySize[0]-ne[2]/le,k.displaySize[1]-ne[3]/le]}const I=l.left*b,R=l.right*b;let B,V,W,q;u==="width"||u==="both"?(q=y[0]+I-m[3],V=y[0]+R+m[1]):(q=y[0]+(I+R-k.displaySize[0])/2,V=q+k.displaySize[0]);const J=l.top*b,ee=l.bottom*b;return u==="height"||u==="both"?(B=y[1]+J-m[0],W=y[1]+ee+m[2]):(B=y[1]+(J+ee-k.displaySize[1])/2,W=B+k.displaySize[1]),{image:k,top:B,right:V,bottom:W,left:q,collisionPadding:A}}bt("ImagePosition",av),bt("ImageAtlas",xk),o.az=void 0,(Il=o.az||(o.az={}))[Il.none=0]="none",Il[Il.horizontal=1]="horizontal",Il[Il.vertical=2]="vertical",Il[Il.horizontalOnly=3]="horizontalOnly";const No=128,Dl=32640;function kk(c,l){const{expression:u}=l;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new ji(c+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:y}=u;let b=0;for(;b<m.length&&m[b]<=c;)b++;b=Math.max(0,b-1);let k=b;for(;k<m.length&&m[k]<c+1;)k++;k=Math.min(m.length-1,k);const A=m[b],I=m[k];return u.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:I,interpolationType:y}:{kind:"camera",minZoom:A,maxZoom:I,minSize:u.evaluate(new ji(A)),maxSize:u.evaluate(new ji(I)),interpolationType:y}}}function sv(c,l,u){let m="never";const y=c.get(l);return y?m=y:c.get(u)&&(m="always"),m}const WI=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Zg(c,l,u,m,y,b,k,A,I,R,B,V,W){const q=A?Math.min(Dl,Math.round(A[0])):0,J=A?Math.min(Dl,Math.round(A[1])):0;c.emplaceBack(l,u,Math.round(32*m),Math.round(32*y),b,k,(q<<1)+(I?1:0),J,16*R,16*B,256*V,256*W)}function ov(c,l,u){c.emplaceBack(l.x,l.y,u),c.emplaceBack(l.x,l.y,u),c.emplaceBack(l.x,l.y,u),c.emplaceBack(l.x,l.y,u)}function XI(c){for(const l of c.sections)if(Ig(l.text))return!0;return!1}class lv{constructor(l){this.layoutVertexArray=new we,this.indexArray=new We,this.programConfigurations=l,this.segments=new mt,this.dynamicLayoutVertexArray=new Ie,this.opacityVertexArray=new qe,this.hasVisibleVertices=!1,this.placedSymbolArray=new P}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,u,m,y){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,vI.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,bI.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,WI,!0),this.opacityVertexBuffer.itemSize=1),(m||y)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bt("SymbolBuffers",lv);class hv{constructor(l,u,m){this.layoutVertexArray=new l,this.layoutAttributes=u,this.indexArray=new m,this.segments=new mt,this.collisionVertexArray=new Ge}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,wI.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bt("CollisionBuffers",hv);class Wc{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((k=>k.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=kk(this.zoom,u["text-size"]),this.iconSizeData=kk(this.zoom,u["icon-size"]);const m=this.layers[0].layout,y=m.get("symbol-sort-key"),b=m.get("symbol-z-order");this.canOverlap=sv(m,"text-overlap","text-allow-overlap")!=="never"||sv(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!y.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map((k=>o.az[k]))),this.stateDependentLayerIds=this.layers.filter((k=>k.isStateDependent())).map((k=>k.id)),this.sourceID=l.sourceID}createArrays(){this.text=new lv(new jo(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new lv(new jo(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new $,this.lineVertexArray=new G,this.symbolInstances=new F,this.textAnchorOffsets=new Z}calculateGlyphDependencies(l,u,m,y,b){for(const k of l)if(u[k.codePointAt(0)]=!0,(m||y)&&b){const A=tp[k];A&&(u[A.codePointAt(0)]=!0)}}populate(l,u,m){const y=this.layers[0],b=y.layout,k=b.get("text-font"),A=b.get("text-field"),I=b.get("icon-image"),R=(A.value.kind!=="constant"||A.value.value instanceof Za&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(k.value.kind!=="constant"||k.value.value.length>0),B=I.value.kind!=="constant"||!!I.value.value||Object.keys(I.parameters).length>0,V=b.get("symbol-sort-key");if(this.features=[],!R&&!B)return;const W=u.iconDependencies,q=u.glyphDependencies,J=u.availableImages,ee=new ji(this.zoom);for(const{feature:ne,id:le,index:_e,sourceLayerIndex:he}of l){const de=y._featureFilter.needGeometry,be=oo(ne,de);if(!y._featureFilter.filter(ee,be,m))continue;let Te,Ne;if(de||(be.geometry=so(ne)),R){const Ze=y.getValueAndResolveTokens("text-field",be,m,J),at=Za.factory(Ze),pt=this.hasRTLText=this.hasRTLText||XI(at);(!pt||no.getRTLTextPluginStatus()==="unavailable"||pt&&no.isParsed())&&(Te=SI(at,y,be))}if(B){const Ze=y.getValueAndResolveTokens("icon-image",be,m,J);Ne=Ze instanceof ur?Ze:ur.fromString(Ze)}if(!Te&&!Ne)continue;const et=this.sortFeaturesByKey?V.evaluate(be,{},m):void 0;if(this.features.push({id:le,text:Te,icon:Ne,index:_e,sourceLayerIndex:he,geometry:be.geometry,properties:ne.properties,type:Jf.types[ne.type],sortKey:et}),Ne&&(W[Ne.name]=!0),Te){const Ze=k.evaluate(be,{},m).join(","),at=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.az.vertical)>=0;for(const pt of Te.sections)if(pt.image)W[pt.image.name]=!0;else{const st=Ll(Te.toString()),Ke=pt.fontStack||Ze,Xe=q[Ke]=q[Ke]||{};this.calculateGlyphDependencies(pt.text,Xe,at,this.allowVerticalPlacement,st)}}}b.get("symbol-placement")==="line"&&(this.features=(function(ne){const le={},_e={},he=[];let de=0;function be(Ze){he.push(ne[Ze]),de++}function Te(Ze,at,pt){const st=_e[Ze];return delete _e[Ze],_e[at]=st,he[st].geometry[0].pop(),he[st].geometry[0]=he[st].geometry[0].concat(pt[0]),st}function Ne(Ze,at,pt){const st=le[at];return delete le[at],le[Ze]=st,he[st].geometry[0].shift(),he[st].geometry[0]=pt[0].concat(he[st].geometry[0]),st}function et(Ze,at,pt){const st=pt?at[0][at[0].length-1]:at[0][0];return`${Ze}:${st.x}:${st.y}`}for(let Ze=0;Ze<ne.length;Ze++){const at=ne[Ze],pt=at.geometry,st=at.text?at.text.toString():null;if(!st){be(Ze);continue}const Ke=et(st,pt),Xe=et(st,pt,!0);if(Ke in _e&&Xe in le&&_e[Ke]!==le[Xe]){const vt=Ne(Ke,Xe,pt),xt=Te(Ke,Xe,he[vt].geometry);delete le[Ke],delete _e[Xe],_e[et(st,he[xt].geometry,!0)]=xt,he[vt].geometry=null}else Ke in _e?Te(Ke,Xe,pt):Xe in le?Ne(Ke,Xe,pt):(be(Ze),le[Ke]=de-1,_e[Xe]=de-1)}return he.filter((Ze=>Ze.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((ne,le)=>ne.sortKey-le.sortKey))}update(l,u,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,u,this.layers,{imagePositions:m}),this.icon.programConfigurations.updatePaintArrays(l,u,this.layers,{imagePositions:m}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,u){const m=this.lineVertexArray.length;if(l.segment!==void 0){let y=l.dist(u[l.segment+1]),b=l.dist(u[l.segment]);const k={};for(let A=l.segment+1;A<u.length;A++)k[A]={x:u[A].x,y:u[A].y,tileUnitDistanceFromAnchor:y},A<u.length-1&&(y+=u[A+1].dist(u[A]));for(let A=l.segment||0;A>=0;A--)k[A]={x:u[A].x,y:u[A].y,tileUnitDistanceFromAnchor:b},A>0&&(b+=u[A-1].dist(u[A]));for(let A=0;A<u.length;A++){const I=k[A];this.lineVertexArray.emplaceBack(I.x,I.y,I.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,u,m,y,b,k,A,I,R,B,V,W){const q=l.indexArray,J=l.layoutVertexArray,ee=l.segments.prepareSegment(4*u.length,J,q,this.canOverlap?k.sortKey:void 0),ne=this.glyphOffsetArray.length,le=ee.vertexLength,_e=this.allowVerticalPlacement&&A===o.az.vertical?Math.PI/2:0,he=k.text&&k.text.sections;for(let de=0;de<u.length;de++){const{tl:be,tr:Te,bl:Ne,br:et,tex:Ze,pixelOffsetTL:at,pixelOffsetBR:pt,minFontScaleX:st,minFontScaleY:Ke,glyphOffset:Xe,isSDF:vt,sectionIndex:xt}=u[de],kt=ee.vertexLength,yt=Xe[1];Zg(J,I.x,I.y,be.x,yt+be.y,Ze.x,Ze.y,m,vt,at.x,at.y,st,Ke),Zg(J,I.x,I.y,Te.x,yt+Te.y,Ze.x+Ze.w,Ze.y,m,vt,pt.x,at.y,st,Ke),Zg(J,I.x,I.y,Ne.x,yt+Ne.y,Ze.x,Ze.y+Ze.h,m,vt,at.x,pt.y,st,Ke),Zg(J,I.x,I.y,et.x,yt+et.y,Ze.x+Ze.w,Ze.y+Ze.h,m,vt,pt.x,pt.y,st,Ke),ov(l.dynamicLayoutVertexArray,I,_e),q.emplaceBack(kt,kt+2,kt+1),q.emplaceBack(kt+1,kt+2,kt+3),ee.vertexLength+=4,ee.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Xe[0]),de!==u.length-1&&xt===u[de+1].sectionIndex||l.programConfigurations.populatePaintArrays(J.length,k,k.index,{imagePositions:{},canonical:W,formattedSection:he&&he[xt]})}l.placedSymbolArray.emplaceBack(I.x,I.y,ne,this.glyphOffsetArray.length-ne,le,R,B,I.segment,m?m[0]:0,m?m[1]:0,y[0],y[1],A,0,!1,0,V)}_addCollisionDebugVertex(l,u,m,y,b,k){return u.emplaceBack(0,0),l.emplaceBack(m.x,m.y,y,b,Math.round(k.x),Math.round(k.y))}addCollisionDebugVertices(l,u,m,y,b,k,A){const I=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),R=I.vertexLength,B=b.layoutVertexArray,V=b.collisionVertexArray,W=A.anchorX,q=A.anchorY;this._addCollisionDebugVertex(B,V,k,W,q,new d(l,u)),this._addCollisionDebugVertex(B,V,k,W,q,new d(m,u)),this._addCollisionDebugVertex(B,V,k,W,q,new d(m,y)),this._addCollisionDebugVertex(B,V,k,W,q,new d(l,y)),I.vertexLength+=4;const J=b.indexArray;J.emplaceBack(R,R+1),J.emplaceBack(R+1,R+2),J.emplaceBack(R+2,R+3),J.emplaceBack(R+3,R),I.primitiveLength+=4}addDebugCollisionBoxes(l,u,m,y){for(let b=l;b<u;b++){const k=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(k.x1,k.y1,k.x2,k.y2,y?this.textCollisionBox:this.iconCollisionBox,k.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new hv(Ve,uk.members,ut),this.iconCollisionBox=new hv(Ve,uk.members,ut);for(let l=0;l<this.symbolInstances.length;l++){const u=this.symbolInstances.get(l);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}}_deserializeCollisionBoxesForSymbol(l,u,m,y,b,k,A,I,R){const B={};for(let V=u;V<m;V++){const W=l.get(V);B.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.textFeatureIndex=W.featureIndex;break}for(let V=y;V<b;V++){const W=l.get(V);B.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.verticalTextFeatureIndex=W.featureIndex;break}for(let V=k;V<A;V++){const W=l.get(V);B.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.iconFeatureIndex=W.featureIndex;break}for(let V=I;V<R;V++){const W=l.get(V);B.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.verticalIconFeatureIndex=W.featureIndex;break}return B}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const m=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,u){const m=l.placedSymbolArray.get(u),y=m.vertexStartIndex+4*m.numGlyphs;for(let b=m.vertexStartIndex;b<y;b+=4)l.indexArray.emplaceBack(b,b+2,b+1),l.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(l),m=Math.cos(l),y=[],b=[],k=[];for(let A=0;A<this.symbolInstances.length;++A){k.push(A);const I=this.symbolInstances.get(A);y.push(0|Math.round(u*I.anchorX+m*I.anchorY)),b.push(I.featureIndex)}return k.sort(((A,I)=>y[A]-y[I]||b[I]-b[A])),k}addToSortKeyRanges(l,u){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===u?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const m=this.symbolInstances.get(u);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach(((y,b,k)=>{y>=0&&k.indexOf(y)===b&&this.addIndicesForPlacedSymbol(this.text,y)})),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Sk,Tk;bt("SymbolBucket",Wc,{omit:["layers","collisionBoxArray","features","compareText"]}),Wc.MAX_GLYPHS=65535,Wc.addDynamicAttributes=ov;var uv={get paint(){return Tk=Tk||new Va({"icon-opacity":new jt(je.paint_symbol["icon-opacity"]),"icon-color":new jt(je.paint_symbol["icon-color"]),"icon-halo-color":new jt(je.paint_symbol["icon-halo-color"]),"icon-halo-width":new jt(je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new jt(je.paint_symbol["icon-halo-blur"]),"icon-translate":new Lt(je.paint_symbol["icon-translate"]),"icon-translate-anchor":new Lt(je.paint_symbol["icon-translate-anchor"]),"text-opacity":new jt(je.paint_symbol["text-opacity"]),"text-color":new jt(je.paint_symbol["text-color"],{runtimeType:pi,getOverride:c=>c.textColor,hasOverride:c=>!!c.textColor}),"text-halo-color":new jt(je.paint_symbol["text-halo-color"]),"text-halo-width":new jt(je.paint_symbol["text-halo-width"]),"text-halo-blur":new jt(je.paint_symbol["text-halo-blur"]),"text-translate":new Lt(je.paint_symbol["text-translate"]),"text-translate-anchor":new Lt(je.paint_symbol["text-translate-anchor"])})},get layout(){return Sk=Sk||new Va({"symbol-placement":new Lt(je.layout_symbol["symbol-placement"]),"symbol-spacing":new Lt(je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Lt(je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new jt(je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Lt(je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Lt(je.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Lt(je.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Lt(je.layout_symbol["icon-ignore-placement"]),"icon-optional":new Lt(je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Lt(je.layout_symbol["icon-rotation-alignment"]),"icon-size":new jt(je.layout_symbol["icon-size"]),"icon-text-fit":new Lt(je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Lt(je.layout_symbol["icon-text-fit-padding"]),"icon-image":new jt(je.layout_symbol["icon-image"]),"icon-rotate":new jt(je.layout_symbol["icon-rotate"]),"icon-padding":new jt(je.layout_symbol["icon-padding"]),"icon-keep-upright":new Lt(je.layout_symbol["icon-keep-upright"]),"icon-offset":new jt(je.layout_symbol["icon-offset"]),"icon-anchor":new jt(je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Lt(je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Lt(je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Lt(je.layout_symbol["text-rotation-alignment"]),"text-field":new jt(je.layout_symbol["text-field"]),"text-font":new jt(je.layout_symbol["text-font"]),"text-size":new jt(je.layout_symbol["text-size"]),"text-max-width":new jt(je.layout_symbol["text-max-width"]),"text-line-height":new Lt(je.layout_symbol["text-line-height"]),"text-letter-spacing":new jt(je.layout_symbol["text-letter-spacing"]),"text-justify":new jt(je.layout_symbol["text-justify"]),"text-radial-offset":new jt(je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Lt(je.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new jt(je.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new jt(je.layout_symbol["text-anchor"]),"text-max-angle":new Lt(je.layout_symbol["text-max-angle"]),"text-writing-mode":new Lt(je.layout_symbol["text-writing-mode"]),"text-rotate":new jt(je.layout_symbol["text-rotate"]),"text-padding":new Lt(je.layout_symbol["text-padding"]),"text-keep-upright":new Lt(je.layout_symbol["text-keep-upright"]),"text-transform":new jt(je.layout_symbol["text-transform"]),"text-offset":new jt(je.layout_symbol["text-offset"]),"text-allow-overlap":new Lt(je.layout_symbol["text-allow-overlap"]),"text-overlap":new Lt(je.layout_symbol["text-overlap"]),"text-ignore-placement":new Lt(je.layout_symbol["text-ignore-placement"]),"text-optional":new Lt(je.layout_symbol["text-optional"])})}};class Ck{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:Ti,this.defaultValue=l}evaluate(l){if(l.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(l.formattedSection))return u.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bt("FormatSectionOverride",Ck,{omit:["defaultValue"]});class Kg extends Er{constructor(l,u){super(l,uv,u)}recalculate(l,u){if(super.recalculate(l,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const y=[];for(const b of m)y.indexOf(b)<0&&y.push(b);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,u,m,y){const b=this.layout.get(l).evaluate(u,{},m,y),k=this._unevaluatedLayout._values[l];return k.isDataDriven()||Tl(k.value)||!b?b:(function(A,I){return I.replace(/{([^{}]+)}/g,((R,B)=>A&&B in A?String(A[B]):""))})(u.properties,b)}createBucket(l){return new Wc(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of uv.paint.overridableProperties){if(!Kg.hasPaintOverride(this.layout,l))continue;const u=this.paint.get(l),m=new Ck(u),y=new yf(m,u.property.specification);let b=null;b=u.value.kind==="constant"||u.value.kind==="source"?new _c("source",y):new xf("composite",y,u.value.zoomStops),this.paint._values[l]=new Yr(u.property,b,u.parameters)}}_handleOverridablePaintPropertyUpdate(l,u,m){return!(!this.layout||u.isDataDriven()||m.isDataDriven())&&Kg.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,u){const m=l.get("text-field"),y=uv.paint.properties[u];let b=!1;const k=A=>{for(const I of A)if(y.overrides&&y.overrides.hasOverride(I))return void(b=!0)};if(m.value.kind==="constant"&&m.value.value instanceof Za)k(m.value.value.sections);else if(m.value.kind==="source"||m.value.kind==="composite"){const A=R=>{b||(R instanceof gs&&En(R.value)===Pn?k(R.value.sections):R instanceof wh?k(R.sections):R.eachChild(A))},I=m.value;I._styleExpression&&A(I._styleExpression.expression)}return b}}let Ak;var qI={get paint(){return Ak=Ak||new Va({"background-color":new Lt(je.paint_background["background-color"]),"background-pattern":new Pc(je.paint_background["background-pattern"]),"background-opacity":new Lt(je.paint_background["background-opacity"])})}};class YI extends Er{constructor(l,u){super(l,qI,u)}}class ZI extends Er{constructor(l,u){super(l,{},u),this.onAdd=m=>{this.implementation.onAdd&&this.implementation.onAdd(m,m.painter.context.gl)},this.onRemove=m=>{this.implementation.onRemove&&this.implementation.onRemove(m,m.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class KI{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const JI={once:!0},cv=63710088e-1;class zl{constructor(l,u){if(isNaN(l)||isNaN(u))throw new Error(`Invalid LngLat object: (${l}, ${u})`);if(this.lng=+l,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new zl(Pt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const u=Math.PI/180,m=this.lat*u,y=l.lat*u,b=Math.sin(m)*Math.sin(y)+Math.cos(m)*Math.cos(y)*Math.cos((l.lng-this.lng)*u);return cv*Math.acos(Math.min(b,1))}static convert(l){if(l instanceof zl)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new zl(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new zl(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Mk=2*Math.PI*cv;function Pk(c){return Mk*Math.cos(c*Math.PI/180)}function Lk(c){return(180+c)/360}function Ek(c){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+c*Math.PI/360)))/360}function Ik(c,l){return c/Pk(l)}function Dk(c){return 360*c-180}function Jg(c){return 360/Math.PI*Math.atan(Math.exp((180-360*c)*Math.PI/180))-90}function zk(c,l){return c*Pk(Jg(l))}class ip{constructor(l,u,m=0){this.x=+l,this.y=+u,this.z=+m}static fromLngLat(l,u=0){const m=zl.convert(l);return new ip(Lk(m.lng),Ek(m.lat),Ik(u,m.lat))}toLngLat(){return new zl(Dk(this.x),Jg(this.y))}toAltitude(){return zk(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Mk*(l=Jg(this.y),1/Math.cos(l*Math.PI/180));var l}}function Rk(c,l,u){var m=2*Math.PI*6378137/256/Math.pow(2,u);return[c*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class dv{constructor(l,u,m){if(!(function(y,b,k){return!(y<0||y>25||k<0||k>=Math.pow(2,y)||b<0||b>=Math.pow(2,y))})(l,u,m))throw new Error(`x=${u}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=u,this.y=m,this.key=Xc(0,l,l,u,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,u,m){const y=(function(k,A,I){var R=Rk(256*k,256*(A=Math.pow(2,I)-A-1),I),B=Rk(256*(k+1),256*(A+1),I);return R[0]+","+R[1]+","+B[0]+","+B[1]})(this.x,this.y,this.z),b=(function(k,A,I){let R,B="";for(let V=k;V>0;V--)R=1<<V-1,B+=(A&R?1:0)+(I&R?2:0);return B})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,u>1?"@2x":"").replace(/{quadkey}/g,b).replace(/{bbox-epsg-3857}/g,y)}isChildOf(l){const u=this.z-l.z;return u>0&&l.x===this.x>>u&&l.y===this.y>>u}getTilePoint(l){const u=Math.pow(2,this.z);return new d((l.x*u-this.x)*Qe,(l.y*u-this.y)*Qe)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Fk{constructor(l,u){this.wrap=l,this.canonical=u,this.key=Xc(l,u.z,u.z,u.x,u.y)}}class Jr{constructor(l,u,m,y,b){if(this.terrainRttPosMatrix32f=null,l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=u,this.canonical=new dv(m,+y,+b),this.key=Xc(u,l,m,y,b)}clone(){return new Jr(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const u=this.canonical.z-l;return l>this.canonical.z?new Jr(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Jr(l,this.wrap,l,this.canonical.x>>u,this.canonical.y>>u)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(l,u){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?Xc(this.wrap*+u,l,this.canonical.z,this.canonical.x,this.canonical.y):Xc(this.wrap*+u,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap||this.overscaledZ-l.overscaledZ<=0)return!1;if(l.overscaledZ===0)return this.overscaledZ>0;const u=this.canonical.z-l.canonical.z;return!(u<0)&&l.canonical.x===this.canonical.x>>u&&l.canonical.y===this.canonical.y>>u}children(l){if(this.overscaledZ>=l)return[new Jr(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,m=2*this.canonical.x,y=2*this.canonical.y;return[new Jr(u,this.wrap,u,m,y),new Jr(u,this.wrap,u,m+1,y),new Jr(u,this.wrap,u,m,y+1),new Jr(u,this.wrap,u,m+1,y+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Jr(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Jr(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Fk(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new ip(l.x-this.wrap,l.y))}}function Xc(c,l,u,m,y){(c*=2)<0&&(c=-1*c-1);const b=1<<u;return(b*b*c+b*y+m).toString(36)+u.toString(36)+l.toString(36)}function fv(c,l){return l?c.properties[l]:c.id}function QI(c,l){const u={id:c.id};if(l.removeAllProperties&&(delete c.removeProperties,delete c.addOrUpdateProperties,delete l.removeProperties),l.removeProperties)for(const m of l.removeProperties){const y=c.addOrUpdateProperties.findIndex((b=>b.key===m));y>-1&&c.addOrUpdateProperties.splice(y,1)}return(c.removeAllProperties||l.removeAllProperties)&&(u.removeAllProperties=!0),(c.removeProperties||l.removeProperties)&&(u.removeProperties=[...c.removeProperties||[],...l.removeProperties||[]]),(c.addOrUpdateProperties||l.addOrUpdateProperties)&&(u.addOrUpdateProperties=[...c.addOrUpdateProperties||[],...l.addOrUpdateProperties||[]]),(c.newGeometry||l.newGeometry)&&(u.newGeometry=l.newGeometry||c.newGeometry),u}function Ok(c){var l,u;if(!c)return{};const m={};return m.removeAll=c.removeAll,m.remove=new Set(c.remove||[]),m.add=new Map((l=c.add)===null||l===void 0?void 0:l.map((y=>[y.id,y]))),m.update=new Map((u=c.update)===null||u===void 0?void 0:u.map((y=>[y.id,y]))),m}bt("CanonicalTileID",dv),bt("OverscaledTileID",Jr,{omit:["terrainRttPosMatrix32f"]});class Qh{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const u=new Qh;return u.extend(l(new d(this.minX,this.minY))),u.extend(l(new d(this.maxX,this.minY))),u.extend(l(new d(this.minX,this.maxY))),u.extend(l(new d(this.maxX,this.maxY))),u}static fromPoints(l){const u=new Qh;for(const m of l)u.extend(m);return u}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}class Bk{constructor(l){this._stringToNumber={},this._numberToString=[];for(let u=0;u<l.length;u++){const m=l[u];this._stringToNumber[m]=u,this._numberToString[u]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class jk{constructor(l,u,m,y,b){this.type="Feature",this._vectorTileFeature=l,this._x=m,this._y=y,this._z=u,this.properties=l.properties,this.id=b}projectPoint(l,u,m,y){return[360*(l.x+u)/y-180,360/Math.PI*Math.atan(Math.exp((1-2*(l.y+m)/y)*Math.PI))-90]}projectLine(l,u,m,y){return l.map((b=>this.projectPoint(b,u,m,y)))}get geometry(){if(this._geometry)return this._geometry;const l=this._vectorTileFeature,u=l.extent*Math.pow(2,this._z),m=l.extent*this._x,y=l.extent*this._y,b=l.loadGeometry();switch(l.type){case 1:{const k=[];for(const I of b)k.push(I[0]);const A=this.projectLine(k,m,y,u);this._geometry=k.length===1?{type:"Point",coordinates:A[0]}:{type:"MultiPoint",coordinates:A};break}case 2:{const k=b.map((A=>this.projectLine(A,m,y,u)));this._geometry=k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k};break}case 3:{const k=ek(b),A=[];for(const I of k)A.push(I.map((R=>this.projectLine(R,m,y,u))));this._geometry=A.length===1?{type:"Polygon",coordinates:A[0]}:{type:"MultiPolygon",coordinates:A};break}default:throw new Error(`unknown feature type: ${l.type}`)}return this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const u in this)u!=="_geometry"&&u!=="_vectorTileFeature"&&u!=="_x"&&u!=="_y"&&u!=="_z"&&(l[u]=this[u]);return l}}class qc{_name;dataBuffer;nullabilityBuffer;_size;constructor(l,u,m){this._name=l,this.dataBuffer=u,typeof m=="number"?this._size=m:(this.nullabilityBuffer=m,this._size=m.size())}getValue(l){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(l)?null:this.getValueFromBuffer(l)}has(l){return this.nullabilityBuffer&&this.nullabilityBuffer.get(l)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class Qg extends qc{}class pv extends Qg{getValueFromBuffer(l){return this.dataBuffer[l]}}class mv extends Qg{getValueFromBuffer(l){return this.dataBuffer[l]}}class Nk extends qc{delta;constructor(l,u,m,y){super(l,u,y),this.delta=m}}class gv extends Nk{constructor(l,u,m,y){super(l,Int32Array.of(u),m,y)}getValueFromBuffer(l){return this.dataBuffer[0]+l*this.delta}}class _v extends qc{constructor(l,u,m){super(l,Int32Array.of(u),m)}getValueFromBuffer(l){return this.dataBuffer[0]}}class eD{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(l,u,m,y,b=4096){this._name=l,this._geometryVector=u,this._idVector=m,this._propertyVectors=y,this._extent=b}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(l){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((u=>[u.name,u])))),this.propertyVectorsMap.get(l)}*[Symbol.iterator](){const l=this.geometryVector[Symbol.iterator]();let u=0;for(;u<this.numFeatures;){let m;this.idVector&&(m=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(u)):this.idVector.getValue(u));const y=l?.next().value,b={};for(const k of this.propertyVectors){if(!k)continue;const A=k.name,I=k.getValue(u);I!==null&&(b[A]=I)}u++,yield{id:m,geometry:y,properties:b}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const l=[],u=this.geometryVector.getGeometries();for(let m=0;m<this.numFeatures;m++){let y;this.idVector&&(y=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(m)):this.idVector.getValue(m));const b={coordinates:u[m],type:this.geometryVector.geometryType(m)},k={};for(const A of this.propertyVectors){if(!A)continue;const I=A.name,R=A.getValue(m);R!==null&&(k[I]=R)}l.push({id:y,geometry:b,properties:k})}return l}containsMaxSaveIntegerValues(l){return l instanceof pv||l instanceof _v&&l instanceof gv||l instanceof mv}}class tD{value;constructor(l){this.value=l}get(){return this.value}set(l){this.value=l}increment(){return this.value++}add(l){this.value+=l}}var ci,$o,Pa,Fs,eu,Dr,da,fa,$k,Qr;function wa(c,l,u){const m=new Int32Array(u);let y=0,b=l.get();for(let k=0;k<m.length;k++){let A=c[b++],I=127&A;A<128||(A=c[b++],I|=(127&A)<<7,A<128||(A=c[b++],I|=(127&A)<<14,A<128||(A=c[b++],I|=(127&A)<<21,A<128||(A=c[b++],I|=(15&A)<<28)))),m[y++]=I}return l.set(b),m}function e_(c,l,u){const m=new BigInt64Array(u);for(let y=0;y<m.length;y++)m[y]=nD(c,l);return m}function iD(c,l){let u,m;return m=c[l.get()],l.increment(),u=127&m,m<128?u:(m=c[l.get()],l.increment(),u|=(127&m)<<7,m<128?u:(m=c[l.get()],l.increment(),u|=(127&m)<<14,m<128?u:(m=c[l.get()],l.increment(),u|=(127&m)<<21,m<128?u:(m=c[l.get()],u|=(15&m)<<28,(function(y,b,k){let A,I;if(I=b[k.get()],k.increment(),A=(112&I)>>4,I<128||(I=b[k.get()],k.increment(),A|=(127&I)<<3,I<128)||(I=b[k.get()],k.increment(),A|=(127&I)<<10,I<128)||(I=b[k.get()],k.increment(),A|=(127&I)<<17,I<128)||(I=b[k.get()],k.increment(),A|=(127&I)<<24,I<128)||(I=b[k.get()],k.increment(),A|=(1&I)<<31,I<128))return 4294967296*A+(y>>>0);throw new Error("Expected varint not more than 10 bytes")})(u,c,l)))))}function Vk(c,l,u,m){throw new Error("FastPFor is not implemented yet.")}function tu(c){return c>>>1^-(1&c)}function Yc(c){return c>>1n^-(1n&c)}function nD(c,l){let u=0n,m=0,y=l.get();for(;y<c.length;){const b=c[y++];if(u|=BigInt(127&b)<<BigInt(m),!(128&b))break;if(m+=7,m>=64)throw new Error("Varint too long")}return l.set(y),u}function Hk(c,l,u){const m=new Int32Array(u);let y=0;for(let b=0;b<l;b++){const k=c[b];m.fill(c[b+l],y,y+k),y+=k}return m}function Gk(c,l,u){const m=new BigInt64Array(u);let y=0;for(let b=0;b<l;b++){const k=Number(c[b]);m.fill(c[b+l],y,y+k),y+=k}return m}function Uk(c,l,u){const m=new Float64Array(u);let y=0;for(let b=0;b<l;b++){const k=c[b];m.fill(c[b+l],y,y+k),y+=k}return m}function yv(c){const l=c.length/4*4;let u=1;if(l>=4)for(let m=c[0];u<l-4;u+=4)m=c[u]+=m,m=c[u+1]+=m,m=c[u+2]+=m,m=c[u+3]+=m;for(;u!=c.length;)c[u]+=c[u-1],++u}function Wk(c){c[0]=c[0]>>>1^-(1&c[0]),c[1]=c[1]>>>1^-(1&c[1]);const l=c.length/4*4;let u=2;if(l>=4)for(;u<l-4;u+=4){const m=c[u],y=c[u+1],b=c[u+2],k=c[u+3];c[u]=(m>>>1^-(1&m))+c[u-2],c[u+1]=(y>>>1^-(1&y))+c[u-1],c[u+2]=(b>>>1^-(1&b))+c[u],c[u+3]=(k>>>1^-(1&k))+c[u+1]}for(;u!=c.length;u+=2)c[u]=(c[u]>>>1^-(1&c[u]))+c[u-2],c[u+1]=(c[u+1]>>>1^-(1&c[u+1]))+c[u-1]}(function(c){c.NONE="NONE",c.DELTA="DELTA",c.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",c.RLE="RLE",c.MORTON="MORTON",c.PDE="PDE"})(ci||(ci={})),(function(c){c.NONE="NONE",c.FAST_PFOR="FAST_PFOR",c.VARINT="VARINT",c.ALP="ALP"})($o||($o={})),(function(c){c.PRESENT="PRESENT",c.DATA="DATA",c.OFFSET="OFFSET",c.LENGTH="LENGTH"})(Pa||(Pa={}));class xv{_dictionaryType;_offsetType;_lengthType;constructor(l,u,m){this._dictionaryType=l,this._offsetType=u,this._lengthType=m}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Qa(c,l){const u=(function(m,y){const b=m[y.get()],k=Object.values(Pa)[b>>4];let A=null;switch(k){case Pa.DATA:A=new xv(Object.values(Fs)[15&b]);break;case Pa.OFFSET:A=new xv(null,Object.values(eu)[15&b]);break;case Pa.LENGTH:A=new xv(null,null,Object.values(Dr)[15&b])}y.increment();const I=m[y.get()],R=Object.values(ci)[I>>5],B=Object.values(ci)[I>>2&7],V=Object.values($o)[3&I];y.increment();const W=wa(m,y,2),q=W[0];return{physicalStreamType:k,logicalStreamType:A,logicalLevelTechnique1:R,logicalLevelTechnique2:B,physicalLevelTechnique:V,numValues:q,byteLength:W[1],decompressedCount:q}})(c,l);return u.logicalLevelTechnique1===ci.MORTON?(function(m,y,b){const k=wa(y,b,2);return{physicalStreamType:m.physicalStreamType,logicalStreamType:m.logicalStreamType,logicalLevelTechnique1:m.logicalLevelTechnique1,logicalLevelTechnique2:m.logicalLevelTechnique2,physicalLevelTechnique:m.physicalLevelTechnique,numValues:m.numValues,byteLength:m.byteLength,decompressedCount:m.decompressedCount,numBits:k[0],coordinateShift:k[1]}})(u,c,l):ci.RLE!==u.logicalLevelTechnique1&&ci.RLE!==u.logicalLevelTechnique2||$o.NONE===u.physicalLevelTechnique?u:(function(m,y,b){const k=wa(y,b,2);return{physicalStreamType:m.physicalStreamType,logicalStreamType:m.logicalStreamType,logicalLevelTechnique1:m.logicalLevelTechnique1,logicalLevelTechnique2:m.logicalLevelTechnique2,physicalLevelTechnique:m.physicalLevelTechnique,numValues:m.numValues,byteLength:m.byteLength,decompressedCount:k[1],runs:k[0],numRleValues:k[1]}})(u,c,l)}(function(c){c.NONE="NONE",c.SINGLE="SINGLE",c.SHARED="SHARED",c.VERTEX="VERTEX",c.MORTON="MORTON",c.FSST="FSST"})(Fs||(Fs={})),(function(c){c.VERTEX="VERTEX",c.INDEX="INDEX",c.STRING="STRING",c.KEY="KEY"})(eu||(eu={})),(function(c){c.VAR_BINARY="VAR_BINARY",c.GEOMETRIES="GEOMETRIES",c.PARTS="PARTS",c.RINGS="RINGS",c.TRIANGLES="TRIANGLES",c.SYMBOL="SYMBOL",c.DICTIONARY="DICTIONARY"})(Dr||(Dr={})),(function(c){c[c.FLAT=0]="FLAT",c[c.CONST=1]="CONST",c[c.SEQUENCE=2]="SEQUENCE",c[c.DICTIONARY=3]="DICTIONARY",c[c.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(da||(da={}));class Os{values;_size;constructor(l,u){this.values=l,this._size=u}get(l){const u=Math.floor(l/8);return(this.values[u]>>l%8&1)==1}set(l,u){const m=Math.floor(l/8);this.values[m]=this.values[m]|(u?1:0)<<l%8}getInt(l){const u=Math.floor(l/8);return this.values[u]>>l%8&1}size(){return this._size}getBuffer(){return this.values}}function er(c,l,u,m,y){return(function(b,k,A){switch(k.logicalLevelTechnique1){case ci.DELTA:return k.logicalLevelTechnique2===ci.RLE?(function(I,R,B){const V=new Int32Array(B);let W=0,q=0;for(let J=0;J<R;J++){const ee=I[J],ne=tu(I[J+R]);for(let le=0;le<ee;le++)q+=ne,V[W++]=q}return V})(b,k.runs,k.numRleValues):((function(I){I[0]=I[0]>>>1^-(1&I[0]);const R=I.length/4*4;let B=1;if(R>=4)for(;B<R-4;B+=4){const V=I[B],W=I[B+1],q=I[B+2],J=I[B+3];I[B]=(V>>>1^-(1&V))+I[B-1],I[B+1]=(W>>>1^-(1&W))+I[B],I[B+2]=(q>>>1^-(1&q))+I[B+1],I[B+3]=(J>>>1^-(1&J))+I[B+2]}for(;B!=I.length;++B)I[B]=(I[B]>>>1^-(1&I[B]))+I[B-1]})(b),b);case ci.RLE:return(function(I,R,B){return B?(function(V,W,q){const J=new Int32Array(q);let ee=0;for(let ne=0;ne<W;ne++){const le=V[ne];let _e=V[ne+W];_e=_e>>>1^-(1&_e),J.fill(_e,ee,ee+le),ee+=le}return J})(I,R.runs,R.numRleValues):Hk(I,R.runs,R.numRleValues)})(b,k,A);case ci.MORTON:return yv(b),b;case ci.COMPONENTWISE_DELTA:return Wk(b),b;case ci.NONE:return A&&(function(I){for(let R=0;R<I.length;R++){const B=I[R];I[R]=B>>>1^-(1&B)}})(b),b;default:throw new Error(`The specified Logical level technique is not supported: ${k.logicalLevelTechnique1}`)}})(t_(c,l,u),u,m)}function Rl(c,l,u){return(function(m,y){if(y.logicalLevelTechnique1===ci.DELTA&&y.logicalLevelTechnique2===ci.NONE)return(function(k){const A=new Int32Array(k.length+1);A[0]=0,A[1]=tu(k[0]);let I=A[1],R=2;for(;R!=A.length;++R){const B=k[R-1];I+=B>>>1^-(1&B),A[R]=A[R-1]+I}return A})(m);if(y.logicalLevelTechnique1===ci.RLE&&y.logicalLevelTechnique2===ci.NONE)return(function(k,A,I){const R=new Int32Array(I+1);R[0]=0;let B=1,V=R[0];for(let W=0;W<A;W++){const q=k[W],J=k[W+A];for(let ee=B;ee<B+q;ee++)R[ee]=J+V,V=R[ee];B+=q}return R})(m,y.runs,y.numRleValues);if(y.logicalLevelTechnique1===ci.NONE&&y.logicalLevelTechnique2===ci.NONE){(function(k){let A=0;for(let I=0;I<k.length;I++)k[I]+=A,A=k[I]})(m);const b=new Int32Array(y.numValues+1);return b[0]=0,b.set(m,1),b}if(y.logicalLevelTechnique1===ci.DELTA&&y.logicalLevelTechnique2===ci.RLE){const b=(function(k,A,I){const R=new Int32Array(I+1);R[0]=0;let B=1,V=R[0];for(let W=0;W<A;W++){const q=k[W];let J=k[W+A];J=J>>>1^-(1&J);for(let ee=B;ee<B+q;ee++)R[ee]=J+V,V=R[ee];B+=q}return R})(m,y.runs,y.numRleValues);return yv(b),b}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")})(t_(c,l,u),u)}function t_(c,l,u){const m=u.physicalLevelTechnique;if(m===$o.FAST_PFOR)return Vk();if(m===$o.VARINT)return wa(c,l,u.numValues);if(m===$o.NONE){const y=l.get();l.add(u.byteLength);const b=c.subarray(y,l.get());return new Int32Array(b)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function vv(c,l,u,m){const y=t_(c,l,u);if(y.length===1){const b=y[0];return m?tu(b):b}return m?(function(b){return tu(b[1])})(y):(function(b){return b[1]})(y)}function Xk(c,l,u){return(function(m){if(m.length==2){const y=tu(m[1]);return[y,y]}return[tu(m[2]),tu(m[3])]})(t_(c,l,u))}function qk(c,l,u){return(function(m){if(m.length==2){const y=Yc(m[1]);return[y,y]}return[Yc(m[2]),Yc(m[3])]})(e_(c,l,u.numValues))}function Yk(c,l,u,m){return(function(y,b,k){switch(b.logicalLevelTechnique1){case ci.DELTA:return b.logicalLevelTechnique2===ci.RLE?(function(A,I,R){const B=new BigInt64Array(R);let V=0,W=0n;for(let q=0;q<I;q++){const J=Number(A[q]),ee=Yc(A[q+I]);for(let ne=0;ne<J;ne++)W+=ee,B[V++]=W}return B})(y,b.runs,b.numRleValues):((function(A){A[0]=A[0]>>1n^-(1n&A[0]);const I=A.length/4*4;let R=1;if(I>=4)for(;R<I-4;R+=4){const B=A[R],V=A[R+1],W=A[R+2],q=A[R+3];A[R]=(B>>1n^-(1n&B))+A[R-1],A[R+1]=(V>>1n^-(1n&V))+A[R],A[R+2]=(W>>1n^-(1n&W))+A[R+1],A[R+3]=(q>>1n^-(1n&q))+A[R+2]}for(;R!=A.length;++R)A[R]=(A[R]>>1n^-(1n&A[R]))+A[R-1]})(y),y);case ci.RLE:return(function(A,I,R){return R?(function(B,V,W){const q=new BigInt64Array(W);let J=0;for(let ee=0;ee<V;ee++){const ne=Number(B[ee]);let le=B[ee+V];le=le>>1n^-(1n&le),q.fill(le,J,J+ne),J+=ne}return q})(A,I.runs,I.numRleValues):Gk(A,I.runs,I.numRleValues)})(y,b,k);case ci.NONE:return k&&(function(A){for(let I=0;I<A.length;I++){const R=A[I];A[I]=R>>1n^-(1n&R)}})(y),y;default:throw new Error(`The specified Logical level technique is not supported: ${b.logicalLevelTechnique1}`)}})(e_(c,l,u.numValues),u,m)}function Zk(c,l,u,m){const y=e_(c,l,u.numValues);if(y.length===1){const b=y[0];return m?Yc(b):b}return m?(function(b){return Yc(b[1])})(y):(function(b){return b[1]})(y)}function bv(c,l,u,m,y){return(function(b,k,A,I){switch(k.logicalLevelTechnique1){case ci.DELTA:return k.logicalLevelTechnique2===ci.RLE&&(b=Hk(b,k.runs,k.numRleValues)),(function(R,B){const V=new Int32Array(R.size());let W=0;R.get(0)?(V[0]=R.get(0)?B[0]>>>1^-(1&B[0]):0,W=1):V[0]=0;let q=1;for(;q!=V.length;++q)V[q]=R.get(q)?V[q-1]+(B[W]>>>1^-(1&B[W++])):V[q-1];return V})(I,b);case ci.RLE:return(function(R,B,V,W){const q=B;return V?(function(J,ee,ne){const le=new Int32Array(J.size());let _e=0;for(let he=0;he<ne;he++){const de=ee[he];let be=ee[he+ne];be=be>>>1^-(1&be);for(let Te=_e;Te<_e+de;Te++)J.get(Te)?le[Te]=be:(le[Te]=0,_e++);_e+=de}return le})(W,R,q.runs):(function(J,ee,ne){const le=new Int32Array(J.size());let _e=0;for(let he=0;he<ne;he++){const de=ee[he],be=ee[he+ne];for(let Te=_e;Te<_e+de;Te++)J.get(Te)?le[Te]=be:(le[Te]=0,_e++);_e+=de}return le})(W,R,q.runs)})(b,k,A,I);case ci.MORTON:return yv(b),b;case ci.COMPONENTWISE_DELTA:return Wk(b),b;case ci.NONE:return b=A?(function(R,B){const V=new Int32Array(R.size());let W=0,q=0;for(;q!=V.length;++q)if(R.get(q)){const J=B[W++];V[q]=J>>>1^-(1&J)}else V[q]=0;return V})(I,b):(function(R,B){const V=new Int32Array(R.size());let W=0,q=0;for(;q!=V.length;++q)V[q]=R.get(q)?B[W++]:0;return V})(I,b),b;default:throw new Error("The specified Logical level technique is not supported")}})(u.physicalLevelTechnique===$o.FAST_PFOR?Vk():wa(c,l,u.numValues),u,m,y)}function i_(c,l,u,m){const y=c.logicalLevelTechnique1;if(y===ci.RLE)return c.runs===1?da.CONST:da.FLAT;const b=l instanceof Os?l.size():l;if(y===ci.DELTA&&c.logicalLevelTechnique2===ci.RLE){const k=c.runs,A=2;if(c.numRleValues!==b)return da.FLAT;if(k===1)return da.SEQUENCE;if(k===2){const I=m.get();let R;if(c.physicalLevelTechnique===$o.VARINT)R=wa(u,m,4);else{const B=m.get();R=new Int32Array(u.buffer,u.byteOffset+B,4)}if(m.set(I),R[2]===A&&R[3]===A)return da.SEQUENCE}}return c.numValues===1?da.CONST:da.FLAT}class Kk extends Qg{getValueFromBuffer(l){return this.dataBuffer[l]}}class Jk extends Nk{constructor(l,u,m,y){super(l,BigInt64Array.of(u),m,y)}getValueFromBuffer(l){return this.dataBuffer[0]+BigInt(l)*this.delta}}class Zc{_geometryOffsets;_partOffsets;_ringOffsets;constructor(l,u,m){this._geometryOffsets=l,this._partOffsets=u,this._ringOffsets=m}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function wv(c,l,u){return{x:Qk(c,l)-u,y:Qk(c>>1,l)-u}}function Qk(c,l){let u=0;for(let m=0;m<l;m++)u|=(c&1<<2*m)>>m;return u}(function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON",c[c.MULTIPOINT=3]="MULTIPOINT",c[c.MULTILINESTRING=4]="MULTILINESTRING",c[c.MULTIPOLYGON=5]="MULTIPOLYGON"})(fa||(fa={})),(function(c){c[c.POINT=0]="POINT",c[c.LINESTRING=1]="LINESTRING",c[c.POLYGON=2]="POLYGON"})($k||($k={})),(function(c){c[c.MORTON=0]="MORTON",c[c.VEC_2=1]="VEC_2",c[c.VEC_3=2]="VEC_3"})(Qr||(Qr={}));class aD{createPoint(l){return[[l]]}createMultiPoint(l){return l.map((u=>[u]))}createLineString(l){return[l]}createMultiLineString(l){return l}createPolygon(l,u){return[l].concat(u)}createMultiPolygon(l){return l.flat()}}function eS(c){const l=new Array(c.numGeometries);let u=1,m=1,y=1,b=0;const k=new aD;let A=0,I=0;const R=c.mortonSettings,B=c.topologyVector,V=B.geometryOffsets,W=B.partOffsets,q=B.ringOffsets,J=c.vertexOffsets,ee=c.containsPolygonGeometry(),ne=c.vertexBuffer;for(let le=0;le<c.numGeometries;le++){const _e=c.geometryType(le);if(_e===fa.POINT){if(J&&J.length!==0)if(c.vertexBufferType===Qr.VEC_2){const he=2*J[I++],de=new d(ne[he],ne[he+1]);l[b++]=k.createPoint(de)}else{const he=wv(ne[J[I++]],R.numBits,R.coordinateShift),de=new d(he.x,he.y);l[b++]=k.createPoint(de)}else{const he=new d(ne[A++],ne[A++]);l[b++]=k.createPoint(he)}V&&y++,W&&u++,q&&m++}else if(_e===fa.MULTIPOINT){const he=V[y]-V[y-1];y++;const de=new Array(he);if(J&&J.length!==0){for(let be=0;be<he;be++){const Te=2*J[I++];de[be]=new d(ne[Te],ne[Te+1])}l[b++]=k.createMultiPoint(de)}else{for(let be=0;be<he;be++){const Te=ne[A++],Ne=ne[A++];de[be]=new d(Te,Ne)}l[b++]=k.createMultiPoint(de)}}else if(_e===fa.LINESTRING){let he,de=0;ee?(de=q[m]-q[m-1],m++):de=W[u]-W[u-1],u++,J&&J.length!==0?(he=c.vertexBufferType===Qr.VEC_2?Sv(ne,J,I,de,!1):Tv(ne,J,I,de,!1,R),I+=de):(he=kv(ne,A,de,!1),A+=2*de),l[b++]=k.createLineString(he),V&&y++}else if(_e===fa.POLYGON){const he=W[u]-W[u-1];u++;const de=new Array(he-1);let be=q[m]-q[m-1];if(m++,J&&J.length!==0){const Te=c.vertexBufferType===Qr.VEC_2?a_(ne,J,I,be):r_(ne,J,I,be,0,R);I+=be;for(let Ne=0;Ne<de.length;Ne++)be=q[m]-q[m-1],m++,de[Ne]=c.vertexBufferType===Qr.VEC_2?a_(ne,J,I,be):r_(ne,J,I,be,0,R),I+=be;l[b++]=k.createPolygon(Te,de)}else{const Te=n_(ne,A,be);A+=2*be;for(let Ne=0;Ne<de.length;Ne++)be=q[m]-q[m-1],m++,de[Ne]=n_(ne,A,be),A+=2*be;l[b++]=k.createPolygon(Te,de)}V&&y++}else if(_e===fa.MULTILINESTRING){const he=V[y]-V[y-1];y++;const de=new Array(he);if(J&&J.length!==0){for(let be=0;be<he;be++){let Te=0;ee?(Te=q[m]-q[m-1],m++):Te=W[u]-W[u-1],u++;const Ne=c.vertexBufferType===Qr.VEC_2?Sv(ne,J,I,Te,!1):Tv(ne,J,I,Te,!1,R);de[be]=Ne,I+=Te}l[b++]=k.createMultiLineString(de)}else{for(let be=0;be<he;be++){let Te=0;ee?(Te=q[m]-q[m-1],m++):Te=W[u]-W[u-1],u++,de[be]=kv(ne,A,Te,!1),A+=2*Te}l[b++]=k.createMultiLineString(de)}}else{if(_e!==fa.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const he=V[y]-V[y-1];y++;const de=new Array(he);let be=0;if(J&&J.length!==0){for(let Te=0;Te<he;Te++){const Ne=W[u]-W[u-1];u++;const et=new Array(Ne-1);be=q[m]-q[m-1],m++;const Ze=c.vertexBufferType===Qr.VEC_2?a_(ne,J,I,be):r_(ne,J,I,be,0,R);I+=be;for(let at=0;at<et.length;at++)be=q[m]-q[m-1],m++,et[at]=c.vertexBufferType===Qr.VEC_2?a_(ne,J,I,be):r_(ne,J,I,be,0,R),I+=be;de[Te]=k.createPolygon(Ze,et)}l[b++]=k.createMultiPolygon(de)}else{for(let Te=0;Te<he;Te++){const Ne=W[u]-W[u-1];u++;const et=new Array(Ne-1);be=q[m]-q[m-1],m++;const Ze=n_(ne,A,be);A+=2*be;for(let at=0;at<et.length;at++){const pt=q[m]-q[m-1];m++,et[at]=n_(ne,A,pt),A+=2*pt}de[Te]=k.createPolygon(Ze,et)}l[b++]=k.createMultiPolygon(de)}}}}return l}function n_(c,l,u){return kv(c,l,u,!0)}function a_(c,l,u,m){return Sv(c,l,u,m,!0)}function r_(c,l,u,m,y,b){return Tv(c,l,u,m,!0,b)}function kv(c,l,u,m){const y=new Array(m?u+1:u);for(let b=0;b<2*u;b+=2)y[b/2]=new d(c[l+b],c[l+b+1]);return m&&(y[y.length-1]=y[0]),y}function Sv(c,l,u,m,y){const b=new Array(y?m+1:m);for(let k=0;k<2*m;k+=2){const A=2*l[u+k/2];b[k/2]=new d(c[A],c[A+1])}return y&&(b[b.length-1]=b[0]),b}function Tv(c,l,u,m,y,b){const k=new Array(y?m+1:m);for(let A=0;A<m;A++){const I=wv(c[l[u+A]],b.numBits,b.coordinateShift);k[A]=new d(I.x,I.y)}return y&&(k[k.length-1]=k[0]),k}class tS{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(l,u,m,y,b){this._vertexBufferType=l,this._topologyVector=u,this._vertexOffsets=m,this._vertexBuffer=y,this._mortonSettings=b}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const l=eS(this);let u=0;for(;u<this.numGeometries;)yield{coordinates:l[u],type:this.geometryType(u)},u++}getSimpleEncodedVertex(l){const u=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[u],this.vertexBuffer[u+1]]}getVertex(l){if(this.vertexOffsets&&this.mortonSettings){const m=wv(this.vertexBuffer[this.vertexOffsets[l]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[m.x,m.y]}const u=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[u],this.vertexBuffer[u+1]]}getGeometries(){return eS(this)}get mortonSettings(){return this._mortonSettings}}class iS extends tS{_numGeometries;_geometryType;constructor(l,u,m,y,b,k,A){super(m,y,b,k,A),this._numGeometries=l,this._geometryType=u}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===fa.POLYGON||this._geometryType===fa.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class nS extends tS{_geometryTypes;constructor(l,u,m,y,b,k){super(l,m,y,b,k),this._geometryTypes=u}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let l=0;l<this.numGeometries;l++)if(this.geometryType(l)===fa.POLYGON||this.geometryType(l)===fa.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class aS{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(l,u,m,y){this._triangleOffsets=l,this._indexBuffer=u,this._vertexBuffer=m,this._topologyVector=y}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const l=new Array(this.numGeometries),u=this._topologyVector,m=u.partOffsets,y=u.ringOffsets,b=u.geometryOffsets;let k=0,A=1,I=1,R=1;for(let B=0;B<this.numGeometries;B++)switch(this.geometryType(B)){case fa.POLYGON:{const V=m[A]-m[A-1];A++;const W=[];for(let q=0;q<V;q++){const J=y[I]-y[I-1];I++;const ee=[];for(let ne=0;ne<J;ne++){const le=this._vertexBuffer[k++],_e=this._vertexBuffer[k++];ee.push(new d(le,_e))}ee.length>0&&ee.push(ee[0]),W.push(ee)}l[B]=W,b&&R++}break;case fa.MULTIPOLYGON:{const V=b[R]-b[R-1];R++;const W=[];for(let q=0;q<V;q++){const J=m[A]-m[A-1];A++;for(let ee=0;ee<J;ee++){const ne=y[I]-y[I-1];I++;const le=[];for(let _e=0;_e<ne;_e++){const he=this._vertexBuffer[k++],de=this._vertexBuffer[k++];le.push(new d(he,de))}le.length>0&&le.push(le[0]),W.push(le)}}l[B]=W}}return l}[Symbol.iterator](){return null}}function rS(c,l,u,m,y,b){return new rD(c,l,u,m,y,b)}class rD extends aS{_numGeometries;_geometryType;constructor(l,u,m,y,b,k){super(m,y,b,k),this._numGeometries=l,this._geometryType=u}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function sS(c,l,u,m,y){return new sD(c,l,u,m,y)}class sD extends aS{_geometryTypes;constructor(l,u,m,y,b){super(u,m,y,b),this._geometryTypes=l}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function oD(c,l,u,m,y){const b=Qa(c,u);let k=null,A=null,I=null,R=null,B=null,V=null,W=null,q=null;if(i_(b,m,c,u)===da.CONST){const ee=vv(c,u,b,!1);for(let ne=0;ne<l-1;ne++){const le=Qa(c,u);switch(le.physicalStreamType){case Pa.LENGTH:switch(le.logicalStreamType.lengthType){case Dr.GEOMETRIES:k=Rl(c,u,le);break;case Dr.PARTS:A=Rl(c,u,le);break;case Dr.RINGS:I=Rl(c,u,le);break;case Dr.TRIANGLES:W=Rl(c,u,le)}break;case Pa.OFFSET:switch(le.logicalStreamType.offsetType){case eu.VERTEX:R=er(c,u,le,!1);break;case eu.INDEX:q=er(c,u,le,!1)}break;case Pa.DATA:Fs.VERTEX===le.logicalStreamType.dictionaryType?B=er(c,u,le,!0):(V={numBits:le.numBits,coordinateShift:le.coordinateShift},B=er(c,u,le,!1))}}return q!==null?k!=null||A!=null?rS(m,ee,W,q,B,new Zc(k,A,I)):rS(m,ee,W,q,B):V===null?(function(ne,le,_e,he,de){return new iS(ne,le,Qr.VEC_2,_e,he,de)})(m,ee,new Zc(k,A,I),R,B):(function(ne,le,_e,he,de,be){return new iS(ne,le,Qr.MORTON,_e,he,de,be)})(m,ee,new Zc(k,A,I),R,B,V)}const J=er(c,u,b,!1);for(let ee=0;ee<l-1;ee++){const ne=Qa(c,u);switch(ne.physicalStreamType){case Pa.LENGTH:switch(ne.logicalStreamType.lengthType){case Dr.GEOMETRIES:k=er(c,u,ne,!1);break;case Dr.PARTS:A=er(c,u,ne,!1);break;case Dr.RINGS:I=er(c,u,ne,!1);break;case Dr.TRIANGLES:W=Rl(c,u,ne)}break;case Pa.OFFSET:switch(ne.logicalStreamType.offsetType){case eu.VERTEX:R=er(c,u,ne,!1);break;case eu.INDEX:q=er(c,u,ne,!1)}break;case Pa.DATA:Fs.VERTEX===ne.logicalStreamType.dictionaryType?B=er(c,u,ne,!0):(V={numBits:ne.numBits,coordinateShift:ne.coordinateShift},B=er(c,u,ne,!1))}}return q!==null&&A===null?sS(J,W,q,B):(k!==null?(k=Cv(J,k,2),A!==null&&I!==null?(A=oS(J,k,A,!1),I=(function(ee,ne,le,_e){const he=new Int32Array(le[le.length-1]+1);let de=0;he[0]=de;let be=1,Te=1,Ne=0;for(let et=0;et<ee.length;et++){const Ze=ee[et],at=ne[et+1]-ne[et];if(Ze!==0&&Ze!==3)for(let pt=0;pt<at;pt++){const st=le[be]-le[be-1];be++;for(let Ke=0;Ke<st;Ke++)de=he[Te++]=de+_e[Ne++]}else for(let pt=0;pt<at;pt++)he[Te++]=++de,be++}return he})(J,k,A,I)):A!==null&&(A=(function(ee,ne,le){const _e=new Int32Array(ne[ne.length-1]+1);let he=0;_e[0]=he;let de=1,be=0;for(let Te=0;Te<ee.length;Te++){const Ne=ee[Te],et=ne[Te+1]-ne[Te];if(Ne===4||Ne===1)for(let Ze=0;Ze<et;Ze++)he=_e[de++]=he+le[be++];else for(let Ze=0;Ze<et;Ze++)_e[de++]=++he}return _e})(J,k,A))):A!==null&&I!==null?(A=Cv(J,A,1),I=oS(J,A,I,!0)):A!==null&&(A=Cv(J,A,0)),q!==null?sS(J,W,q,B,new Zc(k,A,I)):V===null?(function(ee,ne,le,_e){return new nS(Qr.VEC_2,ee,ne,le,_e)})(J,new Zc(k,A,I),R,B):(function(ee,ne,le,_e,he){return new nS(Qr.MORTON,ee,ne,le,_e,he)})(J,new Zc(k,A,I),R,B,V))}function Cv(c,l,u){const m=new Int32Array(c.length+1);let y=0;m[0]=y;let b=0;for(let k=0;k<c.length;k++)y=m[k+1]=y+(c[k]>u?l[b++]:1);return m}function oS(c,l,u,m){const y=new Int32Array(l[l.length-1]+1);let b=0;y[0]=b;let k=1,A=0;for(let I=0;I<c.length;I++){const R=c[I],B=l[I+1]-l[I];if(R===5||R===2||m&&(R===4||R===1))for(let V=0;V<B;V++)b=y[k++]=b+u[A++];else for(let V=0;V<B;V++)y[k++]=++b}return y}class lD extends qc{dataVector;constructor(l,u,m){super(l,u.getBuffer(),m),this.dataVector=u}getValueFromBuffer(l){return this.dataVector.get(l)}}class hD extends Qg{getValueFromBuffer(l){return this.dataBuffer[l]}}class lS extends qc{constructor(l,u,m){super(l,BigInt64Array.of(u),m)}getValueFromBuffer(l){return this.dataBuffer[0]}}function np(c,l,u){return hS(c,Math.ceil(l/8),u)}function hS(c,l,u){const m=new Uint8Array(l);let y=0;for(;y<l;){const b=c[u.increment()];if(b<=127){const k=b+3,A=c[u.increment()],I=y+k;m.fill(A,y,I),y=I}else{const k=256-b;for(let A=0;A<k;A++)m[y++]=c[u.increment()]}}return m}const uD=new TextDecoder;function Av(c,l,u){return u-l>=12?uD.decode(c.subarray(l,u)):(function(m,y,b){let k="",A=y;for(;A<b;){const I=m[A];let R,B,V,W=null,q=I>239?4:I>223?3:I>191?2:1;if(A+q>b)break;q===1?I<128&&(W=I):q===2?(R=m[A+1],(192&R)==128&&(W=(31&I)<<6|63&R,W<=127&&(W=null))):q===3?(R=m[A+1],B=m[A+2],(192&R)==128&&(192&B)==128&&(W=(15&I)<<12|(63&R)<<6|63&B,(W<=2047||W>=55296&&W<=57343)&&(W=null))):q===4&&(R=m[A+1],B=m[A+2],V=m[A+3],(192&R)==128&&(192&B)==128&&(192&V)==128&&(W=(15&I)<<18|(63&R)<<12|(63&B)<<6|63&V,(W<=65535||W>=1114112)&&(W=null))),W===null?(W=65533,q=1):W>65535&&(W-=65536,k+=String.fromCharCode(W>>>10&1023|55296),W=56320|1023&W),k+=String.fromCharCode(W),A+=q}return k})(c,l,u)}class Mv extends qc{offsetBuffer;constructor(l,u,m,y){super(l,m,y),this.offsetBuffer=u}}class uS extends Mv{textEncoder;constructor(l,u,m,y){super(l,u,m,y??u.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(l){return Av(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class Kc extends Mv{indexBuffer;textEncoder;constructor(l,u,m,y,b){super(l,m,y,b??u.length),this.indexBuffer=u,this.indexBuffer=u,this.textEncoder=new TextEncoder}getValueFromBuffer(l){const u=this.indexBuffer[l];return Av(this.dataBuffer,this.offsetBuffer[u],this.offsetBuffer[u+1])}}class cS extends Mv{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(l,u,m,y,b,k,A){super(l,m,y,A),this.indexBuffer=u,this.symbolOffsetBuffer=b,this.symbolTableBuffer=k,this.textEncoder=new TextEncoder}getValueFromBuffer(l){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(m,y,b){const k=[],A=new Array(y.length).fill(0);for(let I=1;I<y.length;I++)A[I]=A[I-1]+y[I-1];for(let I=0;I<b.length;I++)if(b[I]===255)k.push(b[++I]);else{const R=y[b[I]],B=A[b[I]];for(let V=0;V<R;V++)k.push(m[B+V])}return new Uint8Array(k)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const u=this.indexBuffer[l];return Av(this.decodedDictionary,this.offsetBuffer[u],this.offsetBuffer[u+1])}offsetToLengthBuffer(l){const u=new Uint32Array(l.length-1);let m=l[0];for(let y=1;y<l.length;y++){const b=l[y];u[y-1]=b-m,m=b}return u}}function cD(c,l,u,m,y,b){return u.type==="scalarType"?(function(k,A,I,R,B,V){let W=null,q=0;if(k===0)return null;if(V.nullable){const ee=Qa(A,I);q=ee.numValues;const ne=I.get(),le=np(A,q,I);I.set(ne+ee.byteLength),W=new Os(le,ee.numValues)}const J=W??R;switch(B.physicalType){case 4:case 3:return(function(ee,ne,le,_e,he){const de=Qa(ee,ne),be=i_(de,he,ee,ne),Te=_e.physicalType===3;if(be===da.FLAT){const Ne=ap(he)?bv(ee,ne,de,Te,he):er(ee,ne,de,Te);return new pv(le.name,Ne,he)}if(be===da.SEQUENCE){const Ne=Xk(ee,ne,de);return new gv(le.name,Ne[0],Ne[1],de.numRleValues)}{const Ne=vv(ee,ne,de,Te);return new _v(le.name,Ne,he)}})(A,I,V,B,J);case 9:return(function(ee,ne,le,_e,he){let de=null,be=null,Te=null,Ne=null,et=null,Ze=null,at=null,pt=null;for(let st=0;st<_e;st++){const Ke=Qa(ne,le);if(Ke.byteLength!==0)switch(Ke.physicalStreamType){case Pa.PRESENT:{const Xe=np(ne,Ke.numValues,le);Ze=new Os(Xe,Ke.numValues);break}case Pa.OFFSET:be=he!=null||Ze!=null?bv(ne,le,Ke,!1,he??Ze):er(ne,le,Ke,!1);break;case Pa.LENGTH:{const Xe=Rl(ne,le,Ke);Dr.DICTIONARY===Ke.logicalStreamType.lengthType?de=Xe:Dr.SYMBOL===Ke.logicalStreamType.lengthType?Ne=Xe:at=Xe;break}case Pa.DATA:{const Xe=ne.subarray(le.get(),le.get()+Ke.byteLength);le.add(Ke.byteLength);const vt=Ke.logicalStreamType.dictionaryType;Fs.FSST===vt?et=Xe:Fs.SINGLE===vt||Fs.SHARED===vt?Te=Xe:Fs.NONE===vt&&(pt=Xe);break}}}return(function(st,Ke,Xe,vt,xt,kt,yt){return Ke?new cS(st,Xe,vt,xt,kt,Ke,yt):null})(ee,et,be,de,Te,Ne,he??Ze)??(function(st,Ke,Xe,vt,xt){return Ke?xt?new Kc(st,Xe,vt,Ke,xt):new Kc(st,Xe,vt,Ke):null})(ee,Te,be,de,he??Ze)??(function(st,Ke,Xe,vt,xt){if(!Ke||!Xe)return null;if(vt)return xt?new Kc(st,vt,Ke,Xe,xt):new Kc(st,vt,Ke,Xe);if(xt&&xt.size()!==Ke.length-1){const kt=new Int32Array(xt.size());let yt=0;for(let It=0;It<xt.size();It++)kt[It]=xt.get(It)?yt++:0;return new Kc(st,kt,Ke,Xe,xt)}return xt?new uS(st,Ke,Xe,xt):new uS(st,Ke,Xe)})(ee,at,pt,be,he??Ze)})(V.name,A,I,V.nullable?k-1:k,W);case 0:return(function(ee,ne,le,_e,he){const de=Qa(ee,ne),be=de.numValues,Te=ne.get(),Ne=ap(he)?(function(Ze,at,pt,st){const Ke=hS(Ze,Math.ceil(at/8),pt),Xe=new Os(Ke,at),vt=st.size(),xt=new Os(new Uint8Array(vt),vt);let kt=0;for(let yt=0;yt<st.size();yt++){const It=!!st.get(yt)&&Xe.get(kt++);xt.set(yt,It)}return xt.getBuffer()})(ee,be,ne,he):np(ee,be,ne);ne.set(Te+de.byteLength);const et=new Os(Ne,be);return new lD(le.name,et,he)})(A,I,V,0,J);case 6:case 5:return(function(ee,ne,le,_e,he){const de=Qa(ee,ne),be=i_(de,_e,ee,ne),Te=he.physicalType===5;if(be===da.FLAT){const Ne=ap(_e)?(function(et,Ze,at,pt,st){return(function(Ke,Xe,vt,xt){switch(Xe.logicalLevelTechnique1){case ci.DELTA:return Xe.logicalLevelTechnique2===ci.RLE&&(Ke=Gk(Ke,Xe.runs,Xe.numRleValues)),(function(kt,yt){const It=new BigInt64Array(kt.size());let vi=0;kt.get(0)?(It[0]=kt.get(0)?yt[0]>>1n^-(1n&yt[0]):0n,vi=1):It[0]=0n;let hi=1;for(;hi!=It.length;++hi)It[hi]=kt.get(hi)?It[hi-1]+(yt[vi]>>1n^-(1n&yt[vi++])):It[hi-1];return It})(xt,Ke);case ci.RLE:return(function(kt,yt,It,vi){const hi=yt;return It?(function(on,Ea,Zn){const ln=new BigInt64Array(on.size());let en=0;for(let Ii=0;Ii<Zn;Ii++){const Sn=Number(Ea[Ii]);let Rn=Ea[Ii+Zn];Rn=Rn>>1n^-(1n&Rn);for(let Yi=en;Yi<en+Sn;Yi++)on.get(Yi)?ln[Yi]=Rn:(ln[Yi]=0n,en++);en+=Sn}return ln})(vi,kt,hi.runs):(function(on,Ea,Zn){const ln=new BigInt64Array(on.size());let en=0;for(let Ii=0;Ii<Zn;Ii++){const Sn=Number(Ea[Ii]),Rn=Ea[Ii+Zn];for(let Yi=en;Yi<en+Sn;Yi++)on.get(Yi)?ln[Yi]=Rn:(ln[Yi]=0n,en++);en+=Sn}return ln})(vi,kt,hi.runs)})(Ke,Xe,vt,xt);case ci.NONE:return Ke=vt?(function(kt,yt){const It=new BigInt64Array(kt.size());let vi=0,hi=0;for(;hi!=It.length;++hi)if(kt.get(hi)){const on=yt[vi++];It[hi]=on>>1n^-(1n&on)}else It[hi]=0n;return It})(xt,Ke):(function(kt,yt){const It=new BigInt64Array(kt.size());let vi=0,hi=0;for(;hi!=It.length;++hi)It[hi]=kt.get(hi)?yt[vi++]:0n;return It})(xt,Ke),Ke;default:throw new Error("The specified Logical level technique is not supported")}})(e_(et,Ze,at.numValues),at,pt,st)})(ee,ne,de,Te,_e):Yk(ee,ne,de,Te);return new Kk(le.name,Ne,_e)}if(be===da.SEQUENCE){const Ne=qk(ee,ne,de);return new Jk(le.name,Ne[0],Ne[1],de.numRleValues)}{const Ne=Zk(ee,ne,de,Te);return new lS(le.name,Ne,_e)}})(A,I,V,J,B);case 7:return(function(ee,ne,le,_e){const he=Qa(ee,ne),de=ap(_e)?(function(be,Te,Ne,et){const Ze=Te.get(),at=Ze+et*Float32Array.BYTES_PER_ELEMENT,pt=new Uint8Array(be.subarray(Ze,at)).buffer,st=new Float32Array(pt);Te.set(at);const Ke=Ne.size(),Xe=new Float32Array(Ke);let vt=0;for(let xt=0;xt<Ke;xt++)Xe[xt]=Ne.get(xt)?st[vt++]:0;return Xe})(ee,ne,_e,he.numValues):(function(be,Te,Ne){const et=Te.get(),Ze=et+Ne*Float32Array.BYTES_PER_ELEMENT,at=new Uint8Array(be.subarray(et,Ze)).buffer,pt=new Float32Array(at);return Te.set(Ze),pt})(ee,ne,he.numValues);return new hD(le.name,de,_e)})(A,I,V,J);case 8:return(function(ee,ne,le,_e){const he=Qa(ee,ne),de=ap(_e)?(function(be,Te,Ne,et){const Ze=Te.get(),at=Ze+et*Float64Array.BYTES_PER_ELEMENT,pt=new Uint8Array(be.subarray(Ze,at)).buffer,st=new Float64Array(pt);Te.set(at);const Ke=Ne.size(),Xe=new Float64Array(Ke);let vt=0;for(let xt=0;xt<Ke;xt++)Xe[xt]=Ne.get(xt)?st[vt++]:0;return Xe})(ee,ne,_e,he.numValues):(function(be,Te,Ne){const et=Te.get(),Ze=et+Ne*Float64Array.BYTES_PER_ELEMENT,at=new Uint8Array(be.subarray(et,Ze)).buffer,pt=new Float64Array(at);return Te.set(Ze),pt})(ee,ne,he.numValues);return new mv(le.name,de,_e)})(A,I,V,J);default:throw new Error(`The specified data type for the field is currently not supported: ${B}`)}})(m,c,l,y,u.scalarType,u):m!=1?null:(function(k,A,I,R){let B=null,V=null,W=null,q=null,J=!1;for(;!J;){const _e=Qa(k,A);switch(_e.physicalStreamType){case Pa.LENGTH:Dr.DICTIONARY===_e.logicalStreamType.lengthType?B=Rl(k,A,_e):W=Rl(k,A,_e);break;case Pa.DATA:Fs.SINGLE===_e.logicalStreamType.dictionaryType||Fs.SHARED===_e.logicalStreamType.dictionaryType?(V=k.subarray(A.get(),A.get()+_e.byteLength),J=!0):q=k.subarray(A.get(),A.get()+_e.byteLength),A.add(_e.byteLength)}}const ee=I.complexType.children,ne=[];let le=0;for(const _e of ee){const he=wa(k,A,1)[0];if(he==0)continue;const de=`${I.name}${_e.name==="default"?"":":"+_e.name}`;if(he!==2||_e.type!=="scalarField"||_e.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const be=Qa(k,A),Te=np(k,be.numValues,A),Ne=Qa(k,A),et=Ne.decompressedCount!==R?bv(k,A,Ne,!1,new Os(Te,be.numValues)):er(k,A,Ne,!1);ne[le++]=q?new cS(de,et,B,V,W,q,new Os(Te,be.numValues)):new Kc(de,et,B,V,new Os(Te,be.numValues))}return ne})(c,l,u,y)}function ap(c){return c instanceof Os}function dD(c){if(c.name==="id")return!1;if(c.type==="scalarType"){const l=c.scalarType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(l.type==="logicalType")return!1}else if(c.type==="complexType"){const l=c.complexType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",c),!1}const fD=new TextDecoder;function dS(c,l){const u=wa(c,l,1)[0];if(u===0)return"";const m=l.get(),y=c.subarray(m,m+u);return l.add(u),fD.decode(y)}function fS(c,l){const u=wa(c,l,1)[0]>>>0,m=!!(4&u),y=!!(2&u),b=wa(c,l,1)[0]>>>0,k={};if(1&u&&(k.nullable=!0),y){const A={};if(m?(A.type="logicalType",A.logicalType=b):(A.type="physicalType",A.physicalType=b),8&u){const I=wa(c,l,1)[0]>>>0;A.children=new Array(I);for(let R=0;R<I;R++)A.children[R]=fS(c,l)}k.type="complexField",k.complexField=A}else{const A={};m?(A.type="logicalType",A.logicalType=b):(A.type="physicalType",A.physicalType=b),k.type="scalarField",k.scalarField=A}return k}function pD(c,l){const u=wa(c,l,1)[0]>>>0,m=(function(y){switch(y){case 0:case 1:case 2:case 3:{const b={};b.nullable=!!(1&y),b.columnScope=0;const k={};return k.physicalType=y>1?6:4,k.type="physicalType",b.scalarType=k,b.type="scalarType",b}case 4:{const b={nullable:!1,columnScope:0},k={type:"physicalType",physicalType:0};return b.type="complexType",b.complexType=k,b}case 30:{const b={nullable:!1,columnScope:0},k={type:"physicalType",physicalType:1};return b.type="complexType",b.complexType=k,b}default:return(function(b){let k=null;switch(b){case 10:case 11:k=0;break;case 12:case 13:k=1;break;case 14:case 15:k=2;break;case 16:case 17:k=3;break;case 18:case 19:k=4;break;case 20:case 21:k=5;break;case 22:case 23:k=6;break;case 24:case 25:k=7;break;case 26:case 27:k=8;break;case 28:case 29:k=9;break;default:return null}const A={};A.nullable=!!(1&b),A.columnScope=0;const I={type:"physicalType"};return I.physicalType=k,A.type="scalarType",A.scalarType=I,A})(y)}})(u);if(!m)throw new Error(`Unsupported column type code: ${u}`);if((function(y){return y>=10})(u)?m.name=dS(c,l):u>=0&&u<=3?m.name="id":u===4&&(m.name="geometry"),(function(y){return y===30})(u)){const y=wa(c,l,1)[0]>>>0,b=m.complexType;b.children=new Array(y);for(let k=0;k<y;k++)b.children[k]=fS(c,l)}return m}function mD(c,l){const u={featureTables:[]},m={};m.name=dS(c,l);const y=wa(c,l,1)[0]>>>0,b=wa(c,l,1)[0]>>>0;m.columns=new Array(b);for(let k=0;k<b;k++)m.columns[k]=pD(c,l);return u.featureTables.push(m),[u,y]}function gD(c,l,u,m,y,b,k=!1){const A=l.scalarType.physicalType,I=i_(y,b,c,u);if(A===4)switch(I){case da.FLAT:{const R=er(c,u,y,!1);return new pv(m,R,b)}case da.SEQUENCE:{const R=Xk(c,u,y);return new gv(m,R[0],R[1],y.numRleValues)}case da.CONST:{const R=vv(c,u,y,!1);return new _v(m,R,b)}}else switch(I){case da.FLAT:{if(k){const B=(function(V,W,q,J){const ee=(function(ne,le,_e){const he=new Float64Array(le);for(let de=0;de<le;de++)he[de]=iD(ne,_e);return he})(V,q.numValues,W);return(function(ne,le,_e){switch(le.logicalLevelTechnique1){case ci.DELTA:return le.logicalLevelTechnique2===ci.RLE&&(ne=Uk(ne,le.runs,le.numRleValues)),(function(he){he[0]=he[0]%2==1?(he[0]+1)/-2:he[0]/2;const de=he.length/4*4;let be=1;if(de>=4)for(;be<de-4;be+=4){const Te=he[be],Ne=he[be+1],et=he[be+2],Ze=he[be+3];he[be]=(Te%2==1?(Te+1)/-2:Te/2)+he[be-1],he[be+1]=(Ne%2==1?(Ne+1)/-2:Ne/2)+he[be],he[be+2]=(et%2==1?(et+1)/-2:et/2)+he[be+1],he[be+3]=(Ze%2==1?(Ze+1)/-2:Ze/2)+he[be+2]}for(;be!=he.length;++be)he[be]=(he[be]%2==1?(he[be]+1)/-2:he[be]/2)+he[be-1]})(ne),ne;case ci.RLE:return(function(he,de,be){return Uk(he,de.runs,de.numRleValues)})(ne,le);case ci.NONE:return ne;default:throw new Error(`The specified Logical level technique is not supported: ${le.logicalLevelTechnique1}`)}})(ee,q)})(c,u,y);return new mv(m,B,b)}const R=Yk(c,u,y,!1);return new Kk(m,R,b)}case da.SEQUENCE:{const R=qk(c,u,y);return new Jk(m,R[0],R[1],y.numRleValues)}case da.CONST:{const R=Zk(c,u,y,!1);return new lS(m,R,b)}}throw new Error("Vector type not supported for id column.")}class _D{constructor(l,u){var m;switch(this._featureData=l,this.properties=this._featureData.properties||{},(m=this._featureData.geometry)===null||m===void 0?void 0:m.type){case fa.POINT:case fa.MULTIPOINT:this.type=1;break;case fa.LINESTRING:case fa.MULTILINESTRING:this.type=2;break;case fa.POLYGON:case fa.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=u,this.id=Number(this._featureData.id)}loadGeometry(){const l=[];for(const u of this._featureData.geometry.coordinates){const m=[];for(const y of u)m.push(new d(y.x,y.y));l.push(m)}return l}}class yD{constructor(l){this.features=[],this.featureTable=l,this.name=l.name,this.extent=l.extent,this.version=2,this.features=l.getFeatures(),this.length=this.features.length}feature(l){return new _D(this.features[l],this.extent)}}class pS{constructor(l){this.layers={};const u=(function(m,y,b=!0){const k=new tD(0),A=[];for(;k.get()<m.length;){const I=wa(m,k,1)[0]>>>0,R=k.get()+I;if(R>m.length)throw new Error(`Block overruns tile: ${R} > ${m.length}`);if(wa(m,k,1)[0]>>>0!=1){k.set(R);continue}const B=mD(m,k),V=B[1],W=B[0].featureTables[0];let q=null,J=null;const ee=[];let ne=0;for(const _e of W.columns){const he=_e.name;if(he==="id"){let de=null;if(_e.nullable){const Te=Qa(m,k),Ne=k.get(),et=np(m,Te.numValues,k);k.set(Ne+Te.byteLength),de=new Os(et,Te.numValues)}const be=Qa(m,k);ne=be.decompressedCount,q=gD(m,_e,k,he,be,de??ne,b)}else if(he==="geometry"){const de=wa(m,k,1)[0];if(ne===0){const be=k.get();ne=Qa(m,k).decompressedCount,k.set(be)}J=oD(m,de,k,ne)}else{const de=dD(_e)?wa(m,k,1)[0]:1;if(de===0&&_e.type==="scalarType")continue;const be=cD(m,k,_e,de,ne);if(be)if(Array.isArray(be))for(const Te of be)ee.push(Te);else ee.push(be)}}const le=new eD(W.name,J,q,ee,V);A.push(le),k.set(R)}return A})(new Uint8Array(l));this.layers=u.reduce(((m,y)=>Object.assign(Object.assign({},m),{[y.name]:new yD(y)})),{})}}class xD{constructor(l,u){this.feature=l,this.type=l.type,this.properties=l.tags?l.tags:{},this.extent=u,"id"in l&&(typeof l.id=="string"?this.id=parseInt(l.id,10):typeof l.id!="number"||isNaN(l.id)||(this.id=l.id))}loadGeometry(){const l=[],u=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const m of u){const y=[];for(const b of m)y.push(new d(b[0],b[1]));l.push(y)}return l}}const rp="_geojsonTileLayer";function vD(c,l){l.writeVarintField(15,c.version||1),l.writeStringField(1,c.name||""),l.writeVarintField(5,c.extent||4096);const u={keys:[],values:[],keycache:{},valuecache:{}};for(let b=0;b<c.length;b++)u.feature=c.feature(b),l.writeMessage(2,bD,u);const m=u.keys;for(const b of m)l.writeStringField(3,b);const y=u.values;for(const b of y)l.writeMessage(4,SD,b)}function bD(c,l){if(!c.feature)return;const u=c.feature;u.id!==void 0&&l.writeVarintField(1,u.id),l.writeMessage(2,wD,c),l.writeVarintField(3,u.type),l.writeMessage(4,kD,u)}function wD(c,l){for(const u in c.feature?.properties){let m=c.feature.properties[u],y=c.keycache[u];if(m==null)continue;y===void 0&&(c.keys.push(u),y=c.keys.length-1,c.keycache[u]=y),l.writeVarint(y),typeof m!="string"&&typeof m!="boolean"&&typeof m!="number"&&(m=JSON.stringify(m));const b=typeof m+":"+m;let k=c.valuecache[b];k===void 0&&(c.values.push(m),k=c.values.length-1,c.valuecache[b]=k),l.writeVarint(k)}}function Pv(c,l){return(l<<3)+(7&c)}function mS(c){return c<<1^c>>31}function kD(c,l){const u=c.loadGeometry(),m=c.type;let y=0,b=0;for(const k of u){let A=1;m===1&&(A=k.length),l.writeVarint(Pv(1,A));const I=m===3?k.length-1:k.length;for(let R=0;R<I;R++){R===1&&m!==1&&l.writeVarint(Pv(2,I-1));const B=k[R].x-y,V=k[R].y-b;l.writeVarint(mS(B)),l.writeVarint(mS(V)),y+=B,b+=V}c.type===3&&l.writeVarint(Pv(7,1))}}function SD(c,l){const u=typeof c;u==="string"?l.writeStringField(1,c):u==="boolean"?l.writeBooleanField(7,c):u==="number"&&(c%1!=0?l.writeDoubleField(3,c):c<0?l.writeSVarintField(6,c):l.writeVarintField(5,c))}class gS{constructor(l,u){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ml(Qe,16,0),this.grid3D=new Ml(Qe,16,0),this.featureIndexArray=new oe,this.promoteId=u}insert(l,u,m,y,b,k){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,y,b);const I=k?this.grid3D:this.grid;for(let R=0;R<u.length;R++){const B=u[R],V=[1/0,1/0,-1/0,-1/0];for(let W=0;W<B.length;W++){const q=B[W];V[0]=Math.min(V[0],q.x),V[1]=Math.min(V[1],q.y),V[2]=Math.max(V[2],q.x),V[3]=Math.max(V[3],q.y)}V[0]<Qe&&V[1]<Qe&&V[2]>=0&&V[3]>=0&&I.insert(A,V[0],V[1],V[2],V[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new tk(new qg(this.rawTileData)).layers:new pS(this.rawTileData).layers,this.sourceLayerCoder=new Bk(this.vtLayers?Object.keys(this.vtLayers).sort():[rp])),this.vtLayers}query(l,u,m,y){this.loadVTLayers();const b=l.params,k=Qe/l.tileSize/l.scale,A=Ph(b.filter,b.globalState),I=l.queryGeometry,R=l.queryPadding*k,B=Qh.fromPoints(I),V=this.grid.query(B.minX-R,B.minY-R,B.maxX+R,B.maxY+R),W=Qh.fromPoints(l.cameraQueryGeometry).expandBy(R),q=this.grid3D.query(W.minX,W.minY,W.maxX,W.maxY,((ne,le,_e,he)=>(function(de,be,Te,Ne,et){for(const at of de)if(be<=at.x&&Te<=at.y&&Ne>=at.x&&et>=at.y)return!0;const Ze=[new d(be,Te),new d(be,et),new d(Ne,et),new d(Ne,Te)];if(de.length>2){for(const at of Ze)if(jc(de,at))return!0}for(let at=0;at<de.length-1;at++)if(CE(de[at],de[at+1],Ze))return!0;return!1})(l.cameraQueryGeometry,ne-R,le-R,_e+R,he+R)));for(const ne of q)V.push(ne);V.sort(TD);const J={};let ee;for(let ne=0;ne<V.length;ne++){const le=V[ne];if(le===ee)continue;ee=le;const _e=this.featureIndexArray.get(le);let he=null;this.loadMatchingFeature(J,_e.bucketIndex,_e.sourceLayerIndex,_e.featureIndex,A,b.layers,b.availableImages,u,m,y,((de,be,Te)=>(he||(he=so(de)),be.queryIntersectsFeature({queryGeometry:I,feature:de,featureState:Te,geometry:he,zoom:this.z,transform:l.transform,pixelsToTileUnits:k,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return J}loadMatchingFeature(l,u,m,y,b,k,A,I,R,B,V){const W=this.bucketLayerIDs[u];if(k&&!W.some((ne=>k.has(ne))))return;const q=this.sourceLayerCoder.decode(m),J=this.vtLayers[q].feature(y);if(b.needGeometry){const ne=oo(J,!0);if(!b.filter(new ji(this.tileID.overscaledZ),ne,this.tileID.canonical))return}else if(!b.filter(new ji(this.tileID.overscaledZ),J))return;const ee=this.getId(J,q);for(let ne=0;ne<W.length;ne++){const le=W[ne];if(k&&!k.has(le))continue;const _e=I[le];if(!_e)continue;let he={};ee&&B&&(he=B.getState(_e.sourceLayer||rp,ee));const de=Et({},R[le]);de.paint=_S(de.paint,_e.paint,J,he,A),de.layout=_S(de.layout,_e.layout,J,he,A);const be=!V||V(J,_e,he);if(!be)continue;const Te=new jk(J,this.z,this.x,this.y,ee);Te.layer=de;let Ne=l[le];Ne===void 0&&(Ne=l[le]=[]),Ne.push({featureIndex:y,feature:Te,intersectionZ:be})}}lookupSymbolFeatures(l,u,m,y,b,k,A,I){const R={};this.loadVTLayers();const B=Ph(b.filterSpec,b.globalState);for(const V of l)this.loadMatchingFeature(R,m,y,V,B,k,A,I,u);return R}hasLayer(l){for(const u of this.bucketLayerIDs)for(const m of u)if(l===m)return!0;return!1}getId(l,u){var m;let y=l.id;return this.promoteId&&(y=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[u]],typeof y=="boolean"&&(y=Number(y)),y===void 0&&(!((m=l.properties)===null||m===void 0)&&m.cluster)&&this.promoteId&&(y=Number(l.properties.cluster_id))),y}}function _S(c,l,u,m,y){return ti(c,((b,k)=>{const A=l instanceof Vh?l.get(k):null;return A&&A.evaluate?A.evaluate(u,m,y):A}))}function TD(c,l){return l-c}function yS(c,l,u,m,y){const b=[];for(let k=0;k<c.length;k++){const A=c[k];let I;for(let R=0;R<A.length-1;R++){let B=A[R],V=A[R+1];B.x<l&&V.x<l||(B.x<l?B=new d(l,B.y+(l-B.x)/(V.x-B.x)*(V.y-B.y))._round():V.x<l&&(V=new d(l,B.y+(l-B.x)/(V.x-B.x)*(V.y-B.y))._round()),B.y<u&&V.y<u||(B.y<u?B=new d(B.x+(u-B.y)/(V.y-B.y)*(V.x-B.x),u)._round():V.y<u&&(V=new d(B.x+(u-B.y)/(V.y-B.y)*(V.x-B.x),u)._round()),B.x>=m&&V.x>=m||(B.x>=m?B=new d(m,B.y+(m-B.x)/(V.x-B.x)*(V.y-B.y))._round():V.x>=m&&(V=new d(m,B.y+(m-B.x)/(V.x-B.x)*(V.y-B.y))._round()),B.y>=y&&V.y>=y||(B.y>=y?B=new d(B.x+(y-B.y)/(V.y-B.y)*(V.x-B.x),y)._round():V.y>=y&&(V=new d(B.x+(y-B.y)/(V.y-B.y)*(V.x-B.x),y)._round()),I&&B.equals(I[I.length-1])||(I=[B],b.push(I)),I.push(V)))))}}return b}function xS(c,l,u,m,y){switch(l){case 1:return(function(b,k,A,I){const R=[];for(const B of b)for(const V of B){const W=I===0?V.x:V.y;W>=k&&W<=A&&R.push([V])}return R})(c,u,m,y);case 2:return vS(c,u,m,y,!1);case 3:return vS(c,u,m,y,!0)}return[]}function CD(c,l,u,m,y){const b=m===0?AD:MD;let k=[];const A=[];for(let B=0;B<c.length-1;B++){const V=c[B],W=c[B+1],q=m===0?V.x:V.y,J=m===0?W.x:W.y;let ee=!1;q<l?J>l&&k.push(b(V,W,l)):q>u?J<u&&k.push(b(V,W,u)):k.push(V),J<l&&q>=l&&(k.push(b(V,W,l)),ee=!0),J>u&&q<=u&&(k.push(b(V,W,u)),ee=!0),!y&&ee&&(A.push(k),k=[])}const I=c.length-1,R=m===0?c[I].x:c[I].y;return R>=l&&R<=u&&k.push(c[I]),y&&k.length>0&&!k[0].equals(k[k.length-1])&&k.push(new d(k[0].x,k[0].y)),k.length>0&&A.push(k),A}function vS(c,l,u,m,y){const b=[];for(const k of c){const A=CD(k,l,u,m,y);A.length>0&&b.push(...A)}return b}function AD(c,l,u){return new d(u,c.y+(u-c.x)/(l.x-c.x)*(l.y-c.y))}function MD(c,l,u){return new d(c.x+(u-c.y)/(l.y-c.y)*(l.x-c.x),u)}bt("FeatureIndex",gS,{omit:["rawTileData","sourceLayerCoder"]});class Fl extends d{constructor(l,u,m,y){super(l,u),this.angle=m,y!==void 0&&(this.segment=y)}clone(){return new Fl(this.x,this.y,this.angle,this.segment)}}function bS(c,l,u,m,y){if(l.segment===void 0||u===0)return!0;let b=l,k=l.segment+1,A=0;for(;A>-u/2;){if(k--,k<0)return!1;A-=c[k].dist(b),b=c[k]}A+=c[k].dist(c[k+1]),k++;const I=[];let R=0;for(;A<u/2;){const B=c[k],V=c[k+1];if(!V)return!1;let W=c[k-1].angleTo(B)-B.angleTo(V);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),I.push({distance:A,angleDelta:W}),R+=W;A-I[0].distance>m;)R-=I.shift().angleDelta;if(R>y)return!1;k++,A+=B.dist(V)}return!0}function wS(c){let l=0;for(let u=0;u<c.length-1;u++)l+=c[u].dist(c[u+1]);return l}function kS(c,l,u){return c?.6*l*u:0}function SS(c,l){return Math.max(c?c.right-c.left:0,l?l.right-l.left:0)}function PD(c,l,u,m,y,b){const k=kS(u,y,b),A=SS(u,m)*b;let I=0;const R=wS(c)/2;for(let B=0;B<c.length-1;B++){const V=c[B],W=c[B+1],q=V.dist(W);if(I+q>R){const J=(R-I)/q,ee=an.number(V.x,W.x,J),ne=an.number(V.y,W.y,J),le=new Fl(ee,ne,W.angleTo(V),B);return le._round(),!k||bS(c,le,A,k,l)?le:void 0}I+=q}}function LD(c,l,u,m,y,b,k,A,I){const R=kS(m,b,k),B=SS(m,y),V=B*k,W=c[0].x===0||c[0].x===I||c[0].y===0||c[0].y===I;return l-V<l/4&&(l=V+l/4),TS(c,W?l/2*A%l:(B/2+2*b)*k*A%l,l,R,u,V,W,!1,I)}function TS(c,l,u,m,y,b,k,A,I){const R=b/2,B=wS(c);let V=0,W=l-u,q=[];for(let J=0;J<c.length-1;J++){const ee=c[J],ne=c[J+1],le=ee.dist(ne),_e=ne.angleTo(ee);for(;W+u<V+le;){W+=u;const he=(W-V)/le,de=an.number(ee.x,ne.x,he),be=an.number(ee.y,ne.y,he);if(de>=0&&de<I&&be>=0&&be<I&&W-R>=0&&W+R<=B){const Te=new Fl(de,be,_e,J);Te._round(),m&&!bS(c,Te,b,m,y)||q.push(Te)}}V+=le}return A||q.length||k||(q=TS(c,V/2,u,m,y,b,k,!0,I)),q}function CS(c,l,u,m){const y=[],b=c.image,k=b.pixelRatio,A=b.paddedRect.w-2,I=b.paddedRect.h-2;let R={x1:c.left,y1:c.top,x2:c.right,y2:c.bottom};const B=b.stretchX||[[0,A]],V=b.stretchY||[[0,I]],W=(Xe,vt)=>Xe+vt[1]-vt[0],q=B.reduce(W,0),J=V.reduce(W,0),ee=A-q,ne=I-J;let le=0,_e=q,he=0,de=J,be=0,Te=ee,Ne=0,et=ne;if(b.content&&m){const Xe=b.content,vt=Xe[2]-Xe[0],xt=Xe[3]-Xe[1];(b.textFitWidth||b.textFitHeight)&&(R=bk(c)),le=s_(B,0,Xe[0]),he=s_(V,0,Xe[1]),_e=s_(B,Xe[0],Xe[2]),de=s_(V,Xe[1],Xe[3]),be=Xe[0]-le,Ne=Xe[1]-he,Te=vt-_e,et=xt-de}const Ze=R.x1,at=R.y1,pt=R.x2-Ze,st=R.y2-at,Ke=(Xe,vt,xt,kt)=>{const yt=o_(Xe.stretch-le,_e,pt,Ze),It=l_(Xe.fixed-be,Te,Xe.stretch,q),vi=o_(vt.stretch-he,de,st,at),hi=l_(vt.fixed-Ne,et,vt.stretch,J),on=o_(xt.stretch-le,_e,pt,Ze),Ea=l_(xt.fixed-be,Te,xt.stretch,q),Zn=o_(kt.stretch-he,de,st,at),ln=l_(kt.fixed-Ne,et,kt.stretch,J),en=new d(yt,vi),Ii=new d(on,vi),Sn=new d(on,Zn),Rn=new d(yt,Zn),Yi=new d(It/k,hi/k),fr=new d(Ea/k,ln/k),Ia=l*Math.PI/180;if(Ia){const pa=Math.sin(Ia),mn=Math.cos(Ia),Kn=[mn,-pa,pa,mn];en._matMult(Kn),Ii._matMult(Kn),Rn._matMult(Kn),Sn._matMult(Kn)}const pr=Xe.stretch+Xe.fixed,vs=vt.stretch+vt.fixed;return{tl:en,tr:Ii,bl:Rn,br:Sn,tex:{x:b.paddedRect.x+1+pr,y:b.paddedRect.y+1+vs,w:xt.stretch+xt.fixed-pr,h:kt.stretch+kt.fixed-vs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Yi,pixelOffsetBR:fr,minFontScaleX:Te/k/pt,minFontScaleY:et/k/st,isSDF:u}};if(m&&(b.stretchX||b.stretchY)){const Xe=AS(B,ee,q),vt=AS(V,ne,J);for(let xt=0;xt<Xe.length-1;xt++){const kt=Xe[xt],yt=Xe[xt+1];for(let It=0;It<vt.length-1;It++)y.push(Ke(kt,vt[It],yt,vt[It+1]))}}else y.push(Ke({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:I+1}));return y}function s_(c,l,u){let m=0;for(const y of c)m+=Math.max(l,Math.min(u,y[1]))-Math.max(l,Math.min(u,y[0]));return m}function AS(c,l,u){const m=[{fixed:-1,stretch:0}];for(const[y,b]of c){const k=m[m.length-1];m.push({fixed:y-k.stretch,stretch:k.stretch}),m.push({fixed:y-k.stretch,stretch:k.stretch+(b-y)})}return m.push({fixed:l+1,stretch:u}),m}function o_(c,l,u,m){return c/l*u+m}function l_(c,l,u,m){return c-l*u/m}bt("Anchor",Fl);class h_{constructor(l,u,m,y,b,k,A,I,R,B){var V;if(this.boxStartIndex=l.length,R){let W=k.top,q=k.bottom;const J=k.collisionPadding;J&&(W-=J[1],q+=J[3]);let ee=q-W;ee>0&&(ee=Math.max(10,ee),this.circleDiameter=ee)}else{const W=!((V=k.image)===null||V===void 0)&&V.content&&(k.image.textFitWidth||k.image.textFitHeight)?bk(k):{x1:k.left,y1:k.top,x2:k.right,y2:k.bottom};W.y1=W.y1*A-I[0],W.y2=W.y2*A+I[2],W.x1=W.x1*A-I[3],W.x2=W.x2*A+I[1];const q=k.collisionPadding;if(q&&(W.x1-=q[0]*A,W.y1-=q[1]*A,W.x2+=q[2]*A,W.y2+=q[3]*A),B){const J=new d(W.x1,W.y1),ee=new d(W.x2,W.y1),ne=new d(W.x1,W.y2),le=new d(W.x2,W.y2),_e=B*Math.PI/180;J._rotate(_e),ee._rotate(_e),ne._rotate(_e),le._rotate(_e),W.x1=Math.min(J.x,ee.x,ne.x,le.x),W.x2=Math.max(J.x,ee.x,ne.x,le.x),W.y1=Math.min(J.y,ee.y,ne.y,le.y),W.y2=Math.max(J.y,ee.y,ne.y,le.y)}l.emplaceBack(u.x,u.y,W.x1,W.y1,W.x2,W.y2,m,y,b)}this.boxEndIndex=l.length}}class ED{constructor(l=[],u=(m,y)=>m<y?-1:m>y?1:0){if(this.data=l,this.length=this.data.length,this.compare=u,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],u=this.data.pop();return--this.length>0&&(this.data[0]=u,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:u,compare:m}=this,y=u[l];for(;l>0;){const b=l-1>>1,k=u[b];if(m(y,k)>=0)break;u[l]=k,l=b}u[l]=y}_down(l){const{data:u,compare:m}=this,y=this.length>>1,b=u[l];for(;l<y;){let k=1+(l<<1);const A=k+1;if(A<this.length&&m(u[A],u[k])<0&&(k=A),m(u[k],b)>=0)break;u[l]=u[k],l=k}u[l]=b}}function ID(c,l=1,u=!1){const m=Qh.fromPoints(c[0]),y=Math.min(m.width(),m.height());let b=y/2;const k=new ED([],DD),{minX:A,minY:I,maxX:R,maxY:B}=m;if(y===0)return new d(A,I);for(let q=A;q<R;q+=y)for(let J=I;J<B;J+=y)k.push(new Jc(q+b,J+b,b,c));let V=(function(q){let J=0,ee=0,ne=0;const le=q[0];for(let _e=0,he=le.length,de=he-1;_e<he;de=_e++){const be=le[_e],Te=le[de],Ne=be.x*Te.y-Te.x*be.y;ee+=(be.x+Te.x)*Ne,ne+=(be.y+Te.y)*Ne,J+=3*Ne}return new Jc(ee/J,ne/J,0,q)})(c),W=k.length;for(;k.length;){const q=k.pop();(q.d>V.d||!V.d)&&(V=q,u&&console.log("found best %d after %d probes",Math.round(1e4*q.d)/1e4,W)),q.max-V.d<=l||(b=q.h/2,k.push(new Jc(q.p.x-b,q.p.y-b,b,c)),k.push(new Jc(q.p.x+b,q.p.y-b,b,c)),k.push(new Jc(q.p.x-b,q.p.y+b,b,c)),k.push(new Jc(q.p.x+b,q.p.y+b,b,c)),W+=4)}return u&&(console.log(`num probes: ${W}`),console.log(`best distance: ${V.d}`)),V.p}function DD(c,l){return l.max-c.max}function Jc(c,l,u,m){this.p=new d(c,l),this.h=u,this.d=(function(y,b){let k=!1,A=1/0;for(let I=0;I<b.length;I++){const R=b[I];for(let B=0,V=R.length,W=V-1;B<V;W=B++){const q=R[B],J=R[W];q.y>y.y!=J.y>y.y&&y.x<(J.x-q.x)*(y.y-q.y)/(J.y-q.y)+q.x&&(k=!k),A=Math.min(A,I1(y,q,J))}}return(k?1:-1)*Math.sqrt(A)})(this.p,m),this.max=this.d+this.h*Math.SQRT2}var La;o.aP=void 0,(La=o.aP||(o.aP={}))[La.center=1]="center",La[La.left=2]="left",La[La.right=3]="right",La[La.top=4]="top",La[La.bottom=5]="bottom",La[La["top-left"]=6]="top-left",La[La["top-right"]=7]="top-right",La[La["bottom-left"]=8]="bottom-left",La[La["bottom-right"]=9]="bottom-right";const Lv=Number.POSITIVE_INFINITY;function MS(c,l){return l[1]!==Lv?(function(u,m,y){let b=0,k=0;switch(m=Math.abs(m),y=Math.abs(y),u){case"top-right":case"top-left":case"top":k=y-7;break;case"bottom-right":case"bottom-left":case"bottom":k=7-y}switch(u){case"top-right":case"bottom-right":case"right":b=-m;break;case"top-left":case"bottom-left":case"left":b=m}return[b,k]})(c,l[0],l[1]):(function(u,m){let y=0,b=0;m<0&&(m=0);const k=m/Math.SQRT2;switch(u){case"top-right":case"top-left":b=k-7;break;case"bottom-right":case"bottom-left":b=7-k;break;case"bottom":b=7-m;break;case"top":b=m-7}switch(u){case"top-right":case"bottom-right":y=-k;break;case"top-left":case"bottom-left":y=k;break;case"left":y=m;break;case"right":y=-m}return[y,b]})(c,l[0])}function PS(c,l,u){var m;const y=c.layout,b=(m=y.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},u);if(b){const A=b.values,I=[];for(let R=0;R<A.length;R+=2){const B=I[R]=A[R],V=A[R+1].map((W=>W*ca));B.startsWith("top")?V[1]-=7:B.startsWith("bottom")&&(V[1]+=7),I[R+1]=V}return new ja(I)}const k=y.get("text-variable-anchor");if(k){let A;A=c._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[y.get("text-radial-offset").evaluate(l,{},u)*ca,Lv]:y.get("text-offset").evaluate(l,{},u).map((R=>R*ca));const I=[];for(const R of k)I.push(R,MS(R,A));return new ja(I)}return null}function Ev(c){switch(c){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function zD(c,l,u,m,y,b,k,A,I,R,B,V){let W=b.textMaxSize.evaluate(l,{});W===void 0&&(W=k);const q=c.layers[0].layout,J=q.get("icon-offset").evaluate(l,{},B),ee=ES(u.horizontal),ne=k/24,le=c.tilePixelRatio*ne,_e=c.tilePixelRatio*W/24,he=c.tilePixelRatio*A,de=c.tilePixelRatio*q.get("symbol-spacing"),be=q.get("text-padding")*c.tilePixelRatio,Te=(function(xt,kt,yt,It=1){const vi=xt.get("icon-padding").evaluate(kt,{},yt),hi=vi&&vi.values;return[hi[0]*It,hi[1]*It,hi[2]*It,hi[3]*It]})(q,l,B,c.tilePixelRatio),Ne=q.get("text-max-angle")/180*Math.PI,et=q.get("text-rotation-alignment")!=="viewport"&&q.get("symbol-placement")!=="point",Ze=q.get("icon-rotation-alignment")==="map"&&q.get("symbol-placement")!=="point",at=q.get("symbol-placement"),pt=de/2,st=q.get("icon-text-fit");let Ke;m&&st!=="none"&&(c.allowVerticalPlacement&&u.vertical&&(Ke=wk(m,u.vertical,st,q.get("icon-text-fit-padding"),J,ne)),ee&&(m=wk(m,ee,st,q.get("icon-text-fit-padding"),J,ne)));const Xe=B?V.line.getGranularityForZoomLevel(B.z):1,vt=(xt,kt)=>{kt.x<0||kt.x>=Qe||kt.y<0||kt.y>=Qe||(function(yt,It,vi,hi,on,Ea,Zn,ln,en,Ii,Sn,Rn,Yi,fr,Ia,pr,vs,pa,mn,Kn,Tn,ma,Vo,Bs,lp){const Ol=yt.addToLineVertexArray(It,vi);let iu,Qc,ed,td,RS=0,FS=0,OS=0,BS=0,jv=-1,Nv=-1;const Ho={};let jS=zn("");if(yt.allowVerticalPlacement&&hi.vertical){const Ha=ln.layout.get("text-rotate").evaluate(Tn,{},Bs)+90;ed=new h_(en,It,Ii,Sn,Rn,hi.vertical,Yi,fr,Ia,Ha),Zn&&(td=new h_(en,It,Ii,Sn,Rn,Zn,vs,pa,Ia,Ha))}if(on){const Ha=ln.layout.get("icon-rotate").evaluate(Tn,{}),es=ln.layout.get("icon-text-fit")!=="none",nu=CS(on,Ha,Vo,es),Ns=Zn?CS(Zn,Ha,Vo,es):void 0;Qc=new h_(en,It,Ii,Sn,Rn,on,vs,pa,!1,Ha),RS=4*nu.length;const au=yt.iconSizeData;let lo=null;au.kind==="source"?(lo=[No*ln.layout.get("icon-size").evaluate(Tn,{})],lo[0]>Dl&&Zt(`${yt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):au.kind==="composite"&&(lo=[No*ma.compositeIconSizes[0].evaluate(Tn,{},Bs),No*ma.compositeIconSizes[1].evaluate(Tn,{},Bs)],(lo[0]>Dl||lo[1]>Dl)&&Zt(`${yt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),yt.addSymbols(yt.icon,nu,lo,Kn,mn,Tn,o.az.none,It,Ol.lineStartIndex,Ol.lineLength,-1,Bs),jv=yt.icon.placedSymbolArray.length-1,Ns&&(FS=4*Ns.length,yt.addSymbols(yt.icon,Ns,lo,Kn,mn,Tn,o.az.vertical,It,Ol.lineStartIndex,Ol.lineLength,-1,Bs),Nv=yt.icon.placedSymbolArray.length-1)}const NS=Object.keys(hi.horizontal);for(const Ha of NS){const es=hi.horizontal[Ha];if(!iu){jS=zn(es.text);const Ns=ln.layout.get("text-rotate").evaluate(Tn,{},Bs);iu=new h_(en,It,Ii,Sn,Rn,es,Yi,fr,Ia,Ns)}const nu=es.positionedLines.length===1;if(OS+=LS(yt,It,es,Ea,ln,Ia,Tn,pr,Ol,hi.vertical?o.az.horizontal:o.az.horizontalOnly,nu?NS:[Ha],Ho,jv,ma,Bs),nu)break}hi.vertical&&(BS+=LS(yt,It,hi.vertical,Ea,ln,Ia,Tn,pr,Ol,o.az.vertical,["vertical"],Ho,Nv,ma,Bs));const OD=iu?iu.boxStartIndex:yt.collisionBoxArray.length,BD=iu?iu.boxEndIndex:yt.collisionBoxArray.length,jD=ed?ed.boxStartIndex:yt.collisionBoxArray.length,ND=ed?ed.boxEndIndex:yt.collisionBoxArray.length,$D=Qc?Qc.boxStartIndex:yt.collisionBoxArray.length,VD=Qc?Qc.boxEndIndex:yt.collisionBoxArray.length,HD=td?td.boxStartIndex:yt.collisionBoxArray.length,GD=td?td.boxEndIndex:yt.collisionBoxArray.length;let js=-1;const c_=(Ha,es)=>Ha&&Ha.circleDiameter?Math.max(Ha.circleDiameter,es):es;js=c_(iu,js),js=c_(ed,js),js=c_(Qc,js),js=c_(td,js);const $S=js>-1?1:0;$S&&(js*=lp/ca),yt.glyphOffsetArray.length>=Wc.MAX_GLYPHS&&Zt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Tn.sortKey!==void 0&&yt.addToSortKeyRanges(yt.symbolInstances.length,Tn.sortKey);const UD=PS(ln,Tn,Bs),[WD,XD]=(function(Ha,es){const nu=Ha.length,Ns=es?.values;if(Ns?.length>0)for(let au=0;au<Ns.length;au+=2){const lo=Ns[au+1];Ha.emplaceBack(o.aP[Ns[au]],lo[0],lo[1])}return[nu,Ha.length]})(yt.textAnchorOffsets,UD);yt.symbolInstances.emplaceBack(It.x,It.y,Ho.right>=0?Ho.right:-1,Ho.center>=0?Ho.center:-1,Ho.left>=0?Ho.left:-1,Ho.vertical||-1,jv,Nv,jS,OD,BD,jD,ND,$D,VD,HD,GD,Ii,OS,BS,RS,FS,$S,0,Yi,js,WD,XD)})(c,kt,xt,u,m,y,Ke,c.layers[0],c.collisionBoxArray,l.index,l.sourceLayerIndex,c.index,le,[be,be,be,be],et,I,he,Te,Ze,J,l,b,R,B,k)};if(at==="line")for(const xt of yS(l.geometry,0,0,Qe,Qe)){const kt=Jh(xt,Xe),yt=LD(kt,de,Ne,u.vertical||ee,m,24,_e,c.overscaling,Qe);for(const It of yt)ee&&RD(c,ee.text,pt,It)||vt(kt,It)}else if(at==="line-center"){for(const xt of l.geometry)if(xt.length>1){const kt=Jh(xt,Xe),yt=PD(kt,Ne,u.vertical||ee,m,24,_e);yt&&vt(kt,yt)}}else if(l.type==="Polygon")for(const xt of sc(l.geometry,0)){const kt=ID(xt,16);vt(Jh(xt[0],Xe,!0),new Fl(kt.x,kt.y,0))}else if(l.type==="LineString")for(const xt of l.geometry){const kt=Jh(xt,Xe);vt(kt,new Fl(kt[0].x,kt[0].y,0))}else if(l.type==="Point")for(const xt of l.geometry)for(const kt of xt)vt([kt],new Fl(kt.x,kt.y,0))}function LS(c,l,u,m,y,b,k,A,I,R,B,V,W,q,J){const ee=(function(_e,he,de,be,Te,Ne,et,Ze){const at=be.layout.get("text-rotate").evaluate(Ne,{})*Math.PI/180,pt=[];for(const st of he.positionedLines)for(const Ke of st.positionedGlyphs){if(!Ke.rect)continue;const Xe=Ke.rect||{};let vt=4,xt=!0,kt=1,yt=0;const It=(Te||Ze)&&Ke.vertical,vi=Ke.metrics.advance*Ke.scale/2;if(Ze&&he.verticalizable&&(yt=st.lineOffset/2-(Ke.imageName?-(ca-Ke.metrics.width*Ke.scale)/2:(Ke.scale-1)*ca)),Ke.imageName){const pa=et[Ke.imageName];xt=pa.sdf,kt=pa.pixelRatio,vt=1/kt}const hi=Te?[Ke.x+vi,Ke.y]:[0,0];let on=Te?[0,0]:[Ke.x+vi+de[0],Ke.y+de[1]-yt],Ea=[0,0];It&&(Ea=on,on=[0,0]);const Zn=Ke.metrics.isDoubleResolution?2:1,ln=(Ke.metrics.left-vt)*Ke.scale-vi+on[0],en=(-Ke.metrics.top-vt)*Ke.scale+on[1],Ii=ln+Xe.w/Zn*Ke.scale/kt,Sn=en+Xe.h/Zn*Ke.scale/kt,Rn=new d(ln,en),Yi=new d(Ii,en),fr=new d(ln,Sn),Ia=new d(Ii,Sn);if(It){const pa=new d(-vi,vi- -17),mn=-Math.PI/2,Kn=12-vi,Tn=new d(22-Kn,-(Ke.imageName?Kn:0)),ma=new d(...Ea);Rn._rotateAround(mn,pa)._add(Tn)._add(ma),Yi._rotateAround(mn,pa)._add(Tn)._add(ma),fr._rotateAround(mn,pa)._add(Tn)._add(ma),Ia._rotateAround(mn,pa)._add(Tn)._add(ma)}if(at){const pa=Math.sin(at),mn=Math.cos(at),Kn=[mn,-pa,pa,mn];Rn._matMult(Kn),Yi._matMult(Kn),fr._matMult(Kn),Ia._matMult(Kn)}const pr=new d(0,0),vs=new d(0,0);pt.push({tl:Rn,tr:Yi,bl:fr,br:Ia,tex:Xe,writingMode:he.writingMode,glyphOffset:hi,sectionIndex:Ke.sectionIndex,isSDF:xt,pixelOffsetTL:pr,pixelOffsetBR:vs,minFontScaleX:0,minFontScaleY:0})}return pt})(0,u,A,y,b,k,m,c.allowVerticalPlacement),ne=c.textSizeData;let le=null;ne.kind==="source"?(le=[No*y.layout.get("text-size").evaluate(k,{})],le[0]>Dl&&Zt(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):ne.kind==="composite"&&(le=[No*q.compositeTextSizes[0].evaluate(k,{},J),No*q.compositeTextSizes[1].evaluate(k,{},J)],(le[0]>Dl||le[1]>Dl)&&Zt(`${c.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),c.addSymbols(c.text,ee,le,A,b,k,R,l,I.lineStartIndex,I.lineLength,W,J);for(const _e of B)V[_e]=c.text.placedSymbolArray.length-1;return 4*ee.length}function ES(c){for(const l in c)return c[l];return null}function RD(c,l,u,m){const y=c.compareText;if(l in y){const b=y[l];for(let k=b.length-1;k>=0;k--)if(m.dist(b[k])<u)return!0}else y[l]=[];return y[l].push(m),!1}const IS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Iv{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,m]=new Uint8Array(l,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const y=m>>4;if(y!==1)throw new Error(`Got v${y} data when expected v1.`);const b=IS[15&m];if(!b)throw new Error("Unrecognized array type.");const[k]=new Uint16Array(l,2,1),[A]=new Uint32Array(l,4,1);return new Iv(A,k,b,l)}constructor(l,u=64,m=Float64Array,y){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const b=IS.indexOf(this.ArrayType),k=2*l*this.ArrayType.BYTES_PER_ELEMENT,A=l*this.IndexArrayType.BYTES_PER_ELEMENT,I=(8-A%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${m}.`);y&&y instanceof ArrayBuffer?(this.data=y,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+A+I,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+k+A+I),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+A+I,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=l)}add(l,u){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=u,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return Dv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,u,m,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:k,nodeSize:A}=this,I=[0,b.length-1,0],R=[];for(;I.length;){const B=I.pop()||0,V=I.pop()||0,W=I.pop()||0;if(V-W<=A){for(let ne=W;ne<=V;ne++){const le=k[2*ne],_e=k[2*ne+1];le>=l&&le<=m&&_e>=u&&_e<=y&&R.push(b[ne])}continue}const q=W+V>>1,J=k[2*q],ee=k[2*q+1];J>=l&&J<=m&&ee>=u&&ee<=y&&R.push(b[q]),(B===0?l<=J:u<=ee)&&(I.push(W),I.push(q-1),I.push(1-B)),(B===0?m>=J:y>=ee)&&(I.push(q+1),I.push(V),I.push(1-B))}return R}within(l,u,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:b,nodeSize:k}=this,A=[0,y.length-1,0],I=[],R=m*m;for(;A.length;){const B=A.pop()||0,V=A.pop()||0,W=A.pop()||0;if(V-W<=k){for(let ne=W;ne<=V;ne++)zS(b[2*ne],b[2*ne+1],l,u)<=R&&I.push(y[ne]);continue}const q=W+V>>1,J=b[2*q],ee=b[2*q+1];zS(J,ee,l,u)<=R&&I.push(y[q]),(B===0?l-m<=J:u-m<=ee)&&(A.push(W),A.push(q-1),A.push(1-B)),(B===0?l+m>=J:u+m>=ee)&&(A.push(q+1),A.push(V),A.push(1-B))}return I}}function Dv(c,l,u,m,y,b){if(y-m<=u)return;const k=m+y>>1;DS(c,l,k,m,y,b),Dv(c,l,u,m,k-1,1-b),Dv(c,l,u,k+1,y,1-b)}function DS(c,l,u,m,y,b){for(;y>m;){if(y-m>600){const R=y-m+1,B=u-m+1,V=Math.log(R),W=.5*Math.exp(2*V/3),q=.5*Math.sqrt(V*W*(R-W)/R)*(B-R/2<0?-1:1);DS(c,l,u,Math.max(m,Math.floor(u-B*W/R+q)),Math.min(y,Math.floor(u+(R-B)*W/R+q)),b)}const k=l[2*u+b];let A=m,I=y;for(sp(c,l,m,u),l[2*y+b]>k&&sp(c,l,m,y);A<I;){for(sp(c,l,A,I),A++,I--;l[2*A+b]<k;)A++;for(;l[2*I+b]>k;)I--}l[2*m+b]===k?sp(c,l,m,I):(I++,sp(c,l,I,y)),I<=u&&(m=I+1),u<=I&&(y=I-1)}}function sp(c,l,u,m){zv(c,u,m),zv(l,2*u,2*m),zv(l,2*u+1,2*m+1)}function zv(c,l,u){const m=c[l];c[l]=c[u],c[u]=m}function zS(c,l,u,m){const y=c-u,b=l-m;return y*y+b*b}var Rv;o.cH=void 0,(Rv=o.cH||(o.cH={})).create="create",Rv.load="load",Rv.fullLoad="fullLoad";let u_=null,op=[];const Fv=1e3/60,Ov="loadTime",Bv="fullLoadTime",FD={mark(c){performance.mark(c)},frame(c){const l=c;u_!=null&&op.push(l-u_),u_=l},clearMetrics(){u_=null,op=[],performance.clearMeasures(Ov),performance.clearMeasures(Bv);for(const c in o.cH)performance.clearMarks(o.cH[c])},getPerformanceMetrics(){performance.measure(Ov,o.cH.create,o.cH.load),performance.measure(Bv,o.cH.create,o.cH.fullLoad);const c=performance.getEntriesByName(Ov)[0].duration,l=performance.getEntriesByName(Bv)[0].duration,u=op.length,m=1/(op.reduce(((b,k)=>b+k),0)/u/1e3),y=op.filter((b=>b>Fv)).reduce(((b,k)=>b+(k-Fv)/Fv),0);return{loadTime:c,fullLoadTime:l,fps:m,percentDroppedFrames:y/(u+y)*100,totalFrames:u}}};o.$=D,o.A=H,o.B=Al,o.C=ha,o.D=Lt,o.E=ii,o.F=function([c,l,u]){return l+=90,l*=Math.PI/180,u*=Math.PI/180,{x:c*Math.cos(l)*Math.sin(u),y:c*Math.sin(l)*Math.sin(u),z:c*Math.cos(u)}},o.G=an,o.H=ji,o.I=av,o.J=Mg,o.K=function(c){if(Ye==null){const l=c.navigator?c.navigator.userAgent:null;Ye=!!c.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Ye},o.L=class{constructor(c,l){this.target=c,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new KI((()=>this.process())),this.subscription=Ba(this.target,"message",(u=>this.receive(u)),!1),this.globalScope=cn(self)?c:window}registerMessageHandler(c,l){this.messageHandlers[c]=l}unregisterMessageHandler(c){delete this.messageHandlers[c]}sendAsync(c,l){return new Promise(((u,m)=>{const y=Math.round(1e18*Math.random()).toString(36).substring(0,10),b=l?Ba(l.signal,"abort",(()=>{b?.unsubscribe(),delete this.resolveRejects[y];const I={id:y,type:"<cancel>",origin:location.origin,targetMapId:c.targetMapId,sourceMapId:this.mapId};this.target.postMessage(I)}),JI):null;this.resolveRejects[y]={resolve:I=>{b?.unsubscribe(),u(I)},reject:I=>{b?.unsubscribe(),m(I)}};const k=[],A=Object.assign(Object.assign({},c),{id:y,sourceMapId:this.mapId,origin:location.origin,data:Bh(c.data,k)});this.target.postMessage(A,{transfer:k})}))}receive(c){const l=c.data,u=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[u];const m=this.abortControllers[u];return delete this.abortControllers[u],void(m&&m.abort())}if(cn(self)||l.mustQueue)return this.tasks[u]=l,this.taskQueue.push(u),void this.invoker.trigger();this.processTask(u,l)}}process(){if(this.taskQueue.length===0)return;const c=this.taskQueue.shift(),l=this.tasks[c];delete this.tasks[c],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(c,l)}processTask(c,l){return a(this,void 0,void 0,(function*(){if(l.type==="<response>"){const y=this.resolveRejects[c];return delete this.resolveRejects[c],y?void(l.error?y.reject(jh(l.error)):y.resolve(jh(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(c,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const u=jh(l.data),m=new AbortController;this.abortControllers[c]=m;try{const y=yield this.messageHandlers[l.type](l.sourceMapId,u,m);this.completeTask(c,null,y)}catch(y){this.completeTask(c,y)}}))}completeTask(c,l,u){const m=[];delete this.abortControllers[c];const y={id:c,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?Bh(l):null,data:Bh(u,m)};this.target.postMessage(y,{transfer:m})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},o.M=Fe,o.N=function(){var c=new H(16);return H!=Float32Array&&(c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=0,c[12]=0,c[13]=0,c[14]=0),c[0]=1,c[5]=1,c[10]=1,c[15]=1,c},o.O=function(c,l,u){var m,y,b,k,A,I,R,B,V,W,q,J,ee=u[0],ne=u[1],le=u[2];return l===c?(c[12]=l[0]*ee+l[4]*ne+l[8]*le+l[12],c[13]=l[1]*ee+l[5]*ne+l[9]*le+l[13],c[14]=l[2]*ee+l[6]*ne+l[10]*le+l[14],c[15]=l[3]*ee+l[7]*ne+l[11]*le+l[15]):(y=l[1],b=l[2],k=l[3],A=l[4],I=l[5],R=l[6],B=l[7],V=l[8],W=l[9],q=l[10],J=l[11],c[0]=m=l[0],c[1]=y,c[2]=b,c[3]=k,c[4]=A,c[5]=I,c[6]=R,c[7]=B,c[8]=V,c[9]=W,c[10]=q,c[11]=J,c[12]=m*ee+A*ne+V*le+l[12],c[13]=y*ee+I*ne+W*le+l[13],c[14]=b*ee+R*ne+q*le+l[14],c[15]=k*ee+B*ne+J*le+l[15]),c},o.P=d,o.Q=function(c,l,u){var m=u[0],y=u[1],b=u[2];return c[0]=l[0]*m,c[1]=l[1]*m,c[2]=l[2]*m,c[3]=l[3]*m,c[4]=l[4]*y,c[5]=l[5]*y,c[6]=l[6]*y,c[7]=l[7]*y,c[8]=l[8]*b,c[9]=l[9]*b,c[10]=l[10]*b,c[11]=l[11]*b,c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},o.R=dr,o.S=function(c,l,u){var m=l[0],y=l[1],b=l[2],k=l[3],A=l[4],I=l[5],R=l[6],B=l[7],V=l[8],W=l[9],q=l[10],J=l[11],ee=l[12],ne=l[13],le=l[14],_e=l[15],he=u[0],de=u[1],be=u[2],Te=u[3];return c[0]=he*m+de*A+be*V+Te*ee,c[1]=he*y+de*I+be*W+Te*ne,c[2]=he*b+de*R+be*q+Te*le,c[3]=he*k+de*B+be*J+Te*_e,c[4]=(he=u[4])*m+(de=u[5])*A+(be=u[6])*V+(Te=u[7])*ee,c[5]=he*y+de*I+be*W+Te*ne,c[6]=he*b+de*R+be*q+Te*le,c[7]=he*k+de*B+be*J+Te*_e,c[8]=(he=u[8])*m+(de=u[9])*A+(be=u[10])*V+(Te=u[11])*ee,c[9]=he*y+de*I+be*W+Te*ne,c[10]=he*b+de*R+be*q+Te*le,c[11]=he*k+de*B+be*J+Te*_e,c[12]=(he=u[12])*m+(de=u[13])*A+(be=u[14])*V+(Te=u[15])*ee,c[13]=he*y+de*I+be*W+Te*ne,c[14]=he*b+de*R+be*q+Te*le,c[15]=he*k+de*B+be*J+Te*_e,c},o.T=Yx,o.U=function(c,l){const u={};for(let m=0;m<l.length;m++){const y=l[m];y in c&&(u[y]=c[y])}return u},o.V=zl,o.W=Pt,o.X=Ek,o.Y=Lk,o.Z=ke,o._=a,o.a=ue,o.a$=ce,o.a0=O,o.a1=Oa,o.a2=Jr,o.a3=Dk,o.a4=Jg,o.a5=Qe,o.a6=function(c,l,u){if(!c)return l||{};if(!l)return c||{};const m=Ok(c),y=Ok(l);(function(k,A){A.removeAll&&(k.add.clear(),k.update.clear(),k.remove.clear(),A.remove.clear());for(const I of A.remove)k.add.delete(I),k.update.delete(I);for(const[I,R]of A.update){const B=k.update.get(I);B&&(A.update.set(I,QI(B,R)),k.update.delete(I))}})(m,y);const b={};if((m.removeAll||y.removeAll)&&(b.removeAll=!0),b.remove=new Set([...m.remove,...y.remove]),b.add=new Map([...m.add,...y.add]),b.update=new Map([...m.update,...y.update]),b.remove.size&&b.add.size)for(const k of b.add.keys())b.remove.delete(k);return(function(k){const A={};return k.removeAll&&(A.removeAll=k.removeAll),k.remove&&(A.remove=Array.from(k.remove)),k.add&&(A.add=Array.from(k.add.values())),k.update&&(A.update=Array.from(k.update.values())),A})(b)},o.a7=function(c,l){const u=new Map;if(c==null||c.type==null)return u;if(c.type==="Feature"){const m=fv(c,l);return m==null?void 0:(u.set(m,c),u)}if(c.type==="FeatureCollection"){const m=new Set;for(const y of c.features){const b=fv(y,l);if(b==null||m.has(b))return;m.add(b),u.set(b,y)}return u}},o.a8=function(c,l,u){var m,y;const b=[];if(l.removeAll)c.clear();else if(l.remove)for(const k of l.remove){const A=c.get(k);A&&(b.push(A.geometry),c.delete(k))}if(l.add)for(const k of l.add){const A=fv(k,u);if(A==null)continue;const I=c.get(A);I&&b.push(I.geometry),b.push(k.geometry),c.set(A,k)}if(l.update)for(const k of l.update){const A=c.get(k.id);if(!A)continue;const I=!!k.newGeometry,R=k.removeAllProperties||((m=k.removeProperties)===null||m===void 0?void 0:m.length)>0||((y=k.addOrUpdateProperties)===null||y===void 0?void 0:y.length)>0;if(!I&&!R)continue;b.push(A.geometry);const B=Object.assign({},A);if(c.set(k.id,B),I&&(b.push(k.newGeometry),B.geometry=k.newGeometry),R){if(B.properties=k.removeAllProperties?{}:Object.assign({},B.properties||{}),k.removeProperties)for(const V of k.removeProperties)delete B.properties[V];if(k.addOrUpdateProperties)for(const{key:V,value:W}of k.addOrUpdateProperties)B.properties[V]=W}}return b},o.a9=ip,o.aA=function(c,{uSize:l,uSizeT:u},{lowerSize:m,upperSize:y}){return c.kind==="source"?m/No:c.kind==="composite"?an.number(m/No,y/No,u):l},o.aB=function(c,l){var u=l[0],m=l[1],y=l[2],b=l[3],k=l[4],A=l[5],I=l[6],R=l[7],B=l[8],V=l[9],W=l[10],q=l[11],J=l[12],ee=l[13],ne=l[14],le=l[15],_e=u*A-m*k,he=u*I-y*k,de=u*R-b*k,be=m*I-y*A,Te=m*R-b*A,Ne=y*R-b*I,et=B*ee-V*J,Ze=B*ne-W*J,at=B*le-q*J,pt=V*ne-W*ee,st=V*le-q*ee,Ke=W*le-q*ne,Xe=_e*Ke-he*st+de*pt+be*at-Te*Ze+Ne*et;return Xe?(c[0]=(A*Ke-I*st+R*pt)*(Xe=1/Xe),c[1]=(y*st-m*Ke-b*pt)*Xe,c[2]=(ee*Ne-ne*Te+le*be)*Xe,c[3]=(W*Te-V*Ne-q*be)*Xe,c[4]=(I*at-k*Ke-R*Ze)*Xe,c[5]=(u*Ke-y*at+b*Ze)*Xe,c[6]=(ne*de-J*Ne-le*he)*Xe,c[7]=(B*Ne-W*de+q*he)*Xe,c[8]=(k*st-A*at+R*et)*Xe,c[9]=(m*at-u*st-b*et)*Xe,c[10]=(J*Te-ee*de+le*_e)*Xe,c[11]=(V*de-B*Te-q*_e)*Xe,c[12]=(A*Ze-k*pt-I*et)*Xe,c[13]=(u*pt-m*Ze+y*et)*Xe,c[14]=(ee*he-J*be-ne*_e)*Xe,c[15]=(B*be-V*he+W*_e)*Xe,c):null},o.aC=$e,o.aD=function(c){var l=c[0],u=c[1];return Math.sqrt(l*l+u*u)},o.aE=function(c){return c[0]=0,c[1]=0,c},o.aF=function(c,l,u){return c[0]=l[0]*u,c[1]=l[1]*u,c},o.aG=ov,o.aH=Be,o.aI=function(c,l,u,m){const y=l.y-c.y,b=l.x-c.x,k=m.y-u.y,A=m.x-u.x,I=k*b-A*y;if(I===0)return null;const R=(A*(c.y-u.y)-k*(c.x-u.x))/I;return new d(c.x+R*b,c.y+R*y)},o.aJ=yS,o.aK=Bc,o.aL=function(c){let l=1/0,u=1/0,m=-1/0,y=-1/0;for(const b of c)l=Math.min(l,b.x),u=Math.min(u,b.y),m=Math.max(m,b.x),y=Math.max(y,b.y);return[l,u,m,y]},o.aM=ca,o.aN=Ae,o.aO=function(c,l,u,m,y=!1){if(!u[0]&&!u[1])return[0,0];const b=y?m==="map"?-c.bearingInRadians:0:m==="viewport"?c.bearingInRadians:0;if(b){const k=Math.sin(b),A=Math.cos(b);u=[u[0]*A-u[1]*k,u[0]*k+u[1]*A]}return[y?u[0]:Ae(l,u[0],c.zoom),y?u[1]:Ae(l,u[1],c.zoom)]},o.aQ=sv,o.aR=Ev,o.aS=rv,o.aT=Iv,o.aU=Dn,o.aV=Wg,o.aW=fe,o.aX=mt,o.aY=We,o.aZ=Mi,o.a_=zk,o.aa=Qh,o.ab=25,o.ac=dv,o.ad=c=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((u=>{l.onloadstart=()=>{u(l)};for(const m of c){const y=window.document.createElement("source");Je(m)||(l.crossOrigin="Anonymous"),y.src=m,l.appendChild(y)}}))},o.ae=it,o.af=function(){return Jt++},o.ag=v,o.ah=Wc,o.ai=rp,o.aj=Ph,o.ak=oo,o.al=jk,o.am=function(c){const l={};if(c.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((u,m,y,b)=>{const k=y||b;return l[m]=!k||k.toLowerCase(),""})),l["max-age"]){const u=parseInt(l["max-age"],10);isNaN(u)?delete l["max-age"]:l["max-age"]=u}return l},o.an=Tt,o.ao=85.051129,o.ap=Ya,o.aq=function(c){return Math.pow(2,c)},o.ar=U,o.as=Ik,o.at=function(c){return Math.log(c)/Math.LN2},o.au=function(c){var l=c[0],u=c[1];return l*l+u*u},o.av=function(c){if(!c.length)return new Set;const l=Math.max(...c.map((I=>I.canonical.z)));let u=1/0,m=-1/0,y=1/0,b=-1/0;const k=[];for(const I of c){const{x:R,y:B,z:V}=I.canonical,W=Math.pow(2,l-V),q=R*W,J=B*W;k.push({id:I,x:q,y:J}),q<u&&(u=q),q>m&&(m=q),J<y&&(y=J),J>b&&(b=J)}const A=new Set;for(const I of k)I.x!==u&&I.x!==m&&I.y!==y&&I.y!==b||A.add(I.id);return A},o.aw=function(c,l){const u=Math.abs(2*c.wrap)-+(c.wrap<0),m=Math.abs(2*l.wrap)-+(l.wrap<0);return c.overscaledZ-l.overscaledZ||m-u||l.canonical.y-c.canonical.y||l.canonical.x-c.canonical.x},o.ax=class{constructor(c,l){this.max=c,this.onRemove=l,this.reset()}reset(){for(const c in this.data)for(const l of this.data[c])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(c,l,u){const m=c.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const y={value:l,timeout:void 0};if(u!==void 0&&(y.timeout=setTimeout((()=>{this.remove(c,y)}),u)),this.data[m].push(y),this.order.push(m),this.order.length>this.max){const b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this}has(c){return c.wrapped().key in this.data}getAndRemove(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null}_getAndRemoveByKey(c){const l=this.data[c].shift();return l.timeout&&clearTimeout(l.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),l.value}getByKey(c){const l=this.data[c];return l?l[0].value:null}get(c){return this.has(c)?this.data[c.wrapped().key][0].value:null}remove(c,l){if(!this.has(c))return this;const u=c.wrapped().key,m=l===void 0?0:this.data[u].indexOf(l),y=this.data[u][m];return this.data[u].splice(m,1),y.timeout&&clearTimeout(y.timeout),this.data[u].length===0&&delete this.data[u],this.onRemove(y.value),this.order.splice(this.order.indexOf(u),1),this}setMaxSize(c){for(this.max=c;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(c){const l=[];for(const u in this.data)for(const m of this.data[u])c(m.value)||l.push(m);for(const u of l)this.remove(u.value.tileID,u)}},o.ay=function(c,l){let u=0,m=0;if(c.kind==="constant")m=c.layoutSize;else if(c.kind!=="source"){const{interpolationType:y,minZoom:b,maxZoom:k}=c,A=y?Tt($a.interpolationFactor(y,l,b,k),0,1):0;c.kind==="camera"?m=an.number(c.minSize,c.maxSize,A):u=A}return{uSizeT:u,uSize:m}},o.b=Mn,o.b$=Bo,o.b0=se,o.b1=function(c){var l=new H(3);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l},o.b2=function(c,l,u){return c[0]=l[0]-u[0],c[1]=l[1]-u[1],c[2]=l[2]-u[2],c},o.b3=function(c,l){var u=l[0],m=l[1],y=l[2],b=u*u+m*m+y*y;return b>0&&(b=1/Math.sqrt(b)),c[0]=l[0]*b,c[1]=l[1]*b,c[2]=l[2]*b,c},o.b4=ve,o.b5=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]},o.b6=function(c,l,u){return c[0]=l[0]*u[0],c[1]=l[1]*u[1],c[2]=l[2]*u[2],c[3]=l[3]*u[3],c},o.b7=Y,o.b8=function(c,l,u){const m=l[0]*u[0]+l[1]*u[1]+l[2]*u[2];return m===0?null:(-(c[0]*u[0]+c[1]*u[1]+c[2]*u[2])-u[3])/m},o.b9=Ee,o.bA=function(c,l,u,m){return c[0]=l[0]+u[0]*m,c[1]=l[1]+u[1]*m,c[2]=l[2]+u[2]*m,c},o.bB=Ue,o.bC=function(c,l,u){var m=u[0],y=u[1],b=u[2],k=u[3],A=l[0],I=l[1],R=l[2],B=y*R-b*I,V=b*A-m*R,W=m*I-y*A;return c[0]=A+k*(B+=B)+y*(W+=W)-b*(V+=V),c[1]=I+k*V+b*B-m*W,c[2]=R+k*W+m*V-y*B,c},o.bD=function(c,l,u){const m=(function(I){var R=I[3],B=I[4],V=I[5],W=I[6],q=I[7],J=I[8];return I[0]*(J*B-V*q)+I[1]*(-J*R+V*W)+I[2]*(q*R-B*W)})([c[0],c[1],c[2],l[0],l[1],l[2],u[0],u[1],u[2]]);if(m===0)return null;const y=ve([],[l[0],l[1],l[2]],[u[0],u[1],u[2]]),b=ve([],[u[0],u[1],u[2]],[c[0],c[1],c[2]]),k=ve([],[c[0],c[1],c[2]],[l[0],l[1],l[2]]),A=ce([],y,-c[3]);return se(A,A,ce([],b,-l[3])),se(A,A,ce([],k,-u[3])),ce(A,A,1/m),A},o.bE=cv,o.bF=function(){return new Float64Array(4)},o.bG=function(c,l,u,m){var y=[],b=[];return y[0]=l[0]-u[0],y[1]=l[1]-u[1],y[2]=l[2]-u[2],b[0]=y[0]*Math.cos(m)-y[1]*Math.sin(m),b[1]=y[0]*Math.sin(m)+y[1]*Math.cos(m),b[2]=y[2],c[0]=b[0]+u[0],c[1]=b[1]+u[1],c[2]=b[2]+u[2],c},o.bH=function(c,l,u,m){var y=[],b=[];return y[0]=l[0]-u[0],y[1]=l[1]-u[1],y[2]=l[2]-u[2],b[0]=y[0],b[1]=y[1]*Math.cos(m)-y[2]*Math.sin(m),b[2]=y[1]*Math.sin(m)+y[2]*Math.cos(m),c[0]=b[0]+u[0],c[1]=b[1]+u[1],c[2]=b[2]+u[2],c},o.bI=function(c,l,u,m){var y=[],b=[];return y[0]=l[0]-u[0],y[1]=l[1]-u[1],y[2]=l[2]-u[2],b[0]=y[2]*Math.sin(m)+y[0]*Math.cos(m),b[1]=y[1],b[2]=y[2]*Math.cos(m)-y[0]*Math.sin(m),c[0]=b[0]+u[0],c[1]=b[1]+u[1],c[2]=b[2]+u[2],c},o.bJ=function(c,l,u){var m=Math.sin(u),y=Math.cos(u),b=l[0],k=l[1],A=l[2],I=l[3],R=l[8],B=l[9],V=l[10],W=l[11];return l!==c&&(c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=b*y-R*m,c[1]=k*y-B*m,c[2]=A*y-V*m,c[3]=I*y-W*m,c[8]=b*m+R*y,c[9]=k*m+B*y,c[10]=A*m+V*y,c[11]=I*m+W*y,c},o.bK=function(c,l){const u=ft(c,360),m=ft(l,360),y=m-u,b=m>u?y-360:y+360;return Math.abs(y)<Math.abs(b)?y:b},o.bL=function(c){return c[0]=0,c[1]=0,c[2]=0,c},o.bM=function(c,l,u,m){const y=Math.sqrt(c*c+l*l),b=Math.sqrt(u*u+m*m);c/=y,l/=y,u/=b,m/=b;const k=Math.acos(c*u+l*m);return-l*u+c*m>0?k:-k},o.bN=function(c,l){const u=ft(c,2*Math.PI),m=ft(l,2*Math.PI);return Math.min(Math.abs(u-m),Math.abs(u-m+2*Math.PI),Math.abs(u-m-2*Math.PI))},o.bO=function(){const c={},l=je.$version;for(const u in je.$root){const m=je.$root[u];if(m.required){let y=null;y=u==="version"?l:m.type==="array"?[]:{},y!=null&&(c[u]=y)}}return c},o.bP=He,o.bQ=Pf,o.bR=function c(l,u){if(Array.isArray(l)){if(!Array.isArray(u)||l.length!==u.length)return!1;for(let m=0;m<l.length;m++)if(!c(l[m],u[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&u!==null){if(typeof u!="object"||Object.keys(l).length!==Object.keys(u).length)return!1;for(const m in l)if(!c(l[m],u[m]))return!1;return!0}return l===u},o.bS=function(c){c=c.slice();const l=Object.create(null);for(let u=0;u<c.length;u++)l[c[u].id]=c[u];for(let u=0;u<c.length;u++)"ref"in c[u]&&(c[u]=dn(c[u],l[c[u].ref]));return c},o.bT=function(c,l){if(c.type==="custom")return new ZI(c,l);switch(c.type){case"background":return new YI(c,l);case"circle":return new DE(c,l);case"color-relief":return new jE(c,l);case"fill":return new eI(c,l);case"fill-extrusion":return new dI(c,l);case"heatmap":return new RE(c,l);case"hillshade":return new OE(c,l);case"line":return new xI(c,l);case"raster":return new Nx(c,l);case"symbol":return new Kg(c,l)}},o.bU=c=>c.type==="raster",o.bV=Si,o.bW=function(c,l){if(!c)return[{command:"setStyle",args:[l]}];let u=[];try{if(!Nt(c.version,l.version))return[{command:"setStyle",args:[l]}];Nt(c.center,l.center)||u.push({command:"setCenter",args:[l.center]}),Nt(c.state,l.state)||u.push({command:"setGlobalState",args:[l.state]}),Nt(c.centerAltitude,l.centerAltitude)||u.push({command:"setCenterAltitude",args:[l.centerAltitude]}),Nt(c.zoom,l.zoom)||u.push({command:"setZoom",args:[l.zoom]}),Nt(c.bearing,l.bearing)||u.push({command:"setBearing",args:[l.bearing]}),Nt(c.pitch,l.pitch)||u.push({command:"setPitch",args:[l.pitch]}),Nt(c.roll,l.roll)||u.push({command:"setRoll",args:[l.roll]}),Nt(c.sprite,l.sprite)||u.push({command:"setSprite",args:[l.sprite]}),Nt(c.glyphs,l.glyphs)||u.push({command:"setGlyphs",args:[l.glyphs]}),Nt(c.transition,l.transition)||u.push({command:"setTransition",args:[l.transition]}),Nt(c.light,l.light)||u.push({command:"setLight",args:[l.light]}),Nt(c.terrain,l.terrain)||u.push({command:"setTerrain",args:[l.terrain]}),Nt(c.sky,l.sky)||u.push({command:"setSky",args:[l.sky]}),Nt(c.projection,l.projection)||u.push({command:"setProjection",args:[l.projection]});const m={},y=[];(function(k,A,I,R){let B;for(B in A=A||{},k=k||{})Object.prototype.hasOwnProperty.call(k,B)&&(Object.prototype.hasOwnProperty.call(A,B)||St(B,I,R));for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&(Object.prototype.hasOwnProperty.call(k,B)?Nt(k[B],A[B])||(k[B].type==="geojson"&&A[B].type==="geojson"&&ct(k,A,B)?yi(I,{command:"setGeoJSONSourceData",args:[B,A[B].data]}):Gt(B,A,I,R)):Bt(B,A,I))})(c.sources,l.sources,y,m);const b=[];c.layers&&c.layers.forEach((k=>{"source"in k&&m[k.source]?u.push({command:"removeLayer",args:[k.id]}):b.push(k)})),u=u.concat(y),(function(k,A,I){A=A||[];const R=(k=k||[]).map($t),B=A.map($t),V=k.reduce(Qt,{}),W=A.reduce(Qt,{}),q=R.slice(),J=Object.create(null);let ee,ne,le,_e,he;for(let de=0,be=0;de<R.length;de++)ee=R[de],Object.prototype.hasOwnProperty.call(W,ee)?be++:(yi(I,{command:"removeLayer",args:[ee]}),q.splice(q.indexOf(ee,be),1));for(let de=0,be=0;de<B.length;de++)ee=B[B.length-1-de],q[q.length-1-de]!==ee&&(Object.prototype.hasOwnProperty.call(V,ee)?(yi(I,{command:"removeLayer",args:[ee]}),q.splice(q.lastIndexOf(ee,q.length-be),1)):be++,_e=q[q.length-de],yi(I,{command:"addLayer",args:[W[ee],_e]}),q.splice(q.length-de,0,ee),J[ee]=!0);for(let de=0;de<B.length;de++)if(ee=B[de],ne=V[ee],le=W[ee],!J[ee]&&!Nt(ne,le))if(Nt(ne.source,le.source)&&Nt(ne["source-layer"],le["source-layer"])&&Nt(ne.type,le.type)){for(he in zt(ne.layout,le.layout,I,ee,null,"setLayoutProperty"),zt(ne.paint,le.paint,I,ee,null,"setPaintProperty"),Nt(ne.filter,le.filter)||yi(I,{command:"setFilter",args:[ee,le.filter]}),Nt(ne.minzoom,le.minzoom)&&Nt(ne.maxzoom,le.maxzoom)||yi(I,{command:"setLayerZoomRange",args:[ee,le.minzoom,le.maxzoom]}),ne)Object.prototype.hasOwnProperty.call(ne,he)&&he!=="layout"&&he!=="paint"&&he!=="filter"&&he!=="metadata"&&he!=="minzoom"&&he!=="maxzoom"&&(he.indexOf("paint.")===0?zt(ne[he],le[he],I,ee,he.slice(6),"setPaintProperty"):Nt(ne[he],le[he])||yi(I,{command:"setLayerProperty",args:[ee,he,le[he]]}));for(he in le)Object.prototype.hasOwnProperty.call(le,he)&&!Object.prototype.hasOwnProperty.call(ne,he)&&he!=="layout"&&he!=="paint"&&he!=="filter"&&he!=="metadata"&&he!=="minzoom"&&he!=="maxzoom"&&(he.indexOf("paint.")===0?zt(ne[he],le[he],I,ee,he.slice(6),"setPaintProperty"):Nt(ne[he],le[he])||yi(I,{command:"setLayerProperty",args:[ee,he,le[he]]}))}else yi(I,{command:"removeLayer",args:[ee]}),_e=q[q.lastIndexOf(ee)+1],yi(I,{command:"addLayer",args:[le,_e]})})(b,l.layers,u)}catch(m){console.warn("Unable to compute style diff:",m),u=[{command:"setStyle",args:[l]}]}return u},o.bX=function(c){const l=[],u=c.id;return u===void 0&&l.push({message:`layers.${u}: missing required property "id"`}),c.render===void 0&&l.push({message:`layers.${u}: missing required method "render"`}),c.renderingMode&&c.renderingMode!=="2d"&&c.renderingMode!=="3d"&&l.push({message:`layers.${u}: property "renderingMode" must be either "2d" or "3d"`}),l},o.bY=ti,o.bZ=ui,o.b_=class extends Ja{constructor(c,l){super(c,l),this.current=0}set(c){this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},o.ba=function(c,l,u){return c[0]=l[0]*u,c[1]=l[1]*u,c[2]=l[2]*u,c[3]=l[3]*u,c},o.bb=function(c,l){return c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]},o.bc=Fk,o.bd=Xc,o.be=function(c,l,u,m,y){var b=1/Math.tan(l/2);if(c[0]=b/u,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=b,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[11]=-1,c[12]=0,c[13]=0,c[15]=0,y!=null&&y!==1/0){var k=1/(m-y);c[10]=(y+m)*k,c[14]=2*y*m*k}else c[10]=-1,c[14]=-2*m;return c},o.bf=function(c){var l=new H(16);return l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15],l},o.bg=function(c,l,u){var m=Math.sin(u),y=Math.cos(u),b=l[0],k=l[1],A=l[2],I=l[3],R=l[4],B=l[5],V=l[6],W=l[7];return l!==c&&(c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[0]=b*y+R*m,c[1]=k*y+B*m,c[2]=A*y+V*m,c[3]=I*y+W*m,c[4]=R*y-b*m,c[5]=B*y-k*m,c[6]=V*y-A*m,c[7]=W*y-I*m,c},o.bh=function(c,l,u){var m=Math.sin(u),y=Math.cos(u),b=l[4],k=l[5],A=l[6],I=l[7],R=l[8],B=l[9],V=l[10],W=l[11];return l!==c&&(c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15]),c[4]=b*y+R*m,c[5]=k*y+B*m,c[6]=A*y+V*m,c[7]=I*y+W*m,c[8]=R*y-b*m,c[9]=B*y-k*m,c[10]=V*y-A*m,c[11]=W*y-I*m,c},o.bi=function(){const c=new Float32Array(16);return U(c),c},o.bj=function(){const c=new Float64Array(16);return U(c),c},o.bk=function(){return new Float64Array(16)},o.bl=function(c,l,u){const m=new Float64Array(4);return Ue(m,c,l-90,u),m},o.bm=function(c,l,u,m){var y,b,k,A,I,R=l[0],B=l[1],V=l[2],W=l[3],q=u[0],J=u[1],ee=u[2],ne=u[3];return(b=R*q+B*J+V*ee+W*ne)<0&&(b=-b,q=-q,J=-J,ee=-ee,ne=-ne),1-b>N?(y=Math.acos(b),k=Math.sin(y),A=Math.sin((1-m)*y)/k,I=Math.sin(m*y)/k):(A=1-m,I=m),c[0]=A*R+I*q,c[1]=A*B+I*J,c[2]=A*V+I*ee,c[3]=A*W+I*ne,c},o.bn=function(c){const l=new Float64Array(9);(function(b,k){var A=k[0],I=k[1],R=k[2],B=k[3],V=A+A,W=I+I,q=R+R,J=A*V,ee=I*V,ne=I*W,le=R*V,_e=R*W,he=R*q,de=B*V,be=B*W,Te=B*q;b[0]=1-ne-he,b[3]=ee-Te,b[6]=le+be,b[1]=ee+Te,b[4]=1-J-he,b[7]=_e-de,b[2]=le-be,b[5]=_e+de,b[8]=1-J-ne})(l,c);const u=Mi(-Math.asin(Tt(l[2],-1,1)));let m,y;return Math.hypot(l[5],l[8])<.001?(m=0,y=-Mi(Math.atan2(l[3],l[4]))):(m=Mi(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),y=Mi(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:m,pitch:u+90,bearing:y}},o.bo=function(c,l){return c.roll==l.roll&&c.pitch==l.pitch&&c.bearing==l.bearing},o.bp=ai,o.bq=Oo,o.br=Hc,o.bs=Zf,o.bt=Vc,o.bu=Dt,o.bv=Yt,o.bw=Na,o.bx=function(c,l,u,m,y){return Dt(m,y,Tt((c-l)/(u-l),0,1))},o.by=ft,o.bz=function(){return new Float64Array(3)},o.c=Me,o.c$=function(c,l,u,m,y){return a(this,void 0,void 0,(function*(){if(O())try{return yield Oa(c,l,u,m,y)}catch{}return(function(b,k,A,I,R){const B=b.width,V=b.height;Ri&&jn||(Ri=new OffscreenCanvas(B,V),jn=Ri.getContext("2d",{willReadFrequently:!0})),Ri.width=B,Ri.height=V,jn.drawImage(b,0,0,B,V);const W=jn.getImageData(k,A,I,R);return jn.clearRect(0,0,B,V),W.data})(c,l,u,m,y)}))},o.c0=class extends Ja{constructor(c,l){super(c,l),this.current=Ir}set(c){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let l=1;l<16;l++)if(c[l]!==this.current[l]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}},o.c1=Zh,o.c2=class extends Ja{constructor(c,l){super(c,l),this.current=[0,0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2]))}},o.c3=class extends Ja{constructor(c,l){super(c,l),this.current=[0,0]}set(c){c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1]))}},o.c4=X,o.c5=function(c,l){var u=Math.sin(l),m=Math.cos(l);return c[0]=m,c[1]=u,c[2]=0,c[3]=-u,c[4]=m,c[5]=0,c[6]=0,c[7]=0,c[8]=1,c},o.c6=function(c,l,u){var m=l[0],y=l[1],b=l[2];return c[0]=m*u[0]+y*u[3]+b*u[6],c[1]=m*u[1]+y*u[4]+b*u[7],c[2]=m*u[2]+y*u[5]+b*u[8],c},o.c7=function(c,l,u,m,y,b,k){var A=1/(l-u),I=1/(m-y),R=1/(b-k);return c[0]=-2*A,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=-2*I,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=2*R,c[11]=0,c[12]=(l+u)*A,c[13]=(y+m)*I,c[14]=(k+b)*R,c[15]=1,c},o.c8=class extends Ja{constructor(c,l){super(c,l),this.current=new Array}set(c){if(c!=this.current){this.current=c;const l=new Float32Array(4*c.length);for(let u=0;u<c.length;u++)l[4*u]=c[u].r,l[4*u+1]=c[u].g,l[4*u+2]=c[u].b,l[4*u+3]=c[u].a;this.gl.uniform4fv(this.location,l)}}},o.c9=class extends Ja{constructor(c,l){super(c,l),this.current=new Array}set(c){if(c!=this.current){this.current=c;const l=new Float32Array(c);this.gl.uniform1fv(this.location,l)}}},o.cA=function(c,l){return Re[l]&&"touches"in c},o.cB=function(c){return Re[c]||ae[c]},o.cC=function(c,l,u){var m=l[0],y=l[1];return c[0]=u[0]*m+u[4]*y+u[12],c[1]=u[1]*m+u[5]*y+u[13],c},o.cD=function(c,l){const{x:u,y:m}=ip.fromLngLat(l);return!(c<0||c>25||m<0||m>=1||u<0||u>=1)},o.cE=function(c,l){return c[0]=l[0],c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=l[1],c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=l[2],c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c},o.cF=class extends Ec{},o.cG=FD,o.cI=Le,o.cJ=function(c,l){Me.REGISTERED_PROTOCOLS[c]=l},o.cK=function(c){delete Me.REGISTERED_PROTOCOLS[c]},o.cL=function(c,l){const u={};for(let y=0;y<c.length;y++){const b=l&&l[c[y].id]||_g(c[y]);l&&(l[c[y].id]=b);let k=u[b];k||(k=u[b]=[]),k.push(c[y])}const m=[];for(const y in u)m.push(u[y]);return m},o.cM=bt,o.cN=Bk,o.cO=gS,o.cP=xk,o.cQ=function(c){c.bucket.createArrays(),c.bucket.tilePixelRatio=Qe/(512*c.bucket.overscaling),c.bucket.compareText={},c.bucket.iconsNeedLinear=!1;const l=c.bucket.layers[0],u=l.layout,m=l._unevaluatedLayout._values,y={layoutIconSize:m["icon-size"].possiblyEvaluate(new ji(c.bucket.zoom+1),c.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new ji(c.bucket.zoom+1),c.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new ji(18))};if(c.bucket.textSizeData.kind==="composite"){const{minZoom:R,maxZoom:B}=c.bucket.textSizeData;y.compositeTextSizes=[m["text-size"].possiblyEvaluate(new ji(R),c.canonical),m["text-size"].possiblyEvaluate(new ji(B),c.canonical)]}if(c.bucket.iconSizeData.kind==="composite"){const{minZoom:R,maxZoom:B}=c.bucket.iconSizeData;y.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new ji(R),c.canonical),m["icon-size"].possiblyEvaluate(new ji(B),c.canonical)]}const b=u.get("text-line-height")*ca,k=u.get("text-rotation-alignment")!=="viewport"&&u.get("symbol-placement")!=="point",A=u.get("text-keep-upright"),I=u.get("text-size");for(const R of c.bucket.features){const B=u.get("text-font").evaluate(R,{},c.canonical).join(","),V=I.evaluate(R,{},c.canonical),W=y.layoutTextSize.evaluate(R,{},c.canonical),q=y.layoutIconSize.evaluate(R,{},c.canonical),J={horizontal:{},vertical:void 0},ee=R.text;let ne,le=[0,0];if(ee){const de=ee.toString(),be=u.get("text-letter-spacing").evaluate(R,{},c.canonical)*ca,Te=Bx(de)?be:0,Ne=u.get("text-anchor").evaluate(R,{},c.canonical),et=PS(l,R,c.canonical);if(!et){const st=u.get("text-radial-offset").evaluate(R,{},c.canonical);le=st?MS(Ne,[st*ca,Lv]):u.get("text-offset").evaluate(R,{},c.canonical).map((Ke=>Ke*ca))}let Ze=k?"center":u.get("text-justify").evaluate(R,{},c.canonical);const at=u.get("symbol-placement")==="point"?u.get("text-max-width").evaluate(R,{},c.canonical)*ca:1/0,pt=()=>{c.bucket.allowVerticalPlacement&&Ll(de)&&(J.vertical=Yg(ee,c.glyphMap,c.glyphPositions,c.imagePositions,B,at,b,Ne,"left",Te,le,o.az.vertical,!0,W,V))};if(!k&&et){const st=new Set;if(Ze==="auto")for(let Xe=0;Xe<et.values.length;Xe+=2)st.add(Ev(et.values[Xe]));else st.add(Ze);let Ke=!1;for(const Xe of st)if(!J.horizontal[Xe])if(Ke)J.horizontal[Xe]=J.horizontal[0];else{const vt=Yg(ee,c.glyphMap,c.glyphPositions,c.imagePositions,B,at,b,"center",Xe,Te,le,o.az.horizontal,!1,W,V);vt&&(J.horizontal[Xe]=vt,Ke=vt.positionedLines.length===1)}pt()}else{Ze==="auto"&&(Ze=Ev(Ne));const st=Yg(ee,c.glyphMap,c.glyphPositions,c.imagePositions,B,at,b,Ne,Ze,Te,le,o.az.horizontal,!1,W,V);st&&(J.horizontal[Ze]=st),pt(),Ll(de)&&k&&A&&(J.vertical=Yg(ee,c.glyphMap,c.glyphPositions,c.imagePositions,B,at,b,Ne,Ze,Te,le,o.az.vertical,!1,W,V))}}let _e=!1;if(R.icon&&R.icon.name){const de=c.imageMap[R.icon.name];de&&(ne=UI(c.imagePositions[R.icon.name],u.get("icon-offset").evaluate(R,{},c.canonical),u.get("icon-anchor").evaluate(R,{},c.canonical)),_e=!!de.sdf,c.bucket.sdfIcons===void 0?c.bucket.sdfIcons=_e:c.bucket.sdfIcons!==_e&&Zt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(de.pixelRatio!==c.bucket.pixelRatio||u.get("icon-rotate").constantOr(1)!==0)&&(c.bucket.iconsNeedLinear=!0))}const he=ES(J.horizontal)||J.vertical;c.bucket.iconsInText=!!he&&he.iconsInText,(he||ne)&&zD(c.bucket,R,J,ne,c.imageMap,y,W,q,le,_e,c.canonical,c.subdivisionGranularity)}c.showCollisionBoxes&&c.bucket.generateCollisionDebugBuffers()},o.cR=Qx,o.cS=tv,o.cT=iv,o.cU=function(c){const l=new qg;return(function(u,m){for(const y in u.layers)m.writeMessage(3,vD,u.layers[y])})(c,l),l.finish()},o.cV=function(c,l,u,m,y,b){let k=xS(c,l,u,y,0);return k=xS(k,l,m,b,1),k},o.cW=class{constructor(c){this.maxEntries=c,this.map=new Map}get(c){const l=this.map.get(c);return l!==void 0&&(this.map.delete(c),this.map.set(c,l)),l}set(c,l){if(this.map.has(c))this.map.delete(c);else if(this.map.size>=this.maxEntries){const u=this.map.keys().next().value;this.map.delete(u)}this.map.set(c,l)}clear(){this.map.clear()}},o.cX=tk,o.cY=qg,o.cZ=pS,o.c_=class{constructor(c){this._marks={start:[c.url,"start"].join("#"),end:[c.url,"end"].join("#"),measure:c.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let c=performance.getEntriesByName(this._marks.measure);return c.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),c=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),c}},o.ca=class extends Ro{},o.cb=kI,o.cc=class extends Yh{},o.cd=qx,o.ce=function(c){return c<=1?1:Math.pow(2,Math.ceil(Math.log(c)/Math.LN2))},o.cf=N1,o.cg=function(c,l,u){var m=l[0],y=l[1],b=l[2],k=u[3]*m+u[7]*y+u[11]*b+u[15];return c[0]=(u[0]*m+u[4]*y+u[8]*b+u[12])/(k=k||1),c[1]=(u[1]*m+u[5]*y+u[9]*b+u[13])/k,c[2]=(u[2]*m+u[6]*y+u[10]*b+u[14])/k,c},o.ch=class extends Ff{},o.ci=class extends h{},o.cj=function(c,l){return c[0]===l[0]&&c[1]===l[1]&&c[2]===l[2]&&c[3]===l[3]&&c[4]===l[4]&&c[5]===l[5]&&c[6]===l[6]&&c[7]===l[7]&&c[8]===l[8]&&c[9]===l[9]&&c[10]===l[10]&&c[11]===l[11]&&c[12]===l[12]&&c[13]===l[13]&&c[14]===l[14]&&c[15]===l[15]},o.ck=function(c,l){var u=c[0],m=c[1],y=c[2],b=c[3],k=c[4],A=c[5],I=c[6],R=c[7],B=c[8],V=c[9],W=c[10],q=c[11],J=c[12],ee=c[13],ne=c[14],le=c[15],_e=l[0],he=l[1],de=l[2],be=l[3],Te=l[4],Ne=l[5],et=l[6],Ze=l[7],at=l[8],pt=l[9],st=l[10],Ke=l[11],Xe=l[12],vt=l[13],xt=l[14],kt=l[15];return Math.abs(u-_e)<=N*Math.max(1,Math.abs(u),Math.abs(_e))&&Math.abs(m-he)<=N*Math.max(1,Math.abs(m),Math.abs(he))&&Math.abs(y-de)<=N*Math.max(1,Math.abs(y),Math.abs(de))&&Math.abs(b-be)<=N*Math.max(1,Math.abs(b),Math.abs(be))&&Math.abs(k-Te)<=N*Math.max(1,Math.abs(k),Math.abs(Te))&&Math.abs(A-Ne)<=N*Math.max(1,Math.abs(A),Math.abs(Ne))&&Math.abs(I-et)<=N*Math.max(1,Math.abs(I),Math.abs(et))&&Math.abs(R-Ze)<=N*Math.max(1,Math.abs(R),Math.abs(Ze))&&Math.abs(B-at)<=N*Math.max(1,Math.abs(B),Math.abs(at))&&Math.abs(V-pt)<=N*Math.max(1,Math.abs(V),Math.abs(pt))&&Math.abs(W-st)<=N*Math.max(1,Math.abs(W),Math.abs(st))&&Math.abs(q-Ke)<=N*Math.max(1,Math.abs(q),Math.abs(Ke))&&Math.abs(J-Xe)<=N*Math.max(1,Math.abs(J),Math.abs(Xe))&&Math.abs(ee-vt)<=N*Math.max(1,Math.abs(ee),Math.abs(vt))&&Math.abs(ne-xt)<=N*Math.max(1,Math.abs(ne),Math.abs(xt))&&Math.abs(le-kt)<=N*Math.max(1,Math.abs(le),Math.abs(kt))},o.cl=function(c,l){return c[0]=l[0],c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=l[6],c[7]=l[7],c[8]=l[8],c[9]=l[9],c[10]=l[10],c[11]=l[11],c[12]=l[12],c[13]=l[13],c[14]=l[14],c[15]=l[15],c},o.cm=c=>c.type==="symbol",o.cn=c=>c.type==="circle",o.co=c=>c.type==="heatmap",o.cp=c=>c.type==="line",o.cq=c=>c.type==="fill",o.cr=c=>c.type==="fill-extrusion",o.cs=c=>c.type==="hillshade",o.ct=c=>c.type==="color-relief",o.cu=c=>c.type==="background",o.cv=c=>c.type==="custom",o.cw=wt,o.cx=function(c,l,u){const m=nt(l.x-u.x,l.y-u.y),y=nt(c.x-u.x,c.y-u.y),b=Math.atan2(m[0]*y[1]-m[1]*y[0],(function(k,A){return k[0]*A[0]+k[1]*A[1]})(m,y));return Mi(b)},o.cy=Rt,o.cz=function(c,l){return ae[l]&&(c instanceof MouseEvent||c instanceof WheelEvent)},o.d=Je,o.d0=H1,o.d1=p,o.d2=class{constructor(c,l){this.layers={[rp]:this},this.name=rp,this.version=l?l.version:1,this.extent=l?l.extent:4096,this.length=c.length,this.features=c}feature(c){return new xD(this.features[c],this.extent)}},o.d3=Mh,o.d4=no,o.e=Et,o.f=c=>a(void 0,void 0,void 0,(function*(){if(c.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(c)],{type:"image/png"});try{return createImageBitmap(l)}catch(u){throw new Error(`Could not load image because of ${u.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),o.g=ze,o.h=c=>new Promise(((l,u)=>{const m=new Image;m.onload=()=>{l(m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame((()=>{m.src=xa}))},m.onerror=()=>u(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const y=new Blob([new Uint8Array(c)],{type:"image/png"});m.src=c.byteLength?URL.createObjectURL(y):xa})),o.i=cn,o.j=(c,l)=>tt(Et(c,{type:"json"}),l),o.k=li,o.l=Vt,o.m=tt,o.n=(c,l)=>tt(Et(c,{type:"arrayBuffer"}),l),o.o=function(c){return new qg(c).readFields(OI,[])},o.p=yk,o.q=function(c){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(c))},o.r=Uf,o.s=Ba,o.t=Va,o.u=je,o.v=Fh,o.w=Zt,o.x=zf,o.y=Oh,o.z=$h})),n("worker",["./shared"],(function(o){class a{constructor(ae,re){this.keyCache={},ae&&this.replace(ae,re)}replace(ae,re){this._layerConfigs={},this._layers={},this.update(ae,[],re)}update(ae,re,ue){for(const Me of ae){this._layerConfigs[Me.id]=Me;const ze=this._layers[Me.id]=o.bT(Me,ue);ze._featureFilter=o.aj(ze.filter,ue),this.keyCache[Me.id]&&delete this.keyCache[Me.id]}for(const Me of re)delete this.keyCache[Me],delete this._layerConfigs[Me],delete this._layers[Me];this.familiesBySource={};const ke=o.cL(Object.values(this._layerConfigs),this.keyCache);for(const Me of ke){const ze=Me.map((_t=>this._layers[_t.id])),Fe=ze[0];if(Fe.isHidden())continue;const Le=Fe.source||"";let He=this.familiesBySource[Le];He||(He=this.familiesBySource[Le]={});const tt=Fe.sourceLayer||o.ai;let Je=He[tt];Je||(Je=He[tt]=[]),Je.push(ze)}}}class d{constructor(ae){const re={},ue=[];for(const Fe in ae){const Le=ae[Fe],He=re[Fe]={};for(const tt in Le){const Je=Le[+tt];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const _t={x:0,y:0,w:Je.bitmap.width+2,h:Je.bitmap.height+2};ue.push(_t),He[tt]={rect:_t,metrics:Je.metrics}}}const{w:ke,h:Me}=o.p(ue),ze=new o.r({width:ke||1,height:Me||1});for(const Fe in ae){const Le=ae[Fe];for(const He in Le){const tt=Le[+He];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;const Je=re[Fe][He].rect;o.r.copy(tt.bitmap,ze,{x:0,y:0},{x:Je.x+1,y:Je.y+1},tt.bitmap)}}this.image=ze,this.positions=re}}o.cM("GlyphAtlas",d);class p{constructor(ae){this.tileID=new o.a2(ae.tileID.overscaledZ,ae.tileID.wrap,ae.tileID.canonical.z,ae.tileID.canonical.x,ae.tileID.canonical.y),this.uid=ae.uid,this.zoom=ae.zoom,this.pixelRatio=ae.pixelRatio,this.tileSize=ae.tileSize,this.source=ae.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ae.showCollisionBoxes,this.collectResourceTiming=!!ae.collectResourceTiming,this.returnDependencies=!!ae.returnDependencies,this.promoteId=ae.promoteId,this.inFlightDependencies=[]}parse(ae,re,ue,ke,Me){return o._(this,void 0,void 0,(function*(){this.status="parsing",this.data=ae,this.collisionBoxArray=new o.ag;const ze=new o.cN(Object.keys(ae.layers).sort()),Fe=new o.cO(this.tileID,this.promoteId);Fe.bucketLayerIDs=[];const Le={},He={featureIndex:Fe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:ue,subdivisionGranularity:Me},tt=re.familiesBySource[this.source];for(const ct in tt){const zt=ae.layers[ct];if(!zt)continue;zt.version===1&&o.w(`Vector tile source "${this.source}" layer "${ct}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const $t=ze.encode(ct),Qt=[];for(let it=0;it<zt.length;it++){const qt=zt.feature(it),fi=Fe.getId(qt,ct);Qt.push({feature:qt,id:fi,index:it,sourceLayerIndex:$t})}for(const it of tt[ct]){const qt=it[0];qt.source!==this.source&&o.w(`layer.source = ${qt.source} does not equal this.source = ${this.source}`),qt.isHidden(this.zoom,!0)||(g(it,this.zoom,ue),(Le[qt.id]=qt.createBucket({index:Fe.bucketLayerIDs.length,layers:it,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:$t,sourceID:this.source})).populate(Qt,He,this.tileID.canonical),Fe.bucketLayerIDs.push(it.map((fi=>fi.id))))}}const Je=o.bY(He.glyphDependencies,(ct=>Object.keys(ct).map(Number)));this.inFlightDependencies.forEach((ct=>ct?.abort())),this.inFlightDependencies=[];let _t=Promise.resolve({});if(Object.keys(Je).length){const ct=new AbortController;this.inFlightDependencies.push(ct),_t=ke.sendAsync({type:"GG",data:{stacks:Je,source:this.source,tileID:this.tileID,type:"glyphs"}},ct)}const ht=Object.keys(He.iconDependencies);let Vt=Promise.resolve({});if(ht.length){const ct=new AbortController;this.inFlightDependencies.push(ct),Vt=ke.sendAsync({type:"GI",data:{icons:ht,source:this.source,tileID:this.tileID,type:"icons"}},ct)}const li=Object.keys(He.patternDependencies);let ii=Promise.resolve({});if(li.length){const ct=new AbortController;this.inFlightDependencies.push(ct),ii=ke.sendAsync({type:"GI",data:{icons:li,source:this.source,tileID:this.tileID,type:"patterns"}},ct)}const je=He.dashDependencies;let _i=Promise.resolve({});if(Object.keys(je).length){const ct=new AbortController;this.inFlightDependencies.push(ct),_i=ke.sendAsync({type:"GDA",data:{dashes:je}},ct)}const[dn,Nt,yi,Bt]=yield Promise.all([_t,Vt,ii,_i]),St=new d(dn),Gt=new o.cP(Nt,yi);for(const ct in Le){const zt=Le[ct];zt instanceof o.ah?(g(zt.layers,this.zoom,ue),o.cQ({bucket:zt,glyphMap:dn,glyphPositions:St.positions,imageMap:Nt,imagePositions:Gt.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:He.subdivisionGranularity})):zt.hasDependencies&&(zt instanceof o.cR||zt instanceof o.cS||zt instanceof o.cT)&&(g(zt.layers,this.zoom,ue),zt.addFeatures(He,this.tileID.canonical,Gt.patternPositions,Bt))}return this.status="done",{buckets:Object.values(Le).filter((ct=>!ct.isEmpty())),featureIndex:Fe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:St.image,imageAtlas:Gt,dashPositions:Bt,glyphMap:this.returnDependencies?dn:null,iconMap:this.returnDependencies?Nt:null,glyphPositions:this.returnDependencies?St.positions:null}}))}}function g(Re,ae,re){const ue=new o.H(ae);for(const ke of Re)ke.recalculate(ue,re)}class x{constructor(ae,re,ue,ke,Me){this.type=ae,this.properties=ue||{},this.extent=Me,this.pointsArray=re,this.id=ke}loadGeometry(){return this.pointsArray.map((ae=>ae.map((re=>new o.P(re.x,re.y)))))}}class w{constructor(ae,re,ue){this.version=2,this._myFeatures=ae,this.name=re,this.length=ae.length,this.extent=ue}feature(ae){return this._myFeatures[ae]}}class S{constructor(){this.layers={}}addLayer(ae){this.layers[ae.name]=ae}}function E(Re){let ae=o.cU(Re);return ae.byteOffset===0&&ae.byteLength===ae.buffer.byteLength||(ae=new Uint8Array(ae)),{vectorTile:Re,rawData:ae.buffer}}function M(Re,ae,re){const{extent:ue}=Re,ke=Math.pow(2,re.z-ae.z),Me=(re.x-ae.x*ke)*ue,ze=(re.y-ae.y*ke)*ue,Fe=[];for(let Le=0;Le<Re.length;Le++){const He=Re.feature(Le);let tt=He.loadGeometry();for(const _t of tt)for(const ht of _t)ht.x=ht.x*ke-Me,ht.y=ht.y*ke-ze;const Je=128;tt=o.cV(tt,He.type,-Je,-Je,ue+Je,ue+Je),tt.length!==0&&Fe.push(new x(He.type,tt,He.properties,He.id,ue))}return new w(Fe,Re.name,ue)}class D{constructor(ae,re,ue){this.actor=ae,this.layerIndex=re,this.availableImages=ue,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new o.cW(1e3)}loadVectorTile(ae,re){return o._(this,void 0,void 0,(function*(){const ue=yield o.n(ae.request,re);try{return{vectorTile:ae.encoding!=="mlt"?new o.cX(new o.cY(ue.data)):new o.cZ(ue.data),rawData:ue.data,cacheControl:ue.cacheControl,expires:ue.expires}}catch(ke){const Me=new Uint8Array(ue.data);let ze=`Unable to parse the tile at ${ae.request.url}, `;throw ze+=Me[0]===31&&Me[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ke.message}`,new Error(ze)}}))}loadTile(ae){return o._(this,void 0,void 0,(function*(){const{uid:re,overzoomParameters:ue}=ae;ue&&(ae.request=ue.overzoomRequest);const ke=!!(ae&&ae.request&&ae.request.collectResourceTiming)&&new o.c_(ae.request),Me=new p(ae);this.loading[re]=Me;const ze=new AbortController;Me.abort=ze;try{const Fe=yield this.loadVectorTile(ae,ze);if(delete this.loading[re],!Fe)return null;if(ue){const _t=this._getOverzoomTile(ae,Fe.vectorTile);Fe.rawData=_t.rawData,Fe.vectorTile=_t.vectorTile}const Le=Fe.rawData,He={};Fe.expires&&(He.expires=Fe.expires),Fe.cacheControl&&(He.cacheControl=Fe.cacheControl);const tt={};if(ke){const _t=ke.finish();_t&&(tt.resourceTiming=JSON.parse(JSON.stringify(_t)))}Me.vectorTile=Fe.vectorTile;const Je=Me.parse(Fe.vectorTile,this.layerIndex,this.availableImages,this.actor,ae.subdivisionGranularity);this.loaded[re]=Me,this.fetching[re]={rawTileData:Le,cacheControl:He,resourceTiming:tt};try{const _t=yield Je;return o.e({rawTileData:Le.slice(0),encoding:ae.encoding},_t,He,tt)}finally{delete this.fetching[re]}}catch(Fe){throw delete this.loading[re],Me.status="done",this.loaded[re]=Me,Fe}}))}_getOverzoomTile(ae,re){const{tileID:ue,source:ke,overzoomParameters:Me}=ae,{maxZoomTileID:ze}=Me,Fe=`${ze.key}_${ue.key}`,Le=this.overzoomedTileResultCache.get(Fe);if(Le)return Le;const He=new S,tt=this.layerIndex.familiesBySource[ke];for(const _t in tt){const ht=re.layers[_t];if(!ht)continue;const Vt=M(ht,ze,ue.canonical);Vt.length>0&&He.addLayer(Vt)}const Je=E(He);return this.overzoomedTileResultCache.set(Fe,Je),Je}reloadTile(ae){return o._(this,void 0,void 0,(function*(){const re=ae.uid;if(!this.loaded||!this.loaded[re])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const ue=this.loaded[re];if(ue.showCollisionBoxes=ae.showCollisionBoxes,ue.status==="parsing"){const ke=yield ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,ae.subdivisionGranularity);let Me;if(this.fetching[re]){const{rawTileData:ze,cacheControl:Fe,resourceTiming:Le}=this.fetching[re];delete this.fetching[re],Me=o.e({rawTileData:ze.slice(0),encoding:ae.encoding},ke,Fe,Le)}else Me=ke;return Me}if(ue.status==="done"&&ue.vectorTile)return ue.parse(ue.vectorTile,this.layerIndex,this.availableImages,this.actor,ae.subdivisionGranularity)}))}abortTile(ae){return o._(this,void 0,void 0,(function*(){const re=this.loading,ue=ae.uid;re&&re[ue]&&re[ue].abort&&(re[ue].abort.abort(),delete re[ue])}))}removeTile(ae){return o._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[ae.uid]&&delete this.loaded[ae.uid]}))}}class O{constructor(){this.loaded={}}loadTile(ae){return o._(this,void 0,void 0,(function*(){const{uid:re,encoding:ue,rawImageData:ke,redFactor:Me,greenFactor:ze,blueFactor:Fe,baseShift:Le}=ae,He=ke.width+2,tt=ke.height+2,Je=o.b(ke)?new o.R({width:He,height:tt},yield o.c$(ke,-1,-1,He,tt)):ke,_t=new o.d0(re,Je,ue,Me,ze,Fe,Le);return this.loaded=this.loaded||{},this.loaded[re]=_t,_t}))}removeTile(ae){const re=this.loaded,ue=ae.uid;re&&re[ue]&&delete re[ue]}}var N,H,X=(function(){if(H)return N;function Re(re,ue){if(re.length!==0){ae(re[0],ue);for(var ke=1;ke<re.length;ke++)ae(re[ke],!ue)}}function ae(re,ue){for(var ke=0,Me=0,ze=0,Fe=re.length,Le=Fe-1;ze<Fe;Le=ze++){var He=(re[ze][0]-re[Le][0])*(re[Le][1]+re[ze][1]),tt=ke+He;Me+=Math.abs(ke)>=Math.abs(He)?ke-tt+He:He-tt+ke,ke=tt}ke+Me>=0!=!!ue&&re.reverse()}return H=1,N=function re(ue,ke){var Me,ze=ue&&ue.type;if(ze==="FeatureCollection")for(Me=0;Me<ue.features.length;Me++)re(ue.features[Me],ke);else if(ze==="GeometryCollection")for(Me=0;Me<ue.geometries.length;Me++)re(ue.geometries[Me],ke);else if(ze==="Feature")re(ue.geometry,ke);else if(ze==="Polygon")Re(ue.coordinates,ke);else if(ze==="MultiPolygon")for(Me=0;Me<ue.coordinates.length;Me++)Re(ue.coordinates[Me],ke);return ue}})(),U=o.d1(X);const Q={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},Y=Math.fround||(te=new Float32Array(1),Re=>(te[0]=+Re,te[0]));var te;class se{constructor(ae){this.options=Object.assign(Object.create(Q),ae),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ae){const{log:re,minZoom:ue,maxZoom:ke}=this.options;re&&console.time("total time");const Me=`prepare ${ae.length} points`;re&&console.time(Me),this.points=ae;const ze=[];for(let Le=0;Le<ae.length;Le++){const He=ae[Le];if(!He.geometry)continue;const[tt,Je]=He.geometry.coordinates,_t=Y(xe(tt)),ht=Y(Ee(Je));ze.push(_t,ht,1/0,Le,-1,1),this.options.reduce&&ze.push(0)}let Fe=this.trees[ke+1]=this._createTree(ze);re&&console.timeEnd(Me);for(let Le=ke;Le>=ue;Le--){const He=+Date.now();Fe=this.trees[Le]=this._createTree(this._cluster(Fe,Le)),re&&console.log("z%d: %d clusters in %dms",Le,Fe.numItems,+Date.now()-He)}return re&&console.timeEnd("total time"),this}getClusters(ae,re){let ue=((ae[0]+180)%360+360)%360-180;const ke=Math.max(-90,Math.min(90,ae[1]));let Me=ae[2]===180?180:((ae[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,ae[3]));if(ae[2]-ae[0]>=360)ue=-180,Me=180;else if(ue>Me){const Je=this.getClusters([ue,ke,180,ze],re),_t=this.getClusters([-180,ke,Me,ze],re);return Je.concat(_t)}const Fe=this.trees[this._limitZoom(re)],Le=Fe.range(xe(ue),Ee(ze),xe(Me),Ee(ke)),He=Fe.data,tt=[];for(const Je of Le){const _t=this.stride*Je;tt.push(He[_t+5]>1?ce(He,_t,this.clusterProps):this.points[He[_t+3]])}return tt}getChildren(ae){const re=this._getOriginId(ae),ue=this._getOriginZoom(ae),ke="No cluster with the specified id.",Me=this.trees[ue];if(!Me)throw new Error(ke);const ze=Me.data;if(re*this.stride>=ze.length)throw new Error(ke);const Fe=this.options.radius/(this.options.extent*Math.pow(2,ue-1)),Le=Me.within(ze[re*this.stride],ze[re*this.stride+1],Fe),He=[];for(const tt of Le){const Je=tt*this.stride;ze[Je+4]===ae&&He.push(ze[Je+5]>1?ce(ze,Je,this.clusterProps):this.points[ze[Je+3]])}if(He.length===0)throw new Error(ke);return He}getLeaves(ae,re,ue){const ke=[];return this._appendLeaves(ke,ae,re=re||10,ue=ue||0,0),ke}getTile(ae,re,ue){const ke=this.trees[this._limitZoom(ae)],Me=Math.pow(2,ae),{extent:ze,radius:Fe}=this.options,Le=Fe/ze,He=(ue-Le)/Me,tt=(ue+1+Le)/Me,Je={features:[]};return this._addTileFeatures(ke.range((re-Le)/Me,He,(re+1+Le)/Me,tt),ke.data,re,ue,Me,Je),re===0&&this._addTileFeatures(ke.range(1-Le/Me,He,1,tt),ke.data,Me,ue,Me,Je),re===Me-1&&this._addTileFeatures(ke.range(0,He,Le/Me,tt),ke.data,-1,ue,Me,Je),Je.features.length?Je:null}getClusterExpansionZoom(ae){let re=this._getOriginZoom(ae)-1;for(;re<=this.options.maxZoom;){const ue=this.getChildren(ae);if(re++,ue.length!==1)break;ae=ue[0].properties.cluster_id}return re}_appendLeaves(ae,re,ue,ke,Me){const ze=this.getChildren(re);for(const Fe of ze){const Le=Fe.properties;if(Le&&Le.cluster?Me+Le.point_count<=ke?Me+=Le.point_count:Me=this._appendLeaves(ae,Le.cluster_id,ue,ke,Me):Me<ke?Me++:ae.push(Fe),ae.length===ue)break}return Me}_createTree(ae){const re=new o.aT(ae.length/this.stride|0,this.options.nodeSize,Float32Array);for(let ue=0;ue<ae.length;ue+=this.stride)re.add(ae[ue],ae[ue+1]);return re.finish(),re.data=ae,re}_addTileFeatures(ae,re,ue,ke,Me,ze){for(const Fe of ae){const Le=Fe*this.stride,He=re[Le+5]>1;let tt,Je,_t;if(He)tt=ve(re,Le,this.clusterProps),Je=re[Le],_t=re[Le+1];else{const li=this.points[re[Le+3]];tt=li.properties;const[ii,je]=li.geometry.coordinates;Je=xe(ii),_t=Ee(je)}const ht={type:1,geometry:[[Math.round(this.options.extent*(Je*Me-ue)),Math.round(this.options.extent*(_t*Me-ke))]],tags:tt};let Vt;Vt=He||this.options.generateId?re[Le+3]:this.points[re[Le+3]].id,Vt!==void 0&&(ht.id=Vt),ze.features.push(ht)}}_limitZoom(ae){return Math.max(this.options.minZoom,Math.min(Math.floor(+ae),this.options.maxZoom+1))}_cluster(ae,re){const{radius:ue,extent:ke,reduce:Me,minPoints:ze}=this.options,Fe=ue/(ke*Math.pow(2,re)),Le=ae.data,He=[],tt=this.stride;for(let Je=0;Je<Le.length;Je+=tt){if(Le[Je+2]<=re)continue;Le[Je+2]=re;const _t=Le[Je],ht=Le[Je+1],Vt=ae.within(Le[Je],Le[Je+1],Fe),li=Le[Je+5];let ii=li;for(const je of Vt){const _i=je*tt;Le[_i+2]>re&&(ii+=Le[_i+5])}if(ii>li&&ii>=ze){let je,_i=_t*li,dn=ht*li,Nt=-1;const yi=(Je/tt<<5)+(re+1)+this.points.length;for(const Bt of Vt){const St=Bt*tt;if(Le[St+2]<=re)continue;Le[St+2]=re;const Gt=Le[St+5];_i+=Le[St]*Gt,dn+=Le[St+1]*Gt,Le[St+4]=yi,Me&&(je||(je=this._map(Le,Je,!0),Nt=this.clusterProps.length,this.clusterProps.push(je)),Me(je,this._map(Le,St)))}Le[Je+4]=yi,He.push(_i/ii,dn/ii,1/0,yi,-1,ii),Me&&He.push(Nt)}else{for(let je=0;je<tt;je++)He.push(Le[Je+je]);if(ii>1)for(const je of Vt){const _i=je*tt;if(!(Le[_i+2]<=re)){Le[_i+2]=re;for(let dn=0;dn<tt;dn++)He.push(Le[_i+dn])}}}}return He}_getOriginId(ae){return ae-this.points.length>>5}_getOriginZoom(ae){return(ae-this.points.length)%32}_map(ae,re,ue){if(ae[re+5]>1){const ze=this.clusterProps[ae[re+6]];return ue?Object.assign({},ze):ze}const ke=this.points[ae[re+3]].properties,Me=this.options.map(ke);return ue&&Me===ke?Object.assign({},Me):Me}}function ce(Re,ae,re){return{type:"Feature",id:Re[ae+3],properties:ve(Re,ae,re),geometry:{type:"Point",coordinates:[(ue=Re[ae],360*(ue-.5)),Be(Re[ae+1])]}};var ue}function ve(Re,ae,re){const ue=Re[ae+5],ke=ue>=1e4?`${Math.round(ue/1e3)}k`:ue>=1e3?Math.round(ue/100)/10+"k":ue,Me=Re[ae+6],ze=Me===-1?{}:Object.assign({},re[Me]);return Object.assign(ze,{cluster:!0,cluster_id:Re[ae+3],point_count:ue,point_count_abbreviated:ke})}function xe(Re){return Re/360+.5}function Ee(Re){const ae=Math.sin(Re*Math.PI/180),re=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return re<0?0:re>1?1:re}function Be(Re){const ae=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(ae))/Math.PI-90}function Oe(Re,ae,re,ue){let ke=ue;const Me=ae+(re-ae>>1);let ze,Fe=re-ae;const Le=Re[ae],He=Re[ae+1],tt=Re[re],Je=Re[re+1];for(let _t=ae+3;_t<re;_t+=3){const ht=Ue(Re[_t],Re[_t+1],Le,He,tt,Je);if(ht>ke)ze=_t,ke=ht;else if(ht===ke){const Vt=Math.abs(_t-Me);Vt<Fe&&(ze=_t,Fe=Vt)}}ke>ue&&(ze-ae>3&&Oe(Re,ae,ze,ue),Re[ze+2]=ke,re-ze>3&&Oe(Re,ze,re,ue))}function Ue(Re,ae,re,ue,ke,Me){let ze=ke-re,Fe=Me-ue;if(ze!==0||Fe!==0){const Le=((Re-re)*ze+(ae-ue)*Fe)/(ze*ze+Fe*Fe);Le>1?(re=ke,ue=Me):Le>0&&(re+=ze*Le,ue+=Fe*Le)}return ze=Re-re,Fe=ae-ue,ze*ze+Fe*Fe}function $e(Re,ae,re,ue){const ke={id:Re??null,type:ae,geometry:re,tags:ue,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ae==="Point"||ae==="MultiPoint"||ae==="LineString")nt(ke,re);else if(ae==="Polygon")nt(ke,re[0]);else if(ae==="MultiLineString")for(const Me of re)nt(ke,Me);else if(ae==="MultiPolygon")for(const Me of re)nt(ke,Me[0]);return ke}function nt(Re,ae){for(let re=0;re<ae.length;re+=3)Re.minX=Math.min(Re.minX,ae[re]),Re.minY=Math.min(Re.minY,ae[re+1]),Re.maxX=Math.max(Re.maxX,ae[re]),Re.maxY=Math.max(Re.maxY,ae[re+1])}function Qe(Re,ae,re,ue){if(!ae.geometry)return;const ke=ae.geometry.coordinates;if(ke&&ke.length===0)return;const Me=ae.geometry.type,ze=Math.pow(re.tolerance/((1<<re.maxZoom)*re.extent),2);let Fe=[],Le=ae.id;if(re.promoteId?Le=ae.properties[re.promoteId]:re.generateId&&(Le=ue||0),Me==="Point")Ae(ke,Fe);else if(Me==="MultiPoint")for(const He of ke)Ae(He,Fe);else if(Me==="LineString")ft(ke,Fe,ze,!1);else if(Me==="MultiLineString"){if(re.lineMetrics){for(const He of ke)Fe=[],ft(He,Fe,ze,!1),Re.push($e(Le,"LineString",Fe,ae.properties));return}Dt(ke,Fe,ze,!1)}else if(Me==="Polygon")Dt(ke,Fe,ze,!0);else{if(Me!=="MultiPolygon"){if(Me==="GeometryCollection"){for(const He of ae.geometry.geometries)Qe(Re,{id:Le,geometry:He,properties:ae.properties},re,ue);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const He of ke){const tt=[];Dt(He,tt,ze,!0),Fe.push(tt)}}Re.push($e(Le,Me,Fe,ae.properties))}function Ae(Re,ae){ae.push(Yt(Re[0]),wt(Re[1]),0)}function ft(Re,ae,re,ue){let ke,Me,ze=0;for(let Le=0;Le<Re.length;Le++){const He=Yt(Re[Le][0]),tt=wt(Re[Le][1]);ae.push(He,tt,0),Le>0&&(ze+=ue?(ke*tt-He*Me)/2:Math.sqrt(Math.pow(He-ke,2)+Math.pow(tt-Me,2))),ke=He,Me=tt}const Fe=ae.length-3;ae[2]=1,Oe(ae,0,Fe,re),ae[Fe+2]=1,ae.size=Math.abs(ze),ae.start=0,ae.end=ae.size}function Dt(Re,ae,re,ue){for(let ke=0;ke<Re.length;ke++){const Me=[];ft(Re[ke],Me,re,ue),ae.push(Me)}}function Yt(Re){return Re/360+.5}function wt(Re){const ae=Math.sin(Re*Math.PI/180),re=.5-.25*Math.log((1+ae)/(1-ae))/Math.PI;return re<0?0:re>1?1:re}function Rt(Re,ae,re,ue,ke,Me,ze,Fe){if(ue/=ae,Me>=(re/=ae)&&ze<ue)return Re;if(ze<re||Me>=ue)return null;const Le=[];for(const He of Re){const tt=He.geometry;let Je=He.type;const _t=ke===0?He.minX:He.minY,ht=ke===0?He.maxX:He.maxY;if(_t>=re&&ht<ue){Le.push(He);continue}if(ht<re||_t>=ue)continue;let Vt=[];if(Je==="Point"||Je==="MultiPoint")Tt(tt,Vt,re,ue,ke);else if(Je==="LineString")Pt(tt,Vt,re,ue,ke,!1,Fe.lineMetrics);else if(Je==="MultiLineString")Jt(tt,Vt,re,ue,ke,!1);else if(Je==="Polygon")Jt(tt,Vt,re,ue,ke,!0);else if(Je==="MultiPolygon")for(const li of tt){const ii=[];Jt(li,ii,re,ue,ke,!0),ii.length&&Vt.push(ii)}if(Vt.length){if(Fe.lineMetrics&&Je==="LineString"){for(const li of Vt)Le.push($e(He.id,Je,li,He.tags));continue}Je!=="LineString"&&Je!=="MultiLineString"||(Vt.length===1?(Je="LineString",Vt=Vt[0]):Je="MultiLineString"),Je!=="Point"&&Je!=="MultiPoint"||(Je=Vt.length===3?"Point":"MultiPoint"),Le.push($e(He.id,Je,Vt,He.tags))}}return Le.length?Le:null}function Tt(Re,ae,re,ue,ke){for(let Me=0;Me<Re.length;Me+=3){const ze=Re[Me+ke];ze>=re&&ze<=ue&&ti(ae,Re[Me],Re[Me+1],Re[Me+2])}}function Pt(Re,ae,re,ue,ke,Me,ze){let Fe=Et(Re);const Le=ke===0?ui:Si;let He,tt,Je=Re.start;for(let ii=0;ii<Re.length-3;ii+=3){const je=Re[ii],_i=Re[ii+1],dn=Re[ii+2],Nt=Re[ii+3],yi=Re[ii+4],Bt=ke===0?je:_i,St=ke===0?Nt:yi;let Gt=!1;ze&&(He=Math.sqrt(Math.pow(je-Nt,2)+Math.pow(_i-yi,2))),Bt<re?St>re&&(tt=Le(Fe,je,_i,Nt,yi,re),ze&&(Fe.start=Je+He*tt)):Bt>ue?St<ue&&(tt=Le(Fe,je,_i,Nt,yi,ue),ze&&(Fe.start=Je+He*tt)):ti(Fe,je,_i,dn),St<re&&Bt>=re&&(tt=Le(Fe,je,_i,Nt,yi,re),Gt=!0),St>ue&&Bt<=ue&&(tt=Le(Fe,je,_i,Nt,yi,ue),Gt=!0),!Me&&Gt&&(ze&&(Fe.end=Je+He*tt),ae.push(Fe),Fe=Et(Re)),ze&&(Je+=He)}let _t=Re.length-3;const ht=Re[_t],Vt=Re[_t+1],li=ke===0?ht:Vt;li>=re&&li<=ue&&ti(Fe,ht,Vt,Re[_t+2]),_t=Fe.length-3,Me&&_t>=3&&(Fe[_t]!==Fe[0]||Fe[_t+1]!==Fe[1])&&ti(Fe,Fe[0],Fe[1],Fe[2]),Fe.length&&ae.push(Fe)}function Et(Re){const ae=[];return ae.size=Re.size,ae.start=Re.start,ae.end=Re.end,ae}function Jt(Re,ae,re,ue,ke,Me){for(const ze of Re)Pt(ze,ae,re,ue,ke,Me,!1)}function ti(Re,ae,re,ue){Re.push(ae,re,ue)}function ui(Re,ae,re,ue,ke,Me){const ze=(Me-ae)/(ue-ae);return ti(Re,Me,re+(ke-re)*ze,1),ze}function Si(Re,ae,re,ue,ke,Me){const ze=(Me-re)/(ke-re);return ti(Re,ae+(ue-ae)*ze,Me,1),ze}function Ht(Re,ae){const re=[];for(let ue=0;ue<Re.length;ue++){const ke=Re[ue],Me=ke.type;let ze;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")ze=Zt(ke.geometry,ae);else if(Me==="MultiLineString"||Me==="Polygon"){ze=[];for(const Fe of ke.geometry)ze.push(Zt(Fe,ae))}else if(Me==="MultiPolygon"){ze=[];for(const Fe of ke.geometry){const Le=[];for(const He of Fe)Le.push(Zt(He,ae));ze.push(Le)}}re.push($e(ke.id,Me,ze,ke.tags))}return re}function Zt(Re,ae){const re=[];re.size=Re.size,Re.start!==void 0&&(re.start=Re.start,re.end=Re.end);for(let ue=0;ue<Re.length;ue+=3)re.push(Re[ue]+ae,Re[ue+1],Re[ue+2]);return re}function Bi(Re,ae){if(Re.transformed)return Re;const re=1<<Re.z,ue=Re.x,ke=Re.y;for(const Me of Re.features){const ze=Me.geometry,Fe=Me.type;if(Me.geometry=[],Fe===1)for(let Le=0;Le<ze.length;Le+=2)Me.geometry.push(cn(ze[Le],ze[Le+1],ae,re,ue,ke));else for(let Le=0;Le<ze.length;Le++){const He=[];for(let tt=0;tt<ze[Le].length;tt+=2)He.push(cn(ze[Le][tt],ze[Le][tt+1],ae,re,ue,ke));Me.geometry.push(He)}}return Re.transformed=!0,Re}function cn(Re,ae,re,ue,ke,Me){return[Math.round(re*(Re*ue-ke)),Math.round(re*(ae*ue-Me))]}function Ye(Re,ae,re,ue,ke){const Me=ae===ke.maxZoom?0:ke.tolerance/((1<<ae)*ke.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:re,y:ue,z:ae,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Fe of Re)Mn(ze,Fe,Me,ke);return ze}function Mn(Re,ae,re,ue){const ke=ae.geometry,Me=ae.type,ze=[];if(Re.minX=Math.min(Re.minX,ae.minX),Re.minY=Math.min(Re.minY,ae.minY),Re.maxX=Math.max(Re.maxX,ae.maxX),Re.maxY=Math.max(Re.maxY,ae.maxY),Me==="Point"||Me==="MultiPoint")for(let Fe=0;Fe<ke.length;Fe+=3)ze.push(ke[Fe],ke[Fe+1]),Re.numPoints++,Re.numSimplified++;else if(Me==="LineString")xa(ze,ke,Re,re,!1,!1);else if(Me==="MultiLineString"||Me==="Polygon")for(let Fe=0;Fe<ke.length;Fe++)xa(ze,ke[Fe],Re,re,Me==="Polygon",Fe===0);else if(Me==="MultiPolygon")for(let Fe=0;Fe<ke.length;Fe++){const Le=ke[Fe];for(let He=0;He<Le.length;He++)xa(ze,Le[He],Re,re,!0,He===0)}if(ze.length){let Fe=ae.tags||null;if(Me==="LineString"&&ue.lineMetrics){Fe={};for(const He in ae.tags)Fe[He]=ae.tags[He];Fe.mapbox_clip_start=ke.start/ke.size,Fe.mapbox_clip_end=ke.end/ke.size}const Le={geometry:ze,type:Me==="Polygon"||Me==="MultiPolygon"?3:Me==="LineString"||Me==="MultiLineString"?2:1,tags:Fe};ae.id!==null&&(Le.id=ae.id),Re.features.push(Le)}}function xa(Re,ae,re,ue,ke,Me){const ze=ue*ue;if(ue>0&&ae.size<(ke?ze:ue))return void(re.numPoints+=ae.length/3);const Fe=[];for(let Le=0;Le<ae.length;Le+=3)(ue===0||ae[Le+2]>ze)&&(re.numSimplified++,Fe.push(ae[Le],ae[Le+1])),re.numPoints++;ke&&(function(Le,He){let tt=0;for(let Je=0,_t=Le.length,ht=_t-2;Je<_t;ht=Je,Je+=2)tt+=(Le[Je]-Le[ht])*(Le[Je+1]+Le[ht+1]);if(tt>0===He)for(let Je=0,_t=Le.length;Je<_t/2;Je+=2){const ht=Le[Je],Vt=Le[Je+1];Le[Je]=Le[_t-2-Je],Le[Je+1]=Le[_t-1-Je],Le[_t-2-Je]=ht,Le[_t-1-Je]=Vt}})(Fe,Me),Re.push(Fe)}const Oa={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Ri{constructor(ae,re){const ue=(re=this.options=(function(Me,ze){for(const Fe in ze)Me[Fe]=ze[Fe];return Me})(Object.create(Oa),re)).debug;if(ue&&console.time("preprocess data"),re.maxZoom<0||re.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(re.promoteId&&re.generateId)throw new Error("promoteId and generateId cannot be used together.");let ke=(function(Me,ze){const Fe=[];if(Me.type==="FeatureCollection")for(let Le=0;Le<Me.features.length;Le++)Qe(Fe,Me.features[Le],ze,Le);else Qe(Fe,Me.type==="Feature"?Me:{geometry:Me},ze);return Fe})(ae,re);this.tiles={},this.tileCoords=[],ue&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",re.indexMaxZoom,re.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ke=(function(Me,ze){const Fe=ze.buffer/ze.extent;let Le=Me;const He=Rt(Me,1,-1-Fe,Fe,0,-1,2,ze),tt=Rt(Me,1,1-Fe,2+Fe,0,-1,2,ze);return(He||tt)&&(Le=Rt(Me,1,-Fe,1+Fe,0,-1,2,ze)||[],He&&(Le=Ht(He,1).concat(Le)),tt&&(Le=Le.concat(Ht(tt,-1)))),Le})(ke,re),ke.length&&this.splitTile(ke,0,0,0),ue&&(ke.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ae,re,ue,ke,Me,ze,Fe){const Le=[ae,re,ue,ke],He=this.options,tt=He.debug;for(;Le.length;){ke=Le.pop(),ue=Le.pop(),re=Le.pop(),ae=Le.pop();const Je=1<<re,_t=jn(re,ue,ke);let ht=this.tiles[_t];if(!ht&&(tt>1&&console.time("creation"),ht=this.tiles[_t]=Ye(ae,re,ue,ke,He),this.tileCoords.push({z:re,x:ue,y:ke}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",re,ue,ke,ht.numFeatures,ht.numPoints,ht.numSimplified),console.timeEnd("creation"));const Gt=`z${re}`;this.stats[Gt]=(this.stats[Gt]||0)+1,this.total++}if(ht.source=ae,Me==null){if(re===He.indexMaxZoom||ht.numPoints<=He.indexMaxPoints)continue}else{if(re===He.maxZoom||re===Me)continue;if(Me!=null){const Gt=Me-re;if(ue!==ze>>Gt||ke!==Fe>>Gt)continue}}if(ht.source=null,ae.length===0)continue;tt>1&&console.time("clipping");const Vt=.5*He.buffer/He.extent,li=.5-Vt,ii=.5+Vt,je=1+Vt;let _i=null,dn=null,Nt=null,yi=null,Bt=Rt(ae,Je,ue-Vt,ue+ii,0,ht.minX,ht.maxX,He),St=Rt(ae,Je,ue+li,ue+je,0,ht.minX,ht.maxX,He);ae=null,Bt&&(_i=Rt(Bt,Je,ke-Vt,ke+ii,1,ht.minY,ht.maxY,He),dn=Rt(Bt,Je,ke+li,ke+je,1,ht.minY,ht.maxY,He),Bt=null),St&&(Nt=Rt(St,Je,ke-Vt,ke+ii,1,ht.minY,ht.maxY,He),yi=Rt(St,Je,ke+li,ke+je,1,ht.minY,ht.maxY,He),St=null),tt>1&&console.timeEnd("clipping"),Le.push(_i||[],re+1,2*ue,2*ke),Le.push(dn||[],re+1,2*ue,2*ke+1),Le.push(Nt||[],re+1,2*ue+1,2*ke),Le.push(yi||[],re+1,2*ue+1,2*ke+1)}}getTile(ae,re,ue){ae=+ae,re=+re,ue=+ue;const ke=this.options,{extent:Me,debug:ze}=ke;if(ae<0||ae>24)return null;const Fe=1<<ae,Le=jn(ae,re=re+Fe&Fe-1,ue);if(this.tiles[Le])return Bi(this.tiles[Le],Me);ze>1&&console.log("drilling down to z%d-%d-%d",ae,re,ue);let He,tt=ae,Je=re,_t=ue;for(;!He&&tt>0;)tt--,Je>>=1,_t>>=1,He=this.tiles[jn(tt,Je,_t)];return He&&He.source?(ze>1&&(console.log("found parent tile z%d-%d-%d",tt,Je,_t),console.time("drilling down")),this.splitTile(He.source,tt,Je,_t,ae,re,ue),ze>1&&console.timeEnd("drilling down"),this.tiles[Le]?Bi(this.tiles[Le],Me):null):null}}function jn(Re,ae,re){return 32*((1<<Re)*re+ae)+Re}class Ba extends D{constructor(ae,re,ue,ke=Ya){super(ae,re,ue),this._dataUpdateable=new Map,this._createGeoJSONIndex=ke}loadVectorTile(ae,re){return o._(this,void 0,void 0,(function*(){const ue=ae.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ke=this._geoJSONIndex.getTile(ue.z,ue.x,ue.y);return ke?E(new o.d2(ke.features,{version:2,extent:o.a5})):null}))}loadData(ae){return o._(this,void 0,void 0,(function*(){var re;(re=this._pendingRequest)===null||re===void 0||re.abort();const ue=this._startPerformance(ae);this._pendingRequest=new AbortController;try{(!this._pendingData||ae.request||ae.data||ae.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(ae,this._pendingRequest));const ke=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(ke,ae),this.loaded={};const Me={};return ae.request&&(Me.data=ke),this._finishPerformance(ue,ae,Me),Me}catch(ke){if(delete this._pendingRequest,o.Z(ke))return{abandoned:!0};throw ke}}))}_startPerformance(ae){var re;if(!((re=ae?.request)===null||re===void 0)&&re.collectResourceTiming)return new o.c_(ae.request)}_finishPerformance(ae,re,ue){if(!ae)return;const ke=ae.finish();ke&&(ue.resourceTiming={},ue.resourceTiming[re.source]=JSON.parse(JSON.stringify(ke)))}getData(){return o._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(ae){const re=this.loaded;return re&&re[ae.uid]?super.reloadTile(ae):this.loadTile(ae)}loadAndProcessGeoJSON(ae,re){return o._(this,void 0,void 0,(function*(){let ue;if(ae.request?ue=yield this.loadGeoJSONFromUrl(ae.request,ae.promoteId,re):ae.data?ue=this._loadGeoJSONFromObject(ae.data,ae.promoteId):ae.dataDiff&&(ue=this._loadGeoJSONFromDiff(ae.dataDiff,ae.promoteId,ae.source)),delete this._pendingRequest,typeof ue!="object")throw new Error(`Input data given to '${ae.source}' is not a valid GeoJSON object.`);return U(ue,!0),ae.filter&&(ue=this._filterGeoJSON(ue,ae.filter)),ue}))}loadGeoJSONFromUrl(ae,re,ue){return o._(this,void 0,void 0,(function*(){const ke=yield o.j(ae,ue);return this._dataUpdateable=o.a7(ke.data,re),ke.data}))}_loadGeoJSONFromObject(ae,re){return this._dataUpdateable=o.a7(ae,re),ae}_loadGeoJSONFromDiff(ae,re,ue){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ue}`);o.a8(this._dataUpdateable,ae,re);const ke=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(ke)}_filterGeoJSON(ae,re){const ue=o.d3(re,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ue.result==="error")throw new Error(ue.value.map((Me=>`${Me.key}: ${Me.message}`)).join(", "));const ke=ae.features.filter((Me=>ue.value.evaluate({zoom:0},Me)));return this._toFeatureCollection(ke)}_toFeatureCollection(ae){return{type:"FeatureCollection",features:ae}}removeSource(ae){return o._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(ae){return this._geoJSONIndex.getClusterExpansionZoom(ae.clusterId)}getClusterChildren(ae){return this._geoJSONIndex.getChildren(ae.clusterId)}getClusterLeaves(ae){return this._geoJSONIndex.getLeaves(ae.clusterId,ae.limit,ae.offset)}}function Ya(Re,ae){return ae.cluster?new se((function({superclusterOptions:re,clusterProperties:ue}){if(!ue||!re)return re;const ke={},Me={},ze={accumulated:null,zoom:0},Fe={properties:null},Le=Object.keys(ue);for(const He of Le){const[tt,Je]=ue[He],_t=o.d3(Je),ht=o.d3(typeof tt=="string"?[tt,["accumulated"],["get",He]]:tt);ke[He]=_t.value,Me[He]=ht.value}return re.map=He=>{Fe.properties=He;const tt={};for(const Je of Le)tt[Je]=ke[Je].evaluate(ze,Fe);return tt},re.reduce=(He,tt)=>{Fe.properties=tt;for(const Je of Le)ze.accumulated=He[Je],He[Je]=Me[Je].evaluate(ze,Fe)},re})(ae)).load(Re.features):(function(re,ue){return new Ri(re,ue)})(Re,ae.geojsonVtOptions)}class Mi{constructor(ae){this.self=ae,this.actor=new o.L(ae),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(re,ue)=>{if(this.externalWorkerSourceTypes[re])throw new Error(`Worker source with name "${re}" already registered.`);this.externalWorkerSourceTypes[re]=ue},this.self.addProtocol=o.cJ,this.self.removeProtocol=o.cK,this.self.registerRTLTextPlugin=re=>{o.d4.setMethods(re)},this.actor.registerMessageHandler("LDT",((re,ue)=>this._getDEMWorkerSource(re,ue.source).loadTile(ue))),this.actor.registerMessageHandler("RDT",((re,ue)=>o._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(re,ue.source).removeTile(ue)})))),this.actor.registerMessageHandler("GCEZ",((re,ue)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(re,ue.type,ue.source).getClusterExpansionZoom(ue)})))),this.actor.registerMessageHandler("GCC",((re,ue)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(re,ue.type,ue.source).getClusterChildren(ue)})))),this.actor.registerMessageHandler("GCL",((re,ue)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(re,ue.type,ue.source).getClusterLeaves(ue)})))),this.actor.registerMessageHandler("LD",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).loadData(ue))),this.actor.registerMessageHandler("GD",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).getData())),this.actor.registerMessageHandler("LT",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).loadTile(ue))),this.actor.registerMessageHandler("RT",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).reloadTile(ue))),this.actor.registerMessageHandler("AT",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).abortTile(ue))),this.actor.registerMessageHandler("RMT",((re,ue)=>this._getWorkerSource(re,ue.type,ue.source).removeTile(ue))),this.actor.registerMessageHandler("RS",((re,ue)=>o._(this,void 0,void 0,(function*(){if(!this.workerSources[re]||!this.workerSources[re][ue.type]||!this.workerSources[re][ue.type][ue.source])return;const ke=this.workerSources[re][ue.type][ue.source];delete this.workerSources[re][ue.type][ue.source],ke.removeSource!==void 0&&ke.removeSource(ue)})))),this.actor.registerMessageHandler("RM",(re=>o._(this,void 0,void 0,(function*(){delete this.layerIndexes[re],delete this.availableImages[re],delete this.workerSources[re],delete this.demWorkerSources[re],this.globalStates.delete(re)})))),this.actor.registerMessageHandler("SR",((re,ue)=>o._(this,void 0,void 0,(function*(){this.referrer=ue})))),this.actor.registerMessageHandler("SRPS",((re,ue)=>this._syncRTLPluginState(re,ue))),this.actor.registerMessageHandler("IS",((re,ue)=>o._(this,void 0,void 0,(function*(){this.self.importScripts(ue)})))),this.actor.registerMessageHandler("SI",((re,ue)=>this._setImages(re,ue))),this.actor.registerMessageHandler("UL",((re,ue)=>o._(this,void 0,void 0,(function*(){this._getLayerIndex(re).update(ue.layers,ue.removedIds,this._getGlobalState(re))})))),this.actor.registerMessageHandler("UGS",((re,ue)=>o._(this,void 0,void 0,(function*(){const ke=this._getGlobalState(re);for(const Me in ue)ke[Me]=ue[Me]})))),this.actor.registerMessageHandler("SL",((re,ue)=>o._(this,void 0,void 0,(function*(){this._getLayerIndex(re).replace(ue,this._getGlobalState(re))}))))}_getGlobalState(ae){let re=this.globalStates.get(ae);return re||(re={},this.globalStates.set(ae,re)),re}_setImages(ae,re){return o._(this,void 0,void 0,(function*(){this.availableImages[ae]=re;for(const ue in this.workerSources[ae]){const ke=this.workerSources[ae][ue];for(const Me in ke)ke[Me].availableImages=re}}))}_syncRTLPluginState(ae,re){return o._(this,void 0,void 0,(function*(){return yield o.d4.syncState(re,this.self.importScripts)}))}_getAvailableImages(ae){let re=this.availableImages[ae];return re||(re=[]),re}_getLayerIndex(ae){let re=this.layerIndexes[ae];return re||(re=this.layerIndexes[ae]=new a),re}_getWorkerSource(ae,re,ue){if(this.workerSources[ae]||(this.workerSources[ae]={}),this.workerSources[ae][re]||(this.workerSources[ae][re]={}),!this.workerSources[ae][re][ue]){const ke={sendAsync:(Me,ze)=>(Me.targetMapId=ae,this.actor.sendAsync(Me,ze))};switch(re){case"vector":this.workerSources[ae][re][ue]=new D(ke,this._getLayerIndex(ae),this._getAvailableImages(ae));break;case"geojson":this.workerSources[ae][re][ue]=new Ba(ke,this._getLayerIndex(ae),this._getAvailableImages(ae));break;default:this.workerSources[ae][re][ue]=new this.externalWorkerSourceTypes[re](ke,this._getLayerIndex(ae),this._getAvailableImages(ae))}}return this.workerSources[ae][re][ue]}_getDEMWorkerSource(ae,re){return this.demWorkerSources[ae]||(this.demWorkerSources[ae]={}),this.demWorkerSources[ae][re]||(this.demWorkerSources[ae][re]=new O),this.demWorkerSources[ae][re]}}return o.i(self)&&(self.worker=new Mi(self)),Mi})),n("index",["exports","./shared"],(function(o,a){var d="5.15.0";function p(){var T=new a.A(4);return a.A!=Float32Array&&(T[1]=0,T[2]=0),T[0]=1,T[3]=1,T}let g,x,w;const S={frame(T,h,f){const _=requestAnimationFrame((C=>{v(),h(C)})),{unsubscribe:v}=a.s(T.signal,"abort",(()=>{v(),cancelAnimationFrame(_),f(new a.a(T.signal.reason))}),!1)},frameAsync(T){return new Promise(((h,f)=>{this.frame(T,h,f)}))},getImageData(T,h=0){return this.getImageCanvasContext(T).getImageData(-h,-h,T.width+2*h,T.height+2*h)},getImageCanvasContext(T){const h=window.document.createElement("canvas"),f=h.getContext("2d",{willReadFrequently:!0});if(!f)throw new Error("failed to create canvas 2d context");return h.width=T.width,h.height=T.height,f.drawImage(T,0,0,T.width,T.height),f},resolveURL:T=>(g||(g=document.createElement("a")),g.href=T,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return w!==void 0?w:!!matchMedia&&(x==null&&(x=matchMedia("(prefers-reduced-motion: reduce)")),x.matches)},set prefersReducedMotion(T){w=T}},E=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(T){this._frozenAt=T}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function M(){return E.getCurrentTime()}class D{static testProp(h){if(!D.docStyle)return h[0];for(let f=0;f<h.length;f++)if(h[f]in D.docStyle)return h[f];return h[0]}static create(h,f,_){const v=window.document.createElement(h);return f!==void 0&&(v.className=f),_&&_.appendChild(v),v}static createNS(h,f){return window.document.createElementNS(h,f)}static disableDrag(){D.docStyle&&D.selectProp&&(D.userSelect=D.docStyle[D.selectProp],D.docStyle[D.selectProp]="none")}static enableDrag(){D.docStyle&&D.selectProp&&(D.docStyle[D.selectProp]=D.userSelect)}static setTransform(h,f){h.style[D.transformProp]=f}static addEventListener(h,f,_,v={}){h.addEventListener(f,_,"passive"in v?v:v.capture)}static removeEventListener(h,f,_,v={}){h.removeEventListener(f,_,"passive"in v?v:v.capture)}static suppressClickInternal(h){h.preventDefault(),h.stopPropagation(),window.removeEventListener("click",D.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",D.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",D.suppressClickInternal,!0)}),0)}static getScale(h){const f=h.getBoundingClientRect();return{x:f.width/h.offsetWidth||1,y:f.height/h.offsetHeight||1,boundingClientRect:f}}static getPoint(h,f,_){const v=f.boundingClientRect;return new a.P((_.clientX-v.left)/f.x-h.clientLeft,(_.clientY-v.top)/f.y-h.clientTop)}static mousePos(h,f){const _=D.getScale(h);return D.getPoint(h,_,f)}static touchPos(h,f){const _=[],v=D.getScale(h);for(let C=0;C<f.length;C++)_.push(D.getPoint(h,v,f[C]));return _}static mouseButton(h){return h.button}static remove(h){h.parentNode&&h.parentNode.removeChild(h)}static sanitize(h){const f=new DOMParser().parseFromString(h,"text/html").body||document.createElement("body"),_=f.querySelectorAll("script");for(const v of _)v.remove();return D.clean(f),f.innerHTML}static isPossiblyDangerous(h,f){const _=f.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(h)||!_.includes("javascript:")&&!_.includes("data:"))||!!h.startsWith("on")||void 0}static clean(h){const f=h.children;for(const _ of f)D.removeAttributes(_),D.clean(_)}static removeAttributes(h){for(const{name:f,value:_}of h.attributes)D.isPossiblyDangerous(f,_)&&h.removeAttribute(f)}}D.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,D.selectProp=D.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),D.transformProp=D.testProp(["transform","WebkitTransform"]);const O={supported:!1,testSupport:function(T){!X&&H&&(U?Q(T):N=T)}};let N,H,X=!1,U=!1;function Q(T){const h=T.createTexture();T.bindTexture(T.TEXTURE_2D,h);try{if(T.texImage2D(T.TEXTURE_2D,0,T.RGBA,T.RGBA,T.UNSIGNED_BYTE,H),T.isContextLost())return;O.supported=!0}catch{}T.deleteTexture(h),X=!0}var Y;typeof document<"u"&&(H=document.createElement("img"),H.onload=()=>{N&&Q(N),N=null,U=!0},H.onerror=()=>{X=!0,N=null},H.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(T){let h,f,_,v;T.resetRequestQueue=()=>{h=[],f=0,_=0,v={}},T.addThrottleControl=F=>{const $=_++;return v[$]=F,$},T.removeThrottleControl=F=>{delete v[F],P()},T.getImage=(F,$,G=!0)=>new Promise(((K,Z)=>{O.supported&&(F.headers||(F.headers={}),F.headers.accept="image/webp,*/*"),a.e(F,{type:"image"}),h.push({abortController:$,requestParameters:F,supportImageRefresh:G,state:"queued",onError:ie=>{Z(ie)},onSuccess:ie=>{K(ie)}}),P()}));const C=F=>a._(this,void 0,void 0,(function*(){F.state="running";const{requestParameters:$,supportImageRefresh:G,onError:K,onSuccess:Z,abortController:ie}=F,oe=G===!1&&!a.i(self)&&!a.g($.url)&&(!$.headers||Object.keys($.headers).reduce(((pe,ye)=>pe&&ye==="accept"),!0));f++;const fe=oe?z($,ie):a.m($,ie);try{const pe=yield fe;delete F.abortController,F.state="completed",pe.data instanceof HTMLImageElement||a.b(pe.data)?Z(pe):pe.data&&Z({data:yield(me=pe.data,typeof createImageBitmap=="function"?a.f(me):a.h(me)),cacheControl:pe.cacheControl,expires:pe.expires})}catch(pe){delete F.abortController,K(pe)}finally{f--,P()}var me})),P=()=>{const F=(()=>{for(const $ of Object.keys(v))if(v[$]())return!0;return!1})()?a.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:a.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let $=f;$<F&&h.length>0;$++){const G=h.shift();G.abortController.signal.aborted?$--:C(G)}},z=(F,$)=>new Promise(((G,K)=>{const Z=new Image,ie=F.url,oe=F.credentials;oe&&oe==="include"?Z.crossOrigin="use-credentials":(oe&&oe==="same-origin"||!a.d(ie))&&(Z.crossOrigin="anonymous"),$.signal.addEventListener("abort",(()=>{Z.src="",K(new a.a($.signal.reason))})),Z.fetchPriority="high",Z.onload=()=>{Z.onerror=Z.onload=null,G({data:Z})},Z.onerror=()=>{Z.onerror=Z.onload=null,$.signal.aborted||K(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Z.src=ie}))})(Y||(Y={})),Y.resetRequestQueue();class te{constructor(h){this._transformRequestFn=h??null}transformRequest(h,f){return this._transformRequestFn&&this._transformRequestFn(h,f)||{url:h}}setTransformRequest(h){this._transformRequestFn=h}}function se(T){const h=[];if(typeof T=="string")h.push({id:"default",url:T});else if(T&&T.length>0){const f=[];for(const{id:_,url:v}of T){const C=`${_}${v}`;f.indexOf(C)===-1&&(f.push(C),h.push({id:_,url:v}))}}return h}function ce(T,h,f){try{const _=new URL(T);return _.pathname+=`${h}${f}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${T}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function ve(T){const{userImage:h}=T;return!!(h&&h.render&&h.render())&&(T.data.replace(new Uint8Array(h.data.buffer)),!0)}class xe extends a.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const h of Object.keys(this.images))this.removeImage(h);this.patterns={},this.atlasImage=new a.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(h){if(this.loaded!==h&&(this.loaded=h,h)){for(const{ids:f,promiseResolve:_}of this.requestors)_(this._getImagesForIds(f));this.requestors=[]}}getImage(h){const f=this.images[h];if(f&&!f.data&&f.spriteData){const _=f.spriteData;f.data=new a.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),f.spriteData=null}return f}addImage(h,f){if(this.images[h])throw new Error(`Image id ${h} already exist, use updateImage instead`);this._validate(h,f)&&(this.images[h]=f)}_validate(h,f){let _=!0;const v=f.data||f.spriteData;return this._validateStretch(f.stretchX,v&&v.width)||(this.fire(new a.k(new Error(`Image "${h}" has invalid "stretchX" value`))),_=!1),this._validateStretch(f.stretchY,v&&v.height)||(this.fire(new a.k(new Error(`Image "${h}" has invalid "stretchY" value`))),_=!1),this._validateContent(f.content,f)||(this.fire(new a.k(new Error(`Image "${h}" has invalid "content" value`))),_=!1),_}_validateStretch(h,f){if(!h)return!0;let _=0;for(const v of h){if(v[0]<_||v[1]<v[0]||f<v[1])return!1;_=v[1]}return!0}_validateContent(h,f){if(!h)return!0;if(h.length!==4)return!1;const _=f.spriteData,v=_&&_.width||f.data.width,C=_&&_.height||f.data.height;return!(h[0]<0||v<h[0]||h[1]<0||C<h[1]||h[2]<0||v<h[2]||h[3]<0||C<h[3]||h[2]<h[0]||h[3]<h[1])}updateImage(h,f,_=!0){const v=this.getImage(h);if(_&&(v.data.width!==f.data.width||v.data.height!==f.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${f.data.width}x${f.data.height}).`);f.version=v.version+1,this.images[h]=f,this.updatedImages[h]=!0}removeImage(h){const f=this.images[h];delete this.images[h],delete this.patterns[h],f.userImage&&f.userImage.onRemove&&f.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(h){return new Promise(((f,_)=>{let v=!0;if(!this.isLoaded())for(const C of h)this.images[C]||(v=!1);this.isLoaded()||v?f(this._getImagesForIds(h)):this.requestors.push({ids:h,promiseResolve:f})}))}_getImagesForIds(h){const f={};for(const _ of h){let v=this.getImage(_);v||(this.fire(new a.l("styleimagemissing",{id:_})),v=this.getImage(_)),v?f[_]={data:v.data.clone(),pixelRatio:v.pixelRatio,sdf:v.sdf,version:v.version,stretchX:v.stretchX,stretchY:v.stretchY,content:v.content,textFitWidth:v.textFitWidth,textFitHeight:v.textFitHeight,hasRenderCallback:!!(v.userImage&&v.userImage.render)}:a.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return f}getPixelSize(){const{width:h,height:f}=this.atlasImage;return{width:h,height:f}}getPattern(h){const f=this.patterns[h],_=this.getImage(h);if(!_)return null;if(f&&f.position.version===_.version)return f.position;if(f)f.position.version=_.version;else{const v={w:_.data.width+2,h:_.data.height+2,x:0,y:0},C=new a.I(v,_);this.patterns[h]={bin:v,position:C}}return this._updatePatternAtlas(),this.patterns[h].position}bind(h){const f=h.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.T(h,this.atlasImage,f.RGBA),this.atlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE)}_updatePatternAtlas(){const h=[];for(const C in this.patterns)h.push(this.patterns[C].bin);const{w:f,h:_}=a.p(h),v=this.atlasImage;v.resize({width:f||1,height:_||1});for(const C in this.patterns){const{bin:P}=this.patterns[C],z=P.x+1,F=P.y+1,$=this.getImage(C).data,G=$.width,K=$.height;a.R.copy($,v,{x:0,y:0},{x:z,y:F},{width:G,height:K}),a.R.copy($,v,{x:0,y:K-1},{x:z,y:F-1},{width:G,height:1}),a.R.copy($,v,{x:0,y:0},{x:z,y:F+K},{width:G,height:1}),a.R.copy($,v,{x:G-1,y:0},{x:z-1,y:F},{width:1,height:K}),a.R.copy($,v,{x:0,y:0},{x:z+G,y:F},{width:1,height:K})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(h){for(const f of h){if(this.callbackDispatchedThisFrame[f])continue;this.callbackDispatchedThisFrame[f]=!0;const _=this.getImage(f);_||a.w(`Image with ID: "${f}" was not found`),ve(_)&&this.updateImage(f,_)}}cloneImages(){const h={};for(const f in this.images){const _=this.images[f];h[f]=Object.assign(Object.assign({},_),{data:_.data?_.data.clone():null})}return h}}const Ee=1e20;function Be(T,h,f,_,v,C,P,z,F){for(let $=h;$<h+_;$++)Oe(T,f*C+$,C,v,P,z,F);for(let $=f;$<f+v;$++)Oe(T,$*C+h,1,_,P,z,F)}function Oe(T,h,f,_,v,C,P){C[0]=0,P[0]=-Ee,P[1]=Ee,v[0]=T[h];for(let z=1,F=0,$=0;z<_;z++){v[z]=T[h+z*f];const G=z*z;do{const K=C[F];$=(v[z]-v[K]+G-K*K)/(z-K)/2}while($<=P[F]&&--F>-1);F++,C[F]=z,P[F]=$,P[F+1]=Ee}for(let z=0,F=0;z<_;z++){for(;P[F+1]<z;)F++;const $=C[F],G=z-$;T[h+z*f]=v[$]+G*G}}const Ue=a.v.layout_symbol["text-font"].default.join(",");class $e{constructor(h,f,_){this.requestManager=h,this.localIdeographFontFamily=f,this.entries={},this.lang=_}setURL(h){this.url=h}getGlyphs(h){return a._(this,void 0,void 0,(function*(){const f=[];for(const C in h)for(const P of h[C])f.push(this._getAndCacheGlyphsPromise(C,P));const _=yield Promise.all(f),v={};for(const{stack:C,id:P,glyph:z}of _)v[C]||(v[C]={}),v[C][P]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};return v}))}_getAndCacheGlyphsPromise(h,f){return a._(this,void 0,void 0,(function*(){let _=this.entries[h];_||(_=this.entries[h]={glyphs:{},requests:{},ranges:{}});let v=_.glyphs[f];return v!==void 0?{stack:h,id:f,glyph:v}:!this.url||this._charUsesLocalIdeographFontFamily(f)?(v=_.glyphs[f]=this._drawGlyph(_,h,f),{stack:h,id:f,glyph:v}):yield this._downloadAndCacheRangePromise(h,f)}))}_downloadAndCacheRangePromise(h,f){return a._(this,void 0,void 0,(function*(){const _=this.entries[h],v=Math.floor(f/256);if(_.ranges[v])return{stack:h,id:f,glyph:null};if(!_.requests[v]){const C=$e.loadGlyphRange(h,v,this.url,this.requestManager);_.requests[v]=C}try{const C=yield _.requests[v];for(const P in C)_.glyphs[+P]=C[+P];return _.ranges[v]=!0,{stack:h,id:f,glyph:C[f]||null}}catch(C){const P=_.glyphs[f]=this._drawGlyph(_,h,f);return this._warnOnMissingGlyphRange(P,v,f,C),{stack:h,id:f,glyph:P}}}))}_warnOnMissingGlyphRange(h,f,_,v){const C=256*f,P=C+255,z=_.toString(16).padStart(4,"0").toUpperCase();a.w(`Unable to load glyph range ${f}, ${C}-${P}. Rendering codepoint U+${z} locally instead. ${v}`)}_charUsesLocalIdeographFontFamily(h){return!!this.localIdeographFontFamily&&a.q(h)}_drawGlyph(h,f,_){const v=f===Ue&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(_),C=v?"ideographTinySDF":"tinySDF";h[C]||(h[C]=this._createTinySDF(v?this.localIdeographFontFamily:f));const P=h[C].draw(String.fromCodePoint(_));return{id:_,bitmap:new a.r({width:P.width||60,height:P.height||60},P.data),metrics:{width:P.glyphWidth/2||24,height:P.glyphHeight/2||24,left:P.glyphLeft/2+.5||0,top:P.glyphTop/2-27.5||-8,advance:P.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(h){const f=h?h.split(","):[];f.push("sans-serif");const _=f.map((v=>/[-\w]+/.test(v)?v:`'${CSS.escape(v)}'`)).join(",");return new $e.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:this._fontWeight(f[0]),fontStyle:this._fontStyle(f[0]),lang:this.lang})}_fontStyle(h){return/italic/i.test(h)?"italic":/oblique/i.test(h)?"oblique":"normal"}_fontWeight(h){const f={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let _;for(const[v,C]of Object.entries(f))new RegExp(`\\b${v}\\b`,"i").test(h)&&(_=`${C}`);return _}destroy(){for(const h in this.entries){const f=this.entries[h];f.tinySDF&&(f.tinySDF=null),f.ideographTinySDF&&(f.ideographTinySDF=null),f.glyphs={},f.requests={},f.ranges={}}this.entries={}}}$e.loadGlyphRange=function(T,h,f,_){return a._(this,void 0,void 0,(function*(){const v=256*h,C=v+255,P=_.transformRequest(f.replace("{fontstack}",T).replace("{range}",`${v}-${C}`),"Glyphs"),z=yield a.n(P,new AbortController);if(!z||!z.data)throw new Error(`Could not load glyph range. range: ${h}, ${v}-${C}`);const F={};for(const $ of a.o(z.data))F[$.id]=$;return F}))},$e.TinySDF=class{constructor({fontSize:T=24,buffer:h=3,radius:f=8,cutoff:_=.25,fontFamily:v="sans-serif",fontWeight:C="normal",fontStyle:P="normal",lang:z=null}={}){this.buffer=h,this.cutoff=_,this.radius=f,this.lang=z;const F=this.size=T+4*h,$=this._createCanvas(F),G=this.ctx=$.getContext("2d",{willReadFrequently:!0});G.font=`${P} ${C} ${T}px ${v}`,G.textBaseline="alphabetic",G.textAlign="left",G.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Uint16Array(F)}_createCanvas(T){const h=document.createElement("canvas");return h.width=h.height=T,h}draw(T){const{width:h,actualBoundingBoxAscent:f,actualBoundingBoxDescent:_,actualBoundingBoxLeft:v,actualBoundingBoxRight:C}=this.ctx.measureText(T),P=Math.ceil(f),z=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(C-v))),F=Math.min(this.size-this.buffer,P+Math.ceil(_)),$=z+2*this.buffer,G=F+2*this.buffer,K=Math.max($*G,0),Z=new Uint8ClampedArray(K),ie={data:Z,width:$,height:G,glyphWidth:z,glyphHeight:F,glyphTop:P,glyphLeft:0,glyphAdvance:h};if(z===0||F===0)return ie;const{ctx:oe,buffer:fe,gridInner:me,gridOuter:pe}=this;this.lang&&(oe.lang=this.lang),oe.clearRect(fe,fe,z,F),oe.fillText(T,fe,fe+P);const ye=oe.getImageData(fe,fe,z,F);pe.fill(Ee,0,K),me.fill(0,0,K);for(let Ce=0;Ce<F;Ce++)for(let ge=0;ge<z;ge++){const Se=ye.data[4*(Ce*z+ge)+3]/255;if(Se===0)continue;const Pe=(Ce+fe)*$+ge+fe;if(Se===1)pe[Pe]=0,me[Pe]=Ee;else{const we=.5-Se;pe[Pe]=we>0?we*we:0,me[Pe]=we<0?we*we:0}}Be(pe,0,0,$,G,$,this.f,this.v,this.z),Be(me,fe,fe,z,F,$,this.f,this.v,this.z);for(let Ce=0;Ce<K;Ce++){const ge=Math.sqrt(pe[Ce])-Math.sqrt(me[Ce]);Z[Ce]=Math.round(255-255*(ge/this.radius+this.cutoff))}return ie}};class nt{constructor(){this.specification=a.u.light.position}possiblyEvaluate(h,f){return a.F(h.expression.evaluate(f))}interpolate(h,f,_){return{x:a.G.number(h.x,f.x,_),y:a.G.number(h.y,f.y,_),z:a.G.number(h.z,f.z,_)}}}let Qe;class Ae extends a.E{constructor(h){super(),Qe=Qe||new a.t({anchor:new a.D(a.u.light.anchor),position:new nt,color:new a.D(a.u.light.color),intensity:new a.D(a.u.light.intensity)}),this._transitionable=new a.x(Qe,void 0),this.setLight(h),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(h,f={}){if(!this._validate(a.y,h,f))for(const _ in h){const v=h[_];_.endsWith(a.z)?this._transitionable.setTransition(_.slice(0,-a.z.length),v):this._transitionable.setValue(_,v)}}updateTransitions(h){this._transitioning=this._transitionable.transitioned(h,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(h){this.properties=this._transitioning.possiblyEvaluate(h)}_validate(h,f,_){return(!_||_.validate!==!1)&&a.B(this,h.call(a.C,{value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.u}))}}const ft=new a.t({"sky-color":new a.D(a.u.sky["sky-color"]),"horizon-color":new a.D(a.u.sky["horizon-color"]),"fog-color":new a.D(a.u.sky["fog-color"]),"fog-ground-blend":new a.D(a.u.sky["fog-ground-blend"]),"horizon-fog-blend":new a.D(a.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new a.D(a.u.sky["sky-horizon-blend"]),"atmosphere-blend":new a.D(a.u.sky["atmosphere-blend"])});class Dt extends a.E{constructor(h){super(),this._transitionable=new a.x(ft,void 0),this.setSky(h),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0))}setSky(h,f={}){if(!this._validate(a.J,h,f)){h||(h={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in h){const v=h[_];_.endsWith(a.z)?this._transitionable.setTransition(_.slice(0,-a.z.length),v):this._transitionable.setValue(_,v)}}}getSky(){return this._transitionable.serialize()}updateTransitions(h){this._transitioning=this._transitionable.transitioned(h,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(h){this.properties=this._transitioning.possiblyEvaluate(h)}_validate(h,f,_={}){return _?.validate!==!1&&a.B(this,h.call(a.C,a.e({value:f,style:{glyphs:!0,sprite:!0},styleSpec:a.u})))}calculateFogBlendOpacity(h){return h<60?0:h<70?(h-60)/10:1}}class Yt{constructor(h,f){this.width=h,this.height=f,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(h,f){const _=h.join(",")+String(f);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(h,f)),this.dashEntry[_]}getDashRanges(h,f,_){const v=[];let C=h.length%2==1?-h[h.length-1]*_:0,P=h[0]*_,z=!0;v.push({left:C,right:P,isDash:z,zeroLength:h[0]===0});let F=h[0];for(let $=1;$<h.length;$++){z=!z;const G=h[$];C=F*_,F+=G,P=F*_,v.push({left:C,right:P,isDash:z,zeroLength:G===0})}return v}addRoundDash(h,f,_){const v=f/2;for(let C=-_;C<=_;C++){const P=this.width*(this.nextRow+_+C);let z=0,F=h[z];for(let $=0;$<this.width;$++){$/F.right>1&&(F=h[++z]);const G=Math.abs($-F.left),K=Math.abs($-F.right),Z=Math.min(G,K);let ie;const oe=C/_*(v+1);if(F.isDash){const fe=v-Math.abs(oe);ie=Math.sqrt(Z*Z+fe*fe)}else ie=v-Math.sqrt(Z*Z+oe*oe);this.data[P+$]=Math.max(0,Math.min(255,ie+128))}}}addRegularDash(h){for(let z=h.length-1;z>=0;--z){const F=h[z],$=h[z+1];F.zeroLength?h.splice(z,1):$&&$.isDash===F.isDash&&($.left=F.left,h.splice(z,1))}const f=h[0],_=h[h.length-1];f.isDash===_.isDash&&(f.left=_.left-this.width,_.right=f.right+this.width);const v=this.width*this.nextRow;let C=0,P=h[C];for(let z=0;z<this.width;z++){z/P.right>1&&(P=h[++C]);const F=Math.abs(z-P.left),$=Math.abs(z-P.right),G=Math.min(F,$);this.data[v+z]=Math.max(0,Math.min(255,(P.isDash?G:-G)+128))}}addDash(h,f){const _=f?7:0,v=2*_+1;if(this.nextRow+v>this.height)return a.w("LineAtlas out of space"),null;let C=0;for(let z=0;z<h.length;z++)C+=h[z];if(C!==0){const z=this.width/C,F=this.getDashRanges(h,this.width,z);f?this.addRoundDash(F,z,_):this.addRegularDash(F)}const P={y:this.nextRow+_,height:2*_,width:C};return this.nextRow+=v,this.dirty=!0,P}bind(h){const f=h.gl;this.texture?(f.bindTexture(f.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,f.texSubImage2D(f.TEXTURE_2D,0,0,0,this.width,this.height,f.ALPHA,f.UNSIGNED_BYTE,this.data))):(this.texture=f.createTexture(),f.bindTexture(f.TEXTURE_2D,this.texture),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texImage2D(f.TEXTURE_2D,0,f.ALPHA,this.width,this.height,0,f.ALPHA,f.UNSIGNED_BYTE,this.data))}}const wt="maplibre_preloaded_worker_pool";class Rt{constructor(){this.active={}}acquire(h){if(!this.workers)for(this.workers=[];this.workers.length<Rt.workerCount;)this.workers.push(new Worker(a.c.WORKER_URL));return this.active[h]=!0,this.workers.slice()}release(h){delete this.active[h],this.numActive()===0&&(this.workers.forEach((f=>{f.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[wt]}numActive(){return Object.keys(this.active).length}}const Tt=Math.floor(S.hardwareConcurrency/2);let Pt,Et;function Jt(){return Pt||(Pt=new Rt),Pt}Rt.workerCount=a.K(globalThis)?Math.max(Math.min(Tt,3),1):1;class ti{constructor(h,f){this.workerPool=h,this.actors=[],this.currentActor=0,this.id=f;const _=this.workerPool.acquire(f);for(let v=0;v<_.length;v++){const C=new a.L(_[v],f);C.name=`Worker ${v}`,this.actors.push(C)}if(!this.actors.length)throw new Error("No actors found")}broadcast(h,f){const _=[];for(const v of this.actors)_.push(v.sendAsync({type:h,data:f}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(h=!0){this.actors.forEach((f=>{f.remove()})),this.actors=[],h&&this.workerPool.release(this.id)}registerMessageHandler(h,f){for(const _ of this.actors)_.registerMessageHandler(h,f)}unregisterMessageHandler(h){for(const f of this.actors)f.unregisterMessageHandler(h)}}function ui(){return Et||(Et=new ti(Jt(),a.M),Et.registerMessageHandler("GR",((T,h,f)=>a.m(h,f)))),Et}function Si(T,h){const f=a.N();return a.O(f,f,[1,1,0]),a.Q(f,f,[.5*T.width,.5*T.height,1]),T.calculatePosMatrix?a.S(f,f,T.calculatePosMatrix(h.toUnwrapped())):f}function Ht(T,h,f,_,v,C,P){var z;const F=(function(Z,ie,oe){if(Z)for(const fe of Z){const me=ie[fe];if(me&&me.source===oe&&me.type==="fill-extrusion")return!0}else for(const fe in ie){const me=ie[fe];if(me.source===oe&&me.type==="fill-extrusion")return!0}return!1})((z=v?.layers)!==null&&z!==void 0?z:null,h,T.id),$=C.maxPitchScaleFactor(),G=T.tilesIn(_,$,F);G.sort(Zt);const K=[];for(const Z of G)K.push({wrappedTileID:Z.tileID.wrapped().key,queryResults:Z.tile.queryRenderedFeatures(h,f,T.getState(),Z.queryGeometry,Z.cameraQueryGeometry,Z.scale,v,C,$,Si(C,Z.tileID),P?(ie,oe)=>P(Z.tileID,ie,oe):void 0)});return(function(Z,ie){for(const oe in Z)for(const fe of Z[oe])Bi(fe,ie);return Z})((function(Z){const ie={},oe={};for(const fe of Z){const me=fe.queryResults,pe=fe.wrappedTileID,ye=oe[pe]=oe[pe]||{};for(const Ce in me){const ge=me[Ce],Se=ye[Ce]=ye[Ce]||{},Pe=ie[Ce]=ie[Ce]||[];for(const we of ge)Se[we.featureIndex]||(Se[we.featureIndex]=!0,Pe.push(we))}}return ie})(K),T)}function Zt(T,h){const f=T.tileID,_=h.tileID;return f.overscaledZ-_.overscaledZ||f.canonical.y-_.canonical.y||f.wrap-_.wrap||f.canonical.x-_.canonical.x}function Bi(T,h){const f=T.feature,_=h.getFeatureState(f.layer["source-layer"],f.id);f.source=f.layer.source,f.layer["source-layer"]&&(f.sourceLayer=f.layer["source-layer"]),f.state=_}function cn(T,h,f){return a._(this,void 0,void 0,(function*(){let _=T;if(T.url?_=(yield a.j(h.transformRequest(T.url,"Source"),f)).data:yield S.frameAsync(f),!_)return null;const v=a.U(a.e(_,T),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(v.vectorLayerIds=_.vector_layers.map((C=>C.id))),v}))}class Ye{constructor(h,f){h&&(f?this.setSouthWest(h).setNorthEast(f):Array.isArray(h)&&(h.length===4?this.setSouthWest([h[0],h[1]]).setNorthEast([h[2],h[3]]):this.setSouthWest(h[0]).setNorthEast(h[1])))}setNorthEast(h){return this._ne=h instanceof a.V?new a.V(h.lng,h.lat):a.V.convert(h),this}setSouthWest(h){return this._sw=h instanceof a.V?new a.V(h.lng,h.lat):a.V.convert(h),this}extend(h){const f=this._sw,_=this._ne;let v,C;if(h instanceof a.V)v=h,C=h;else{if(!(h instanceof Ye))return Array.isArray(h)?h.length===4||h.every(Array.isArray)?this.extend(Ye.convert(h)):this.extend(a.V.convert(h)):h&&("lng"in h||"lon"in h)&&"lat"in h?this.extend(a.V.convert(h)):this;if(v=h._sw,C=h._ne,!v||!C)return this}return f||_?(f.lng=Math.min(v.lng,f.lng),f.lat=Math.min(v.lat,f.lat),_.lng=Math.max(C.lng,_.lng),_.lat=Math.max(C.lat,_.lat)):(this._sw=new a.V(v.lng,v.lat),this._ne=new a.V(C.lng,C.lat)),this}getCenter(){return new a.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new a.V(this.getWest(),this.getNorth())}getSouthEast(){return new a.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(h){const{lng:f,lat:_}=a.V.convert(h);let v=this._sw.lng<=f&&f<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=f&&f>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&v}intersects(h){if(!((h=Ye.convert(h)).getNorth()>=this.getSouth()&&h.getSouth()<=this.getNorth()))return!1;const f=Math.abs(this.getEast()-this.getWest()),_=Math.abs(h.getEast()-h.getWest());if(f>=360||_>=360)return!0;const v=a.W(this.getWest(),-180,180),C=a.W(this.getEast(),-180,180),P=a.W(h.getWest(),-180,180),z=a.W(h.getEast(),-180,180),F=v>=C,$=P>=z;return!(!F||!$)||(F?z>=v||P<=C:$?C>=P||v<=z:P<=C&&z>=v)}static convert(h){return h instanceof Ye?h:h&&new Ye(h)}static fromLngLat(h,f=0){const _=360*f/40075017,v=_/Math.cos(Math.PI/180*h.lat);return new Ye(new a.V(h.lng-v,h.lat-_),new a.V(h.lng+v,h.lat+_))}adjustAntiMeridian(){const h=new a.V(this._sw.lng,this._sw.lat),f=new a.V(this._ne.lng,this._ne.lat);return new Ye(h,h.lng>f.lng?new a.V(f.lng+360,f.lat):f)}}class Mn{constructor(h,f,_){this.bounds=Ye.convert(this.validateBounds(h)),this.minzoom=f||0,this.maxzoom=_||24}validateBounds(h){return Array.isArray(h)&&h.length===4?[Math.max(-180,h[0]),Math.max(-90,h[1]),Math.min(180,h[2]),Math.min(90,h[3])]:[-180,-90,180,90]}contains(h){const f=Math.pow(2,h.z),_=Math.floor(a.Y(this.bounds.getWest())*f),v=Math.floor(a.X(this.bounds.getNorth())*f),C=Math.ceil(a.Y(this.bounds.getEast())*f),P=Math.ceil(a.X(this.bounds.getSouth())*f);return h.x>=_&&h.x<C&&h.y>=v&&h.y<P}}class xa extends a.E{constructor(h,f,_,v){if(super(),this.id=h,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.e(this,a.U(f,["url","scheme","tileSize","promoteId","encoding"])),this._options=a.e({type:"vector"},f),this._collectResourceTiming=f.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const h=yield cn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),h&&(a.e(this,h),h.bounds&&(this.tileBounds=new Mn(h.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})))}catch(h){this._tileJSONRequest=null,this._loaded=!0,a.Z(h)||this.fire(new a.k(h))}}))}loaded(){return this._loaded}hasTile(h){return!this.tileBounds||this.tileBounds.contains(h.canonical)}onAdd(h){this.map=h,this.load()}setSourceProperty(h){this._tileJSONRequest&&this._tileJSONRequest.abort(),h(),this.load()}setTiles(h){return this.setSourceProperty((()=>{this._options.tiles=h})),this}setUrl(h){return this.setSourceProperty((()=>{this.url=h,this._options.url=h})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return a.e({},this._options)}loadTile(h){return a._(this,void 0,void 0,(function*(){const f=h.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(f,"Tile"),uid:h.uid,tileID:h.tileID,zoom:h.tileID.overscaledZ,tileSize:this.tileSize*h.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(h)};_.request.collectResourceTiming=this._collectResourceTiming;let v="RT";if(h.actor&&h.state!=="expired"){if(h.state==="loading")return new Promise(((C,P)=>{h.reloadPromise={resolve:C,reject:P}}))}else h.actor=this.dispatcher.getActor(),v="LT";h.abortController=new AbortController;try{const C=yield h.actor.sendAsync({type:v,data:_},h.abortController);if(delete h.abortController,h.aborted)return;this._afterTileLoadWorkerResponse(h,C)}catch(C){if(delete h.abortController,h.aborted)return;if(C&&C.status!==404)throw C;this._afterTileLoadWorkerResponse(h,null)}}))}_getOverzoomParameters(h){if(h.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const f=h.tileID.scaledTo(this.maxzoom).canonical,_=f.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:f,overzoomRequest:this.map._requestManager.transformRequest(_,"Tile")}}_afterTileLoadWorkerResponse(h,f){if(f&&f.resourceTiming&&(h.resourceTiming=f.resourceTiming),f&&this.map._refreshExpiredTiles&&h.setExpiryData(f),h.loadVectorData(f,this.map.painter),h.reloadPromise){const _=h.reloadPromise;h.reloadPromise=null,this.loadTile(h).then(_.resolve).catch(_.reject)}}abortTile(h){return a._(this,void 0,void 0,(function*(){h.abortController&&(h.abortController.abort(),delete h.abortController),h.actor&&(yield h.actor.sendAsync({type:"AT",data:{uid:h.uid,type:this.type,source:this.id}}))}))}unloadTile(h){return a._(this,void 0,void 0,(function*(){h.unloadVectorData(),h.actor&&(yield h.actor.sendAsync({type:"RMT",data:{uid:h.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Oa extends a.E{constructor(h,f,_,v){super(),this.id=h,this.dispatcher=_,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.e({type:"raster"},f),a.e(this,a.U(f,["url","scheme","tileSize"]))}load(){return a._(this,arguments,void 0,(function*(h=!1){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const f=yield cn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,f&&(a.e(this,f),f.bounds&&(this.tileBounds=new Mn(f.bounds,this.minzoom,this.maxzoom)),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:h})))}catch(f){this._tileJSONRequest=null,this._loaded=!0,a.Z(f)||this.fire(new a.k(f))}}))}loaded(){return this._loaded}onAdd(h){this.map=h,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(h){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),h(),this.load(!0)}setTiles(h){return this.setSourceProperty((()=>{this._options.tiles=h})),this}setUrl(h){return this.setSourceProperty((()=>{this.url=h,this._options.url=h})),this}serialize(){return a.e({},this._options)}hasTile(h){return!this.tileBounds||this.tileBounds.contains(h.canonical)}loadTile(h){return a._(this,void 0,void 0,(function*(){const f=h.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);h.abortController=new AbortController;try{const _=yield Y.getImage(this.map._requestManager.transformRequest(f,"Tile"),h.abortController,this.map._refreshExpiredTiles);if(delete h.abortController,h.aborted)return void(h.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&h.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const v=this.map.painter.context,C=v.gl,P=_.data;h.texture=this.map.painter.getTileTexture(P.width),h.texture?h.texture.update(P,{useMipmap:!0}):(h.texture=new a.T(v,P,C.RGBA,{useMipmap:!0}),h.texture.bind(C.LINEAR,C.CLAMP_TO_EDGE,C.LINEAR_MIPMAP_NEAREST)),h.state="loaded"}}catch(_){if(delete h.abortController,h.aborted)h.state="unloaded";else if(_)throw h.state="errored",_}}))}abortTile(h){return a._(this,void 0,void 0,(function*(){h.abortController&&(h.abortController.abort(),delete h.abortController)}))}unloadTile(h){return a._(this,void 0,void 0,(function*(){h.texture&&this.map.painter.saveTileTexture(h.texture)}))}hasTransition(){return!1}}class Ri extends Oa{constructor(h,f,_,v){super(h,f,_,v),this.type="raster-dem",this.maxzoom=22,this._options=a.e({type:"raster-dem"},f),this.encoding=f.encoding||"mapbox",this.redFactor=f.redFactor,this.greenFactor=f.greenFactor,this.blueFactor=f.blueFactor,this.baseShift=f.baseShift}loadTile(h){return a._(this,void 0,void 0,(function*(){const f=h.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(f,"Tile");h.neighboringTiles=this._getNeighboringTiles(h.tileID),h.abortController=new AbortController;try{const v=yield Y.getImage(_,h.abortController,this.map._refreshExpiredTiles);if(delete h.abortController,h.aborted)return void(h.state="unloaded");if(v&&v.data){const C=v.data;this.map._refreshExpiredTiles&&(v.cacheControl||v.expires)&&h.setExpiryData({cacheControl:v.cacheControl,expires:v.expires});const P=a.b(C)&&a.$()?C:yield this.readImageNow(C),z={type:this.type,uid:h.uid,source:this.id,rawImageData:P,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!h.actor||h.state==="expired"){h.actor=this.dispatcher.getActor();const F=yield h.actor.sendAsync({type:"LDT",data:z});h.dem=F,h.needsHillshadePrepare=!0,h.needsTerrainPrepare=!0,h.state="loaded"}}}catch(v){if(delete h.abortController,h.aborted)h.state="unloaded";else if(v)throw h.state="errored",v}}))}readImageNow(h){return a._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&a.a0()){const f=h.width+2,_=h.height+2;try{return new a.R({width:f,height:_},yield a.a1(h,-1,-1,f,_))}catch{}}return S.getImageData(h,1)}))}_getNeighboringTiles(h){const f=h.canonical,_=Math.pow(2,f.z),v=(f.x-1+_)%_,C=f.x===0?h.wrap-1:h.wrap,P=(f.x+1+_)%_,z=f.x+1===_?h.wrap+1:h.wrap,F={};return F[new a.a2(h.overscaledZ,C,f.z,v,f.y).key]={backfilled:!1},F[new a.a2(h.overscaledZ,z,f.z,P,f.y).key]={backfilled:!1},f.y>0&&(F[new a.a2(h.overscaledZ,C,f.z,v,f.y-1).key]={backfilled:!1},F[new a.a2(h.overscaledZ,h.wrap,f.z,f.x,f.y-1).key]={backfilled:!1},F[new a.a2(h.overscaledZ,z,f.z,P,f.y-1).key]={backfilled:!1}),f.y+1<_&&(F[new a.a2(h.overscaledZ,C,f.z,v,f.y+1).key]={backfilled:!1},F[new a.a2(h.overscaledZ,h.wrap,f.z,f.x,f.y+1).key]={backfilled:!1},F[new a.a2(h.overscaledZ,z,f.z,P,f.y+1).key]={backfilled:!1}),F}unloadTile(h){return a._(this,void 0,void 0,(function*(){h.demTexture&&this.map.painter.saveTileTexture(h.demTexture),h.fbo&&(h.fbo.destroy(),delete h.fbo),h.dem&&delete h.dem,delete h.neighboringTiles,h.state="unloaded",h.actor&&(yield h.actor.sendAsync({type:"RDT",data:{type:this.type,uid:h.uid,source:this.id}}))}))}}function jn(T){return T.type==="GeometryCollection"?T.geometries.map((h=>h.coordinates)).flat(1/0):T.coordinates.flat(1/0)}function Ba(T){const h=new Ye;let f;switch(T.type){case"FeatureCollection":f=T.features.map((_=>jn(_.geometry))).flat(1/0);break;case"Feature":f=jn(T.geometry);break;default:f=jn(T)}if(f.length==0)return h;for(let _=0;_<f.length-1;_+=2)h.extend([f[_],f[_+1]]);return h}class Ya extends a.E{constructor(h,f,_,v){super(),this.id=h,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:f.data},this.actor=_.getActor(),this.setEventedParent(v),this._data=typeof f.data=="string"?{url:f.data}:{geojson:f.data},this._options=a.e({},f),this._collectResourceTiming=f.collectResourceTiming,f.maxzoom!==void 0&&(this.maxzoom=f.maxzoom),f.type&&(this.type=f.type),f.attribution&&(this.attribution=f.attribution),this.promoteId=f.promoteId,f.clusterMaxZoom!==void 0&&this.maxzoom<=f.clusterMaxZoom&&a.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${f.clusterMaxZoom}".`),this.workerOptions=a.e({source:this.id,cluster:f.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(f.buffer!==void 0?f.buffer:128),tolerance:this._pixelsToTileUnits(f.tolerance!==void 0?f.tolerance:.375),extent:a.a5,maxZoom:this.maxzoom,lineMetrics:f.lineMetrics||!1,generateId:f.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(f.clusterMaxZoom),minPoints:Math.max(2,f.clusterMinPoints||2),extent:a.a5,radius:this._pixelsToTileUnits(f.clusterRadius||50),log:!1,generateId:f.generateId||!1},clusterProperties:f.clusterProperties,filter:f.filter},f.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(h){return h*(a.a5/this.tileSize)}_getClusterMaxZoom(h){const f=h?Math.round(h):this.maxzoom-1;return Number.isInteger(h)||h===void 0||a.w(`Integer expected for option 'clusterMaxZoom': provided value "${h}" rounded to "${f}"`),f}load(){return a._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(h){this.map=h,this.load()}setData(h,f){this._data=typeof h=="string"?{url:h}:{geojson:h},this._pendingWorkerUpdate={data:h};const _=this._updateWorkerData();return f?_:this}updateData(h,f){this._pendingWorkerUpdate.diff=a.a6(this._pendingWorkerUpdate.diff,h);const _=this._updateWorkerData();return f?_:this}getData(){return a._(this,void 0,void 0,(function*(){const h=a.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:h})}))}getBounds(){return a._(this,void 0,void 0,(function*(){return Ba(yield this.getData())}))}setClusterOptions(h){return this.workerOptions.cluster=h.cluster,h.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(h.clusterRadius)),h.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(h.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(h){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:h,source:this.id}})}getClusterChildren(h){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:h,source:this.id}})}getClusterLeaves(h,f,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:h,limit:f,offset:_}})}_updateWorkerData(){return a._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void a.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:h,diff:f}=this._pendingWorkerUpdate,_=a.e({type:this.type},this.workerOptions);h!==void 0?(typeof h=="string"?(_.request=this.map._requestManager.transformRequest(S.resolveURL(h),"Source"),_.request.collectResourceTiming=this._collectResourceTiming):_.data=h,this._pendingWorkerUpdate.data=void 0):f&&(_.dataDiff=f,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new a.l("dataloading",{dataType:"source"}));try{const v=yield this.actor.sendAsync({type:"LD",data:_});if(this._isUpdatingWorker=!1,this._removed||v.abandoned)return void this.fire(new a.l("dataabort",{dataType:"source"}));v.data&&(this._data={geojson:v.data});const C=this._applyDiffToSource(f),P=this._getShouldReloadTileOptions(C);let z=null;v.resourceTiming&&v.resourceTiming[this.id]&&(z=v.resourceTiming[this.id].slice(0));const F={dataType:"source"};this._collectResourceTiming&&z&&z.length>0&&a.e(F,{resourceTiming:z}),this.fire(new a.l("data",Object.assign(Object.assign({},F),{sourceDataType:"metadata"}))),this.fire(new a.l("data",Object.assign(Object.assign({},F),{sourceDataType:"content",shouldReloadTileOptions:P})))}catch(v){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new a.l("dataabort",{dataType:"source"}));this.fire(new a.k(v))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiffToSource(h){if(!h)return;const f=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){const v=a.a7(this._data.geojson,f);if(!v)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:v}}if(!this._data.updateable)return;const _=a.a8(this._data.updateable,h,f);return h.removeAll||this._options.cluster?void 0:_}_getShouldReloadTileOptions(h){if(h)return{affectedBounds:h.filter(Boolean).map((f=>Ba(f)))}}shouldReloadTile(h,{affectedBounds:f}){if(h.state==="loading")return!0;if(h.state==="unloaded")return!1;const{buffer:_,extent:v}=this.workerOptions.geojsonVtOptions,C=(function({x:P,y:z,z:F},$=0){const G=a.a3((P-$)/Math.pow(2,F)),K=a.a4((z+1+$)/Math.pow(2,F)),Z=a.a3((P+1+$)/Math.pow(2,F)),ie=a.a4((z-$)/Math.pow(2,F));return new Ye([G,K],[Z,ie])})(h.tileID.canonical,_/v);for(const P of f)if(C.intersects(P))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(h){return a._(this,void 0,void 0,(function*(){const f=h.actor?"RT":"LT";h.actor=this.actor;const _={type:this.type,uid:h.uid,tileID:h.tileID,zoom:h.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};h.abortController=new AbortController;const v=yield this.actor.sendAsync({type:f,data:_},h.abortController);delete h.abortController,h.unloadVectorData(),h.aborted||h.loadVectorData(v,this.map.painter,f==="RT")}))}abortTile(h){return a._(this,void 0,void 0,(function*(){h.abortController&&(h.abortController.abort(),delete h.abortController),h.aborted=!0}))}unloadTile(h){return a._(this,void 0,void 0,(function*(){h.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:h.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return a.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class Mi extends a.E{constructor(h,f,_,v){super(),this.flippedWindingOrder=!1,this.id=h,this.dispatcher=_,this.coordinates=f.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=f}load(h){return a._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new a.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const f=yield Y.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,f&&f.data&&(this.image=f.data,h&&(this.coordinates=h),this._finishLoading())}catch(f){this._request=null,this._loaded=!0,a.Z(f)||this.fire(new a.k(f))}}))}loaded(){return this._loaded}updateImage(h){return h.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=h.url,this.load(h.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(h){this.map=h,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(h){this.coordinates=h;const f=h.map(a.a9.fromLngLat);var _;return this.tileID=(function(v){const C=a.aa.fromPoints(v),P=C.width(),z=C.height(),F=Math.max(P,z),$=Math.max(0,Math.floor(-Math.log(F)/Math.LN2)),G=Math.pow(2,$);return new a.ac($,Math.floor((C.minX+C.maxX)/2*G),Math.floor((C.minY+C.maxY)/2*G))})(f),this.terrainTileRanges=this._getOverlappingTileRanges(f),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=f.map((v=>this.tileID.getTilePoint(v)._round())),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new a.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const h=this.map.painter.context,f=h.gl;this.texture||(this.texture=new a.T(h,this.image,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const v in this.tiles){const C=this.tiles[v];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(h){return a._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(h.tileID.canonical)?(this.tiles[String(h.tileID.wrap)]=h,h.buckets={}):h.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(h){const{minX:f,minY:_,maxX:v,maxY:C}=a.aa.fromPoints(h),P={};for(let z=0;z<=a.ab;z++){const F=Math.pow(2,z),$=Math.floor(f*F),G=Math.floor(_*F),K=Math.floor(v*F),Z=Math.floor(C*F);P[z]={minTileX:$,minTileY:G,maxTileX:K,maxTileY:Z}}return P}}class Re extends Mi{constructor(h,f,_,v){super(h,f,_,v),this.roundZoom=!0,this.type="video",this.options=f}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!1;const h=this.options;this.urls=[];for(const f of h.urls)this.urls.push(this.map._requestManager.transformRequest(f,"Source").url);try{const f=yield a.ad(this.urls);if(this._loaded=!0,!f)return;this.video=f,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(f){this.fire(new a.k(f))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(h){if(this.video){const f=this.video.seekable;h<f.start(0)||h>f.end(0)?this.fire(new a.k(new a.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${f.start(0)} and ${f.end(0)}-second mark.`))):this.video.currentTime=h}}getVideo(){return this.video}onAdd(h){this.map||(this.map=h,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const h=this.map.painter.context,f=h.gl;this.texture?this.video.paused||(this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE),f.texSubImage2D(f.TEXTURE_2D,0,0,0,f.RGBA,f.UNSIGNED_BYTE,this.video)):(this.texture=new a.T(h,this.video,f.RGBA),this.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE));let _=!1;for(const v in this.tiles){const C=this.tiles[v];C.state!=="loaded"&&(C.state="loaded",C.texture=this.texture,_=!0)}_&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ae extends Mi{constructor(h,f,_,v){super(h,f,_,v),f.coordinates?Array.isArray(f.coordinates)&&f.coordinates.length===4&&!f.coordinates.some((C=>!Array.isArray(C)||C.length!==2||C.some((P=>typeof P!="number"))))||this.fire(new a.k(new a.ae(`sources.${h}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.k(new a.ae(`sources.${h}`,null,'missing required property "coordinates"'))),f.animate&&typeof f.animate!="boolean"&&this.fire(new a.k(new a.ae(`sources.${h}`,null,'optional "animate" property must be a boolean value'))),f.canvas?typeof f.canvas=="string"||f.canvas instanceof HTMLCanvasElement||this.fire(new a.k(new a.ae(`sources.${h}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.k(new a.ae(`sources.${h}`,null,'missing required property "canvas"'))),this.options=f,this.animate=f.animate===void 0||f.animate}load(){return a._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(h){this.map=h,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let h=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,h=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,h=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const f=this.map.painter.context,_=f.gl;this.texture?(h||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new a.T(f,this.canvas,_.RGBA,{premultiply:!0}),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE));let v=!1;for(const C in this.tiles){const P=this.tiles[C];P.state!=="loaded"&&(P.state="loaded",P.texture=this.texture,v=!0)}v&&this.fire(new a.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const h of[this.canvas.width,this.canvas.height])if(isNaN(h)||h<=0)return!0;return!1}}const re={},ue=T=>{switch(T){case"geojson":return Ya;case"image":return Mi;case"raster":return Oa;case"raster-dem":return Ri;case"vector":return xa;case"video":return Re;case"canvas":return ae}return re[T]},ke="RTLPluginLoaded";class Me extends a.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=ui()}_syncState(h){return this.status=h,this.dispatcher.broadcast("SRPS",{pluginStatus:h,pluginURL:this.url}).catch((f=>{throw this.status="error",f}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(h){return a._(this,arguments,void 0,(function*(f,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=S.resolveURL(f),!this.url)throw new Error(`requested url ${f} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return a._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new a.l(ke))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ze=null;function Fe(){return ze||(ze=new Me),ze}var Le,He;(function(T){T[T.Base=0]="Base",T[T.Parent=1]="Parent"})(Le||(Le={})),(function(T){T[T.Departing=0]="Departing",T[T.Incoming=1]="Incoming"})(He||(He={}));class tt{constructor(h,f){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=h,this.uid=a.af(),this.uses=0,this.tileSize=f,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(h){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(h||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:h,fadingDirection:f,fadingParentID:_,fadeEndTime:v}){this.resetFadeLogic(),this.fadingRole=h,this.fadingDirection=f,this.fadingParentID=_,this.fadeEndTime=v}setSelfFadeLogic(h){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=h}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=M(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(h){this.demTexture&&h.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(h,f,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",h){h.featureIndex&&(this.latestFeatureIndex=h.featureIndex,h.rawTileData?(this.latestRawTileData=h.rawTileData,this.latestFeatureIndex.rawTileData=h.rawTileData,this.latestFeatureIndex.encoding=h.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=h.collisionBoxArray,this.buckets=(function(v,C){const P={};if(!C)return P;for(const z of v){const F=z.layerIds.map(($=>C.getLayer($))).filter(Boolean);if(F.length!==0){z.layers=F,z.stateDependentLayerIds&&(z.stateDependentLayers=z.stateDependentLayerIds.map(($=>F.filter((G=>G.id===$))[0])));for(const $ of F)P[$.id]=z}}return P})(h.buckets,f?.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const C=this.buckets[v];if(C instanceof a.ah){if(this.hasSymbolBuckets=!0,!_)break;C.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const C=this.buckets[v];if(C instanceof a.ah&&C.hasRTLText){this.hasRTLText=!0,Fe().lazyLoad();break}}this.queryPadding=0;for(const v in this.buckets){const C=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,f.style.getLayer(v).queryRadius(C))}h.imageAtlas&&(this.imageAtlas=h.imageAtlas),h.glyphAtlasImage&&(this.glyphAtlasImage=h.glyphAtlasImage),this.dashPositions=h.dashPositions}else this.collisionBoxArray=new a.ag}unloadVectorData(){for(const h in this.buckets)this.buckets[h].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(h){return this.buckets[h.id]}upload(h){for(const _ in this.buckets){const v=this.buckets[_];v.uploadPending()&&v.upload(h)}const f=h.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new a.T(h,this.imageAtlas.image,f.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new a.T(h,this.glyphAtlasImage,f.ALPHA),this.glyphAtlasImage=null)}prepare(h){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(h,this.imageAtlasTexture)}queryRenderedFeatures(h,f,_,v,C,P,z,F,$,G,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:C,scale:P,tileSize:this.tileSize,pixelPosMatrix:G,transform:F,params:z,queryPadding:this.queryPadding*$,getElevation:K},h,f,_):{}}querySourceFeatures(h,f){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const v=_.loadVTLayers(),C=f&&f.sourceLayer?f.sourceLayer:"",P=v[a.ai]||v[C];if(!P)return;const z=a.aj(f?.filter,f?.globalState),{z:F,x:$,y:G}=this.tileID.canonical,K={z:F,x:$,y:G};for(let Z=0;Z<P.length;Z++){const ie=P.feature(Z);if(z.needGeometry){const me=a.ak(ie,!0);if(!z.filter(new a.H(this.tileID.overscaledZ),me,this.tileID.canonical))continue}else if(!z.filter(new a.H(this.tileID.overscaledZ),ie))continue;const oe=_.getId(ie,C),fe=new a.al(ie,F,$,G,oe);fe.tile=K,h.push(fe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(h){const f=this.expirationTime;if(h.cacheControl){const _=a.am(h.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else h.expires&&(this.expirationTime=new Date(h.expires).getTime());if(this.expirationTime){const _=Date.now();let v=!1;if(this.expirationTime>_)v=!1;else if(f)if(this.expirationTime<f)v=!0;else{const C=this.expirationTime-f;C?this.expirationTime=_+Math.max(C,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(h,f){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(h).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!f.style.hasLayer(v))continue;const C=this.buckets[v],P=C.layers[0].sourceLayer||a.ai,z=_[P],F=h[P];if(!z||!F||Object.keys(F).length===0)continue;C.update(F,z,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const $=f&&f.style&&f.style.getLayer(v);$&&(this.queryPadding=Math.max(this.queryPadding,$.queryRadius(C)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<M()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(h){this.symbolFadeHoldUntil=M()+h}setDependencies(h,f){const _={};for(const v of f)_[v]=!0;this.dependencies[h]=_}hasDependency(h,f){for(const _ of h){const v=this.dependencies[_];if(v){for(const C of f)if(v[C])return!0}}return!1}}class Je{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(h,f,_){const v=String(f);if(this.stateChanges[h]=this.stateChanges[h]||{},this.stateChanges[h][v]=this.stateChanges[h][v]||{},a.e(this.stateChanges[h][v],_),this.deletedStates[h]===null){this.deletedStates[h]={};for(const C in this.state[h])C!==v&&(this.deletedStates[h][C]=null)}else if(this.deletedStates[h]&&this.deletedStates[h][v]===null){this.deletedStates[h][v]={};for(const C in this.state[h][v])_[C]||(this.deletedStates[h][v][C]=null)}else for(const C in _)this.deletedStates[h]&&this.deletedStates[h][v]&&this.deletedStates[h][v][C]===null&&delete this.deletedStates[h][v][C]}removeFeatureState(h,f,_){if(this.deletedStates[h]===null)return;const v=String(f);if(this.deletedStates[h]=this.deletedStates[h]||{},_&&f!==void 0)this.deletedStates[h][v]!==null&&(this.deletedStates[h][v]=this.deletedStates[h][v]||{},this.deletedStates[h][v][_]=null);else if(f!==void 0)if(this.stateChanges[h]&&this.stateChanges[h][v])for(_ in this.deletedStates[h][v]={},this.stateChanges[h][v])this.deletedStates[h][v][_]=null;else this.deletedStates[h][v]=null;else this.deletedStates[h]=null}getState(h,f){const _=String(f),v=a.e({},(this.state[h]||{})[_],(this.stateChanges[h]||{})[_]);if(this.deletedStates[h]===null)return{};if(this.deletedStates[h]){const C=this.deletedStates[h][f];if(C===null)return{};for(const P in C)delete v[P]}return v}initializeTileState(h,f){h.setFeatureState(this.state,f)}coalesceChanges(h,f){const _={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const C={};for(const P in this.stateChanges[v])this.state[v][P]||(this.state[v][P]={}),a.e(this.state[v][P],this.stateChanges[v][P]),C[P]=this.state[v][P];_[v]=C}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const C={};if(this.deletedStates[v]===null)for(const P in this.state[v])C[P]={},this.state[v][P]={};else for(const P in this.deletedStates[v]){if(this.deletedStates[v][P]===null)this.state[v][P]={};else for(const z of Object.keys(this.deletedStates[v][P]))delete this.state[v][P][z];C[P]=this.state[v][P]}_[v]=_[v]||{},a.e(_[v],C)}this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0&&h.setFeatureState(_,f)}}const _t=89.25;function ht(T,h){const f=a.an(h.lat,-a.ao,a.ao);return new a.P(a.Y(h.lng)*T,a.X(f)*T)}function Vt(T,h){return new a.a9(h.x/T,h.y/T).toLngLat()}function li(T){return T.cameraToCenterDistance*Math.min(.85*Math.tan(a.ap(90-T.pitch)),Math.tan(a.ap(_t-T.pitch)))}function ii(T,h){const f=T.canonical,_=h/a.aq(f.z),v=f.x+Math.pow(2,f.z)*T.wrap,C=a.ar(new Float64Array(16));return a.O(C,C,[v*_,f.y*_,0]),a.Q(C,C,[_/a.a5,_/a.a5,1]),C}function je(T,h,f,_,v){const C=a.a9.fromLngLat(T,h),P=v*a.as(1,T.lat),{x:z,y:F,z:$}=_i(f,_);return new a.a9(C.x+P*-z,C.y+P*-F,C.z+P*-$)}function _i(T,h){const f=a.ap(T),_=a.ap(h),v=Math.cos(-f),C=Math.sin(f);return{x:C*Math.sin(_),y:-C*Math.cos(_),z:v}}function dn(T,h,f){const _=h.intersectsFrustum(T);if(!f||_===0)return _;const v=h.intersectsPlane(f);return v===0?0:_===2&&v===2?2:1}function Nt(T,h,f){let _=0;const v=(f-h)/10;for(let C=0;C<10;C++)_+=v*Math.pow(Math.cos(h+(C+.5)/10*(f-h)),T);return _}function yi(T,h){return function(f,_,v,C,P){const z=2*((T-1)/a.at(Math.cos(a.ap(_t-P))/Math.cos(a.ap(_t)))-1),F=Math.acos(v/C),$=2*Nt(z-1,0,a.ap(P/2)),G=Math.min(a.ap(_t),F+a.ap(P/2)),K=Nt(z-1,Math.min(G,F-a.ap(P/2)),G),Z=Math.atan(_/v),ie=Math.hypot(_,v);let oe=f;return oe+=a.at(C/ie/Math.max(.5,Math.cos(a.ap(P/2)))),oe+=z*a.at(Math.cos(Z))/2,oe-=a.at(Math.max(1,K/$/h))/2,oe}}const Bt=yi(9.314,3);function St(T,h){const f=(h.roundZoom?Math.round:Math.floor)(T.zoom+a.at(T.tileSize/h.tileSize));return Math.max(0,f)}function Gt(T,h){const f=T.getCameraFrustum(),_=T.getClippingPlane(),v=T.screenPointToMercatorCoordinate(T.getCameraPoint()),C=a.a9.fromLngLat(T.center,T.elevation);v.z=C.z+Math.cos(T.pitchInRadians)*T.cameraToCenterDistance/T.worldSize;const P=T.getCoveringTilesDetailsProvider(),z=P.allowVariableZoom(T,h),F=St(T,h),$=h.minzoom||0,G=h.maxzoom!==void 0?h.maxzoom:T.maxZoom,K=Math.min(Math.max(0,F),G),Z=Math.pow(2,K),ie=[Z*v.x,Z*v.y,0],oe=[Z*C.x,Z*C.y,0],fe=Math.hypot(C.x-v.x,C.y-v.y),me=Math.abs(C.z-v.z),pe=Math.hypot(fe,me),ye=Se=>({zoom:0,x:0,y:0,wrap:Se,fullyVisible:!1}),Ce=[],ge=[];if(T.renderWorldCopies&&P.allowWorldCopies())for(let Se=1;Se<=3;Se++)Ce.push(ye(-Se)),Ce.push(ye(Se));for(Ce.push(ye(0));Ce.length>0;){const Se=Ce.pop(),Pe=Se.x,we=Se.y;let Ie=Se.fullyVisible;const qe={x:Pe,y:we,z:Se.zoom},Ve=P.getTileBoundingVolume(qe,Se.wrap,T.elevation,h);if(!Ie){const dt=dn(f,Ve,_);if(dt===0)continue;Ie=dt===2}const Ge=P.distanceToTile2d(v.x,v.y,qe,Ve);let We=F;z&&(We=(h.calculateTileZoom||Bt)(T.zoom+a.at(T.tileSize/h.tileSize),Ge,me,pe,T.fov)),We=(h.roundZoom?Math.round:Math.floor)(We),We=Math.max(0,We);const ut=Math.min(We,G);if(Se.wrap=P.getWrap(C,qe,Se.wrap),Se.zoom>=ut){if(Se.zoom<$)continue;const dt=K-Se.zoom,rt=ie[0]-.5-(Pe<<dt),mt=ie[1]-.5-(we<<dt),ei=h.reparseOverscaled?Math.max(Se.zoom,We):Se.zoom;ge.push({tileID:new a.a2(Se.zoom===G?ei:Se.zoom,Se.wrap,Se.zoom,Pe,we),distanceSq:a.au([oe[0]-.5-Pe,oe[1]-.5-we]),tileDistanceToCamera:Math.sqrt(rt*rt+mt*mt)})}else for(let dt=0;dt<4;dt++)Ce.push({zoom:Se.zoom+1,x:(Pe<<1)+dt%2,y:(we<<1)+(dt>>1),wrap:Se.wrap,fullyVisible:Ie})}return ge.sort(((Se,Pe)=>Se.distanceSq-Pe.distanceSq)).map((Se=>Se.tileID))}const ct=a.aa.fromPoints([new a.P(0,0),new a.P(a.a5,a.a5)]);function zt(T){return T==="raster"||T==="image"||T==="video"}function $t(T,h,f,_,v,C,P){if(!h.hasData())return!1;const{tileID:z,fadingRole:F,fadingDirection:$,fadingParentID:G}=h;if(F===Le.Base&&$===He.Incoming&&G)return f[G.key]=G,!0;const K=Math.max(z.overscaledZ-v,C);for(let Z=z.overscaledZ-1;Z>=K;Z--){const ie=z.scaledTo(Z),oe=T.getLoadedTile(ie);if(oe)return h.setCrossFadeLogic({fadingRole:Le.Base,fadingDirection:He.Incoming,fadingParentID:oe.tileID,fadeEndTime:_+P}),oe.setCrossFadeLogic({fadingRole:Le.Parent,fadingDirection:He.Departing,fadeEndTime:_+P}),f[ie.key]=ie,!0}return!1}function Qt(T,h,f,_,v,C){if(!h.hasData())return!1;const P=h.tileID.children(v);let z=it(T,h,P,f,_,v,C);if(z)return!0;for(const F of P)it(T,h,F.children(v),f,_,v,C)&&(z=!0);return z}function it(T,h,f,_,v,C,P){if(f[0].overscaledZ>=C)return!1;let z=!1;for(const F of f){const $=T.getLoadedTile(F);if(!$)continue;const{fadingRole:G,fadingDirection:K,fadingParentID:Z}=$;G===Le.Base&&K===He.Departing&&Z||($.setCrossFadeLogic({fadingRole:Le.Base,fadingDirection:He.Departing,fadingParentID:h.tileID,fadeEndTime:v+P}),h.setCrossFadeLogic({fadingRole:Le.Parent,fadingDirection:He.Incoming,fadeEndTime:v+P})),_[F.key]=F,z=!0}return z}function qt(T,h,f,_){const v=T.tileID;return!!T.selfFading||!T.hasData()&&!!h.has(v)&&(T.setSelfFadeLogic(f+_),!0)}function fi(T,h){var f;T.needsHillshadePrepare=!0,T.needsTerrainPrepare=!0;let _=h.tileID.canonical.x-T.tileID.canonical.x;const v=h.tileID.canonical.y-T.tileID.canonical.y,C=Math.pow(2,T.tileID.canonical.z),P=h.tileID.key;_===0&&v===0||Math.abs(v)>1||(Math.abs(_)>1&&(Math.abs(_+C)===1?_+=C:Math.abs(_-C)===1&&(_-=C)),h.dem&&T.dem&&(T.dem.backfillBorder(h.dem,_,v),!((f=T.neighboringTiles)===null||f===void 0)&&f[P]&&(T.neighboringTiles[P].backfilled=!0)))}class Nn{constructor(){this._tiles={}}handleWrapJump(h){const f={};for(const _ in this._tiles){const v=this._tiles[_];v.tileID=v.tileID.unwrapTo(v.tileID.wrap+h),f[v.tileID.key]=v}this._tiles=f}setFeatureState(h,f){for(const _ in this._tiles)this._tiles[_].setFeatureState(h,f)}getAllTiles(){return Object.values(this._tiles)}getAllIds(h=!1){return h?Object.values(this._tiles).map((f=>f.tileID)).sort(a.aw).map((f=>f.key)):Object.keys(this._tiles)}getTileById(h){return this._tiles[h]}setTile(h,f){this._tiles[h]=f}deleteTileById(h){delete this._tiles[h]}getLoadedTile(h){const f=this.getTileById(h.key);return f?.hasData()?f:null}isIdRenderable(h,f=!1){var _;return(_=this.getTileById(h))===null||_===void 0?void 0:_.isRenderable(f)}getRenderableIds(h=0,f){const _=[];for(const v of this.getAllIds())this.isIdRenderable(v,f)&&_.push(this.getTileById(v));return f?_.sort(((v,C)=>{const P=v.tileID,z=C.tileID,F=new a.P(P.canonical.x,P.canonical.y)._rotate(-h),$=new a.P(z.canonical.x,z.canonical.y)._rotate(-h);return P.overscaledZ-z.overscaledZ||$.y-F.y||$.x-F.x})).map((v=>v.tileID.key)):_.map((v=>v.tileID)).sort(a.aw).map((v=>v.key))}}class Ti extends a.E{constructor(h,f,_){super(),this.id=h,this.dispatcher=_,this.on("data",(v=>this._dataHandler(v))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((v,C,P,z)=>{const F=new(ue(C.type))(v,C,P,z);if(F.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${F.id}`);return F})(h,f,_,this),this._inViewTiles=new Nn,this._outOfViewCache=new a.ax(0,(v=>this._unloadTile(v))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new Je,this._didEmitContent=!1,this._updated=!1}onAdd(h){this.map=h,this._maxTileCacheSize=h?h._maxTileCacheSize:null,this._maxTileCacheZoomLevels=h?h._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(h)}onRemove(h){for(const f of this._inViewTiles.getAllTiles())f.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(h),this._inViewTiles=new Nn}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const h of this._inViewTiles.getAllTiles())if(h.state!=="loaded"&&h.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const h=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,h&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(h,f,_){return a._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(h),this._tileLoaded(h,f,_)}catch(v){h.state="errored",v.status!==404?this._source.fire(new a.k(v,{tile:h})):this.update(this.transform,this.terrain)}}))}_unloadTile(h){this._source.unloadTile&&this._source.unloadTile(h)}_abortTile(h){this._source.abortTile&&this._source.abortTile(h),this._source.fire(new a.l("dataabort",{tile:h,coord:h.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(h){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const f of this._inViewTiles.getAllTiles())f.upload(h),f.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(h){var f;return this._inViewTiles.getRenderableIds((f=this.transform)===null||f===void 0?void 0:f.bearingInRadians,h)}hasRenderableParent(h){const f=h.overscaledZ-1;if(f>=this._source.minzoom){const _=this.getLoadedTile(h.scaledTo(f));if(_)return this._inViewTiles.isIdRenderable(_.tileID.key)}return!1}reload(h,f=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const _ of this._inViewTiles.getAllIds()){const v=this._inViewTiles.getTileById(_);f&&!this._source.shouldReloadTile(v,f)||(h?this._reloadTile(_,"expired"):v.state!=="errored"&&this._reloadTile(_,"reloading"))}}}_reloadTile(h,f){return a._(this,void 0,void 0,(function*(){const _=this._inViewTiles.getTileById(h);_&&(_.state!=="loading"&&(_.state=f),yield this._loadTile(_,h,f))}))}_tileLoaded(h,f,_){h.timeAdded=M(),h.selfFading&&(h.fadeEndTime=h.timeAdded+this._rasterFadeDuration),_==="expired"&&(h.refreshedUponExpiration=!0),this._setTileReloadTimer(f,h),this.getSource().type==="raster-dem"&&h.dem&&(function(v,C){var P,z;const F=C.getRenderableIds();for(const $ of F){if(!v.neighboringTiles||!v.neighboringTiles[$])continue;const G=C.getTileById($);v.neighboringTiles[$].backfilled||fi(v,G),!((z=(P=G.neighboringTiles)===null||P===void 0?void 0:P[v.tileID.key])===null||z===void 0)&&z.backfilled||fi(G,v)}})(h,this._inViewTiles),this._state.initializeTileState(h,this.map?this.map.painter:null),h.aborted||this._source.fire(new a.l("data",{dataType:"source",tile:h,coord:h.tileID}))}getTile(h){return this.getTileByID(h.key)}getTileByID(h){return this._inViewTiles.getTileById(h)}_retainLoadedChildren(h,f){const _=this._getLoadedDescendents(f),v=new Set;for(const C of f){const P=_[C.key];if(!P?.length){v.add(C);continue}const z=C.overscaledZ+Ti.maxOverzooming,F=P.filter((K=>K.tileID.overscaledZ<=z));if(!F.length){v.add(C);continue}const $=Math.min(...F.map((K=>K.tileID.overscaledZ))),G=F.filter((K=>K.tileID.overscaledZ===$)).map((K=>K.tileID));for(const K of G)h[K.key]=K;this._areDescendentsComplete(G,$,C.overscaledZ)||v.add(C)}return v}_getLoadedDescendents(h){var f;const _={};for(const v of this._inViewTiles.getAllTiles().filter((C=>C.hasData())))for(const C of h)v.tileID.isChildOf(C)&&(_[f=C.key]||(_[f]=[])).push(v);return _}_areDescendentsComplete(h,f,_){return h.length===1&&h[0].isOverscaled()?h[0].overscaledZ===f:Math.pow(4,f-_)===h.length}getLoadedTile(h){return this._inViewTiles.getLoadedTile(h)}updateCacheSize(h){const f=Math.ceil(h.width/this._source.tileSize)+1,_=Math.ceil(h.height/this._source.tileSize)+1,v=Math.floor(f*_*(this._maxTileCacheZoomLevels===null?a.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),C=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._outOfViewCache.setMaxSize(C)}handleWrapJump(h){const f=Math.round((h-(this._prevLng===void 0?h:this._prevLng))/360);this._prevLng=h,f&&(this._inViewTiles.handleWrapJump(f),this._resetTileReloadTimers())}update(h,f){if(!this._sourceLoaded||this._paused)return;let _;this.transform=h,this.terrain=f,this.updateCacheSize(h),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?_=h.getVisibleUnwrappedCoordinates(this._source.tileID).map((F=>new a.a2(F.canonical.z,F.wrap,F.canonical.z,F.canonical.x,F.canonical.y))):(_=Gt(h,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?h.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:f,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter((F=>this._source.hasTile(F))))):_=[],this.usedForTerrain&&(_=this._addTerrainIdealTiles(_));const v=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,v&&this.fire(new a.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const C=St(h,this._source),P=this._updateRetainedTiles(_,C),z=zt(this._source.type);z&&this._rasterFadeDuration>0&&!f&&(function(F,$,G,K,Z,ie,oe){const fe=M(),me=a.av($);for(const pe of $){const ye=F.getTileById(pe.key);ye.fadingDirection!==He.Departing&&ye.fadeOpacity!==0||ye.resetFadeLogic(),$t(F,ye,G,fe,K,Z,oe)||Qt(F,ye,G,fe,ie,oe)||qt(ye,me,fe,oe)||ye.resetFadeLogic()}})(this._inViewTiles,_,P,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),z?this._cleanUpRasterTiles(P):this._cleanUpVectorTiles(P)}_cleanUpRasterTiles(h){for(const f of this._inViewTiles.getAllIds())h[f]||this._removeTile(f)}_cleanUpVectorTiles(h){for(const f of this._inViewTiles.getAllIds()){const _=this._inViewTiles.getTileById(f);h[f]?_.clearSymbolFadeHold():_.hasSymbolBuckets?_.holdingForSymbolFade()?_.symbolFadeFinished()&&this._removeTile(f):_.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(f)}}_addTerrainIdealTiles(h){const f=[];for(const _ of h)if(_.canonical.z>this._source.minzoom){const v=_.scaledTo(_.canonical.z-1);f.push(v);const C=_.scaledTo(Math.max(this._source.minzoom,Math.min(_.canonical.z,5)));f.push(C)}return h.concat(f)}releaseSymbolFadeTiles(){for(const h of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(h).holdingForSymbolFade()&&this._removeTile(h)}_updateRetainedTiles(h,f){var _;const v=new Set;for(const $ of h)this._addTile($).hasData()||v.add($);const C=h.reduce((($,G)=>($[G.key]=G,$)),{}),P=this._retainLoadedChildren(C,v),z={},F=Math.max(f-Ti.maxUnderzooming,this._source.minzoom);for(const $ of P){let G=this._inViewTiles.getTileById($.key),K=G?.wasRequested();for(let Z=$.overscaledZ-1;Z>=F;--Z){const ie=$.scaledTo(Z);if(z[ie.key])break;if(z[ie.key]=!0,G=this.getTile(ie),!G&&K&&(G=this._addTile(ie)),G){const oe=G.hasData();if((oe||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||K)&&(C[ie.key]=ie),K=G.wasRequested(),oe)break}}}return C}_addTile(h){let f=this._inViewTiles.getTileById(h.key);if(f)return f;f=this._outOfViewCache.getAndRemove(h),f&&(f.resetFadeLogic(),this._setTileReloadTimer(h.key,f),f.tileID=h,this._state.initializeTileState(f,this.map?this.map.painter:null));const _=f;return f||(f=new tt(h,this._source.tileSize*h.overscaleFactor()),this._loadTile(f,h.key,f.state)),f.uses++,this._inViewTiles.setTile(h.key,f),_||this._source.fire(new a.l("dataloading",{tile:f,coord:f.tileID,dataType:"source"})),f}_setTileReloadTimer(h,f){this._clearTileReloadTimer(h);const _=f.getExpiryTimeout();_&&(this._timers[h]=setTimeout((()=>{this._reloadTile(h,"expired"),delete this._timers[h]}),_))}_clearTileReloadTimer(h){const f=this._timers[h];f&&(clearTimeout(f),delete this._timers[h])}_resetTileReloadTimers(){for(const h in this._timers)clearTimeout(this._timers[h]),delete this._timers[h];for(const h of this._inViewTiles.getAllIds()){const f=this._inViewTiles.getTileById(h);this._setTileReloadTimer(h,f)}}refreshTiles(h){for(const f of this._inViewTiles.getAllIds()){const _=this._inViewTiles.getTileById(f);(this._inViewTiles.isIdRenderable(f)||_.state=="errored")&&h.some((v=>v.equals(_.tileID.canonical)))&&this._reloadTile(f,"expired")}}_removeTile(h){const f=this._inViewTiles.getTileById(h);f&&(f.uses--,this._inViewTiles.deleteTileById(h),this._clearTileReloadTimer(h),f.uses>0||(f.hasData()&&f.state!=="reloading"?this._outOfViewCache.add(f.tileID,f,f.getExpiryTimeout()):(f.aborted=!0,this._abortTile(f),this._unloadTile(f))))}_dataHandler(h){h.dataType==="source"&&(h.sourceDataType!=="metadata"?h.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(h.sourceDataChanged,h.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const h of this._inViewTiles.getAllIds())this._removeTile(h);this._outOfViewCache.reset()}tilesIn(h,f,_){const v=[],C=this.transform;if(!C)return v;const P=C.getCoveringTilesDetailsProvider().allowWorldCopies(),z=_?C.getCameraQueryGeometry(h):h,F=ie=>C.screenPointToMercatorCoordinate(ie,this.terrain),$=this.transformBbox(h,F,!P),G=this.transformBbox(z,F,!P),K=this.getIds(),Z=a.aa.fromPoints(G);for(let ie=0;ie<K.length;ie++){const oe=this._inViewTiles.getTileById(K[ie]);if(oe.holdingForSymbolFade())continue;const fe=P?[oe.tileID]:[oe.tileID.unwrapTo(-1),oe.tileID.unwrapTo(0)],me=Math.pow(2,C.zoom-oe.tileID.overscaledZ),pe=f*oe.queryPadding*a.a5/oe.tileSize/me;for(const ye of fe){const Ce=Z.map((ge=>ye.getTilePoint(new a.a9(ge.x,ge.y))));if(Ce.expandBy(pe),Ce.intersects(ct)){const ge=$.map((Pe=>ye.getTilePoint(Pe))),Se=G.map((Pe=>ye.getTilePoint(Pe)));v.push({tile:oe,tileID:P?ye:ye.unwrapTo(0),queryGeometry:ge,cameraQueryGeometry:Se,scale:me})}}}return v}transformBbox(h,f,_){let v=h.map(f);if(_){const C=a.aa.fromPoints(h);C.shrinkBy(.001*Math.min(C.width(),C.height()));const P=C.map(f);a.aa.fromPoints(v).covers(P)||(v=v.map((z=>z.x>.5?new a.a9(z.x-1,z.y,z.z):z)))}return v}getVisibleCoordinates(h){const f=this.getRenderableIds(h).map((_=>this._inViewTiles.getTileById(_).tileID));return this.transform&&this.transform.populateCache(f),f}hasTransition(){return!!this._source.hasTransition()||!(!zt(this._source.type)||!(function(h,f){if(f<=0)return!1;const _=M();for(const v of h.getAllTiles())if(v.fadeEndTime>=_)return!0;return!1})(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(h){this._rasterFadeDuration=h}setFeatureState(h,f,_){this._state.updateState(h=h||a.ai,f,_)}removeFeatureState(h,f,_){this._state.removeFeatureState(h=h||a.ai,f,_)}getFeatureState(h,f){return this._state.getState(h=h||a.ai,f)}setDependencies(h,f,_){const v=this._inViewTiles.getTileById(h);v&&v.setDependencies(f,_)}reloadTilesForDependencies(h,f){for(const _ of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(_).hasDependency(h,f)&&this._reloadTile(_,"reloading");this._outOfViewCache.filter((_=>!_.hasDependency(h,f)))}areTilesLoaded(){for(const h of this._inViewTiles.getAllTiles())if(h.state!=="loaded"&&h.state!=="errored")return!1;return!0}}Ti.maxUnderzooming=10,Ti.maxOverzooming=3;class ot{constructor(h,f){this.reset(h,f)}reset(h,f){this.points=h||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(f||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(h){if(this.points.length===1)return this.points[0];h=a.an(h,0,1);let f=1,_=this._distances[f];const v=h*this.paddedLength+this.padding;for(;_<v&&f<this._distances.length;)_=this._distances[++f];const C=f-1,P=this._distances[C],z=_-P,F=z>0?(v-P)/z:0;return this.points[C].mult(1-F).add(this.points[f].mult(F))}}function Mt(T,h){let f=!0;return T==="always"||T!=="never"&&h!=="never"||(f=!1),f}class Ut{constructor(h,f,_){const v=this.boxCells=[],C=this.circleCells=[];this.xCellCount=Math.ceil(h/_),this.yCellCount=Math.ceil(f/_);for(let P=0;P<this.xCellCount*this.yCellCount;P++)v.push([]),C.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=h,this.height=f,this.xScale=this.xCellCount/h,this.yScale=this.yCellCount/f,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(h,f,_,v,C){this._forEachCell(f,_,v,C,this._insertBoxCell,this.boxUid++),this.boxKeys.push(h),this.bboxes.push(f),this.bboxes.push(_),this.bboxes.push(v),this.bboxes.push(C)}insertCircle(h,f,_,v){this._forEachCell(f-v,_-v,f+v,_+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(h),this.circles.push(f),this.circles.push(_),this.circles.push(v)}_insertBoxCell(h,f,_,v,C,P){this.boxCells[C].push(P)}_insertCircleCell(h,f,_,v,C,P){this.circleCells[C].push(P)}_query(h,f,_,v,C,P,z){if(_<0||h>this.width||v<0||f>this.height)return[];const F=[];if(h<=0&&f<=0&&this.width<=_&&this.height<=v){if(C)return[{key:null,x1:h,y1:f,x2:_,y2:v}];for(let $=0;$<this.boxKeys.length;$++)F.push({key:this.boxKeys[$],x1:this.bboxes[4*$],y1:this.bboxes[4*$+1],x2:this.bboxes[4*$+2],y2:this.bboxes[4*$+3]});for(let $=0;$<this.circleKeys.length;$++){const G=this.circles[3*$],K=this.circles[3*$+1],Z=this.circles[3*$+2];F.push({key:this.circleKeys[$],x1:G-Z,y1:K-Z,x2:G+Z,y2:K+Z})}}else this._forEachCell(h,f,_,v,this._queryCell,F,{hitTest:C,overlapMode:P,seenUids:{box:{},circle:{}}},z);return F}query(h,f,_,v){return this._query(h,f,_,v,!1,null)}hitTest(h,f,_,v,C,P){return this._query(h,f,_,v,!0,C,P).length>0}hitTestCircle(h,f,_,v,C){const P=h-_,z=h+_,F=f-_,$=f+_;if(z<0||P>this.width||$<0||F>this.height)return!1;const G=[];return this._forEachCell(P,F,z,$,this._queryCellCircle,G,{hitTest:!0,overlapMode:v,circle:{x:h,y:f,radius:_},seenUids:{box:{},circle:{}}},C),G.length>0}_queryCell(h,f,_,v,C,P,z,F){const{seenUids:$,hitTest:G,overlapMode:K}=z,Z=this.boxCells[C];if(Z!==null){const oe=this.bboxes;for(const fe of Z)if(!$.box[fe]){$.box[fe]=!0;const me=4*fe,pe=this.boxKeys[fe];if(h<=oe[me+2]&&f<=oe[me+3]&&_>=oe[me+0]&&v>=oe[me+1]&&(!F||F(pe))&&(!G||!Mt(K,pe.overlapMode))&&(P.push({key:pe,x1:oe[me],y1:oe[me+1],x2:oe[me+2],y2:oe[me+3]}),G))return!0}}const ie=this.circleCells[C];if(ie!==null){const oe=this.circles;for(const fe of ie)if(!$.circle[fe]){$.circle[fe]=!0;const me=3*fe,pe=this.circleKeys[fe];if(this._circleAndRectCollide(oe[me],oe[me+1],oe[me+2],h,f,_,v)&&(!F||F(pe))&&(!G||!Mt(K,pe.overlapMode))){const ye=oe[me],Ce=oe[me+1],ge=oe[me+2];if(P.push({key:pe,x1:ye-ge,y1:Ce-ge,x2:ye+ge,y2:Ce+ge}),G)return!0}}}return!1}_queryCellCircle(h,f,_,v,C,P,z,F){const{circle:$,seenUids:G,overlapMode:K}=z,Z=this.boxCells[C];if(Z!==null){const oe=this.bboxes;for(const fe of Z)if(!G.box[fe]){G.box[fe]=!0;const me=4*fe,pe=this.boxKeys[fe];if(this._circleAndRectCollide($.x,$.y,$.radius,oe[me+0],oe[me+1],oe[me+2],oe[me+3])&&(!F||F(pe))&&!Mt(K,pe.overlapMode))return P.push(!0),!0}}const ie=this.circleCells[C];if(ie!==null){const oe=this.circles;for(const fe of ie)if(!G.circle[fe]){G.circle[fe]=!0;const me=3*fe,pe=this.circleKeys[fe];if(this._circlesCollide(oe[me],oe[me+1],oe[me+2],$.x,$.y,$.radius)&&(!F||F(pe))&&!Mt(K,pe.overlapMode))return P.push(!0),!0}}}_forEachCell(h,f,_,v,C,P,z,F){const $=this._convertToXCellCoord(h),G=this._convertToYCellCoord(f),K=this._convertToXCellCoord(_),Z=this._convertToYCellCoord(v);for(let ie=$;ie<=K;ie++)for(let oe=G;oe<=Z;oe++)if(C.call(this,h,f,_,v,this.xCellCount*oe+ie,P,z,F))return}_convertToXCellCoord(h){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(h*this.xScale)))}_convertToYCellCoord(h){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(h*this.yScale)))}_circlesCollide(h,f,_,v,C,P){const z=v-h,F=C-f,$=_+P;return $*$>z*z+F*F}_circleAndRectCollide(h,f,_,v,C,P,z){const F=(P-v)/2,$=Math.abs(h-(v+F));if($>F+_)return!1;const G=(z-C)/2,K=Math.abs(f-(C+G));if(K>G+_)return!1;if($<=F||K<=G)return!0;const Z=$-F,ie=K-G;return Z*Z+ie*ie<=_*_}}function pi(T,h,f){const _=a.N();if(!T){const{vecSouth:K,vecEast:Z}=Xn(h),ie=p();ie[0]=Z[0],ie[1]=Z[1],ie[2]=K[0],ie[3]=K[1],v=ie,(G=(P=(C=ie)[0])*($=C[3])-(F=C[2])*(z=C[1]))&&(v[0]=$*(G=1/G),v[1]=-z*G,v[2]=-F*G,v[3]=P*G),_[0]=ie[0],_[1]=ie[1],_[4]=ie[2],_[5]=ie[3]}var v,C,P,z,F,$,G;return a.Q(_,_,[1/f,1/f,1]),_}function la(T,h,f,_){if(T){const v=a.N();if(!h){const{vecSouth:C,vecEast:P}=Xn(f);v[0]=P[0],v[1]=P[1],v[4]=C[0],v[5]=C[1]}return a.Q(v,v,[_,_,1]),v}return f.pixelsToClipSpaceMatrix}function Xn(T){const h=Math.cos(T.rollInRadians),f=Math.sin(T.rollInRadians),_=Math.cos(T.pitchInRadians),v=Math.cos(T.bearingInRadians),C=Math.sin(T.bearingInRadians),P=a.aC();P[0]=-v*_*f-C*h,P[1]=-C*_*f+v*h;const z=a.aD(P);z<1e-9?a.aE(P):a.aF(P,P,1/z);const F=a.aC();F[0]=v*_*h-C*f,F[1]=C*_*h+v*f;const $=a.aD(F);return $<1e-9?a.aE(F):a.aF(F,F,1/$),{vecEast:F,vecSouth:P}}function Ft(T,h,f,_){let v;_?(v=[T,h,_(T,h),1],a.aH(v,v,f)):(v=[T,h,0,1],Qu(v,v,f));const C=v[3];return{point:new a.P(v[0]/C,v[1]/C),signedDistanceFromCamera:C,isOccluded:!1}}function vn(T,h){return .5+T/h*.5}function Pn(T,h){return T.x>=-h[0]&&T.x<=h[0]&&T.y>=-h[1]&&T.y<=h[1]}function Cr(T,h,f,_,v,C,P,z,F,$,G,K,Z){const ie=f?T.textSizeData:T.iconSizeData,oe=a.ay(ie,h.transform.zoom),fe=[256/h.width*2+1,256/h.height*2+1],me=f?T.text.dynamicLayoutVertexArray:T.icon.dynamicLayoutVertexArray;me.clear();const pe=T.lineVertexArray,ye=f?T.text.placedSymbolArray:T.icon.placedSymbolArray,Ce=h.transform.width/h.transform.height;let ge=!1;for(let Se=0;Se<ye.length;Se++){const Pe=ye.get(Se);if(Pe.hidden||Pe.writingMode===a.az.vertical&&!ge){bo(Pe.numGlyphs,me);continue}ge=!1;const we=new a.P(Pe.anchorX,Pe.anchorY),Ie={getElevation:Z,pitchedLabelPlaneMatrix:_,lineVertexArray:pe,pitchWithMap:C,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:h.transform,tileAnchorPoint:we,unwrappedTileID:F,width:$,height:G,translation:K},qe=va(Pe.anchorX,Pe.anchorY,Ie);if(!Pn(qe.point,fe)){bo(Pe.numGlyphs,me);continue}const Ve=vn(h.transform.cameraToCenterDistance,qe.signedDistanceFromCamera),Ge=a.aA(ie,oe,Pe),We=C?Ge*h.transform.getPitchedTextCorrection(Pe.anchorX,Pe.anchorY,F)/Ve:Ge*Ve,ut=Ji({projectionContext:Ie,pitchedLabelPlaneMatrixInverse:v,symbol:Pe,fontSize:We,flip:!1,keepUpright:P,glyphOffsetArray:T.glyphOffsetArray,dynamicLayoutVertexArray:me,aspectRatio:Ce,rotateToLine:z});ge=ut.useVertical,(ut.notEnoughRoom||ge||ut.needsFlipping&&Ji({projectionContext:Ie,pitchedLabelPlaneMatrixInverse:v,symbol:Pe,fontSize:We,flip:!0,keepUpright:P,glyphOffsetArray:T.glyphOffsetArray,dynamicLayoutVertexArray:me,aspectRatio:Ce,rotateToLine:z}).notEnoughRoom)&&bo(Pe.numGlyphs,me)}f?T.text.dynamicLayoutVertexBuffer.updateData(me):T.icon.dynamicLayoutVertexBuffer.updateData(me)}function Hr(T,h,f,_,v,C,P,z){const F=C.glyphStartIndex+C.numGlyphs,$=C.lineStartIndex,G=C.lineStartIndex+C.lineLength,K=h.getoffsetX(C.glyphStartIndex),Z=h.getoffsetX(F-1),ie=qn(T*K,f,_,v,C.segment,$,G,z,P);if(!ie)return null;const oe=qn(T*Z,f,_,v,C.segment,$,G,z,P);return oe?z.projectionCache.anyProjectionOccluded?null:{first:ie,last:oe}:null}function Ln(T,h,f,_){return T===a.az.horizontal&&Math.abs(f.y-h.y)>Math.abs(f.x-h.x)*_?{useVertical:!0}:(T===a.az.vertical?h.y<f.y:h.x>f.x)?{needsFlipping:!0}:null}function Ji(T){const{projectionContext:h,pitchedLabelPlaneMatrixInverse:f,symbol:_,fontSize:v,flip:C,keepUpright:P,glyphOffsetArray:z,dynamicLayoutVertexArray:F,aspectRatio:$,rotateToLine:G}=T,K=v/24,Z=_.lineOffsetX*K,ie=_.lineOffsetY*K;let oe;if(_.numGlyphs>1){const fe=_.glyphStartIndex+_.numGlyphs,me=_.lineStartIndex,pe=_.lineStartIndex+_.lineLength,ye=Hr(K,z,Z,ie,C,_,G,h);if(!ye)return{notEnoughRoom:!0};const Ce=ms(ye.first.point.x,ye.first.point.y,h,f),ge=ms(ye.last.point.x,ye.last.point.y,h,f);if(P&&!C){const Se=Ln(_.writingMode,Ce,ge,$);if(Se)return Se}oe=[ye.first];for(let Se=_.glyphStartIndex+1;Se<fe-1;Se++){const Pe=qn(K*z.getoffsetX(Se),Z,ie,C,_.segment,me,pe,h,G);if(!Pe)return{notEnoughRoom:!0};oe.push(Pe)}oe.push(ye.last)}else{if(P&&!C){const me=Pi(h.tileAnchorPoint.x,h.tileAnchorPoint.y,h).point,pe=_.lineStartIndex+_.segment+1,ye=new a.P(h.lineVertexArray.getx(pe),h.lineVertexArray.gety(pe)),Ce=Pi(ye.x,ye.y,h),ge=Ce.signedDistanceFromCamera>0?Ce.point:Aa(h.tileAnchorPoint,ye,me,1,h),Se=ms(me.x,me.y,h,f),Pe=ms(ge.x,ge.y,h,f),we=Ln(_.writingMode,Se,Pe,$);if(we)return we}const fe=qn(K*z.getoffsetX(_.glyphStartIndex),Z,ie,C,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,h,G);if(!fe||h.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};oe=[fe]}for(const fe of oe)a.aG(F,fe.point,fe.angle);return{}}function Aa(T,h,f,_,v){const C=T.add(T.sub(h)._unit()),P=Pi(C.x,C.y,v).point,z=f.sub(P);return f.add(z._mult(_/z.mag()))}function ia(T,h,f){const _=h.projectionCache;if(_.projections[T])return _.projections[T];const v=new a.P(h.lineVertexArray.getx(T),h.lineVertexArray.gety(T)),C=Pi(v.x,v.y,h);if(C.signedDistanceFromCamera>0)return _.projections[T]=C.point,_.anyProjectionOccluded=_.anyProjectionOccluded||C.isOccluded,C.point;const P=T-f.direction;return Aa(f.distanceFromAnchor===0?h.tileAnchorPoint:new a.P(h.lineVertexArray.getx(P),h.lineVertexArray.gety(P)),v,f.previousVertex,f.absOffsetX-f.distanceFromAnchor+1,h)}function Pi(T,h,f){const _=T+f.translation[0],v=h+f.translation[1];let C;return f.pitchWithMap?(C=Ft(_,v,f.pitchedLabelPlaneMatrix,f.getElevation),C.isOccluded=!1):(C=f.transform.projectTileCoordinates(_,v,f.unwrappedTileID,f.getElevation),C.point.x=(.5*C.point.x+.5)*f.width,C.point.y=(.5*-C.point.y+.5)*f.height),C}function ms(T,h,f,_){if(f.pitchWithMap){const v=[T,h,0,1];return a.aH(v,v,_),f.transform.projectTileCoordinates(v[0]/v[3],v[1]/v[3],f.unwrappedTileID,f.getElevation).point}return{x:T/f.width*2-1,y:1-h/f.height*2}}function va(T,h,f){return f.transform.projectTileCoordinates(T,h,f.unwrappedTileID,f.getElevation)}function Gr(T,h,f){return T._unit()._perp()._mult(h*f)}function Ar(T,h,f,_,v,C,P,z,F){if(z.projectionCache.offsets[T])return z.projectionCache.offsets[T];const $=f.add(h);if(T+F.direction<_||T+F.direction>=v)return z.projectionCache.offsets[T]=$,$;const G=ia(T+F.direction,z,F),K=Gr(G.sub(f),P,F.direction),Z=f.add(K),ie=G.add(K);return z.projectionCache.offsets[T]=a.aI(C,$,Z,ie)||$,z.projectionCache.offsets[T]}function qn(T,h,f,_,v,C,P,z,F){const $=_?T-h:T+h;let G=$>0?1:-1,K=0;_&&(G*=-1,K=Math.PI),G<0&&(K+=Math.PI);let Z,ie=G>0?C+v:C+v+1;z.projectionCache.cachedAnchorPoint?Z=z.projectionCache.cachedAnchorPoint:(Z=Pi(z.tileAnchorPoint.x,z.tileAnchorPoint.y,z).point,z.projectionCache.cachedAnchorPoint=Z);let oe,fe,me=Z,pe=Z,ye=0,Ce=0;const ge=Math.abs($),Se=[];let Pe;for(;ye+Ce<=ge;){if(ie+=G,ie<C||ie>=P)return null;ye+=Ce,pe=me,fe=oe;const qe={absOffsetX:ge,direction:G,distanceFromAnchor:ye,previousVertex:pe};if(me=ia(ie,z,qe),f===0)Se.push(pe),Pe=me.sub(pe);else{let Ve;const Ge=me.sub(pe);Ve=Ge.mag()===0?Gr(ia(ie+G,z,qe).sub(me),f,G):Gr(Ge,f,G),fe||(fe=pe.add(Ve)),oe=Ar(ie,Ve,me,C,P,fe,f,z,qe),Se.push(fe),Pe=oe.sub(fe)}Ce=Pe.mag()}const we=Pe._mult((ge-ye)/Ce)._add(fe||pe),Ie=K+Math.atan2(me.y-pe.y,me.x-pe.x);return Se.push(we),{point:we,angle:F?Ie:0,path:Se}}const Om=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function bo(T,h){for(let f=0;f<T;f++){const _=h.length;h.resize(_+4),h.float32.set(Om,3*_)}}function Qu(T,h,f){const _=h[0],v=h[1];return T[0]=f[0]*_+f[4]*v+f[12],T[1]=f[1]*_+f[5]*v+f[13],T[3]=f[3]*_+f[7]*v+f[15],T}const bn=100;class Bm{constructor(h,f=new Ut(h.width+200,h.height+200,25),_=new Ut(h.width+200,h.height+200,25)){this.transform=h,this.grid=f,this.ignoredGrid=_,this.pitchFactor=Math.cos(h.pitch*Math.PI/180)*h.cameraToCenterDistance,this.screenRightBoundary=h.width+bn,this.screenBottomBoundary=h.height+bn,this.gridRightBoundary=h.width+200,this.gridBottomBoundary=h.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(h,f,_,v,C,P,z,F,$,G,K,Z){const ie=this.projectAndGetPerspectiveRatio(h.anchorPointX+F[0],h.anchorPointY+F[1],C,G,Z),oe=_*ie.perspectiveRatio;let fe;if(P||z)fe=this._projectCollisionBox(h,oe,v,C,P,z,F,ie,G,K,Z);else{const Pe=ie.x+(K?K.x*oe:0),we=ie.y+(K?K.y*oe:0);fe={allPointsOccluded:!1,box:[Pe+h.x1*oe,we+h.y1*oe,Pe+h.x2*oe,we+h.y2*oe]}}const[me,pe,ye,Ce]=fe.box,ge=P?fe.allPointsOccluded:ie.isOccluded;let Se=ge;return Se||(Se=ie.perspectiveRatio<this.perspectiveRatioCutoff),Se||(Se=!this.isInsideGrid(me,pe,ye,Ce)),Se||f!=="always"&&this.grid.hitTest(me,pe,ye,Ce,f,$)?{box:[me,pe,ye,Ce],placeable:!1,offscreen:!1,occluded:ge}:{box:[me,pe,ye,Ce],placeable:!0,offscreen:this.isOffscreen(me,pe,ye,Ce),occluded:ge}}placeCollisionCircles(h,f,_,v,C,P,z,F,$,G,K,Z,ie,oe){const fe=[],me=new a.P(f.anchorX,f.anchorY),pe=this.getPerspectiveRatio(me.x,me.y,P,oe),ye=($?C*this.transform.getPitchedTextCorrection(f.anchorX,f.anchorY,P)/pe:C*pe)/a.aM,Ce={getElevation:oe,pitchedLabelPlaneMatrix:z,lineVertexArray:_,pitchWithMap:$,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:me,unwrappedTileID:P,width:this.transform.width,height:this.transform.height,translation:ie},ge=Hr(ye,v,f.lineOffsetX*ye,f.lineOffsetY*ye,!1,f,!1,Ce);let Se=!1,Pe=!1,we=!0;if(ge){const Ie=.5*K*pe+Z,qe=new a.P(-100,-100),Ve=new a.P(this.screenRightBoundary,this.screenBottomBoundary),Ge=new ot,We=ge.first,ut=ge.last;let dt=[];for(let ei=We.path.length-1;ei>=1;ei--)dt.push(We.path[ei]);for(let ei=1;ei<ut.path.length;ei++)dt.push(ut.path[ei]);const rt=2.5*Ie;if($){const ei=this.projectPathToScreenSpace(dt,Ce);dt=ei.some((Fi=>Fi.signedDistanceFromCamera<=0))?[]:ei.map((Fi=>Fi.point))}let mt=[];if(dt.length>0){const ei=dt[0].clone(),Fi=dt[0].clone();for(let Qi=1;Qi<dt.length;Qi++)ei.x=Math.min(ei.x,dt[Qi].x),ei.y=Math.min(ei.y,dt[Qi].y),Fi.x=Math.max(Fi.x,dt[Qi].x),Fi.y=Math.max(Fi.y,dt[Qi].y);mt=ei.x>=qe.x&&Fi.x<=Ve.x&&ei.y>=qe.y&&Fi.y<=Ve.y?[dt]:Fi.x<qe.x||ei.x>Ve.x||Fi.y<qe.y||ei.y>Ve.y?[]:a.aJ([dt],qe.x,qe.y,Ve.x,Ve.y)}for(const ei of mt){Ge.reset(ei,.25*Ie);let Fi=0;Fi=Ge.length<=.5*Ie?1:Math.ceil(Ge.paddedLength/rt)+1;for(let Qi=0;Qi<Fi;Qi++){const Hi=Qi/Math.max(Fi-1,1),rn=Ge.lerp(Hi),Gi=rn.x+bn,kn=rn.y+bn;fe.push(Gi,kn,Ie,0);const sn=Gi-Ie,ua=kn-Ie,$n=Gi+Ie,zn=kn+Ie;if(we=we&&this.isOffscreen(sn,ua,$n,zn),Pe=Pe||this.isInsideGrid(sn,ua,$n,zn),h!=="always"&&this.grid.hitTestCircle(Gi,kn,Ie,h,G)&&(Se=!0,!F))return{circles:[],offscreen:!1,collisionDetected:Se}}}}return{circles:!F&&Se||!Pe||pe<this.perspectiveRatioCutoff?[]:fe,offscreen:we,collisionDetected:Se}}projectPathToScreenSpace(h,f){const _=(function(v,C){const P=a.N();return a.aB(P,C.pitchedLabelPlaneMatrix),v.map((z=>{const F=Ft(z.x,z.y,P,C.getElevation),$=C.transform.projectTileCoordinates(F.point.x,F.point.y,C.unwrappedTileID,C.getElevation);return $.point.x=(.5*$.point.x+.5)*C.width,$.point.y=(.5*-$.point.y+.5)*C.height,$}))})(h,f);return(function(v){let C=0,P=0,z=0,F=0;for(let $=0;$<v.length;$++)v[$].isOccluded?(z=$+1,F=0):(F++,F>P&&(P=F,C=z));return v.slice(C,C+P)})(_)}queryRenderedSymbols(h){if(h.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const f=[],_=new a.aa;for(const K of h){const Z=new a.P(K.x+bn,K.y+bn);_.extend(Z),f.push(Z)}const{minX:v,minY:C,maxX:P,maxY:z}=_,F=this.grid.query(v,C,P,z).concat(this.ignoredGrid.query(v,C,P,z)),$={},G={};for(const K of F){const Z=K.key;if($[Z.bucketInstanceId]===void 0&&($[Z.bucketInstanceId]={}),$[Z.bucketInstanceId][Z.featureIndex])continue;const ie=[new a.P(K.x1,K.y1),new a.P(K.x2,K.y1),new a.P(K.x2,K.y2),new a.P(K.x1,K.y2)];a.aK(f,ie)&&($[Z.bucketInstanceId][Z.featureIndex]=!0,G[Z.bucketInstanceId]===void 0&&(G[Z.bucketInstanceId]=[]),G[Z.bucketInstanceId].push(Z.featureIndex))}return G}insertCollisionBox(h,f,_,v,C,P){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:C,collisionGroupID:P,overlapMode:f},h[0],h[1],h[2],h[3])}insertCollisionCircles(h,f,_,v,C,P){const z=_?this.ignoredGrid:this.grid,F={bucketInstanceId:v,featureIndex:C,collisionGroupID:P,overlapMode:f};for(let $=0;$<h.length;$+=4)z.insertCircle(F,h[$],h[$+1],h[$+2])}projectAndGetPerspectiveRatio(h,f,_,v,C){if(C){let P;v?(P=[h,f,v(h,f),1],a.aH(P,P,C)):(P=[h,f,0,1],Qu(P,P,C));const z=P[3];return{x:(P[0]/z+1)/2*this.transform.width+bn,y:(-P[1]/z+1)/2*this.transform.height+bn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/z*.5,isOccluded:!1,signedDistanceFromCamera:z}}{const P=this.transform.projectTileCoordinates(h,f,_,v);return{x:(P.point.x+1)/2*this.transform.width+bn,y:(1-P.point.y)/2*this.transform.height+bn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/P.signedDistanceFromCamera*.5,isOccluded:P.isOccluded,signedDistanceFromCamera:P.signedDistanceFromCamera}}}getPerspectiveRatio(h,f,_,v){const C=this.transform.projectTileCoordinates(h,f,_,v);return .5+this.transform.cameraToCenterDistance/C.signedDistanceFromCamera*.5}isOffscreen(h,f,_,v){return _<bn||h>=this.screenRightBoundary||v<bn||f>this.screenBottomBoundary}isInsideGrid(h,f,_,v){return _>=0&&h<this.gridRightBoundary&&v>=0&&f<this.gridBottomBoundary}getViewportMatrix(){const h=a.ar([]);return a.O(h,h,[-100,-100,0]),h}_projectCollisionBox(h,f,_,v,C,P,z,F,$,G,K){let Z=1,ie=0,oe=0,fe=1;const me=h.anchorPointX+z[0],pe=h.anchorPointY+z[1];if(P&&!C){const dt=this.projectAndGetPerspectiveRatio(me+1,pe,v,$,K),rt=dt.x-F.x,mt=Math.atan((dt.y-F.y)/rt)+(rt<0?Math.PI:0),ei=Math.sin(mt),Fi=Math.cos(mt);Z=Fi,ie=ei,oe=-ei,fe=Fi}else if(!P&&C){const dt=Xn(this.transform);Z=dt.vecEast[0],ie=dt.vecEast[1],oe=dt.vecSouth[0],fe=dt.vecSouth[1]}let ye=F.x,Ce=F.y,ge=f;C&&(ye=me,Ce=pe,ge=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),ge*=this.transform.getPitchedTextCorrection(me,pe,v),G||(ge*=a.an(.5+F.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),G&&(ye+=Z*G.x*ge+oe*G.y*ge,Ce+=ie*G.x*ge+fe*G.y*ge);const Se=h.x1*ge,Pe=h.x2*ge,we=(Se+Pe)/2,Ie=h.y1*ge,qe=h.y2*ge,Ve=(Ie+qe)/2,Ge=[{offsetX:Se,offsetY:Ie},{offsetX:we,offsetY:Ie},{offsetX:Pe,offsetY:Ie},{offsetX:Pe,offsetY:Ve},{offsetX:Pe,offsetY:qe},{offsetX:we,offsetY:qe},{offsetX:Se,offsetY:qe},{offsetX:Se,offsetY:Ve}];let We=[];for(const{offsetX:dt,offsetY:rt}of Ge)We.push(new a.P(ye+Z*dt+oe*rt,Ce+ie*dt+fe*rt));let ut=!1;if(C){const dt=We.map((rt=>this.projectAndGetPerspectiveRatio(rt.x,rt.y,v,$,K)));ut=dt.some((rt=>!rt.isOccluded)),We=dt.map((rt=>new a.P(rt.x,rt.y)))}else ut=!0;return{box:a.aL(We),allPointsOccluded:!ut}}}class jm{constructor(h,f,_,v){this.opacity=h?Math.max(0,Math.min(1,h.opacity+(h.placed?f:-f))):v&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class gh{constructor(h,f,_,v,C){this.text=new jm(h?h.text:null,f,_,C),this.icon=new jm(h?h.icon:null,f,v,C)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Nm{constructor(h,f,_){this.text=h,this.icon=f,this.skipFade=_}}class $m{constructor(h,f,_,v,C){this.bucketInstanceId=h,this.featureIndex=f,this.sourceLayerIndex=_,this.bucketIndex=v,this.tileID=C}}class Vm{constructor(h){this.crossSourceCollisions=h,this.maxGroupID=0,this.collisionGroups={}}get(h){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[h]){const f=++this.maxGroupID;this.collisionGroups[h]={ID:f,predicate:_=>_.collisionGroupID===f}}return this.collisionGroups[h]}}function ec(T,h,f,_,v){const{horizontalAlign:C,verticalAlign:P}=a.aS(T);return new a.P(-(C-.5)*h+_[0]*v,-(P-.5)*f+_[1]*v)}class Xd{constructor(h,f,_,v,C){this.transform=h.clone(),this.terrain=f,this.collisionIndex=new Bm(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Vm(v),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=C,C&&(C.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(h){const f=this.terrain;return f?(_,v)=>f.getElevation(h,_,v):null}getBucketParts(h,f,_,v){const C=_.getBucket(f),P=_.latestFeatureIndex;if(!C||!P||f.id!==C.layerIds[0])return;const z=_.collisionBoxArray,F=C.layers[0].layout,$=C.layers[0].paint,G=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),K=_.tileSize/a.a5,Z=_.tileID.toUnwrapped(),ie=F.get("text-rotation-alignment")==="map",oe=a.aN(_,1,this.transform.zoom),fe=a.aO(this.collisionIndex.transform,_,$.get("text-translate"),$.get("text-translate-anchor")),me=a.aO(this.collisionIndex.transform,_,$.get("icon-translate"),$.get("icon-translate-anchor")),pe=pi(ie,this.transform,oe);this.retainedQueryData[C.bucketInstanceId]=new $m(C.bucketInstanceId,P,C.sourceLayerIndex,C.index,_.tileID);const ye={bucket:C,layout:F,translationText:fe,translationIcon:me,unwrappedTileID:Z,pitchedLabelPlaneMatrix:pe,scale:G,textPixelRatio:K,holdingForFade:_.holdingForSymbolFade(),collisionBoxArray:z,partiallyEvaluatedTextSize:a.ay(C.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(C.sourceID)};if(v)for(const Ce of C.sortKeyRanges){const{sortKey:ge,symbolInstanceStart:Se,symbolInstanceEnd:Pe}=Ce;h.push({sortKey:ge,symbolInstanceStart:Se,symbolInstanceEnd:Pe,parameters:ye})}else h.push({symbolInstanceStart:0,symbolInstanceEnd:C.symbolInstances.length,parameters:ye})}attemptAnchorPlacement(h,f,_,v,C,P,z,F,$,G,K,Z,ie,oe,fe,me,pe,ye,Ce,ge){const Se=a.aP[h.textAnchor],Pe=[h.textOffset0,h.textOffset1],we=ec(Se,_,v,Pe,C),Ie=this.collisionIndex.placeCollisionBox(f,Z,F,$,G,z,P,me,K.predicate,Ce,we,ge);if((!ye||this.collisionIndex.placeCollisionBox(ye,Z,F,$,G,z,P,pe,K.predicate,Ce,we,ge).placeable)&&Ie.placeable){let qe;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID]&&this.prevPlacement.placements[ie.crossTileID].text&&(qe=this.prevPlacement.variableOffsets[ie.crossTileID].anchor),ie.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ie.crossTileID]={textOffset:Pe,width:_,height:v,anchor:Se,textBoxScale:C,prevAnchor:qe},this.markUsedJustification(oe,Se,ie,fe),oe.allowVerticalPlacement&&(this.markUsedOrientation(oe,fe,ie),this.placedOrientations[ie.crossTileID]=fe),{shift:we,placedGlyphBoxes:Ie}}}placeLayerBucketPart(h,f,_){const{bucket:v,layout:C,translationText:P,translationIcon:z,unwrappedTileID:F,pitchedLabelPlaneMatrix:$,textPixelRatio:G,holdingForFade:K,collisionBoxArray:Z,partiallyEvaluatedTextSize:ie,collisionGroup:oe}=h.parameters,fe=C.get("text-optional"),me=C.get("icon-optional"),pe=a.aQ(C,"text-overlap","text-allow-overlap"),ye=pe==="always",Ce=a.aQ(C,"icon-overlap","icon-allow-overlap"),ge=Ce==="always",Se=C.get("text-rotation-alignment")==="map",Pe=C.get("text-pitch-alignment")==="map",we=C.get("icon-text-fit")!=="none",Ie=C.get("symbol-z-order")==="viewport-y",qe=ye&&(ge||!v.hasIconData()||me),Ve=ge&&(ye||!v.hasTextData()||fe);!v.collisionArrays&&Z&&v.deserializeCollisionBoxes(Z);const Ge=this.retainedQueryData[v.bucketInstanceId].tileID,We=this._getTerrainElevationFunc(Ge),ut=this.transform.getFastPathSimpleProjectionMatrix(Ge),dt=(rt,mt,ei)=>{var Fi,Qi;if(f[rt.crossTileID])return;if(K)return void(this.placements[rt.crossTileID]=new Nm(!1,!1,!1));let Hi=!1,rn=!1,Gi=!0,kn=null,sn={box:null,placeable:!1,offscreen:null,occluded:!1},ua={placeable:!1},$n=null,zn=null,ba=null,ao=0,Rs=0,ys=0;mt.textFeatureIndex?ao=mt.textFeatureIndex:rt.useRuntimeCollisionCircles&&(ao=rt.featureIndex),mt.verticalTextFeatureIndex&&(Rs=mt.verticalTextFeatureIndex);const Ja=mt.textBox;if(Ja){const Ir=qi=>{let Ui=a.az.horizontal;if(v.allowVerticalPlacement&&!qi&&this.prevPlacement){const na=this.prevPlacement.placedOrientations[rt.crossTileID];na&&(this.placedOrientations[rt.crossTileID]=na,Ui=na,this.markUsedOrientation(v,Ui,rt))}return Ui},xs=(qi,Ui)=>{if(v.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&mt.verticalTextBox){for(const na of v.writingModes)if(na===a.az.vertical?(sn=Ui(),ua=sn):sn=qi(),sn&&sn.placeable)break}else sn=qi()},Zr=rt.textAnchorOffsetStartIndex,Kr=rt.textAnchorOffsetEndIndex;if(Kr===Zr){const qi=(Ui,na)=>{const aa=this.collisionIndex.placeCollisionBox(Ui,pe,G,Ge,F,Pe,Se,P,oe.predicate,We,void 0,ut);return aa&&aa.placeable&&(this.markUsedOrientation(v,na,rt),this.placedOrientations[rt.crossTileID]=na),aa};xs((()=>qi(Ja,a.az.horizontal)),(()=>{const Ui=mt.verticalTextBox;return v.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&Ui?qi(Ui,a.az.vertical):{box:null,offscreen:null}})),Ir(sn&&sn.placeable)}else{let qi=a.aP[(Qi=(Fi=this.prevPlacement)===null||Fi===void 0?void 0:Fi.variableOffsets[rt.crossTileID])===null||Qi===void 0?void 0:Qi.anchor];const Ui=(aa,Og,Bg)=>{const jo=aa.x2-aa.x1,Vx=aa.y2-aa.y1,jg=rt.textBoxScale,Vf=we&&Ce==="never"?Og:null;let ro=null,so=pe==="never"?1:2,oo="never";qi&&so++;for(let Hf=0;Hf<so;Hf++){for(let Gf=Zr;Gf<Kr;Gf++){const Oc=v.textAnchorOffsets.get(Gf);if(qi&&Oc.textAnchor!==qi)continue;const Bc=this.attemptAnchorPlacement(Oc,aa,jo,Vx,jg,Se,Pe,G,Ge,F,oe,oo,rt,v,Bg,P,z,Vf,We);if(Bc&&(ro=Bc.placedGlyphBoxes,ro&&ro.placeable))return Hi=!0,kn=Bc.shift,ro}qi?qi=null:oo=pe}return _&&!ro&&(ro={box:this.collisionIndex.placeCollisionBox(Ja,"always",G,Ge,F,Pe,Se,P,oe.predicate,We,void 0,ut).box,offscreen:!1,placeable:!1,occluded:!1}),ro};xs((()=>Ui(Ja,mt.iconBox,a.az.horizontal)),(()=>{const aa=mt.verticalTextBox;return v.allowVerticalPlacement&&(!sn||!sn.placeable)&&rt.numVerticalGlyphVertices>0&&aa?Ui(aa,mt.verticalIconBox,a.az.vertical):{box:null,occluded:!0,offscreen:null}})),sn&&(Hi=sn.placeable,Gi=sn.offscreen);const na=Ir(sn&&sn.placeable);if(!Hi&&this.prevPlacement){const aa=this.prevPlacement.variableOffsets[rt.crossTileID];aa&&(this.variableOffsets[rt.crossTileID]=aa,this.markUsedJustification(v,aa.anchor,rt,na))}}}if($n=sn,Hi=$n&&$n.placeable,Gi=$n&&$n.offscreen,rt.useRuntimeCollisionCircles&&rt.centerJustifiedTextSymbolIndex>=0){const Ir=v.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),xs=a.aA(v.textSizeData,ie,Ir),Zr=C.get("text-padding");zn=this.collisionIndex.placeCollisionCircles(pe,Ir,v.lineVertexArray,v.glyphOffsetArray,xs,F,$,_,Pe,oe.predicate,rt.collisionCircleDiameter,Zr,P,We),zn.circles.length&&zn.collisionDetected&&!_&&a.w("Collisions detected, but collision boxes are not shown"),Hi=ye||zn.circles.length>0&&!zn.collisionDetected,Gi=Gi&&zn.offscreen}if(mt.iconFeatureIndex&&(ys=mt.iconFeatureIndex),mt.iconBox){const Ir=xs=>this.collisionIndex.placeCollisionBox(xs,Ce,G,Ge,F,Pe,Se,z,oe.predicate,We,we&&kn?kn:void 0,ut);ua&&ua.placeable&&mt.verticalIconBox?(ba=Ir(mt.verticalIconBox),rn=ba.placeable):(ba=Ir(mt.iconBox),rn=ba.placeable),Gi=Gi&&ba.offscreen}const Oo=fe||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,Zh=me||rt.numIconVertices===0;Oo||Zh?Zh?Oo||(rn=rn&&Hi):Hi=rn&&Hi:rn=Hi=rn&&Hi;const Bo=rn&&ba.placeable;if(Hi&&$n.placeable&&this.collisionIndex.insertCollisionBox($n.box,pe,C.get("text-ignore-placement"),v.bucketInstanceId,ua&&ua.placeable&&Rs?Rs:ao,oe.ID),Bo&&this.collisionIndex.insertCollisionBox(ba.box,Ce,C.get("icon-ignore-placement"),v.bucketInstanceId,ys,oe.ID),zn&&Hi&&this.collisionIndex.insertCollisionCircles(zn.circles,pe,C.get("text-ignore-placement"),v.bucketInstanceId,ao,oe.ID),_&&this.storeCollisionData(v.bucketInstanceId,ei,mt,$n,ba,zn),rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new Nm((Hi||qe)&&!$n?.occluded,(rn||Ve)&&!ba?.occluded,Gi||v.justReloaded),f[rt.crossTileID]=!0};if(Ie){if(h.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=v.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let mt=rt.length-1;mt>=0;--mt){const ei=rt[mt];dt(v.symbolInstances.get(ei),v.collisionArrays[ei],ei)}}else for(let rt=h.symbolInstanceStart;rt<h.symbolInstanceEnd;rt++)dt(v.symbolInstances.get(rt),v.collisionArrays[rt],rt);v.justReloaded=!1}storeCollisionData(h,f,_,v,C,P){if(_.textBox||_.iconBox){let z,F;this.collisionBoxArrays.has(h)?z=this.collisionBoxArrays.get(h):(z=new Map,this.collisionBoxArrays.set(h,z)),z.has(f)?F=z.get(f):(F={text:null,icon:null},z.set(f,F)),_.textBox&&(F.text=v.box),_.iconBox&&(F.icon=C.box)}if(P){let z=this.collisionCircleArrays[h];z===void 0&&(z=this.collisionCircleArrays[h]=[]);for(let F=0;F<P.circles.length;F+=4)z.push(P.circles[F+0]-bn),z.push(P.circles[F+1]-bn),z.push(P.circles[F+2]),z.push(P.collisionDetected?1:0)}}markUsedJustification(h,f,_,v){let C;C=v===a.az.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[a.aR(f)];const P=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const z of P)z>=0&&(h.text.placedSymbolArray.get(z).crossTileID=C>=0&&z!==C?0:_.crossTileID)}markUsedOrientation(h,f,_){const v=f===a.az.horizontal||f===a.az.horizontalOnly?f:0,C=f===a.az.vertical?f:0,P=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const z of P)h.text.placedSymbolArray.get(z).placedOrientation=v;_.verticalPlacedTextSymbolIndex&&(h.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=C)}commit(h){this.commitTime=h,this.zoomAtLastRecencyCheck=this.transform.zoom;const f=this.prevPlacement;let _=!1;this.prevZoomAdjustment=f?f.zoomAdjustment(this.transform.zoom):0;const v=f?f.symbolFadeChange(h):1,C=f?f.opacities:{},P=f?f.variableOffsets:{},z=f?f.placedOrientations:{};for(const F in this.placements){const $=this.placements[F],G=C[F];G?(this.opacities[F]=new gh(G,v,$.text,$.icon),_=_||$.text!==G.text.placed||$.icon!==G.icon.placed):(this.opacities[F]=new gh(null,v,$.text,$.icon,$.skipFade),_=_||$.text||$.icon)}for(const F in C){const $=C[F];if(!this.opacities[F]){const G=new gh($,v,!1,!1);G.isHidden()||(this.opacities[F]=G,_=_||$.text.placed||$.icon.placed)}}for(const F in P)this.variableOffsets[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.variableOffsets[F]=P[F]);for(const F in z)this.placedOrientations[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.placedOrientations[F]=z[F]);if(f&&f.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=h:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=f?f.lastPlacementChangeTime:h)}updateLayerOpacities(h,f){const _={};for(const v of f){const C=v.getBucket(h);C&&v.latestFeatureIndex&&h.id===C.layerIds[0]&&this.updateBucketOpacities(C,v.tileID,_,v.collisionBoxArray)}}updateBucketOpacities(h,f,_,v){h.hasTextData()&&(h.text.opacityVertexArray.clear(),h.text.hasVisibleVertices=!1),h.hasIconData()&&(h.icon.opacityVertexArray.clear(),h.icon.hasVisibleVertices=!1),h.hasIconCollisionBoxData()&&h.iconCollisionBox.collisionVertexArray.clear(),h.hasTextCollisionBoxData()&&h.textCollisionBox.collisionVertexArray.clear();const C=h.layers[0],P=C.layout,z=new gh(null,0,!1,!1,!0),F=P.get("text-allow-overlap"),$=P.get("icon-allow-overlap"),G=C._unevaluatedLayout.hasValue("text-variable-anchor")||C._unevaluatedLayout.hasValue("text-variable-anchor-offset"),K=P.get("text-rotation-alignment")==="map",Z=P.get("text-pitch-alignment")==="map",ie=P.get("icon-text-fit")!=="none",oe=new gh(null,0,F&&($||!h.hasIconData()||P.get("icon-optional")),$&&(F||!h.hasTextData()||P.get("text-optional")),!0);!h.collisionArrays&&v&&(h.hasIconCollisionBoxData()||h.hasTextCollisionBoxData())&&h.deserializeCollisionBoxes(v);const fe=(pe,ye,Ce)=>{for(let ge=0;ge<ye/4;ge++)pe.opacityVertexArray.emplaceBack(Ce);pe.hasVisibleVertices=pe.hasVisibleVertices||Ce!==yh},me=this.collisionBoxArrays.get(h.bucketInstanceId);for(let pe=0;pe<h.symbolInstances.length;pe++){const ye=h.symbolInstances.get(pe),{numHorizontalGlyphVertices:Ce,numVerticalGlyphVertices:ge,crossTileID:Se}=ye;let Pe=this.opacities[Se];_[Se]?Pe=z:Pe||(Pe=oe,this.opacities[Se]=Pe),_[Se]=!0;const we=ye.numIconVertices>0,Ie=this.placedOrientations[ye.crossTileID],qe=Ie===a.az.vertical,Ve=Ie===a.az.horizontal||Ie===a.az.horizontalOnly;if(Ce>0||ge>0){const We=Kd(Pe.text);fe(h.text,Ce,qe?yh:We),fe(h.text,ge,Ve?yh:We);const ut=Pe.text.isHidden();[ye.rightJustifiedTextSymbolIndex,ye.centerJustifiedTextSymbolIndex,ye.leftJustifiedTextSymbolIndex].forEach((mt=>{mt>=0&&(h.text.placedSymbolArray.get(mt).hidden=ut||qe?1:0)})),ye.verticalPlacedTextSymbolIndex>=0&&(h.text.placedSymbolArray.get(ye.verticalPlacedTextSymbolIndex).hidden=ut||Ve?1:0);const dt=this.variableOffsets[ye.crossTileID];dt&&this.markUsedJustification(h,dt.anchor,ye,Ie);const rt=this.placedOrientations[ye.crossTileID];rt&&(this.markUsedJustification(h,"left",ye,rt),this.markUsedOrientation(h,rt,ye))}if(we){const We=Kd(Pe.icon),ut=!(ie&&ye.verticalPlacedIconSymbolIndex&&qe);ye.placedIconSymbolIndex>=0&&(fe(h.icon,ye.numIconVertices,ut?We:yh),h.icon.placedSymbolArray.get(ye.placedIconSymbolIndex).hidden=Pe.icon.isHidden()),ye.verticalPlacedIconSymbolIndex>=0&&(fe(h.icon,ye.numVerticalIconVertices,ut?yh:We),h.icon.placedSymbolArray.get(ye.verticalPlacedIconSymbolIndex).hidden=Pe.icon.isHidden())}const Ge=me&&me.has(pe)?me.get(pe):{text:null,icon:null};if(h.hasIconCollisionBoxData()||h.hasTextCollisionBoxData()){const We=h.collisionArrays[pe];if(We){let ut=new a.P(0,0);if(We.textBox||We.verticalTextBox){let dt=!0;if(G){const rt=this.variableOffsets[Se];rt?(ut=ec(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),K&&ut._rotate(Z?-this.transform.bearingInRadians:this.transform.bearingInRadians)):dt=!1}if(We.textBox||We.verticalTextBox){let rt;We.textBox&&(rt=qe),We.verticalTextBox&&(rt=Ve),qd(h.textCollisionBox.collisionVertexArray,Pe.text.placed,!dt||rt,Ge.text,ut.x,ut.y)}}if(We.iconBox||We.verticalIconBox){const dt=!!(!Ve&&We.verticalIconBox);let rt;We.iconBox&&(rt=dt),We.verticalIconBox&&(rt=!dt),qd(h.iconCollisionBox.collisionVertexArray,Pe.icon.placed,rt,Ge.icon,ie?ut.x:0,ie?ut.y:0)}}}}if(h.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[h.bucketInstanceId]&&(this.retainedQueryData[h.bucketInstanceId].featureSortOrder=h.featureSortOrder),h.hasTextData()&&h.text.opacityVertexBuffer&&h.text.opacityVertexBuffer.updateData(h.text.opacityVertexArray),h.hasIconData()&&h.icon.opacityVertexBuffer&&h.icon.opacityVertexBuffer.updateData(h.icon.opacityVertexArray),h.hasIconCollisionBoxData()&&h.iconCollisionBox.collisionVertexBuffer&&h.iconCollisionBox.collisionVertexBuffer.updateData(h.iconCollisionBox.collisionVertexArray),h.hasTextCollisionBoxData()&&h.textCollisionBox.collisionVertexBuffer&&h.textCollisionBox.collisionVertexBuffer.updateData(h.textCollisionBox.collisionVertexArray),h.text.opacityVertexArray.length!==h.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${h.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${h.text.layoutVertexArray.length}) / 4`);if(h.icon.opacityVertexArray.length!==h.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${h.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${h.icon.layoutVertexArray.length}) / 4`);h.bucketInstanceId in this.collisionCircleArrays&&(h.collisionCircleArray=this.collisionCircleArrays[h.bucketInstanceId],delete this.collisionCircleArrays[h.bucketInstanceId])}symbolFadeChange(h){return this.fadeDuration===0?1:(h-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(h){return Math.max(0,(this.transform.zoom-h)/1.5)}hasTransitions(h){return this.stale||h-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(h,f){const _=this.zoomAtLastRecencyCheck===f?1-this.zoomAdjustment(f):1;return this.zoomAtLastRecencyCheck=f,this.commitTime+this.fadeDuration*_>h}setStale(){this.stale=!0}}function qd(T,h,f,_,v,C){_&&_.length!==0||(_=[0,0,0,0]);const P=_[0]-bn,z=_[1]-bn,F=_[2]-bn,$=_[3]-bn;T.emplaceBack(h?1:0,f?1:0,v||0,C||0,P,z),T.emplaceBack(h?1:0,f?1:0,v||0,C||0,F,z),T.emplaceBack(h?1:0,f?1:0,v||0,C||0,F,$),T.emplaceBack(h?1:0,f?1:0,v||0,C||0,P,$)}const Yd=Math.pow(2,25),Zd=Math.pow(2,24),_x=Math.pow(2,17),_h=Math.pow(2,16),tc=Math.pow(2,9),Hm=Math.pow(2,8),hl=Math.pow(2,1);function Kd(T){if(T.opacity===0&&!T.placed)return 0;if(T.opacity===1&&T.placed)return 4294967295;const h=T.placed?1:0,f=Math.floor(127*T.opacity);return f*Yd+h*Zd+f*_x+h*_h+f*tc+h*Hm+f*hl+h}const yh=0;class Ys{constructor(h){this._sortAcrossTiles=h.layout.get("symbol-z-order")!=="viewport-y"&&!h.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(h,f,_,v,C){const P=this._bucketParts;for(;this._currentTileIndex<h.length;)if(f.getBucketParts(P,v,h[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,C())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort(((z,F)=>z.sortKey-F.sortKey)));this._currentPartIndex<P.length;)if(f.placeLayerBucketPart(P[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,C())return!0;return!1}}class ul{constructor(h,f,_,v,C,P,z,F){this.placement=new Xd(h,f,P,z,F),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=C,this._done=!1}isDone(){return this._done}continuePlacement(h,f,_){const v=M(),C=()=>!this._forceFullPlacement&&M()-v>2;for(;this._currentPlacementIndex>=0;){const P=f[h[this._currentPlacementIndex]],z=this.placement.collisionIndex.transform.zoom;if(P.type==="symbol"&&(!P.minzoom||P.minzoom<=z)&&(!P.maxzoom||P.maxzoom>z)){if(this._inProgressLayer||(this._inProgressLayer=new Ys(P)),this._inProgressLayer.continuePlacement(_[P.source],this.placement,this._showCollisionBoxes,P,C))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(h){return this.placement.commit(h),this.placement}}const ai=512/a.a5/2;class Jd{constructor(h,f,_){this.tileID=h,this.bucketInstanceId=_,this._symbolsByKey={};const v=new Map;for(let C=0;C<f.length;C++){const P=f.get(C),z=P.key,F=v.get(z);F?F.push(P):v.set(z,[P])}for(const[C,P]of v){const z={positions:P.map((F=>({x:Math.floor(F.anchorX*ai),y:Math.floor(F.anchorY*ai)}))),crossTileIDs:P.map((F=>F.crossTileID))};if(z.positions.length>128){const F=new a.aT(z.positions.length,16,Uint16Array);for(const{x:$,y:G}of z.positions)F.add($,G);F.finish(),delete z.positions,z.index=F}this._symbolsByKey[C]=z}}getScaledCoordinates(h,f){const{x:_,y:v,z:C}=this.tileID.canonical,{x:P,y:z,z:F}=f.canonical,$=ai/Math.pow(2,F-C),G=(z*a.a5+h.anchorY)*$,K=v*a.a5*ai;return{x:Math.floor((P*a.a5+h.anchorX)*$-_*a.a5*ai),y:Math.floor(G-K)}}findMatches(h,f,_){const v=this.tileID.canonical.z<f.canonical.z?1:Math.pow(2,this.tileID.canonical.z-f.canonical.z);for(let C=0;C<h.length;C++){const P=h.get(C);if(P.crossTileID)continue;const z=this._symbolsByKey[P.key];if(!z)continue;const F=this.getScaledCoordinates(P,f);if(z.index){const $=z.index.range(F.x-v,F.y-v,F.x+v,F.y+v).sort();for(const G of $){const K=z.crossTileIDs[G];if(!_[K]){_[K]=!0,P.crossTileID=K;break}}}else if(z.positions)for(let $=0;$<z.positions.length;$++){const G=z.positions[$],K=z.crossTileIDs[$];if(Math.abs(G.x-F.x)<=v&&Math.abs(G.y-F.y)<=v&&!_[K]){_[K]=!0,P.crossTileID=K;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:h})=>h))}}class yx{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Qd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(h){const f=Math.round((h-this.lng)/360);if(f!==0)for(const _ in this.indexes){const v=this.indexes[_],C={};for(const P in v){const z=v[P];z.tileID=z.tileID.unwrapTo(z.tileID.wrap+f),C[z.tileID.key]=z}this.indexes[_]=C}this.lng=h}addBucket(h,f,_){if(this.indexes[h.overscaledZ]&&this.indexes[h.overscaledZ][h.key]){if(this.indexes[h.overscaledZ][h.key].bucketInstanceId===f.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(h.overscaledZ,this.indexes[h.overscaledZ][h.key])}for(let C=0;C<f.symbolInstances.length;C++)f.symbolInstances.get(C).crossTileID=0;this.usedCrossTileIDs[h.overscaledZ]||(this.usedCrossTileIDs[h.overscaledZ]={});const v=this.usedCrossTileIDs[h.overscaledZ];for(const C in this.indexes){const P=this.indexes[C];if(Number(C)>h.overscaledZ)for(const z in P){const F=P[z];F.tileID.isChildOf(h)&&F.findMatches(f.symbolInstances,h,v)}else{const z=P[h.scaledTo(Number(C)).key];z&&z.findMatches(f.symbolInstances,h,v)}}for(let C=0;C<f.symbolInstances.length;C++){const P=f.symbolInstances.get(C);P.crossTileID||(P.crossTileID=_.generate(),v[P.crossTileID]=!0)}return this.indexes[h.overscaledZ]===void 0&&(this.indexes[h.overscaledZ]={}),this.indexes[h.overscaledZ][h.key]=new Jd(h,f.symbolInstances,f.bucketInstanceId),!0}removeBucketCrossTileIDs(h,f){for(const _ of f.getCrossTileIDsLists())for(const v of _)delete this.usedCrossTileIDs[h][v]}removeStaleBuckets(h){let f=!1;for(const _ in this.indexes){const v=this.indexes[_];for(const C in v)h[v[C].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,v[C]),delete v[C],f=!0)}return f}}class Za{constructor(){this.layerIndexes={},this.crossTileIDs=new yx,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(h,f,_){let v=this.layerIndexes[h.id];v===void 0&&(v=this.layerIndexes[h.id]=new Qd);let C=!1;const P={};v.handleWrapJump(_);for(const z of f){const F=z.getBucket(h);F&&h.id===F.layerIds[0]&&(F.bucketInstanceId||(F.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(z.tileID,F,this.crossTileIDs)&&(C=!0),P[F.bucketInstanceId]=!0)}return v.removeStaleBuckets(P)&&(C=!0),C}pruneUnusedLayers(h){const f={};h.forEach((_=>{f[_]=!0}));for(const _ in this.layerIndexes)f[_]||delete this.layerIndexes[_]}}var Ma="void main() {fragColor=vec4(1.0);}";const fn={prelude:Xt(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Xt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Xt("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Xt(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Xt(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Xt(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Xt(Ma,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Xt(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Xt(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Xt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Xt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Xt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Xt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Xt(Ma,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Xt(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Xt(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Xt(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Xt(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Xt(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Xt(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Xt(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Xt(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Xt(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Xt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Xt(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Xt(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:Xt(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:Xt(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Xt(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Xt(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Xt(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Xt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Xt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Xt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Xt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Xt(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Xt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Xt(T,h){const f=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=h.match(/in ([\w]+) ([\w]+)/g),v=T.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),C=h.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),P=C?C.concat(v):v,z={};return{fragmentSource:T=T.replace(f,((F,$,G,K,Z)=>(z[Z]=!0,$==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
in ${G} ${K} ${Z};
#else
uniform ${G} ${K} u_${Z};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Z}
    ${G} ${K} ${Z} = u_${Z};
#endif
`))),vertexSource:h=h.replace(f,((F,$,G,K,Z)=>{const ie=K==="float"?"vec2":"vec4",oe=Z.match(/color/)?"color":ie;return z[Z]?$==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${G} ${ie} a_${Z};
out ${G} ${K} ${Z};
#else
uniform ${G} ${K} u_${Z};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = a_${Z};
#else
    ${G} ${K} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${Z} = unpack_mix_${oe}(a_${Z}, u_${Z}_t);
#else
    ${G} ${K} ${Z} = u_${Z};
#endif
`:$==="define"?`
#ifndef HAS_UNIFORM_u_${Z}
uniform lowp float u_${Z}_t;
in ${G} ${ie} a_${Z};
#else
uniform ${G} ${K} u_${Z};
#endif
`:oe==="vec4"?`
#ifndef HAS_UNIFORM_u_${Z}
    ${G} ${K} ${Z} = a_${Z};
#else
    ${G} ${K} ${Z} = u_${Z};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Z}
    ${G} ${K} ${Z} = unpack_mix_${oe}(a_${Z}, u_${Z}_t);
#else
    ${G} ${K} ${Z} = u_${Z};
#endif
`})),staticAttributes:_,staticUniforms:P}}class $i{constructor(h,f,_){this.vertexBuffer=h,this.indexBuffer=f,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Zs=a.aU([{name:"a_pos",type:"Int16",components:2}]);const ja="#define PROJECTION_MERCATOR",ur="mercator";class Na{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return ur}get shaderDefine(){return ja}get shaderPreludeCode(){return fn.projectionMercator}get vertexShaderPreludeCode(){return fn.projectionMercator.vertexSource}get subdivisionGranularity(){return a.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(h){}getMeshFromTileID(h,f,_,v,C){if(this._cachedMesh)return this._cachedMesh;const P=new a.aW;P.emplaceBack(0,0),P.emplaceBack(a.a5,0),P.emplaceBack(0,a.a5),P.emplaceBack(a.a5,a.a5);const z=h.createVertexBuffer(P,Zs.members),F=a.aX.simpleSegment(0,0,4,2),$=new a.aY;$.emplaceBack(1,0,2),$.emplaceBack(1,2,3);const G=h.createIndexBuffer($);return this._cachedMesh=new $i(z,G,F),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(h){}}class cl{constructor(h=0,f=0,_=0,v=0){if(isNaN(h)||h<0||isNaN(f)||f<0||isNaN(_)||_<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=h,this.bottom=f,this.left=_,this.right=v}interpolate(h,f,_){return f.top!=null&&h.top!=null&&(this.top=a.G.number(h.top,f.top,_)),f.bottom!=null&&h.bottom!=null&&(this.bottom=a.G.number(h.bottom,f.bottom,_)),f.left!=null&&h.left!=null&&(this.left=a.G.number(h.left,f.left,_)),f.right!=null&&h.right!=null&&(this.right=a.G.number(h.right,f.right,_)),this}getCenter(h,f){const _=a.an((this.left+h-this.right)/2,0,h),v=a.an((this.top+f-this.bottom)/2,0,f);return new a.P(_,v)}equals(h){return this.top===h.top&&this.bottom===h.bottom&&this.left===h.left&&this.right===h.right}clone(){return new cl(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ks(T,h){if(!T.renderWorldCopies||T.lngRange)return;const f=h.lng-T.center.lng;h.lng+=f>180?-360:f<-180?360:0}function En(T){return Math.max(0,Math.floor(T))}class wo{constructor(h,f){var _;this.applyConstrain=(v,C)=>this._constrainOverride!==null?this._constrainOverride(v,C):this._callbacks.defaultConstrain(v,C),this._callbacks=h,this._tileSize=512,this._renderWorldCopies=f?.renderWorldCopies===void 0||!!f?.renderWorldCopies,this._minZoom=f?.minZoom||0,this._maxZoom=f?.maxZoom||22,this._minPitch=f?.minPitch==null?0:f?.minPitch,this._maxPitch=f?.maxPitch==null?60:f?.maxPitch,this._constrainOverride=(_=f?.constrainOverride)!==null&&_!==void 0?_:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new a.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=En(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new cl,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(h,f,_){this._constrainOverride=h.constrainOverride,this._latRange=h.latRange,this._lngRange=h.lngRange,this._width=h.width,this._height=h.height,this._center=h.center,this._elevation=h.elevation,this._minElevationForCurrentTile=h.minElevationForCurrentTile,this._zoom=h.zoom,this._tileZoom=En(this._zoom),this._scale=a.aq(this._zoom),this._bearingInRadians=h.bearingInRadians,this._fovInRadians=h.fovInRadians,this._pitchInRadians=h.pitchInRadians,this._rollInRadians=h.rollInRadians,this._unmodified=h.unmodified,this._edgeInsets=new cl(h.padding.top,h.padding.bottom,h.padding.left,h.padding.right),this._minZoom=h.minZoom,this._maxZoom=h.maxZoom,this._minPitch=h.minPitch,this._maxPitch=h.maxPitch,this._renderWorldCopies=h.renderWorldCopies,this._cameraToCenterDistance=h.cameraToCenterDistance,this._nearZ=h.nearZ,this._farZ=h.farZ,this._autoCalculateNearFarZ=!_&&h.autoCalculateNearFarZ,f&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(h){this._minElevationForCurrentTile=h}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(h){this._minZoom!==h&&(this._minZoom=h,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(h){this._maxZoom!==h&&(this._maxZoom=h,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(h){this._minPitch!==h&&(this._minPitch=h,this.setPitch(Math.max(this.pitch,h)))}get maxPitch(){return this._maxPitch}setMaxPitch(h){this._maxPitch!==h&&(this._maxPitch=h,this.setPitch(Math.min(this.pitch,h)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(h){h===void 0?h=!0:h===null&&(h=!1),this._renderWorldCopies=h}get constrainOverride(){return this._constrainOverride}setConstrainOverride(h){h===void 0&&(h=null),this._constrainOverride!==h&&(this._constrainOverride=h,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(h){const f=a.W(h,-180,180)*Math.PI/180;var _,v,C,P,z,F,$,G,K;this._bearingInRadians!==f&&(this._unmodified=!1,this._bearingInRadians=f,this._calcMatrices(),this._rotationMatrix=p(),_=this._rotationMatrix,C=-this._bearingInRadians,P=(v=this._rotationMatrix)[0],z=v[1],F=v[2],$=v[3],G=Math.sin(C),K=Math.cos(C),_[0]=P*K+F*G,_[1]=z*K+$*G,_[2]=P*-G+F*K,_[3]=z*-G+$*K)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(h){const f=a.an(h,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==f&&(this._unmodified=!1,this._pitchInRadians=f,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(h){const f=h/180*Math.PI;this._rollInRadians!==f&&(this._unmodified=!1,this._rollInRadians=f,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return a.aZ(this._fovInRadians)}setFov(h){h=a.an(h,.1,150),this.fov!==h&&(this._unmodified=!1,this._fovInRadians=a.ap(h),this._calcMatrices())}get zoom(){return this._zoom}setZoom(h){const f=this.applyConstrain(this._center,h).zoom;this._zoom!==f&&(this._unmodified=!1,this._zoom=f,this._tileZoom=Math.max(0,Math.floor(f)),this._scale=a.aq(f),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(h){h.lat===this._center.lat&&h.lng===this._center.lng||(this._unmodified=!1,this._center=h,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(h){h!==this._elevation&&(this._elevation=h,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(h){this._edgeInsets.equals(h)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,h,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(h,f){this._autoCalculateNearFarZ=!1,this._nearZ=h,this._farZ=f,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(h){return this._edgeInsets.equals(h)}interpolatePadding(h,f,_){this._unmodified=!1,this._edgeInsets.interpolate(h,f,_),this.constrainInternal(),this._calcMatrices()}resize(h,f,_=!0){this._width=h,this._height=f,_&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Ye([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(h){h?(this._lngRange=[h.getWest(),h.getEast()],this._latRange=[h.getSouth(),h.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-a.ao,a.ao])}getCameraQueryGeometry(h,f){if(f.length===1)return[f[0],h];{const{minX:_,minY:v,maxX:C,maxY:P}=a.aa.fromPoints(f).extend(h);return[new a.P(_,v),new a.P(C,v),new a.P(C,P),new a.P(_,P),new a.P(_,v)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const h=this._unmodified,{center:f,zoom:_}=this.applyConstrain(this.center,this.zoom);this.setCenter(f),this.setZoom(_),this._unmodified=h,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let h=a.ar(new Float64Array(16));a.Q(h,h,[this._width/2,-this._height/2,1]),a.O(h,h,[1,-1,0]),this._clipSpaceToPixelsMatrix=h,h=a.ar(new Float64Array(16)),a.Q(h,h,[1,-1,1]),a.O(h,h,[-1,-1,0]),a.Q(h,h,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=h,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(h,f,_,v){const C=_!==void 0?_:this.bearing,P=v=v!==void 0?v:this.pitch,{distanceToCenter:z,clampedElevation:F}=this._distanceToCenterFromAltElevationPitch(f,this.elevation,P),{x:$,y:G}=_i(P,C),K=a.a9.fromLngLat(h,f);let Z,ie,oe=a.a_(1,K.y),fe=0;do{if(fe+=1,fe>10)break;ie=z/oe,Z=new a.a9(K.x+$*ie,K.y+G*ie),oe=1/Z.meterInMercatorCoordinateUnits()}while(Math.abs(z-ie*oe)>1e-12);return{center:Z.toLngLat(),elevation:F,zoom:a.at(this.height/2/Math.tan(this.fovInRadians/2)/ie/this.tileSize)}}recalculateZoomAndCenter(h){if(this.elevation-h==0)return;const f=1/this.worldSize,_=a.as(1,this.center.lat)*this.worldSize,v=a.a9.fromLngLat(this.center,this.elevation),C=v.x/f,P=v.y/f,z=v.z/f,F=this.pitch,$=this.bearing,{x:G,y:K,z:Z}=_i(F,$),ie=this.cameraToCenterDistance,oe=C+ie*-G,fe=P+ie*-K,me=z+ie*Z,{distanceToCenter:pe,clampedElevation:ye}=this._distanceToCenterFromAltElevationPitch(me/_,h,F),Ce=pe*_,ge=new a.a9((oe+G*Ce)*f,(fe+K*Ce)*f,0).toLngLat(),Se=a.as(1,ge.lat),Pe=a.at(this.height/2/Math.tan(this.fovInRadians/2)/pe/Se/this.tileSize);this._elevation=ye,this._center=ge,this.setZoom(Pe)}_distanceToCenterFromAltElevationPitch(h,f,_){const v=-Math.cos(a.ap(_)),C=h-f;let P,z=f;return v*C>=0||Math.abs(v)<.1?(P=1e4,z=h+P*v):P=-C/v,{distanceToCenter:P,clampedElevation:z}}getCameraPoint(){const h=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.P(h*Math.sin(this.rollInRadians),h*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const h=a.as(1,this.center.lat)*this.worldSize;return je(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/h).toLngLat()}getMercatorTileCoordinates(h){if(!h)return[0,0,1,1];const f=h.canonical.z>=0?1<<h.canonical.z:Math.pow(2,h.canonical.z);return[h.canonical.x/f,h.canonical.y/f,1/f/a.a5,1/f/a.a5]}}class gs{constructor(h,f){this.min=h,this.max=f,this.center=a.a$([],a.b0([],this.min,this.max),.5)}quadrant(h){const f=[h%2==0,h<2],_=a.b1(this.min),v=a.b1(this.max);for(let C=0;C<f.length;C++)_[C]=f[C]?this.min[C]:this.center[C],v[C]=f[C]?this.center[C]:this.max[C];return v[2]=this.max[2],new gs(_,v)}distanceX(h){return Math.max(Math.min(this.max[0],h[0]),this.min[0])-h[0]}distanceY(h){return Math.max(Math.min(this.max[1],h[1]),this.min[1])-h[1]}intersectsFrustum(h){let f=!0;for(let _=0;_<h.planes.length;_++){const v=this.intersectsPlane(h.planes[_]);if(v===0)return 0;v===1&&(f=!1)}return f?2:h.aabb.min[0]>this.max[0]||h.aabb.min[1]>this.max[1]||h.aabb.min[2]>this.max[2]||h.aabb.max[0]<this.min[0]||h.aabb.max[1]<this.min[1]||h.aabb.max[2]<this.min[2]?0:1}intersectsPlane(h){let f=h[3],_=h[3];for(let v=0;v<3;v++)h[v]>0?(f+=h[v]*this.min[v],_+=h[v]*this.max[v]):(_+=h[v]*this.min[v],f+=h[v]*this.max[v]);return f>=0?2:_<0?0:1}}class ic{distanceToTile2d(h,f,_,v){const C=v.distanceX([h,f]),P=v.distanceY([h,f]);return Math.hypot(C,P)}getWrap(h,f,_){return _}getTileBoundingVolume(h,f,_,v){var C,P;let z=0,F=0;if(v?.terrain){const G=new a.a2(h.z,f,h.z,h.x,h.y),K=v.terrain.getMinMaxElevation(G);z=(C=K.minElevation)!==null&&C!==void 0?C:Math.min(0,_),F=(P=K.maxElevation)!==null&&P!==void 0?P:Math.max(0,_)}const $=1<<h.z;return new gs([f+h.x/$,h.y/$,z],[f+(h.x+1)/$,(h.y+1)/$,F])}allowVariableZoom(h,f){const _=h.fov*(Math.abs(Math.cos(h.rollInRadians))*h.height+Math.abs(Math.sin(h.rollInRadians))*h.width)/h.height,v=a.an(78.5-_/2,0,60);return!!f.terrain||h.pitch>v}allowWorldCopies(){return!0}prepareNextFrame(){}}class Ka{constructor(h,f,_){this.points=h,this.planes=f,this.aabb=_}static fromInvProjectionMatrix(h,f=1,_=0,v,C){const P=C?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],z=Math.pow(2,_),F=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((Z=>(function(ie,oe,fe,me){const pe=a.aH([],ie,oe),ye=1/pe[3]/fe*me;return a.b6(pe,pe,[ye,ye,1/pe[3],ye])})(Z,h,f,z)));v&&(function(Z,ie,oe,fe){const me=fe?4:0,pe=fe?0:4;let ye=0;const Ce=[],ge=[];for(let we=0;we<4;we++){const Ie=a.b2([],Z[we+pe],Z[we+me]),qe=a.b7(Ie);a.a$(Ie,Ie,1/qe),Ce.push(qe),ge.push(Ie)}for(let we=0;we<4;we++){const Ie=a.b8(Z[we+me],ge[we],oe);ye=Ie!==null&&Ie>=0?Math.max(ye,Ie):Math.max(ye,Ce[we])}const Se=(function(we,Ie){const qe=a.b2([],we[Ie[0]],we[Ie[1]]),Ve=a.b2([],we[Ie[2]],we[Ie[1]]),Ge=[0,0,0,0];return a.b3(Ge,a.b4([],qe,Ve)),Ge[3]=-a.b5(Ge,we[Ie[0]]),Ge})(Z,ie),Pe=(function(we,Ie){const qe=a.b9(we),Ve=a.ba([],we,1/qe),Ge=a.b2([],Ie,a.a$([],Ve,a.b5(Ie,Ve))),We=a.b9(Ge);if(We>0){const ut=Math.sqrt(1-Ve[3]*Ve[3]),dt=a.a$([],Ve,-Ve[3]),rt=a.b0([],dt,a.a$([],Ge,ut/We));return a.bb(Ie,rt)}return null})(oe,Se);if(Pe!==null){const we=Pe/a.b5(ge[0],Se);ye=Math.min(ye,we)}for(let we=0;we<4;we++){const Ie=Math.min(ye,Ce[we]);Z[we+pe]=[Z[we+me][0]+ge[we][0]*Ie,Z[we+me][1]+ge[we][1]*Ie,Z[we+me][2]+ge[we][2]*Ie,1]}})(F,P[0],v,C);const $=P.map((Z=>{const ie=a.b2([],F[Z[0]],F[Z[1]]),oe=a.b2([],F[Z[2]],F[Z[1]]),fe=a.b3([],a.b4([],ie,oe)),me=-a.b5(fe,F[Z[1]]);return fe.concat(me)})),G=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],K=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Z of F)for(let ie=0;ie<3;ie++)G[ie]=Math.min(G[ie],Z[ie]),K[ie]=Math.max(K[ie],Z[ie]);return new Ka(F,$,new gs(G,K))}}class ko{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(h){this._helper.setMinZoom(h)}setMaxZoom(h){this._helper.setMaxZoom(h)}setMinPitch(h){this._helper.setMinPitch(h)}setMaxPitch(h){this._helper.setMaxPitch(h)}setRenderWorldCopies(h){this._helper.setRenderWorldCopies(h)}setBearing(h){this._helper.setBearing(h)}setPitch(h){this._helper.setPitch(h)}setRoll(h){this._helper.setRoll(h)}setFov(h){this._helper.setFov(h)}setZoom(h){this._helper.setZoom(h)}setCenter(h){this._helper.setCenter(h)}setElevation(h){this._helper.setElevation(h)}setMinElevationForCurrentTile(h){this._helper.setMinElevationForCurrentTile(h)}setPadding(h){this._helper.setPadding(h)}interpolatePadding(h,f,_){return this._helper.interpolatePadding(h,f,_)}isPaddingEqual(h){return this._helper.isPaddingEqual(h)}resize(h,f,_=!0){this._helper.resize(h,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(h){this._helper.setMaxBounds(h)}setConstrainOverride(h){this._helper.setConstrainOverride(h)}overrideNearFarZ(h,f){this._helper.overrideNearFarZ(h,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(h){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),h)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(h,f){}constructor(h){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(f,_)=>{_=a.an(+_,this.minZoom,this.maxZoom);const v={center:new a.V(f.lng,f.lat),zoom:_};let C=this._helper._lngRange;if(!this._helper._renderWorldCopies&&C===null){const ge=179.9999999999;C=[-ge,ge]}const P=this.tileSize*a.aq(v.zoom);let z=0,F=P,$=0,G=P,K=0,Z=0;const{x:ie,y:oe}=this.size;if(this._helper._latRange){const ge=this._helper._latRange;z=a.X(ge[1])*P,F=a.X(ge[0])*P,F-z<oe&&(K=oe/(F-z))}C&&($=a.W(a.Y(C[0])*P,0,P),G=a.W(a.Y(C[1])*P,0,P),G<$&&(G+=P),G-$<ie&&(Z=ie/(G-$)));const{x:fe,y:me}=ht(P,f);let pe,ye;const Ce=Math.max(Z||0,K||0);if(Ce){const ge=new a.P(Z?(G+$)/2:fe,K?(F+z)/2:me);return v.center=Vt(P,ge).wrap(),v.zoom+=a.at(Ce),v}if(this._helper._latRange){const ge=oe/2;me-ge<z&&(ye=z+ge),me+ge>F&&(ye=F-ge)}if(C){const ge=($+G)/2;let Se=fe;this._helper._renderWorldCopies&&(Se=a.W(fe,ge-P/2,ge+P/2));const Pe=ie/2;Se-Pe<$&&(pe=$+Pe),Se+Pe>G&&(pe=G-Pe)}if(pe!==void 0||ye!==void 0){const ge=new a.P(pe??fe,ye??me);v.center=Vt(P,ge).wrap()}return v},this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},h),this._coveringTilesDetailsProvider=new ic}clone(){const h=new ko;return h.apply(this),h}apply(h,f,_){this._helper.apply(h,f,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(h){const f=[new a.bc(0,h)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new a.P(0,0)),v=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,0)),C=this.screenPointToMercatorCoordinate(new a.P(this._helper._width,this._helper._height)),P=this.screenPointToMercatorCoordinate(new a.P(0,this._helper._height)),z=Math.floor(Math.min(_.x,v.x,C.x,P.x)),F=Math.floor(Math.max(_.x,v.x,C.x,P.x)),$=1;for(let G=z-$;G<=F+$;G++)G!==0&&f.push(new a.bc(G,h))}return f}getCameraFrustum(){return Ka.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(h){const f=this.screenPointToLocation(this.centerPoint,h),_=h?h.getElevationForLngLatZoom(f,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(h,f){const _=a.as(this.elevation,this.center.lat),v=this.screenPointToMercatorCoordinateAtZ(f,_),C=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),P=a.a9.fromLngLat(h),z=new a.a9(P.x-(v.x-C.x),P.y-(v.y-C.y));this.setCenter(z?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(h,f){return f?this.coordinatePoint(a.a9.fromLngLat(h),f.getElevationForLngLat(h,this),this._pixelMatrix3D):this.coordinatePoint(a.a9.fromLngLat(h))}screenPointToLocation(h,f){var _;return(_=this.screenPointToMercatorCoordinate(h,f))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(h,f){if(f){const _=f.pointCoordinate(h);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(h)}screenPointToMercatorCoordinateAtZ(h,f){const _=f||0,v=[h.x,h.y,0,1],C=[h.x,h.y,1,1];a.aH(v,v,this._pixelMatrixInverse),a.aH(C,C,this._pixelMatrixInverse);const P=v[3],z=C[3],F=v[1]/P,$=C[1]/z,G=v[2]/P,K=C[2]/z,Z=G===K?0:(_-G)/(K-G);return new a.a9(a.G.number(v[0]/P,C[0]/z,Z)/this.worldSize,a.G.number(F,$,Z)/this.worldSize,_)}coordinatePoint(h,f=0,_=this._pixelMatrix){const v=[h.x*this.worldSize,h.y*this.worldSize,f,1];return a.aH(v,v,_),new a.P(v[0]/v[3],v[1]/v[3])}getBounds(){const h=Math.max(0,this._helper._height/2-li(this));return new Ye().extend(this.screenPointToLocation(new a.P(0,h))).extend(this.screenPointToLocation(new a.P(this._helper._width,h))).extend(this.screenPointToLocation(new a.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new a.P(0,this._helper._height)))}isPointOnMapSurface(h,f){return f?f.pointCoordinate(h)!=null:h.y>this.height/2-li(this)}calculatePosMatrix(h,f=!1,_){var v;const C=(v=h.key)!==null&&v!==void 0?v:a.bd(h.wrap,h.canonical.z,h.canonical.z,h.canonical.x,h.canonical.y),P=f?this._alignedPosMatrixCache:this._posMatrixCache;if(P.has(C)){const $=P.get(C);return _?$.f32:$.f64}const z=ii(h,this.worldSize);a.S(z,f?this._alignedProjMatrix:this._viewProjMatrix,z);const F={f64:z,f32:new Float32Array(z)};return P.set(C,F),_?F.f32:F.f64}calculateFogMatrix(h){const f=h.key,_=this._fogMatrixCacheF32;if(_.has(f))return _.get(f);const v=ii(h,this.worldSize);return a.S(v,this._fogMatrix,v),_.set(f,new Float32Array(v)),_.get(f)}calculateCenterFromCameraLngLatAlt(h,f,_,v){return this._helper.calculateCenterFromCameraLngLatAlt(h,f,_,v)}_calculateNearFarZIfNeeded(h,f,_){if(!this._helper.autoCalculateNearFarZ)return;const v=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),C=h-v*this._helper._pixelPerMeter/Math.cos(f),P=v<0?C:h,z=Math.PI/2+this.pitchInRadians,F=a.ap(this.fov)*(Math.abs(Math.cos(a.ap(this.roll)))*this.height+Math.abs(Math.sin(a.ap(this.roll)))*this.width)/this.height*(.5+_.y/this.height),$=Math.sin(F)*P/Math.sin(a.an(Math.PI-z-F,.01,Math.PI-.01)),G=li(this),K=Math.atan(G/this._helper.cameraToCenterDistance),Z=a.ap(.75),ie=K>Z?2*K*(.5+_.y/(2*G)):Z,oe=Math.sin(ie)*P/Math.sin(a.an(Math.PI-z-ie,.01,Math.PI-.01)),fe=Math.min($,oe);this._helper._farZ=1.01*(Math.cos(Math.PI/2-f)*fe+P),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const h=this.centerOffset,f=ht(this.worldSize,this.center),_=f.x,v=f.y;this._helper._pixelPerMeter=a.as(1,this.center.lat)*this.worldSize;const C=a.ap(Math.min(this.pitch,_t)),P=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(C));let z;this._calculateNearFarZIfNeeded(P,C,h),z=new Float64Array(16),a.be(z,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),a.aB(this._invProjMatrix,z),z[8]=2*-h.x/this._helper._width,z[9]=2*h.y/this._helper._height,this._projectionMatrix=a.bf(z),a.Q(z,z,[1,-1,1]),a.O(z,z,[0,0,-this._helper.cameraToCenterDistance]),a.bg(z,z,-this.rollInRadians),a.bh(z,z,this.pitchInRadians),a.bg(z,z,-this.bearingInRadians),a.O(z,z,[-_,-v,0]),this._mercatorMatrix=a.Q([],z,[this.worldSize,this.worldSize,this.worldSize]),a.Q(z,z,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,z),a.O(z,z,[0,0,-this.elevation]),this._viewProjMatrix=z,this._invViewProjMatrix=a.aB([],z);const F=[0,0,-1,1];a.aH(F,F,this._invViewProjMatrix),this._cameraPosition=[F[0]/F[3],F[1]/F[3],F[2]/F[3]],this._fogMatrix=new Float64Array(16),a.be(this._fogMatrix,this.fovInRadians,this.width/this.height,P,this._helper._farZ),this._fogMatrix[8]=2*-h.x/this.width,this._fogMatrix[9]=2*h.y/this.height,a.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),a.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),a.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),a.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),a.O(this._fogMatrix,this._fogMatrix,[-_,-v,0]),a.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),a.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=a.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,z);const $=this._helper._width%2/2,G=this._helper._height%2/2,K=Math.cos(this.bearingInRadians),Z=Math.sin(-this.bearingInRadians),ie=_-Math.round(_)+K*$+Z*G,oe=v-Math.round(v)+K*G+Z*$,fe=new Float64Array(z);if(a.O(fe,fe,[ie>.5?ie-1:ie,oe>.5?oe-1:oe,0]),this._alignedProjMatrix=fe,z=a.aB(new Float64Array(16),this._pixelMatrix),!z)throw new Error("failed to invert matrix");this._pixelMatrixInverse=z,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const h=this.screenPointToMercatorCoordinate(new a.P(0,0)),f=[h.x*this.worldSize,h.y*this.worldSize,0,1];return a.aH(f,f,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const h=a.as(1,this.center.lat)*this.worldSize;return je(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/h).toLngLat()}lngLatToCameraDepth(h,f){const _=a.a9.fromLngLat(h),v=[_.x*this.worldSize,_.y*this.worldSize,f,1];return a.aH(v,v,this._viewProjMatrix),v[2]/v[3]}getProjectionData(h){const{overscaledTileID:f,aligned:_,applyTerrainMatrix:v}=h,C=this._helper.getMercatorTileCoordinates(f),P=f?this.calculatePosMatrix(f,_,!0):null;let z;return z=f&&f.terrainRttPosMatrix32f&&v?f.terrainRttPosMatrix32f:P||a.bi(),{mainMatrix:z,tileMercatorCoords:C,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:z}}isLocationOccluded(h){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(h,f,_){return 1}transformLightDirection(h){return a.b1(h)}getRayDirectionFromPixel(h){throw new Error("Not implemented.")}projectTileCoordinates(h,f,_,v){const C=this.calculatePosMatrix(_);let P;v?(P=[h,f,v(h,f),1],a.aH(P,P,C)):(P=[h,f,0,1],Qu(P,P,C));const z=P[3];return{point:new a.P(P[0]/z,P[1]/z),signedDistanceFromCamera:z,isOccluded:!1}}populateCache(h){for(const f of h)this.calculatePosMatrix(f)}getMatrixForModel(h,f){const _=a.a9.fromLngLat(h,f),v=_.meterInMercatorCoordinateUnits(),C=a.bj();return a.O(C,C,[_.x,_.y,_.z]),a.bg(C,C,Math.PI),a.bh(C,C,Math.PI/2),a.Q(C,C,[-v,v,v]),C}getProjectionDataForCustomLayer(h=!0){const f=new a.a2(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:f,applyGlobeMatrix:h}),v=ii(f,this.worldSize);a.S(v,this._viewProjMatrix,v),_.tileMercatorCoords=[0,0,1,1];const C=[a.a5,a.a5,this.worldSize/this._helper.pixelsPerMeter],P=a.bk();return a.Q(P,v,C),_.fallbackMatrix=P,_.mainMatrix=P,_}getFastPathSimpleProjectionMatrix(h){return this.calculatePosMatrix(h)}}function Ds(){a.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Gm(T){if(T.useSlerp)if(T.k<1){const h=a.bl(T.startEulerAngles.roll,T.startEulerAngles.pitch,T.startEulerAngles.bearing),f=a.bl(T.endEulerAngles.roll,T.endEulerAngles.pitch,T.endEulerAngles.bearing),_=new Float64Array(4);a.bm(_,h,f,T.k);const v=a.bn(_);T.tr.setRoll(v.roll),T.tr.setPitch(v.pitch),T.tr.setBearing(v.bearing)}else T.tr.setRoll(T.endEulerAngles.roll),T.tr.setPitch(T.endEulerAngles.pitch),T.tr.setBearing(T.endEulerAngles.bearing);else T.tr.setRoll(a.G.number(T.startEulerAngles.roll,T.endEulerAngles.roll,T.k)),T.tr.setPitch(a.G.number(T.startEulerAngles.pitch,T.endEulerAngles.pitch,T.k)),T.tr.setBearing(a.G.number(T.startEulerAngles.bearing,T.endEulerAngles.bearing,T.k))}function ef(T,h,f,_,v){const C=v.padding,P=ht(v.worldSize,f.getNorthWest()),z=ht(v.worldSize,f.getNorthEast()),F=ht(v.worldSize,f.getSouthEast()),$=ht(v.worldSize,f.getSouthWest()),G=a.ap(-_),K=P.rotate(G),Z=z.rotate(G),ie=F.rotate(G),oe=$.rotate(G),fe=new a.P(Math.max(K.x,Z.x,oe.x,ie.x),Math.max(K.y,Z.y,oe.y,ie.y)),me=new a.P(Math.min(K.x,Z.x,oe.x,ie.x),Math.min(K.y,Z.y,oe.y,ie.y)),pe=fe.sub(me),ye=(v.width-(C.left+C.right+h.left+h.right))/pe.x,Ce=(v.height-(C.top+C.bottom+h.top+h.bottom))/pe.y;if(Ce<0||ye<0)return void Ds();const ge=Math.min(a.at(v.scale*Math.min(ye,Ce)),T.maxZoom),Se=a.P.convert(T.offset),Pe=new a.P((h.left-h.right)/2,(h.top-h.bottom)/2).rotate(a.ap(_)),we=Se.add(Pe).mult(v.scale/a.aq(ge));return{center:Vt(v.worldSize,P.add(F).div(2).sub(we)),zoom:ge,bearing:_}}class So{get useGlobeControls(){return!1}handlePanInertia(h,f){const _=h.mag(),v=Math.abs(li(f));return{easingOffset:h.mult(Math.min(.75*v/_,1)),easingCenter:f.center}}handleMapControlsRollPitchBearingZoom(h,f){h.bearingDelta&&f.setBearing(f.bearing+h.bearingDelta),h.pitchDelta&&f.setPitch(f.pitch+h.pitchDelta),h.rollDelta&&f.setRoll(f.roll+h.rollDelta),h.zoomDelta&&f.setZoom(f.zoom+h.zoomDelta)}handleMapControlsPan(h,f,_){h.around.distSqr(f.centerPoint)<.01||f.setLocationAtPoint(_,h.around)}cameraForBoxAndBearing(h,f,_,v,C){return ef(h,f,_,v,C)}handleJumpToCenterZoom(h,f){h.zoom!==(f.zoom!==void 0?+f.zoom:h.zoom)&&h.setZoom(+f.zoom),f.center!==void 0&&h.setCenter(a.V.convert(f.center))}handleEaseTo(h,f){const _=h.zoom,v=h.padding,C={roll:h.roll,pitch:h.pitch,bearing:h.bearing},P={roll:f.roll===void 0?h.roll:f.roll,pitch:f.pitch===void 0?h.pitch:f.pitch,bearing:f.bearing===void 0?h.bearing:f.bearing},z=f.zoom!==void 0,F=!h.isPaddingEqual(f.padding);let $=!1;const G=z?+f.zoom:h.zoom;let K=h.centerPoint.add(f.offsetAsPoint);const Z=h.screenPointToLocation(K),{center:ie,zoom:oe}=h.applyConstrain(a.V.convert(f.center||Z),G??_);Ks(h,ie);const fe=ht(h.worldSize,Z),me=ht(h.worldSize,ie).sub(fe),pe=a.aq(oe-_);return $=oe!==_,{easeFunc:ye=>{if($&&h.setZoom(a.G.number(_,oe,ye)),a.bo(C,P)||Gm({startEulerAngles:C,endEulerAngles:P,tr:h,k:ye,useSlerp:C.roll!=P.roll}),F&&(h.interpolatePadding(v,f.padding,ye),K=h.centerPoint.add(f.offsetAsPoint)),f.around)h.setLocationAtPoint(f.around,f.aroundPoint);else{const Ce=a.aq(h.zoom-_),ge=oe>_?Math.min(2,pe):Math.max(.5,pe),Se=Math.pow(ge,1-ye),Pe=Vt(h.worldSize,fe.add(me.mult(ye*Se)).mult(Ce));h.setLocationAtPoint(h.renderWorldCopies?Pe.wrap():Pe,K)}},isZooming:$,elevationCenter:ie}}handleFlyTo(h,f){const _=f.zoom!==void 0,v=h.zoom,C=h.applyConstrain(a.V.convert(f.center||f.locationAtOffset),_?+f.zoom:v),P=C.center,z=C.zoom;Ks(h,P);const F=ht(h.worldSize,f.locationAtOffset),$=ht(h.worldSize,P).sub(F),G=$.mag(),K=a.aq(z-v);let Z;if(f.minZoom!==void 0){const ie=Math.min(+f.minZoom,v,z),oe=h.applyConstrain(P,ie).zoom;Z=a.aq(oe-v)}return{easeFunc:(ie,oe,fe,me)=>{h.setZoom(ie===1?z:v+a.at(oe));const pe=ie===1?P:Vt(h.worldSize,F.add($.mult(fe)).mult(oe));h.setLocationAtPoint(h.renderWorldCopies?pe.wrap():pe,me)},scaleOfZoom:K,targetCenter:P,scaleOfMinZoom:Z,pixelPathLength:G}}}class Vi{constructor(h,f,_){this.blendFunction=h,this.blendColor=f,this.mask=_}}Vi.Replace=[1,0],Vi.disabled=new Vi(Vi.Replace,a.bp.transparent,[!1,!1,!1,!1]),Vi.unblended=new Vi(Vi.Replace,a.bp.transparent,[!0,!0,!0,!0]),Vi.alphaBlended=new Vi([1,771],a.bp.transparent,[!0,!0,!0,!0]);const dl=2305;class mi{constructor(h,f,_){this.enable=h,this.mode=f,this.frontFace=_}}mi.disabled=new mi(!1,1029,dl),mi.backCCW=new mi(!0,1029,dl),mi.frontCCW=new mi(!0,1028,dl);class ni{constructor(h,f,_){this.func=h,this.mask=f,this.range=_}}ni.ReadOnly=!1,ni.ReadWrite=!0,ni.disabled=new ni(519,ni.ReadOnly,[0,1]);const fl=7680;class xi{constructor(h,f,_,v,C,P){this.test=h,this.ref=f,this.mask=_,this.fail=v,this.depthFail=C,this.pass=P}}xi.disabled=new xi({func:519,mask:0},0,0,fl,fl,fl);const xh=new WeakMap;function Mr(T){var h;if(xh.has(T))return xh.get(T);{const f=(h=T.getParameter(T.VERSION))===null||h===void 0?void 0:h.startsWith("WebGL 2.0");return xh.set(T,f),f}}class pl{get awaitingQuery(){return!!this._readbackQueue}constructor(h){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=h;const f=h.context,_=f.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const v=new a.aW;v.emplaceBack(-1,-1),v.emplaceBack(2,-1),v.emplaceBack(-1,2);const C=new a.aY;C.emplaceBack(0,1,2),this._fullscreenTriangle=new $i(f.createVertexBuffer(v,Zs.members),f.createIndexBuffer(C),a.aX.simpleSegment(0,0,v.length,C.length)),this._resultBuffer=new Uint8Array(4),f.activeTexture.set(_.TEXTURE1);const P=_.createTexture();_.bindTexture(_.TEXTURE_2D,P),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=f.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(P),Mr(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const h=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),h.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(h,f){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(h,f),this._updateCount++,this._measuredError}_bindFramebuffer(){const h=this._cachedRenderContext.context,f=h.gl;h.activeTexture.set(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this._fbo.colorAttachment.get()),h.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(h,f){const _=this._cachedRenderContext.context,v=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:a.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,v.TRIANGLES,ni.disabled,xi.disabled,Vi.unblended,mi.disabled,((C,P)=>({u_input:C,u_output_expected:P}))(h,f),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Mr(v)){v.bindBuffer(v.PIXEL_PACK_BUFFER,this._pbo),v.readBuffer(v.COLOR_ATTACHMENT0),v.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),v.bindBuffer(v.PIXEL_PACK_BUFFER,null);const C=v.fenceSync(v.SYNC_GPU_COMMANDS_COMPLETE,0);v.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:C}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const h=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Mr(h)){const f=h.clientWaitSync(this._readbackQueue.sync,0,0);if(f===h.WAIT_FAILED)return a.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(f===h.TIMEOUT_EXPIRED)return;h.bindBuffer(h.PIXEL_PACK_BUFFER,this._pbo),h.getBufferSubData(h.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),h.bindBuffer(h.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),h.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=pl._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(h){let f=0;return f+=h[0]/256,f+=h[1]/65536,f+=h[2]/16777216,h[3]<127&&(f=-f),f/128}}const Js=a.a5/128;function Um(T,h){const f=T.granularity!==void 0?Math.max(T.granularity,1):1,_=f+(T.generateBorders?2:0),v=f+(T.extendToNorthPole||T.generateBorders?1:0)+(T.extendToSouthPole||T.generateBorders?1:0),C=_+1,P=v+1,z=T.generateBorders?-1:0,F=T.generateBorders||T.extendToNorthPole?-1:0,$=f+(T.generateBorders?1:0),G=f+(T.generateBorders||T.extendToSouthPole?1:0),K=C*P,Z=_*v*6,ie=C*P>65536;if(ie&&h==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const oe=ie||h==="32bit",fe=new Int16Array(2*K);let me=0;for(let Ce=F;Ce<=G;Ce++)for(let ge=z;ge<=$;ge++){let Se=ge/f*a.a5;ge===-1&&(Se=-Js),ge===f+1&&(Se=a.a5+Js);let Pe=Ce/f*a.a5;Ce===-1&&(Pe=T.extendToNorthPole?a.br:-Js),Ce===f+1&&(Pe=T.extendToSouthPole?a.bs:a.a5+Js),fe[me++]=Se,fe[me++]=Pe}const pe=oe?new Uint32Array(Z):new Uint16Array(Z);let ye=0;for(let Ce=0;Ce<v;Ce++)for(let ge=0;ge<_;ge++){const Se=ge+1+Ce*C,Pe=ge+(Ce+1)*C,we=ge+1+(Ce+1)*C;pe[ye++]=ge+Ce*C,pe[ye++]=Pe,pe[ye++]=Se,pe[ye++]=Se,pe[ye++]=Pe,pe[ye++]=we}return{vertices:fe.buffer.slice(0),indices:pe.buffer.slice(0),uses32bitIndices:oe}}const vh=new a.aV({fill:new a.bt(128,2),line:new a.bt(512,0),tile:new a.bt(128,32),stencil:new a.bt(128,1),circle:3});class tf{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return fn.projectionGlobe}get vertexShaderPreludeCode(){return fn.projectionMercator.vertexSource}get subdivisionGranularity(){return vh}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(h){this._errorMeasurement||(this._errorMeasurement=new pl(h));const f=a.X(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-f*Math.PI*2))-.5*Math.PI,v=this._errorMeasurement.updateErrorLoop(f,_),C=M();v!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=v,this._errorMeasurementLastChangeTime=C);const P=Math.min(Math.max((C-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=a.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,a.bv(P))}_getMeshKey(h){return`${h.granularity.toString(36)}_${h.generateBorders?"b":""}${h.extendToNorthPole?"n":""}${h.extendToSouthPole?"s":""}`}getMeshFromTileID(h,f,_,v,C){const P=(C==="stencil"?vh.stencil:vh.tile).getGranularityForZoomLevel(f.z);return this._getMesh(h,{granularity:P,generateBorders:_,extendToNorthPole:f.y===0&&v,extendToSouthPole:f.y===(1<<f.z)-1&&v})}_getMesh(h,f){const _=this._getMeshKey(f);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const v=(function(C,P){const z=Um(P,"16bit"),F=a.aW.deserialize({arrayBuffer:z.vertices,length:z.vertices.byteLength/2/2}),$=a.aY.deserialize({arrayBuffer:z.indices,length:z.indices.byteLength/2/3});return new $i(C.createVertexBuffer(F,Zs.members),C.createIndexBuffer($),a.aX.simpleSegment(0,0,F.length,$.length))})(h,f);return this._tileMeshCache[_]=v,v}recalculate(h){}hasTransition(){const h=M();let f=!1;return f=f||(h-this._errorMeasurementLastChangeTime)/1e3<.7,f=f||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,f}setErrorQueryLatitudeDegrees(h){this._errorQueryLatitudeDegrees=h}}const xx=new a.t({type:new a.D(a.u.projection.type)});class Wm extends a.E{constructor(h){super(),this._transitionable=new a.x(xx,void 0),this.setProjection(h),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new a.H(0)),this._mercatorProjection=new Na,this._verticalPerspectiveProjection=new tf}get transitionState(){const h=this.properties.get("type");if(typeof h=="string"&&h==="mercator")return 0;if(typeof h=="string"&&h==="vertical-perspective")return 1;if(h instanceof a.bw){if(h.from==="vertical-perspective"&&h.to==="mercator")return 1-h.transition;if(h.from==="mercator"&&h.to==="vertical-perspective")return h.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(h){this._mercatorProjection.updateGPUdependent(h),this._verticalPerspectiveProjection.updateGPUdependent(h)}getMeshFromTileID(h,f,_,v,C){return this.currentProjection.getMeshFromTileID(h,f,_,v,C)}setProjection(h){this._transitionable.setValue("type",h?.type||"mercator")}updateTransitions(h){this._transitioning=this._transitionable.transitioned(h,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(h){this.properties=this._transitioning.possiblyEvaluate(h)}setErrorQueryLatitudeDegrees(h){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(h),this._mercatorProjection.setErrorQueryLatitudeDegrees(h)}}function $a(T){const h=To(T.worldSize,T.center.lat);return 2*Math.PI*h}function _s(T,h,f,_,v){const C=1/(1<<v),P=h/a.a5*C+_*C,z=a.by((T/a.a5*C+f*C)*Math.PI*2+Math.PI,2*Math.PI),F=2*Math.atan(Math.exp(Math.PI-P*Math.PI*2))-.5*Math.PI,$=Math.cos(F),G=new Float64Array(3);return G[0]=Math.sin(z)*$,G[1]=Math.sin(F),G[2]=Math.cos(z)*$,G}function an(T){return(function(h,f){const _=Math.cos(f),v=new Float64Array(3);return v[0]=Math.sin(h)*_,v[1]=Math.sin(f),v[2]=Math.cos(h)*_,v})(T.lng*Math.PI/180,T.lat*Math.PI/180)}function To(T,h){return T/(2*Math.PI)/Math.cos(h*Math.PI/180)}function nf(T){const h=Math.asin(T[1])/Math.PI*180,f=Math.sqrt(T[0]*T[0]+T[2]*T[2]);if(f>1e-6){const _=T[0]/f,v=Math.acos(T[2]/f),C=(_>0?v:-v)/Math.PI*180;return new a.V(a.W(C,-180,180),h)}return new a.V(0,h)}function bh(T){return Math.cos(T*Math.PI/180)}function wn(T,h){const f=bh(T),_=bh(h);return a.at(_/f)}function Xm(T,h){const f=T.rotate(h.bearingInRadians),_=h.zoom+wn(h.center.lat,0),v=a.bu(1/bh(h.center.lat),1/bh(Math.min(Math.abs(h.center.lat),60)),a.bx(_,7,3,0,1)),C=360/$a({worldSize:h.worldSize,center:{lat:h.center.lat}});return new a.V(h.center.lng-f.x*C*v,a.an(h.center.lat+f.y*C,-a.ao,a.ao))}function af(T){const h=.5*T,f=Math.sin(h),_=Math.cos(h);return Math.log(f+_)-Math.log(_-f)}function qm(T,h,f,_){const v=T.lat+f*_;if(Math.abs(f)>1){const C=(Math.sign(T.lat+f)!==Math.sign(T.lat)?-Math.abs(T.lat):Math.abs(T.lat))*Math.PI/180,P=Math.abs(T.lat+f)*Math.PI/180,z=af(C+_*(P-C)),F=af(C),$=af(P);return new a.V(T.lng+h*((z-F)/($-F)),v)}return new a.V(T.lng+h*_,v)}class vx{constructor(h){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=h}swapBuffers(){if(!this._hadAnyChanges)return;const h=this._cachePrevious;this._cachePrevious=this._cache,this._cache=h,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(h,f,_,v){const C=`${h.z}_${h.x}_${h.y}_${v?.terrain?"t":""}`,P=this._cache.get(C);if(P)return P;const z=this._cachePrevious.get(C);if(z)return this._cache.set(C,z),z;const F=this._boundingVolumeFactory(h,f,_,v);return this._cache.set(C,F),this._hadAnyChanges=!0,F}}class ml{constructor(h,f,_,v){this.min=_,this.max=v,this.points=h,this.planes=f}static fromAabb(h,f){const _=[];for(let v=0;v<8;v++)_.push([1&~v?h[0]:f[0],(v>>1&1)==1?f[1]:h[1],(v>>2&1)==1?f[2]:h[2]]);return new ml(_,[[-1,0,0,f[0]],[1,0,0,-h[0]],[0,-1,0,f[1]],[0,1,0,-h[1]],[0,0,-1,f[2]],[0,0,1,-h[2]]],h,f)}static fromCenterSizeAngles(h,f,_){const v=a.bB([],_[0],_[1],_[2]),C=a.bC([],[f[0],0,0],v),P=a.bC([],[0,f[1],0],v),z=a.bC([],[0,0,f[2]],v),F=[...h],$=[...h];for(let K=0;K<8;K++)for(let Z=0;Z<3;Z++){const ie=h[Z]+C[Z]*(1&~K?-1:1)+P[Z]*((K>>1&1)==1?1:-1)+z[Z]*((K>>2&1)==1?1:-1);F[Z]=Math.min(F[Z],ie),$[Z]=Math.max($[Z],ie)}const G=[];for(let K=0;K<8;K++){const Z=[...h];a.b0(Z,Z,a.a$([],C,1&~K?-1:1)),a.b0(Z,Z,a.a$([],P,(K>>1&1)==1?1:-1)),a.b0(Z,Z,a.a$([],z,(K>>2&1)==1?1:-1)),G.push(Z)}return new ml(G,[[...C,-a.b5(C,G[0])],[...P,-a.b5(P,G[0])],[...z,-a.b5(z,G[0])],[-C[0],-C[1],-C[2],-a.b5(C,G[7])],[-P[0],-P[1],-P[2],-a.b5(P,G[7])],[-z[0],-z[1],-z[2],-a.b5(z,G[7])]],F,$)}intersectsFrustum(h){let f=!0;const _=this.points.length,v=this.planes.length,C=h.planes.length,P=h.points.length;for(let z=0;z<C;z++){const F=h.planes[z];let $=0;for(let G=0;G<_;G++){const K=this.points[G];F[0]*K[0]+F[1]*K[1]+F[2]*K[2]+F[3]>=0&&$++}if($===0)return 0;$<_&&(f=!1)}if(f)return 2;for(let z=0;z<v;z++){const F=this.planes[z];let $=0;for(let G=0;G<P;G++){const K=h.points[G];F[0]*K[0]+F[1]*K[1]+F[2]*K[2]+F[3]>=0&&$++}if($===0)return 0}return 1}intersectsPlane(h){const f=this.points.length;let _=0;for(let v=0;v<f;v++){const C=this.points[v];h[0]*C[0]+h[1]*C[1]+h[2]*C[2]+h[3]>=0&&_++}return _===f?2:_===0?0:1}}function nc(T,h,f){const _=T-h;return _<0?-_:Math.max(0,_-f)}function gl(T,h,f,_,v){const C=T-f;let P;return P=C<0?Math.min(-C,1+C-v):C>1?Math.min(Math.max(C-v,0),1-C):0,Math.max(P,nc(h,_,v))}class rf{constructor(){this._boundingVolumeCache=new vx(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(h,f,_,v){const C=1<<_.z,P=1/C,z=_.x/C,F=_.y/C;let $=2;return $=Math.min($,gl(h,f,z,F,P)),$=Math.min($,gl(h,f,z+.5,-F-P,P)),$=Math.min($,gl(h,f,z+.5,2-F-P,P)),$}getWrap(h,f,_){const v=1<<f.z,C=1/v,P=f.x/v,z=nc(h.x,P,C),F=nc(h.x,P-1,C),$=nc(h.x,P+1,C),G=Math.min(z,F,$);return G===$?1:G===F?-1:0}allowVariableZoom(h,f){return St(h,f)>4}allowWorldCopies(){return!1}getTileBoundingVolume(h,f,_,v){return this._boundingVolumeCache.getTileBoundingVolume(h,f,_,v)}_computeTileBoundingVolume(h,f,_,v){var C,P;let z=0,F=0;if(v?.terrain){const $=new a.a2(h.z,f,h.z,h.x,h.y),G=v.terrain.getMinMaxElevation($);z=(C=G.minElevation)!==null&&C!==void 0?C:Math.min(0,_),F=(P=G.maxElevation)!==null&&P!==void 0?P:Math.max(0,_)}if(z/=a.bE,F/=a.bE,z+=1,F+=1,h.z<=0)return ml.fromAabb([-F,-F,-F],[F,F,F]);if(h.z===1)return ml.fromAabb([h.x===0?-F:0,h.y===0?0:-F,-F],[h.x===0?0:F,h.y===0?F:0,F]);{const $=[_s(0,0,h.x,h.y,h.z),_s(a.a5,0,h.x,h.y,h.z),_s(a.a5,a.a5,h.x,h.y,h.z),_s(0,a.a5,h.x,h.y,h.z)],G=[];for(const Ge of $)G.push(a.a$([],Ge,F));if(F!==z)for(const Ge of $)G.push(a.a$([],Ge,z));h.y===0&&G.push([0,1,0]),h.y===(1<<h.z)-1&&G.push([0,-1,0]);const K=[1,1,1],Z=[-1,-1,-1];for(const Ge of G)for(let We=0;We<3;We++)K[We]=Math.min(K[We],Ge[We]),Z[We]=Math.max(Z[We],Ge[We]);const ie=_s(a.a5/2,a.a5/2,h.x,h.y,h.z),oe=a.b4([],[0,1,0],ie);a.b3(oe,oe);const fe=a.b4([],ie,oe);a.b3(fe,fe);const me=a.b4([],$[2],$[1]);a.b3(me,me);const pe=a.b4([],$[0],$[3]);a.b3(pe,pe),G.push(a.a$([],ie,F)),h.y>=(1<<h.z)/2&&G.push(a.a$([],_s(a.a5/2,0,h.x,h.y,h.z),F)),h.y<(1<<h.z)/2&&G.push(a.a$([],_s(a.a5/2,a.a5,h.x,h.y,h.z),F));const ye=wh(ie,G),Ce=wh(fe,G),ge=[-ie[0],-ie[1],-ie[2],ye.max],Se=[ie[0],ie[1],ie[2],-ye.min],Pe=[-fe[0],-fe[1],-fe[2],Ce.max],we=[fe[0],fe[1],fe[2],-Ce.min],Ie=[...me,0],qe=[...pe,0],Ve=[];return h.y===0?Ve.push(a.bD(qe,Ie,ge),a.bD(qe,Ie,Se)):Ve.push(a.bD(Pe,Ie,ge),a.bD(Pe,Ie,Se),a.bD(Pe,qe,ge),a.bD(Pe,qe,Se)),h.y===(1<<h.z)-1?Ve.push(a.bD(qe,Ie,ge),a.bD(qe,Ie,Se)):Ve.push(a.bD(we,Ie,ge),a.bD(we,Ie,Se),a.bD(we,qe,ge),a.bD(we,qe,Se)),new ml(Ve,[ge,Se,Pe,we,Ie,qe],K,Z)}}}function wh(T,h){let f=1/0,_=-1/0;for(const v of h){const C=a.b5(T,v);f=Math.min(f,C),_=Math.max(_,C)}return{min:f,max:_}}class _l{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(h){this._helper.setMinZoom(h)}setMaxZoom(h){this._helper.setMaxZoom(h)}setMinPitch(h){this._helper.setMinPitch(h)}setMaxPitch(h){this._helper.setMaxPitch(h)}setRenderWorldCopies(h){this._helper.setRenderWorldCopies(h)}setBearing(h){this._helper.setBearing(h)}setPitch(h){this._helper.setPitch(h)}setRoll(h){this._helper.setRoll(h)}setFov(h){this._helper.setFov(h)}setZoom(h){this._helper.setZoom(h)}setCenter(h){this._helper.setCenter(h)}setElevation(h){this._helper.setElevation(h)}setMinElevationForCurrentTile(h){this._helper.setMinElevationForCurrentTile(h)}setPadding(h){this._helper.setPadding(h)}interpolatePadding(h,f,_){return this._helper.interpolatePadding(h,f,_)}isPaddingEqual(h){return this._helper.isPaddingEqual(h)}resize(h,f){this._helper.resize(h,f)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(h){this._helper.setMaxBounds(h)}setConstrainOverride(h){this._helper.setConstrainOverride(h)}overrideNearFarZ(h,f){this._helper.overrideNearFarZ(h,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(h){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),h)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(h){}constructor(h){this._cachedClippingPlane=a.bF(),this._projectionMatrix=a.bj(),this._globeViewProjMatrix32f=a.bi(),this._globeViewProjMatrixNoCorrection=a.bj(),this._globeViewProjMatrixNoCorrectionInverted=a.bj(),this._globeProjMatrixInverted=a.bj(),this._cameraPosition=a.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(f,_)=>{const v=a.an(f.lat,-a.ao,a.ao),C=a.an(+_,this.minZoom+wn(0,v),this.maxZoom);return{center:new a.V(f.lng,v),zoom:C}},this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},h),this._coveringTilesDetailsProvider=new rf}clone(){const h=new _l;return h.apply(this),h}apply(h,f){this._globeLatitudeErrorCorrectionRadians=f||0,this._helper.apply(h)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const h=a.bz();return h[0]=this._cameraPosition[0],h[1]=this._cameraPosition[1],h[2]=this._cameraPosition[2],h}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(h){const{overscaledTileID:f,applyGlobeMatrix:_}=h,v=this._helper.getMercatorTileCoordinates(f);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:v,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(h){const f=this.pitchInRadians,_=this.cameraToCenterDistance/h,v=Math.sin(f)*_,C=Math.cos(f)*_+1,P=1/Math.sqrt(v*v+C*C)*1;let z=-v,F=C;const $=Math.sqrt(z*z+F*F);z/=$,F/=$;const G=[0,z,F];a.bG(G,G,[0,0,0],-this.bearingInRadians),a.bH(G,G,[0,0,0],-1*this.center.lat*Math.PI/180),a.bI(G,G,[0,0,0],this.center.lng*Math.PI/180);const K=1/a.b7(G);return a.a$(G,G,K),[...G,-P*K]}isLocationOccluded(h){return!this.isSurfacePointVisible(an(h))}transformLightDirection(h){const f=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,v=Math.cos(_),C=[Math.sin(f)*v,Math.sin(_),Math.cos(f)*v],P=[C[2],0,-C[0]],z=[0,0,0];a.b4(z,P,C),a.b3(P,P),a.b3(z,z);const F=[0,0,0];return a.b3(F,[P[0]*h[0]+z[0]*h[1]+C[0]*h[2],P[1]*h[0]+z[1]*h[1]+C[1]*h[2],P[2]*h[0]+z[2]*h[1]+C[2]*h[2]]),F}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(h,f,_){const v=(function(z,F,$){const G=1/(1<<$.z);return new a.a9(z/a.a5*G+$.x*G,F/a.a5*G+$.y*G)})(h,f,_.canonical),C=(P=v.y,[a.by(v.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-P*Math.PI*2))-.5*Math.PI]);var P;return this.getCircleRadiusCorrection()/Math.cos(C[1])}projectTileCoordinates(h,f,_,v){const C=_.canonical,P=_s(h,f,C.x,C.y,C.z),z=1+(v?v(h,f):0)/a.bE,F=[P[0]*z,P[1]*z,P[2]*z,1];a.aH(F,F,this._globeViewProjMatrixNoCorrection);const $=this._cachedClippingPlane,G=$[0]*P[0]+$[1]*P[1]+$[2]*P[2]+$[3]<0;return{point:new a.P(F[0]/F[3],F[1]/F[3]),signedDistanceFromCamera:F[3],isOccluded:G}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const h=To(this.worldSize,this.center.lat),f=a.bk(),_=a.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*h),a.be(f,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const v=this.centerOffset;f[8]=2*-v.x/this._helper._width,f[9]=2*v.y/this._helper._height,this._projectionMatrix=a.bf(f),this._globeProjMatrixInverted=a.bk(),a.aB(this._globeProjMatrixInverted,f),a.O(f,f,[0,0,-this.cameraToCenterDistance]),a.bg(f,f,this.rollInRadians),a.bh(f,f,-this.pitchInRadians),a.bg(f,f,this.bearingInRadians),a.O(f,f,[0,0,-h]);const C=a.bz();C[0]=h,C[1]=h,C[2]=h,a.bh(_,f,this.center.lat*Math.PI/180),a.bJ(_,_,-this.center.lng*Math.PI/180),a.Q(_,_,C),this._globeViewProjMatrixNoCorrection=_,a.bh(f,f,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),a.bJ(f,f,-this.center.lng*Math.PI/180),a.Q(f,f,C),this._globeViewProjMatrix32f=new Float32Array(f),this._globeViewProjMatrixNoCorrectionInverted=a.bk(),a.aB(this._globeViewProjMatrixNoCorrectionInverted,_);const P=a.bz();this._cameraPosition=a.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/h,a.bG(this._cameraPosition,this._cameraPosition,P,-this.rollInRadians),a.bH(this._cameraPosition,this._cameraPosition,P,this.pitchInRadians),a.bG(this._cameraPosition,this._cameraPosition,P,-this.bearingInRadians),a.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),a.bH(this._cameraPosition,this._cameraPosition,P,-this.center.lat*Math.PI/180),a.bI(this._cameraPosition,this._cameraPosition,P,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(h);const z=a.bf(this._globeViewProjMatrixNoCorrectionInverted);a.Q(z,z,[1,1,-1]),this._cachedFrustum=Ka.fromInvProjectionMatrix(z,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(h){a.w("calculateFogMatrix is not supported on globe projection.");const f=a.bk();return a.ar(f),f}getVisibleUnwrappedCoordinates(h){return[new a.bc(0,h)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(h){h&&a.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(h,f){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=an(h);a.a$(_,_,1+f/a.bE);const v=a.bF();return a.aH(v,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),v[2]/v[3]}populateCache(h){}getBounds(){const h=.5*this.width,f=.5*this.height,_=[new a.P(0,0),new a.P(h,0),new a.P(this.width,0),new a.P(this.width,f),new a.P(this.width,this.height),new a.P(h,this.height),new a.P(0,this.height),new a.P(0,f)],v=[];for(const K of _)v.push(this.unprojectScreenPoint(K));let C=0,P=0,z=0,F=0;const $=this.center;for(const K of v){const Z=a.bK($.lng,K.lng),ie=a.bK($.lat,K.lat);Z<P&&(P=Z),Z>C&&(C=Z),ie<F&&(F=ie),ie>z&&(z=ie)}const G=[$.lng+P,$.lat+F,$.lng+C,$.lat+z];return this.isSurfacePointOnScreen([0,1,0])&&(G[3]=90,G[0]=-180,G[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(G[1]=-90,G[0]=-180,G[2]=180),new Ye(G)}calculateCenterFromCameraLngLatAlt(h,f,_,v){return this._helper.calculateCenterFromCameraLngLatAlt(h,f,_,v)}setLocationAtPoint(h,f){const _=an(this.unprojectScreenPoint(f)),v=an(h),C=a.bz();a.bL(C);const P=a.bz();a.bI(P,_,C,-this.center.lng*Math.PI/180),a.bH(P,P,C,this.center.lat*Math.PI/180);const z=v[0]*v[0]+v[2]*v[2],F=P[0]*P[0];if(z<F)return;const $=Math.sqrt(z-F),G=-$,K=a.bM(v[0],v[2],P[0],$),Z=a.bM(v[0],v[2],P[0],G),ie=a.bz();a.bI(ie,v,C,-K);const oe=a.bM(ie[1],ie[2],P[1],P[2]),fe=a.bz();a.bI(fe,v,C,-Z);const me=a.bM(fe[1],fe[2],P[1],P[2]),pe=.5*Math.PI,ye=oe>=-pe&&oe<=pe,Ce=me>=-pe&&me<=pe;let ge,Se;if(ye&&Ce){const qe=this.center.lng*Math.PI/180,Ve=this.center.lat*Math.PI/180;a.bN(K,qe)+a.bN(oe,Ve)<a.bN(Z,qe)+a.bN(me,Ve)?(ge=K,Se=oe):(ge=Z,Se=me)}else if(ye)ge=K,Se=oe;else{if(!Ce)return;ge=Z,Se=me}const Pe=ge/Math.PI*180,we=Se/Math.PI*180,Ie=this.center.lat;this.setCenter(new a.V(Pe,a.an(we,-90,90))),this.setZoom(this.zoom+wn(Ie,this.center.lat))}locationToScreenPoint(h,f){const _=an(h);if(f){const v=f.getElevationForLngLatZoom(h,this._helper._tileZoom);a.a$(_,_,1+v/a.bE)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(h){const f=a.bF();return a.aH(f,[...h,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],new a.P((.5*f[0]+.5)*this.width,(.5*-f[1]+.5)*this.height)}screenPointToMercatorCoordinate(h,f){if(f){const _=f.pointCoordinate(h);if(_)return _}return a.a9.fromLngLat(this.unprojectScreenPoint(h))}screenPointToLocation(h,f){var _;return(_=this.screenPointToMercatorCoordinate(h,f))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(h,f){const _=this._cameraPosition,v=this.getRayDirectionFromPixel(h);return!!this.rayPlanetIntersection(_,v)}getRayDirectionFromPixel(h){const f=a.bF();f[0]=h.x/this.width*2-1,f[1]=-1*(h.y/this.height*2-1),f[2]=1,f[3]=1,a.aH(f,f,this._globeViewProjMatrixNoCorrectionInverted),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3];const _=a.bz();_[0]=f[0]-this._cameraPosition[0],_[1]=f[1]-this._cameraPosition[1],_[2]=f[2]-this._cameraPosition[2];const v=a.bz();return a.b3(v,_),v}isSurfacePointVisible(h){const f=this._cachedClippingPlane;return f[0]*h[0]+f[1]*h[1]+f[2]*h[2]+f[3]>=0}isSurfacePointOnScreen(h){if(!this.isSurfacePointVisible(h))return!1;const f=a.bF();return a.aH(f,[...h,1],this._globeViewProjMatrixNoCorrection),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[0]>-1&&f[0]<1&&f[1]>-1&&f[1]<1&&f[2]>-1&&f[2]<1}rayPlanetIntersection(h,f){const _=a.b5(h,f),v=a.bz(),C=a.bz();a.a$(C,f,_),a.b2(v,h,C);const P=1-a.b5(v,v);if(P<0)return null;const z=a.b5(h,h)-1,F=-_+(_<0?1:-1)*Math.sqrt(P),$=z/F,G=F;return{tMin:Math.min($,G),tMax:Math.max($,G)}}unprojectScreenPoint(h){const f=this._cameraPosition,_=this.getRayDirectionFromPixel(h),v=this.rayPlanetIntersection(f,_);if(v){const G=a.bz();a.b0(G,f,[_[0]*v.tMin,_[1]*v.tMin,_[2]*v.tMin]);const K=a.bz();return a.b3(K,G),nf(K)}const C=this._cachedClippingPlane,P=C[0]*_[0]+C[1]*_[1]+C[2]*_[2],z=-a.bb(C,f)/P,F=a.bz();if(z>0)a.b0(F,f,[_[0]*z,_[1]*z,_[2]*z]);else{const G=a.bz();a.b0(G,f,[2*_[0],2*_[1],2*_[2]]);const K=a.bb(this._cachedClippingPlane,G);a.b2(F,G,[this._cachedClippingPlane[0]*K,this._cachedClippingPlane[1]*K,this._cachedClippingPlane[2]*K])}const $=(function(G){const K=a.bz();return K[0]=G[0]*-G[3],K[1]=G[1]*-G[3],K[2]=G[2]*-G[3],{center:K,radius:Math.sqrt(1-G[3]*G[3])}})(C);return nf((function(G,K,Z){const ie=a.bz();a.b2(ie,Z,G);const oe=a.bz();return a.bA(oe,G,ie,K/a.b9(ie)),oe})($.center,$.radius,F))}getMatrixForModel(h,f){const _=a.V.convert(h),v=1/a.bE,C=a.bj();return a.bJ(C,C,_.lng/180*Math.PI),a.bh(C,C,-_.lat/180*Math.PI),a.O(C,C,[0,0,1+f/a.bE]),a.bh(C,C,.5*Math.PI),a.Q(C,C,[v,v,v]),C}getProjectionDataForCustomLayer(h=!0){const f=this.getProjectionData({overscaledTileID:new a.a2(0,0,0,0,0),applyGlobeMatrix:h});return f.tileMercatorCoords=[0,0,1,1],f}getFastPathSimpleProjectionMatrix(h){}}class yl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(h){this._helper.setMinZoom(h)}setMaxZoom(h){this._helper.setMaxZoom(h)}setMinPitch(h){this._helper.setMinPitch(h)}setMaxPitch(h){this._helper.setMaxPitch(h)}setRenderWorldCopies(h){this._helper.setRenderWorldCopies(h)}setBearing(h){this._helper.setBearing(h)}setPitch(h){this._helper.setPitch(h)}setRoll(h){this._helper.setRoll(h)}setFov(h){this._helper.setFov(h)}setZoom(h){this._helper.setZoom(h)}setCenter(h){this._helper.setCenter(h)}setElevation(h){this._helper.setElevation(h)}setMinElevationForCurrentTile(h){this._helper.setMinElevationForCurrentTile(h)}setPadding(h){this._helper.setPadding(h)}interpolatePadding(h,f,_){return this._helper.interpolatePadding(h,f,_)}isPaddingEqual(h){return this._helper.isPaddingEqual(h)}resize(h,f,_=!0){this._helper.resize(h,f,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(h){this._helper.setMaxBounds(h)}setConstrainOverride(h){this._helper.setConstrainOverride(h)}overrideNearFarZ(h,f){this._helper.overrideNearFarZ(h,f)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(h){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),h)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(h,f){this._globeness=h,this._globeLatitudeErrorCorrectionRadians=f,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(h){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(f,_)=>this.currentTransform.defaultConstrain(f,_),this.applyConstrain=(f,_)=>this._helper.applyConstrain(f,_),this._helper=new wo({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(f,_)=>this.defaultConstrain(f,_)},h),this._globeness=1,this._mercatorTransform=new ko,this._verticalPerspectiveTransform=new _l}clone(){const h=new yl;return h._globeness=this._globeness,h._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,h.apply(this),h}apply(h){this._helper.apply(h),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(h){const f=this._mercatorTransform.getProjectionData(h),_=this._verticalPerspectiveTransform.getProjectionData(h);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:f.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:h.applyGlobeMatrix?this._globeness:0,fallbackMatrix:f.fallbackMatrix}}isLocationOccluded(h){return this.currentTransform.isLocationOccluded(h)}transformLightDirection(h){return this.currentTransform.transformLightDirection(h)}getPixelScale(){return a.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return a.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(h,f,_){const v=this._mercatorTransform.getPitchedTextCorrection(h,f,_),C=this._verticalPerspectiveTransform.getPitchedTextCorrection(h,f,_);return a.bu(v,C,this._globeness)}projectTileCoordinates(h,f,_,v){return this.currentTransform.projectTileCoordinates(h,f,_,v)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(h){return this.currentTransform.calculateFogMatrix(h)}getVisibleUnwrappedCoordinates(h){return this.currentTransform.getVisibleUnwrappedCoordinates(h)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(h){this._mercatorTransform.recalculateZoomAndCenter(h),this._verticalPerspectiveTransform.recalculateZoomAndCenter(h)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(h,f){return this.currentTransform.lngLatToCameraDepth(h,f)}populateCache(h){this._mercatorTransform.populateCache(h),this._verticalPerspectiveTransform.populateCache(h)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(h,f,_,v){return this._helper.calculateCenterFromCameraLngLatAlt(h,f,_,v)}setLocationAtPoint(h,f){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(h,f),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(h,f),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(h,f){return this.currentTransform.locationToScreenPoint(h,f)}screenPointToMercatorCoordinate(h,f){return this.currentTransform.screenPointToMercatorCoordinate(h,f)}screenPointToLocation(h,f){return this.currentTransform.screenPointToLocation(h,f)}isPointOnMapSurface(h,f){return this.currentTransform.isPointOnMapSurface(h,f)}getRayDirectionFromPixel(h){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(h)}getMatrixForModel(h,f){return this.currentTransform.getMatrixForModel(h,f)}getProjectionDataForCustomLayer(h=!0){const f=this._mercatorTransform.getProjectionDataForCustomLayer(h);if(!this.isGlobeRendering)return f;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(h);return _.fallbackMatrix=f.mainMatrix,_}getFastPathSimpleProjectionMatrix(h){return this.currentTransform.getFastPathSimpleProjectionMatrix(h)}}class Yn{get useGlobeControls(){return!0}handlePanInertia(h,f){const _=Xm(h,f);return Math.abs(_.lng-f.center.lng)>180&&(_.lng=f.center.lng+179.5*Math.sign(_.lng-f.center.lng)),{easingCenter:_,easingOffset:new a.P(0,0)}}handleMapControlsRollPitchBearingZoom(h,f){const _=h.around,v=f.screenPointToLocation(_);h.bearingDelta&&f.setBearing(f.bearing+h.bearingDelta),h.pitchDelta&&f.setPitch(f.pitch+h.pitchDelta),h.rollDelta&&f.setRoll(f.roll+h.rollDelta);const C=f.zoom;h.zoomDelta&&f.setZoom(f.zoom+h.zoomDelta);const P=f.zoom-C;if(P===0)return;const z=a.bK(f.center.lng,v.lng),F=z/(Math.abs(z/180)+1),$=a.bK(f.center.lat,v.lat),G=f.getRayDirectionFromPixel(_),K=f.cameraPosition,Z=-1*a.b5(K,G),ie=a.bz();a.b0(ie,K,[G[0]*Z,G[1]*Z,G[2]*Z]);const oe=a.b7(ie)-1,fe=Math.exp(.5*-Math.max(oe-.3,0)),me=To(f.worldSize,f.center.lat)/Math.min(f.width,f.height),pe=a.bx(me,.9,.5,1,.25),ye=(1-a.aq(-P))*Math.min(fe,pe),Ce=f.center.lat,ge=f.zoom,Se=new a.V(f.center.lng+F*ye,a.an(f.center.lat+$*ye,-a.ao,a.ao));f.setLocationAtPoint(v,_);const Pe=f.center,we=a.bx(Math.abs(z),45,85,0,1),Ie=a.bx(me,.75,.35,0,1),qe=Math.pow(Math.max(we,Ie),.25),Ve=a.bK(Pe.lng,Se.lng),Ge=a.bK(Pe.lat,Se.lat);f.setCenter(new a.V(Pe.lng+Ve*qe,Pe.lat+Ge*qe).wrap()),f.setZoom(ge+wn(Ce,f.center.lat))}handleMapControlsPan(h,f,_){if(!h.panDelta)return;const v=f.center.lat,C=f.zoom;f.setCenter(Xm(h.panDelta,f).wrap()),f.setZoom(C+wn(v,f.center.lat))}cameraForBoxAndBearing(h,f,_,v,C){const P=ef(h,f,_,v,C),z=f.left/C.width*2-1,F=(C.width-f.right)/C.width*2-1,$=f.top/C.height*-2+1,G=(C.height-f.bottom)/C.height*-2+1,K=a.bK(_.getWest(),_.getEast())<0,Z=K?_.getEast():_.getWest(),ie=K?_.getWest():_.getEast(),oe=Math.max(_.getNorth(),_.getSouth()),fe=Math.min(_.getNorth(),_.getSouth()),me=Z+.5*a.bK(Z,ie),pe=oe+.5*a.bK(oe,fe),ye=C.clone();ye.setCenter(P.center),ye.setBearing(P.bearing),ye.setPitch(0),ye.setRoll(0),ye.setZoom(P.zoom);const Ce=ye.modelViewProjectionMatrix,ge=[an(_.getNorthWest()),an(_.getNorthEast()),an(_.getSouthWest()),an(_.getSouthEast()),an(new a.V(ie,pe)),an(new a.V(Z,pe)),an(new a.V(me,oe)),an(new a.V(me,fe))],Se=an(P.center);let Pe=Number.POSITIVE_INFINITY;for(const we of ge)z<0&&(Pe=Yn.getLesserNonNegativeNonNull(Pe,Yn.solveVectorScale(we,Se,Ce,"x",z))),F>0&&(Pe=Yn.getLesserNonNegativeNonNull(Pe,Yn.solveVectorScale(we,Se,Ce,"x",F))),$>0&&(Pe=Yn.getLesserNonNegativeNonNull(Pe,Yn.solveVectorScale(we,Se,Ce,"y",$))),G<0&&(Pe=Yn.getLesserNonNegativeNonNull(Pe,Yn.solveVectorScale(we,Se,Ce,"y",G)));if(Number.isFinite(Pe)&&Pe!==0)return P.zoom=ye.zoom+a.at(Pe),P;Ds()}handleJumpToCenterZoom(h,f){const _=h.center.lat,v=h.applyConstrain(f.center?a.V.convert(f.center):h.center,h.zoom).center;h.setCenter(v.wrap());const C=f.zoom!==void 0?+f.zoom:h.zoom+wn(_,v.lat);h.zoom!==C&&h.setZoom(C)}handleEaseTo(h,f){const _=h.zoom,v=h.center,C=h.padding,P={roll:h.roll,pitch:h.pitch,bearing:h.bearing},z={roll:f.roll===void 0?h.roll:f.roll,pitch:f.pitch===void 0?h.pitch:f.pitch,bearing:f.bearing===void 0?h.bearing:f.bearing},F=f.zoom!==void 0,$=!h.isPaddingEqual(f.padding);let G=!1;const K=f.center?a.V.convert(f.center):v,Z=h.applyConstrain(K,_).center;Ks(h,Z);const ie=h.clone();ie.setCenter(Z),ie.setZoom(F?+f.zoom:_+wn(v.lat,K.lat)),ie.setBearing(f.bearing);const oe=new a.P(a.an(h.centerPoint.x+f.offsetAsPoint.x,0,h.width),a.an(h.centerPoint.y+f.offsetAsPoint.y,0,h.height));ie.setLocationAtPoint(Z,oe);const fe=(f.offset&&f.offsetAsPoint.mag())>0?ie.center:Z,me=F?+f.zoom:_+wn(v.lat,fe.lat),pe=_+wn(v.lat,0),ye=me+wn(fe.lat,0),Ce=a.bK(v.lng,fe.lng),ge=a.bK(v.lat,fe.lat),Se=a.aq(ye-pe);return G=me!==_,{easeFunc:Pe=>{if(a.bo(P,z)||Gm({startEulerAngles:P,endEulerAngles:z,tr:h,k:Pe,useSlerp:P.roll!=z.roll}),$&&h.interpolatePadding(C,f.padding,Pe),f.around)a.w("Easing around a point is not supported under globe projection."),h.setLocationAtPoint(f.around,f.aroundPoint);else{const we=ye>pe?Math.min(2,Se):Math.max(.5,Se),Ie=Math.pow(we,1-Pe),qe=qm(v,Ce,ge,Pe*Ie);h.setCenter(qe.wrap())}if(G){const we=a.G.number(pe,ye,Pe)+wn(0,h.center.lat);h.setZoom(we)}},isZooming:G,elevationCenter:fe}}handleFlyTo(h,f){const _=f.zoom!==void 0,v=h.center,C=h.zoom,P=h.padding,z=!h.isPaddingEqual(f.padding),F=h.applyConstrain(a.V.convert(f.center||f.locationAtOffset),C).center,$=_?+f.zoom:h.zoom+wn(h.center.lat,F.lat),G=h.clone();G.setCenter(F),G.setZoom($),G.setBearing(f.bearing);const K=new a.P(a.an(h.centerPoint.x+f.offsetAsPoint.x,0,h.width),a.an(h.centerPoint.y+f.offsetAsPoint.y,0,h.height));G.setLocationAtPoint(F,K);const Z=G.center;Ks(h,Z);const ie=(function(ge,Se,Pe){const we=an(Se),Ie=an(Pe),qe=a.b5(we,Ie),Ve=Math.acos(qe),Ge=$a(ge);return Ve/(2*Math.PI)*Ge})(h,v,Z),oe=C+wn(v.lat,0),fe=$+wn(Z.lat,0),me=a.aq(fe-oe);let pe;if(typeof f.minZoom=="number"){const ge=+f.minZoom+wn(Z.lat,0),Se=Math.min(ge,oe,fe)+wn(0,Z.lat),Pe=h.applyConstrain(Z,Se).zoom+wn(Z.lat,0);pe=a.aq(Pe-oe)}const ye=a.bK(v.lng,Z.lng),Ce=a.bK(v.lat,Z.lat);return{easeFunc:(ge,Se,Pe,we)=>{const Ie=qm(v,ye,Ce,Pe);z&&h.interpolatePadding(P,f.padding,ge);const qe=ge===1?Z:Ie;h.setCenter(qe.wrap());const Ve=oe+a.at(Se);h.setZoom(ge===1?$:Ve+wn(0,qe.lat))},scaleOfZoom:me,targetCenter:Z,scaleOfMinZoom:pe,pixelPathLength:ie}}static solveVectorScale(h,f,_,v,C){const P=v==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],z=[_[3],_[7],_[11],_[15]],F=h[0]*P[0]+h[1]*P[1]+h[2]*P[2],$=h[0]*z[0]+h[1]*z[1]+h[2]*z[2],G=f[0]*P[0]+f[1]*P[1]+f[2]*P[2],K=f[0]*z[0]+f[1]*z[1]+f[2]*z[2];return G+C*$===F+C*K||z[3]*(F-G)+P[3]*(K-$)+F*K==G*$?null:(G+P[3]-C*K-C*z[3])/(G-F-C*K+C*$)}static getLesserNonNegativeNonNull(h,f){return f!==null&&f>=0&&f<h?f:h}}class Ym{constructor(h){this._globe=h,this._mercatorCameraHelper=new So,this._verticalPerspectiveCameraHelper=new Yn}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(h,f){return this.currentHelper.handlePanInertia(h,f)}handleMapControlsRollPitchBearingZoom(h,f){return this.currentHelper.handleMapControlsRollPitchBearingZoom(h,f)}handleMapControlsPan(h,f,_){this.currentHelper.handleMapControlsPan(h,f,_)}cameraForBoxAndBearing(h,f,_,v,C){return this.currentHelper.cameraForBoxAndBearing(h,f,_,v,C)}handleJumpToCenterZoom(h,f){this.currentHelper.handleJumpToCenterZoom(h,f)}handleEaseTo(h,f){return this.currentHelper.handleEaseTo(h,f)}handleFlyTo(h,f){return this.currentHelper.handleFlyTo(h,f)}}const xl=(T,h)=>a.B(T,h&&h.filter((f=>f.identifier!=="source.canvas"))),kh=a.bO();class Co extends a.E{constructor(h,f={}){var _,v;super(),this._rtlPluginLoaded=()=>{for(const P in this.tileManagers){const z=this.tileManagers[P].getSource().type;z!=="vector"&&z!=="geojson"||this.tileManagers[P].reload()}},this.map=h,this.dispatcher=new ti(Jt(),h._getMapId()),this.dispatcher.registerMessageHandler("GG",((P,z)=>this.getGlyphs(P,z))),this.dispatcher.registerMessageHandler("GI",((P,z)=>this.getImages(P,z))),this.dispatcher.registerMessageHandler("GDA",((P,z)=>this.getDashes(P,z))),this.imageManager=new xe,this.imageManager.setEventedParent(this);const C=((_=h._container)===null||_===void 0?void 0:_.lang)||typeof document<"u"&&((v=document.documentElement)===null||v===void 0?void 0:v.lang)||void 0;this.glyphManager=new $e(h._requestManager,f.localIdeographFontFamily,C),this.lineAtlas=new Yt(256,512),this.crossTileSymbolIndex=new Za,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",a.bP()),Fe().on(ke,this._rtlPluginLoaded),this.on("data",(P=>{if(P.dataType!=="source"||P.sourceDataType!=="metadata")return;const z=this.tileManagers[P.sourceId];if(!z)return;const F=z.getSource();if(F&&F.vectorLayerIds)for(const $ in this._layers){const G=this._layers[$];G.source===F.id&&this._validateLayer(G)}}))}_setInitialValues(){var h;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new a.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((h=this.crossTileSymbolIndex)===null||h===void 0?void 0:h.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(h,f){var _,v,C;this._checkLoaded();const P=f===null?(C=(v=(_=this.stylesheet.state)===null||_===void 0?void 0:_[h])===null||v===void 0?void 0:v.default)!==null&&C!==void 0?C:null:f;if(a.bR(P,this._globalState[h]))return this;this._globalState[h]=P,this._applyGlobalStateChanges([h])}getGlobalState(){return this._globalState}setGlobalState(h){this._checkLoaded();const f=[];for(const _ in h)!a.bR(this._globalState[_],h[_].default)&&(f.push(_),this._globalState[_]=h[_].default);this._applyGlobalStateChanges(f)}_applyGlobalStateChanges(h){if(h.length===0)return;const f=new Set,_={};for(const v of h){_[v]=this._globalState[v];for(const C in this._layers){const P=this._layers[C],z=P.getLayoutAffectingGlobalStateRefs(),F=P.getPaintAffectingGlobalStateRefs(),$=P.getVisibilityAffectingGlobalStateRefs();if(z.has(v)&&f.add(P.source),F.has(v))for(const{name:G,value:K}of F.get(v))this._updatePaintProperty(P,G,K);$?.has(v)&&(P.recalculateVisibility(),this._updateLayer(P))}}this.dispatcher.broadcast("UGS",_);for(const v in this.tileManagers)f.has(v)&&(this._reloadSource(v),this._changed=!0)}loadURL(h,f={},_){this.fire(new a.l("dataloading",{dataType:"style"})),f.validate=typeof f.validate!="boolean"||f.validate;const v=this.map._requestManager.transformRequest(h,"Style");this._loadStyleRequest=new AbortController;const C=this._loadStyleRequest;a.j(v,this._loadStyleRequest).then((P=>{this._loadStyleRequest=null,this._load(P.data,f,_)})).catch((P=>{this._loadStyleRequest=null,P&&!C.signal.aborted&&this.fire(new a.k(P))}))}loadJSON(h,f={},_){this.fire(new a.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,f.validate=f.validate!==!1,this._load(h,f,_)})).catch((()=>{}))}loadEmpty(){this.fire(new a.l("dataloading",{dataType:"style"})),this._load(kh,{validate:!1})}_load(h,f,_){var v,C;let P=f.transformStyle?f.transformStyle(_,h):h;if(!f.validate||!xl(this,a.C(P))){P=Object.assign({},P),this._loaded=!0,this.stylesheet=P;for(const z in P.sources)this.addSource(z,P.sources[z],{validate:!1});P.sprite?this._loadSprite(P.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(P.glyphs),this._createLayers(),this.light=new Ae(this.stylesheet.light),this._setProjectionInternal(((v=this.stylesheet.projection)===null||v===void 0?void 0:v.type)||"mercator"),this.sky=new Dt(this.stylesheet.sky),this.map.setTerrain((C=this.stylesheet.terrain)!==null&&C!==void 0?C:null),this.fire(new a.l("data",{dataType:"style"})),this.fire(new a.l("style.load"))}}_createLayers(){var h,f,_;const v=a.bS(this.stylesheet.layers);this.setGlobalState((h=this.stylesheet.state)!==null&&h!==void 0?h:null),this.dispatcher.broadcast("SL",v),this._order=v.map((C=>C.id)),this._layers={},this._serializedLayers=null;for(const C of v){const P=a.bT(C,this._globalState);if(P.setEventedParent(this,{layer:{id:C.id}}),this._layers[C.id]=P,a.bU(P)&&this.tileManagers[P.source]){const z=(_=(f=C.paint)===null||f===void 0?void 0:f["raster-fade-duration"])!==null&&_!==void 0?_:P.paint.get("raster-fade-duration");this.tileManagers[P.source].setRasterFadeDuration(z)}}}_loadSprite(h,f=!1,_=void 0){this.imageManager.setLoaded(!1);const v=new AbortController;let C;this._spriteRequest=v,(function(P,z,F,$){return a._(this,void 0,void 0,(function*(){const G=se(P),K=F>1?"@2x":"",Z={},ie={};for(const{id:oe,url:fe}of G){const me=z.transformRequest(ce(fe,K,".json"),"SpriteJSON");Z[oe]=a.j(me,$);const pe=z.transformRequest(ce(fe,K,".png"),"SpriteImage");ie[oe]=Y.getImage(pe,$)}return yield Promise.all([...Object.values(Z),...Object.values(ie)]),(function(oe,fe){return a._(this,void 0,void 0,(function*(){const me={};for(const pe in oe){me[pe]={};const ye=S.getImageCanvasContext((yield fe[pe]).data),Ce=(yield oe[pe]).data;for(const ge in Ce){const{width:Se,height:Pe,x:we,y:Ie,sdf:qe,pixelRatio:Ve,stretchX:Ge,stretchY:We,content:ut,textFitWidth:dt,textFitHeight:rt}=Ce[ge];me[pe][ge]={data:null,pixelRatio:Ve,sdf:qe,stretchX:Ge,stretchY:We,content:ut,textFitWidth:dt,textFitHeight:rt,spriteData:{width:Se,height:Pe,x:we,y:Ie,context:ye}}}}return me}))})(Z,ie)}))})(h,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((P=>{if(this._spriteRequest=null,P)for(const z in P){this._spritesImagesIds[z]=[];const F=this._spritesImagesIds[z]?this._spritesImagesIds[z].filter(($=>!($ in P))):[];for(const $ of F)this.imageManager.removeImage($),this._changedImages[$]=!0;for(const $ in P[z]){const G=z==="default"?$:`${z}:${$}`;this._spritesImagesIds[z].push(G),G in this.imageManager.images?this.imageManager.updateImage(G,P[z][$],!1):this.imageManager.addImage(G,P[z][$]),f&&(this._changedImages[G]=!0)}}})).catch((P=>{this._spriteRequest=null,C=P,v.signal.aborted||this.fire(new a.k(C))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),f&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"})),_&&_(C)}))}_unloadSprite(){for(const h of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(h),this._changedImages[h]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}_validateLayer(h){const f=this.tileManagers[h.source];if(!f)return;const _=h.sourceLayer;if(!_)return;const v=f.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(_)===-1)&&this.fire(new a.k(new Error(`Source layer "${_}" does not exist on source "${v.id}" as specified by style layer "${h.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const h in this.tileManagers)if(!this.tileManagers[h].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(h,f=!1){const _=this._serializedAllLayers();if(!h||h.length===0)return Object.values(f?a.bV(_):_);const v=[];for(const C of h)if(_[C]){const P=f?a.bV(_[C]):_[C];v.push(P)}return v}_serializedAllLayers(){let h=this._serializedLayers;if(h)return h;h=this._serializedLayers={};const f=Object.keys(this._layers);for(const _ of f){const v=this._layers[_];v.type!=="custom"&&(h[_]=v.serialize())}return h}hasTransitions(){var h,f,_;if(!((h=this.light)===null||h===void 0)&&h.hasTransition()||!((f=this.sky)===null||f===void 0)&&f.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const v in this.tileManagers)if(this.tileManagers[v].hasTransition())return!0;for(const v in this._layers)if(this._layers[v].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(h){if(!this._loaded)return;const f=this._changed;if(f){const v=Object.keys(this._updatedLayers),C=Object.keys(this._removedLayers);(v.length||C.length)&&this._updateWorkerLayers(v,C);for(const P in this._updatedSources){const z=this._updatedSources[P];if(z==="reload")this._reloadSource(P);else{if(z!=="clear")throw new Error(`Invalid action ${z}`);this._clearSource(P)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(h);this.light.updateTransitions(h),this.sky.updateTransitions(h),this._resetUpdates()}const _={};for(const v in this.tileManagers){const C=this.tileManagers[v];_[v]=C.used,C.used=!1}for(const v of this._order){const C=this._layers[v];C.recalculate(h,this._availableImages),!C.isHidden(h.zoom)&&C.source&&(this.tileManagers[C.source].used=!0)}for(const v in _){const C=this.tileManagers[v];!!_[v]!=!!C.used&&C.fire(new a.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(h),this.sky.recalculate(h),this.projection.recalculate(h),this.z=h.zoom,f&&this.fire(new a.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const h=Object.keys(this._changedImages);if(h.length){for(const f in this.tileManagers)this.tileManagers[f].reloadTilesForDependencies(["icons","patterns"],h);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const h in this.tileManagers)this.tileManagers[h].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(h,f){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(h,!1),removedIds:f})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(h,f={}){var _;this._checkLoaded();const v=this.serialize();if(h=f.transformStyle?f.transformStyle(v,h):h,((_=f.validate)===null||_===void 0||_)&&xl(this,a.C(h)))return!1;(h=a.bV(h)).layers=a.bS(h.layers);const C=a.bW(v,h),P=this._getOperationsToPerform(C);if(P.unimplemented.length>0)throw new Error(`Unimplemented: ${P.unimplemented.join(", ")}.`);if(P.operations.length===0)return!1;for(const z of P.operations)z();return this.stylesheet=h,this._serializedLayers=null,!0}_getOperationsToPerform(h){const f=[],_=[];for(const v of h)switch(v.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":f.push((()=>this.addLayer.apply(this,v.args)));break;case"removeLayer":f.push((()=>this.removeLayer.apply(this,v.args)));break;case"setPaintProperty":f.push((()=>this.setPaintProperty.apply(this,v.args)));break;case"setLayoutProperty":f.push((()=>this.setLayoutProperty.apply(this,v.args)));break;case"setFilter":f.push((()=>this.setFilter.apply(this,v.args)));break;case"addSource":f.push((()=>this.addSource.apply(this,v.args)));break;case"removeSource":f.push((()=>this.removeSource.apply(this,v.args)));break;case"setLayerZoomRange":f.push((()=>this.setLayerZoomRange.apply(this,v.args)));break;case"setLight":f.push((()=>this.setLight.apply(this,v.args)));break;case"setGeoJSONSourceData":f.push((()=>this.setGeoJSONSourceData.apply(this,v.args)));break;case"setGlyphs":f.push((()=>this.setGlyphs.apply(this,v.args)));break;case"setSprite":f.push((()=>this.setSprite.apply(this,v.args)));break;case"setTerrain":f.push((()=>this.map.setTerrain.apply(this,v.args)));break;case"setSky":f.push((()=>this.setSky.apply(this,v.args)));break;case"setProjection":this.setProjection.apply(this,v.args);break;case"setGlobalState":f.push((()=>this.setGlobalState.apply(this,v.args)));break;case"setTransition":f.push((()=>{}));break;default:_.push(v.command)}return{operations:f,unimplemented:_}}addImage(h,f){if(this.getImage(h))return this.fire(new a.k(new Error(`An image named "${h}" already exists.`)));this.imageManager.addImage(h,f),this._afterImageUpdated(h)}updateImage(h,f){this.imageManager.updateImage(h,f)}getImage(h){return this.imageManager.getImage(h)}removeImage(h){if(!this.getImage(h))return this.fire(new a.k(new Error(`An image named "${h}" does not exist.`)));this.imageManager.removeImage(h),this._afterImageUpdated(h)}_afterImageUpdated(h){this._availableImages=this.imageManager.listImages(),this._changedImages[h]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(h,f,_={}){if(this._checkLoaded(),this.tileManagers[h]!==void 0)throw new Error(`Source "${h}" already exists.`);if(!f.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(f).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(f.type)>=0&&this._validate(a.C.source,`sources.${h}`,f,null,_))return;this.map&&this.map._collectResourceTiming&&(f.collectResourceTiming=!0);const v=this.tileManagers[h]=new Ti(h,f,this.dispatcher);v.style=this,v.setEventedParent(this,(()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:h}))),v.onAdd(this.map),this._changed=!0}removeSource(h){if(this._checkLoaded(),this.tileManagers[h]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===h)return this.fire(new a.k(new Error(`Source "${h}" cannot be removed while layer "${_}" is using it.`)));const f=this.tileManagers[h];delete this.tileManagers[h],delete this._updatedSources[h],f.fire(new a.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:h})),f.setEventedParent(null),f.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(h,f){if(this._checkLoaded(),this.tileManagers[h]===void 0)throw new Error(`There is no source with this ID=${h}`);const _=this.tileManagers[h].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(f),this._changed=!0}getSource(h){return this.tileManagers[h]&&this.tileManagers[h].getSource()}addLayer(h,f,_={}){this._checkLoaded();const v=h.id;if(this.getLayer(v))return void this.fire(new a.k(new Error(`Layer "${v}" already exists on this map.`)));let C;if(h.type==="custom"){if(xl(this,a.bX(h)))return;C=a.bT(h,this._globalState)}else{if("source"in h&&typeof h.source=="object"&&(this.addSource(v,h.source),h=a.bV(h),h=a.e(h,{source:v})),this._validate(a.C.layer,`layers.${v}`,h,{arrayIndex:-1},_))return;C=a.bT(h,this._globalState),this._validateLayer(C),C.setEventedParent(this,{layer:{id:v}})}const P=f?this._order.indexOf(f):this._order.length;if(f&&P===-1)this.fire(new a.k(new Error(`Cannot add layer "${v}" before non-existing layer "${f}".`)));else{if(this._order.splice(P,0,v),this._layerOrderChanged=!0,this._layers[v]=C,this._removedLayers[v]&&C.source&&C.type!=="custom"){const z=this._removedLayers[v];delete this._removedLayers[v],z.type!==C.type?this._updatedSources[C.source]="clear":(this._updatedSources[C.source]="reload",this.tileManagers[C.source].pause())}this._updateLayer(C),C.onAdd&&C.onAdd(this.map)}}moveLayer(h,f){if(this._checkLoaded(),this._changed=!0,!this._layers[h])return void this.fire(new a.k(new Error(`The layer '${h}' does not exist in the map's style and cannot be moved.`)));if(h===f)return;const _=this._order.indexOf(h);this._order.splice(_,1);const v=f?this._order.indexOf(f):this._order.length;f&&v===-1?this.fire(new a.k(new Error(`Cannot move layer "${h}" before non-existing layer "${f}".`))):(this._order.splice(v,0,h),this._layerOrderChanged=!0)}removeLayer(h){this._checkLoaded();const f=this._layers[h];if(!f)return void this.fire(new a.k(new Error(`Cannot remove non-existing layer "${h}".`)));f.setEventedParent(null);const _=this._order.indexOf(h);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[h]=f,delete this._layers[h],this._serializedLayers&&delete this._serializedLayers[h],delete this._updatedLayers[h],delete this._updatedPaintProps[h],f.onRemove&&f.onRemove(this.map)}getLayer(h){return this._layers[h]}getLayersOrder(){return[...this._order]}hasLayer(h){return h in this._layers}setLayerZoomRange(h,f,_){this._checkLoaded();const v=this.getLayer(h);v?v.minzoom===f&&v.maxzoom===_||(f!=null&&(v.minzoom=f),_!=null&&(v.maxzoom=_),this._updateLayer(v)):this.fire(new a.k(new Error(`Cannot set the zoom range of non-existing layer "${h}".`)))}setFilter(h,f,_={}){this._checkLoaded();const v=this.getLayer(h);if(v){if(!a.bR(v.filter,f))return f==null?(v.setFilter(void 0),void this._updateLayer(v)):void(this._validate(a.C.filter,`layers.${v.id}.filter`,f,null,_)||(v.setFilter(a.bV(f)),this._updateLayer(v)))}else this.fire(new a.k(new Error(`Cannot filter non-existing layer "${h}".`)))}getFilter(h){return a.bV(this.getLayer(h).filter)}setLayoutProperty(h,f,_,v={}){this._checkLoaded();const C=this.getLayer(h);C?a.bR(C.getLayoutProperty(f),_)||(C.setLayoutProperty(f,_,v),this._updateLayer(C)):this.fire(new a.k(new Error(`Cannot style non-existing layer "${h}".`)))}getLayoutProperty(h,f){const _=this.getLayer(h);if(_)return _.getLayoutProperty(f);this.fire(new a.k(new Error(`Cannot get style of non-existing layer "${h}".`)))}setPaintProperty(h,f,_,v={}){this._checkLoaded();const C=this.getLayer(h);C?a.bR(C.getPaintProperty(f),_)||this._updatePaintProperty(C,f,_,v):this.fire(new a.k(new Error(`Cannot style non-existing layer "${h}".`)))}_updatePaintProperty(h,f,_,v={}){h.setPaintProperty(f,_,v)&&this._updateLayer(h),a.bU(h)&&f==="raster-fade-duration"&&this.tileManagers[h.source].setRasterFadeDuration(_),this._changed=!0,this._updatedPaintProps[h.id]=!0,this._serializedLayers=null}getPaintProperty(h,f){return this.getLayer(h).getPaintProperty(f)}setFeatureState(h,f){this._checkLoaded();const _=h.source,v=h.sourceLayer,C=this.tileManagers[_];if(C===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const P=C.getSource().type;P==="geojson"&&v?this.fire(new a.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):P!=="vector"||v?(h.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),C.setFeatureState(v,h.id,f)):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(h,f){this._checkLoaded();const _=h.source,v=this.tileManagers[_];if(v===void 0)return void this.fire(new a.k(new Error(`The source '${_}' does not exist in the map's style.`)));const C=v.getSource().type,P=C==="vector"?h.sourceLayer:void 0;C!=="vector"||P?f&&typeof h.id!="string"&&typeof h.id!="number"?this.fire(new a.k(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(P,h.id,f):this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(h){this._checkLoaded();const f=h.source,_=h.sourceLayer,v=this.tileManagers[f];if(v!==void 0)return v.getSource().type!=="vector"||_?(h.id===void 0&&this.fire(new a.k(new Error("The feature id parameter must be provided."))),v.getFeatureState(_,h.id)):void this.fire(new a.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new a.k(new Error(`The source '${f}' does not exist in the map's style.`)))}getTransition(){return a.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const h=a.bY(this.tileManagers,(C=>C.serialize())),f=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,v=this.stylesheet;return a.bZ({version:v.version,name:v.name,metadata:v.metadata,light:v.light,sky:v.sky,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,projection:v.projection,sources:h,layers:f,terrain:_},(C=>C!==void 0))}_updateLayer(h){this._updatedLayers[h.id]=!0,h.source&&!this._updatedSources[h.source]&&this.tileManagers[h.source].getSource().type!=="raster"&&(this._updatedSources[h.source]="reload",this.tileManagers[h.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(h){const f=P=>this._layers[P].type==="fill-extrusion",_={},v=[];for(let P=this._order.length-1;P>=0;P--){const z=this._order[P];if(f(z)){_[z]=P;for(const F of h){const $=F[z];if($)for(const G of $)v.push(G)}}}v.sort(((P,z)=>z.intersectionZ-P.intersectionZ));const C=[];for(let P=this._order.length-1;P>=0;P--){const z=this._order[P];if(f(z))for(let F=v.length-1;F>=0;F--){const $=v[F].feature;if(_[$.layer.id]<P)break;C.push($),v.pop()}else for(const F of h){const $=F[z];if($)for(const G of $)C.push(G.feature)}}return C}queryRenderedFeatures(h,f,_){f&&f.filter&&this._validate(a.C.filter,"queryRenderedFeatures.filter",f.filter,null,f);const v={};if(f&&f.layers){if(!(Array.isArray(f.layers)||f.layers instanceof Set))return this.fire(new a.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const $ of f.layers){const G=this._layers[$];if(!G)return this.fire(new a.k(new Error(`The layer '${$}' does not exist in the map's style and cannot be queried for features.`))),[];v[G.source]=!0}}const C=[];f.availableImages=this._availableImages;const P=this._serializedAllLayers(),z=f.layers instanceof Set?f.layers:Array.isArray(f.layers)?new Set(f.layers):null,F=Object.assign(Object.assign({},f),{layers:z,globalState:this._globalState});for(const $ in this.tileManagers)f.layers&&!v[$]||C.push(Ht(this.tileManagers[$],this._layers,P,h,F,_,this.map.terrain?(G,K,Z)=>this.map.terrain.getElevation(G,K,Z):void 0));return this.placement&&C.push((function($,G,K,Z,ie,oe,fe){const me={},pe=oe.queryRenderedSymbols(Z),ye=[];for(const Ce of Object.keys(pe).map(Number))ye.push(fe[Ce]);ye.sort(Zt);for(const Ce of ye){const ge=Ce.featureIndex.lookupSymbolFeatures(pe[Ce.bucketInstanceId],G,Ce.bucketIndex,Ce.sourceLayerIndex,{filterSpec:ie.filter,globalState:ie.globalState},ie.layers,ie.availableImages,$);for(const Se in ge){const Pe=me[Se]=me[Se]||[],we=ge[Se];we.sort(((Ie,qe)=>{const Ve=Ce.featureSortOrder;if(Ve){const Ge=Ve.indexOf(Ie.featureIndex);return Ve.indexOf(qe.featureIndex)-Ge}return qe.featureIndex-Ie.featureIndex}));for(const Ie of we)Pe.push(Ie)}}return(function(Ce,ge,Se){for(const Pe in Ce)for(const we of Ce[Pe])Bi(we,Se[ge[Pe].source]);return Ce})(me,$,K)})(this._layers,P,this.tileManagers,h,F,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(C)}querySourceFeatures(h,f){f?.filter&&this._validate(a.C.filter,"querySourceFeatures.filter",f.filter,null,f);const _=this.tileManagers[h];return _?(function(v,C){const P=v.getRenderableIds().map(($=>v.getTileByID($))),z=[],F={};for(let $=0;$<P.length;$++){const G=P[$],K=G.tileID.canonical.key;F[K]||(F[K]=!0,G.querySourceFeatures(z,C))}return z})(_,f?Object.assign(Object.assign({},f),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(h,f={}){this._checkLoaded();const _=this.light.getLight();let v=!1;for(const P in h)if(!a.bR(h[P],_[P])){v=!0;break}if(!v)return;const C={now:M(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(h,f),this.light.updateTransitions(C)}getProjection(){var h;return(h=this.stylesheet)===null||h===void 0?void 0:h.projection}setProjection(h){if(this._checkLoaded(),this.projection){if(this.projection.name===h.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=h,this._setProjectionInternal(h.type)}getSky(){var h;return(h=this.stylesheet)===null||h===void 0?void 0:h.sky}setSky(h,f={}){this._checkLoaded();const _=this.getSky();let v=!1;if(!h&&!_)return;if(h&&!_)v=!0;else if(!h&&_)v=!0;else for(const P in h)if(!a.bR(h[P],_[P])){v=!0;break}if(!v)return;const C={now:M(),transition:a.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=h,this.sky.setSky(h,f),this.sky.updateTransitions(C)}_setProjectionInternal(h){const f=(function(_,v){const C={constrainOverride:v};if(Array.isArray(_)){const P=new Wm({type:_});return{projection:P,transform:new yl(C),cameraHelper:new Ym(P)}}switch(_){case"mercator":return{projection:new Na,transform:new ko(C),cameraHelper:new So};case"globe":{const P=new Wm({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:P,transform:new yl(C),cameraHelper:new Ym(P)}}case"vertical-perspective":return{projection:new tf,transform:new _l(C),cameraHelper:new Yn};default:return a.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new Na,transform:new ko(C),cameraHelper:new So}}})(h,this.map.transformConstrain);this.projection=f.projection,this.map.migrateProjection(f.transform,f.cameraHelper);for(const _ in this.tileManagers)this.tileManagers[_].reload()}_validate(h,f,_,v,C={}){return(!C||C.validate!==!1)&&xl(this,h.call(a.C,a.e({key:f,style:this.serialize(),value:_,styleSpec:a.u},v)))}_remove(h=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Fe().off(ke,this._rtlPluginLoaded);for(const f in this._layers)this._layers[f].setEventedParent(null);for(const f in this.tileManagers){const _=this.tileManagers[f];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),h&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(h)}_clearSource(h){this.tileManagers[h].clearTiles()}_reloadSource(h){this.tileManagers[h].resume(),this.tileManagers[h].reload()}_updateSources(h){for(const f in this.tileManagers)this.tileManagers[f].update(h,this.map.terrain)}_generateCollisionBoxes(){for(const h in this.tileManagers)this._reloadSource(h)}_updatePlacement(h,f,_,v,C=!1){let P=!1,z=!1;const F={};for(const $ of this._order){const G=this._layers[$];if(G.type!=="symbol")continue;if(!F[G.source]){const Z=this.tileManagers[G.source];F[G.source]=Z.getRenderableIds(!0).map((ie=>Z.getTileByID(ie))).sort(((ie,oe)=>oe.tileID.overscaledZ-ie.tileID.overscaledZ||(ie.tileID.isLessThan(oe.tileID)?-1:1)))}const K=this.crossTileSymbolIndex.addLayer(G,F[G.source],h.center.lng);P=P||K}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((C=C||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(M(),h.zoom))&&(this.pauseablePlacement=new ul(h,this.map.terrain,this._order,C,f,_,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,F),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(M()),z=!0),P&&this.pauseablePlacement.placement.setStale()),z||P)for(const $ of this._order){const G=this._layers[$];G.type==="symbol"&&this.placement.updateLayerOpacities(G,F[G.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(M())}_releaseSymbolFadeTiles(){for(const h in this.tileManagers)this.tileManagers[h].releaseSymbolFadeTiles()}getImages(h,f){return a._(this,void 0,void 0,(function*(){const _=yield this.imageManager.getImages(f.icons);this._updateTilesForChangedImages();const v=this.tileManagers[f.source];return v&&v.setDependencies(f.tileID.key,f.type,f.icons),_}))}getGlyphs(h,f){return a._(this,void 0,void 0,(function*(){const _=yield this.glyphManager.getGlyphs(f.stacks),v=this.tileManagers[f.source];return v&&v.setDependencies(f.tileID.key,f.type,[""]),_}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(h,f={}){this._checkLoaded(),h&&this._validate(a.C.glyphs,"glyphs",h,null,f)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=h,this.glyphManager.entries={},this.glyphManager.setURL(h))}getDashes(h,f){return a._(this,void 0,void 0,(function*(){const _={};for(const[v,C]of Object.entries(f.dashes))_[v]=this.lineAtlas.getDash(C.dasharray,C.round);return _}))}addSprite(h,f,_={},v){this._checkLoaded();const C=[{id:h,url:f}],P=[...se(this.stylesheet.sprite),...C];this._validate(a.C.sprite,"sprite",P,null,_)||(this.stylesheet.sprite=P,this._loadSprite(C,!0,v))}removeSprite(h){this._checkLoaded();const f=se(this.stylesheet.sprite);if(f.find((_=>_.id===h))){if(this._spritesImagesIds[h])for(const _ of this._spritesImagesIds[h])this.imageManager.removeImage(_),this._changedImages[_]=!0;f.splice(f.findIndex((_=>_.id===h)),1),this.stylesheet.sprite=f.length>0?f:void 0,delete this._spritesImagesIds[h],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new a.l("data",{dataType:"style"}))}else this.fire(new a.k(new Error(`Sprite "${h}" doesn't exists on this map.`)))}getSprite(){return se(this.stylesheet.sprite)}setSprite(h,f={},_){this._checkLoaded(),h&&this._validate(a.C.sprite,"sprite",h,null,f)||(this.stylesheet.sprite=h,h?this._loadSprite(h,!0,_):(this._unloadSprite(),_&&_(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const h in this.tileManagers){const f=this.tileManagers[h];f.setEventedParent(null),f.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const h in this._layers){const f=this._layers[h];f.setEventedParent(null),f.onRemove&&f.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var bx=a.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class ac{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(h,f,_,v,C,P,z,F,$){this.context=h;let G=this.boundPaintVertexBuffers.length!==v.length;for(let K=0;!G&&K<v.length;K++)this.boundPaintVertexBuffers[K]!==v[K]&&(G=!0);!this.vao||this.boundProgram!==f||this.boundLayoutVertexBuffer!==_||G||this.boundIndexBuffer!==C||this.boundVertexOffset!==P||this.boundDynamicVertexBuffer!==z||this.boundDynamicVertexBuffer2!==F||this.boundDynamicVertexBuffer3!==$?this.freshBind(f,_,v,C,P,z,F,$):(h.bindVertexArray.set(this.vao),z&&z.bind(),C&&C.dynamicDraw&&C.bind(),F&&F.bind(),$&&$.bind())}freshBind(h,f,_,v,C,P,z,F){const $=h.numAttributes,G=this.context,K=G.gl;this.vao&&this.destroy(),this.vao=G.createVertexArray(),G.bindVertexArray.set(this.vao),this.boundProgram=h,this.boundLayoutVertexBuffer=f,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=v,this.boundVertexOffset=C,this.boundDynamicVertexBuffer=P,this.boundDynamicVertexBuffer2=z,this.boundDynamicVertexBuffer3=F,f.enableAttributes(K,h);for(const Z of _)Z.enableAttributes(K,h);P&&P.enableAttributes(K,h),z&&z.enableAttributes(K,h),F&&F.enableAttributes(K,h),f.bind(),f.setVertexAttribPointers(K,h,C);for(const Z of _)Z.bind(),Z.setVertexAttribPointers(K,h,C);P&&(P.bind(),P.setVertexAttribPointers(K,h,C)),v&&v.bind(),z&&(z.bind(),z.setVertexAttribPointers(K,h,C)),F&&(F.bind(),F.setVertexAttribPointers(K,h,C)),G.currentNumAttributes=$}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const wx=(T,h,f,_,v)=>({u_texture:0,u_ele_delta:T,u_fog_matrix:h,u_fog_color:f?f.properties.get("fog-color"):a.bp.white,u_fog_ground_blend:f?f.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:v?0:f?f.calculateFogBlendOpacity(_):0,u_horizon_color:f?f.properties.get("horizon-color"):a.bp.white,u_horizon_fog_blend:f?f.properties.get("horizon-fog-blend"):1,u_is_globe_mode:v?1:0}),vl={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function rc(T){const h=[];for(let f=0;f<T.length;f++){if(T[f]===null)continue;const _=T[f].split(" ");h.push(_.pop())}return h}class Zm{constructor(h,f,_,v,C,P,z,F,$=[]){const G=h.gl;this.program=G.createProgram();const K=rc(f.staticAttributes),Z=_?_.getBinderAttributes():[],ie=K.concat(Z),oe=fn.prelude.staticUniforms?rc(fn.prelude.staticUniforms):[],fe=z.staticUniforms?rc(z.staticUniforms):[],me=f.staticUniforms?rc(f.staticUniforms):[],pe=_?_.getBinderUniforms():[],ye=oe.concat(fe).concat(me).concat(pe),Ce=[];for(const Ve of ye)Ce.indexOf(Ve)<0&&Ce.push(Ve);const ge=_?_.defines():[];Mr(G)&&ge.unshift("#version 300 es"),C&&ge.push("#define OVERDRAW_INSPECTOR;"),P&&ge.push("#define TERRAIN3D;"),F&&ge.push(F),$&&ge.push(...$);let Se=ge.concat(fn.prelude.fragmentSource,z.fragmentSource,f.fragmentSource).join(`
`),Pe=ge.concat(fn.prelude.vertexSource,z.vertexSource,f.vertexSource).join(`
`);Mr(G)||(Se=(function(Ve){return Ve.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(Se),Pe=(function(Ve){return Ve.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(Pe));const we=G.createShader(G.FRAGMENT_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);if(G.shaderSource(we,Se),G.compileShader(we),!G.getShaderParameter(we,G.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${G.getShaderInfoLog(we)}`);G.attachShader(this.program,we);const Ie=G.createShader(G.VERTEX_SHADER);if(G.isContextLost())return void(this.failedToCreate=!0);if(G.shaderSource(Ie,Pe),G.compileShader(Ie),!G.getShaderParameter(Ie,G.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${G.getShaderInfoLog(Ie)}`);G.attachShader(this.program,Ie),this.attributes={};const qe={};this.numAttributes=ie.length;for(let Ve=0;Ve<this.numAttributes;Ve++)ie[Ve]&&(G.bindAttribLocation(this.program,Ve,ie[Ve]),this.attributes[ie[Ve]]=Ve);if(G.linkProgram(this.program),!G.getProgramParameter(this.program,G.LINK_STATUS))throw new Error(`Program failed to link: ${G.getProgramInfoLog(this.program)}`);G.deleteShader(Ie),G.deleteShader(we);for(let Ve=0;Ve<Ce.length;Ve++){const Ge=Ce[Ve];if(Ge&&!qe[Ge]){const We=G.getUniformLocation(this.program,Ge);We&&(qe[Ge]=We)}}this.fixedUniforms=v(h,qe),this.terrainUniforms=((Ve,Ge)=>({u_depth:new a.b_(Ve,Ge.u_depth),u_terrain:new a.b_(Ve,Ge.u_terrain),u_terrain_dim:new a.bq(Ve,Ge.u_terrain_dim),u_terrain_matrix:new a.c0(Ve,Ge.u_terrain_matrix),u_terrain_unpack:new a.c1(Ve,Ge.u_terrain_unpack),u_terrain_exaggeration:new a.bq(Ve,Ge.u_terrain_exaggeration)}))(h,qe),this.projectionUniforms=((Ve,Ge)=>({u_projection_matrix:new a.c0(Ve,Ge.u_projection_matrix),u_projection_tile_mercator_coords:new a.c1(Ve,Ge.u_projection_tile_mercator_coords),u_projection_clipping_plane:new a.c1(Ve,Ge.u_projection_clipping_plane),u_projection_transition:new a.bq(Ve,Ge.u_projection_transition),u_projection_fallback_matrix:new a.c0(Ve,Ge.u_projection_fallback_matrix)}))(h,qe),this.binderUniforms=_?_.getUniforms(h,qe):[]}draw(h,f,_,v,C,P,z,F,$,G,K,Z,ie,oe,fe,me,pe,ye,Ce){const ge=h.gl;if(this.failedToCreate)return;if(h.program.set(this.program),h.setDepthMode(_),h.setStencilMode(v),h.setColorMode(C),h.setCullFace(P),F){h.activeTexture.set(ge.TEXTURE2),ge.bindTexture(ge.TEXTURE_2D,F.depthTexture),h.activeTexture.set(ge.TEXTURE3),ge.bindTexture(ge.TEXTURE_2D,F.texture);for(const Pe in this.terrainUniforms)this.terrainUniforms[Pe].set(F[Pe])}if($)for(const Pe in $)this.projectionUniforms[vl[Pe]].set($[Pe]);if(z)for(const Pe in this.fixedUniforms)this.fixedUniforms[Pe].set(z[Pe]);me&&me.setUniforms(h,this.binderUniforms,oe,{zoom:fe});let Se=0;switch(f){case ge.LINES:Se=2;break;case ge.TRIANGLES:Se=3;break;case ge.LINE_STRIP:Se=1}for(const Pe of ie.get()){const we=Pe.vaos||(Pe.vaos={});(we[G]||(we[G]=new ac)).bind(h,this,K,me?me.getPaintVertexBuffers():[],Z,Pe.vertexOffset,pe,ye,Ce),ge.drawElements(f,Pe.primitiveLength*Se,ge.UNSIGNED_SHORT,Pe.primitiveOffset*Se*2)}}}function Km(T,h,f){const _=1/a.aN(f,1,h.transform.tileZoom),v=Math.pow(2,f.tileID.overscaledZ),C=f.tileSize*Math.pow(2,h.transform.tileZoom)/v,P=C*(f.tileID.canonical.x+f.tileID.wrap*v),z=C*f.tileID.canonical.y;return{u_image:0,u_texsize:f.imageAtlasTexture.size,u_scale:[_,T.fromScale,T.toScale],u_fade:T.t,u_pixel_coord_upper:[P>>16,z>>16],u_pixel_coord_lower:[65535&P,65535&z]}}const sf=(T,h,f,_)=>{const v=T.style.light,C=v.properties.get("position"),P=[C.x,C.y,C.z],z=a.c4();v.properties.get("anchor")==="viewport"&&a.c5(z,T.transform.bearingInRadians),a.c6(P,P,z);const F=T.transform.transformLightDirection(P),$=v.properties.get("color");return{u_lightpos:P,u_lightpos_globe:F,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[$.r,$.g,$.b],u_vertical_gradient:+h,u_opacity:f,u_fill_translate:_}},of=(T,h,f,_,v,C,P)=>a.e(sf(T,h,f,_),Km(C,T,P),{u_height_factor:-Math.pow(2,v.overscaledZ)/P.tileSize/8}),lf=(T,h,f,_)=>a.e(Km(h,T,f),{u_fill_translate:_}),Jm=(T,h)=>({u_world:T,u_fill_translate:h}),Qm=(T,h,f,_,v)=>a.e(lf(T,h,f,v),{u_world:_}),eg=(T,h,f,_,v)=>{const C=T.transform;let P,z,F=0;if(f.paint.get("circle-pitch-alignment")==="map"){const $=a.aN(h,1,C.zoom);P=!0,z=[$,$],F=$/(a.a5*Math.pow(2,h.tileID.overscaledZ))*2*Math.PI*v}else P=!1,z=C.pixelsToGLUnits;return{u_camera_to_center_distance:C.cameraToCenterDistance,u_scale_with_map:+(f.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+P,u_device_pixel_ratio:T.pixelRatio,u_extrude_scale:z,u_globe_extrude_scale:F,u_translate:_}},Ao=T=>({u_pixel_extrude_scale:[1/T.width,1/T.height]}),tg=T=>({u_viewport_size:[T.width,T.height]}),hf=(T,h=1)=>({u_color:T,u_overlay:0,u_overlay_scale:h}),bl=(T,h,f,_)=>{const v=a.aN(T,1,h)/(a.a5*Math.pow(2,T.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:a.aN(T,1,h),u_intensity:f,u_globe_extrude_scale:v}},ig=(T,h,f,_)=>{const v=a.N();a.c7(v,0,T.width,T.height,0,0,1);const C=T.context.gl;return{u_matrix:v,u_world:[C.drawingBufferWidth,C.drawingBufferHeight],u_image:f,u_color_ramp:_,u_opacity:h.paint.get("heatmap-opacity")}},sc=(T,h,f)=>{const _=f.paint.get("hillshade-accent-color");let v;switch(f.paint.get("hillshade-method")){case"basic":v=4;break;case"combined":v=1;break;case"igor":v=2;break;case"multidirectional":v=3;break;default:v=0}const C=f.getIlluminationProperties();for(let P=0;P<C.directionRadians.length;P++)f.paint.get("hillshade-illumination-anchor")==="viewport"&&(C.directionRadians[P]+=T.transform.bearingInRadians);return{u_image:0,u_latrange:Sx(0,h.tileID),u_exaggeration:f.paint.get("hillshade-exaggeration"),u_altitudes:C.altitudeRadians,u_azimuths:C.directionRadians,u_accent:_,u_method:v,u_highlights:C.highlightColor,u_shadows:C.shadowColor}},kx=(T,h)=>{const f=h.stride,_=a.N();return a.c7(_,0,a.a5,-a.a5,0,0,1),a.O(_,_,[0,-a.a5,0]),{u_matrix:_,u_image:1,u_dimension:[f,f],u_zoom:T.overscaledZ,u_unpack:h.getUnpackVector()}};function Sx(T,h){const f=Math.pow(2,h.canonical.z),_=h.canonical.y;return[new a.a9(0,_/f).toLngLat().lat,new a.a9(0,(_+1)/f).toLngLat().lat]}const ng=(T,h,f=0)=>({u_image:0,u_unpack:h.getUnpackVector(),u_dimension:[h.stride,h.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:f,u_opacity:T.paint.get("color-relief-opacity")}),Sh=(T,h,f,_)=>{const v=T.transform;return{u_translation:lc(T,h,f),u_ratio:_/a.aN(h,1,v.zoom),u_device_pixel_ratio:T.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},ag=(T,h,f,_,v)=>a.e(Sh(T,h,f,_),{u_image:0,u_image_height:v}),uf=(T,h,f,_,v)=>{const C=T.transform,P=Ur(h,C);return{u_translation:lc(T,h,f),u_texsize:h.imageAtlasTexture.size,u_ratio:_/a.aN(h,1,C.zoom),u_device_pixel_ratio:T.pixelRatio,u_image:0,u_scale:[P,v.fromScale,v.toScale],u_fade:v.t,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},rg=(T,h,f,_,v)=>{const C=Ur(h,T.transform);return a.e(Sh(T,h,f,_),{u_tileratio:C,u_crossfade_from:v.fromScale,u_crossfade_to:v.toScale,u_image:0,u_mix:v.t,u_lineatlas_width:T.lineAtlas.width,u_lineatlas_height:T.lineAtlas.height})},oc=(T,h,f,_,v,C)=>{const P=Ur(h,T.transform);return a.e(Sh(T,h,f,_),{u_image:0,u_image_height:C,u_tileratio:P,u_crossfade_from:v.fromScale,u_crossfade_to:v.toScale,u_image_dash:1,u_mix:v.t,u_lineatlas_width:T.lineAtlas.width,u_lineatlas_height:T.lineAtlas.height})};function Ur(T,h){return 1/a.aN(T,1,h.tileZoom)}function lc(T,h,f){return a.aO(T.transform,h,f.paint.get("line-translate"),f.paint.get("line-translate-anchor"))}const cf=(T,h,f,_,v)=>{return{u_tl_parent:T,u_scale_parent:h,u_buffer_scale:1,u_fade_t:f.mix,u_opacity:f.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(P=_.paint.get("raster-saturation"),P>0?1-1/(1.001-P):-P),u_contrast_factor:(C=_.paint.get("raster-contrast"),C>0?1/(1-C):1+C),u_spin_weights:df(_.paint.get("raster-hue-rotate")),u_coords_top:[v[0].x,v[0].y,v[1].x,v[1].y],u_coords_bottom:[v[3].x,v[3].y,v[2].x,v[2].y]};var C,P};function df(T){T*=Math.PI/180;const h=Math.sin(T),f=Math.cos(T);return[(2*f+1)/3,(-Math.sqrt(3)*h-f+1)/3,(Math.sqrt(3)*h-f+1)/3]}const ff=(T,h,f,_,v,C,P,z,F,$,G,K,Z)=>{const ie=P.transform;return{u_is_size_zoom_constant:+(T==="constant"||T==="source"),u_is_size_feature_constant:+(T==="constant"||T==="camera"),u_size_t:h?h.uSizeT:0,u_size:h?h.uSize:0,u_camera_to_center_distance:ie.cameraToCenterDistance,u_pitch:ie.pitch/360*2*Math.PI,u_rotate_symbol:+f,u_aspect_ratio:ie.width/ie.height,u_fade_change:P.options.fadeDuration?P.symbolFadeChange:1,u_label_plane_matrix:z,u_coord_matrix:F,u_is_text:+G,u_pitch_with_map:+_,u_is_along_line:v,u_is_variable_anchor:C,u_texsize:K,u_texture:0,u_translation:$,u_pitched_scale:Z}},hc=(T,h,f,_,v,C,P,z,F,$,G,K,Z,ie)=>{const oe=P.transform;return a.e(ff(T,h,f,_,v,C,P,z,F,$,G,K,ie),{u_gamma_scale:_?Math.cos(oe.pitch*Math.PI/180)*oe.cameraToCenterDistance:1,u_device_pixel_ratio:P.pixelRatio,u_is_halo:1})},Mo=(T,h,f,_,v,C,P,z,F,$,G,K,Z)=>a.e(hc(T,h,f,_,v,C,P,z,F,$,!0,G,0,Z),{u_texsize_icon:K,u_texture_icon:1}),pf=(T,h)=>({u_opacity:T,u_color:h}),Tx=(T,h,f,_,v)=>a.e((function(C,P,z,F){const $=z.imageManager.getPattern(C.from.toString()),G=z.imageManager.getPattern(C.to.toString()),{width:K,height:Z}=z.imageManager.getPixelSize(),ie=Math.pow(2,F.tileID.overscaledZ),oe=F.tileSize*Math.pow(2,z.transform.tileZoom)/ie,fe=oe*(F.tileID.canonical.x+F.tileID.wrap*ie),me=oe*F.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:$.tl,u_pattern_br_a:$.br,u_pattern_tl_b:G.tl,u_pattern_br_b:G.br,u_texsize:[K,Z],u_mix:P.t,u_pattern_size_a:$.displaySize,u_pattern_size_b:G.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/a.aN(F,1,z.transform.tileZoom),u_pixel_coord_upper:[fe>>16,me>>16],u_pixel_coord_lower:[65535&fe,65535&me]}})(f,v,h,_),{u_opacity:T}),sg=(T,h)=>{},Cx={fillExtrusion:(T,h)=>({u_lightpos:new a.c2(T,h.u_lightpos),u_lightpos_globe:new a.c2(T,h.u_lightpos_globe),u_lightintensity:new a.bq(T,h.u_lightintensity),u_lightcolor:new a.c2(T,h.u_lightcolor),u_vertical_gradient:new a.bq(T,h.u_vertical_gradient),u_opacity:new a.bq(T,h.u_opacity),u_fill_translate:new a.c3(T,h.u_fill_translate)}),fillExtrusionPattern:(T,h)=>({u_lightpos:new a.c2(T,h.u_lightpos),u_lightpos_globe:new a.c2(T,h.u_lightpos_globe),u_lightintensity:new a.bq(T,h.u_lightintensity),u_lightcolor:new a.c2(T,h.u_lightcolor),u_vertical_gradient:new a.bq(T,h.u_vertical_gradient),u_height_factor:new a.bq(T,h.u_height_factor),u_opacity:new a.bq(T,h.u_opacity),u_fill_translate:new a.c3(T,h.u_fill_translate),u_image:new a.b_(T,h.u_image),u_texsize:new a.c3(T,h.u_texsize),u_pixel_coord_upper:new a.c3(T,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(T,h.u_pixel_coord_lower),u_scale:new a.c2(T,h.u_scale),u_fade:new a.bq(T,h.u_fade)}),fill:(T,h)=>({u_fill_translate:new a.c3(T,h.u_fill_translate)}),fillPattern:(T,h)=>({u_image:new a.b_(T,h.u_image),u_texsize:new a.c3(T,h.u_texsize),u_pixel_coord_upper:new a.c3(T,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(T,h.u_pixel_coord_lower),u_scale:new a.c2(T,h.u_scale),u_fade:new a.bq(T,h.u_fade),u_fill_translate:new a.c3(T,h.u_fill_translate)}),fillOutline:(T,h)=>({u_world:new a.c3(T,h.u_world),u_fill_translate:new a.c3(T,h.u_fill_translate)}),fillOutlinePattern:(T,h)=>({u_world:new a.c3(T,h.u_world),u_image:new a.b_(T,h.u_image),u_texsize:new a.c3(T,h.u_texsize),u_pixel_coord_upper:new a.c3(T,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(T,h.u_pixel_coord_lower),u_scale:new a.c2(T,h.u_scale),u_fade:new a.bq(T,h.u_fade),u_fill_translate:new a.c3(T,h.u_fill_translate)}),circle:(T,h)=>({u_camera_to_center_distance:new a.bq(T,h.u_camera_to_center_distance),u_scale_with_map:new a.b_(T,h.u_scale_with_map),u_pitch_with_map:new a.b_(T,h.u_pitch_with_map),u_extrude_scale:new a.c3(T,h.u_extrude_scale),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_globe_extrude_scale:new a.bq(T,h.u_globe_extrude_scale),u_translate:new a.c3(T,h.u_translate)}),collisionBox:(T,h)=>({u_pixel_extrude_scale:new a.c3(T,h.u_pixel_extrude_scale)}),collisionCircle:(T,h)=>({u_viewport_size:new a.c3(T,h.u_viewport_size)}),debug:(T,h)=>({u_color:new a.b$(T,h.u_color),u_overlay:new a.b_(T,h.u_overlay),u_overlay_scale:new a.bq(T,h.u_overlay_scale)}),depth:sg,clippingMask:sg,heatmap:(T,h)=>({u_extrude_scale:new a.bq(T,h.u_extrude_scale),u_intensity:new a.bq(T,h.u_intensity),u_globe_extrude_scale:new a.bq(T,h.u_globe_extrude_scale)}),heatmapTexture:(T,h)=>({u_matrix:new a.c0(T,h.u_matrix),u_world:new a.c3(T,h.u_world),u_image:new a.b_(T,h.u_image),u_color_ramp:new a.b_(T,h.u_color_ramp),u_opacity:new a.bq(T,h.u_opacity)}),hillshade:(T,h)=>({u_image:new a.b_(T,h.u_image),u_latrange:new a.c3(T,h.u_latrange),u_exaggeration:new a.bq(T,h.u_exaggeration),u_altitudes:new a.c9(T,h.u_altitudes),u_azimuths:new a.c9(T,h.u_azimuths),u_accent:new a.b$(T,h.u_accent),u_method:new a.b_(T,h.u_method),u_shadows:new a.c8(T,h.u_shadows),u_highlights:new a.c8(T,h.u_highlights)}),hillshadePrepare:(T,h)=>({u_matrix:new a.c0(T,h.u_matrix),u_image:new a.b_(T,h.u_image),u_dimension:new a.c3(T,h.u_dimension),u_zoom:new a.bq(T,h.u_zoom),u_unpack:new a.c1(T,h.u_unpack)}),colorRelief:(T,h)=>({u_image:new a.b_(T,h.u_image),u_unpack:new a.c1(T,h.u_unpack),u_dimension:new a.c3(T,h.u_dimension),u_elevation_stops:new a.b_(T,h.u_elevation_stops),u_color_stops:new a.b_(T,h.u_color_stops),u_color_ramp_size:new a.b_(T,h.u_color_ramp_size),u_opacity:new a.bq(T,h.u_opacity)}),line:(T,h)=>({u_translation:new a.c3(T,h.u_translation),u_ratio:new a.bq(T,h.u_ratio),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_units_to_pixels:new a.c3(T,h.u_units_to_pixels)}),lineGradient:(T,h)=>({u_translation:new a.c3(T,h.u_translation),u_ratio:new a.bq(T,h.u_ratio),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_units_to_pixels:new a.c3(T,h.u_units_to_pixels),u_image:new a.b_(T,h.u_image),u_image_height:new a.bq(T,h.u_image_height)}),linePattern:(T,h)=>({u_translation:new a.c3(T,h.u_translation),u_texsize:new a.c3(T,h.u_texsize),u_ratio:new a.bq(T,h.u_ratio),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_image:new a.b_(T,h.u_image),u_units_to_pixels:new a.c3(T,h.u_units_to_pixels),u_scale:new a.c2(T,h.u_scale),u_fade:new a.bq(T,h.u_fade)}),lineSDF:(T,h)=>({u_translation:new a.c3(T,h.u_translation),u_ratio:new a.bq(T,h.u_ratio),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_units_to_pixels:new a.c3(T,h.u_units_to_pixels),u_image:new a.b_(T,h.u_image),u_mix:new a.bq(T,h.u_mix),u_tileratio:new a.bq(T,h.u_tileratio),u_crossfade_from:new a.bq(T,h.u_crossfade_from),u_crossfade_to:new a.bq(T,h.u_crossfade_to),u_lineatlas_width:new a.bq(T,h.u_lineatlas_width),u_lineatlas_height:new a.bq(T,h.u_lineatlas_height)}),lineGradientSDF:(T,h)=>({u_translation:new a.c3(T,h.u_translation),u_ratio:new a.bq(T,h.u_ratio),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_units_to_pixels:new a.c3(T,h.u_units_to_pixels),u_image:new a.b_(T,h.u_image),u_image_height:new a.bq(T,h.u_image_height),u_tileratio:new a.bq(T,h.u_tileratio),u_crossfade_from:new a.bq(T,h.u_crossfade_from),u_crossfade_to:new a.bq(T,h.u_crossfade_to),u_image_dash:new a.b_(T,h.u_image_dash),u_mix:new a.bq(T,h.u_mix),u_lineatlas_width:new a.bq(T,h.u_lineatlas_width),u_lineatlas_height:new a.bq(T,h.u_lineatlas_height)}),raster:(T,h)=>({u_tl_parent:new a.c3(T,h.u_tl_parent),u_scale_parent:new a.bq(T,h.u_scale_parent),u_buffer_scale:new a.bq(T,h.u_buffer_scale),u_fade_t:new a.bq(T,h.u_fade_t),u_opacity:new a.bq(T,h.u_opacity),u_image0:new a.b_(T,h.u_image0),u_image1:new a.b_(T,h.u_image1),u_brightness_low:new a.bq(T,h.u_brightness_low),u_brightness_high:new a.bq(T,h.u_brightness_high),u_saturation_factor:new a.bq(T,h.u_saturation_factor),u_contrast_factor:new a.bq(T,h.u_contrast_factor),u_spin_weights:new a.c2(T,h.u_spin_weights),u_coords_top:new a.c1(T,h.u_coords_top),u_coords_bottom:new a.c1(T,h.u_coords_bottom)}),symbolIcon:(T,h)=>({u_is_size_zoom_constant:new a.b_(T,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(T,h.u_is_size_feature_constant),u_size_t:new a.bq(T,h.u_size_t),u_size:new a.bq(T,h.u_size),u_camera_to_center_distance:new a.bq(T,h.u_camera_to_center_distance),u_pitch:new a.bq(T,h.u_pitch),u_rotate_symbol:new a.b_(T,h.u_rotate_symbol),u_aspect_ratio:new a.bq(T,h.u_aspect_ratio),u_fade_change:new a.bq(T,h.u_fade_change),u_label_plane_matrix:new a.c0(T,h.u_label_plane_matrix),u_coord_matrix:new a.c0(T,h.u_coord_matrix),u_is_text:new a.b_(T,h.u_is_text),u_pitch_with_map:new a.b_(T,h.u_pitch_with_map),u_is_along_line:new a.b_(T,h.u_is_along_line),u_is_variable_anchor:new a.b_(T,h.u_is_variable_anchor),u_texsize:new a.c3(T,h.u_texsize),u_texture:new a.b_(T,h.u_texture),u_translation:new a.c3(T,h.u_translation),u_pitched_scale:new a.bq(T,h.u_pitched_scale)}),symbolSDF:(T,h)=>({u_is_size_zoom_constant:new a.b_(T,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(T,h.u_is_size_feature_constant),u_size_t:new a.bq(T,h.u_size_t),u_size:new a.bq(T,h.u_size),u_camera_to_center_distance:new a.bq(T,h.u_camera_to_center_distance),u_pitch:new a.bq(T,h.u_pitch),u_rotate_symbol:new a.b_(T,h.u_rotate_symbol),u_aspect_ratio:new a.bq(T,h.u_aspect_ratio),u_fade_change:new a.bq(T,h.u_fade_change),u_label_plane_matrix:new a.c0(T,h.u_label_plane_matrix),u_coord_matrix:new a.c0(T,h.u_coord_matrix),u_is_text:new a.b_(T,h.u_is_text),u_pitch_with_map:new a.b_(T,h.u_pitch_with_map),u_is_along_line:new a.b_(T,h.u_is_along_line),u_is_variable_anchor:new a.b_(T,h.u_is_variable_anchor),u_texsize:new a.c3(T,h.u_texsize),u_texture:new a.b_(T,h.u_texture),u_gamma_scale:new a.bq(T,h.u_gamma_scale),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_is_halo:new a.b_(T,h.u_is_halo),u_translation:new a.c3(T,h.u_translation),u_pitched_scale:new a.bq(T,h.u_pitched_scale)}),symbolTextAndIcon:(T,h)=>({u_is_size_zoom_constant:new a.b_(T,h.u_is_size_zoom_constant),u_is_size_feature_constant:new a.b_(T,h.u_is_size_feature_constant),u_size_t:new a.bq(T,h.u_size_t),u_size:new a.bq(T,h.u_size),u_camera_to_center_distance:new a.bq(T,h.u_camera_to_center_distance),u_pitch:new a.bq(T,h.u_pitch),u_rotate_symbol:new a.b_(T,h.u_rotate_symbol),u_aspect_ratio:new a.bq(T,h.u_aspect_ratio),u_fade_change:new a.bq(T,h.u_fade_change),u_label_plane_matrix:new a.c0(T,h.u_label_plane_matrix),u_coord_matrix:new a.c0(T,h.u_coord_matrix),u_is_text:new a.b_(T,h.u_is_text),u_pitch_with_map:new a.b_(T,h.u_pitch_with_map),u_is_along_line:new a.b_(T,h.u_is_along_line),u_is_variable_anchor:new a.b_(T,h.u_is_variable_anchor),u_texsize:new a.c3(T,h.u_texsize),u_texsize_icon:new a.c3(T,h.u_texsize_icon),u_texture:new a.b_(T,h.u_texture),u_texture_icon:new a.b_(T,h.u_texture_icon),u_gamma_scale:new a.bq(T,h.u_gamma_scale),u_device_pixel_ratio:new a.bq(T,h.u_device_pixel_ratio),u_is_halo:new a.b_(T,h.u_is_halo),u_translation:new a.c3(T,h.u_translation),u_pitched_scale:new a.bq(T,h.u_pitched_scale)}),background:(T,h)=>({u_opacity:new a.bq(T,h.u_opacity),u_color:new a.b$(T,h.u_color)}),backgroundPattern:(T,h)=>({u_opacity:new a.bq(T,h.u_opacity),u_image:new a.b_(T,h.u_image),u_pattern_tl_a:new a.c3(T,h.u_pattern_tl_a),u_pattern_br_a:new a.c3(T,h.u_pattern_br_a),u_pattern_tl_b:new a.c3(T,h.u_pattern_tl_b),u_pattern_br_b:new a.c3(T,h.u_pattern_br_b),u_texsize:new a.c3(T,h.u_texsize),u_mix:new a.bq(T,h.u_mix),u_pattern_size_a:new a.c3(T,h.u_pattern_size_a),u_pattern_size_b:new a.c3(T,h.u_pattern_size_b),u_scale_a:new a.bq(T,h.u_scale_a),u_scale_b:new a.bq(T,h.u_scale_b),u_pixel_coord_upper:new a.c3(T,h.u_pixel_coord_upper),u_pixel_coord_lower:new a.c3(T,h.u_pixel_coord_lower),u_tile_units_to_pixels:new a.bq(T,h.u_tile_units_to_pixels)}),terrain:(T,h)=>({u_texture:new a.b_(T,h.u_texture),u_ele_delta:new a.bq(T,h.u_ele_delta),u_fog_matrix:new a.c0(T,h.u_fog_matrix),u_fog_color:new a.b$(T,h.u_fog_color),u_fog_ground_blend:new a.bq(T,h.u_fog_ground_blend),u_fog_ground_blend_opacity:new a.bq(T,h.u_fog_ground_blend_opacity),u_horizon_color:new a.b$(T,h.u_horizon_color),u_horizon_fog_blend:new a.bq(T,h.u_horizon_fog_blend),u_is_globe_mode:new a.bq(T,h.u_is_globe_mode)}),terrainDepth:(T,h)=>({u_ele_delta:new a.bq(T,h.u_ele_delta)}),terrainCoords:(T,h)=>({u_texture:new a.b_(T,h.u_texture),u_terrain_coords_id:new a.bq(T,h.u_terrain_coords_id),u_ele_delta:new a.bq(T,h.u_ele_delta)}),projectionErrorMeasurement:(T,h)=>({u_input:new a.bq(T,h.u_input),u_output_expected:new a.bq(T,h.u_output_expected)}),atmosphere:(T,h)=>({u_sun_pos:new a.c2(T,h.u_sun_pos),u_atmosphere_blend:new a.bq(T,h.u_atmosphere_blend),u_globe_position:new a.c2(T,h.u_globe_position),u_globe_radius:new a.bq(T,h.u_globe_radius),u_inv_proj_matrix:new a.c0(T,h.u_inv_proj_matrix)}),sky:(T,h)=>({u_sky_color:new a.b$(T,h.u_sky_color),u_horizon_color:new a.b$(T,h.u_horizon_color),u_horizon:new a.c3(T,h.u_horizon),u_horizon_normal:new a.c3(T,h.u_horizon_normal),u_sky_horizon_blend:new a.bq(T,h.u_sky_horizon_blend),u_sky_blend:new a.bq(T,h.u_sky_blend)})};class Ax{constructor(h,f,_){this.context=h;const v=h.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),h.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(h){const f=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,h.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const og={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Mx{constructor(h,f,_,v){this.length=f.length,this.attributes=_,this.itemSize=f.bytesPerElement,this.dynamicDraw=v,this.context=h;const C=h.gl;this.buffer=C.createBuffer(),h.bindVertexBuffer.set(this.buffer),C.bufferData(C.ARRAY_BUFFER,f.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete f.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(h){if(h.length!==this.length)throw new Error(`Length of new data is ${h.length}, which doesn't match current length of ${this.length}`);const f=this.context.gl;this.bind(),f.bufferSubData(f.ARRAY_BUFFER,0,h.arrayBuffer)}enableAttributes(h,f){for(let _=0;_<this.attributes.length;_++){const v=f.attributes[this.attributes[_].name];v!==void 0&&h.enableVertexAttribArray(v)}}setVertexAttribPointers(h,f,_){for(let v=0;v<this.attributes.length;v++){const C=this.attributes[v],P=f.attributes[C.name];P!==void 0&&h.vertexAttribPointer(P,C.components,h[og[C.type]],!1,this.itemSize,C.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Li{constructor(h){this.gl=h.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(h){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class uc extends Li{getDefault(){return a.bp.transparent}set(h){const f=this.current;(h.r!==f.r||h.g!==f.g||h.b!==f.b||h.a!==f.a||this.dirty)&&(this.gl.clearColor(h.r,h.g,h.b,h.a),this.current=h,this.dirty=!1)}}class cc extends Li{getDefault(){return 1}set(h){(h!==this.current||this.dirty)&&(this.gl.clearDepth(h),this.current=h,this.dirty=!1)}}class dc extends Li{getDefault(){return 0}set(h){(h!==this.current||this.dirty)&&(this.gl.clearStencil(h),this.current=h,this.dirty=!1)}}class mf extends Li{getDefault(){return[!0,!0,!0,!0]}set(h){const f=this.current;(h[0]!==f[0]||h[1]!==f[1]||h[2]!==f[2]||h[3]!==f[3]||this.dirty)&&(this.gl.colorMask(h[0],h[1],h[2],h[3]),this.current=h,this.dirty=!1)}}class Po extends Li{getDefault(){return!0}set(h){(h!==this.current||this.dirty)&&(this.gl.depthMask(h),this.current=h,this.dirty=!1)}}class Th extends Li{getDefault(){return 255}set(h){(h!==this.current||this.dirty)&&(this.gl.stencilMask(h),this.current=h,this.dirty=!1)}}class wl extends Li{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(h){const f=this.current;(h.func!==f.func||h.ref!==f.ref||h.mask!==f.mask||this.dirty)&&(this.gl.stencilFunc(h.func,h.ref,h.mask),this.current=h,this.dirty=!1)}}class Pr extends Li{getDefault(){const h=this.gl;return[h.KEEP,h.KEEP,h.KEEP]}set(h){const f=this.current;(h[0]!==f[0]||h[1]!==f[1]||h[2]!==f[2]||this.dirty)&&(this.gl.stencilOp(h[0],h[1],h[2]),this.current=h,this.dirty=!1)}}class lg extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;h?f.enable(f.STENCIL_TEST):f.disable(f.STENCIL_TEST),this.current=h,this.dirty=!1}}class hg extends Li{getDefault(){return[0,1]}set(h){const f=this.current;(h[0]!==f[0]||h[1]!==f[1]||this.dirty)&&(this.gl.depthRange(h[0],h[1]),this.current=h,this.dirty=!1)}}class gf extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;h?f.enable(f.DEPTH_TEST):f.disable(f.DEPTH_TEST),this.current=h,this.dirty=!1}}class Lo extends Li{getDefault(){return this.gl.LESS}set(h){(h!==this.current||this.dirty)&&(this.gl.depthFunc(h),this.current=h,this.dirty=!1)}}class fc extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;h?f.enable(f.BLEND):f.disable(f.BLEND),this.current=h,this.dirty=!1}}class pc extends Li{getDefault(){const h=this.gl;return[h.ONE,h.ZERO]}set(h){const f=this.current;(h[0]!==f[0]||h[1]!==f[1]||this.dirty)&&(this.gl.blendFunc(h[0],h[1]),this.current=h,this.dirty=!1)}}class Ch extends Li{getDefault(){return a.bp.transparent}set(h){const f=this.current;(h.r!==f.r||h.g!==f.g||h.b!==f.b||h.a!==f.a||this.dirty)&&(this.gl.blendColor(h.r,h.g,h.b,h.a),this.current=h,this.dirty=!1)}}class mc extends Li{getDefault(){return this.gl.FUNC_ADD}set(h){(h!==this.current||this.dirty)&&(this.gl.blendEquation(h),this.current=h,this.dirty=!1)}}class ug extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;h?f.enable(f.CULL_FACE):f.disable(f.CULL_FACE),this.current=h,this.dirty=!1}}class kl extends Li{getDefault(){return this.gl.BACK}set(h){(h!==this.current||this.dirty)&&(this.gl.cullFace(h),this.current=h,this.dirty=!1)}}class Sl extends Li{getDefault(){return this.gl.CCW}set(h){(h!==this.current||this.dirty)&&(this.gl.frontFace(h),this.current=h,this.dirty=!1)}}class cg extends Li{getDefault(){return null}set(h){(h!==this.current||this.dirty)&&(this.gl.useProgram(h),this.current=h,this.dirty=!1)}}class _f extends Li{getDefault(){return this.gl.TEXTURE0}set(h){(h!==this.current||this.dirty)&&(this.gl.activeTexture(h),this.current=h,this.dirty=!1)}}class ri extends Li{getDefault(){const h=this.gl;return[0,0,h.drawingBufferWidth,h.drawingBufferHeight]}set(h){const f=this.current;(h[0]!==f[0]||h[1]!==f[1]||h[2]!==f[2]||h[3]!==f[3]||this.dirty)&&(this.gl.viewport(h[0],h[1],h[2],h[3]),this.current=h,this.dirty=!1)}}class gc extends Li{getDefault(){return null}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.bindFramebuffer(f.FRAMEBUFFER,h),this.current=h,this.dirty=!1}}class Px extends Li{getDefault(){return null}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.bindRenderbuffer(f.RENDERBUFFER,h),this.current=h,this.dirty=!1}}class dg extends Li{getDefault(){return null}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.bindTexture(f.TEXTURE_2D,h),this.current=h,this.dirty=!1}}class Ah extends Li{getDefault(){return null}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.bindBuffer(f.ARRAY_BUFFER,h),this.current=h,this.dirty=!1}}class Lx extends Li{getDefault(){return null}set(h){const f=this.gl;f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,h),this.current=h,this.dirty=!1}}class Ex extends Li{getDefault(){return null}set(h){var f;if(h===this.current&&!this.dirty)return;const _=this.gl;Mr(_)?_.bindVertexArray(h):(f=_.getExtension("OES_vertex_array_object"))===null||f===void 0||f.bindVertexArrayOES(h),this.current=h,this.dirty=!1}}class fg extends Li{getDefault(){return 4}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_ALIGNMENT,h),this.current=h,this.dirty=!1}}class Ix extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h),this.current=h,this.dirty=!1}}class yf extends Li{getDefault(){return!1}set(h){if(h===this.current&&!this.dirty)return;const f=this.gl;f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,h),this.current=h,this.dirty=!1}}class Tl extends Li{constructor(h,f){super(h),this.context=h,this.parent=f}getDefault(){return null}}class Mh extends Tl{setDirty(){this.dirty=!0}set(h){if(h===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,h,0),this.current=h,this.dirty=!1}}class _c extends Tl{set(h){if(h===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,h),this.current=h,this.dirty=!1}}class xf extends Tl{set(h){if(h===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const f=this.gl;f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,h),this.current=h,this.dirty=!1}}const vf="Framebuffer is not complete";class yc{constructor(h,f,_,v,C){this.context=h,this.width=f,this.height=_;const P=h.gl,z=this.framebuffer=P.createFramebuffer();if(this.colorAttachment=new Mh(h,z),v)this.depthAttachment=C?new xf(h,z):new _c(h,z);else if(C)throw new Error("Stencil cannot be set without depth");if(P.checkFramebufferStatus(P.FRAMEBUFFER)!==P.FRAMEBUFFER_COMPLETE)throw new Error(vf)}destroy(){const h=this.context.gl,f=this.colorAttachment.get();if(f&&h.deleteTexture(f),this.depthAttachment){const _=this.depthAttachment.get();_&&h.deleteRenderbuffer(_)}h.deleteFramebuffer(this.framebuffer)}}class xc{constructor(h){var f,_;if(this.gl=h,this.clearColor=new uc(this),this.clearDepth=new cc(this),this.clearStencil=new dc(this),this.colorMask=new mf(this),this.depthMask=new Po(this),this.stencilMask=new Th(this),this.stencilFunc=new wl(this),this.stencilOp=new Pr(this),this.stencilTest=new lg(this),this.depthRange=new hg(this),this.depthTest=new gf(this),this.depthFunc=new Lo(this),this.blend=new fc(this),this.blendFunc=new pc(this),this.blendColor=new Ch(this),this.blendEquation=new mc(this),this.cullFace=new ug(this),this.cullFaceSide=new kl(this),this.frontFace=new Sl(this),this.program=new cg(this),this.activeTexture=new _f(this),this.viewport=new ri(this),this.bindFramebuffer=new gc(this),this.bindRenderbuffer=new Px(this),this.bindTexture=new dg(this),this.bindVertexBuffer=new Ah(this),this.bindElementBuffer=new Lx(this),this.bindVertexArray=new Ex(this),this.pixelStoreUnpack=new fg(this),this.pixelStoreUnpackPremultiplyAlpha=new Ix(this),this.pixelStoreUnpackFlipY=new yf(this),this.extTextureFilterAnisotropic=h.getExtension("EXT_texture_filter_anisotropic")||h.getExtension("MOZ_EXT_texture_filter_anisotropic")||h.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=h.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=h.getParameter(h.MAX_TEXTURE_SIZE),Mr(h)){this.HALF_FLOAT=h.HALF_FLOAT;const v=h.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(f=h.RGBA16F)!==null&&f!==void 0?f:v?.RGBA16F_EXT,this.RGB16F=(_=h.RGB16F)!==null&&_!==void 0?_:v?.RGB16F_EXT,h.getExtension("EXT_color_buffer_float")}else{h.getExtension("EXT_color_buffer_half_float"),h.getExtension("OES_texture_half_float_linear");const v=h.getExtension("OES_texture_half_float");this.HALF_FLOAT=v?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(h,f){return new Ax(this,h,f)}createVertexBuffer(h,f,_){return new Mx(this,h,f,_)}createRenderbuffer(h,f,_){const v=this.gl,C=v.createRenderbuffer();return this.bindRenderbuffer.set(C),v.renderbufferStorage(v.RENDERBUFFER,h,f,_),this.bindRenderbuffer.set(null),C}createFramebuffer(h,f,_,v){return new yc(this,h,f,_,v)}clear({color:h,depth:f,stencil:_}){const v=this.gl;let C=0;h&&(C|=v.COLOR_BUFFER_BIT,this.clearColor.set(h),this.colorMask.set([!0,!0,!0,!0])),f!==void 0&&(C|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(f),this.depthMask.set(!0)),_!==void 0&&(C|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),v.clear(C)}setCullFace(h){h.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(h.mode),this.frontFace.set(h.frontFace))}setDepthMode(h){h.func!==this.gl.ALWAYS||h.mask?(this.depthTest.set(!0),this.depthFunc.set(h.func),this.depthMask.set(h.mask),this.depthRange.set(h.range)):this.depthTest.set(!1)}setStencilMode(h){h.test.func!==this.gl.ALWAYS||h.mask?(this.stencilTest.set(!0),this.stencilMask.set(h.mask),this.stencilOp.set([h.fail,h.depthFail,h.pass]),this.stencilFunc.set({func:h.test.func,ref:h.ref,mask:h.test.mask})):this.stencilTest.set(!1)}setColorMode(h){a.bR(h.blendFunction,Vi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(h.blendFunction),this.blendColor.set(h.blendColor)),this.colorMask.set(h.mask)}createVertexArray(){var h;return Mr(this.gl)?this.gl.createVertexArray():(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.createVertexArrayOES()}deleteVertexArray(h){var f;return Mr(this.gl)?this.gl.deleteVertexArray(h):(f=this.gl.getExtension("OES_vertex_array_object"))===null||f===void 0?void 0:f.deleteVertexArrayOES(h)}unbindVAO(){this.bindVertexArray.set(null)}}let Qs;function Eo(T,h,f,_,v){const C=T.context,P=T.transform,z=C.gl,F=T.useProgram("collisionBox"),$=[];let G=0,K=0;for(let pe=0;pe<_.length;pe++){const ye=_[pe],Ce=h.getTile(ye).getBucket(f);if(!Ce)continue;const ge=v?Ce.textCollisionBox:Ce.iconCollisionBox,Se=Ce.collisionCircleArray;Se.length>0&&($.push({circleArray:Se,circleOffset:K,coord:ye}),G+=Se.length/4,K=G),ge&&F.draw(C,z.LINES,ni.disabled,xi.disabled,T.colorModeForRenderPass(),mi.disabled,Ao(T.transform),T.style.map.terrain&&T.style.map.terrain.getTerrainData(ye),P.getProjectionData({overscaledTileID:ye,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),f.id,ge.layoutVertexBuffer,ge.indexBuffer,ge.segments,null,T.transform.zoom,null,null,ge.collisionVertexBuffer)}if(!v||!$.length)return;const Z=T.useProgram("collisionCircle"),ie=new a.ca;ie.resize(4*G),ie._trim();let oe=0;for(const pe of $)for(let ye=0;ye<pe.circleArray.length/4;ye++){const Ce=4*ye,ge=pe.circleArray[Ce+0],Se=pe.circleArray[Ce+1],Pe=pe.circleArray[Ce+2],we=pe.circleArray[Ce+3];ie.emplace(oe++,ge,Se,Pe,we,0),ie.emplace(oe++,ge,Se,Pe,we,1),ie.emplace(oe++,ge,Se,Pe,we,2),ie.emplace(oe++,ge,Se,Pe,we,3)}(!Qs||Qs.length<2*G)&&(Qs=(function(pe){const ye=2*pe,Ce=new a.cc;Ce.resize(ye),Ce._trim();for(let ge=0;ge<ye;ge++){const Se=6*ge;Ce.uint16[Se+0]=4*ge+0,Ce.uint16[Se+1]=4*ge+1,Ce.uint16[Se+2]=4*ge+2,Ce.uint16[Se+3]=4*ge+2,Ce.uint16[Se+4]=4*ge+3,Ce.uint16[Se+5]=4*ge+0}return Ce})(G));const fe=C.createIndexBuffer(Qs,!0),me=C.createVertexBuffer(ie,a.cb.members,!0);for(const pe of $){const ye=tg(T.transform);Z.draw(C,z.TRIANGLES,ni.disabled,xi.disabled,T.colorModeForRenderPass(),mi.disabled,ye,T.style.map.terrain&&T.style.map.terrain.getTerrainData(pe.coord),null,f.id,me,fe,a.aX.simpleSegment(0,2*pe.circleOffset,pe.circleArray.length,pe.circleArray.length/2),null,T.transform.zoom,null,null,null)}me.destroy(),fe.destroy()}const bf=a.ar(new Float32Array(16));function Dx(T,h,f,_,v,C){const{horizontalAlign:P,verticalAlign:z}=a.aS(T);return new a.P((-(P-.5)*h/v+_[0])*C,(-(z-.5)*f/v+_[1])*C)}function Ph(T,h,f,_,v,C){const P=h.tileAnchorPoint.add(new a.P(h.translation[0],h.translation[1]));if(h.pitchWithMap){let z=_.mult(C);f||(z=z.rotate(-v));const F=P.add(z);return Ft(F.x,F.y,h.pitchedLabelPlaneMatrix,h.getElevation).point}if(f){const z=Pi(h.tileAnchorPoint.x+1,h.tileAnchorPoint.y,h).point.sub(T),F=Math.atan(z.y/z.x)+(z.x<0?Math.PI:0);return T.add(_.rotate(F))}return T.add(_)}function zx(T,h,f,_,v,C,P,z,F,$,G,K){const Z=T.text.placedSymbolArray,ie=T.text.dynamicLayoutVertexArray,oe=T.icon.dynamicLayoutVertexArray,fe={};ie.clear();for(let me=0;me<Z.length;me++){const pe=Z.get(me),ye=pe.hidden||!pe.crossTileID||T.allowVerticalPlacement&&!pe.placedOrientation?null:_[pe.crossTileID];if(ye){const Ce=new a.P(pe.anchorX,pe.anchorY),ge={getElevation:K,width:v.width,height:v.height,pitchedLabelPlaneMatrix:C,pitchWithMap:f,transform:v,tileAnchorPoint:Ce,translation:$,unwrappedTileID:G},Se=f?va(Ce.x,Ce.y,ge):Pi(Ce.x,Ce.y,ge),Pe=vn(v.cameraToCenterDistance,Se.signedDistanceFromCamera);let we=a.aA(T.textSizeData,z,pe)*Pe/a.aM;f&&(we*=T.tilePixelRatio/P);const{width:Ie,height:qe,anchor:Ve,textOffset:Ge,textBoxScale:We}=ye,ut=Dx(Ve,Ie,qe,Ge,We,we),dt=v.getPitchedTextCorrection(Ce.x+$[0],Ce.y+$[1],G),rt=Ph(Se.point,ge,h,ut,-v.bearingInRadians,dt),mt=T.allowVerticalPlacement&&pe.placedOrientation===a.az.vertical?Math.PI/2:0;for(let ei=0;ei<pe.numGlyphs;ei++)a.aG(ie,rt,mt);F&&pe.associatedIconIndex>=0&&(fe[pe.associatedIconIndex]={shiftedAnchor:rt,angle:mt})}else bo(pe.numGlyphs,ie)}if(F){oe.clear();const me=T.icon.placedSymbolArray;for(let pe=0;pe<me.length;pe++){const ye=me.get(pe);if(ye.hidden)bo(ye.numGlyphs,oe);else{const Ce=fe[pe];if(Ce)for(let ge=0;ge<ye.numGlyphs;ge++)a.aG(oe,Ce.shiftedAnchor,Ce.angle);else bo(ye.numGlyphs,oe)}}T.icon.dynamicLayoutVertexBuffer.updateData(oe)}T.text.dynamicLayoutVertexBuffer.updateData(ie)}function pg(T,h,f){return f.iconsInText&&h?"symbolTextAndIcon":T?"symbolSDF":"symbolIcon"}function Lh(T,h,f,_,v,C,P,z,F,$,G,K,Z){const ie=T.context,oe=ie.gl,fe=T.transform,me=z==="map",pe=F==="map",ye=z!=="viewport"&&f.layout.get("symbol-placement")!=="point",Ce=me&&!pe&&!ye,ge=!f.layout.get("symbol-sort-key").isConstant();let Se=!1;const Pe=T.getDepthModeForSublayer(0,ni.ReadOnly),we=f._unevaluatedLayout.hasValue("text-variable-anchor")||f._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ie=[],qe=fe.getCircleRadiusCorrection();for(const Ve of _){const Ge=h.getTile(Ve),We=Ge.getBucket(f);if(!We)continue;const ut=v?We.text:We.icon;if(!ut||!ut.segments.get().length||!ut.hasVisibleVertices)continue;const dt=ut.programConfigurations.get(f.id),rt=v||We.sdfIcons,mt=v?We.textSizeData:We.iconSizeData,ei=pe||fe.pitch!==0,Fi=T.useProgram(pg(rt,v,We),dt),Qi=a.ay(mt,fe.zoom),Hi=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Ve);let rn,Gi,kn,sn,ua=[0,0],$n=null;if(v)Gi=Ge.glyphAtlasTexture,kn=oe.LINEAR,rn=Ge.glyphAtlasTexture.size,We.iconsInText&&(ua=Ge.imageAtlasTexture.size,$n=Ge.imageAtlasTexture,sn=ei||T.options.rotating||T.options.zooming||mt.kind==="composite"||mt.kind==="camera"?oe.LINEAR:oe.NEAREST);else{const qi=f.layout.get("icon-size").constantOr(0)!==1||We.iconsNeedLinear;Gi=Ge.imageAtlasTexture,kn=rt||T.options.rotating||T.options.zooming||qi||ei?oe.LINEAR:oe.NEAREST,rn=Ge.imageAtlasTexture.size}const zn=a.aN(Ge,1,T.transform.zoom),ba=pi(me,T.transform,zn),ao=a.N();a.aB(ao,ba);const Rs=la(pe,me,T.transform,zn),ys=a.aO(fe,Ge,C,P),Ja=fe.getProjectionData({overscaledTileID:Ve,applyGlobeMatrix:!Z,applyTerrainMatrix:!0}),Oo=we&&We.hasTextData(),Zh=f.layout.get("icon-text-fit")!=="none"&&Oo&&We.hasIconData();if(ye){const qi=T.style.map.terrain?(na,aa)=>T.style.map.terrain.getElevation(Ve,na,aa):null,Ui=f.layout.get("text-rotation-alignment")==="map";Cr(We,T,v,ba,ao,pe,$,Ui,Ve.toUnwrapped(),fe.width,fe.height,ys,qi)}const Bo=v&&we||Zh,Ir=ye||Bo?bf:pe?ba:T.transform.clipSpaceToPixelsMatrix,xs=rt&&f.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Zr;Zr=rt?We.iconsInText?Mo(mt.kind,Qi,Ce,pe,ye,Bo,T,Ir,Rs,ys,rn,ua,qe):hc(mt.kind,Qi,Ce,pe,ye,Bo,T,Ir,Rs,ys,v,rn,0,qe):ff(mt.kind,Qi,Ce,pe,ye,Bo,T,Ir,Rs,ys,v,rn,qe);const Kr={program:Fi,buffers:ut,uniformValues:Zr,projectionData:Ja,atlasTexture:Gi,atlasTextureIcon:$n,atlasInterpolation:kn,atlasInterpolationIcon:sn,isSDF:rt,hasHalo:xs};if(ge&&We.canOverlap){Se=!0;const qi=ut.segments.get();for(const Ui of qi)Ie.push({segments:new a.aX([Ui]),sortKey:Ui.sortKey,state:Kr,terrainData:Hi})}else Ie.push({segments:ut.segments,sortKey:0,state:Kr,terrainData:Hi})}Se&&Ie.sort(((Ve,Ge)=>Ve.sortKey-Ge.sortKey));for(const Ve of Ie){const Ge=Ve.state;if(ie.activeTexture.set(oe.TEXTURE0),Ge.atlasTexture.bind(Ge.atlasInterpolation,oe.CLAMP_TO_EDGE),Ge.atlasTextureIcon&&(ie.activeTexture.set(oe.TEXTURE1),Ge.atlasTextureIcon&&Ge.atlasTextureIcon.bind(Ge.atlasInterpolationIcon,oe.CLAMP_TO_EDGE)),Ge.isSDF){const We=Ge.uniformValues;Ge.hasHalo&&(We.u_is_halo=1,vc(Ge.buffers,Ve.segments,f,T,Ge.program,Pe,G,K,We,Ge.projectionData,Ve.terrainData)),We.u_is_halo=0}vc(Ge.buffers,Ve.segments,f,T,Ge.program,Pe,G,K,Ge.uniformValues,Ge.projectionData,Ve.terrainData)}}function vc(T,h,f,_,v,C,P,z,F,$,G){const K=_.context;v.draw(K,K.gl.TRIANGLES,C,P,z,mi.backCCW,F,G,$,f.id,T.layoutVertexBuffer,T.indexBuffer,h,f.paint,_.transform.zoom,T.programConfigurations.get(f.id),T.dynamicLayoutVertexBuffer,T.opacityVertexBuffer)}function mg(T,h,f,_,v){const C=T.context,P=C.gl,z=xi.disabled,F=new Vi([P.ONE,P.ONE],a.bp.transparent,[!0,!0,!0,!0]),$=h.getBucket(f);if(!$)return;const G=_.key;let K=f.heatmapFbos.get(G);K||(K=Eh(C,h.tileSize,h.tileSize),f.heatmapFbos.set(G,K)),C.bindFramebuffer.set(K.framebuffer),C.viewport.set([0,0,h.tileSize,h.tileSize]),C.clear({color:a.bp.transparent});const Z=$.programConfigurations.get(f.id),ie=T.useProgram("heatmap",Z,!v),oe=T.transform.getProjectionData({overscaledTileID:h.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),fe=T.style.map.terrain.getTerrainData(_);ie.draw(C,P.TRIANGLES,ni.disabled,z,F,mi.disabled,bl(h,T.transform.zoom,f.paint.get("heatmap-intensity"),1),fe,oe,f.id,$.layoutVertexBuffer,$.indexBuffer,$.segments,f.paint,T.transform.zoom,Z)}function gg(T,h,f,_,v){const C=T.context,P=C.gl,z=T.transform;C.setColorMode(T.colorModeForRenderPass());const F=bc(C,h),$=f.key,G=h.heatmapFbos.get($);if(!G)return;C.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,G.colorAttachment.get()),C.activeTexture.set(P.TEXTURE1),F.bind(P.LINEAR,P.CLAMP_TO_EDGE);const K=z.getProjectionData({overscaledTileID:f,applyTerrainMatrix:v,applyGlobeMatrix:!_});T.useProgram("heatmapTexture").draw(C,P.TRIANGLES,ni.disabled,xi.disabled,T.colorModeForRenderPass(),mi.disabled,ig(T,h,0,1),null,K,h.id,T.rasterBoundsBuffer,T.quadTriangleIndexBuffer,T.rasterBoundsSegments,h.paint,z.zoom),G.destroy(),h.heatmapFbos.delete($)}function Eh(T,h,f){var _,v;const C=T.gl,P=C.createTexture();C.bindTexture(C.TEXTURE_2D,P),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.LINEAR),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.LINEAR);const z=(_=T.HALF_FLOAT)!==null&&_!==void 0?_:C.UNSIGNED_BYTE,F=(v=T.RGBA16F)!==null&&v!==void 0?v:C.RGBA;C.texImage2D(C.TEXTURE_2D,0,F,h,f,0,C.RGBA,z,null);const $=T.createFramebuffer(h,f,!1,!1);return $.colorAttachment.set(P),$}function bc(T,h){return h.colorRampTexture||(h.colorRampTexture=new a.T(T,h.colorRamp,T.gl.RGBA)),h.colorRampTexture}function _g(T,h,f,_,v,C,P,z){let F=256;if(v.stepInterpolant){const $=h.getSource().maxzoom,G=P.canonical.z===$?Math.ceil(1<<T.transform.maxZoom-P.canonical.z):1;F=a.an(a.ce(C.maxLineLength/a.a5*1024*G),256,f.maxTextureSize)}return z.gradient=a.cf({expression:v.gradientExpression(),evaluationKey:"lineProgress",resolution:F,image:z.gradient||void 0,clips:C.lineClipsArray}),z.texture?z.texture.update(z.gradient):z.texture=new a.T(f,z.gradient,_.RGBA),z.version=v.gradientVersion,z.texture}function yg(T,h,f,_,v){T.activeTexture.set(h.TEXTURE0),f.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),_.updatePaintBuffers(v)}function In(T,h,f,_,v,C){(v||T.lineAtlas.dirty)&&(h.activeTexture.set(f.TEXTURE0),T.lineAtlas.bind(h)),_.updatePaintBuffers(C)}function Io(T,h,f,_,v,C,P){const z=C.gradients[v.id];let F=z.texture;v.gradientVersion!==z.version&&(F=_g(T,h,f,_,v,C,P,z)),f.activeTexture.set(_.TEXTURE0),F.bind(v.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}function cr(T,h,f,_,v,C,P,z,F){const $=C.gradients[v.id];let G=$.texture;v.gradientVersion!==$.version&&(G=_g(T,h,f,_,v,C,P,$)),f.activeTexture.set(_.TEXTURE0),G.bind(v.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE),f.activeTexture.set(_.TEXTURE1),T.lineAtlas.bind(f),z.updatePaintBuffers(F)}function wc(T,h,f,_,v){if(!f||!_||!_.imageAtlas)return;const C=_.imageAtlas.patternPositions;let P=C[f.to.toString()],z=C[f.from.toString()];if(!P&&z&&(P=z),!z&&P&&(z=P),!P||!z){const F=v.getPaintProperty(h);P=C[F],z=C[F]}P&&z&&T.setConstantPatternPositions(P,z)}function Ih(T,h,f,_,v,C,P,z){const F=T.context.gl,$="fill-pattern",G=f.paint.get($),K=G&&G.constantOr(1),Z=f.getCrossfadeParameters();let ie,oe,fe,me,pe;const ye=T.transform,Ce=f.paint.get("fill-translate"),ge=f.paint.get("fill-translate-anchor");P?(oe=K&&!f.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ie=F.LINES):(oe=K?"fillPattern":"fill",ie=F.TRIANGLES);const Se=G.constantOr(null);for(const Pe of _){const we=h.getTile(Pe);if(K&&!we.patternsLoaded())continue;const Ie=we.getBucket(f);if(!Ie)continue;const qe=Ie.programConfigurations.get(f.id),Ve=T.useProgram(oe,qe),Ge=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Pe);K&&(T.context.activeTexture.set(F.TEXTURE0),we.imageAtlasTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),qe.updatePaintBuffers(Z)),wc(qe,$,Se,we,f);const We=ye.getProjectionData({overscaledTileID:Pe,applyGlobeMatrix:!z,applyTerrainMatrix:!0}),ut=a.aO(ye,we,Ce,ge);if(P){me=Ie.indexBuffer2,pe=Ie.segments2;const rt=[F.drawingBufferWidth,F.drawingBufferHeight];fe=oe==="fillOutlinePattern"&&K?Qm(T,Z,we,rt,ut):Jm(rt,ut)}else me=Ie.indexBuffer,pe=Ie.segments,fe=K?lf(T,Z,we,ut):{u_fill_translate:ut};const dt=T.stencilModeForClipping(Pe);Ve.draw(T.context,ie,v,dt,C,mi.backCCW,fe,Ge,We,f.id,Ie.layoutVertexBuffer,me,pe,f.paint,T.transform.zoom,qe)}}function kc(T,h,f,_,v,C,P,z){const F=T.context,$=F.gl,G="fill-extrusion-pattern",K=f.paint.get(G),Z=K.constantOr(1),ie=f.getCrossfadeParameters(),oe=f.paint.get("fill-extrusion-opacity"),fe=K.constantOr(null),me=T.transform;for(const pe of _){const ye=h.getTile(pe),Ce=ye.getBucket(f);if(!Ce)continue;const ge=T.style.map.terrain&&T.style.map.terrain.getTerrainData(pe),Se=Ce.programConfigurations.get(f.id),Pe=T.useProgram(Z?"fillExtrusionPattern":"fillExtrusion",Se);Z&&(T.context.activeTexture.set($.TEXTURE0),ye.imageAtlasTexture.bind($.LINEAR,$.CLAMP_TO_EDGE),Se.updatePaintBuffers(ie));const we=me.getProjectionData({overscaledTileID:pe,applyGlobeMatrix:!z,applyTerrainMatrix:!0});wc(Se,G,fe,ye,f);const Ie=a.aO(me,ye,f.paint.get("fill-extrusion-translate"),f.paint.get("fill-extrusion-translate-anchor")),qe=f.paint.get("fill-extrusion-vertical-gradient"),Ve=Z?of(T,qe,oe,Ie,pe,ie,ye):sf(T,qe,oe,Ie);Pe.draw(F,F.gl.TRIANGLES,v,C,P,mi.backCCW,Ve,ge,we,f.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,f.paint,T.transform.zoom,Se,T.style.map.terrain&&Ce.centroidVertexBuffer)}}function eo(T,h,f,_,v,C,P,z,F){var $;const G=T.style.projection,K=T.context,Z=T.transform,ie=K.gl,oe=[`#define NUM_ILLUMINATION_SOURCES ${f.paint.get("hillshade-highlight-color").values.length}`],fe=T.useProgram("hillshade",null,!1,oe),me=!T.options.moving;for(const pe of _){const ye=h.getTile(pe),Ce=ye.fbo;if(!Ce)continue;const ge=G.getMeshFromTileID(K,pe.canonical,z,!0,"raster"),Se=($=T.style.map.terrain)===null||$===void 0?void 0:$.getTerrainData(pe);K.activeTexture.set(ie.TEXTURE0),ie.bindTexture(ie.TEXTURE_2D,Ce.colorAttachment.get());const Pe=Z.getProjectionData({overscaledTileID:pe,aligned:me,applyGlobeMatrix:!F,applyTerrainMatrix:!0});fe.draw(K,ie.TRIANGLES,C,v[pe.overscaledZ],P,mi.backCCW,sc(T,ye,f),Se,Pe,f.id,ge.vertexBuffer,ge.indexBuffer,ge.segments)}}function Dh(T,h,f,_,v,C,P,z,F){var $;const G=T.style.projection,K=T.context,Z=T.transform,ie=K.gl,oe=T.useProgram("colorRelief"),fe=!T.options.moving;let me=!0,pe=0;for(const ye of _){const Ce=h.getTile(ye),ge=Ce.dem;if(me){const Ve=ie.getParameter(ie.MAX_TEXTURE_SIZE),{elevationTexture:Ge,colorTexture:We}=f.getColorRampTextures(K,Ve,ge.getUnpackVector());K.activeTexture.set(ie.TEXTURE1),Ge.bind(ie.NEAREST,ie.CLAMP_TO_EDGE),K.activeTexture.set(ie.TEXTURE4),We.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),me=!1,pe=Ge.size[0]}if(!ge||!ge.data)continue;const Se=ge.stride,Pe=ge.getPixels();if(K.activeTexture.set(ie.TEXTURE0),K.pixelStoreUnpackPremultiplyAlpha.set(!1),Ce.demTexture=Ce.demTexture||T.getTileTexture(Se),Ce.demTexture){const Ve=Ce.demTexture;Ve.update(Pe,{premultiply:!1}),Ve.bind(ie.LINEAR,ie.CLAMP_TO_EDGE)}else Ce.demTexture=new a.T(K,Pe,ie.RGBA,{premultiply:!1}),Ce.demTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE);const we=G.getMeshFromTileID(K,ye.canonical,z,!0,"raster"),Ie=($=T.style.map.terrain)===null||$===void 0?void 0:$.getTerrainData(ye),qe=Z.getProjectionData({overscaledTileID:ye,aligned:fe,applyGlobeMatrix:!F,applyTerrainMatrix:!0});oe.draw(K,ie.TRIANGLES,C,v[ye.overscaledZ],P,mi.backCCW,ng(f,Ce.dem,pe),Ie,qe,f.id,we.vertexBuffer,we.indexBuffer,we.segments)}}const Do=[new a.P(0,0),new a.P(a.a5,0),new a.P(a.a5,a.a5),new a.P(0,a.a5)];function Cl(T,h,f,_,v,C,P,z,F=!1,$=!1){const G=_[_.length-1].overscaledZ,K=T.context,Z=K.gl,ie=T.useProgram("raster"),oe=T.transform,fe=T.style.projection,me=T.colorModeForRenderPass(),pe=!T.options.moving,ye=f.paint.get("raster-opacity"),Ce=f.paint.get("raster-resampling"),ge=f.paint.get("raster-fade-duration"),Se=!!T.style.map.terrain;for(const Pe of _){const we=T.getDepthModeForSublayer(Pe.overscaledZ-G,ye===1?ni.ReadWrite:ni.ReadOnly,Z.LESS),Ie=h.getTile(Pe),qe=Ce==="nearest"?Z.NEAREST:Z.LINEAR;K.activeTexture.set(Z.TEXTURE0),Ie.texture.bind(qe,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),K.activeTexture.set(Z.TEXTURE1);const{parentTile:Ve,parentScaleBy:Ge,parentTopLeft:We,fadeValues:ut}=xg(Ie,h,ge,Se);Ie.fadeOpacity=ut.tileOpacity,Ve?(Ve.fadeOpacity=ut.parentTileOpacity,Ve.texture.bind(qe,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST)):Ie.texture.bind(qe,Z.CLAMP_TO_EDGE,Z.LINEAR_MIPMAP_NEAREST),Ie.texture.useMipmap&&K.extTextureFilterAnisotropic&&T.transform.pitch>20&&Z.texParameterf(Z.TEXTURE_2D,K.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,K.extTextureFilterAnisotropicMax);const dt=T.style.map.terrain&&T.style.map.terrain.getTerrainData(Pe),rt=oe.getProjectionData({overscaledTileID:Pe,aligned:pe,applyGlobeMatrix:!$,applyTerrainMatrix:!0}),mt=cf(We,Ge,ut.fadeMix,f,z),ei=fe.getMeshFromTileID(K,Pe.canonical,C,P,"raster");ie.draw(K,Z.TRIANGLES,we,v?v[Pe.overscaledZ]:xi.disabled,me,F?mi.frontCCW:mi.backCCW,mt,dt,rt,f.id,ei.vertexBuffer,ei.indexBuffer,ei.segments)}}function xg(T,h,f,_){const v={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(f===0||_)return v;if(T.fadingParentID){const C=h.getLoadedTile(T.fadingParentID);if(!C)return v;const P=Math.pow(2,C.tileID.overscaledZ-T.tileID.overscaledZ),z=[T.tileID.canonical.x*P%1,T.tileID.canonical.y*P%1],F=(function($,G,K){const Z=M(),ie=(Z-G.timeAdded)/K,oe=$.fadingDirection===He.Incoming,fe=a.an((Z-$.timeAdded)/K,0,1),me=a.an(1-ie,0,1),pe=oe?fe:me;return{tileOpacity:pe,parentTileOpacity:oe?me:fe,fadeMix:{opacity:1,mix:1-pe}}})(T,C,f);return{parentTile:C,parentScaleBy:P,parentTopLeft:z,fadeValues:F}}if(T.selfFading){const C=(function(P,z){const F=(M()-P.timeAdded)/z,$=a.an(F,0,1);return{tileOpacity:$,fadeMix:{opacity:$,mix:0}}})(T,f);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:C}}return v}const vg=new a.bp(1,0,0,1),bg=new a.bp(0,1,0,1),wg=new a.bp(0,0,1,1),kg=new a.bp(1,0,1,1),to=new a.bp(0,1,1,1);function wf(T,h,f,_){zh(T,0,h+f/2,T.transform.width,f,_)}function kf(T,h,f,_){zh(T,h-f/2,0,f,T.transform.height,_)}function zh(T,h,f,_,v,C){const P=T.context,z=P.gl;z.enable(z.SCISSOR_TEST),z.scissor(h*T.pixelRatio,f*T.pixelRatio,_*T.pixelRatio,v*T.pixelRatio),P.clear({color:C}),z.disable(z.SCISSOR_TEST)}function Sg(T,h,f){const _=T.context,v=_.gl,C=T.useProgram("debug"),P=ni.disabled,z=xi.disabled,F=T.colorModeForRenderPass(),$="$debug",G=T.style.map.terrain&&T.style.map.terrain.getTerrainData(f);_.activeTexture.set(v.TEXTURE0);const K=h.getTileByID(f.key).latestRawTileData,Z=Math.floor((K&&K.byteLength||0)/1024),ie=h.getTile(f).tileSize,oe=512/Math.min(ie,512)*(f.overscaledZ/T.transform.zoom)*.5;let fe=f.canonical.toString();f.overscaledZ!==f.canonical.z&&(fe+=` => ${f.overscaledZ}`),(function(pe,ye){pe.initDebugOverlayCanvas();const Ce=pe.debugOverlayCanvas,ge=pe.context.gl,Se=pe.debugOverlayCanvas.getContext("2d");Se.clearRect(0,0,Ce.width,Ce.height),Se.shadowColor="white",Se.shadowBlur=2,Se.lineWidth=1.5,Se.strokeStyle="white",Se.textBaseline="top",Se.font="bold 36px Open Sans, sans-serif",Se.fillText(ye,5,5),Se.strokeText(ye,5,5),pe.debugOverlayTexture.update(Ce),pe.debugOverlayTexture.bind(ge.LINEAR,ge.CLAMP_TO_EDGE)})(T,`${fe} ${Z}kB`);const me=T.transform.getProjectionData({overscaledTileID:f,applyGlobeMatrix:!0,applyTerrainMatrix:!0});C.draw(_,v.TRIANGLES,P,z,Vi.alphaBlended,mi.disabled,hf(a.bp.transparent,oe),null,me,$,T.debugBuffer,T.quadTriangleIndexBuffer,T.debugSegments),C.draw(_,v.LINE_STRIP,P,z,F,mi.disabled,hf(a.bp.red),G,me,$,T.debugBuffer,T.tileBorderIndexBuffer,T.debugSegments)}function Sf(T,h,f,_){const{isRenderingGlobe:v}=_,C=T.context,P=C.gl,z=T.transform,F=T.colorModeForRenderPass(),$=T.getDepthModeFor3D(),G=T.useProgram("terrain");C.bindFramebuffer.set(null),C.viewport.set([0,0,T.width,T.height]);for(const K of f){const Z=h.getTerrainMesh(K.tileID),ie=T.renderToTexture.getTexture(K),oe=h.getTerrainData(K.tileID);C.activeTexture.set(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,ie.texture);const fe=h.getMeshFrameDelta(z.zoom),me=z.calculateFogMatrix(K.tileID.toUnwrapped()),pe=wx(fe,me,T.style.sky,z.pitch,v),ye=z.getProjectionData({overscaledTileID:K.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});G.draw(C,P.TRIANGLES,$,xi.disabled,F,mi.backCCW,pe,oe,ye,"terrain",Z.vertexBuffer,Z.indexBuffer,Z.segments)}}function Tf(T,h){if(!h.mesh){const f=new a.aW;f.emplaceBack(-1,-1),f.emplaceBack(1,-1),f.emplaceBack(1,1),f.emplaceBack(-1,1);const _=new a.aY;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),h.mesh=new $i(T.createVertexBuffer(f,Zs.members),T.createIndexBuffer(_),a.aX.simpleSegment(0,0,f.length,_.length))}return h.mesh}class Tg{constructor(h,f){this.context=new xc(h),this.transform=f,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:a.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Ti.maxOverzooming+Ti.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Za}resize(h,f,_){if(this.width=Math.floor(h*_),this.height=Math.floor(f*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const h=this.context,f=new a.aW;f.emplaceBack(0,0),f.emplaceBack(a.a5,0),f.emplaceBack(0,a.a5),f.emplaceBack(a.a5,a.a5),this.tileExtentBuffer=h.createVertexBuffer(f,Zs.members),this.tileExtentSegments=a.aX.simpleSegment(0,0,4,2);const _=new a.aW;_.emplaceBack(0,0),_.emplaceBack(a.a5,0),_.emplaceBack(0,a.a5),_.emplaceBack(a.a5,a.a5),this.debugBuffer=h.createVertexBuffer(_,Zs.members),this.debugSegments=a.aX.simpleSegment(0,0,4,5);const v=new a.ch;v.emplaceBack(0,0,0,0),v.emplaceBack(a.a5,0,a.a5,0),v.emplaceBack(0,a.a5,0,a.a5),v.emplaceBack(a.a5,a.a5,a.a5,a.a5),this.rasterBoundsBuffer=h.createVertexBuffer(v,bx.members),this.rasterBoundsSegments=a.aX.simpleSegment(0,0,4,2);const C=new a.aW;C.emplaceBack(0,0),C.emplaceBack(a.a5,0),C.emplaceBack(0,a.a5),C.emplaceBack(a.a5,a.a5),this.rasterBoundsBufferPosOnly=h.createVertexBuffer(C,Zs.members),this.rasterBoundsSegmentsPosOnly=a.aX.simpleSegment(0,0,4,5);const P=new a.aW;P.emplaceBack(0,0),P.emplaceBack(1,0),P.emplaceBack(0,1),P.emplaceBack(1,1),this.viewportBuffer=h.createVertexBuffer(P,Zs.members),this.viewportSegments=a.aX.simpleSegment(0,0,4,2);const z=new a.ci;z.emplaceBack(0),z.emplaceBack(1),z.emplaceBack(3),z.emplaceBack(2),z.emplaceBack(0),this.tileBorderIndexBuffer=h.createIndexBuffer(z);const F=new a.aY;F.emplaceBack(1,0,2),F.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=h.createIndexBuffer(F);const $=this.context.gl;this.stencilClearMode=new xi({func:$.ALWAYS,mask:0},0,255,$.ZERO,$.ZERO,$.ZERO),this.tileExtentMesh=new $i(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const h=this.context,f=h.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=a.N();a.c7(_,0,this.width,this.height,0,0,1),a.Q(_,_,[f.drawingBufferWidth,f.drawingBufferHeight,0]);const v={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(h,f.TRIANGLES,ni.disabled,this.stencilClearMode,Vi.disabled,mi.disabled,null,null,v,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(h,f,_){if(this.currentStencilSource===h.source||!h.isTileClipped()||!f||!f.length)return;this.currentStencilSource=h.source,this.nextStencilID+f.length>256&&this.clearStencil();const v=this.context;v.setColorMode(Vi.disabled),v.setDepthMode(ni.disabled);const C={};for(const P of f)C[P.key]=this.nextStencilID++;this._renderTileMasks(C,f,_,!0),this._renderTileMasks(C,f,_,!1),this._tileClippingMaskIDs=C}_renderTileMasks(h,f,_,v){const C=this.context,P=C.gl,z=this.style.projection,F=this.transform,$=this.useProgram("clippingMask");for(const G of f){const K=h[G.key],Z=this.style.map.terrain&&this.style.map.terrain.getTerrainData(G),ie=z.getMeshFromTileID(this.context,G.canonical,v,!0,"stencil"),oe=F.getProjectionData({overscaledTileID:G,applyGlobeMatrix:!_,applyTerrainMatrix:!0});$.draw(C,P.TRIANGLES,ni.disabled,new xi({func:P.ALWAYS,mask:0},K,255,P.KEEP,P.KEEP,P.REPLACE),Vi.disabled,_?mi.disabled:mi.backCCW,null,Z,oe,"$clipping",ie.vertexBuffer,ie.indexBuffer,ie.segments)}}_renderTilesDepthBuffer(){const h=this.context,f=h.gl,_=this.style.projection,v=this.transform,C=this.useProgram("depth"),P=this.getDepthModeFor3D(),z=Gt(v,{tileSize:v.tileSize});for(const F of z){const $=this.style.map.terrain&&this.style.map.terrain.getTerrainData(F),G=_.getMeshFromTileID(this.context,F.canonical,!0,!0,"raster"),K=v.getProjectionData({overscaledTileID:F,applyGlobeMatrix:!0,applyTerrainMatrix:!0});C.draw(h,f.TRIANGLES,P,xi.disabled,Vi.disabled,mi.backCCW,null,$,K,"$clipping",G.vertexBuffer,G.indexBuffer,G.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const h=this.nextStencilID++,f=this.context.gl;return new xi({func:f.NOTEQUAL,mask:255},h,255,f.KEEP,f.KEEP,f.REPLACE)}stencilModeForClipping(h){const f=this.context.gl;return new xi({func:f.EQUAL,mask:255},this._tileClippingMaskIDs[h.key],0,f.KEEP,f.KEEP,f.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(h){const f=this.context.gl,_=h.sort(((P,z)=>z.overscaledZ-P.overscaledZ)),v=_[_.length-1].overscaledZ,C=_[0].overscaledZ-v+1;if(C>1){this.currentStencilSource=void 0,this.nextStencilID+C>256&&this.clearStencil();const P={};for(let z=0;z<C;z++)P[z+v]=new xi({func:f.GEQUAL,mask:255},z+this.nextStencilID,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID+=C,[P,_]}return[{[v]:xi.disabled},_]}stencilConfigForOverlapTwoPass(h){const f=this.context.gl,_=h.sort(((P,z)=>z.overscaledZ-P.overscaledZ)),v=_[_.length-1].overscaledZ,C=_[0].overscaledZ-v+1;if(this.clearStencil(),C>1){const P={},z={};for(let F=0;F<C;F++)P[F+v]=new xi({func:f.GREATER,mask:255},C+1+F,255,f.KEEP,f.KEEP,f.REPLACE),z[F+v]=new xi({func:f.GREATER,mask:255},1+F,255,f.KEEP,f.KEEP,f.REPLACE);return this.nextStencilID=2*C+1,[P,z,_]}return this.nextStencilID=3,[{[v]:new xi({func:f.GREATER,mask:255},2,255,f.KEEP,f.KEEP,f.REPLACE)},{[v]:new xi({func:f.GREATER,mask:255},1,255,f.KEEP,f.KEEP,f.REPLACE)},_]}colorModeForRenderPass(){const h=this.context.gl;return this._showOverdrawInspector?new Vi([h.CONSTANT_COLOR,h.ONE],new a.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Vi.unblended:Vi.alphaBlended}getDepthModeForSublayer(h,f,_){if(!this.opaquePassEnabledForLayer())return ni.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+h)*this.depthEpsilon;return new ni(_||this.context.gl.LEQUAL,f,[v,v])}getDepthModeFor3D(){return new ni(this.context.gl.LEQUAL,ni.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(h,f){var _,v;this.style=h,this.options=f,this.lineAtlas=h.lineAtlas,this.imageManager=h.imageManager,this.glyphManager=h.glyphManager,this.symbolFadeChange=h.placement.symbolFadeChange(M()),this.imageManager.beginFrame();const C=this.style._order,P=this.style.tileManagers,z={},F={},$={},G={isRenderingToTexture:!1,isRenderingGlobe:((_=h.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const Z in P){const ie=P[Z];ie.used&&ie.prepare(this.context),z[Z]=ie.getVisibleCoordinates(!1),F[Z]=z[Z].slice().reverse(),$[Z]=ie.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Z=0;Z<C.length;Z++)if(this.style._layers[C[Z]].is3D()){this.opaquePassCutoff=Z;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Z of C){const ie=this.style._layers[Z];if(!ie.hasOffscreenPass()||ie.isHidden(this.transform.zoom))continue;const oe=F[ie.source];(ie.type==="custom"||oe.length)&&this.renderLayer(this,P[ie.source],ie,oe,G)}if((v=this.style.projection)===null||v===void 0||v.updateGPUdependent({context:this.context,useProgram:Z=>this.useProgram(Z)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:f.showOverdrawInspector?a.bp.black:a.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(Z,ie){const oe=Z.context,fe=oe.gl,me=((Pe,we,Ie)=>{const qe=Math.cos(we.rollInRadians),Ve=Math.sin(we.rollInRadians),Ge=li(we),We=we.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Pe.properties.get("sky-color"),u_horizon_color:Pe.properties.get("horizon-color"),u_horizon:[(we.width/2-Ge*Ve)*Ie,(we.height/2+Ge*qe)*Ie],u_horizon_normal:[-Ve,qe],u_sky_horizon_blend:Pe.properties.get("sky-horizon-blend")*we.height/2*Ie,u_sky_blend:We}})(ie,Z.style.map.transform,Z.pixelRatio),pe=new ni(fe.LEQUAL,ni.ReadWrite,[0,1]),ye=xi.disabled,Ce=Z.colorModeForRenderPass(),ge=Z.useProgram("sky"),Se=Tf(oe,ie);ge.draw(oe,fe.TRIANGLES,pe,ye,Ce,mi.disabled,me,null,void 0,"sky",Se.vertexBuffer,Se.indexBuffer,Se.segments)})(this,this.style.sky),this._showOverdrawInspector=f.showOverdrawInspector,this.depthRangeFor3D=[0,1-(h._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const Z=this.style._layers[C[this.currentLayer]],ie=P[Z.source],oe=z[Z.source];this._renderTileClippingMasks(Z,oe,!1),this.renderLayer(this,ie,Z,oe,G)}this.renderPass="translucent";let K=!1;for(this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const Z=this.style._layers[C[this.currentLayer]],ie=P[Z.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Z,G))continue;this.opaquePassEnabledForLayer()||K||(K=!0,G.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const oe=(Z.type==="symbol"?$:F)[Z.source];this._renderTileClippingMasks(Z,z[Z.source],!!this.renderToTexture),this.renderLayer(this,ie,Z,oe,G)}if(G.isRenderingGlobe&&(function(Z,ie,oe){const fe=Z.context,me=fe.gl,pe=Z.useProgram("atmosphere"),ye=new ni(me.LEQUAL,ni.ReadOnly,[0,1]),Ce=Z.transform,ge=(function(We,ut){const dt=We.properties.get("position"),rt=[-dt.x,-dt.y,-dt.z],mt=a.ar(new Float64Array(16));return We.properties.get("anchor")==="map"&&(a.bg(mt,mt,ut.rollInRadians),a.bh(mt,mt,-ut.pitchInRadians),a.bg(mt,mt,ut.bearingInRadians),a.bh(mt,mt,ut.center.lat*Math.PI/180),a.bJ(mt,mt,-ut.center.lng*Math.PI/180)),a.cg(rt,rt,mt),rt})(oe,Z.transform),Se=Ce.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Pe=ie.properties.get("atmosphere-blend")*Se.projectionTransition;if(Pe===0)return;const we=To(Ce.worldSize,Ce.center.lat),Ie=Ce.inverseProjectionMatrix,qe=new Float64Array(4);qe[3]=1,a.aH(qe,qe,Ce.modelViewProjectionMatrix),qe[0]/=qe[3],qe[1]/=qe[3],qe[2]/=qe[3],qe[3]=1,a.aH(qe,qe,Ie),qe[0]/=qe[3],qe[1]/=qe[3],qe[2]/=qe[3],qe[3]=1;const Ve=((We,ut,dt,rt,mt)=>({u_sun_pos:We,u_atmosphere_blend:ut,u_globe_position:dt,u_globe_radius:rt,u_inv_proj_matrix:mt}))(ge,Pe,[qe[0],qe[1],qe[2]],we,Ie),Ge=Tf(fe,ie);pe.draw(fe,me.TRIANGLES,ye,xi.disabled,Vi.alphaBlended,mi.disabled,Ve,null,null,"atmosphere",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Z=(function(ie,oe){let fe=null;const me=Object.values(ie._layers).flatMap((ge=>ge.source&&!ge.isHidden(oe)?[ie.tileManagers[ge.source]]:[])),pe=me.filter((ge=>ge.getSource().type==="vector")),ye=me.filter((ge=>ge.getSource().type!=="vector")),Ce=ge=>{(!fe||fe.getSource().maxzoom<ge.getSource().maxzoom)&&(fe=ge)};return pe.forEach((ge=>Ce(ge))),fe||ye.forEach((ge=>Ce(ge))),fe})(this.style,this.transform.zoom);Z&&(function(ie,oe,fe){for(let me=0;me<fe.length;me++)Sg(ie,oe,fe[me])})(this,Z,Z.getVisibleCoordinates())}this.options.showPadding&&(function(Z){const ie=Z.transform.padding;wf(Z,Z.transform.height-(ie.top||0),3,vg),wf(Z,ie.bottom||0,3,bg),kf(Z,ie.left||0,3,wg),kf(Z,Z.transform.width-(ie.right||0),3,kg);const oe=Z.transform.centerPoint;(function(fe,me,pe,ye){zh(fe,me-1,pe-10,2,20,ye),zh(fe,me-10,pe-1,20,2,ye)})(Z,oe.x,Z.transform.height-oe.y,to)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(h){if(!this.style||!this.style.map||!this.style.map.terrain)return;const f=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let v=this.terrainFacilitator.dirty;v||(v=h?!a.cj(f,_):!a.ck(f,_)),v||(v=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),v&&(a.cl(f,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(C,P){const z=C.context,F=z.gl,$=C.transform,G=Vi.unblended,K=new ni(F.LEQUAL,ni.ReadWrite,[0,1]),Z=P.tileManager.getRenderableTiles(),ie=C.useProgram("terrainDepth");z.bindFramebuffer.set(P.getFramebuffer("depth").framebuffer),z.viewport.set([0,0,C.width/devicePixelRatio,C.height/devicePixelRatio]),z.clear({color:a.bp.transparent,depth:1});for(const oe of Z){const fe=P.getTerrainMesh(oe.tileID),me=P.getTerrainData(oe.tileID),pe=$.getProjectionData({overscaledTileID:oe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),ye={u_ele_delta:P.getMeshFrameDelta($.zoom)};ie.draw(z,F.TRIANGLES,K,xi.disabled,G,mi.backCCW,ye,me,pe,"terrain",fe.vertexBuffer,fe.indexBuffer,fe.segments)}z.bindFramebuffer.set(null),z.viewport.set([0,0,C.width,C.height])})(this,this.style.map.terrain),(function(C,P){const z=C.context,F=z.gl,$=C.transform,G=Vi.unblended,K=new ni(F.LEQUAL,ni.ReadWrite,[0,1]),Z=P.getCoordsTexture(),ie=P.tileManager.getRenderableTiles(),oe=C.useProgram("terrainCoords");z.bindFramebuffer.set(P.getFramebuffer("coords").framebuffer),z.viewport.set([0,0,C.width/devicePixelRatio,C.height/devicePixelRatio]),z.clear({color:a.bp.transparent,depth:1}),P.coordsIndex=[];for(const fe of ie){const me=P.getTerrainMesh(fe.tileID),pe=P.getTerrainData(fe.tileID);z.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,Z.texture);const ye={u_terrain_coords_id:(255-P.coordsIndex.length)/255,u_texture:0,u_ele_delta:P.getMeshFrameDelta($.zoom)},Ce=$.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});oe.draw(z,F.TRIANGLES,K,xi.disabled,G,mi.backCCW,ye,pe,Ce,"terrain",me.vertexBuffer,me.indexBuffer,me.segments),P.coordsIndex.push(fe.tileID.key)}z.bindFramebuffer.set(null),z.viewport.set([0,0,C.width,C.height])})(this,this.style.map.terrain))}renderLayer(h,f,_,v,C){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(v||[]).length)&&(this.id=_.id,a.cm(_)?(function(P,z,F,$,G,K){if(P.renderPass!=="translucent")return;const{isRenderingToTexture:Z}=K,ie=xi.disabled,oe=P.colorModeForRenderPass();(F._unevaluatedLayout.hasValue("text-variable-anchor")||F._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(fe,me,pe,ye,Ce,ge,Se,Pe,we){const Ie=me.transform,qe=me.style.map.terrain,Ve=Ce==="map",Ge=ge==="map";for(const We of fe){const ut=ye.getTile(We),dt=ut.getBucket(pe);if(!dt||!dt.text||!dt.text.segments.get().length)continue;const rt=a.ay(dt.textSizeData,Ie.zoom),mt=a.aN(ut,1,me.transform.zoom),ei=pi(Ve,me.transform,mt),Fi=pe.layout.get("icon-text-fit")!=="none"&&dt.hasIconData();if(rt){const Qi=Math.pow(2,Ie.zoom-ut.tileID.overscaledZ),Hi=qe?(rn,Gi)=>qe.getElevation(We,rn,Gi):null;zx(dt,Ve,Ge,we,Ie,ei,Qi,rt,Fi,a.aO(Ie,ut,Se,Pe),We.toUnwrapped(),Hi)}}})($,P,F,z,F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),G),F.paint.get("icon-opacity").constantOr(1)!==0&&Lh(P,z,F,$,!1,F.paint.get("icon-translate"),F.paint.get("icon-translate-anchor"),F.layout.get("icon-rotation-alignment"),F.layout.get("icon-pitch-alignment"),F.layout.get("icon-keep-upright"),ie,oe,Z),F.paint.get("text-opacity").constantOr(1)!==0&&Lh(P,z,F,$,!0,F.paint.get("text-translate"),F.paint.get("text-translate-anchor"),F.layout.get("text-rotation-alignment"),F.layout.get("text-pitch-alignment"),F.layout.get("text-keep-upright"),ie,oe,Z),z.map.showCollisionBoxes&&(Eo(P,z,F,$,!0),Eo(P,z,F,$,!1))})(h,f,_,v,this.style.placement.variableOffsets,C):a.cn(_)?(function(P,z,F,$,G){if(P.renderPass!=="translucent")return;const{isRenderingToTexture:K}=G,Z=F.paint.get("circle-opacity"),ie=F.paint.get("circle-stroke-width"),oe=F.paint.get("circle-stroke-opacity"),fe=!F.layout.get("circle-sort-key").isConstant();if(Z.constantOr(1)===0&&(ie.constantOr(1)===0||oe.constantOr(1)===0))return;const me=P.context,pe=me.gl,ye=P.transform,Ce=P.getDepthModeForSublayer(0,ni.ReadOnly),ge=xi.disabled,Se=P.colorModeForRenderPass(),Pe=[],we=ye.getCircleRadiusCorrection();for(let Ie=0;Ie<$.length;Ie++){const qe=$[Ie],Ve=z.getTile(qe),Ge=Ve.getBucket(F);if(!Ge)continue;const We=F.paint.get("circle-translate"),ut=F.paint.get("circle-translate-anchor"),dt=a.aO(ye,Ve,We,ut),rt=Ge.programConfigurations.get(F.id),mt=P.useProgram("circle",rt),ei=Ge.layoutVertexBuffer,Fi=Ge.indexBuffer,Qi=P.style.map.terrain&&P.style.map.terrain.getTerrainData(qe),Hi={programConfiguration:rt,program:mt,layoutVertexBuffer:ei,indexBuffer:Fi,uniformValues:eg(P,Ve,F,dt,we),terrainData:Qi,projectionData:ye.getProjectionData({overscaledTileID:qe,applyGlobeMatrix:!K,applyTerrainMatrix:!0})};if(fe){const rn=Ge.segments.get();for(const Gi of rn)Pe.push({segments:new a.aX([Gi]),sortKey:Gi.sortKey,state:Hi})}else Pe.push({segments:Ge.segments,sortKey:0,state:Hi})}fe&&Pe.sort(((Ie,qe)=>Ie.sortKey-qe.sortKey));for(const Ie of Pe){const{programConfiguration:qe,program:Ve,layoutVertexBuffer:Ge,indexBuffer:We,uniformValues:ut,terrainData:dt,projectionData:rt}=Ie.state;Ve.draw(me,pe.TRIANGLES,Ce,ge,Se,mi.backCCW,ut,dt,rt,F.id,Ge,We,Ie.segments,F.paint,P.transform.zoom,qe)}})(h,f,_,v,C):a.co(_)?(function(P,z,F,$,G){if(F.paint.get("heatmap-opacity")===0)return;const K=P.context,{isRenderingToTexture:Z,isRenderingGlobe:ie}=G;if(P.style.map.terrain){for(const oe of $){const fe=z.getTile(oe);z.hasRenderableParent(oe)||(P.renderPass==="offscreen"?mg(P,fe,F,oe,ie):P.renderPass==="translucent"&&gg(P,F,oe,Z,ie))}K.viewport.set([0,0,P.width,P.height])}else P.renderPass==="offscreen"?(function(oe,fe,me,pe){const ye=oe.context,Ce=ye.gl,ge=oe.transform,Se=xi.disabled,Pe=new Vi([Ce.ONE,Ce.ONE],a.bp.transparent,[!0,!0,!0,!0]);(function(we,Ie,qe){const Ve=we.gl;we.activeTexture.set(Ve.TEXTURE1),we.viewport.set([0,0,Ie.width/4,Ie.height/4]);let Ge=qe.heatmapFbos.get(a.cd);Ge?(Ve.bindTexture(Ve.TEXTURE_2D,Ge.colorAttachment.get()),we.bindFramebuffer.set(Ge.framebuffer)):(Ge=Eh(we,Ie.width/4,Ie.height/4),qe.heatmapFbos.set(a.cd,Ge))})(ye,oe,me),ye.clear({color:a.bp.transparent});for(let we=0;we<pe.length;we++){const Ie=pe[we];if(fe.hasRenderableParent(Ie))continue;const qe=fe.getTile(Ie),Ve=qe.getBucket(me);if(!Ve)continue;const Ge=Ve.programConfigurations.get(me.id),We=oe.useProgram("heatmap",Ge),ut=ge.getProjectionData({overscaledTileID:Ie,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),dt=ge.getCircleRadiusCorrection();We.draw(ye,Ce.TRIANGLES,ni.disabled,Se,Pe,mi.backCCW,bl(qe,ge.zoom,me.paint.get("heatmap-intensity"),dt),null,ut,me.id,Ve.layoutVertexBuffer,Ve.indexBuffer,Ve.segments,me.paint,ge.zoom,Ge)}ye.viewport.set([0,0,oe.width,oe.height])})(P,z,F,$):P.renderPass==="translucent"&&(function(oe,fe){const me=oe.context,pe=me.gl;me.setColorMode(oe.colorModeForRenderPass());const ye=fe.heatmapFbos.get(a.cd);ye&&(me.activeTexture.set(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,ye.colorAttachment.get()),me.activeTexture.set(pe.TEXTURE1),bc(me,fe).bind(pe.LINEAR,pe.CLAMP_TO_EDGE),oe.useProgram("heatmapTexture").draw(me,pe.TRIANGLES,ni.disabled,xi.disabled,oe.colorModeForRenderPass(),mi.disabled,ig(oe,fe,0,1),null,null,fe.id,oe.viewportBuffer,oe.quadTriangleIndexBuffer,oe.viewportSegments,fe.paint,oe.transform.zoom))})(P,F)})(h,f,_,v,C):a.cp(_)?(function(P,z,F,$,G){if(P.renderPass!=="translucent")return;const{isRenderingToTexture:K}=G,Z=F.paint.get("line-opacity"),ie=F.paint.get("line-width");if(Z.constantOr(1)===0||ie.constantOr(1)===0)return;const oe=P.getDepthModeForSublayer(0,ni.ReadOnly),fe=P.colorModeForRenderPass(),me=F.paint.get("line-dasharray"),pe=me.constantOr(1),ye=F.paint.get("line-pattern"),Ce=ye.constantOr(1),ge=F.paint.get("line-gradient"),Se=F.getCrossfadeParameters();let Pe;Pe=Ce?"linePattern":pe&&ge?"lineGradientSDF":pe?"lineSDF":ge?"lineGradient":"line";const we=P.context,Ie=we.gl,qe=P.transform;let Ve=!0;for(const Ge of $){const We=z.getTile(Ge);if(Ce&&!We.patternsLoaded())continue;const ut=We.getBucket(F);if(!ut)continue;const dt=ut.programConfigurations.get(F.id),rt=P.context.program.get(),mt=P.useProgram(Pe,dt),ei=Ve||mt.program!==rt,Fi=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Ge),Qi=ye.constantOr(null),Hi=me&&me.constantOr(null);if(Qi&&We.imageAtlas){const ua=We.imageAtlas,$n=ua.patternPositions[Qi.to.toString()],zn=ua.patternPositions[Qi.from.toString()];$n&&zn&&dt.setConstantPatternPositions($n,zn)}else if(Hi){const ua=F.layout.get("line-cap")==="round",$n=P.lineAtlas.getDash(Hi.to,ua),zn=P.lineAtlas.getDash(Hi.from,ua);dt.setConstantDashPositions($n,zn)}const rn=qe.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!K,applyTerrainMatrix:!0}),Gi=qe.getPixelScale();let kn;Ce?(kn=uf(P,We,F,Gi,Se),yg(we,Ie,We,dt,Se)):pe&&ge?(kn=oc(P,We,F,Gi,Se,ut.lineClipsArray.length),cr(P,z,we,Ie,F,ut,Ge,dt,Se)):pe?(kn=rg(P,We,F,Gi,Se),In(P,we,Ie,dt,ei,Se)):ge?(kn=ag(P,We,F,Gi,ut.lineClipsArray.length),Io(P,z,we,Ie,F,ut,Ge)):kn=Sh(P,We,F,Gi);const sn=P.stencilModeForClipping(Ge);mt.draw(we,Ie.TRIANGLES,oe,sn,fe,mi.disabled,kn,Fi,rn,F.id,ut.layoutVertexBuffer,ut.indexBuffer,ut.segments,F.paint,P.transform.zoom,dt,ut.layoutVertexBuffer2),Ve=!1}})(h,f,_,v,C):a.cq(_)?(function(P,z,F,$,G){const K=F.paint.get("fill-color"),Z=F.paint.get("fill-opacity");if(Z.constantOr(1)===0)return;const{isRenderingToTexture:ie}=G,oe=P.colorModeForRenderPass(),fe=F.paint.get("fill-pattern"),me=P.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&K.constantOr(a.bp.transparent).a===1&&Z.constantOr(0)===1?"opaque":"translucent";if(P.renderPass===me){const pe=P.getDepthModeForSublayer(1,P.renderPass==="opaque"?ni.ReadWrite:ni.ReadOnly);Ih(P,z,F,$,pe,oe,!1,ie)}if(P.renderPass==="translucent"&&F.paint.get("fill-antialias")){const pe=P.getDepthModeForSublayer(F.getPaintProperty("fill-outline-color")?2:0,ni.ReadOnly);Ih(P,z,F,$,pe,oe,!0,ie)}})(h,f,_,v,C):a.cr(_)?(function(P,z,F,$,G){const K=F.paint.get("fill-extrusion-opacity");if(K===0)return;const{isRenderingToTexture:Z}=G;if(P.renderPass==="translucent"){const ie=new ni(P.context.gl.LEQUAL,ni.ReadWrite,P.depthRangeFor3D);if(K!==1||F.paint.get("fill-extrusion-pattern").constantOr(1))kc(P,z,F,$,ie,xi.disabled,Vi.disabled,Z),kc(P,z,F,$,ie,P.stencilModeFor3D(),P.colorModeForRenderPass(),Z);else{const oe=P.colorModeForRenderPass();kc(P,z,F,$,ie,xi.disabled,oe,Z)}}})(h,f,_,v,C):a.cs(_)?(function(P,z,F,$,G){if(P.renderPass!=="offscreen"&&P.renderPass!=="translucent")return;const{isRenderingToTexture:K}=G,Z=P.context,ie=P.style.projection.useSubdivision,oe=P.getDepthModeForSublayer(0,ni.ReadOnly),fe=P.colorModeForRenderPass();if(P.renderPass==="offscreen")(function(me,pe,ye,Ce,ge,Se,Pe){const we=me.context,Ie=we.gl;for(const qe of ye){const Ve=pe.getTile(qe),Ge=Ve.dem;if(!Ge||!Ge.data||!Ve.needsHillshadePrepare)continue;const We=Ge.dim,ut=Ge.stride,dt=Ge.getPixels();if(we.activeTexture.set(Ie.TEXTURE1),we.pixelStoreUnpackPremultiplyAlpha.set(!1),Ve.demTexture=Ve.demTexture||me.getTileTexture(ut),Ve.demTexture){const mt=Ve.demTexture;mt.update(dt,{premultiply:!1}),mt.bind(Ie.NEAREST,Ie.CLAMP_TO_EDGE)}else Ve.demTexture=new a.T(we,dt,Ie.RGBA,{premultiply:!1}),Ve.demTexture.bind(Ie.NEAREST,Ie.CLAMP_TO_EDGE);we.activeTexture.set(Ie.TEXTURE0);let rt=Ve.fbo;if(!rt){const mt=new a.T(we,{width:We,height:We,data:null},Ie.RGBA);mt.bind(Ie.LINEAR,Ie.CLAMP_TO_EDGE),rt=Ve.fbo=we.createFramebuffer(We,We,!0,!1),rt.colorAttachment.set(mt.texture)}we.bindFramebuffer.set(rt.framebuffer),we.viewport.set([0,0,We,We]),me.useProgram("hillshadePrepare").draw(we,Ie.TRIANGLES,ge,Se,Pe,mi.disabled,kx(Ve.tileID,Ge),null,null,Ce.id,me.rasterBoundsBuffer,me.quadTriangleIndexBuffer,me.rasterBoundsSegments),Ve.needsHillshadePrepare=!1}})(P,z,$,F,oe,xi.disabled,fe),Z.viewport.set([0,0,P.width,P.height]);else if(P.renderPass==="translucent")if(ie){const[me,pe,ye]=P.stencilConfigForOverlapTwoPass($);eo(P,z,F,ye,me,oe,fe,!1,K),eo(P,z,F,ye,pe,oe,fe,!0,K)}else{const[me,pe]=P.getStencilConfigForOverlapAndUpdateStencilID($);eo(P,z,F,pe,me,oe,fe,!1,K)}})(h,f,_,v,C):a.ct(_)?(function(P,z,F,$,G){if(P.renderPass!=="translucent"||!$.length)return;const{isRenderingToTexture:K}=G,Z=P.style.projection.useSubdivision,ie=P.getDepthModeForSublayer(0,ni.ReadOnly),oe=P.colorModeForRenderPass();if(Z){const[fe,me,pe]=P.stencilConfigForOverlapTwoPass($);Dh(P,z,F,pe,fe,ie,oe,!1,K),Dh(P,z,F,pe,me,ie,oe,!0,K)}else{const[fe,me]=P.getStencilConfigForOverlapAndUpdateStencilID($);Dh(P,z,F,me,fe,ie,oe,!1,K)}})(h,f,_,v,C):a.bU(_)?(function(P,z,F,$,G){if(P.renderPass!=="translucent"||F.paint.get("raster-opacity")===0||!$.length)return;const{isRenderingToTexture:K}=G,Z=z.getSource(),ie=P.style.projection.useSubdivision;if(Z instanceof Mi)Cl(P,z,F,$,null,!1,!1,Z.tileCoords,Z.flippedWindingOrder,K);else if(ie){const[oe,fe,me]=P.stencilConfigForOverlapTwoPass($);Cl(P,z,F,me,oe,!1,!0,Do,!1,K),Cl(P,z,F,me,fe,!0,!0,Do,!1,K)}else{const[oe,fe]=P.getStencilConfigForOverlapAndUpdateStencilID($);Cl(P,z,F,fe,oe,!1,!0,Do,!1,K)}})(h,f,_,v,C):a.cu(_)?(function(P,z,F,$,G){const K=F.paint.get("background-color"),Z=F.paint.get("background-opacity");if(Z===0)return;const{isRenderingToTexture:ie}=G,oe=P.context,fe=oe.gl,me=P.style.projection,pe=P.transform,ye=pe.tileSize,Ce=F.paint.get("background-pattern");if(P.isPatternMissing(Ce))return;const ge=!Ce&&K.a===1&&Z===1&&P.opaquePassEnabledForLayer()?"opaque":"translucent";if(P.renderPass!==ge)return;const Se=xi.disabled,Pe=P.getDepthModeForSublayer(0,ge==="opaque"?ni.ReadWrite:ni.ReadOnly),we=P.colorModeForRenderPass(),Ie=P.useProgram(Ce?"backgroundPattern":"background"),qe=$||Gt(pe,{tileSize:ye,terrain:P.style.map.terrain});Ce&&(oe.activeTexture.set(fe.TEXTURE0),P.imageManager.bind(P.context));const Ve=F.getCrossfadeParameters();for(const Ge of qe){const We=pe.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!ie,applyTerrainMatrix:!0}),ut=Ce?Tx(Z,P,Ce,{tileID:Ge,tileSize:ye},Ve):pf(Z,K),dt=P.style.map.terrain&&P.style.map.terrain.getTerrainData(Ge),rt=me.getMeshFromTileID(oe,Ge.canonical,!1,!0,"raster");Ie.draw(oe,fe.TRIANGLES,Pe,Se,we,mi.backCCW,ut,dt,We,F.id,rt.vertexBuffer,rt.indexBuffer,rt.segments)}})(h,0,_,v,C):a.cv(_)&&(function(P,z,F,$){const{isRenderingGlobe:G}=$,K=P.context,Z=F.implementation,ie=P.style.projection,oe=P.transform,fe=oe.getProjectionDataForCustomLayer(G),me={farZ:oe.farZ,nearZ:oe.nearZ,fov:oe.fov*Math.PI/180,modelViewProjectionMatrix:oe.modelViewProjectionMatrix,projectionMatrix:oe.projectionMatrix,shaderData:{variantName:ie.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ie.shaderPreludeCode.vertexSource}`,define:ie.shaderDefine},defaultProjectionData:fe},pe=Z.renderingMode?Z.renderingMode:"2d";if(P.renderPass==="offscreen"){const ye=Z.prerender;ye&&(P.setCustomLayerDefaults(),K.setColorMode(P.colorModeForRenderPass()),ye.call(Z,K.gl,me),K.setDirty(),P.setBaseState())}else if(P.renderPass==="translucent"){P.setCustomLayerDefaults(),K.setColorMode(P.colorModeForRenderPass()),K.setStencilMode(xi.disabled);const ye=pe==="3d"?P.getDepthModeFor3D():P.getDepthModeForSublayer(0,ni.ReadOnly);K.setDepthMode(ye),Z.render(K.gl,me),K.setDirty(),P.setBaseState(),K.bindFramebuffer.set(null)}})(h,0,_,C))}saveTileTexture(h){const f=this._tileTextures[h.size[0]];f?f.push(h):this._tileTextures[h.size[0]]=[h]}getTileTexture(h){const f=this._tileTextures[h];return f&&f.length>0?f.pop():null}isPatternMissing(h){if(!h)return!1;if(!h.from||!h.to)return!0;const f=this.imageManager.getPattern(h.from.toString()),_=this.imageManager.getPattern(h.to.toString());return!f||!_}useProgram(h,f,_=!1,v=[]){this.cache=this.cache||{};const C=!!this.style.map.terrain,P=this.style.projection,z=_?fn.projectionMercator:P.shaderPreludeCode,F=_?ja:P.shaderDefine,$=h+(f?f.cacheKey:"")+`/${_?ur:P.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(C?"/terrain":"")+(v?`/${v.join("/")}`:"");return this.cache[$]||(this.cache[$]=new Zm(this.context,fn[h],f,Cx[h],this._showOverdrawInspector,C,z,F,v)),this.cache[$]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const h=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(h.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var h,f;if(this._tileTextures){for(const _ in this._tileTextures){const v=this._tileTextures[_];if(v)for(const C of v)C.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((h=this.tileExtentMesh.vertexBuffer)===null||h===void 0||h.destroy()),this.tileExtentMesh&&((f=this.tileExtentMesh.indexBuffer)===null||f===void 0||f.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const _ in this.cache){const v=this.cache[_];v&&v.program&&this.context.gl.deleteProgram(v.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:h,drawingBufferHeight:f}=this.context.gl;return this.width!==h||this.height!==f}}function Cf(T,h){let f,_=!1,v=null,C=null;const P=()=>{v=null,_&&(T.apply(C,f),v=setTimeout(P,h),_=!1)};return(...z)=>(_=!0,C=this,f=z,v||P(),v)}class Af{constructor(h){this._getCurrentHash=()=>{const f=window.location.hash.replace("#","");if(this._hashName){let _;return f.split("&").map((v=>v.split("="))).forEach((v=>{v[0]===this._hashName&&(_=v)})),(_&&_[1]||"").split("/")}return f.split("/")},this._onHashChange=()=>{const f=this._getCurrentHash();if(!this._isValidHash(f))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(f[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+f[2],+f[1]],zoom:+f[0],bearing:_,pitch:+(f[4]||0)}),!0},this._updateHashUnthrottled=()=>{const f=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,f)},this._removeHash=()=>{const f=this._getCurrentHash();if(f.length===0)return;const _=f.join("/");let v=_;v.split("&").length>0&&(v=v.split("&")[0]),this._hashName&&(v=`${this._hashName}=${_}`);let C=window.location.hash.replace(v,"");C.startsWith("#&")?C=C.slice(0,1)+C.slice(2):C==="#"&&(C="");let P=window.location.href.replace(/(#.+)?$/,C);P=P.replace("&&","&"),window.history.replaceState(window.history.state,null,P)},this._updateHash=Cf(this._updateHashUnthrottled,300),this._hashName=h&&encodeURIComponent(h)}addTo(h){return this._map=h,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(h){const f=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,v=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),C=Math.pow(10,v),P=Math.round(f.lng*C)/C,z=Math.round(f.lat*C)/C,F=this._map.getBearing(),$=this._map.getPitch();let G="";if(G+=h?`/${P}/${z}/${_}`:`${_}/${z}/${P}`,(F||$)&&(G+="/"+Math.round(10*F)/10),$&&(G+=`/${Math.round($)}`),this._hashName){const K=this._hashName;let Z=!1;const ie=window.location.hash.slice(1).split("&").map((oe=>{const fe=oe.split("=")[0];return fe===K?(Z=!0,`${fe}=${G}`):oe})).filter((oe=>oe));return Z||ie.push(`${K}=${G}`),`#${ie.join("&")}`}return`#${G}`}_isValidHash(h){if(h.length<3||h.some(isNaN))return!1;try{new a.V(+h[2],+h[1])}catch{return!1}const f=+h[0],_=+(h[3]||0),v=+(h[4]||0);return f>=this._map.getMinZoom()&&f<=this._map.getMaxZoom()&&_>=-180&&_<=180&&v>=this._map.getMinPitch()&&v<=this._map.getMaxPitch()}}const io={linearity:.3,easing:a.cw(0,0,.3,1)},Cg=a.e({deceleration:2500,maxSpeed:1400},io),Lr=a.e({deceleration:20,maxSpeed:1400},io),Wr=a.e({deceleration:1e3,maxSpeed:360},io),Ag=a.e({deceleration:1e3,maxSpeed:90},io),Xr=a.e({deceleration:1e3,maxSpeed:360},io);class Rx{constructor(h){this._map=h,this.clear()}clear(){this._inertiaBuffer=[]}record(h){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:M(),settings:h})}_drainInertiaBuffer(){const h=this._inertiaBuffer,f=M();for(;h.length>0&&f-h[0].time>160;)h.shift()}_onMoveEnd(h){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const f={zoom:0,bearing:0,pitch:0,roll:0,pan:new a.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:C}of this._inertiaBuffer)f.zoom+=C.zoomDelta||0,f.bearing+=C.bearingDelta||0,f.pitch+=C.pitchDelta||0,f.roll+=C.rollDelta||0,C.panDelta&&f.pan._add(C.panDelta),C.around&&(f.around=C.around),C.pinchAround&&(f.pinchAround=C.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(f.pan.mag()){const C=Fh(f.pan.mag(),_,a.e({},Cg,h||{})),P=f.pan.mult(C.amount/f.pan.mag()),z=this._map.cameraHelper.handlePanInertia(P,this._map.transform);v.center=z.easingCenter,v.offset=z.easingOffset,Rh(v,C)}if(f.zoom){const C=Fh(f.zoom,_,Lr);v.zoom=this._map.transform.zoom+C.amount,Rh(v,C)}if(f.bearing){const C=Fh(f.bearing,_,Wr);v.bearing=this._map.transform.bearing+a.an(C.amount,-179,179),Rh(v,C)}if(f.pitch){const C=Fh(f.pitch,_,Ag);v.pitch=this._map.transform.pitch+C.amount,Rh(v,C)}if(f.roll){const C=Fh(f.roll,_,Xr);v.roll=this._map.transform.roll+a.an(C.amount,-179,179),Rh(v,C)}if(v.zoom||v.bearing){const C=f.pinchAround===void 0?f.around:f.pinchAround;v.around=C?this._map.unproject(C):this._map.getCenter()}return this.clear(),a.e(v,{noMoveStart:!0})}}function Rh(T,h){(!T.duration||T.duration<h.duration)&&(T.duration=h.duration,T.easing=h.easing)}function Fh(T,h,f){const{maxSpeed:_,linearity:v,deceleration:C}=f,P=a.an(T*v/(h/1e3),-_,_),z=Math.abs(P)/(C*v);return{easing:f.easing,duration:1e3*z,amount:P*(z/2)}}class ha extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(h,f,_,v={}){_=_ instanceof MouseEvent?_:new MouseEvent(h,_);const C=D.mousePos(f.getCanvas(),_),P=f.unproject(C);super(h,a.e({point:C,lngLat:P,originalEvent:_},v)),this._defaultPrevented=!1,this.target=f}}class Oh extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(h,f,_){const v=h==="touchend"?_.changedTouches:_.touches,C=D.touchPos(f.getCanvasContainer(),v),P=C.map((F=>f.unproject(F))),z=C.reduce(((F,$,G,K)=>F.add($.div(K.length))),new a.P(0,0));super(h,{points:C,point:z,lngLats:P,lngLat:f.unproject(z),originalEvent:_}),this._defaultPrevented=!1}}class Mg extends a.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(h,f,_){super(h,{originalEvent:_}),this._defaultPrevented=!1}}class Fx{constructor(h,f){this._map=h,this._clickTolerance=f.clickTolerance}reset(){delete this._mousedownPos}wheel(h){return this._firePreventable(new Mg(h.type,this._map,h))}mousedown(h,f){return this._mousedownPos=f,this._firePreventable(new ha(h.type,this._map,h))}mouseup(h){this._map.fire(new ha(h.type,this._map,h))}click(h,f){this._mousedownPos&&this._mousedownPos.dist(f)>=this._clickTolerance||this._map.fire(new ha(h.type,this._map,h))}dblclick(h){return this._firePreventable(new ha(h.type,this._map,h))}mouseover(h){this._map.fire(new ha(h.type,this._map,h))}mouseout(h){this._map.fire(new ha(h.type,this._map,h))}touchstart(h){return this._firePreventable(new Oh(h.type,this._map,h))}touchmove(h){this._map.fire(new Oh(h.type,this._map,h))}touchend(h){this._map.fire(new Oh(h.type,this._map,h))}touchcancel(h){this._map.fire(new Oh(h.type,this._map,h))}_firePreventable(h){if(this._map.fire(h),h.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ox{constructor(h){this._map=h}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(h){this._map.fire(new ha(h.type,this._map,h))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ha("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(h){this._delayContextMenu?this._contextMenuEvent=h:this._ignoreContextMenu||this._map.fire(new ha(h.type,this._map,h)),this._map.listens("contextmenu")&&h.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Al{constructor(h){this._map=h}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(h){return this.transform.screenPointToLocation(a.P.convert(h),this._map.terrain)}}class Ml{constructor(h,f){this._map=h,this._tr=new Al(h),this._el=h.getCanvasContainer(),this._container=h.getContainer(),this._clickTolerance=f.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(h,f){this.isEnabled()&&h.shiftKey&&h.button===0&&(D.disableDrag(),this._startPos=this._lastPos=f,this._active=!0)}mousemoveWindow(h,f){if(!this._active)return;const _=f;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=_,this._box||(this._box=D.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",h));const C=Math.min(v.x,_.x),P=Math.max(v.x,_.x),z=Math.min(v.y,_.y),F=Math.max(v.y,_.y);D.setTransform(this._box,`translate(${C}px,${z}px)`),this._box.style.width=P-C+"px",this._box.style.height=F-z+"px"}mouseupWindow(h,f){if(!this._active||h.button!==0)return;const _=this._startPos,v=f;if(this.reset(),D.suppressClick(),_.x!==v.x||_.y!==v.y)return this._map.fire(new a.l("boxzoomend",{originalEvent:h})),{cameraAnimation:C=>C.fitScreenCoordinates(_,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",h)}keydown(h){this._active&&h.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",h))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(D.remove(this._box),this._box=null),D.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(h,f){return this._map.fire(new a.l(h,{originalEvent:f}))}}function qr(T,h){if(T.length!==h.length)throw new Error(`The number of touches and points are not equal - touches ${T.length}, points ${h.length}`);const f={};for(let _=0;_<T.length;_++)f[T[_].identifier]=h[_];return f}class bt{constructor(h){this.reset(),this.numTouches=h.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(h,f,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=h.timeStamp),_.length===this.numTouches&&(this.centroid=(function(v){const C=new a.P(0,0);for(const P of v)C._add(P);return C.div(v.length)})(f),this.touches=qr(_,f)))}touchmove(h,f,_){if(this.aborted||!this.centroid)return;const v=qr(_,f);for(const C in this.touches){const P=v[C];(!P||P.dist(this.touches[C])>30)&&(this.aborted=!0)}}touchend(h,f,_){if((!this.centroid||h.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Sc{constructor(h){this.singleTap=new bt(h),this.numTaps=h.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(h,f,_){this.singleTap.touchstart(h,f,_)}touchmove(h,f,_){this.singleTap.touchmove(h,f,_)}touchend(h,f,_){const v=this.singleTap.touchend(h,f,_);if(v){const C=h.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(v)<30;if(C&&P||this.reset(),this.count++,this.lastTime=h.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Mf{constructor(h){this._tr=new Al(h),this._zoomIn=new Sc({numTouches:1,numTaps:2}),this._zoomOut=new Sc({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(h,f,_){this._zoomIn.touchstart(h,f,_),this._zoomOut.touchstart(h,f,_)}touchmove(h,f,_){this._zoomIn.touchmove(h,f,_),this._zoomOut.touchmove(h,f,_)}touchend(h,f,_){const v=this._zoomIn.touchend(h,f,_),C=this._zoomOut.touchend(h,f,_),P=this._tr;return v?(this._active=!0,h.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:P.zoom+1,around:P.unproject(v)},{originalEvent:h})}):C?(this._active=!0,h.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:z=>z.easeTo({duration:300,zoom:P.zoom-1,around:P.unproject(C)},{originalEvent:h})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pl{constructor(h){this._enabled=!!h.enable,this._moveStateManager=h.moveStateManager,this._clickTolerance=h.clickTolerance||1,this._moveFunction=h.move,this._activateOnStart=!!h.activateOnStart,h.assignEvents(this),this.reset()}reset(h){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(h)}_move(...h){const f=this._moveFunction(...h);if(f.bearingDelta||f.pitchDelta||f.rollDelta||f.around||f.panDelta)return this._active=!0,f}dragStart(h,f){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(h)&&(this._moveStateManager.startMove(h),this._lastPoint=Array.isArray(f)?f[0]:f,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(h,f){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(h.preventDefault(),!this._moveStateManager.isValidMoveEvent(h))return void this.reset(h);const v=Array.isArray(f)?f[0]:f;return!this._moved&&v.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(_,v))}dragEnd(h){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(h)&&(this._moved&&D.suppressClick(),this.reset(h))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Bh=0,jh=2,Pf={[Bh]:1,[jh]:2};class Nh{constructor(h){this._correctEvent=h.checkCorrectEvent}startMove(h){const f=D.mouseButton(h);this._eventButton=f}endMove(h){delete this._eventButton}isValidStartEvent(h){return this._correctEvent(h)}isValidMoveEvent(h){return!(function(f,_){const v=Pf[_];return f.buttons===void 0||(f.buttons&v)!==v})(h,this._eventButton)}isValidEndEvent(h){return D.mouseButton(h)===this._eventButton}}class Lf{constructor(){this._firstTouch=void 0}_isOneFingerTouch(h){return h.targetTouches.length===1}_isSameTouchEvent(h){return h.targetTouches[0].identifier===this._firstTouch}startMove(h){this._firstTouch=h.targetTouches[0].identifier}endMove(h){delete this._firstTouch}isValidStartEvent(h){return this._isOneFingerTouch(h)}isValidMoveEvent(h){return this._isOneFingerTouch(h)&&this._isSameTouchEvent(h)}isValidEndEvent(h){return this._isOneFingerTouch(h)&&this._isSameTouchEvent(h)}}class Pg{constructor(h=new Nh({checkCorrectEvent:()=>!0}),f=new Lf){this.mouseMoveStateManager=h,this.oneFingerTouchMoveStateManager=f}_executeRelevantHandler(h,f,_){return h instanceof MouseEvent?f(h):typeof TouchEvent<"u"&&h instanceof TouchEvent?_(h):void 0}startMove(h){this._executeRelevantHandler(h,(f=>this.mouseMoveStateManager.startMove(f)),(f=>this.oneFingerTouchMoveStateManager.startMove(f)))}endMove(h){this._executeRelevantHandler(h,(f=>this.mouseMoveStateManager.endMove(f)),(f=>this.oneFingerTouchMoveStateManager.endMove(f)))}isValidStartEvent(h){return this._executeRelevantHandler(h,(f=>this.mouseMoveStateManager.isValidStartEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidStartEvent(f)))}isValidMoveEvent(h){return this._executeRelevantHandler(h,(f=>this.mouseMoveStateManager.isValidMoveEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(f)))}isValidEndEvent(h){return this._executeRelevantHandler(h,(f=>this.mouseMoveStateManager.isValidEndEvent(f)),(f=>this.oneFingerTouchMoveStateManager.isValidEndEvent(f)))}}const Ll=T=>{T.mousedown=T.dragStart,T.mousemoveWindow=T.dragMove,T.mouseup=T.dragEnd,T.contextmenu=h=>{h.preventDefault()}};class Bx{constructor(h,f){this._clickTolerance=h.clickTolerance||1,this._map=f,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new a.P(0,0)}_shouldBePrevented(h){return h<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(h,f,_){return this._calculateTransform(h,f,_)}touchmove(h,f,_){if(this._active){if(!this._shouldBePrevented(_.length))return h.preventDefault(),this._calculateTransform(h,f,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",h)}}touchend(h,f,_){this._calculateTransform(h,f,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(h,f,_){_.length>0&&(this._active=!0);const v=qr(_,f),C=new a.P(0,0),P=new a.P(0,0);let z=0;for(const $ in v){const G=v[$],K=this._touches[$];K&&(C._add(G),P._add(G.sub(K)),z++,v[$]=G)}if(this._touches=v,this._shouldBePrevented(z)||!P.mag())return;const F=P.div(z);return this._sum._add(F),this._sum.mag()<this._clickTolerance?void 0:{around:C.div(z),panDelta:F}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tc{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(h,f,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([f[0],f[1]]))}touchmove(h,f,_){if(!this._firstTwoTouches)return;h.preventDefault();const[v,C]=this._firstTwoTouches,P=Cc(_,f,v),z=Cc(_,f,C);if(!P||!z)return;const F=this._aroundCenter?null:P.add(z).div(2);return this._move([P,z],F,h)}touchend(h,f,_){if(!this._firstTwoTouches)return;const[v,C]=this._firstTwoTouches,P=Cc(_,f,v),z=Cc(_,f,C);P&&z||(this._active&&D.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(h){this._enabled=!0,this._aroundCenter=!!h&&h.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Cc(T,h,f){for(let _=0;_<T.length;_++)if(T[_].identifier===f)return h[_]}function Lg(T,h){return Math.log(T/h)/Math.LN2}class Ef extends Tc{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(h){this._startDistance=this._distance=h[0].dist(h[1])}_move(h,f){const _=this._distance;if(this._distance=h[0].dist(h[1]),this._active||!(Math.abs(Lg(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Lg(this._distance,_),pinchAround:f}}}function Eg(T,h){return 180*T.angleWith(h)/Math.PI}class If extends Tc{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(h){this._startVector=this._vector=h[0].sub(h[1]),this._minDiameter=h[0].dist(h[1])}_move(h,f,_){const v=this._vector;if(this._vector=h[0].sub(h[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Eg(this._vector,v),pinchAround:f}}_isBelowThreshold(h){this._minDiameter=Math.min(this._minDiameter,h.mag());const f=25/(Math.PI*this._minDiameter)*360,_=Eg(h,this._startVector);return Math.abs(_)<f}}function Df(T){return Math.abs(T.y)>Math.abs(T.x)}class Ig extends Tc{constructor(h){super(),this._currentTouchCount=0,this._map=h}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(h,f,_){super.touchstart(h,f,_),this._currentTouchCount=_.length}_start(h){this._lastPoints=h,Df(h[0].sub(h[1]))&&(this._valid=!1)}_move(h,f,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const v=h[0].sub(this._lastPoints[0]),C=h[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,C,_.timeStamp),this._valid?(this._lastPoints=h,this._active=!0,{pitchDelta:(v.y+C.y)/2*-.5}):void 0}gestureBeginsVertically(h,f,_){if(this._valid!==void 0)return this._valid;const v=h.mag()>=2,C=f.mag()>=2;if(!v&&!C)return;if(!v||!C)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const P=h.y>0==f.y>0;return Df(h)&&Df(f)&&P}}const no={panStep:100,bearingStep:15,pitchStep:10};class ji{constructor(h){this._tr=new Al(h);const f=no;this._panStep=f.panStep,this._bearingStep=f.bearingStep,this._pitchStep=f.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(h){if(h.altKey||h.ctrlKey||h.metaKey)return;let f=0,_=0,v=0,C=0,P=0;switch(h.keyCode){case 61:case 107:case 171:case 187:f=1;break;case 189:case 109:case 173:f=-1;break;case 37:h.shiftKey?_=-1:(h.preventDefault(),C=-1);break;case 39:h.shiftKey?_=1:(h.preventDefault(),C=1);break;case 38:h.shiftKey?v=1:(h.preventDefault(),P=-1);break;case 40:h.shiftKey?v=-1:(h.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(_=0,v=0),{cameraAnimation:z=>{const F=this._tr;z.easeTo({duration:300,easeId:"keyboardHandler",easing:jx,zoom:f?Math.round(F.zoom)+f*(h.shiftKey?2:1):F.zoom,bearing:F.bearing+_*this._bearingStep,pitch:F.pitch+v*this._pitchStep,offset:[-C*this._panStep,-P*this._panStep],center:F.center},{originalEvent:h})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function jx(T){return T*(2-T)}const $h=4.000244140625,Ac=1/450;class Mc{constructor(h,f){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=h,this._tr=new Al(h),this._triggerRenderFrame=f,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Ac}setZoomRate(h){this._defaultZoomRate=h}setWheelZoomRate(h){this._wheelZoomRate=h}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(h){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!h&&h.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(h){return!!this._map.cooperativeGestures.isEnabled()&&!(h.ctrlKey||this._map.cooperativeGestures.isBypassed(h))}wheel(h){if(!this.isEnabled())return;if(this._shouldBePrevented(h))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",h);let f=h.deltaMode===WheelEvent.DOM_DELTA_LINE?40*h.deltaY:h.deltaY;const _=M(),v=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,f!==0&&f%$h==0?this._type="wheel":f!==0&&Math.abs(f)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=f,this._timeout=setTimeout(this._onTimeout,40,h)):this._type||(this._type=Math.abs(v*f)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,f+=this._lastValue)),h.shiftKey&&f&&(f/=4),this._type&&(this._lastWheelEvent=h,this._delta-=f,this._active||this._start(h)),h.preventDefault()}_start(h){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const f=D.mousePos(this._map.getCanvas(),h),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(a.V.convert(_.center)):f,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const h=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const z=h.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=z),typeof this._targetZoom=="number"&&(this._targetZoom+=z)}if(this._delta!==0){const z=this._type==="wheel"&&Math.abs(this._delta)>$h?this._wheelZoomRate:this._defaultZoomRate;let F=2/(1+Math.exp(-Math.abs(this._delta*z)));this._delta<0&&F!==0&&(F=1/F);const $=typeof this._targetZoom!="number"?h.scale:a.aq(this._targetZoom);this._targetZoom=h.applyConstrain(h.getCameraLngLat(),a.at($*F)).zoom,this._type==="wheel"&&(this._startZoom=h.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const f=typeof this._targetZoom!="number"?h.zoom:this._targetZoom,_=this._startZoom,v=this._easing;let C,P=!1;if(this._type==="wheel"&&_&&v){const z=M()-this._lastWheelEventTime,F=Math.min((z+5)/200,1),$=v(F);C=a.G.number(_,f,$),F<1?this._frameId||(this._frameId=!0):P=!0}else C=f,P=!0;return this._active=!0,P&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=C,{noInertia:!0,needsRenderFrame:!P,zoomDelta:C-h.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(h){let f=a.cy;if(this._prevEase){const _=this._prevEase,v=(M()-_.start)/_.duration,C=_.easing(v+.01)-_.easing(v),P=.27/Math.sqrt(C*C+1e-4)*.01,z=Math.sqrt(.0729-P*P);f=a.cw(P,z,.25,1)}return this._prevEase={start:M(),duration:h,easing:f},f}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class zf{constructor(h,f){this._clickZoom=h,this._tapZoom=f}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Dg{constructor(h){this._tr=new Al(h),this.reset()}reset(){this._active=!1}dblclick(h,f){return h.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(h.shiftKey?-1:1),around:this._tr.unproject(f)},{originalEvent:h})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zg{constructor(){this._tap=new Sc({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(h,f,_){if(!this._swipePoint)if(this._tapTime){const v=f[0],C=h.timeStamp-this._tapTime<500,P=this._tapPoint.dist(v)<30;C&&P?_.length>0&&(this._swipePoint=v,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(h,f,_)}touchmove(h,f,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const v=f[0],C=v.y-this._swipePoint.y;return this._swipePoint=v,h.preventDefault(),this._active=!0,{zoomDelta:C/128}}}else this._tap.touchmove(h,f,_)}touchend(h,f,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const v=this._tap.touchend(h,f,_);v&&(this._tapTime=h.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rg{constructor(h,f,_){this._el=h,this._mousePan=f,this._touchPan=_}enable(h){this._inertiaOptions=h||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Yr{constructor(h,f,_,v){this._pitchWithRotate=h.pitchWithRotate,this._rollEnabled=h.rollEnabled,this._mouseRotate=f,this._mousePitch=_,this._mouseRoll=v}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Vh{constructor(h,f,_,v){this._el=h,this._touchZoom=f,this._touchRotate=_,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(h){this._touchZoom.enable(h),this._rotationDisabled||this._touchRotate.enable(h),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Lt{constructor(h,f){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=h,this._options=f,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const h=this._map.getCanvasContainer();h.classList.add("maplibregl-cooperative-gestures"),this._container=D.create("div","maplibregl-cooperative-gesture-screen",h);let f=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(f=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),v=document.createElement("div");v.className="maplibregl-desktop-message",v.textContent=f,this._container.appendChild(v);const C=document.createElement("div");C.className="maplibregl-mobile-message",C.textContent=_,this._container.appendChild(C),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(D.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(h){return h[this._bypassKey]}notifyGestureBlocked(h,f){this._enabled&&(this._map.fire(new a.l("cooperativegestureprevented",{gestureType:h,originalEvent:f})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const jt=T=>T.zoom||T.drag||T.roll||T.pitch||T.rotate;class Hh extends a.l{}function Pc(T){return T.panDelta&&T.panDelta.mag()||T.zoomDelta||T.bearingDelta||T.pitchDelta||T.rollDelta}class Lc{constructor(h,f){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,C)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const P=v.type==="renderFrame"?void 0:v,z={needsRenderFrame:!1},F={},$={};for(const{handlerName:Z,handler:ie,allowed:oe}of this._handlers){if(!ie.isEnabled())continue;let fe;if(this._blockedByActive($,oe,Z))ie.reset();else if(ie[C||v.type]){if(a.cz(v,C||v.type)){const me=D.mousePos(this._map.getCanvas(),v);fe=ie[C||v.type](v,me)}else if(a.cA(v,C||v.type)){const me=this._getMapTouches(v.touches),pe=D.touchPos(this._map.getCanvas(),me);fe=ie[C||v.type](v,pe,me)}else a.cB(C||v.type)||(fe=ie[C||v.type](v));this.mergeHandlerResult(z,F,fe,Z,P),fe&&fe.needsRenderFrame&&this._triggerRenderFrame()}(fe||ie.isActive())&&($[Z]=ie)}const G={};for(const Z in this._previousActiveHandlers)$[Z]||(G[Z]=P);this._previousActiveHandlers=$,(Object.keys(G).length||Pc(z))&&(this._changes.push([z,F,G]),this._triggerRenderFrame()),(Object.keys($).length||Pc(z))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:K}=z;K&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],K(this._map))},this._map=h,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Rx(h),this._bearingSnap=f.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(f);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,C,P]of this._listeners)D.addEventListener(v,C,v===document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[h,f,_]of this._listeners)D.removeEventListener(h,f,h===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(h){const f=this._map,_=f.getCanvasContainer();this._add("mapEvent",new Fx(f,h));const v=f.boxZoom=new Ml(f,h);this._add("boxZoom",v),h.interactive&&h.boxZoom&&v.enable();const C=f.cooperativeGestures=new Lt(f,h.cooperativeGestures);this._add("cooperativeGestures",C),h.cooperativeGestures&&C.enable();const P=new Mf(f),z=new Dg(f);f.doubleClickZoom=new zf(z,P),this._add("tapZoom",P),this._add("clickZoom",z),h.interactive&&h.doubleClickZoom&&f.doubleClickZoom.enable();const F=new zg;this._add("tapDragZoom",F);const $=f.touchPitch=new Ig(f);this._add("touchPitch",$),h.interactive&&h.touchPitch&&f.touchPitch.enable(h.touchPitch);const G=()=>f.project(f.getCenter()),K=(function({enable:ge,clickTolerance:Se,aroundCenter:Pe=!0,minPixelCenterThreshold:we=100,rotateDegreesPerPixelMoved:Ie=.8},qe){const Ve=new Nh({checkCorrectEvent:Ge=>D.mouseButton(Ge)===0&&Ge.ctrlKey||D.mouseButton(Ge)===2&&!Ge.ctrlKey});return new Pl({clickTolerance:Se,move:(Ge,We)=>{const ut=qe();if(Pe&&Math.abs(ut.y-Ge.y)>we)return{bearingDelta:a.cx(new a.P(Ge.x,We.y),We,ut)};let dt=(We.x-Ge.x)*Ie;return Pe&&We.y<ut.y&&(dt=-dt),{bearingDelta:dt}},moveStateManager:Ve,enable:ge,assignEvents:Ll})})(h,G),Z=(function({enable:ge,clickTolerance:Se,pitchDegreesPerPixelMoved:Pe=-.5}){const we=new Nh({checkCorrectEvent:Ie=>D.mouseButton(Ie)===0&&Ie.ctrlKey||D.mouseButton(Ie)===2});return new Pl({clickTolerance:Se,move:(Ie,qe)=>({pitchDelta:(qe.y-Ie.y)*Pe}),moveStateManager:we,enable:ge,assignEvents:Ll})})(h),ie=(function({enable:ge,clickTolerance:Se,rollDegreesPerPixelMoved:Pe=.3},we){const Ie=new Nh({checkCorrectEvent:qe=>D.mouseButton(qe)===2&&qe.ctrlKey});return new Pl({clickTolerance:Se,move:(qe,Ve)=>{const Ge=we();let We=(Ve.x-qe.x)*Pe;return Ve.y<Ge.y&&(We=-We),{rollDelta:We}},moveStateManager:Ie,enable:ge,assignEvents:Ll})})(h,G);f.dragRotate=new Yr(h,K,Z,ie),this._add("mouseRotate",K,["mousePitch"]),this._add("mousePitch",Z,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ie,["mousePitch"]),h.interactive&&h.dragRotate&&f.dragRotate.enable();const oe=(function({enable:ge,clickTolerance:Se}){const Pe=new Nh({checkCorrectEvent:we=>D.mouseButton(we)===0&&!we.ctrlKey});return new Pl({clickTolerance:Se,move:(we,Ie)=>({around:Ie,panDelta:Ie.sub(we)}),activateOnStart:!0,moveStateManager:Pe,enable:ge,assignEvents:Ll})})(h),fe=new Bx(h,f);f.dragPan=new Rg(_,oe,fe),this._add("mousePan",oe),this._add("touchPan",fe,["touchZoom","touchRotate"]),h.interactive&&h.dragPan&&f.dragPan.enable(h.dragPan);const me=new If,pe=new Ef;f.touchZoomRotate=new Vh(_,pe,me,F),this._add("touchRotate",me,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),h.interactive&&h.touchZoomRotate&&f.touchZoomRotate.enable(h.touchZoomRotate),this._add("blockableMapEvent",new Ox(f));const ye=f.scrollZoom=new Mc(f,(()=>this._triggerRenderFrame()));this._add("scrollZoom",ye,["mousePan"]),h.interactive&&h.scrollZoom&&f.scrollZoom.enable(h.scrollZoom);const Ce=f.keyboard=new ji(f);this._add("keyboard",Ce),h.interactive&&h.keyboard&&f.keyboard.enable()}_add(h,f,_){this._handlers.push({handlerName:h,handler:f,allowed:_}),this._handlersById[h]=f}stop(h){if(!this._updatingCamera){for(const{handler:f}of this._handlers)f.reset();this._inertia.clear(),this._fireEvents({},{},h),this._changes=[]}}isActive(){for(const{handler:h}of this._handlers)if(h.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!jt(this._eventsInProgress)||this.isZooming()}_blockedByActive(h,f,_){for(const v in h)if(v!==_&&(!f||f.indexOf(v)<0))return!0;return!1}_getMapTouches(h){const f=[];for(const _ of h)this._el.contains(_.target)&&f.push(_);return f}mergeHandlerResult(h,f,_,v,C){if(!_)return;a.e(h,_);const P={handlerName:v,originalEvent:_.originalEvent||C};_.zoomDelta!==void 0&&(f.zoom=P),_.panDelta!==void 0&&(f.drag=P),_.rollDelta!==void 0&&(f.roll=P),_.pitchDelta!==void 0&&(f.pitch=P),_.bearingDelta!==void 0&&(f.rotate=P)}_applyChanges(){const h={},f={},_={};for(const[v,C,P]of this._changes)v.panDelta&&(h.panDelta=(h.panDelta||new a.P(0,0))._add(v.panDelta)),v.zoomDelta&&(h.zoomDelta=(h.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(h.bearingDelta=(h.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(h.pitchDelta=(h.pitchDelta||0)+v.pitchDelta),v.rollDelta&&(h.rollDelta=(h.rollDelta||0)+v.rollDelta),v.around!==void 0&&(h.around=v.around),v.pinchAround!==void 0&&(h.pinchAround=v.pinchAround),v.noInertia&&(h.noInertia=v.noInertia),a.e(f,C),a.e(_,P);this._updateMapTransform(h,f,_),this._changes=[]}_updateMapTransform(h,f,_){const v=this._map,C=v._getTransformForUpdate(),P=v.terrain;if(!(Pc(h)||P&&this._terrainMovement))return this._fireEvents(f,_,!0);v._stop(!0);let{panDelta:z,zoomDelta:F,bearingDelta:$,pitchDelta:G,rollDelta:K,around:Z,pinchAround:ie}=h;ie!==void 0&&(Z=ie),Z=Z||v.transform.centerPoint,P&&!C.isPointOnMapSurface(Z)&&(Z=C.centerPoint);const oe={panDelta:z,zoomDelta:F,rollDelta:K,pitchDelta:G,bearingDelta:$,around:Z};this._map.cameraHelper.useGlobeControls&&!C.isPointOnMapSurface(Z)&&(Z=C.centerPoint);const fe=Z.distSqr(C.centerPoint)<.01?C.center:C.screenPointToLocation(z?Z.sub(z):Z);this._handleMapControls({terrain:P,tr:C,deltasForHelper:oe,preZoomAroundLoc:fe,combinedEventsInProgress:f,panDelta:z}),v._applyUpdatedTransform(C),this._map._update(),h.noInertia||this._inertia.record(h),this._fireEvents(f,_,!0)}_handleMapControls({terrain:h,tr:f,deltasForHelper:_,preZoomAroundLoc:v,combinedEventsInProgress:C,panDelta:P}){const z=this._map.cameraHelper;if(z.handleMapControlsRollPitchBearingZoom(_,f),h)return z.useGlobeControls?(this._terrainMovement||!C.drag&&!C.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void z.handleMapControlsPan(_,f,v)):this._terrainMovement||!C.drag&&!C.zoom?void(C.drag&&this._terrainMovement&&P?f.setCenter(f.screenPointToLocation(f.centerPoint.sub(P))):z.handleMapControlsPan(_,f,v)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void z.handleMapControlsPan(_,f,v));z.handleMapControlsPan(_,f,v)}_fireEvents(h,f,_){const v=jt(this._eventsInProgress),C=jt(h),P={};for(const K in h){const{originalEvent:Z}=h[K];this._eventsInProgress[K]||(P[`${K}start`]=Z),this._eventsInProgress[K]=h[K]}!v&&C&&this._fireEvent("movestart",C.originalEvent);for(const K in P)this._fireEvent(K,P[K]);C&&this._fireEvent("move",C.originalEvent);for(const K in h){const{originalEvent:Z}=h[K];this._fireEvent(K,Z)}const z={};let F;for(const K in this._eventsInProgress){const{handlerName:Z,originalEvent:ie}=this._eventsInProgress[K];this._handlersById[Z].isActive()||(delete this._eventsInProgress[K],F=f[Z]||ie,z[`${K}end`]=F)}for(const K in z)this._fireEvent(K,z[K]);const $=jt(this._eventsInProgress),G=(v||C)&&!$;if(G&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const K=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&K.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(K)}if(_&&G){this._updatingCamera=!0;const K=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Z=ie=>ie!==0&&-this._bearingSnap<ie&&ie<this._bearingSnap;!K||!K.essential&&S.prefersReducedMotion?(this._map.fire(new a.l("moveend",{originalEvent:F})),Z(this._map.getBearing())&&this._map.resetNorth()):(Z(K.bearing||this._map.getBearing())&&(K.bearing=0),K.freezeElevation=!0,this._map.easeTo(K,{originalEvent:F})),this._updatingCamera=!1}}_fireEvent(h,f){this._map.fire(new a.l(h,f?{originalEvent:f}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((h=>{delete this._frameId,this.handleEvent(new Hh("renderFrame",{timeStamp:h})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Va extends a.E{constructor(h,f,_){super(),this._renderFrameCallback=()=>{const v=Math.min((M()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(v)),v<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=h,this._bearingSnap=_.bearingSnap,this.cameraHelper=f,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(h,f){h.apply(this.transform),this.transform=h,this.cameraHelper=f}getCenter(){return new a.V(this.transform.center.lng,this.transform.center.lat)}setCenter(h,f){return this.jumpTo({center:h},f)}getCenterElevation(){return this.transform.elevation}setCenterElevation(h,f){return this.jumpTo({elevation:h},f),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(h){this._centerClampedToGround=h}panBy(h,f,_){return h=a.P.convert(h).mult(-1),this.panTo(this.transform.center,a.e({offset:h},f),_)}panTo(h,f,_){return this.easeTo(a.e({center:h},f),_)}getZoom(){return this.transform.zoom}setZoom(h,f){return this.jumpTo({zoom:h},f),this}zoomTo(h,f,_){return this.easeTo(a.e({zoom:h},f),_)}zoomIn(h,f){return this.zoomTo(this.getZoom()+1,h,f),this}zoomOut(h,f){return this.zoomTo(this.getZoom()-1,h,f),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(h,f){return h!=this.transform.fov&&(this.transform.setFov(h),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)).fire(new a.l("moveend",f))),this}getBearing(){return this.transform.bearing}setBearing(h,f){return this.jumpTo({bearing:h},f),this}getPadding(){return this.transform.padding}setPadding(h,f){return this.jumpTo({padding:h},f),this}rotateTo(h,f,_){return this.easeTo(a.e({bearing:h},f),_)}resetNorth(h,f){return this.rotateTo(0,a.e({duration:1e3},h),f),this}resetNorthPitch(h,f){return this.easeTo(a.e({bearing:0,pitch:0,roll:0,duration:1e3},h),f),this}snapToNorth(h,f){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(h,f):this}getPitch(){return this.transform.pitch}setPitch(h,f){return this.jumpTo({pitch:h},f),this}getRoll(){return this.transform.roll}setRoll(h,f){return this.jumpTo({roll:h},f),this}cameraForBounds(h,f){h=Ye.convert(h).adjustAntiMeridian();const _=f&&f.bearing||0;return this._cameraForBoxAndBearing(h.getNorthWest(),h.getSouthEast(),_,f)}_cameraForBoxAndBearing(h,f,_,v){const C={top:0,bottom:0,right:0,left:0};if(typeof(v=a.e({padding:C,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const $=v.padding;v.padding={top:$,bottom:$,right:$,left:$}}const P=a.e(C,v.padding);v.padding=P;const z=this.transform,F=new Ye(h,f);return this.cameraHelper.cameraForBoxAndBearing(v,P,F,_,z)}fitBounds(h,f,_){return this._fitInternal(this.cameraForBounds(h,f),f,_)}fitScreenCoordinates(h,f,_,v,C){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(a.P.convert(h)),this.transform.screenPointToLocation(a.P.convert(f)),_,v),v,C)}_fitInternal(h,f,_){return h?(delete(f=a.e(h,f)).padding,f.linear?this.easeTo(f,_):this.flyTo(f,_)):this}jumpTo(h,f){this.stop();const _=this._getTransformForUpdate();let v=!1,C=!1,P=!1;const z=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,h);const F=_.zoom!==z;return"elevation"in h&&_.elevation!==+h.elevation&&_.setElevation(+h.elevation),"bearing"in h&&_.bearing!==+h.bearing&&(v=!0,_.setBearing(+h.bearing)),"pitch"in h&&_.pitch!==+h.pitch&&(C=!0,_.setPitch(+h.pitch)),"roll"in h&&_.roll!==+h.roll&&(P=!0,_.setRoll(+h.roll)),h.padding==null||_.isPaddingEqual(h.padding)||_.setPadding(h.padding),this._applyUpdatedTransform(_),this.fire(new a.l("movestart",f)).fire(new a.l("move",f)),F&&this.fire(new a.l("zoomstart",f)).fire(new a.l("zoom",f)).fire(new a.l("zoomend",f)),v&&this.fire(new a.l("rotatestart",f)).fire(new a.l("rotate",f)).fire(new a.l("rotateend",f)),C&&this.fire(new a.l("pitchstart",f)).fire(new a.l("pitch",f)).fire(new a.l("pitchend",f)),P&&this.fire(new a.l("rollstart",f)).fire(new a.l("roll",f)).fire(new a.l("rollend",f)),this.fire(new a.l("moveend",f))}calculateCameraOptionsFromTo(h,f,_,v=0){const C=a.a9.fromLngLat(h,f),P=a.a9.fromLngLat(_,v),z=P.x-C.x,F=P.y-C.y,$=P.z-C.z,G=Math.hypot(z,F,$);if(G===0)throw new Error("Can't calculate camera options with same From and To");const K=Math.hypot(z,F),Z=a.at(this.transform.cameraToCenterDistance/G/this.transform.tileSize),ie=180*Math.atan2(z,-F)/Math.PI;let oe=180*Math.acos(K/G)/Math.PI;return oe=$<0?90-oe:90+oe,{center:P.toLngLat(),elevation:v,zoom:Z,pitch:oe,bearing:ie}}calculateCameraOptionsFromCameraLngLatAltRotation(h,f,_,v,C){const P=this.transform.calculateCenterFromCameraLngLatAlt(h,f,_,v);return{center:P.center,elevation:P.elevation,zoom:P.zoom,bearing:_,pitch:v,roll:C}}easeTo(h,f){this._stop(!1,h.easeId),((h=a.e({offset:[0,0],duration:500,easing:a.cy},h)).animate===!1||!h.essential&&S.prefersReducedMotion)&&(h.duration=0);const _=this._getTransformForUpdate(),v=this.getBearing(),C=_.pitch,P=_.roll,z="bearing"in h?this._normalizeBearing(h.bearing,v):v,F="pitch"in h?+h.pitch:C,$="roll"in h?this._normalizeBearing(h.roll,P):P,G="padding"in h?h.padding:_.padding,K=a.P.convert(h.offset);let Z,ie;h.around&&(Z=a.V.convert(h.around),ie=_.locationToScreenPoint(Z));const oe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},fe=this.cameraHelper.handleEaseTo(_,{bearing:z,pitch:F,roll:$,padding:G,around:Z,aroundPoint:ie,offsetAsPoint:K,offset:h.offset,zoom:h.zoom,center:h.center});return this._rotating=this._rotating||v!==z,this._pitching=this._pitching||F!==C,this._rolling=this._rolling||$!==P,this._padding=!_.isPaddingEqual(G),this._zooming=this._zooming||fe.isZooming,this._easeId=h.easeId,this._prepareEase(f,h.noMoveStart,oe),this.terrain&&this._prepareElevation(fe.elevationCenter),this._ease((me=>{fe.easeFunc(me),this.terrain&&!h.freezeElevation&&this._updateElevation(me),this._applyUpdatedTransform(_),this._fireMoveEvents(f)}),(me=>{this.terrain&&h.freezeElevation&&this._finalizeElevation(),this._afterEase(f,me)}),h),this}_prepareEase(h,f,_={}){this._moving=!0,f||_.moving||this.fire(new a.l("movestart",h)),this._zooming&&!_.zooming&&this.fire(new a.l("zoomstart",h)),this._rotating&&!_.rotating&&this.fire(new a.l("rotatestart",h)),this._pitching&&!_.pitching&&this.fire(new a.l("pitchstart",h)),this._rolling&&!_.rolling&&this.fire(new a.l("rollstart",h))}_prepareElevation(h){this._elevationCenter=h,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(h){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const f=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(h<1&&f!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=h*(_-(f-(_*h+this._elevationStart))/(1-h)),this._elevationTarget=f}this.transform.setElevation(a.G.number(this._elevationStart,this._elevationTarget,h))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(h){if(!this.terrain&&h.elevation>=0&&h.pitch<=90)return{};const f=h.getCameraLngLat(),_=h.getCameraAltitude(),v=this.terrain?this.terrain.getElevationForLngLatZoom(f,h.zoom):0;if(_<v){const C=this.calculateCameraOptionsFromTo(f,v,h.center,h.elevation);return{pitch:C.pitch,zoom:C.zoom}}return{}}_applyUpdatedTransform(h){const f=[];if(f.push((v=>this._elevateCameraIfInsideTerrain(v))),this.transformCameraUpdate&&f.push((v=>this.transformCameraUpdate(v))),!f.length)return;const _=h.clone();for(const v of f){const C=_.clone(),{center:P,zoom:z,roll:F,pitch:$,bearing:G,elevation:K}=v(C);P&&C.setCenter(P),K!==void 0&&C.setElevation(K),z!==void 0&&C.setZoom(z),F!==void 0&&C.setRoll(F),$!==void 0&&C.setPitch($),G!==void 0&&C.setBearing(G),_.apply(C)}this.transform.apply(_)}_fireMoveEvents(h){this.fire(new a.l("move",h)),this._zooming&&this.fire(new a.l("zoom",h)),this._rotating&&this.fire(new a.l("rotate",h)),this._pitching&&this.fire(new a.l("pitch",h)),this._rolling&&this.fire(new a.l("roll",h))}_afterEase(h,f){if(this._easeId&&f&&this._easeId===f)return;delete this._easeId;const _=this._zooming,v=this._rotating,C=this._pitching,P=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new a.l("zoomend",h)),v&&this.fire(new a.l("rotateend",h)),C&&this.fire(new a.l("pitchend",h)),P&&this.fire(new a.l("rollend",h)),this.fire(new a.l("moveend",h))}flyTo(h,f){if(!h.essential&&S.prefersReducedMotion){const We=a.U(h,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(We,f)}this.stop(),h=a.e({offset:[0,0],speed:1.2,curve:1.42,easing:a.cy},h);const _=this._getTransformForUpdate(),v=_.bearing,C=_.pitch,P=_.roll,z=_.padding,F="bearing"in h?this._normalizeBearing(h.bearing,v):v,$="pitch"in h?+h.pitch:C,G="roll"in h?this._normalizeBearing(h.roll,P):P,K="padding"in h?h.padding:_.padding,Z=a.P.convert(h.offset);let ie=_.centerPoint.add(Z);const oe=_.screenPointToLocation(ie),fe=this.cameraHelper.handleFlyTo(_,{bearing:F,pitch:$,roll:G,padding:K,locationAtOffset:oe,offsetAsPoint:Z,center:h.center,minZoom:h.minZoom,zoom:h.zoom});let me=h.curve;const pe=Math.max(_.width,_.height),ye=pe/fe.scaleOfZoom,Ce=fe.pixelPathLength;typeof fe.scaleOfMinZoom=="number"&&(me=Math.sqrt(pe/fe.scaleOfMinZoom/Ce*2));const ge=me*me;function Se(We){const ut=(ye*ye-pe*pe+(We?-1:1)*ge*ge*Ce*Ce)/(2*(We?ye:pe)*ge*Ce);return Math.log(Math.sqrt(ut*ut+1)-ut)}function Pe(We){return(Math.exp(We)-Math.exp(-We))/2}function we(We){return(Math.exp(We)+Math.exp(-We))/2}const Ie=Se(!1);let qe=function(We){return we(Ie)/we(Ie+me*We)},Ve=function(We){return pe*((we(Ie)*(Pe(ut=Ie+me*We)/we(ut))-Pe(Ie))/ge)/Ce;var ut},Ge=(Se(!0)-Ie)/me;if(Math.abs(Ce)<2e-6||!isFinite(Ge)){if(Math.abs(pe-ye)<1e-6)return this.easeTo(h,f);const We=ye<pe?-1:1;Ge=Math.abs(Math.log(ye/pe))/me,Ve=()=>0,qe=ut=>Math.exp(We*me*ut)}return h.duration="duration"in h?+h.duration:1e3*Ge/("screenSpeed"in h?+h.screenSpeed/me:+h.speed),h.maxDuration&&h.duration>h.maxDuration&&(h.duration=0),this._zooming=!0,this._rotating=v!==F,this._pitching=$!==C,this._rolling=G!==P,this._padding=!_.isPaddingEqual(K),this._prepareEase(f,!1),this.terrain&&this._prepareElevation(fe.targetCenter),this._ease((We=>{const ut=We*Ge,dt=1/qe(ut),rt=Ve(ut);this._rotating&&_.setBearing(a.G.number(v,F,We)),this._pitching&&_.setPitch(a.G.number(C,$,We)),this._rolling&&_.setRoll(a.G.number(P,G,We)),this._padding&&(_.interpolatePadding(z,K,We),ie=_.centerPoint.add(Z)),fe.easeFunc(We,dt,rt,ie),this.terrain&&!h.freezeElevation&&this._updateElevation(We),this._applyUpdatedTransform(_),this._fireMoveEvents(f)}),(()=>{this.terrain&&h.freezeElevation&&this._finalizeElevation(),this._afterEase(f)}),h),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(h,f){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const v=this._onEaseEnd;delete this._onEaseEnd,v.call(this,f)}return h||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(h,f,_){_.animate===!1||_.duration===0?(h(1),f()):(this._easeStart=M(),this._easeOptions=_,this._onEaseFrame=h,this._onEaseEnd=f,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(h,f){h=a.W(h,-180,180);const _=Math.abs(h-f);return Math.abs(h-360-f)<_&&(h-=360),Math.abs(h+360-f)<_&&(h+=360),h}queryTerrainElevation(h){return this.terrain?this.terrain.getElevationForLngLat(a.V.convert(h),this.transform):null}}const Er={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Rf{constructor(h=Er){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=f=>{!f||f.sourceDataType!=="metadata"&&f.sourceDataType!=="visibility"&&f.dataType!=="style"&&f.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=h}getDefaultPosition(){return"bottom-right"}onAdd(h){return this._map=h,this._compact=this.options.compact,this._container=D.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=D.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=D.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){D.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(h,f){const _=this._map._getUIString(`AttributionControl.${f}`);h.title=_,h.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let h=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?h=h.concat(this.options.customAttribution.map((v=>typeof v!="string"?"":v))):typeof this.options.customAttribution=="string"&&h.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const f=this._map.style.tileManagers;for(const v in f){const C=f[v];if(C.used||C.usedForTerrain){const P=C.getSource();P.attribution&&h.indexOf(P.attribution)<0&&h.push(P.attribution)}}h=h.filter((v=>String(v).trim())),h.sort(((v,C)=>v.length-C.length)),h=h.filter(((v,C)=>{for(let P=C+1;P<h.length;P++)if(h[P].indexOf(v)>=0)return!1;return!0}));const _=h.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,h.length?(this._innerContainer.innerHTML=D.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Fg{constructor(h={}){this._updateCompact=()=>{const f=this._container.children;if(f.length){const _=f[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=h}getDefaultPosition(){return"bottom-left"}onAdd(h){this._map=h,this._compact=this.options&&this.options.compact,this._container=D.create("div","maplibregl-ctrl");const f=D.create("a","maplibregl-ctrl-logo");return f.target="_blank",f.rel="noopener nofollow",f.href="https://maplibre.org/",f.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),f.setAttribute("rel","noopener nofollow"),this._container.appendChild(f),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){D.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Nx{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(h){const f=++this._id;return this._queue.push({callback:h,id:f,cancelled:!1}),f}remove(h){const f=this._currentlyRunning,_=f?this._queue.concat(f):this._queue;for(const v of _)if(v.id===h)return void(v.cancelled=!0)}run(h=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const f=this._currentlyRunning=this._queue;this._queue=[];for(const _ of f)if(!_.cancelled&&(_.callback(h),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var $x=a.aU([{name:"a_pos3d",type:"Int16",components:3}]);class Gh extends a.E{constructor(h){super(),this._lastTilesetChange=M(),this.tileManager=h,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=h._source.tileSize*2**this.deltaZoom,h.usedForTerrain=!0,h.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(h,f){this.tileManager.update(h,f),this._renderableTilesKeys=[];const _={};for(const v of Gt(h,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:f,calculateTileZoom:this.tileManager._source.calculateTileZoom}))_[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.terrainRttPosMatrix32f=new Float64Array(16),a.c7(v.terrainRttPosMatrix32f,0,a.a5,a.a5,0,0,1),this._tiles[v.key]=new tt(v,this.tileSize),this._lastTilesetChange=M());for(const v in this._tiles)_[v]||delete this._tiles[v]}freeRtt(h){for(const f in this._tiles){const _=this._tiles[f];(!h||_.tileID.equals(h)||_.tileID.isChildOf(h)||h.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((h=>this.getTileByID(h)))}getTileByID(h){return this._tiles[h]}getTerrainCoords(h,f){return f?this._getTerrainCoordsForTileRanges(h,f):this._getTerrainCoordsForRegularTile(h)}_getTerrainCoordsForRegularTile(h){const f={};for(const _ of this._renderableTilesKeys){const v=this._tiles[_].tileID,C=h.clone(),P=a.bk();if(v.canonical.equals(h.canonical))a.c7(P,0,a.a5,a.a5,0,0,1);else if(v.canonical.isChildOf(h.canonical)){const z=v.canonical.z-h.canonical.z,F=v.canonical.x-(v.canonical.x>>z<<z),$=v.canonical.y-(v.canonical.y>>z<<z),G=a.a5>>z;a.c7(P,0,G,G,0,0,1),a.O(P,P,[-F*G,-$*G,0])}else{if(!h.canonical.isChildOf(v.canonical))continue;{const z=h.canonical.z-v.canonical.z,F=h.canonical.x-(h.canonical.x>>z<<z),$=h.canonical.y-(h.canonical.y>>z<<z),G=a.a5>>z;a.c7(P,0,a.a5,a.a5,0,0,1),a.O(P,P,[F*G,$*G,0]),a.Q(P,P,[1/2**z,1/2**z,0])}}C.terrainRttPosMatrix32f=new Float32Array(P),f[_]=C}return f}_getTerrainCoordsForTileRanges(h,f){const _={};for(const v of this._renderableTilesKeys){const C=this._tiles[v].tileID;if(!this._isWithinTileRanges(C,f))continue;const P=h.clone(),z=a.bk();if(C.canonical.z===h.canonical.z){const F=h.canonical.x-C.canonical.x,$=h.canonical.y-C.canonical.y;a.c7(z,0,a.a5,a.a5,0,0,1),a.O(z,z,[F*a.a5,$*a.a5,0])}else if(C.canonical.z>h.canonical.z){const F=C.canonical.z-h.canonical.z,$=C.canonical.x-(C.canonical.x>>F<<F),G=C.canonical.y-(C.canonical.y>>F<<F),K=h.canonical.x-(C.canonical.x>>F),Z=h.canonical.y-(C.canonical.y>>F),ie=a.a5>>F;a.c7(z,0,ie,ie,0,0,1),a.O(z,z,[-$*ie+K*a.a5,-G*ie+Z*a.a5,0])}else{const F=h.canonical.z-C.canonical.z,$=h.canonical.x-(h.canonical.x>>F<<F),G=h.canonical.y-(h.canonical.y>>F<<F),K=(h.canonical.x>>F)-C.canonical.x,Z=(h.canonical.y>>F)-C.canonical.y,ie=a.a5<<F;a.c7(z,0,ie,ie,0,0,1),a.O(z,z,[$*a.a5+K*ie,G*a.a5+Z*ie,0])}P.terrainRttPosMatrix32f=new Float32Array(z),_[v]=P}return _}getSourceTile(h,f){const _=this.tileManager._source;let v=h.overscaledZ-this.deltaZoom;if(v>_.maxzoom&&(v=_.maxzoom),v<_.minzoom)return;this._sourceTileCache[h.key]||(this._sourceTileCache[h.key]=h.scaledTo(v).key);let C=this.findTileInCaches(this._sourceTileCache[h.key]);if(!C?.dem&&f)for(;v>=_.minzoom&&!C?.dem;)C=this.findTileInCaches(h.scaledTo(v--).key);return C}findTileInCaches(h){let f=this.tileManager.getTileByID(h);return f||(f=this.tileManager._outOfViewCache.getByKey(h),f)}anyTilesAfterTime(h=Date.now()){return this._lastTilesetChange>=h}_isWithinTileRanges(h,f){return f[h.canonical.z]&&h.canonical.x>=f[h.canonical.z].minTileX&&h.canonical.x<=f[h.canonical.z].maxTileX&&h.canonical.y>=f[h.canonical.z].minTileY&&h.canonical.y<=f[h.canonical.z].maxTileY}}class pn{constructor(h,f,_){this._meshCache={},this.painter=h,this.tileManager=new Gh(f),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(h,f,_,v=a.a5){var C;if(!(f>=0&&f<v&&_>=0&&_<v))return 0;const P=this.getTerrainData(h),z=(C=P.tile)===null||C===void 0?void 0:C.dem;if(!z)return 0;const F=a.cC([],[f/v*a.a5,_/v*a.a5],P.u_terrain_matrix),$=[F[0]*z.dim,F[1]*z.dim],G=Math.floor($[0]),K=Math.floor($[1]),Z=$[0]-G,ie=$[1]-K;return z.get(G,K)*(1-Z)*(1-ie)+z.get(G+1,K)*Z*(1-ie)+z.get(G,K+1)*(1-Z)*ie+z.get(G+1,K+1)*Z*ie}getElevationForLngLatZoom(h,f){if(!a.cD(f,h.wrap()))return 0;const{tileID:_,mercatorX:v,mercatorY:C}=this._getOverscaledTileIDFromLngLatZoom(h,f);return this.getElevation(_,v%a.a5,C%a.a5,a.a5)}getElevationForLngLat(h,f){const _=Gt(f,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this});let v=0;for(const C of _)C.canonical.z>v&&(v=Math.min(C.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(h,v)}getElevation(h,f,_,v=a.a5){return this.getDEMElevation(h,f,_,v)*this.exaggeration}getTerrainData(h){if(!this._emptyDemTexture){const v=this.painter.context,C=new a.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new a.T(v,C,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new a.T(v,new a.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=a.ar([])}const f=this.tileManager.getSourceTile(h,!0);if(f&&f.dem&&(!f.demTexture||f.needsTerrainPrepare)){const v=this.painter.context;f.demTexture=this.painter.getTileTexture(f.dem.stride),f.demTexture?f.demTexture.update(f.dem.getPixels(),{premultiply:!1}):f.demTexture=new a.T(v,f.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),f.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),f.needsTerrainPrepare=!1}const _=f&&f.toString()+f.tileID.key+h.key;if(_&&!this._demMatrixCache[_]){const v=this.tileManager.getSource().maxzoom;let C=h.canonical.z-f.tileID.canonical.z;h.overscaledZ>h.canonical.z&&(h.canonical.z>=v?C=h.canonical.z-v:a.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const P=h.canonical.x-(h.canonical.x>>C<<C),z=h.canonical.y-(h.canonical.y>>C<<C),F=a.cE(new Float64Array(16),[1/(a.a5<<C),1/(a.a5<<C),0]);a.O(F,F,[P*a.a5,z*a.a5,0]),this._demMatrixCache[h.key]={matrix:F,coord:h}}return{u_depth:2,u_terrain:3,u_terrain_dim:f&&f.dem&&f.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[h.key].matrix:this._emptyDemMatrix,u_terrain_unpack:f&&f.dem&&f.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(f&&f.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:f}}getFramebuffer(h){const f=this.painter,_=f.width/devicePixelRatio,v=f.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new a.T(f.context,{width:_,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new a.T(f.context,{width:_,height:v,data:null},f.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(f.context.gl.NEAREST,f.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=f.context.createFramebuffer(_,v,!0,!1),this._fbo.depthAttachment.set(f.context.createRenderbuffer(f.context.gl.DEPTH_COMPONENT16,_,v))),this._fbo.colorAttachment.set(h==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const h=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const f=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let C=0,P=0;C<this._coordsTextureSize;C++)for(let z=0;z<this._coordsTextureSize;z++,P+=4)f[P+0]=255&z,f[P+1]=255&C,f[P+2]=z>>8<<4|C>>8,f[P+3]=0;const _=new a.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(f.buffer)),v=new a.T(h,_,h.gl.RGBA,{premultiply:!1});return v.bind(h.gl.NEAREST,h.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(h){this.painter.maybeDrawDepthAndCoords(!0);const f=new Uint8Array(4),_=this.painter.context,v=_.gl,C=Math.round(h.x*this.painter.pixelRatio/devicePixelRatio),P=Math.round(h.y*this.painter.pixelRatio/devicePixelRatio),z=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(C,z-P-1,1,1,v.RGBA,v.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null);const F=f[0]+(f[2]>>4<<8),$=f[1]+((15&f[2])<<8),G=this.coordsIndex[255-f[3]],K=G&&this.tileManager.getTileByID(G);if(!K)return null;const Z=this._coordsTextureSize,ie=(1<<K.tileID.canonical.z)*Z;return new a.a9((K.tileID.canonical.x*Z+F)/ie+K.tileID.wrap,(K.tileID.canonical.y*Z+$)/ie,this.getElevation(K.tileID,F,$,Z))}depthAtPoint(h){const f=new Uint8Array(4),_=this.painter.context,v=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),v.readPixels(h.x,this.painter.height/devicePixelRatio-h.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,f),_.bindFramebuffer.set(null),(f[0]/16777216+f[1]/65536+f[2]/256+f[3])/256}getTerrainMesh(h){var f;const _=((f=this.painter.style.projection)===null||f===void 0?void 0:f.transitionState)>0,v=_&&h.canonical.y===0,C=_&&h.canonical.y===(1<<h.canonical.z)-1,P=`m_${v?"n":""}_${C?"s":""}`;if(this._meshCache[P])return this._meshCache[P];const z=this.painter.context,F=new a.cF,$=new a.aY,G=this.meshSize,K=a.a5/G,Z=G*G;for(let we=0;we<=G;we++)for(let Ie=0;Ie<=G;Ie++)F.emplaceBack(Ie*K,we*K,0);for(let we=0;we<Z;we+=G+1)for(let Ie=0;Ie<G;Ie++)$.emplaceBack(Ie+we,G+Ie+we+1,G+Ie+we+2),$.emplaceBack(Ie+we,G+Ie+we+2,Ie+we+1);const ie=F.length,oe=ie+(G+1),fe=(G+1)*G,me=v?a.br:0,pe=v?0:1,ye=C?a.bs:a.a5,Ce=C?0:1;for(let we=0;we<=G;we++)F.emplaceBack(we*K,me,pe);for(let we=0;we<=G;we++)F.emplaceBack(we*K,ye,Ce);for(let we=0;we<G;we++)$.emplaceBack(fe+we,oe+we,oe+we+1),$.emplaceBack(fe+we,oe+we+1,fe+we+1),$.emplaceBack(0+we,ie+we+1,ie+we),$.emplaceBack(0+we,0+we+1,ie+we+1);const ge=F.length,Se=ge+2*(G+1);for(const we of[0,1])for(let Ie=0;Ie<=G;Ie++)for(const qe of[0,1])F.emplaceBack(we*a.a5,Ie*K,qe);for(let we=0;we<2*G;we+=2)$.emplaceBack(ge+we,ge+we+1,ge+we+3),$.emplaceBack(ge+we,ge+we+3,ge+we+2),$.emplaceBack(Se+we,Se+we+3,Se+we+1),$.emplaceBack(Se+we,Se+we+2,Se+we+3);const Pe=new $i(z.createVertexBuffer(F,$x.members),z.createIndexBuffer($),a.aX.simpleSegment(0,0,F.length,$.length));return this._meshCache[P]=Pe,Pe}getMeshFrameDelta(h){return 2*Math.PI*a.bE/Math.pow(2,Math.max(h,0))/5}getMinTileElevationForLngLatZoom(h,f){var _;if(!a.cD(f,h.wrap()))return 0;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(h,f);return(_=this.getMinMaxElevation(v).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(h){const f=this.getTerrainData(h).tile,_={minElevation:null,maxElevation:null};return f&&f.dem&&(_.minElevation=f.dem.min*this.exaggeration,_.maxElevation=f.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(h,f){const _=a.a9.fromLngLat(h.wrap()),v=(1<<f)*a.a5,C=_.x*v,P=_.y*v,z=Math.floor(C/a.a5),F=Math.floor(P/a.a5);return{tileID:new a.a2(f,0,f,z,F),mercatorX:C,mercatorY:P}}}class Dn{constructor(h,f,_){this._context=h,this._size=f,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const h of this._objects)h.texture.destroy(),h.fbo.destroy()}_createObject(h){const f=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new a.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),f.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),f.colorAttachment.set(_.texture),{id:h,fbo:f,texture:_,stamp:-1,inUse:!1}}getObjectForId(h){return this._objects[h]}useObject(h){h.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((f=>h.id!==f)),this._recentlyUsed.push(h.id)}stampObject(h){h.stamp=++this._stamp}getOrCreateFreeObject(){for(const f of this._recentlyUsed)if(!this._objects[f].inUse)return this._objects[f];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const h=this._createObject(this._objects.length);return this._objects.push(h),h}freeObject(h){h.inUse=!1}freeAllObjects(){for(const h of this._objects)this.freeObject(h)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((h=>!h.inUse))===!1}}const zo={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Uh{constructor(h,f){this.painter=h,this.terrain=f,this.pool=new Dn(h.context,30,f.tileManager.tileSize*f.qualityFactor)}destruct(){this.pool.destruct()}getTexture(h){return this.pool.getObjectForId(h.rtt[this._stacks.length-1].id).texture}prepareForRender(h,f){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=h._order.filter((_=>!h._layers[_].isHidden(f))),this._coordsAscending={};for(const _ in h.tileManagers){this._coordsAscending[_]={};const v=h.tileManagers[_].getVisibleCoordinates(),C=h.tileManagers[_].getSource(),P=C instanceof Mi?C.terrainTileRanges:null;for(const z of v){const F=this.terrain.tileManager.getTerrainCoords(z,P);for(const $ in F)this._coordsAscending[_][$]||(this._coordsAscending[_][$]=[]),this._coordsAscending[_][$].push(F[$])}}this._coordsAscendingStr={};for(const _ of h._order){const v=h._layers[_],C=v.source;if(zo[v.type]&&!this._coordsAscendingStr[C]){this._coordsAscendingStr[C]={};for(const P in this._coordsAscending[C])this._coordsAscendingStr[C][P]=this._coordsAscending[C][P].map((z=>z.key)).sort().join()}}for(const _ of this._renderableTiles)for(const v in this._coordsAscendingStr){const C=this._coordsAscendingStr[v][_.tileID.key];C&&C!==_.rttCoords[v]&&(_.rtt=[])}}renderLayer(h,f){if(h.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},f),{isRenderingToTexture:!0}),v=h.type,C=this.painter,P=this._renderableLayerIds[this._renderableLayerIds.length-1]===h.id;if(zo[v]&&(this._prevType&&zo[this._prevType]||this._stacks.push([]),this._prevType=v,this._stacks[this._stacks.length-1].push(h.id),!P))return!0;if(zo[this._prevType]||zo[v]&&P){this._prevType=v;const z=this._stacks.length-1,F=this._stacks[z]||[];for(const $ of this._renderableTiles){if(this.pool.isFull()&&(Sf(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push($),$.rtt[z]){const K=this.pool.getObjectForId($.rtt[z].id);if(K.stamp===$.rtt[z].stamp){this.pool.useObject(K);continue}}const G=this.pool.getOrCreateFreeObject();this.pool.useObject(G),this.pool.stampObject(G),$.rtt[z]={id:G.id,stamp:G.stamp},C.context.bindFramebuffer.set(G.fbo.framebuffer),C.context.clear({color:a.bp.transparent,stencil:0}),C.currentStencilSource=void 0;for(let K=0;K<F.length;K++){const Z=C.style._layers[F[K]],ie=Z.source?this._coordsAscending[Z.source][$.tileID.key]:[$.tileID];C.context.viewport.set([0,0,G.fbo.width,G.fbo.height]),C._renderTileClippingMasks(Z,ie,!0),C.renderLayer(C,C.style.tileManagers[Z.source],Z,ie,_),Z.source&&($.rttCoords[Z.source]=this._coordsAscendingStr[Z.source][$.tileID.key])}}return Sf(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),zo[v]}return!1}}const Ec={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ff=d,Ic={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Er,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:a.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Of={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Wh{constructor(h,f,_=!1){this.mousedown=C=>{this.startMove(C,D.mousePos(this.element,C)),D.addEventListener(window,"mousemove",this.mousemove),D.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=C=>{this.move(C,D.mousePos(this.element,C))},this.mouseup=C=>{this._rotatePitchHandler.dragEnd(C),this.offTemp()},this.touchstart=C=>{C.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=D.touchPos(this.element,C.targetTouches)[0],this.startMove(C,this._startPos),D.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),D.addEventListener(window,"touchend",this.touchend))},this.touchmove=C=>{C.targetTouches.length!==1?this.reset():(this._lastPos=D.touchPos(this.element,C.targetTouches)[0],this.move(C,this._lastPos))},this.touchend=C=>{C.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=f;const v=new Pg;this._rotatePitchHandler=new Pl({clickTolerance:3,move:(C,P)=>{const z=f.getBoundingClientRect(),F=new a.P((z.bottom-z.top)/2,(z.right-z.left)/2);return{bearingDelta:a.cx(new a.P(C.x,P.y),P,F),pitchDelta:_?-.5*(P.y-C.y):void 0}},moveStateManager:v,enable:!0,assignEvents:()=>{}}),this.map=h,D.addEventListener(f,"mousedown",this.mousedown),D.addEventListener(f,"touchstart",this.touchstart,{passive:!1}),D.addEventListener(f,"touchcancel",this.reset)}startMove(h,f){this._rotatePitchHandler.dragStart(h,f),D.disableDrag()}move(h,f){const _=this.map,{bearingDelta:v,pitchDelta:C}=this._rotatePitchHandler.dragMove(h,f)||{};v&&_.setBearing(_.getBearing()+v),C&&_.setPitch(_.getPitch()+C)}off(){const h=this.element;D.removeEventListener(h,"mousedown",this.mousedown),D.removeEventListener(h,"touchstart",this.touchstart,{passive:!1}),D.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),D.removeEventListener(window,"touchend",this.touchend),D.removeEventListener(h,"touchcancel",this.reset),this.offTemp()}offTemp(){D.enableDrag(),D.removeEventListener(window,"mousemove",this.mousemove),D.removeEventListener(window,"mouseup",this.mouseup),D.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),D.removeEventListener(window,"touchend",this.touchend)}}let zs;function Dc(T,h,f,_=!1){if(_||!f.getCoveringTilesDetailsProvider().allowWorldCopies())return T?.wrap();const v=new a.V(T.lng,T.lat);if(T=new a.V(T.lng,T.lat),h){const C=new a.V(T.lng-360,T.lat),P=new a.V(T.lng+360,T.lat),z=f.locationToScreenPoint(T).distSqr(h);f.locationToScreenPoint(C).distSqr(h)<z?T=C:f.locationToScreenPoint(P).distSqr(h)<z&&(T=P)}for(;Math.abs(T.lng-f.center.lng)>180;){const C=f.locationToScreenPoint(T);if(C.x>=0&&C.y>=0&&C.x<=f.width&&C.y<=f.height)break;T.lng>f.center.lng?T.lng-=360:T.lng+=360}return T.lng!==v.lng&&f.isPointOnMapSurface(f.locationToScreenPoint(T))?T:v}const Xh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zc(T,h,f){const _=T.classList;for(const v in Xh)_.remove(`maplibregl-${f}-anchor-${v}`);_.add(`maplibregl-${f}-anchor-${h}`)}class qh extends a.E{constructor(h){if(super(),this._onKeyPress=f=>{const _=f.code,v=f.charCode||f.keyCode;_!=="Space"&&_!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=f=>{const _=f.originalEvent.target,v=this._element;this._popup&&(_===v||v.contains(_))&&this.togglePopup()},this._update=f=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(f?.type==="terrain"||f?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=Dc(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let C="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?C="rotateX(0deg)":this._pitchAlignment==="map"&&(C=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||f&&f.type!=="moveend"||(this._pos=this._pos.round()),D.setTransform(this._element,`${Xh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${C} ${v}`),S.frameAsync(new AbortController).then((()=>{this._updateOpacity(f&&f.type==="moveend")})).catch((()=>{}))},this._onMove=f=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=f.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=f.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.l("dragstart"))),this.fire(new a.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.l("dragend")),this._state="inactive"},this._addDragHandler=f=>{this._element.contains(f.originalEvent.target)&&(f.preventDefault(),this._positionDelta=f.point.sub(this._pos).add(this._offset),this._pointerdownPos=f.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=h&&h.anchor||"center",this._color=h&&h.color||"#3FB1CE",this._scale=h&&h.scale||1,this._draggable=h&&h.draggable||!1,this._clickTolerance=h&&h.clickTolerance||0,this._subpixelPositioning=h&&h.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=h&&h.rotation||0,this._rotationAlignment=h&&h.rotationAlignment||"auto",this._pitchAlignment=h&&h.pitchAlignment&&h.pitchAlignment!=="auto"?h.pitchAlignment:this._rotationAlignment,this.setOpacity(h?.opacity,h?.opacityWhenCovered),h&&h.element)this._element=h.element,this._offset=a.P.convert(h&&h.offset||[0,0]);else{this._defaultMarker=!0,this._element=D.create("div");const f=D.createNS("http://www.w3.org/2000/svg","svg"),_=41,v=27;f.setAttributeNS(null,"display","block"),f.setAttributeNS(null,"height",`${_}px`),f.setAttributeNS(null,"width",`${v}px`),f.setAttributeNS(null,"viewBox",`0 0 ${v} ${_}`);const C=D.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"stroke","none"),C.setAttributeNS(null,"stroke-width","1"),C.setAttributeNS(null,"fill","none"),C.setAttributeNS(null,"fill-rule","evenodd");const P=D.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"fill-rule","nonzero");const z=D.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"transform","translate(3.0, 29.0)"),z.setAttributeNS(null,"fill","#000000");const F=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const pe of F){const ye=D.createNS("http://www.w3.org/2000/svg","ellipse");ye.setAttributeNS(null,"opacity","0.04"),ye.setAttributeNS(null,"cx","10.5"),ye.setAttributeNS(null,"cy","5.80029008"),ye.setAttributeNS(null,"rx",pe.rx),ye.setAttributeNS(null,"ry",pe.ry),z.appendChild(ye)}const $=D.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"fill",this._color);const G=D.createNS("http://www.w3.org/2000/svg","path");G.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),$.appendChild(G);const K=D.createNS("http://www.w3.org/2000/svg","g");K.setAttributeNS(null,"opacity","0.25"),K.setAttributeNS(null,"fill","#000000");const Z=D.createNS("http://www.w3.org/2000/svg","path");Z.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),K.appendChild(Z);const ie=D.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ie.setAttributeNS(null,"fill","#FFFFFF");const oe=D.createNS("http://www.w3.org/2000/svg","g");oe.setAttributeNS(null,"transform","translate(8.0, 8.0)");const fe=D.createNS("http://www.w3.org/2000/svg","circle");fe.setAttributeNS(null,"fill","#000000"),fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"cx","5.5"),fe.setAttributeNS(null,"cy","5.5"),fe.setAttributeNS(null,"r","5.4999962");const me=D.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#FFFFFF"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962"),oe.appendChild(fe),oe.appendChild(me),P.appendChild(z),P.appendChild($),P.appendChild(K),P.appendChild(ie),P.appendChild(oe),f.appendChild(P),f.setAttributeNS(null,"height",_*this._scale+"px"),f.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(f),this._offset=a.P.convert(h&&h.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(f=>{f.preventDefault()})),this._element.addEventListener("mousedown",(f=>{f.preventDefault()})),zc(this._element,this._anchor,"marker"),h&&h.className)for(const f of h.className.split(" "))this._element.classList.add(f);this._popup=null}addTo(h){return this.remove(),this._map=h,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",h._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),h.getCanvasContainer().appendChild(this._element),h.on("move",this._update),h.on("moveend",this._update),h.on("terrain",this._update),h.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),D.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(h){return this._lngLat=a.V.convert(h),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(h){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),h){if(!("offset"in h.options)){const v=Math.abs(13.5)/Math.SQRT2;h.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=h,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(h){return this._subpixelPositioning=h,this}getPopup(){return this._popup}togglePopup(){const h=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:h?(h.isOpen()?h.remove():(h.setLngLat(this._lngLat),h.addTo(this._map)),this):this}_updateOpacity(h=!1){var f,_;const v=(f=this._map)===null||f===void 0?void 0:f.terrain,C=this._map.transform.isLocationOccluded(this._lngLat);if(!v||C){const ie=C?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==ie&&(this._element.style.opacity=ie))}if(h)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const P=this._map,z=P.terrain.depthAtPoint(this._pos),F=P.terrain.getElevationForLngLat(this._lngLat,P.transform);if(P.transform.lngLatToCameraDepth(this._lngLat,F)-z<.006)return void(this._element.style.opacity=this._opacity);const $=-this._offset.y/P.transform.pixelsPerMeter,G=Math.sin(P.getPitch()*Math.PI/180)*$,K=P.terrain.depthAtPoint(new a.P(this._pos.x,this._pos.y-this._offset.y)),Z=P.transform.lngLatToCameraDepth(this._lngLat,F+G)-K>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&Z&&this._popup.remove(),this._element.style.opacity=Z?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(h){return this._offset=a.P.convert(h),this._update(),this}addClassName(h){this._element.classList.add(h)}removeClassName(h){this._element.classList.remove(h)}toggleClassName(h){return this._element.classList.toggle(h)}setDraggable(h){return this._draggable=!!h,this._map&&(h?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(h){return this._rotation=h||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(h){return this._rotationAlignment=h||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(h){return this._pitchAlignment=h&&h!=="auto"?h:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(h,f){return(this._opacity===void 0||h===void 0&&f===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),h!==void 0&&(this._opacity=h),f!==void 0&&(this._opacityWhenCovered=f),this._map&&this._updateOpacity(!0),this}}const Bf={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let El=0,Ro=!1;const jf={maxWidth:100,unit:"metric"};function Yh(T,h,f){const _=f&&f.maxWidth||100,v=T._container.clientHeight/2,C=T._container.clientWidth/2,P=T.unproject([C-_/2,v]),z=T.unproject([C+_/2,v]),F=Math.round(T.project(z).x-T.project(P).x),$=Math.min(_,F,T._container.clientWidth),G=P.distanceTo(z);if(f&&f.unit==="imperial"){const K=3.2808*G;K>5280?Fo(h,$,K/5280,T._getUIString("ScaleControl.Miles")):Fo(h,$,K,T._getUIString("ScaleControl.Feet"))}else f&&f.unit==="nautical"?Fo(h,$,G/1852,T._getUIString("ScaleControl.NauticalMiles")):G>=1e3?Fo(h,$,G/1e3,T._getUIString("ScaleControl.Kilometers")):Fo(h,$,G,T._getUIString("ScaleControl.Meters"))}function Fo(T,h,f,_){const v=(function(C){const P=Math.pow(10,`${Math.floor(C)}`.length-1);let z=C/P;return z=z>=10?10:z>=5?5:z>=3?3:z>=2?2:z>=1?1:(function(F){const $=Math.pow(10,Math.ceil(-Math.log(F)/Math.LN10));return Math.round(F*$)/$})(z),P*z})(f);T.style.width=h*(v/f)+"px",T.innerHTML=`${v}&nbsp;${_}`}const Nf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Rc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Fc(T){if(T){if(typeof T=="number"){const h=Math.round(Math.abs(T)/Math.SQRT2);return{center:new a.P(0,0),top:new a.P(0,T),"top-left":new a.P(h,h),"top-right":new a.P(-h,h),bottom:new a.P(0,-T),"bottom-left":new a.P(h,-h),"bottom-right":new a.P(-h,-h),left:new a.P(T,0),right:new a.P(-T,0)}}if(T instanceof a.P||Array.isArray(T)){const h=a.P.convert(T);return{center:h,top:h,"top-left":h,"top-right":h,bottom:h,"bottom-left":h,"bottom-right":h,left:h,right:h}}return{center:a.P.convert(T.center||[0,0]),top:a.P.convert(T.top||[0,0]),"top-left":a.P.convert(T["top-left"]||[0,0]),"top-right":a.P.convert(T["top-right"]||[0,0]),bottom:a.P.convert(T.bottom||[0,0]),"bottom-left":a.P.convert(T["bottom-left"]||[0,0]),"bottom-right":a.P.convert(T["bottom-right"]||[0,0]),left:a.P.convert(T.left||[0,0]),right:a.P.convert(T.right||[0,0])}}return Fc(new a.P(0,0))}const $f=d;o.AJAXError=a.cI,o.Event=a.l,o.Evented=a.E,o.LngLat=a.V,o.MercatorCoordinate=a.a9,o.Point=a.P,o.addProtocol=a.cJ,o.config=a.c,o.removeProtocol=a.cK,o.AttributionControl=Rf,o.BoxZoomHandler=Ml,o.CanvasSource=ae,o.CooperativeGesturesHandler=Lt,o.DoubleClickZoomHandler=zf,o.DragPanHandler=Rg,o.DragRotateHandler=Yr,o.EdgeInsets=cl,o.FullscreenControl=class extends a.E{constructor(T={}){super(),this._onFullscreenChange=()=>{var h;let f=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((h=f?.shadowRoot)===null||h===void 0)&&h.fullscreenElement;)f=f.shadowRoot.fullscreenElement;f===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,T&&T.container&&(T.container instanceof HTMLElement?this._container=T.container:a.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(T){return this._map=T,this._container||(this._container=this._map.getContainer()),this._controlContainer=D.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){D.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const T=this._fullscreenButton=D.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);D.create("span","maplibregl-ctrl-icon",T).setAttribute("aria-hidden","true"),T.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const T=this._getTitle();this._fullscreenButton.setAttribute("aria-label",T),this._fullscreenButton.title=T}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new a.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new a.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},o.GeoJSONSource=Ya,o.GeolocateControl=class extends a.E{constructor(T){super(),this._onSuccess=h=>{if(this._map){if(this._isOutOfMapMaxBounds(h))return this._setErrorState(),this.fire(new a.l("outofmaxbounds",h)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=h,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(h),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(h),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new a.l("geolocate",h)),this._finish()}},this._updateCamera=h=>{const f=new a.V(h.coords.longitude,h.coords.latitude),_=h.coords.accuracy,v=this._map.getBearing(),C=a.e({bearing:v},this.options.fitBoundsOptions),P=Ye.fromLngLat(f,_);this._map.fitBounds(P,C,{geolocateSource:!0})},this._updateMarker=h=>{if(h){const f=new a.V(h.coords.longitude,h.coords.latitude);this._accuracyCircleMarker.setLngLat(f).addTo(this._map),this._userLocationDotMarker.setLngLat(f).addTo(this._map),this._accuracy=h.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=h=>{if(this._map){if(h.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(h.code===3&&Ro)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new a.l("error",h)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(h=>h.preventDefault())),this._geolocateButton=D.create("button","maplibregl-ctrl-geolocate",this._container),D.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=h=>{if(this._map){if(h===!1){a.w("Geolocation support is not available so the GeolocateControl will be disabled.");const f=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}else{const f=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=f,this._geolocateButton.setAttribute("aria-label",f)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=D.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new qh({element:this._dotElement}),this._circleElement=D.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new qh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(f=>{const _=f?.[0]instanceof ResizeObserverEntry;f.geolocateSource||this._watchState!=="ACTIVE_LOCK"||_||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new a.l("trackuserlocationend")),this.fire(new a.l("userlocationlostfocus")))}))}},this.options=a.e({},Bf,T)}onAdd(T){return this._map=T,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return a._(this,arguments,void 0,(function*(h=!1){if(zs!==void 0&&!h)return zs;if(window.navigator.permissions===void 0)return zs=!!window.navigator.geolocation,zs;try{zs=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{zs=!!window.navigator.geolocation}return zs}))})().then((h=>this._finishSetupUI(h))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),D.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,El=0,Ro=!1}_isOutOfMapMaxBounds(T){const h=this._map.getMaxBounds(),f=T.coords;return h&&(f.longitude<h.getWest()||f.longitude>h.getEast()||f.latitude<h.getSouth()||f.latitude>h.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const T=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&T))return;const h=this._map.project(T),f=this._map.unproject([h.x+100,h.y]),_=T.distanceTo(f)/100,v=2*this._accuracy/_;this._circleElement.style.width=`${v.toFixed(2)}px`,this._circleElement.style.height=`${v.toFixed(2)}px`}trigger(){if(!this._setup)return a.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":El--,Ro=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new a.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.l("trackuserlocationstart")),this.fire(new a.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let T;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),El++,El>1?(T={maximumAge:6e5,timeout:0},Ro=!0):(T=this.options.positionOptions,Ro=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,T)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},o.GlobeControl=class{constructor(){this._toggleProjection=()=>{var T;const h=(T=this._map.getProjection())===null||T===void 0?void 0:T.type;this._map.setProjection(h!=="mercator"&&h?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var T;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((T=this._map.getProjection())===null||T===void 0?void 0:T.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(T){return this._map=T,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=D.create("button","maplibregl-ctrl-globe",this._container),D.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){D.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},o.Hash=Af,o.ImageSource=Mi,o.KeyboardHandler=ji,o.LngLatBounds=Ye,o.LogoControl=Fg,o.Map=class extends Va{constructor(T){var h,f;a.cG.mark(a.cH.create);const _=Object.assign(Object.assign(Object.assign({},Ic),T),{canvasContextAttributes:Object.assign(Object.assign({},Ic.canvasContextAttributes),T.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const v=new ko,C=new So;if(_.minZoom!==void 0&&v.setMinZoom(_.minZoom),_.maxZoom!==void 0&&v.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&v.setMinPitch(_.minPitch),_.maxPitch!==void 0&&v.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&v.setRenderWorldCopies(_.renderWorldCopies),_.transformConstrain!==null&&v.setConstrainOverride(_.transformConstrain),super(v,C,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Nx,this._controls=[],this._mapId=a.af(),this._lostContextStyle={style:null,images:null},this._contextLost=z=>{z.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const F of Object.values(this.style._layers))if(F.type==="custom"&&console.warn(`Custom layer with id '${F.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),F._listeners)for(const[$]of Object.entries(F._listeners))console.warn(`Custom layer with id '${F.id}' had event listeners for event '${$}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new a.l("webglcontextlost",{originalEvent:z}))},this._contextRestored=z=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new a.l("webglcontextrestored",{originalEvent:z}))},this._onMapScroll=z=>{if(z.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},Ec),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this._zoomLevelsToOverscale=_.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=_.transformCameraUpdate,this.transformConstrain=_.transformConstrain,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,_.reduceMotion!==void 0&&(S.prefersReducedMotion=_.reduceMotion),this._imageQueueHandle=Y.addThrottleControl((()=>this.isMoving())),this._requestManager=new te(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let z=!1;const F=Cf(($=>{this._trackResize&&!this._removed&&(this.resize($),this.redraw())}),50);this._resizeObserver=new ResizeObserver(($=>{z?F($):z=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Lc(this,_),this._hash=_.hash&&new Af(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,a.e({},_.fitBoundsOptions,{duration:0}))));const P=typeof _.style=="string"||((f=(h=_.style)===null||h===void 0?void 0:h.projection)===null||f===void 0?void 0:f.type)!=="globe";this.resize(null,P),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new Rf(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new Fg,_.logoPosition),this.on("style.load",(()=>{if(P||this._resizeTransform(),this.transform.unmodified){const z=a.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(z)}})),this.on("data",(z=>{this._update(z.dataType==="style"),this.fire(new a.l(`${z.dataType}data`,z))})),this.on("dataloading",(z=>{this.fire(new a.l(`${z.dataType}dataloading`,z))})),this.on("dataabort",(z=>{this.fire(new a.l("sourcedataabort",z))}))}_getMapId(){return this._mapId}setGlobalStateProperty(T,h){return this.style.setGlobalStateProperty(T,h),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(T,h){if(h===void 0&&(h=T.getDefaultPosition?T.getDefaultPosition():"top-right"),!T||!T.onAdd)return this.fire(new a.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const f=T.onAdd(this);this._controls.push(T);const _=this._controlPositions[h];return h.indexOf("bottom")!==-1?_.insertBefore(f,_.firstChild):_.appendChild(f),this}removeControl(T){if(!T||!T.onRemove)return this.fire(new a.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const h=this._controls.indexOf(T);return h>-1&&this._controls.splice(h,1),T.onRemove(this),this}hasControl(T){return this._controls.indexOf(T)>-1}coveringTiles(T){return Gt(this.transform,T)}calculateCameraOptionsFromTo(T,h,f,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLat(f,this.transform)),super.calculateCameraOptionsFromTo(T,h,f,_)}resize(T,h=!0){const[f,_]=this._containerDimensions(),v=this._getClampedPixelRatio(f,_);if(this._resizeCanvas(f,_,v),this.painter.resize(f,_,v),this.painter.overLimit()){const P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];const z=this._getClampedPixelRatio(f,_);this._resizeCanvas(f,_,z),this.painter.resize(f,_,z)}this._resizeTransform(h);const C=!this._moving;return C&&(this.stop(),this.fire(new a.l("movestart",T)).fire(new a.l("move",T))),this.fire(new a.l("resize",T)),C&&this.fire(new a.l("moveend",T)),this}_resizeTransform(T=!0){var h;const[f,_]=this._containerDimensions();this.transform.resize(f,_,T),(h=this._requestedCameraState)===null||h===void 0||h.resize(f,_,T)}_getClampedPixelRatio(T,h){const{0:f,1:_}=this._maxCanvasSize,v=this.getPixelRatio(),C=T*v,P=h*v;return Math.min(C>f?f/C:1,P>_?_/P:1)*v}getPixelRatio(){var T;return(T=this._overridePixelRatio)!==null&&T!==void 0?T:devicePixelRatio}setPixelRatio(T){this._overridePixelRatio=T,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(T){return this.transform.setMaxBounds(Ye.convert(T)),this._update()}setMinZoom(T){if((T=T??-2)>=-2&&T<=this.transform.maxZoom){const h=this._getTransformForUpdate();return h.setMinZoom(T),this._applyUpdatedTransform(h),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(T){if((T=T??22)>=this.transform.minZoom){const h=this._getTransformForUpdate();return h.setMaxZoom(T),this._applyUpdatedTransform(h),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(T){if((T=T??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(T>=0&&T<=this.transform.maxPitch)return this.transform.setMinPitch(T),this._update(),this.getPitch()<T&&this.setPitch(T),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(T){if((T=T??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(T>=this.transform.minPitch)return this.transform.setMaxPitch(T),this._update(),this.getPitch()>T&&this.setPitch(T),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(T){return this.transform.setRenderWorldCopies(T),this._update()}setTransformConstrain(T){return this.transform.setConstrainOverride(T),this._update()}project(T){return this.transform.locationToScreenPoint(a.V.convert(T),this.style&&this.terrain)}unproject(T){return this.transform.screenPointToLocation(a.P.convert(T),this.terrain)}isMoving(){var T;return this._moving||((T=this.handlers)===null||T===void 0?void 0:T.isMoving())}isZooming(){var T;return this._zooming||((T=this.handlers)===null||T===void 0?void 0:T.isZooming())}isRotating(){var T;return this._rotating||((T=this.handlers)===null||T===void 0?void 0:T.isRotating())}_createDelegatedListener(T,h,f){if(T==="mouseenter"||T==="mouseover"){let _=!1;return{layers:h,listener:f,delegates:{mousemove:C=>{const P=h.filter((F=>this.getLayer(F))),z=P.length!==0?this.queryRenderedFeatures(C.point,{layers:P}):[];z.length?_||(_=!0,f.call(this,new ha(T,this,C.originalEvent,{features:z}))):_=!1},mouseout:()=>{_=!1}}}}if(T==="mouseleave"||T==="mouseout"){let _=!1;return{layers:h,listener:f,delegates:{mousemove:P=>{const z=h.filter((F=>this.getLayer(F)));(z.length!==0?this.queryRenderedFeatures(P.point,{layers:z}):[]).length?_=!0:_&&(_=!1,f.call(this,new ha(T,this,P.originalEvent)))},mouseout:P=>{_&&(_=!1,f.call(this,new ha(T,this,P.originalEvent)))}}}}{const _=v=>{const C=h.filter((z=>this.getLayer(z))),P=C.length!==0?this.queryRenderedFeatures(v.point,{layers:C}):[];P.length&&(v.features=P,f.call(this,v),delete v.features)};return{layers:h,listener:f,delegates:{[T]:_}}}}_saveDelegatedListener(T,h){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[T]=this._delegatedListeners[T]||[],this._delegatedListeners[T].push(h)}_removeDelegatedListener(T,h,f){if(!this._delegatedListeners||!this._delegatedListeners[T])return;const _=this._delegatedListeners[T];for(let v=0;v<_.length;v++){const C=_[v];if(C.listener===f&&C.layers.length===h.length&&C.layers.every((P=>h.includes(P)))){for(const P in C.delegates)this.off(P,C.delegates[P]);return void _.splice(v,1)}}}on(T,h,f){if(f===void 0)return super.on(T,h);const _=typeof h=="string"?[h]:h,v=this._createDelegatedListener(T,_,f);this._saveDelegatedListener(T,v);for(const C in v.delegates)this.on(C,v.delegates[C]);return{unsubscribe:()=>{this._removeDelegatedListener(T,_,f)}}}once(T,h,f){if(f===void 0)return super.once(T,h);const _=typeof h=="string"?[h]:h,v=this._createDelegatedListener(T,_,f);for(const C in v.delegates){const P=v.delegates[C];v.delegates[C]=(...z)=>{this._removeDelegatedListener(T,_,f),P(...z)}}this._saveDelegatedListener(T,v);for(const C in v.delegates)this.once(C,v.delegates[C]);return this}off(T,h,f){return f===void 0?super.off(T,h):(this._removeDelegatedListener(T,typeof h=="string"?[h]:h,f),this)}queryRenderedFeatures(T,h){if(!this.style)return[];let f;const _=T instanceof a.P||Array.isArray(T),v=_?T:[[0,0],[this.transform.width,this.transform.height]];if(h=h||(_?{}:T)||{},v instanceof a.P||typeof v[0]=="number")f=[a.P.convert(v)];else{const C=a.P.convert(v[0]),P=a.P.convert(v[1]);f=[C,new a.P(P.x,C.y),P,new a.P(C.x,P.y),C]}return this.style.queryRenderedFeatures(f,h,this.transform)}querySourceFeatures(T,h){return this.style.querySourceFeatures(T,h)}setStyle(T,h){return(h=a.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},h)).diff!==!1&&h.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&T?(this._diffStyle(T,h),this):(this._localIdeographFontFamily=h.localIdeographFontFamily,this._updateStyle(T,h))}setTransformRequest(T){return this._requestManager.setTransformRequest(T),this}_getUIString(T){const h=this._locale[T];if(h==null)throw new Error(`Missing UI string '${T}'`);return h}_updateStyle(T,h){var f,_;if(h.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(T,h)));const v=this.style&&h.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!T)),T?(this.style=new Co(this,h||{}),this.style.setEventedParent(this,{style:this.style}),typeof T=="string"?this.style.loadURL(T,h,v):this.style.loadJSON(T,h,v),this):((_=(f=this.style)===null||f===void 0?void 0:f.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Co(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(T,h){if(typeof T=="string"){const f=this._requestManager.transformRequest(T,"Style");a.j(f,new AbortController).then((_=>{this._updateDiff(_.data,h)})).catch((_=>{_&&this.fire(new a.k(_))}))}else typeof T=="object"&&this._updateDiff(T,h)}_updateDiff(T,h){try{this.style.setState(T,h)&&this._update(!0)}catch(f){a.w(`Unable to perform style diff: ${f.message||f.error||f}.  Rebuilding the style from scratch.`),this._updateStyle(T,h)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():a.w("There is no style added to the map.")}addSource(T,h){return this._lazyInitEmptyStyle(),this.style.addSource(T,h),this._update(!0)}isSourceLoaded(T){const h=this.style&&this.style.tileManagers[T];if(h!==void 0)return h.loaded();this.fire(new a.k(new Error(`There is no tile manager with ID '${T}'`)))}setTerrain(T){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),T){const h=this.style.tileManagers[T.source];if(!h)throw new Error(`cannot load terrain, because there exists no source with ID: ${T.source}`);this.terrain===null&&h.reload();for(const f in this.style._layers){const _=this.style._layers[f];_.type==="hillshade"&&_.source===T.source&&a.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===T.source&&a.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new pn(this.painter,h,T),this.painter.renderToTexture=new Uh(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=f=>{var _;f.dataType==="style"?this.terrain.tileManager.freeRtt():f.dataType==="source"&&f.tile&&(f.sourceId!==T.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=f.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(f.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new a.l("terrain",{terrain:T})),this}getTerrain(){var T,h;return(h=(T=this.terrain)===null||T===void 0?void 0:T.options)!==null&&h!==void 0?h:null}areTilesLoaded(){const T=this.style&&this.style.tileManagers;for(const h of Object.values(T))if(!h.areTilesLoaded())return!1;return!0}removeSource(T){return this.style.removeSource(T),this._update(!0)}getSource(T){return this.style.getSource(T)}setSourceTileLodParams(T,h,f){if(f){const _=this.getSource(f);if(!_)throw new Error(`There is no source with ID "${f}", cannot set LOD parameters`);_.calculateTileZoom=yi(Math.max(1,T),Math.max(1,h))}else for(const _ in this.style.tileManagers)this.style.tileManagers[_].getSource().calculateTileZoom=yi(Math.max(1,T),Math.max(1,h));return this._update(!0),this}refreshTiles(T,h){const f=this.style.tileManagers[T];if(!f)throw new Error(`There is no tile manager with ID "${T}", cannot refresh tile`);h===void 0?f.reload(!0):f.refreshTiles(h.map((_=>new a.ac(_.z,_.x,_.y))))}addImage(T,h,f={}){const{pixelRatio:_=1,sdf:v=!1,stretchX:C,stretchY:P,content:z,textFitWidth:F,textFitHeight:$}=f;if(this._lazyInitEmptyStyle(),!(h instanceof HTMLImageElement||a.b(h))){if(h.width===void 0||h.height===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:G,height:K,data:Z}=h,ie=h;return this.style.addImage(T,{data:new a.R({width:G,height:K},new Uint8Array(Z)),pixelRatio:_,stretchX:C,stretchY:P,content:z,textFitWidth:F,textFitHeight:$,sdf:v,version:0,userImage:ie}),ie.onAdd&&ie.onAdd(this,T),this}}{const{width:G,height:K,data:Z}=S.getImageData(h);this.style.addImage(T,{data:new a.R({width:G,height:K},Z),pixelRatio:_,stretchX:C,stretchY:P,content:z,textFitWidth:F,textFitHeight:$,sdf:v,version:0})}}updateImage(T,h){const f=this.style.getImage(T);if(!f)return this.fire(new a.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=h instanceof HTMLImageElement||a.b(h)?S.getImageData(h):h,{width:v,height:C,data:P}=_;if(v===void 0||C===void 0)return this.fire(new a.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==f.data.width||C!==f.data.height)return this.fire(new a.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const z=!(h instanceof HTMLImageElement||a.b(h));return f.data.replace(P,z),this.style.updateImage(T,f),this}getImage(T){return this.style.getImage(T)}hasImage(T){return T?!!this.style.getImage(T):(this.fire(new a.k(new Error("Missing required image id"))),!1)}removeImage(T){this.style.removeImage(T)}loadImage(T){return Y.getImage(this._requestManager.transformRequest(T,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(T,h){return this._lazyInitEmptyStyle(),this.style.addLayer(T,h),this._update(!0)}moveLayer(T,h){return this.style.moveLayer(T,h),this._update(!0)}removeLayer(T){return this.style.removeLayer(T),this._update(!0)}getLayer(T){return this.style.getLayer(T)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(T,h,f){return this.style.setLayerZoomRange(T,h,f),this._update(!0)}setFilter(T,h,f={}){return this.style.setFilter(T,h,f),this._update(!0)}getFilter(T){return this.style.getFilter(T)}setPaintProperty(T,h,f,_={}){return this.style.setPaintProperty(T,h,f,_),this._update(!0)}getPaintProperty(T,h){return this.style.getPaintProperty(T,h)}setLayoutProperty(T,h,f,_={}){return this.style.setLayoutProperty(T,h,f,_),this._update(!0)}getLayoutProperty(T,h){return this.style.getLayoutProperty(T,h)}setGlyphs(T,h={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(T,h),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(T,h,f={}){return this._lazyInitEmptyStyle(),this.style.addSprite(T,h,f,(_=>{_||this._update(!0)})),this}removeSprite(T){return this._lazyInitEmptyStyle(),this.style.removeSprite(T),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(T,h={}){return this._lazyInitEmptyStyle(),this.style.setSprite(T,h,(f=>{f||this._update(!0)})),this}setLight(T,h={}){return this._lazyInitEmptyStyle(),this.style.setLight(T,h),this._update(!0)}getLight(){return this.style.getLight()}setSky(T,h={}){return this._lazyInitEmptyStyle(),this.style.setSky(T,h),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(T,h){return this.style.setFeatureState(T,h),this._update()}removeFeatureState(T,h){return this.style.removeFeatureState(T,h),this._update()}getFeatureState(T){return this.style.getFeatureState(T)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let T=0,h=0;return this._container&&(T=this._container.clientWidth||400,h=this._container.clientHeight||300),[T,h]}_setupContainer(){const T=this._container;T.classList.add("maplibregl-map");const h=this._canvasContainer=D.create("div","maplibregl-canvas-container",T);this._interactive&&h.classList.add("maplibregl-interactive"),this._canvas=D.create("canvas","maplibregl-canvas",h),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const f=this._containerDimensions(),_=this._getClampedPixelRatio(f[0],f[1]);this._resizeCanvas(f[0],f[1],_);const v=this._controlContainer=D.create("div","maplibregl-control-container",T),C=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((P=>{C[P]=D.create("div",`maplibregl-ctrl-${P} `,v)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(T,h,f){this._canvas.width=Math.floor(f*T),this._canvas.height=Math.floor(f*h),this._canvas.style.width=`${T}px`,this._canvas.style.height=`${h}px`}_setupPainter(){const T=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let h=null;this._canvas.addEventListener("webglcontextcreationerror",(_=>{h={requestedAttributes:T},_&&(h.statusMessage=_.statusMessage,h.type=_.type)}),{once:!0});let f=null;if(f=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,T):this._canvas.getContext("webgl2",T)||this._canvas.getContext("webgl",T),!f){const _="Failed to initialize WebGL";throw h?(h.message=_,new Error(JSON.stringify(h))):new Error(_)}this.painter=new Tg(f,this.transform),O.testSupport(f)}migrateProjection(T,h){super.migrateProjection(T,h),this.painter.transform=T,this.fire(new a.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(T){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||T,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(T){return this._update(),this._renderTaskQueue.add(T)}_cancelRenderFrame(T){this._renderTaskQueue.remove(T)}_render(T){var h,f,_,v,C;const P=this._idleTriggered?this._fadeDuration:0,z=((h=this.style.projection)===null||h===void 0?void 0:h.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(T),this._removed)return;let F=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const K=this.transform.zoom,Z=M();this.style.zoomHistory.update(K,Z);const ie=new a.H(K,{now:Z,fadeDuration:P,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),oe=ie.crossFadingFactor();oe===1&&oe===this._crossFadingFactor||(F=!0,this._crossFadingFactor=oe),this.style.update(ie)}const $=((f=this.style.projection)===null||f===void 0?void 0:f.transitionState)>0!==z;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((v=this.style.projection)===null||v===void 0?void 0:v.transitionState,(C=this.style.projection)===null||C===void 0?void 0:C.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||$)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,P,this._crossSourceCollisions,$),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:P,showPadding:this.showPadding}),this.fire(new a.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,a.cG.mark(a.cH.load),this.fire(new a.l("load"))),this.style&&(this.style.hasTransitions()||F)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const G=this._sourcesDirty||this._styleDirty||this._placementDirty;return G||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.l("idle")),!this._loaded||this._fullyLoaded||G||(this._fullyLoaded=!0,a.cG.mark(a.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var T;this._hash&&this._hash.remove();for(const f of this._controls)f.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),Y.removeThrottleControl(this._imageQueueHandle),(T=this._resizeObserver)===null||T===void 0||T.disconnect();const h=this.painter.context.gl.getExtension("WEBGL_lose_context");h?.loseContext&&h.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),D.remove(this._canvasContainer),D.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),a.cG.clearMetrics(),this._removed=!0,this.fire(new a.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,S.frame(this._frameRequest,(T=>{a.cG.frame(T),this._frameRequest=null;try{this._render(T)}catch(h){if(!a.Z(h)&&!(function(f){return f.message===vf})(h))throw h}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(T){this._showTileBoundaries!==T&&(this._showTileBoundaries=T,this._update())}get showPadding(){return!!this._showPadding}set showPadding(T){this._showPadding!==T&&(this._showPadding=T,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(T){this._showCollisionBoxes!==T&&(this._showCollisionBoxes=T,T?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(T){this._showOverdrawInspector!==T&&(this._showOverdrawInspector=T,this._update())}get repaint(){return!!this._repaint}set repaint(T){this._repaint!==T&&(this._repaint=T,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(T){this._vertices=T,this._update()}get version(){return Ff}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(T){return this._lazyInitEmptyStyle(),this.style.setProjection(T),this._update(!0)}},o.MapMouseEvent=ha,o.MapTouchEvent=Oh,o.MapWheelEvent=Mg,o.Marker=qh,o.NavigationControl=class{constructor(T){this._updateZoomButtons=()=>{const h=this._map.getZoom(),f=h===this._map.getMaxZoom(),_=h===this._map.getMinZoom();this._zoomInButton.disabled=f,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",f.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(h,f)=>{const _=this._map._getUIString(`NavigationControl.${f}`);h.title=_,h.setAttribute("aria-label",_)},this.options=a.e({},Of,T),this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(h=>h.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(h=>this._map.zoomIn({},{originalEvent:h}))),D.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(h=>this._map.zoomOut({},{originalEvent:h}))),D.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(h=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:h}):this._map.resetNorth({},{originalEvent:h})})),this._compassIcon=D.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(T){return this._map=T,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Wh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){D.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(T,h){const f=D.create("button",T,this._container);return f.type="button",f.addEventListener("click",h),f}},o.Popup=class extends a.E{constructor(T){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&D.remove(this._content),this._container&&(D.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new a.l("close"))),this),this._onMouseUp=h=>{this._update(h.point)},this._onMouseMove=h=>{this._update(h.point)},this._onDrag=h=>{this._update(h.point)},this._update=h=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=D.create("div","maplibregl-popup",this._map.getContainer()),this._tip=D.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const P of this.options.className.split(" "))this._container.classList.add(P);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Dc(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!h)return;const f=this._flatPos=this._pos=this._trackPointer&&h?h:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&h?h:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const v=Fc(this.options.offset);if(!_){const P=this._container.offsetWidth,z=this._container.offsetHeight;let F;F=f.y+v.bottom.y<z?["top"]:f.y>this._map.transform.height-z?["bottom"]:[],f.x<P/2?F.push("left"):f.x>this._map.transform.width-P/2&&F.push("right"),_=F.length===0?"bottom":F.join("-")}let C=f.add(v[_]);this.options.subpixelPositioning||(C=C.round()),D.setTransform(this._container,`${Xh[_]} translate(${C.x}px,${C.y}px)`),zc(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=a.e(Object.create(Nf),T)}addTo(T){return this._map&&this.remove(),this._map=T,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new a.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(T){return this._lngLat=a.V.convert(T),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(T){return this.setDOMContent(document.createTextNode(T))}setHTML(T){const h=document.createDocumentFragment(),f=document.createElement("body");let _;for(f.innerHTML=T;_=f.firstChild,_;)h.appendChild(_);return this.setDOMContent(h)}getMaxWidth(){var T;return(T=this._container)===null||T===void 0?void 0:T.style.maxWidth}setMaxWidth(T){return this.options.maxWidth=T,this._update(),this}setDOMContent(T){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=D.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(T),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(T){return this._container&&this._container.classList.add(T),this}removeClassName(T){return this._container&&this._container.classList.remove(T),this}setOffset(T){return this.options.offset=T,this._update(),this}toggleClassName(T){if(this._container)return this._container.classList.toggle(T)}setSubpixelPositioning(T){this.options.subpixelPositioning=T}_createCloseButton(){this.options.closeButton&&(this._closeButton=D.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const T=this._container.querySelector(Rc);T&&T.focus()}},o.RasterDEMTileSource=Ri,o.RasterTileSource=Oa,o.ScaleControl=class{constructor(T){this._onMove=()=>{Yh(this._map,this._container,this.options)},this.setUnit=h=>{this.options.unit=h,Yh(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},jf),T)}getDefaultPosition(){return"bottom-left"}onAdd(T){return this._map=T,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-scale",T.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){D.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},o.ScrollZoomHandler=Mc,o.Style=Co,o.TerrainControl=class{constructor(T){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=T}onAdd(T){return this._map=T,this._container=D.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=D.create("button","maplibregl-ctrl-terrain",this._container),D.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){D.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},o.TwoFingersTouchPitchHandler=Ig,o.TwoFingersTouchRotateHandler=If,o.TwoFingersTouchZoomHandler=Ef,o.TwoFingersTouchZoomRotateHandler=Vh,o.VectorTileSource=xa,o.VideoSource=Re,o.addSourceType=(T,h)=>a._(void 0,void 0,void 0,(function*(){if(ue(T))throw new Error(`A source type called "${T}" already exists.`);((f,_)=>{re[f]=_})(T,h)})),o.clearPrewarmedResources=function(){const T=Pt;T&&(T.isPreloaded()&&T.numActive()===1?(T.release(wt),Pt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},o.createTileMesh=Um,o.getMaxParallelImageRequests=function(){return a.c.MAX_PARALLEL_IMAGE_REQUESTS},o.getRTLTextPluginStatus=function(){return Fe().getRTLTextPluginStatus()},o.getVersion=function(){return $f},o.getWorkerCount=function(){return Rt.workerCount},o.getWorkerUrl=function(){return a.c.WORKER_URL},o.importScriptInWorkers=function(T){return ui().broadcast("IS",T)},o.isTimeFrozen=function(){return E.isFrozen()},o.now=M,o.prewarm=function(){Jt().acquire(wt)},o.restoreNow=function(){E.restoreNow()},o.setMaxParallelImageRequests=function(T){a.c.MAX_PARALLEL_IMAGE_REQUESTS=T},o.setNow=function(T){E.setNow(T)},o.setRTLTextPlugin=function(T,h){return Fe().setRTLTextPlugin(T,h)},o.setWorkerCount=function(T){Rt.workerCount=T},o.setWorkerUrl=function(T){a.c.WORKER_URL=T}}));var r=t;return r}))})(W_)),W_.exports}var JD=KD();const QD=qD(JD);(function(s,e,t){function i(n,r){for(;(n=n.parentElement)&&!n.classList.contains(r););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,r){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,r&&r.shapeOptions&&(r.shapeOptions=L.Util.extend({},this.options.shapeOptions,r.shapeOptions)),L.setOptions(this,r);var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,r){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,r&&r.drawError&&(r.drawError=L.Util.extend({},this.options.drawError,r.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),r=this._poly,o=r.getLatLngs(),a=o.splice(-1,1)[0];this._poly.setLatLngs(o),this._markerGroup.removeLayer(n),r.getLatLngs().length<2&&this._map.removeLayer(r),this._vertexChanged(a,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),r=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&r||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent),o=this._map.layerPointToLatLng(r);this._currentLatLng=o,this._updateTooltip(o),this._updateGuide(r),this._mouseMarker.setLatLng(o),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,r){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,r),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var r=n.originalEvent,o=r.clientX,a=r.clientY;this._startPoint.call(this,o,a)}},_startPoint:function(n,r){this._mouseDownOrigin=L.point(n,r)},_onMouseUp:function(n){var r=n.originalEvent,o=r.clientX,a=r.clientY;this._endPoint.call(this,o,a,n),this._clickHandled=null},_endPoint:function(n,r,o){if(this._mouseDownOrigin){var a=L.point(n,r).distanceTo(this._mouseDownOrigin),d=this._calculateFinishDistance(o.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(o.latlng),this._finishShape()):d<10&&L.Browser.touch?this._finishShape():Math.abs(a)<9*(s.devicePixelRatio||1)&&this.addVertex(o.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var r,o,a=n.originalEvent;!a.touches||!a.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(r=a.touches[0].clientX,o=a.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,r,o),this._endPoint.call(this,r,o,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var r;if(this._markers.length>0){var o;if(this.type===L.Draw.Polyline.TYPE)o=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;o=this._markers[0]}var a=this._map.latLngToContainerPoint(o.getLatLng()),d=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),p=this._map.latLngToContainerPoint(d.getLatLng());r=a.distanceTo(p)}else r=1/0;return r},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var r=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(r),r},_updateGuide:function(n){var r=this._markers?this._markers.length:0;r>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[r-1].getLatLng()),n))},_updateTooltip:function(n){var r=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(r)},_drawGuide:function(n,r){var o,a,d,p=Math.floor(Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),g=this.options.guidelineDistance,x=this.options.maxGuideLineLength,w=p>x?p-x:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));w<p;w+=this.options.guidelineDistance)o=w/p,a={x:Math.floor(n.x*(1-o)+o*r.x),y:Math.floor(n.y*(1-o)+o*r.y)},d=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),d.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(d,a)},_updateGuideColor:function(n){if(this._guidesContainer)for(var r=0,o=this._guidesContainer.childNodes.length;r<o;r++)this._guidesContainer.childNodes[r].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,r,o=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(r=o?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:r}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:r}),n},_updateRunningMeasure:function(n,r){var o,a,d=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(o=d-(r?2:1),a=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[o].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[o].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=a*(r?1:-1))},_getMeasurementString:function(){var n,r=this._currentLatLng,o=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?o&&r&&r.distanceTo?this._measurementRunningTotal+r.distanceTo(o)*(this.options.factor||1):this._measurementRunningTotal||0:o&&r?this._measurementRunningTotal+this._map.distance(r,o)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,r){L.Draw.Polyline.prototype.initialize.call(this,n,r),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,r;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,r=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,r=this._getMeasurementString()),{text:n,subtext:r}},_getMeasurementString:function(){var n=this._area,r="";return n||this.options.showLength?(this.options.showLength&&(r=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(r+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),r):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,r){var o;!this.options.allowIntersection&&this.options.showArea&&(o=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(o)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,r)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,r){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var r=n.latlng;this._tooltip.updatePosition(r),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(r))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,r){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,r)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!i(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,r,o,a=L.Draw.SimpleShape.prototype._getTooltipText.call(this),d=this._shape,p=this.options.showArea;return d&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=L.GeometryUtil.geodesicArea(n),o=p?L.GeometryUtil.readableArea(r,this.options.metric):""),{text:a.text,subtext:o}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,r){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var r=n.latlng;this._tooltip.updatePosition(r),this._mouseMarker.setLatLng(r),this._marker?(r=this._mouseMarker.getLatLng(),this._marker.setLatLng(r)):(this._marker=this._createMarker(r),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,r){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,r)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,r){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,r)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var r=this._startLatLng.distanceTo(n);else var r=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(r):(this._shape=new L.Circle(this._startLatLng,r,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var r,o=n.latlng,a=this.options.showRadius,d=this.options.metric;if(this._tooltip.updatePosition(o),this._isDrawing){this._drawShape(o),r=this._shape.getRadius().toFixed(1);var p="";a&&(p=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(r,d,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:p})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,r){this._marker=n,L.setOptions(this,r)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var r=n.target;r.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:r})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,r){var o=parseInt(n.style.marginTop,10)-r,a=parseInt(n.style.marginLeft,10)-r;n.style.marginTop=o+"px",n.style.marginLeft=a+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var r=0;r<this._verticesHandlers.length;r++)n(this._verticesHandlers[r])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,r,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this._latlngs=r,L.setOptions(this,o)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,r=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),r&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(o){L.DomUtil.removeClass(r,o)}),n.options.editing.className.split(" ").forEach(function(o){L.DomUtil.addClass(r,o)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,r=n._path;r&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(o){L.DomUtil.removeClass(r,o)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(o){L.DomUtil.addClass(r,o)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,r,o,a,d=this._defaultShape();for(n=0,o=d.length;n<o;n++)a=this._createMarker(d[n],n),a.on("click",this._onMarkerClick,this),a.on("contextmenu",this._onContextMenu,this),this._markers.push(a);var p,g;for(n=0,r=o-1;n<o;r=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(p=this._markers[r],g=this._markers[n],this._createMiddleMarker(p,g),this._updatePrevNext(p,g))},_createMarker:function(n,r){var o=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return o._origLatLng=n,o._index=r,o.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(o),o},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),r=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),r},_removeMarker:function(n){var r=n._index;this._markerGroup.removeLayer(n),this._markers.splice(r,1),this._spliceLatLngs(r,1),this._updateIndexes(r,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var r=n.target,o=this._poly,a=L.LatLngUtil.cloneLatLng(r._origLatLng);if(L.extend(r._origLatLng,r._latlng),o.options.poly){var d=o._map._editTooltip;if(!o.options.poly.allowIntersection&&o.intersects()){L.extend(r._origLatLng,a),r.setLatLng(a);var p=o.options.color;o.setStyle({color:this.options.drawError.color}),d&&d.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){o.setStyle({color:p}),d&&d.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var r=L.Polygon&&this._poly instanceof L.Polygon?4:3,o=n.target;this._defaultShape().length<r||(this._removeMarker(o),this._updatePrevNext(o._prev,o._next),o._middleLeft&&this._markerGroup.removeLayer(o._middleLeft),o._middleRight&&this._markerGroup.removeLayer(o._middleRight),o._prev&&o._next?this._createMiddleMarker(o._prev,o._next):o._prev?o._next||(o._prev._middleRight=null):o._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var r=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:r,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),o=this._map.layerPointToLatLng(r),a=n.target;L.extend(a._origLatLng,o),a._middleLeft&&a._middleLeft.setLatLng(this._getMiddleLatLng(a._prev,a)),a._middleRight&&a._middleRight.setLatLng(this._getMiddleLatLng(a,a._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,r){this._markerGroup.eachLayer(function(o){o._index>n&&(o._index+=r)})},_createMiddleMarker:function(n,r){var o,a,d,p=this._getMiddleLatLng(n,r),g=this._createMarker(p);g.setOpacity(.6),n._middleRight=r._middleLeft=g,a=function(){g.off("touchmove",a,this);var x=r._index;g._index=x,g.off("click",o,this).on("click",this._onMarkerClick,this),p.lat=g.getLatLng().lat,p.lng=g.getLatLng().lng,this._spliceLatLngs(x,0,p),this._markers.splice(x,0,g),g.setOpacity(1),this._updateIndexes(x,1),r._index++,this._updatePrevNext(n,g),this._updatePrevNext(g,r),this._poly.fire("editstart")},d=function(){g.off("dragstart",a,this),g.off("dragend",d,this),g.off("touchmove",a,this),this._createMiddleMarker(n,g),this._createMiddleMarker(g,r)},o=function(){a.call(this),d.call(this),this._fireEdit()},g.on("click",o,this).on("dragstart",a,this).on("dragend",d,this).on("touchmove",a,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(n,r){n&&(n._next=r),r&&(r._prev=n)},_getMiddleLatLng:function(n,r){var o=this._poly._map,a=o.project(n.getLatLng()),d=o.project(r.getLatLng());return o.unproject(a._add(d)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,r){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,r)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var r=0,o=this._resizeMarkers.length;r<o;r++)this._unbindMarker(this._resizeMarkers[r]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,r){var o=new L.Marker.Touch(n,{draggable:!0,icon:r,zIndexOffset:10});return this._bindMarker(o),this._markerGroup.addLayer(o),o},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var r=n.target,o=r.getLatLng();r===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var r=this._getCorners(),o=n.target,a=o._cornerIndex;o.setOpacity(0),this._oppositeCorner=r[(a+2)%4],this._toggleCornerMarkers(0,a)}this._shape.fire("editstart")},_onTouchMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),o=this._map.layerPointToLatLng(r);return n.target===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),r=n.getCenter();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var r=0,o=n.length;r<o;r++)this._resizeMarkers.push(this._createMarker(n[r],this.options.resizeIcon)),this._resizeMarkers[r]._cornerIndex=r},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var r=this._getCorners(),o=n.target,a=o._cornerIndex;this._oppositeCorner=r[(a+2)%4],this._toggleCornerMarkers(0,a)},_onMarkerDragEnd:function(n){var r,o,a=n.target;a===this._moveMarker&&(r=this._shape.getBounds(),o=r.getCenter(),a.setLatLng(o)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var r,o=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),a=this._shape.getBounds(),d=a.getCenter(),p=[],g=0,x=o.length;g<x;g++)r=[o[g].lat-d.lat,o[g].lng-d.lng],p.push([n.lat+r[0],n.lng+r[1]]);this._shape.setLatLngs(p),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var r;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),r=this._shape.getBounds(),this._moveMarker.setLatLng(r.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var r=0,o=this._resizeMarkers.length;r<o;r++)this._resizeMarkers[r].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),r=0,o=this._resizeMarkers.length;r<o;r++)this._resizeMarkers[r].setLatLng(n[r])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var r=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(r)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),r=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(r,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var r=this._shape._radius*Math.cos(Math.PI/4),o=this._map.project(n);return this._map.unproject([o.x+r,o.y-r])},_resize:function(n){var r=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=r.distanceTo(n):radius=this._map.distance(r,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,r){var o={};if(n.touches!==void 0){if(!n.touches.length)return;o=n.touches[0]}else if(n.pointerType!=="touch"||(o=n,!this._filterClick(n)))return;var a=this._map.mouseEventToContainerPoint(o),d=this._map.mouseEventToLayerPoint(o),p=this._map.layerPointToLatLng(d);this._map.fire(r,{latlng:p,layerPoint:d,containerPoint:a,pageX:o.pageX,pageY:o.pageY,originalEvent:n})},_filterClick:function(n){var r=n.timeStamp||n.originalEvent.timeStamp,o=L.DomEvent._lastClick&&r-L.DomEvent._lastClick;return o&&o>100&&o<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=r,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var r="touchcancel";this._detectIE()&&(r="pointercancel"),this._touchEvent(n,r)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=s.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return parseInt(n.substring(r+5,n.indexOf(".",r)),10);if(n.indexOf("Trident/")>0){var o=n.indexOf("rv:");return parseInt(n.substring(o+3,n.indexOf(".",o)),10)}var a=n.indexOf("Edge/");return a>0&&parseInt(n.substring(a+5,n.indexOf(".",a)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,r=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?r.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):r.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var o=0;o<r.length;o++)L.DomEvent.on(n,r[o],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=s.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return parseInt(n.substring(r+5,n.indexOf(".",r)),10);if(n.indexOf("Trident/")>0){var o=n.indexOf("rv:");return parseInt(n.substring(o+3,n.indexOf(".",o)),10)}var a=n.indexOf("Edge/");return a>0&&parseInt(n.substring(a+5,n.indexOf(".",a)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var r=[],o=0,a=n.length;o<a;o++)Array.isArray(n[o])?r.push(L.LatLngUtil.cloneLatLngs(n[o])):r.push(this.cloneLatLng(n[o]));return r},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},(function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(r){var o,a,d=r.length,p=0,g=Math.PI/180;if(d>2){for(var x=0;x<d;x++)o=r[x],a=r[(x+1)%d],p+=(a.lng-o.lng)*g*(2+Math.sin(o.lat*g)+Math.sin(a.lat*g));p=6378137*p*6378137/2}return Math.abs(p)},formattedNumber:function(r,o){var a=parseFloat(r).toFixed(o),d=L.drawLocal.format&&L.drawLocal.format.numeric,p=d&&d.delimiters,g=p&&p.thousands,x=p&&p.decimal;if(g||x){var w=a.split(".");a=g?w[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):w[0],x=x||".",w.length>1&&(a=a+x+w[1])}return a},readableArea:function(r,o,g){var d,p,g=L.Util.extend({},n,g);return o?(p=["ha","m"],type=typeof o,type==="string"?p=[o]:type!=="boolean"&&(p=o),d=r>=1e6&&p.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*r,g.km)+" km":r>=1e4&&p.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*r,g.ha)+" ha":L.GeometryUtil.formattedNumber(r,g.m)+" m"):(r/=.836127,d=r>=3097600?L.GeometryUtil.formattedNumber(r/3097600,g.mi)+" mi":r>=4840?L.GeometryUtil.formattedNumber(r/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(r,g.yd)+" yd"),d},readableDistance:function(r,o,a,d,x){var g,x=L.Util.extend({},n,x);switch(o?typeof o=="string"?o:"metric":a?"feet":d?"nauticalMile":"yards"){case"metric":g=r>1e3?L.GeometryUtil.formattedNumber(r/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(r,x.m)+" m";break;case"feet":r*=3.28083,g=L.GeometryUtil.formattedNumber(r,x.ft)+" ft";break;case"nauticalMile":r*=.53996,g=L.GeometryUtil.formattedNumber(r/1e3,x.nm)+" nm";break;case"yards":default:r*=1.09361,g=r>1760?L.GeometryUtil.formattedNumber(r/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(r,x.yd)+" yd"}return g},isVersion07x:function(){var r=L.version.split(".");return parseInt(r[0],10)===0&&parseInt(r[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,r,o,a){return this._checkCounterclockwise(n,o,a)!==this._checkCounterclockwise(r,o,a)&&this._checkCounterclockwise(n,r,o)!==this._checkCounterclockwise(n,r,a)},_checkCounterclockwise:function(n,r,o){return(o.y-n.y)*(r.x-n.x)>(r.y-n.y)*(o.x-n.x)}}),L.Polyline.include({intersects:function(){var n,r,o,a=this._getProjectedPoints(),d=a?a.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=d-1;n>=3;n--)if(r=a[n-1],o=a[n],this._lineSegmentsIntersectsRange(r,o,n-2))return!0;return!1},newLatLngIntersects:function(n,r){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),r)},newPointIntersects:function(n,r){var o=this._getProjectedPoints(),a=o?o.length:0,d=o?o[a-1]:null,p=a-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(d,n,p,r?1:0)},_tooFewPointsForIntersection:function(n){var r=this._getProjectedPoints(),o=r?r.length:0;return o+=n||0,!r||o<=3},_lineSegmentsIntersectsRange:function(n,r,o,a){var d,p,g=this._getProjectedPoints();a=a||0;for(var x=o;x>a;x--)if(d=g[x-1],p=g[x],L.LineUtil.segmentsIntersect(n,r,d,p))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],r=this._defaultShape(),o=0;o<r.length;o++)n.push(this._map.latLngToLayerPoint(r[o]));return n}}),L.Polygon.include({intersects:function(){var n,r,o,a,d=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=d.length,r=d[0],o=d[n-1],a=n-2,this._lineSegmentsIntersectsRange(o,r,a,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var r;this._toolbars={},L.DrawToolbar&&this.options.draw&&(r=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=r,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(r=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=r,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var r,o=L.DomUtil.create("div","leaflet-draw"),a=!1;for(var d in this._toolbars)this._toolbars.hasOwnProperty(d)&&(r=this._toolbars[d].addToolbar(n))&&(a||(L.DomUtil.hasClass(r,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(r.childNodes[0],"leaflet-draw-toolbar-top"),a=!0),o.appendChild(r));return o},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var r in this._toolbars)this._toolbars[r]instanceof L.DrawToolbar&&this._toolbars[r].setOptions(n)},_toolbarEnabled:function(n){var r=n.target;for(var o in this._toolbars)this._toolbars[o]!==r&&this._toolbars[o].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var r=L.version.split(".");parseInt(r[0],10)===1&&parseInt(r[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var r,o=L.DomUtil.create("div","leaflet-draw-section"),a=0,d=this._toolbarClass||"",p=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,r=0;r<p.length;r++)p[r].enabled&&this._initModeHandler(p[r].handler,this._toolbarContainer,a++,d,p[r].title);if(a)return this._lastButtonIndex=--a,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),o.appendChild(this._toolbarContainer),o.appendChild(this._actionsContainer),o},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var r=0,o=this._actionButtons.length;r<o;r++)this._disposeButton(this._actionButtons[r].button,this._actionButtons[r].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,r,o,a,d){var p=n.type;this._modes[p]={},this._modes[p].handler=n,this._modes[p].button=this._createButton({type:p,title:d,className:a+"-"+p,container:r,callback:this._modes[p].handler.enable,context:this._modes[p].handler}),this._modes[p].buttonIndex=o,this._modes[p].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!s.MSStream},_createButton:function(n){var r=L.DomUtil.create("a",n.className||"",n.container),o=L.DomUtil.create("span","sr-only",n.container);r.href="#",r.appendChild(o),n.title&&(r.title=n.title,o.innerHTML=n.title),n.text&&(r.innerHTML=n.text,o.innerHTML=n.text);var a=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(r,"click",L.DomEvent.stopPropagation).on(r,"mousedown",L.DomEvent.stopPropagation).on(r,"dblclick",L.DomEvent.stopPropagation).on(r,"touchstart",L.DomEvent.stopPropagation).on(r,"click",L.DomEvent.preventDefault).on(r,a,n.callback,n.context),r},_disposeButton:function(n,r){var o=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,o,r)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var r,o,a,d,p=this._actionsContainer,g=this.getActions(n),x=g.length;for(o=0,a=this._actionButtons.length;o<a;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback);for(this._actionButtons=[];p.firstChild;)p.removeChild(p.firstChild);for(var w=0;w<x;w++)"enabled"in g[w]&&!g[w].enabled||(r=L.DomUtil.create("li","",p),d=this._createButton({title:g[w].title,text:g[w].text,container:r,callback:g[w].callback,context:g[w].context}),this._actionButtons.push({button:d,callback:g[w].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,r=this._lastButtonIndex,o=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=o+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===r&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var r=this._map.latLngToLayerPoint(n),o=this._container;return this._container&&(this._visible&&(o.style.visibility="inherit"),L.DomUtil.setPosition(o,r)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var r in this.options)this.options.hasOwnProperty(r)&&n[r]&&(n[r]=L.extend({},this.options[r],n[r]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var r in this._modes)this._modes.hasOwnProperty(r)&&n.hasOwnProperty(r)&&this._modes[r].handler.setOptions(n[r])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var r=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:r,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:r}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var r=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&r.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),r},addToolbar:function(n){var r=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),r},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,r=this.options.featureGroup,o=r.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,o?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,o?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,r){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,r),this._featureGroup=r.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(r){r.edited&&(n.addLayer(r),r.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var r=L.Util.stamp(n);this._uneditedLayerProps[r]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[r]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[r]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[r]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var r=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(r)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[r].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[r].latlng),n.setRadius(this._uneditedLayerProps[r].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[r].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var r,o,a=n.layer||n.target||n;this._backupLayer(a),this.options.poly&&(o=L.Util.extend({},this.options.poly),a.options.poly=o),this.options.selectedPathOptions&&(r=L.Util.extend({},this.options.selectedPathOptions),r.maintainColor&&(r.color=a.options.color,r.fillColor=a.options.fillColor),a.options.original=L.extend({},a.options),a.options.editing=r),a instanceof L.Marker?(a.editing&&a.editing.enable(),a.dragging.enable(),a.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):a.editing.enable()},_disableLayerEdit:function(n){var r=n.layer||n.target||n;r.edited=!1,r.editing&&r.editing.disable(),delete r.options.editing,delete r.options.original,this._selectedPathOptions&&(r instanceof L.Marker?this._toggleMarkerHighlight(r):(r.setStyle(r.options.previousOptions),delete r.options.previousOptions)),r instanceof L.Marker?(r.dragging.disable(),r.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var r=n.target;r.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:r})},_onTouchMove:function(n){var r=n.originalEvent.changedTouches[0],o=this._map.mouseEventToLayerPoint(r),a=this._map.layerPointToLatLng(o);n.target.setLatLng(a)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,r){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,r),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var r=n.layer||n.target||n;r.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(r)},_removeLayer:function(n){var r=n.layer||n.target||n;this._deletableLayers.removeLayer(r),this._deletedLayers.addLayer(r),r.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function d_(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var HS={},GS;function ez(){return GS||(GS=1,(function(){function s(e,t,i){function n(a,d){if(!t[a]){if(!e[a]){var p=typeof d_=="function"&&d_;if(!d&&p)return p(a,!0);if(r)return r(a,!0);var g=new Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g}var x=t[a]={exports:{}};e[a][0].call(x.exports,function(w){var S=e[a][1][w];return n(S||w)},x,x.exports,s,e,t,i)}return t[a].exports}for(var r=typeof d_=="function"&&d_,o=0;o<i.length;o++)n(i[o]);return n}return s})()({1:[function(s,e,t){function i(n,r,o){var a=!1;if(typeof window.XMLHttpRequest>"u")return r(Error("Browser not supported"));if(typeof o>"u"){var d=n.match(/^\s*https?:\/\/[^\/]*/);o=d&&d[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}var p=new window.XMLHttpRequest;function g(S){return S>=200&&S<300||S===304}if(o&&!("withCredentials"in p)){p=new window.XDomainRequest;var x=r;r=function(){if(a)x.apply(this,arguments);else{var S=this,E=arguments;setTimeout(function(){x.apply(S,E)},0)}}}function w(){p.status===void 0||g(p.status)?r.call(p,null,p):r.call(p,p,null)}return"onload"in p?p.onload=w:p.onreadystatechange=function(){p.readyState===4&&w()},p.onerror=function(E){r.call(this,E||!0,null),r=function(){}},p.onprogress=function(){},p.ontimeout=function(S){r.call(this,S,null),r=function(){}},p.onabort=function(S){r.call(this,S,null),r=function(){}},p.open("GET",n,!0),p.send(null),a=!0,p}typeof e<"u"&&(e.exports=i)},{}],2:[function(s,e,t){var i={};function n(a){return Math.floor(Math.abs(a)+.5)*Math.sign(a)}function r(a,d,p){a=n(a*p),d=n(d*p);var g=a-d;g<<=1,a-d<0&&(g=~g);for(var x="";g>=32;)x+=String.fromCharCode((32|g&31)+63),g>>=5;return x+=String.fromCharCode(g+63),x}i.decode=function(a,d){for(var p=0,g=0,x=0,w=[],S=0,E=0,M=null,D,O,N=Math.pow(10,d||5);p<a.length;){M=null,S=0,E=0;do M=a.charCodeAt(p++)-63,E|=(M&31)<<S,S+=5;while(M>=32);D=E&1?~(E>>1):E>>1,S=E=0;do M=a.charCodeAt(p++)-63,E|=(M&31)<<S,S+=5;while(M>=32);O=E&1?~(E>>1):E>>1,g+=D,x+=O,w.push([g/N,x/N])}return w},i.encode=function(a,d){if(!a.length)return"";for(var p=Math.pow(10,d||5),g=r(a[0][0],0,p)+r(a[0][1],0,p),x=1;x<a.length;x++){var w=a[x],S=a[x-1];g+=r(w[0],S[0],p),g+=r(w[1],S[1],p)}return g};function o(a){for(var d=[],p=0;p<a.length;p++)d.push(a[p].slice().reverse());return d}i.fromGeoJSON=function(a,d){if(a&&a.type==="Feature"&&(a=a.geometry),!a||a.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return i.encode(o(a.coordinates),d)},i.toGeoJSON=function(a,d){var p=i.decode(a,d);return{type:"LineString",coordinates:o(p)}},typeof e=="object"&&e.exports&&(e.exports=i)},{}],3:[function(s,e,t){var i=s("./languages"),n=i.instructions,r=i.grammars,o=i.abbreviations;e.exports=function(a){return Object.keys(n).forEach(function(d){if(!n[d][a])throw"invalid version "+a+": "+d+" not supported"}),{capitalizeFirstLetter:function(d,p){return p.charAt(0).toLocaleUpperCase(d)+p.slice(1)},ordinalize:function(d,p){if(!d)throw new Error("No language code provided");return n[d][a].constants.ordinalize[p.toString()]||""},directionFromDegree:function(d,p){if(!d)throw new Error("No language code provided");if(!p&&p!==0)return"";if(p>=0&&p<=20)return n[d][a].constants.direction.north;if(p>20&&p<70)return n[d][a].constants.direction.northeast;if(p>=70&&p<=110)return n[d][a].constants.direction.east;if(p>110&&p<160)return n[d][a].constants.direction.southeast;if(p>=160&&p<=200)return n[d][a].constants.direction.south;if(p>200&&p<250)return n[d][a].constants.direction.southwest;if(p>=250&&p<=290)return n[d][a].constants.direction.west;if(p>290&&p<340)return n[d][a].constants.direction.northwest;if(p>=340&&p<=360)return n[d][a].constants.direction.north;throw new Error("Degree "+p+" invalid")},laneConfig:function(d){if(!d.intersections||!d.intersections[0].lanes)throw new Error("No lanes object");var p=[],g=null;return d.intersections[0].lanes.forEach(function(x){(g===null||g!==x.valid)&&(x.valid?p.push("o"):p.push("x"),g=x.valid)}),p.join("")},getWayName:function(d,p,g){var x=g?g.classes||[]:[];if(typeof p!="object")throw new Error("step must be an Object");if(!d)throw new Error("No language code provided");if(!Array.isArray(x))throw new Error("classes must be an Array or undefined");var w,S=p.name||"",E=(p.ref||"").split(";")[0];S===p.ref&&(S=""),S=S.replace(" ("+p.ref+")","");var M=x.indexOf("motorway")!==-1;if(S&&E&&S!==E&&!M){var D=n[d][a].phrase["name and ref"]||n.en[a].phrase["name and ref"];w=this.tokenize(d,D,{name:S,ref:E},g)}else S&&E&&M&&/\d/.test(E)||!S&&E?w=g&&g.formatToken?g.formatToken("ref",E):E:w=g&&g.formatToken?g.formatToken("name",S):S;return w},compile:function(d,p,g){if(!d)throw new Error("No language code provided");if(i.supportedCodes.indexOf(d)===-1)throw new Error("language code "+d+" not loaded");if(!p.maneuver)throw new Error("No step maneuver provided");var x=g||{},w=p.maneuver.type,S=p.maneuver.modifier,E=p.mode,M=p.driving_side;if(!w)throw new Error("Missing step maneuver type");if(w!=="depart"&&w!=="arrive"&&!S)throw new Error("Missing step maneuver modifier");n[d][a][w]||(console.log("Encountered unknown instruction type: "+w),w="turn");var D;if(n[d][a].modes[E])D=n[d][a].modes[E];else{var O=w==="off ramp"&&S.indexOf(M)>=0;n[d][a][w][S]&&!O?D=n[d][a][w][S]:D=n[d][a][w].default}var N;switch(w){case"use lane":N=n[d][a].constants.lanes[this.laneConfig(p)],N||(D=n[d][a]["use lane"].no_lanes);break;case"rotary":case"roundabout":p.rotary_name&&p.maneuver.exit&&D.name_exit?D=D.name_exit:p.rotary_name&&D.name?D=D.name:p.maneuver.exit&&D.exit?D=D.exit:D=D.default;break}var H=this.getWayName(d,p,x),X;p.destinations&&p.exits&&D.exit_destination?X=D.exit_destination:p.destinations&&D.destination?X=D.destination:p.exits&&D.exit?X=D.exit:H&&D.name?X=D.name:x.waypointName&&D.named?X=D.named:X=D.default;var U=p.destinations&&p.destinations.split(": "),Q=U&&U[0].split(",")[0],Y=U&&U[1]&&U[1].split(",")[0],te;Y&&Q?te=Q+": "+Y:te=Q||Y||"";var se=x.legIndex>=0&&x.legIndex!==x.legCount-1?this.ordinalize(d,x.legIndex+1):"",ce={way_name:H,destination:te,exit:(p.exits||"").split(";")[0],exit_number:this.ordinalize(d,p.maneuver.exit||1),rotary_name:p.rotary_name,lane_instruction:N,modifier:n[d][a].constants.modifier[S],direction:this.directionFromDegree(d,p.maneuver.bearing_after),nth:se,waypoint_name:x.waypointName};return this.tokenize(d,X,ce,x)},grammarize:function(d,p,g){if(!d)throw new Error("No language code provided");if(p&&g&&r&&r[d]&&r[d][a]){var x=r[d][a][g];if(x){var w=" "+p+" ",S=r[d].meta.regExpFlags||"";return x.forEach(function(E){var M=new RegExp(E[0],S);w=w.replace(M,E[1])}),w.trim()}}return p},abbreviations:o,tokenize:function(d,p,g,x){if(!d)throw new Error("No language code provided");var w=this,S=!1,E=p.replace(/\{(\w+)(?::(\w+))?\}/g,function(M,D,O,N){var H=g[D];return typeof H>"u"?M:(H=w.grammarize(d,H,O),N===0&&n[d].meta.capitalizeFirstLetter&&(S=!0,H=w.capitalizeFirstLetter(d,H)),x&&x.formatToken&&(H=x.formatToken(D,H)),H)}).replace(/ {2}/g," ");return!S&&n[d].meta.capitalizeFirstLetter?this.capitalizeFirstLetter(d,E):E}}}},{"./languages":4}],4:[function(s,e,t){var i=s("./languages/translations/da.json"),n=s("./languages/translations/de.json"),r=s("./languages/translations/en.json"),o=s("./languages/translations/eo.json"),a=s("./languages/translations/es.json"),d=s("./languages/translations/es-ES.json"),p=s("./languages/translations/fi.json"),g=s("./languages/translations/fr.json"),x=s("./languages/translations/he.json"),w=s("./languages/translations/id.json"),S=s("./languages/translations/it.json"),E=s("./languages/translations/ko.json"),M=s("./languages/translations/my.json"),D=s("./languages/translations/nl.json"),O=s("./languages/translations/no.json"),N=s("./languages/translations/pl.json"),H=s("./languages/translations/pt-BR.json"),X=s("./languages/translations/pt-PT.json"),U=s("./languages/translations/ro.json"),Q=s("./languages/translations/ru.json"),Y=s("./languages/translations/sv.json"),te=s("./languages/translations/tr.json"),se=s("./languages/translations/uk.json"),ce=s("./languages/translations/vi.json"),ve=s("./languages/translations/zh-Hans.json"),xe=s("./languages/grammar/fr.json"),Ee=s("./languages/grammar/ru.json"),Be=s("./languages/abbreviations/bg.json"),Oe=s("./languages/abbreviations/ca.json"),Ue=s("./languages/abbreviations/da.json"),$e=s("./languages/abbreviations/de.json"),nt=s("./languages/abbreviations/en.json"),Qe=s("./languages/abbreviations/es.json"),Ae=s("./languages/abbreviations/fr.json"),ft=s("./languages/abbreviations/he.json"),Dt=s("./languages/abbreviations/hu.json"),Yt=s("./languages/abbreviations/lt.json"),wt=s("./languages/abbreviations/nl.json"),Rt=s("./languages/abbreviations/ru.json"),Tt=s("./languages/abbreviations/sl.json"),Pt=s("./languages/abbreviations/sv.json"),Et=s("./languages/abbreviations/uk.json"),Jt=s("./languages/abbreviations/vi.json"),ti={da:i,de:n,en:r,eo:o,es:a,"es-ES":d,fi:p,fr:g,he:x,id:w,it:S,ko:E,my:M,nl:D,no:O,pl:N,"pt-BR":H,"pt-PT":X,ro:U,ru:Q,sv:Y,tr:te,uk:se,vi:ce,"zh-Hans":ve},ui={fr:xe,ru:Ee},Si={bg:Be,ca:Oe,da:Ue,de:$e,en:nt,es:Qe,fr:Ae,he:ft,hu:Dt,lt:Yt,nl:wt,ru:Rt,sl:Tt,sv:Pt,uk:Et,vi:Jt};e.exports={supportedCodes:Object.keys(ti),instructions:ti,grammars:ui,abbreviations:Si}},{"./languages/abbreviations/bg.json":5,"./languages/abbreviations/ca.json":6,"./languages/abbreviations/da.json":7,"./languages/abbreviations/de.json":8,"./languages/abbreviations/en.json":9,"./languages/abbreviations/es.json":10,"./languages/abbreviations/fr.json":11,"./languages/abbreviations/he.json":12,"./languages/abbreviations/hu.json":13,"./languages/abbreviations/lt.json":14,"./languages/abbreviations/nl.json":15,"./languages/abbreviations/ru.json":16,"./languages/abbreviations/sl.json":17,"./languages/abbreviations/sv.json":18,"./languages/abbreviations/uk.json":19,"./languages/abbreviations/vi.json":20,"./languages/grammar/fr.json":21,"./languages/grammar/ru.json":22,"./languages/translations/da.json":23,"./languages/translations/de.json":24,"./languages/translations/en.json":25,"./languages/translations/eo.json":26,"./languages/translations/es-ES.json":27,"./languages/translations/es.json":28,"./languages/translations/fi.json":29,"./languages/translations/fr.json":30,"./languages/translations/he.json":31,"./languages/translations/id.json":32,"./languages/translations/it.json":33,"./languages/translations/ko.json":34,"./languages/translations/my.json":35,"./languages/translations/nl.json":36,"./languages/translations/no.json":37,"./languages/translations/pl.json":38,"./languages/translations/pt-BR.json":39,"./languages/translations/pt-PT.json":40,"./languages/translations/ro.json":41,"./languages/translations/ru.json":42,"./languages/translations/sv.json":43,"./languages/translations/tr.json":44,"./languages/translations/uk.json":45,"./languages/translations/vi.json":46,"./languages/translations/zh-Hans.json":47}],5:[function(s,e,t){e.exports={abbreviations:{:"",:"",:"",:"Mkt",:"",:"",:"",:"",:"",:"",:"-",:"",:"-",:"",:"",:"",:"",:"-",:"-",:"-",:"",:"",:"",:"",:"",:".",:"",:"",:"-",:"",:""},classifications:{:"",:"",:"",:"",:"-",:"",:"",:"-",:"-",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},directions:{:"",:"",:"",:"",:"",:"",:""}}},{}],6:[function(s,e,t){e.exports={abbreviations:{comunicacions:"Com.","entitat de poblaci":"Nucli",disseminat:"Diss.","cap de municipi":"Cap",indret:"Indr.",comarca:"Cca.","relleu del litoral":"Lit.",municipi:"Mun.","xarxa hidrogrfica":"Curs Fluv.",equipament:"Equip.",orografia:"Orogr.",barri:"Barri",edificaci:"Edif.","edificaci histrica":"Edif. Hist.","entitat descentralitzada":"E.M.D.","element hidrogrfic":"Hidr."},classifications:{rotonda:"Rot.",carrerada:"Ca.",jard:"J.",paratge:"Pge.",pont:"Pont",lloc:"Lloc",rambla:"Rbla.",cases:"Cses.",barranc:"Bnc.",plana:"Plana",polgon:"Pol.",muralla:"Mur.",enlla:"Ella","antiga carretera":"Actra",glorieta:"Glor.",autovia:"Autv.",prolongaci:"Prol.",calada:"Cda.",carretera:"Ctra.",pujada:"Pda.",torrent:"T.",disseminat:"Disse",barri:"B.",cintur:"Cinto",passera:"Psera",sender:"Send.",carrer:"C.",squia:"Sq.",blocs:"Bloc",rambleta:"Rblt.",partida:"Par.",costa:"Cos.",sector:"Sec.",corral:"Crral",urbanitzaci:"Urb.",autopista:"Autp.",grup:"Gr.",platja:"Pja.",jardins:"J.",complex:"Comp.",portals:"Ptals",finca:"Fin.",travessera:"Trav.",plaa:"Pl.",travessia:"Trv.","polgon industrial":"PI.",passatge:"Ptge.",apartaments:"Apmt.",mirador:"Mira.",antic:"Antic",accs:"Acc.",colnia:"Col.",corriol:"Crol.",portal:"Ptal.",porta:"Pta.",port:"Port",carrer:"Cr.",riera:"Ra.","circumvallaci":"Cval.",baixada:"Bda.",placeta:"Plta.",escala:"Esc.","gran via":"GV",rial:"Rial",conjunt:"Conj.",avinguda:"Av.",esplanada:"Esp.",cantonada:"Cant.",ronda:"Rda.",corredor:"Cdor.",drecera:"Drec.",passads:"Pds.",viaducte:"Vdct.",passeig:"Pg.",venat:"Ve."},directions:{sudest:"SE",sudoest:"SO",nordest:"NE",nordoest:"NO",est:"E",nord:"N",oest:"O",sud:"S"}}},{}],7:[function(s,e,t){e.exports={abbreviations:{skole:"Sk.",ved:"v.",centrum:"C.",sankt:"Skt.",vestre:"v.",hospital:"Hosp.",strde:"Str.",nordre:"Nr.",plads:"Pl.",universitet:"Uni.",vnge:"vg.",station:"St."},classifications:{avenue:"Ave",gammel:"Gl.",dronning:"Dronn.",snder:"Sdr.",nrre:"Nr.",vester:"V.",vestre:"V.",ster:".",stre:".",boulevard:"Boul."},directions:{sydst:"S",nordvest:"NV",syd:"S",nordst:"N",sydvest:"SV",vest:"V",nord:"N",st:""}}},{}],8:[function(s,e,t){e.exports={abbreviations:{},classifications:{},directions:{osten:"O",nordosten:"NO",sden:"S",nordwest:"NW",norden:"N",sdost:"SO",sdwest:"SW",westen:"W"}}},{}],9:[function(s,e,t){e.exports={abbreviations:{square:"Sq",centre:"Ctr",sister:"Sr",lake:"Lk",fort:"Ft",route:"Rte",william:"Wm",national:"Natl",junction:"Jct",center:"Ctr",saint:"St",saints:"SS",station:"Sta",mount:"Mt",junior:"Jr",mountain:"Mtn",heights:"Hts",university:"Univ",school:"Sch",international:"Intl",apartments:"Apts",crossing:"Xing",creek:"Crk",township:"Twp",downtown:"Dtwn",father:"Fr",senior:"Sr",point:"Pt",river:"Riv",market:"Mkt",village:"Vil",park:"Pk",memorial:"Mem"},classifications:{place:"Pl",circle:"Cir",bypass:"Byp",motorway:"Mwy",crescent:"Cres",road:"Rd",cove:"Cv",lane:"Ln",square:"Sq",street:"St",freeway:"Fwy",walk:"Wk",plaza:"Plz",parkway:"Pky",avenue:"Ave",pike:"Pk",drive:"Dr",highway:"Hwy",footway:"Ftwy",point:"Pt",court:"Ct",terrace:"Ter",walkway:"Wky",alley:"Aly",expressway:"Expy",bridge:"Br",boulevard:"Blvd",turnpike:"Tpk"},directions:{southeast:"SE",northwest:"NW",south:"S",west:"W",southwest:"SW",north:"N",east:"E",northeast:"NE"}}},{}],10:[function(s,e,t){e.exports={abbreviations:{segunda:"2",octubre:"8bre",doctores:"Drs",doctora:"Dra",internacional:"Intl",doctor:"Dr",segundo:"2",seorita:"Srta",doctoras:"Drs",primera:"1",primero:"1",san:"S",colonia:"Col",doa:"Da",septiembre:"7bre",diciembre:"10bre",seor:"Sr",ayuntamiento:"Ayto",seora:"Sra",tercera:"3",tercero:"3",don:"D",santa:"Sta",ciudad:"Cdad",noviembre:"9bre",departamento:"Dep"},classifications:{camino:"Cmno",avenida:"Av",paseo:"P",autopista:"Auto",calle:"C",plaza:"Pza",carretera:"Crta"},directions:{este:"E",noreste:"NE",sur:"S",suroeste:"SO",noroeste:"NO",oeste:"O",sureste:"SE",norte:"N"}}},{}],11:[function(s,e,t){e.exports={abbreviations:{alle:"All",arodrome:"Arod",aroport:"Arop"},classifications:{centrale:"Ctrale",campings:"Camp.",urbains:"Urb.",mineure:"Min.",publique:"Publ.",suprieur:"Sup.",fdration:"Fd.","notre-dame":"ND",saint:"St","centre hospitalier rgional":"CHR",exploitation:"Exploit.",gnral:"Gal",civiles:"Civ.",maritimes:"Marit.",aviation:"Aviat.",iii:"3",archologique:"Archo.",musical:"Music.",musicale:"Music.",immeuble:"Imm.",xv:"15",htel:"Ht.",alpine:"Alp.",communale:"Commun.",v:"5",global:"Glob.",universit:"Univ.",confdral:"Confd.",xx:"20",x:"10",piscine:"Pisc.",dimanche:"di.",fleuve:"Flv",postaux:"Post.",musicienne:"Music.",dpartement:"Dpt",fvrier:"Fvr.",municipales:"Munic.",province:"Prov.",communauts:"Commts",barrage:"Barr.",mercredi:"me.",prsidentes:"Pdtes",caftrias:"Caft.",thtral:"Th.",viticulteur:"Vitic.",poste:"Post.",spcialise:"Spc.",agriculture:"Agric.",infirmier:"Infirm.",animation:"Anim.",mondiale:"Mond.",arrt:"Arr.",zone:"zon.",municipaux:"Munic.",grand:"Gd",janvier:"Janv.",fondateur:"Fond.",premire:"1re",municipale:"Munic.",direction:"Dir.",anonyme:"Anon.",dpartementale:"Dpt",moyens:"Moy.",novembre:"Nov.",jardin:"Jard.",petites:"Pet.",priv:"Priv.",centres:"Ctres",forestier:"Forest.",xiv:"14",africaines:"Afric.",sergent:"Sgt",europenne:"Eur.",prive:"Priv.",caf:"Cf",xix:"19",hautes:"Htes",major:"Mjr",vendredi:"ve.",municipalit:"Munic.","sous-prfecture":"Ss-prf.",spciales:"Spc.",secondaires:"Second.",viie:"7e",moyenne:"Moy.",commerciale:"Commerc.",rgion:"Rg.",amricaines:"Amr.",amricains:"Amr.",service:"Sce",professeur:"Prof.",dpartemental:"Dpt",htels:"Ht.",mondiales:"Mond.",ire:"1re",caporal:"Capo.",militaire:"Milit.","lyce d'enseignement professionnel":"LEP",adjudant:"Adj.",mdicale:"Md.",confrences:"Confr.",universelle:"Univ.",xiie:"12e",suprieures:"Sup.",naturel:"Natur.","socit nationale":"SN",hospitalier:"Hosp.",culturelle:"Cult.",amricain:"Amr.","son altesse royale":"S.A.R.",infirmire:"Infirm.",viii:"8",fondatrice:"Fond.",madame:"Mme",mtropolitain:"Mtrop.",ophtalmologues:"Ophtalmos",xviie:"18e",viiie:"8e",commerante:"Commer.","centre d'enseignement du second degr":"CES",septembre:"Sept.",agriculteur:"Agric.",xiii:"13",pontifical:"Pontif.",caftria:"Caft.",prince:"Pce",vie:"6e",archiduchesse:"Archid.",occidental:"Occ.",spectacles:"Spect.",camping:"Camp.",mtro:"M",arrondissement:"Arrond.",viticole:"Vitic.",ii:"2",sicle:"Si.",chapelles:"Chap.",centre:"Ctre","sapeur-pompiers":"Sap.-pomp.",tablissements:"tabts","socit anonyme":"SA",directeurs:"Dir.",vii:"7",culturel:"Cult.",central:"Ctral",mtropolitaine:"Mtrop.",administrations:"Admin.",amiraux:"Amir.",sur:"s/",premiers:"1ers","provence-alpes-cte d'azur":"PACA",cathdrale:"Cathd.",iv:"4",postale:"Post.",social:"Soc.",spcialis:"Spc.",district:"Distr.",technologique:"Techno.",viticoles:"Vitic.",ix:"9",protgs:"Prot.",historiques:"Hist.",sous:"s/s",national:"Nal",ambassade:"Amb.",cafs:"Cfs",agronomie:"Agro.",sapeurs:"Sap.",petits:"Pet.",monsieur:"M.",boucher:"Bouch.",restaurant:"Restau.",lyce:"Lyc.",urbaine:"Urb.",prfecture:"Prf.",districts:"Distr.",civil:"Civ.",protges:"Prot.",sapeur:"Sap.",thtre:"Th.",collge:"Coll.",mardi:"ma.",mmorial:"Mmor.",africain:"Afric.",rpublicaine:"Rpubl.",sociale:"Soc.",spcial:"Spc.",technologie:"Techno.",charcuterie:"Charc.",commerces:"Commerc.",fluviale:"Flv",parachutistes:"Para.",primaires:"Prim.",directions:"Dir.",prsidentiel:"Pdtl",nationales:"Nales",aprs:"apr.",samedi:"sa.",unit:"U.",xxiii:"23",associ:"Assoc.",lectrique:"lectr.",populaire:"Pop.",asiatique:"Asiat.",navigable:"Navig.",prsidente:"Pdte",xive:"14e",associs:"Assoc.",pompiers:"Pomp.",agricoles:"Agric.",lm:"lm.",dcembre:"Dc.","son altesse":"S.Alt.","aprs-midi":"a.-m.",mineures:"Min.",juillet:"Juil.",aviatrices:"Aviat.",fondation:"Fond.",pontificaux:"Pontif.",temple:"Tple",europennes:"Eur.",rgionale:"Rg.",informations:"Infos",mondiaux:"Mond.",infanterie:"Infant.",archologie:"Archo.",dans:"d/",hospice:"Hosp.",spectacle:"Spect.","htels-restaurants":"Ht.-Rest.","htel-restaurant":"Ht.-Rest.",hlicoptre:"hlico",xixe:"19e",cliniques:"Clin.",docteur:"Dr",secondaire:"Second.",municipal:"Munic.",gnrale:"Gale",chteau:"Cht.",commerant:"Commer.",avril:"Avr.",clinique:"Clin.",urbaines:"Urb.",navale:"Nav.",navigation:"Navig.",asiatiques:"Asiat.",pontificales:"Pontif.",administrative:"Admin.",syndicat:"Synd.",lundi:"lu.",petite:"Pet.",maritime:"Marit.",mtros:"M",enseignement:"Enseign.",fluviales:"Flv",historique:"Hist.",comts:"Cts",rsidentiel:"Rsid.",international:"Int.",suprieure:"Sup.","centre hospitalier universitaire":"CHU",confdration:"Confd.",boucherie:"Bouch.",fondatrices:"Fond.",mdicaux:"Md.",europens:"Eur.",orientaux:"Ori.",naval:"Nav.",tang:"tg",provincial:"Prov.",junior:"Jr",dpartementales:"Dpt",musique:"Musiq.",directrices:"Dir.",marchal:"Mal",civils:"Civ.",protg:"Prot.",tablissement:"tabt",trafic:"Traf.",aviateur:"Aviat.",archives:"Arch.",africains:"Afric.",maternelle:"Matern.",industrielle:"Ind.",administratif:"Admin.",oriental:"Ori.",universitaire:"Univ.",majeur:"Maj.",haute:"Hte",communal:"Commun.",petit:"Pet.",commune:"Commun.",exploitant:"Exploit.",confrence:"Confr.",monseigneur:"Mgr",pharmacien:"Pharm.",jeudi:"je.",primaire:"Prim.",hlicoptres:"hlicos",agronomique:"Agro.",mdecin:"Md.",ve:"5e",pontificale:"Pontif.",ier:"1er",cinma:"Cin",fluvial:"Flv",occidentaux:"Occ.",commerants:"Commer.",banque:"Bq",moyennes:"Moy.",pharmacienne:"Pharm.",dmocratique:"Dm.",cinmas:"Cins",spciale:"Spc.",prsidents:"Pdts",directrice:"Dir.",vi:"6",basse:"Bas.",xve:"15e",tat:".",aviateurs:"Aviat.",majeurs:"Maj.",infirmiers:"Infirm.",glise:"gl.",confdrale:"Confd.",xxie:"21e",comte:"Cte",europen:"Eur.",union:"U.",pharmacie:"Pharm.",infirmires:"Infirm.",comt:"Ct",sportive:"Sport.",deuxime:"2e",xvi:"17",haut:"Ht",mdicales:"Md.",dvelopp:"Dvelop.",btiment:"Bt.",commerce:"Commerc.",ive:"4e",associatif:"Assoc.",rural:"Rur.",cimetire:"Cim.",rgional:"Rg.",ferroviaire:"Ferr.",vers:"v/",mosque:"Mosq.",mineurs:"Min.",nautique:"Naut.",chteaux:"Cht.",sportif:"Sport.",mademoiselle:"Mle",cole:"c.",doyen:"Doy.",industriel:"Ind.",chapelle:"Chap.",socits:"Sts",internationale:"Int.",coopratif:"Coop.",hospices:"Hosp.",xxii:"22",parachutiste:"Para.",alpines:"Alp.",civile:"Civ.",xvie:"17e",tats:".",muse:"Mse",centrales:"Ctrales",globaux:"Glob.",suprieurs:"Sup.",syndicats:"Synd.",archevque:"Archev.",docteurs:"Drs",bibliothque:"Biblio.",lieutenant:"Lieut.",rpublique:"Rp.",vtrinaire:"Vt.",dpartementaux:"Dpt",premier:"1er",fluviaux:"Flv",anim:"Anim.",orientales:"Ori.",technologiques:"Techno.",princesse:"Pse",routire:"Rout.",cooprative:"Coop.",scolaire:"Scol.",coles:"c.",football:"Foot",territoriale:"Territ.",commercial:"Commerc.",mineur:"Min.",millnaires:"Mill.",association:"Assoc.",catholique:"Cathol.",administration:"Admin.",mairie:"Mair.",portuaire:"Port.",tertiaires:"Terti.",thtrale:"Th.",palais:"Pal.",troisime:"3e",directeur:"Dir.",vtrinaires:"Vt.",facult:"Fac.",occidentales:"Occ.",viticulteurs:"Vitic.",xvii:"18",occidentale:"Occ.",amiral:"Amir.",professionnel:"Profess.",administratives:"Admin.",commerciales:"Commerc.",saints:"Sts",agronomes:"Agro.",stade:"Std","sous-prfet":"Ss-prf.",senior:"Sr",agronome:"Agro.",terrain:"Terr.",catholiques:"Cathol.",rsidentielle:"Rsid.",grands:"Gds",exploitants:"Exploit.",xiiie:"13e",croix:"Cx",gnraux:"Gaux",crdit:"Crd.",cimetires:"Cim.",antenne:"Ant.",mdical:"Md.",collges:"Coll.",musicien:"Music.",apostolique:"Apost.",postal:"Post.",territorial:"Territ.",urbanisme:"Urb.",prfectorale:"Prf.",fondateurs:"Fond.",information:"Info.",glises:"gl.",ophtalmologue:"Ophtalmo",congrgation:"Congrg.",charcutier:"Charc.",tage:"t.",consulat:"Consul.",public:"Publ.",ferre:"Ferr.",matin:"mat.","socit anonyme  responsabilit limite":"SARL",monuments:"Mmts",protection:"Prot.",universel:"Univ.",nationale:"Nale",prsident:"Pdt",provinciale:"Prov.",agriculteurs:"Agric.",prfectoral:"Prf.",xxe:"20e",alpins:"Alp.",avant:"av.",infirmerie:"Infirm.","deux mil":"2000",rurale:"Rur.",administratifs:"Admin.",octobre:"Oct.",archipel:"Archip.",communaut:"Commt",globales:"Glob.",alpin:"Alp.",numros:"N","lieutenant-colonel":"Lieut.-Col.","jsus-christ":"J.-C.",agricole:"Agric.","sa majest":"S.Maj.",associative:"Assoc.",xxi:"21",prsidentielle:"Pdtle",moyen:"Moy.",fdral:"Fd.",professionnelle:"Profess.",tertiaire:"Terti.",ixe:"9e",hpital:"Hp.",technologies:"Techno.",iiie:"3e",dveloppement:"Dvelop.",monument:"Mmt",forestire:"Forest.",numro:"N",viticulture:"Vitic.",traversire:"Traver.",technique:"Tech.",lectriques:"lectr.",militaires:"Milit.",pompier:"Pomp.",amricaine:"Amr.",prfet:"Prf.",congrgations:"Congrg.",ptissier:"Ptiss.",mondial:"Mond.",ophtalmologie:"Ophtalm.",sainte:"Ste",africaine:"Afric.",aviatrice:"Aviat.",doyens:"Doy.",socit:"St",majeures:"Maj.",orientale:"Ori.",ministre:"Min.",archiduc:"Archid.",territoire:"Territ.",techniques:"Tech.","le-de-france":"IDF",globale:"Glob.",xe:"10e",xie:"11e",majeure:"Maj.",commerciaux:"Commerc.",maire:"Mair.",spciaux:"Spc.",grande:"Gde",messieurs:"MM",colonel:"Col.",millnaire:"Mill.",xi:"11",urbain:"Urb.",fdrale:"Fd.",ferr:"Ferr.",rivire:"Riv.",rpublicain:"Rpubl.",grandes:"Gdes",rgiment:"Rgim.",hauts:"Hts",catgorie:"Catg.",basses:"Bas.",xii:"12",agronomiques:"Agro.",iie:"2e",protge:"Prot.","sapeur-pompier":"Sap.-pomp."},directions:{"est-nord-est":"ENE","nord-est":"NE",ouest:"O","sud-est":"SE","est-sud-est":"ESE","nord-nord-est":"NNE",sud:"S","nord-nord-ouest":"NNO","nord-ouest":"NO",nord:"N","ouest-sud-ouest":"OSO","ouest-nord-ouest":"ONO","sud-ouest":"SO","sud-sud-est":"SSE","sud-sud-ouest":"SSO",est:"E"}}},{}],12:[function(s,e,t){e.exports={abbreviations:{:"'"},classifications:{},directions:{}}},{}],13:[function(s,e,t){e.exports={abbreviations:{},classifications:{},directions:{kelet:"K",szakkelet:"K",dl:"D",szaknyugat:"NY",szak:"",dlkelet:"DK",dlnyugat:"DNY",nyugat:"NY"}}},{}],14:[function(s,e,t){e.exports={abbreviations:{apartamentai:"Apt",auktumos:"Auk",centras:"Ctr",eeras:"E",fortas:"Ft",greitkelis:"Grtkl",juosta:"Jst",kaimas:"Km",kalnas:"Kln",kelias:"Kl",kiemelis:"Kml",miestelis:"Mstl","miesto centras":"M.Ctr",mokykla:"Mok",nacionalinis:"Nac",paminklas:"Pmkl",parkas:"Pk",pusratis:"Psrt",sankrya:"Skr",ses:"Ses",skveras:"Skv",stotis:"St",v:"v",tarptautinis:"Trptaut",takas:"Tk",tvas:"Tv",turgus:"Tgs",universitetas:"Univ",up:"Up",upelis:"Up",vieta:"Vt"},classifications:{aikt:"a.",alja:"al.",aplinkkelis:"aplinkl.",autostrada:"auto.",bulvaras:"b.",gatv:"g.",kelias:"kel.",krantin:"krant.",prospektas:"pr.",plentas:"pl.",skersgatvis:"skg.",takas:"tak.",tiltas:"tlt."},directions:{piets:"P",vakarai:"V",iaur:"","iaurs vakarai":"V",pietryiai:"PR","iaurs rytai":"R",rytai:"R",pietvakariai:"PV"}}},{}],15:[function(s,e,t){e.exports={abbreviations:{centrum:"Cntrm",nationaal:"Natl",berg:"Brg",meer:"Mr",kruising:"Krsng",toetreden:"Ttrdn"},classifications:{bypass:"Pass",brug:"Br",straat:"Str",rechtbank:"Rbank",snoek:"Snk",autobaan:"Baan",terras:"Trrs",punt:"Pt",plaza:"Plz",rijden:"Rijd",parkway:"Pky",inham:"Nham",snelweg:"Weg","halve maan":"Maan",cirkel:"Crkl",laan:"Ln",rijbaan:"Strook",weg:"Weg",lopen:"Lpn",autoweg:"Weg",boulevard:"Blvd",plaats:"Plts",steeg:"Stg",voetpad:"Stoep"},directions:{noordoost:"NO",westen:"W",zuiden:"Z",zuidwest:"ZW",oost:"O",zuidoost:"ZO",noordwest:"NW",noorden:"N"}}},{}],16:[function(s,e,t){e.exports={abbreviations:{:".",:".",:"",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:"."},classifications:{:"-",:".",:".",:".",:".",:".",:".",:".",:"."},directions:{:"","-":"","-":"","-":"","-":"",:"",:"",:""}}},{}],17:[function(s,e,t){e.exports={abbreviations:{},classifications:{},directions:{vzhod:"V",severovzhod:"SV",jug:"J",severozahod:"SZ",sever:"S",jugovzhod:"JV",jugozahod:"JZ",zahod:"Z"}}},{}],18:[function(s,e,t){e.exports={abbreviations:{sankta:"s:ta",gamla:"G:la",sankt:"s:t"},classifications:{Bro:"Br"},directions:{norr:"N",sydst:"SO",vster:"V",ster:"O",nordvst:"NV",sydvst:"SV",sder:"S",nordst:"NO"}}},{}],19:[function(s,e,t){e.exports={abbreviations:{},classifications:{},directions:{:""," ":"",:""," ":"",:""," ":""," ":"",:""}}},{}],20:[function(s,e,t){e.exports={abbreviations:{"vin bo tng":"VBT","th trn":"Tt","i hc":"H","cn c khng quan":"CCKQ","cu lc b":"CLB","bu in":"B","khch sn":"KS","khu du lch":"KDL","khu cng nghip":"KCN","khu ngh mt":"KNM","th x":"Tx","khu chung c":"KCC","phi trng":"PT","trung tm":"TT","tng cng ty":"TCty","trung hc c s":"THCS","sn bay quc t":"SBQT","trung hc ph thng":"THPT","cao ng":"C","cng ty":"Cty","sn bay":"SB","thnh ph":"Tp","cng vin":"CV","sn vn ng":"SV","linh mc":"LM","vn quc gia":"VQG"},classifications:{"huyn l":"HL","ng tnh":"T","quc l":"QL","xa l":"XL","hng l":"HL","tnh l":"TL","ng huyn":"H","ng cao tc":"CT","i l":"L","vit nam":"VN","qung trng":"QT","ng b":"B"},directions:{ty:"T",nam:"N","ng nam":"N","ng bc":"B","ty nam":"TN",ng:"",bc:"B"}}},{}],21:[function(s,e,t){e.exports={meta:{regExpFlags:"gi"},v5:{article:[["^ Acc[e]s "," laccs "],["^ Aire "," laire "],["^ All[e]e "," lalle "],["^ Anse "," lanse "],["^ (L['])?Autoroute "," lautoroute "],["^ Avenue "," lavenue "],["^ Barreau "," le barreau "],["^ Boulevard "," le boulevard "],["^ Chemin "," le chemin "],["^ Petit[\\- ]Chemin "," le petit chemin "],["^ Cit[e] "," la cit "],["^ Clos "," le clos "],["^ Corniche "," la corniche "],["^ Cour "," la cour "],["^ Cours "," le cours "],["^ D[e]viation "," la dviation "],["^ Entr[e]e "," lentre "],["^ Esplanade "," lesplanade "],["^ Galerie "," la galerie "],["^ Impasse "," limpasse "],["^ Lotissement "," le lotissement "],["^ Mont[e]e "," la monte "],["^ Parc "," le parc "],["^ Parvis "," le parvis "],["^ Passage "," le passage "],["^ Place "," la place "],["^ Petit[\\- ]Pont "," le petit-pont "],["^ Pont "," le pont "],["^ Promenade "," la promenade "],["^ Quai "," le quai "],["^ Rocade "," la rocade "],["^ Rond[\\- ]?Point "," le rond-point "],["^ Route "," la route "],["^ Rue "," la rue "],["^ Grande Rue "," la grande rue "],["^ Sente "," la sente "],["^ Sentier "," le sentier "],["^ Sortie "," la sortie "],["^ Souterrain "," le souterrain "],["^ Square "," le square "],["^ Terrasse "," la terrasse "],["^ Traverse "," la traverse "],["^ Tunnel "," le tunnel "],["^ Viaduc "," le viaduc "],["^ Villa "," la villa "],["^ Village "," le village "],["^ Voie "," la voie "],[" ([dl])'"," $1"]],preposition:[["^ Le ","  du "],["^ Les ","  des "],["^ La ","  de La "],["^ Acc[e]s ","  de laccs "],["^ Aire ","  de laire "],["^ All[e]e ","  de lalle "],["^ Anse ","  de lanse "],["^ (L['])?Autoroute ","  de lautoroute "],["^ Avenue ","  de lavenue "],["^ Barreau ","  du barreau "],["^ Boulevard ","  du boulevard "],["^ Chemin ","  du chemin "],["^ Petit[\\- ]Chemin ","  du petit chemin "],["^ Cit[e] ","  de la cit "],["^ Clos ","  du clos "],["^ Corniche ","  de la corniche "],["^ Cour ","  de la cour "],["^ Cours ","  du cours "],["^ D[e]viation ","  de la dviation "],["^ Entr[e]e ","  de lentre "],["^ Esplanade ","  de lesplanade "],["^ Galerie ","  de la galerie "],["^ Impasse ","  de limpasse "],["^ Lotissement ","  du lotissement "],["^ Mont[e]e ","  de la monte "],["^ Parc ","  du parc "],["^ Parvis ","  du parvis "],["^ Passage ","  du passage "],["^ Place ","  de la place "],["^ Petit[\\- ]Pont ","  du petit-pont "],["^ Pont ","  du pont "],["^ Promenade ","  de la promenade "],["^ Quai ","  du quai "],["^ Rocade ","  de la rocade "],["^ Rond[\\- ]?Point ","  du rond-point "],["^ Route ","  de la route "],["^ Rue ","  de la rue "],["^ Grande Rue ","  de la grande rue "],["^ Sente ","  de la sente "],["^ Sentier ","  du sentier "],["^ Sortie ","  de la sortie "],["^ Souterrain ","  du souterrain "],["^ Square ","  du square "],["^ Terrasse ","  de la terrasse "],["^ Traverse ","  de la traverse "],["^ Tunnel ","  du tunnel "],["^ Viaduc ","  du viaduc "],["^ Villa ","  de la villa "],["^ Village ","  du village "],["^ Voie ","  de la voie "],["^ ([AEIOUY])","  d$1"],["^ (\\S)","  de $1"],[" ([dl])'"," $1"]],rotary:[["^ Le ","  le rond-point du "],["^ Les ","  le rond-point des "],["^ La ","  le rond-point de La "],["^ Acc[e]s "," le rond-point de laccs "],["^ Aire ","  le rond-point de laire "],["^ All[e]e ","  le rond-point de lalle "],["^ Anse ","  le rond-point de lanse "],["^ (L['])?Autoroute ","  le rond-point de lautoroute "],["^ Avenue ","  le rond-point de lavenue "],["^ Barreau ","  le rond-point du barreau "],["^ Boulevard ","  le rond-point du boulevard "],["^ Chemin ","  le rond-point du chemin "],["^ Petit[\\- ]Chemin ","  le rond-point du petit chemin "],["^ Cit[e] ","  le rond-point de la cit "],["^ Clos ","  le rond-point du clos "],["^ Corniche ","  le rond-point de la corniche "],["^ Cour ","  le rond-point de la cour "],["^ Cours ","  le rond-point du cours "],["^ D[e]viation ","  le rond-point de la dviation "],["^ Entr[e]e ","  le rond-point de lentre "],["^ Esplanade ","  le rond-point de lesplanade "],["^ Galerie ","  le rond-point de la galerie "],["^ Impasse ","  le rond-point de limpasse "],["^ Lotissement ","  le rond-point du lotissement "],["^ Mont[e]e ","  le rond-point de la monte "],["^ Parc ","  le rond-point du parc "],["^ Parvis ","  le rond-point du parvis "],["^ Passage ","  le rond-point du passage "],["^ Place ","  le rond-point de la place "],["^ Petit[\\- ]Pont ","  le rond-point du petit-pont "],["^ Pont ","  le rond-point du pont "],["^ Promenade ","  le rond-point de la promenade "],["^ Quai ","  le rond-point du quai "],["^ Rocade ","  le rond-point de la rocade "],["^ Rond[\\- ]?Point ","  le rond-point "],["^ Route ","  le rond-point de la route "],["^ Rue ","  le rond-point de la rue "],["^ Grande Rue ","  le rond-point de la grande rue "],["^ Sente ","  le rond-point de la sente "],["^ Sentier ","  le rond-point du sentier "],["^ Sortie ","  le rond-point de la sortie "],["^ Souterrain ","  le rond-point du souterrain "],["^ Square ","  le rond-point du square "],["^ Terrasse ","  le rond-point de la terrasse "],["^ Traverse ","  le rond-point de la traverse "],["^ Tunnel ","  le rond-point du tunnel "],["^ Viaduc ","  le rond-point du viaduc "],["^ Villa ","  le rond-point de la villa "],["^ Village ","  le rond-point du village "],["^ Voie ","  le rond-point de la voie "],["^ ([AEIOUY])","  le rond-point d$1"],["^ (\\S)","  le rond-point de $1"],[" ([dl])'"," $1"]],arrival:[["^ Le ","  au "],["^ Les ","  aux "],["^ La ","   La "],["^ (\\S)","   $1"],[" ([dl])'"," $1"]]}}},{}],22:[function(s,e,t){e.exports={meta:{regExpFlags:""},v5:{accusative:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ [][] ","  "]],dative:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "],["([]) ","$1 "]],genitive:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "]],prepositional:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "]]}}},{}],23:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"frste",2:"anden",3:"tredje",4:"fjerde",5:"femte",6:"sjette",7:"syvende",8:"ottende",9:"niende",10:"tiende"},direction:{north:"Nord",northeast:"Nordst",east:"st",southeast:"Sydst",south:"Syd",southwest:"Sydvest",west:"Vest",northwest:"Nordvest"},modifier:{left:"venstresving",right:"hjresving","sharp left":"skarpt venstresving","sharp right":"skarpt hjresving","slight left":"svagt venstresving","slight right":"svagt hjresving",straight:"ligeud",uturn:"U-vending"},lanes:{xo:"Hold til hjre",ox:"Hold til venstre",xox:"Benyt midterste spor",oxo:"Hold til hjre eller venstre"}},modes:{ferry:{default:"Tag frgen",name:"Tag frgen {way_name}",destination:"Tag frgen i retning {destination}"}},phrase:{"two linked by distance":"{instruction_one} derefter, efter {distance}, {instruction_two}","two linked":"{instruction_one}, derefter {instruction_two}","one in distance":"Efter {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":"afkrsel {exit}"},arrive:{default:{default:"Du er ankommet til din {nth} destination",upcoming:"Du vil ankomme til din {nth} destination",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}"},left:{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},right:{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"sharp left":{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},"sharp right":{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"slight right":{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"slight left":{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},straight:{default:"Du er ankommet til din {nth} destination, der befinder sig lige frem",upcoming:"Du vil ankomme til din {nth} destination foran dig",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, der befinder sig lige frem"}},continue:{default:{default:"Drej til {modifier}",name:"Drej til {modifier} videre ad {way_name}",destination:"Drej til {modifier} mod {destination}",exit:"Drej til {modifier} ad {way_name}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst mod {destination}",distance:"Fortst {distance} ligeud",namedistance:"Fortst {distance} ad {way_name}"},"sharp left":{default:"Drej skarpt til venstre",name:"Drej skarpt til venstre videre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre",name:"Drej skarpt til hjre videre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},"slight left":{default:"Drej left til venstre",name:"Drej let til venstre videre ad {way_name}",destination:"Drej let til venstre mod {destination}"},"slight right":{default:"Drej let til hjre",name:"Drej let til hjre videre ad {way_name}",destination:"Drej let til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending tilbage ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},depart:{default:{default:"Kr mod {direction}",name:"Kr mod {direction} ad {way_name}",namedistance:"Fortst {distance} ad {way_name}mod {direction}"}},"end of road":{default:{default:"Drej til {modifier}",name:"Drej til {modifier} ad {way_name}",destination:"Drej til {modifier} mof {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst ligeud mod {destination}"},uturn:{default:"Foretag en U-vending for enden af vejen",name:"Foretag en U-vending ad {way_name} for enden af vejen",destination:"Foretag en U-vending mod {destination} for enden af vejen"}},fork:{default:{default:"Hold til {modifier} ved udfletningen",name:"Hold mod {modifier} p {way_name}",destination:"Hold mod {modifier} mod {destination}"},"slight left":{default:"Hold til venstre ved udfletningen",name:"Hold til venstre p {way_name}",destination:"Hold til venstre mod {destination}"},"slight right":{default:"Hold til hjre ved udfletningen",name:"Hold til hjre p {way_name}",destination:"Hold til hjre mod {destination}"},"sharp left":{default:"Drej skarpt til venstre ved udfletningen",name:"Drej skarpt til venstre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre ved udfletningen",name:"Drej skarpt til hjre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},merge:{default:{default:"Flet til {modifier}",name:"Flet til {modifier} ad {way_name}",destination:"Flet til {modifier} mod {destination}"},straight:{default:"Flet",name:"Flet ind p {way_name}",destination:"Flet ind mod {destination}"},"slight left":{default:"Flet til venstre",name:"Flet til venstre ad {way_name}",destination:"Flet til venstre mod {destination}"},"slight right":{default:"Flet til hjre",name:"Flet til hjre ad {way_name}",destination:"Flet til hjre mod {destination}"},"sharp left":{default:"Flet til venstre",name:"Flet til venstre ad {way_name}",destination:"Flet til venstre mod {destination}"},"sharp right":{default:"Flet til hjre",name:"Flet til hjre ad {way_name}",destination:"Flet til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},"new name":{default:{default:"Fortst {modifier}",name:"Fortst {modifier} ad {way_name}",destination:"Fortst {modifier} mod {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ad {way_name}",destination:"Fortst mod {destination}"},"sharp left":{default:"Drej skarpt til venstre",name:"Drej skarpt til venstre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre",name:"Drej skarpt til hjre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},"slight left":{default:"Fortst til venstre",name:"Fortst til venstre ad {way_name}",destination:"Fortst til venstre mod {destination}"},"slight right":{default:"Fortst til hjre",name:"Fortst til hjre ad {way_name}",destination:"Fortst til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},notification:{default:{default:"Fortst {modifier}",name:"Fortst {modifier} ad {way_name}",destination:"Fortst {modifier} mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},"off ramp":{default:{default:"Tag afkrslen",name:"Tag afkrslen ad {way_name}",destination:"Tag afkrslen mod {destination}",exit:"Vlg afkrsel {exit}",exit_destination:"Vlg afkrsel {exit} mod {destination}"},left:{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},right:{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"},"sharp left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},"sharp right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"},"slight left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},"slight right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"}},"on ramp":{default:{default:"Tag afkrslen",name:"Tag afkrslen ad {way_name}",destination:"Tag afkrslen mod {destination}"},left:{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},right:{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"},"sharp left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},"sharp right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"},"slight left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},"slight right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"}},rotary:{default:{default:{default:"Kr ind i rundkrslen",name:"Tag rundkrslen og kr fra ad {way_name}",destination:"Tag rundkrslen og kr mod {destination}"},name:{default:"Kr ind i {rotary_name}",name:"Kr ind i {rotary_name} og kr ad {way_name} ",destination:"Kr ind i {rotary_name} og kr mod {destination}"},exit:{default:"Tag rundkrslen og forlad ved {exit_number} afkrsel",name:"Tag rundkrslen og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Tag rundkrslen og forlad ved {exit_number} afkrsel mod {destination}"},name_exit:{default:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel",name:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel mod {destination}"}}},roundabout:{default:{exit:{default:"Tag rundkrslen og forlad ved {exit_number} afkrsel",name:"Tag rundkrslen og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Tag rundkrslen og forlad ved {exit_number} afkrsel mod {destination}"},default:{default:"Kr ind i rundkrslen",name:"Tag rundkrslen og kr fra ad {way_name}",destination:"Tag rundkrslen og kr mod {destination}"}}},"roundabout turn":{default:{default:"Foretag et {modifier}",name:"Foretag et {modifier} ad {way_name}",destination:"Foretag et {modifier} mod {destination}"},left:{default:"Drej til venstre",name:"Drej til venstre ad {way_name}",destination:"Drej til venstre mod {destination}"},right:{default:"Drej til hjre",name:"Drej til hjre ad {way_name}",destination:"Drej til hjre mod {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst ligeud mod {destination}"}},"exit roundabout":{default:{default:"Forlad rundkrslen",name:"Forlad rundkrslen ad {way_name}",destination:"Forlad rundkrslen mod  {destination}"}},"exit rotary":{default:{default:"Forlad rundkrslen",name:"Forlad rundkrslen ad {way_name}",destination:"Forlad rundkrslen mod {destination}"}},turn:{default:{default:"Foretag et {modifier}",name:"Foretag et {modifier} ad {way_name}",destination:"Foretag et {modifier} mod {destination}"},left:{default:"Drej til venstre",name:"Drej til venstre ad {way_name}",destination:"Drej til venstre mod {destination}"},right:{default:"Drej til hjre",name:"Drej til hjre ad {way_name}",destination:"Drej til hjre mod {destination}"},straight:{default:"Fortst ligeud",name:"Kr ligeud ad {way_name}",destination:"Kr ligeud mod {destination}"}},"use lane":{no_lanes:{default:"Fortst ligeud"},default:{default:"{lane_instruction}"}}}}},{}],24:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"erste",2:"zweite",3:"dritte",4:"vierte",5:"fnfte",6:"sechste",7:"siebente",8:"achte",9:"neunte",10:"zehnte"},direction:{north:"Norden",northeast:"Nordosten",east:"Osten",southeast:"Sdosten",south:"Sden",southwest:"Sdwesten",west:"Westen",northwest:"Nordwesten"},modifier:{left:"links",right:"rechts","sharp left":"scharf links","sharp right":"scharf rechts","slight left":"leicht links","slight right":"leicht rechts",straight:"geradeaus",uturn:"180-Wendung"},lanes:{xo:"Rechts halten",ox:"Links halten",xox:"Mittlere Spur nutzen",oxo:"Rechts oder links halten"}},modes:{ferry:{default:"Fhre nehmen",name:"Fhre nehmen {way_name}",destination:"Fhre nehmen Richtung {destination}"}},phrase:{"two linked by distance":"{instruction_one} danach in {distance} {instruction_two}","two linked":"{instruction_one} danach {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Sie haben Ihr {nth} Ziel erreicht",upcoming:"Sie haben Ihr {nth} Ziel erreicht",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}"},left:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},right:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"sharp left":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},"sharp right":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"slight right":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"slight left":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},straight:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich geradeaus",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich geradeaus",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich geradeaus"}},continue:{default:{default:"{modifier} abbiegen",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}",exit:"{modifier} abbiegen auf {way_name}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Weiterfahren in Richtung {destination}",distance:"Geradeaus weiterfahren fr {distance}",namedistance:"Geradeaus weiterfahren auf {way_name} fr {distance}"},"sharp left":{default:"Scharf links",name:"Scharf links weiterfahren auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts",name:"Scharf rechts weiterfahren auf {way_name}",destination:"Scharf rechts Richtung {destination}"},"slight left":{default:"Leicht links",name:"Leicht links weiter auf {way_name}",destination:"Leicht links weiter Richtung {destination}"},"slight right":{default:"Leicht rechts weiter",name:"Leicht rechts weiter auf {way_name}",destination:"Leicht rechts weiter Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},depart:{default:{default:"Fahren Sie Richtung {direction}",name:"Fahren Sie Richtung {direction} auf {way_name}",namedistance:"Fahren Sie Richtung {direction} auf {way_name} fr {distance}"}},"end of road":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"},uturn:{default:"180-Wendung am Ende der Strae",name:"180-Wendung auf {way_name} am Ende der Strae",destination:"180-Wendung Richtung {destination} am Ende der Strae"}},fork:{default:{default:"{modifier} halten an der Gabelung",name:"{modifier} halten an der Gabelung auf {way_name}",destination:"{modifier}  halten an der Gabelung Richtung {destination}"},"slight left":{default:"Links halten an der Gabelung",name:"Links halten an der Gabelung auf {way_name}",destination:"Links halten an der Gabelung Richtung {destination}"},"slight right":{default:"Rechts halten an der Gabelung",name:"Rechts halten an der Gabelung auf {way_name}",destination:"Rechts halten an der Gabelung Richtung {destination}"},"sharp left":{default:"Scharf links abbiegen an der Gabelung",name:"Scharf links auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts abbiegen an der Gabelung",name:"Scharf rechts auf {way_name}",destination:"Scharf rechts Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},merge:{default:{default:"{modifier} auffahren",name:"{modifier} auffahren auf {way_name}",destination:"{modifier} auffahren Richtung {destination}"},straight:{default:"geradeaus auffahren",name:"geradeaus auffahren auf {way_name}",destination:"geradeaus auffahren Richtung {destination}"},"slight left":{default:"Leicht links auffahren",name:"Leicht links auffahren auf {way_name}",destination:"Leicht links auffahren Richtung {destination}"},"slight right":{default:"Leicht rechts auffahren",name:"Leicht rechts auffahren auf {way_name}",destination:"Leicht rechts auffahren Richtung {destination}"},"sharp left":{default:"Scharf links auffahren",name:"Scharf links auffahren auf {way_name}",destination:"Scharf links auffahren Richtung {destination}"},"sharp right":{default:"Scharf rechts auffahren",name:"Scharf rechts auffahren auf {way_name}",destination:"Scharf rechts auffahren Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},"new name":{default:{default:"{modifier} weiterfahren",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} weiterfahren Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Weiterfahren auf {way_name}",destination:"Weiterfahren in Richtung {destination}"},"sharp left":{default:"Scharf links",name:"Scharf links auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts",name:"Scharf rechts auf {way_name}",destination:"Scharf rechts Richtung {destination}"},"slight left":{default:"Leicht links weiter",name:"Leicht links weiter auf {way_name}",destination:"Leicht links weiter Richtung {destination}"},"slight right":{default:"Leicht rechts weiter",name:"Leicht rechts weiter auf {way_name}",destination:"Leicht rechts weiter Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},notification:{default:{default:"{modifier} weiterfahren",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} weiterfahren Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},"off ramp":{default:{default:"Ausfahrt nehmen",name:"Ausfahrt nehmen auf {way_name}",destination:"Ausfahrt nehmen Richtung {destination}",exit:"Ausfahrt {exit} nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},left:{default:"Ausfahrt links nehmen",name:"Ausfahrt links nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} links nehmen",exit_destination:"Ausfahrt {exit} links nehmen Richtung {destination}"},right:{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen Richtung {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},"sharp left":{default:"Ausfahrt links nehmen",name:"Ausfahrt links Seite nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} links nehmen",exit_destination:"Ausfahrt{exit} links nehmen Richtung {destination}"},"sharp right":{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen auf {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},"slight left":{default:"Ausfahrt links nehmen",name:"Ausfahrt links nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} nehmen",exit_destination:"Ausfahrt {exit} links nehmen Richtung {destination}"},"slight right":{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen auf {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"}},"on ramp":{default:{default:"Auffahrt nehmen",name:"Auffahrt nehmen auf {way_name}",destination:"Auffahrt nehmen Richtung {destination}"},left:{default:"Auffahrt links nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},right:{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"},"sharp left":{default:"Auffahrt links nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},"sharp right":{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"},"slight left":{default:"Auffahrt links Seite nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},"slight right":{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"}},rotary:{default:{default:{default:"In den Kreisverkehr fahren",name:"Im Kreisverkehr die Ausfahrt auf {way_name} nehmen",destination:"Im Kreisverkehr die Ausfahrt Richtung {destination} nehmen"},name:{default:"In {rotary_name} fahren",name:"In {rotary_name} die Ausfahrt auf {way_name} nehmen",destination:"In {rotary_name} die Ausfahrt Richtung {destination} nehmen"},exit:{default:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen",name:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen auf {way_name}",destination:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen Richtung {destination}"},name_exit:{default:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen",name:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen auf {way_name}",destination:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen Richtung {destination}"}}},roundabout:{default:{exit:{default:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen",name:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen auf {way_name}",destination:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen Richtung {destination}"},default:{default:"In den Kreisverkehr fahren",name:"Im Kreisverkehr die Ausfahrt auf {way_name} nehmen",destination:"Im Kreisverkehr die Ausfahrt Richtung {destination} nehmen"}}},"roundabout turn":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"exit roundabout":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"exit rotary":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},turn:{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"use lane":{no_lanes:{default:"Geradeaus weiterfahren"},default:{default:"{lane_instruction}"}}}}},{}],25:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th",6:"6th",7:"7th",8:"8th",9:"9th",10:"10th"},direction:{north:"north",northeast:"northeast",east:"east",southeast:"southeast",south:"south",southwest:"southwest",west:"west",northwest:"northwest"},modifier:{left:"left",right:"right","sharp left":"sharp left","sharp right":"sharp right","slight left":"slight left","slight right":"slight right",straight:"straight",uturn:"U-turn"},lanes:{xo:"Keep right",ox:"Keep left",xox:"Keep in the middle",oxo:"Keep left or right"}},modes:{ferry:{default:"Take the ferry",name:"Take the ferry {way_name}",destination:"Take the ferry towards {destination}"}},phrase:{"two linked by distance":"{instruction_one}, then, in {distance}, {instruction_two}","two linked":"{instruction_one}, then {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"You have arrived at your {nth} destination",upcoming:"You will arrive at your {nth} destination",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}"},left:{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},right:{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"sharp left":{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},"sharp right":{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"slight right":{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"slight left":{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},straight:{default:"You have arrived at your {nth} destination, straight ahead",upcoming:"You will arrive at your {nth} destination, straight ahead",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, straight ahead"}},continue:{default:{default:"Turn {modifier}",name:"Turn {modifier} to stay on {way_name}",destination:"Turn {modifier} towards {destination}",exit:"Turn {modifier} onto {way_name}"},straight:{default:"Continue straight",name:"Continue straight to stay on {way_name}",destination:"Continue towards {destination}",distance:"Continue straight for {distance}",namedistance:"Continue on {way_name} for {distance}"},"sharp left":{default:"Make a sharp left",name:"Make a sharp left to stay on {way_name}",destination:"Make a sharp left towards {destination}"},"sharp right":{default:"Make a sharp right",name:"Make a sharp right to stay on {way_name}",destination:"Make a sharp right towards {destination}"},"slight left":{default:"Make a slight left",name:"Make a slight left to stay on {way_name}",destination:"Make a slight left towards {destination}"},"slight right":{default:"Make a slight right",name:"Make a slight right to stay on {way_name}",destination:"Make a slight right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn and continue on {way_name}",destination:"Make a U-turn towards {destination}"}},depart:{default:{default:"Head {direction}",name:"Head {direction} on {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Turn {modifier}",name:"Turn {modifier} onto {way_name}",destination:"Turn {modifier} towards {destination}"},straight:{default:"Continue straight",name:"Continue straight onto {way_name}",destination:"Continue straight towards {destination}"},uturn:{default:"Make a U-turn at the end of the road",name:"Make a U-turn onto {way_name} at the end of the road",destination:"Make a U-turn towards {destination} at the end of the road"}},fork:{default:{default:"Keep {modifier} at the fork",name:"Keep {modifier} onto {way_name}",destination:"Keep {modifier} towards {destination}"},"slight left":{default:"Keep left at the fork",name:"Keep left onto {way_name}",destination:"Keep left towards {destination}"},"slight right":{default:"Keep right at the fork",name:"Keep right onto {way_name}",destination:"Keep right towards {destination}"},"sharp left":{default:"Take a sharp left at the fork",name:"Take a sharp left onto {way_name}",destination:"Take a sharp left towards {destination}"},"sharp right":{default:"Take a sharp right at the fork",name:"Take a sharp right onto {way_name}",destination:"Take a sharp right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},merge:{default:{default:"Merge {modifier}",name:"Merge {modifier} onto {way_name}",destination:"Merge {modifier} towards {destination}"},straight:{default:"Merge",name:"Merge onto {way_name}",destination:"Merge towards {destination}"},"slight left":{default:"Merge left",name:"Merge left onto {way_name}",destination:"Merge left towards {destination}"},"slight right":{default:"Merge right",name:"Merge right onto {way_name}",destination:"Merge right towards {destination}"},"sharp left":{default:"Merge left",name:"Merge left onto {way_name}",destination:"Merge left towards {destination}"},"sharp right":{default:"Merge right",name:"Merge right onto {way_name}",destination:"Merge right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} onto {way_name}",destination:"Continue {modifier} towards {destination}"},straight:{default:"Continue straight",name:"Continue onto {way_name}",destination:"Continue towards {destination}"},"sharp left":{default:"Take a sharp left",name:"Take a sharp left onto {way_name}",destination:"Take a sharp left towards {destination}"},"sharp right":{default:"Take a sharp right",name:"Take a sharp right onto {way_name}",destination:"Take a sharp right towards {destination}"},"slight left":{default:"Continue slightly left",name:"Continue slightly left onto {way_name}",destination:"Continue slightly left towards {destination}"},"slight right":{default:"Continue slightly right",name:"Continue slightly right onto {way_name}",destination:"Continue slightly right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} onto {way_name}",destination:"Continue {modifier} towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},"off ramp":{default:{default:"Take the ramp",name:"Take the ramp onto {way_name}",destination:"Take the ramp towards {destination}",exit:"Take exit {exit}",exit_destination:"Take exit {exit} towards {destination}"},left:{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},right:{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"sharp left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"sharp right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"slight left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"slight right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"}},"on ramp":{default:{default:"Take the ramp",name:"Take the ramp onto {way_name}",destination:"Take the ramp towards {destination}"},left:{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},right:{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"},"sharp left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},"sharp right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"},"slight left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},"slight right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"}},rotary:{default:{default:{default:"Enter the traffic circle",name:"Enter the traffic circle and exit onto {way_name}",destination:"Enter the traffic circle and exit towards {destination}"},name:{default:"Enter {rotary_name}",name:"Enter {rotary_name} and exit onto {way_name}",destination:"Enter {rotary_name} and exit towards {destination}"},exit:{default:"Enter the traffic circle and take the {exit_number} exit",name:"Enter the traffic circle and take the {exit_number} exit onto {way_name}",destination:"Enter the traffic circle and take the {exit_number} exit towards {destination}"},name_exit:{default:"Enter {rotary_name} and take the {exit_number} exit",name:"Enter {rotary_name} and take the {exit_number} exit onto {way_name}",destination:"Enter {rotary_name} and take the {exit_number} exit towards {destination}"}}},roundabout:{default:{exit:{default:"Enter the traffic circle and take the {exit_number} exit",name:"Enter the traffic circle and take the {exit_number} exit onto {way_name}",destination:"Enter the traffic circle and take the {exit_number} exit towards {destination}"},default:{default:"Enter the traffic circle",name:"Enter the traffic circle and exit onto {way_name}",destination:"Enter the traffic circle and exit towards {destination}"}}},"roundabout turn":{default:{default:"Make a {modifier}",name:"Make a {modifier} onto {way_name}",destination:"Make a {modifier} towards {destination}"},left:{default:"Turn left",name:"Turn left onto {way_name}",destination:"Turn left towards {destination}"},right:{default:"Turn right",name:"Turn right onto {way_name}",destination:"Turn right towards {destination}"},straight:{default:"Continue straight",name:"Continue straight onto {way_name}",destination:"Continue straight towards {destination}"}},"exit roundabout":{default:{default:"Exit the traffic circle",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},"exit rotary":{default:{default:"Exit the traffic circle",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},turn:{default:{default:"Make a {modifier}",name:"Make a {modifier} onto {way_name}",destination:"Make a {modifier} towards {destination}"},left:{default:"Turn left",name:"Turn left onto {way_name}",destination:"Turn left towards {destination}"},right:{default:"Turn right",name:"Turn right onto {way_name}",destination:"Turn right towards {destination}"},straight:{default:"Go straight",name:"Go straight onto {way_name}",destination:"Go straight towards {destination}"}},"use lane":{no_lanes:{default:"Continue straight"},default:{default:"{lane_instruction}"}}}}},{}],26:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"norden",northeast:"nord-orienten",east:"orienten",southeast:"sud-orienten",south:"suden",southwest:"sud-okcidenten",west:"okcidenten",northwest:"nord-okcidenten"},modifier:{left:"maldekstren",right:"dekstren","sharp left":"maldekstregen","sharp right":"dekstregen","slight left":"maldekstreten","slight right":"dekstreten",straight:"rekten",uturn:"turniu malantaen"},lanes:{xo:"Veturu dekstre",ox:"Veturu maldekstre",xox:"Veturu meze",oxo:"Veturu dekstre a maldekstre"}},modes:{ferry:{default:"Enpramiu",name:"Enpramiu {way_name}",destination:"Enpramiu direkte al {destination}"}},phrase:{"two linked by distance":"{instruction_one} kaj post {distance} {instruction_two}","two linked":"{instruction_one} kaj sekve {instruction_two}","one in distance":"Post {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"elveturejo {exit}"},arrive:{default:{default:"Vi atingis vian {nth} celon",upcoming:"Vi atingos vian {nth} celon",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}"},left:{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},right:{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"sharp left":{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},"sharp right":{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"slight right":{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"slight left":{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},straight:{default:"Vi atingis vian {nth} celon",upcoming:"Vi atingos vian {nth} celon rekte",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name} antae"}},continue:{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}",exit:"Veturu {modifier} direkte al {way_name}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}",distance:"Veturu rekten dum {distance}",namedistance:"Veturu rekten al {way_name} dum {distance}"},"sharp left":{default:"Turniu ege maldekstren",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Turniu ege dekstren",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},"slight left":{default:"Turniu ete maldekstren",name:"Turniu ete maldekstren al {way_name}",destination:"Turniu ete maldekstren direkte al {destination}"},"slight right":{default:"Turniu ete dekstren",name:"Turniu ete dekstren al {way_name}",destination:"Turniu ete dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},depart:{default:{default:"Direktiu {direction}",name:"Direktiu {direction} al {way_name}",namedistance:"Direktiu {direction} al {way_name} tra {distance}"}},"end of road":{default:{default:"Veturu {modifier}",name:"Veturu {modifier} direkte al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"},uturn:{default:"Turniu malantaen e fino de la vojo",name:"Turniu malantaen al {way_name} e fino de la vojo",destination:"Turniu malantaen direkte al {destination} e fino de la vojo"}},fork:{default:{default:"Daru {modifier} e la vojforko",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},"slight left":{default:"Maldekstren e la vojforko",name:"Pluu maldekstren al {way_name}",destination:"Pluu maldekstren direkte al {destination}"},"slight right":{default:"Dekstren e la vojforko",name:"Pluu dekstren al {way_name}",destination:"Pluu dekstren direkte al {destination}"},"sharp left":{default:"Ege maldekstren e la vojforko",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Ege dekstren e la vojforko",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},merge:{default:{default:"Enveturu {modifier}",name:"Enveturu {modifier} al {way_name}",destination:"Enveturu {modifier} direkte al {destination}"},straight:{default:"Enveturu",name:"Enveturu al {way_name}",destination:"Enveturu direkte al {destination}"},"slight left":{default:"Enveturu de maldekstre",name:"Enveturu de maldekstre al {way_name}",destination:"Enveturu de maldekstre direkte al {destination}"},"slight right":{default:"Enveturu de dekstre",name:"Enveturu de dekstre al {way_name}",destination:"Enveturu de dekstre direkte al {destination}"},"sharp left":{default:"Enveturu de maldekstre",name:"Enveture de maldekstre al {way_name}",destination:"Enveturu de maldekstre direkte al {destination}"},"sharp right":{default:"Enveturu de dekstre",name:"Enveturu de dekstre al {way_name}",destination:"Enveturu de dekstre direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},"new name":{default:{default:"Pluu {modifier}",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"},"sharp left":{default:"Turniu ege maldekstren",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Turniu ege dekstren",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},"slight left":{default:"Pluu ete maldekstren",name:"Pluu ete maldekstren al {way_name}",destination:"Pluu ete maldekstren direkte al {destination}"},"slight right":{default:"Pluu ete dekstren",name:"Pluu ete dekstren al {way_name}",destination:"Pluu ete dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},notification:{default:{default:"Pluu {modifier}",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},"off ramp":{default:{default:"Direktiu al enveturejo",name:"Direktiu al enveturejo al {way_name}",destination:"Direktiu al enveturejo direkte al {destination}",exit:"Direktiu al elveturejo {exit}",exit_destination:"Direktiu al elveturejo {exit} direkte al {destination}"},left:{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al elveturejo {exit} e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},right:{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al {exit} elveturejo e ldekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"},"sharp left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al {exit} elveturejo e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},"sharp right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al elveturejo {exit} e dekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"},"slight left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al {exit} elveturejo e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},"slight right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al {exit} elveturejo e ldekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"}},"on ramp":{default:{default:"Direktiu al enveturejo",name:"Direktiu al enveturejo al {way_name}",destination:"Direktiu al enveturejo direkte al {destination}"},left:{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},right:{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"},"sharp left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},"sharp right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"},"slight left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},"slight right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"}},rotary:{default:{default:{default:"Enveturu trafikcirklegon",name:"Enveturu trafikcirklegon kaj elveturu al {way_name}",destination:"Enveturu trafikcirklegon kaj elveturu direkte al {destination}"},name:{default:"Enveturu {rotary_name}",name:"Enveturu {rotary_name} kaj elveturu al {way_name}",destination:"Enveturu {rotary_name} kaj elveturu direkte al {destination}"},exit:{default:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo",name:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo direkte al {destination}"},name_exit:{default:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo",name:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo direkte al {destination}"}}},roundabout:{default:{exit:{default:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo",name:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo direkte al {destination}"},default:{default:"Enveturu trafikcirklegon",name:"Enveturu trafikcirklegon kaj elveturu al {way_name}",destination:"Enveturu trafikcirklegon kaj elveturu direkte al {destination}"}}},"roundabout turn":{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},left:{default:"Turniu maldekstren",name:"Turniu maldekstren al {way_name}",destination:"Turniu maldekstren direkte al {destination}"},right:{default:"Turniu dekstren",name:"Turniu dekstren al {way_name}",destination:"Turniu dekstren direkte al {destination}"},straight:{default:"Pluu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"}},"exit roundabout":{default:{default:"Elveturu trafikcirklegon",name:"Elveturu trafikcirklegon al {way_name}",destination:"Elveturu trafikcirklegon direkte al {destination}"}},"exit rotary":{default:{default:"Eliru trafikcirklegon",name:"Elveturu trafikcirklegon al {way_name}",destination:"Elveturu trafikcirklegon direkte al {destination}"}},turn:{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},left:{default:"Turniu maldekstren",name:"Turniu maldekstren al {way_name}",destination:"Turniu maldekstren direkte al {destination}"},right:{default:"Turniu dekstren",name:"Turniu dekstren al {way_name}",destination:"Turniu dekstren direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"}},"use lane":{no_lanes:{default:"Pluu rekten"},default:{default:"{lane_instruction}"}}}}},{}],27:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"noreste",east:"este",southeast:"sureste",south:"sur",southwest:"suroeste",west:"oeste",northwest:"noroeste"},modifier:{left:"a la izquierda",right:"a la derecha","sharp left":"cerrada a la izquierda","sharp right":"cerrada a la derecha","slight left":"ligeramente a la izquierda","slight right":"ligeramente a la derecha",straight:"recto",uturn:"cambio de sentido"},lanes:{xo:"Mantente a la derecha",ox:"Mantente a la izquierda",xox:"Mantente en el medio",oxo:"Mantente a la izquierda o a la derecha"}},modes:{ferry:{default:"Coge el ferry",name:"Coge el ferry {way_name}",destination:"Coge el ferry hacia {destination}"}},phrase:{"two linked by distance":"{instruction_one} y luego en {distance}, {instruction_two}","two linked":"{instruction_one} y luego {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"salida {exit}"},arrive:{default:{default:"Has llegado a tu {nth} destino",upcoming:"Vas a llegar a tu {nth} destino",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}"},left:{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},right:{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"sharp left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},"sharp right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},straight:{default:"Has llegado a tu {nth} destino, en frente",upcoming:"Vas a llegar a tu {nth} destino, en frente",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, en frente"}},continue:{default:{default:"Gire {modifier}",name:"Cruce {modifier} en {way_name}",destination:"Gire {modifier} hacia {destination}",exit:"Gire {modifier} en {way_name}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}",distance:"Contina recto por {distance}",namedistance:"Contina recto en {way_name} por {distance}"},"sharp left":{default:"Gire a la izquierda",name:"Gire a la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},"sharp right":{default:"Gire a la derecha",name:"Gire a la derecha en {way_name}",destination:"Gire a la derecha hacia {destination}"},"slight left":{default:"Gire a la izquierda",name:"Doble levementea la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},"slight right":{default:"Gire a la izquierda",name:"Doble levemente a la derecha en {way_name}",destination:"Gire a la izquierda hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido y contina en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},depart:{default:{default:"Dirgete al {direction}",name:"Dirgete al {direction} por {way_name}",namedistance:"Dirgete al {direction} en {way_name} por {distance}"}},"end of road":{default:{default:"Al final de la calle gira {modifier}",name:"Al final de la calle gira {modifier} por {way_name}",destination:"Al final de la calle gira {modifier} hacia {destination}"},straight:{default:"Al final de la calle contina recto",name:"Al final de la calle contina recto por {way_name}",destination:"Al final de la calle contina recto hacia {destination}"},uturn:{default:"Al final de la calle haz un cambio de sentido",name:"Al final de la calle haz un cambio de sentido en {way_name}",destination:"Al final de la calle haz un cambio de sentido hacia {destination}"}},fork:{default:{default:"Mantente {modifier} en el cruce",name:"Mantente {modifier} por {way_name}",destination:"Mantente {modifier} hacia {destination}"},"slight left":{default:"Mantente a la izquierda en el cruce",name:"Mantente a la izquierda por {way_name}",destination:"Mantente a la izquierda hacia {destination}"},"slight right":{default:"Mantente a la derecha en el cruce",name:"Mantente a la derecha por {way_name}",destination:"Mantente a la derecha hacia {destination}"},"sharp left":{default:"Gira la izquierda en el cruce",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha en el cruce",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},merge:{default:{default:"Incorprate {modifier}",name:"Incorprate {modifier} por {way_name}",destination:"Incorprate {modifier} hacia {destination}"},straight:{default:"Incorprate",name:"Incorprate por {way_name}",destination:"Incorprate hacia {destination}"},"slight left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda por {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"slight right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha por {way_name}",destination:"Incorprate a la derecha hacia {destination}"},"sharp left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda por {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"sharp right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha por {way_name}",destination:"Incorprate a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"new name":{default:{default:"Contina {modifier}",name:"Contina {modifier} por {way_name}",destination:"Contina {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina por {way_name}",destination:"Contina hacia {destination}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Contina ligeramente por la izquierda",name:"Contina ligeramente por la izquierda por {way_name}",destination:"Contina ligeramente por la izquierda hacia {destination}"},"slight right":{default:"Contina ligeramente por la derecha",name:"Contina ligeramente por la derecha por {way_name}",destination:"Contina ligeramente por la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},notification:{default:{default:"Contina {modifier}",name:"Contina {modifier} por {way_name}",destination:"Contina {modifier} hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"off ramp":{default:{default:"Coge la cuesta abajo",name:"Coge la cuesta abajo por {way_name}",destination:"Coge la cuesta abajo hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},left:{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo {exit} a tu izquierda hacia {destination}"},right:{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},"sharp left":{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo {exit} a tu izquierda hacia {destination}"},"sharp right":{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},"slight left":{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo{exit} a tu izquierda hacia {destination}"},"slight right":{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"}},"on ramp":{default:{default:"Coge la cuesta",name:"Coge la cuesta por {way_name}",destination:"Coge la cuesta hacia {destination}"},left:{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},right:{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"},"sharp left":{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},"sharp right":{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"},"slight left":{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},"slight right":{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"}},rotary:{default:{default:{default:"Incorprate en la rotonda",name:"En la rotonda sal por {way_name}",destination:"En la rotonda sal hacia {destination}"},name:{default:"En {rotary_name}",name:"En {rotary_name} sal por {way_name}",destination:"En {rotary_name} sal hacia {destination}"},exit:{default:"En la rotonda toma la {exit_number} salida",name:"En la rotonda toma la {exit_number} salida por {way_name}",destination:"En la rotonda toma la {exit_number} salida hacia {destination}"},name_exit:{default:"En {rotary_name} toma la {exit_number} salida",name:"En {rotary_name} toma la {exit_number} salida por {way_name}",destination:"En {rotary_name} toma la {exit_number} salida hacia {destination}"}}},roundabout:{default:{exit:{default:"En la rotonda toma la {exit_number} salida",name:"En la rotonda toma la {exit_number} salida por {way_name}",destination:"En la rotonda toma la {exit_number} salida hacia {destination}"},default:{default:"Incorprate en la rotonda",name:"Incorprate en la rotonda y sal en {way_name}",destination:"Incorprate en la rotonda y sal hacia {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} en {way_name}",destination:"Siga {modifier} hacia {destination}"},left:{default:"Gire a la izquierda",name:"Gire a la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},right:{default:"Gire a la derecha",name:"Gire a la derecha en {way_name}",destination:"Gire a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto por {way_name}",destination:"Contina recto hacia {destination}"}},"exit roundabout":{default:{default:"Sal la rotonda",name:"Toma la salida por {way_name}",destination:"Toma la salida hacia {destination}"}},"exit rotary":{default:{default:"Sal la rotonda",name:"Toma la salida por {way_name}",destination:"Toma la salida hacia {destination}"}},turn:{default:{default:"Gira {modifier}",name:"Gira {modifier} por {way_name}",destination:"Gira {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto por {way_name}",destination:"Contina recto hacia {destination}"}},"use lane":{no_lanes:{default:"Contina recto"},default:{default:"{lane_instruction}"}}}}},{}],28:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"noreste",east:"este",southeast:"sureste",south:"sur",southwest:"suroeste",west:"oeste",northwest:"noroeste"},modifier:{left:"izquierda",right:"derecha","sharp left":"cerrada a la izquierda","sharp right":"cerrada a la derecha","slight left":"levemente a la izquierda","slight right":"levemente a la derecha",straight:"recto",uturn:"cambio de sentido"},lanes:{xo:"Mantente a la derecha",ox:"Mantente a la izquierda",xox:"Mantente en el medio",oxo:"Mantente a la izquierda o derecha"}},modes:{ferry:{default:"Coge el ferry",name:"Coge el ferry {way_name}",destination:"Coge el ferry a {destination}"}},phrase:{"two linked by distance":"{instruction_one} y luego a {distance}, {instruction_two}","two linked":"{instruction_one} y luego {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"salida {exit}"},arrive:{default:{default:"Has llegado a tu {nth} destino",upcoming:"Vas a llegar a tu {nth} destino",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}"},left:{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},right:{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"sharp left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},"sharp right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},straight:{default:"Has llegado a tu {nth} destino, en frente",upcoming:"Vas a llegar a tu {nth} destino, en frente",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, en frente"}},continue:{default:{default:"Gira a {modifier}",name:"Cruza a la{modifier}  en {way_name}",destination:"Gira a {modifier} hacia {destination}",exit:"Gira a {modifier} en {way_name}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}",distance:"Contina recto por {distance}",namedistance:"Contina recto en {way_name} por {distance}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Gira a la izquierda",name:"Dobla levemente a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"slight right":{default:"Gira a la izquierda",name:"Dobla levemente a la derecha en {way_name}",destination:"Gira a la izquierda hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido y contina en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},depart:{default:{default:"Ve a {direction}",name:"Ve a {direction} en {way_name}",namedistance:"Ve a {direction} en {way_name} por {distance}"}},"end of road":{default:{default:"Gira  a {modifier}",name:"Gira a {modifier} en {way_name}",destination:"Gira a {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto en {way_name}",destination:"Contina recto hacia {destination}"},uturn:{default:"Haz un cambio de sentido al final de la via",name:"Haz un cambio de sentido en {way_name} al final de la via",destination:"Haz un cambio de sentido hacia {destination} al final de la via"}},fork:{default:{default:"Mantente  {modifier} en el cruza",name:"Mantente {modifier} en {way_name}",destination:"Mantente {modifier} hacia {destination}"},"slight left":{default:"Mantente a la izquierda en el cruza",name:"Mantente a la izquierda en {way_name}",destination:"Mantente a la izquierda hacia {destination}"},"slight right":{default:"Mantente a la derecha en el cruza",name:"Mantente a la derecha en {way_name}",destination:"Mantente a la derecha hacia {destination}"},"sharp left":{default:"Gira a la izquierda en el cruza",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha en el cruza",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},merge:{default:{default:"Incorprate a {modifier}",name:"Incorprate a {modifier} en {way_name}",destination:"Incorprate a {modifier} hacia {destination}"},straight:{default:"Incorprate",name:"Incorprate a {way_name}",destination:"Incorprate hacia {destination}"},"slight left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda en {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"slight right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha en {way_name}",destination:"Incorprate a la derecha hacia {destination}"},"sharp left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda en {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"sharp right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha en {way_name}",destination:"Incorprate a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"new name":{default:{default:"Contina {modifier}",name:"Contina {modifier} en {way_name}",destination:"Contina {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Contina levemente a la izquierda",name:"Contina levemente a la izquierda en {way_name}",destination:"Contina levemente a la izquierda hacia {destination}"},"slight right":{default:"Contina levemente a la derecha",name:"Contina levemente a la derecha en {way_name}",destination:"Contina levemente a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},notification:{default:{default:"Contina {modifier}",name:"Contina {modifier} en {way_name}",destination:"Contina {modifier} hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"off ramp":{default:{default:"Toma la salida",name:"Toma la salida en {way_name}",destination:"Toma la salida hacia {destination}",exit:"Toma la salida {exit}",exit_destination:"Toma la salida {exit} hacia {destination}"},left:{default:"Toma la salida en la izquierda",name:"Toma la salida en la izquierda en {way_name}",destination:"Toma la salida en la izquierda en {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},right:{default:"Toma la salida en la derecha",name:"Toma la salida en la derecha en {way_name}",destination:"Toma la salida en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"},"sharp left":{default:"Ve cuesta abajo en la izquierda",name:"Ve cuesta abajo en la izquierda en {way_name}",destination:"Ve cuesta abajo en la izquierda hacia {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},"sharp right":{default:"Ve cuesta abajo en la derecha",name:"Ve cuesta abajo en la derecha en {way_name}",destination:"Ve cuesta abajo en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"},"slight left":{default:"Ve cuesta abajo en la izquierda",name:"Ve cuesta abajo en la izquierda en {way_name}",destination:"Ve cuesta abajo en la izquierda hacia {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},"slight right":{default:"Toma la salida en la derecha",name:"Toma la salida en la derecha en {way_name}",destination:"Toma la salida en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"}},"on ramp":{default:{default:"Toma la rampa",name:"Toma la rampa en {way_name}",destination:"Toma la rampa hacia {destination}"},left:{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},right:{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"},"sharp left":{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},"sharp right":{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"},"slight left":{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},"slight right":{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"}},rotary:{default:{default:{default:"Entra en la rotonda",name:"Entra en la rotonda y sal en {way_name}",destination:"Entra en la rotonda y sal hacia {destination}"},name:{default:"Entra en {rotary_name}",name:"Entra en {rotary_name} y sal en {way_name}",destination:"Entra en {rotary_name} y sal hacia {destination}"},exit:{default:"Entra en la rotonda y toma la {exit_number} salida",name:"Entra en la rotonda y toma la {exit_number} salida a {way_name}",destination:"Entra en la rotonda y toma la {exit_number} salida hacia {destination}"},name_exit:{default:"Entra en {rotary_name} y coge la {exit_number} salida",name:"Entra en {rotary_name} y coge la {exit_number} salida en {way_name}",destination:"Entra en {rotary_name} y coge la {exit_number} salida hacia {destination}"}}},roundabout:{default:{exit:{default:"Entra en la rotonda y toma la {exit_number} salida",name:"Entra en la rotonda y toma la {exit_number} salida a {way_name}",destination:"Entra en la rotonda y toma la {exit_number} salida hacia {destination}"},default:{default:"Entra en la rotonda",name:"Entra en la rotonda y sal en {way_name}",destination:"Entra en la rotonda y sal hacia {destination}"}}},"roundabout turn":{default:{default:"Sigue {modifier}",name:"Sigue {modifier} en {way_name}",destination:"Sigue {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto en {way_name}",destination:"Contina recto hacia {destination}"}},"exit roundabout":{default:{default:"Sal la rotonda",name:"Sal la rotonda en {way_name}",destination:"Sal la rotonda hacia {destination}"}},"exit rotary":{default:{default:"Sal la rotonda",name:"Sal la rotonda en {way_name}",destination:"Sal la rotonda hacia {destination}"}},turn:{default:{default:"Sigue {modifier}",name:"Sigue {modifier} en {way_name}",destination:"Sigue {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Ve recto",name:"Ve recto en {way_name}",destination:"Ve recto hacia {destination}"}},"use lane":{no_lanes:{default:"Contina recto"},default:{default:"{lane_instruction}"}}}}},{}],29:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"pohjoiseen",northeast:"koilliseen",east:"itn",southeast:"kaakkoon",south:"eteln",southwest:"lounaaseen",west:"lnteen",northwest:"luoteeseen"},modifier:{left:"vasemmall(e/a)",right:"oikeall(e/a)","sharp left":"jyrksti vasempaan","sharp right":"jyrksti oikeaan","slight left":"loivasti vasempaan","slight right":"loivasti oikeaan",straight:"suoraan eteenpin",uturn:"U-knns"},lanes:{xo:"Pysy oikealla",ox:"Pysy vasemmalla",xox:"Pysy keskell",oxo:"Pysy vasemmalla tai oikealla"}},modes:{ferry:{default:"Aja lautalle",name:"Aja lautalle {way_name}",destination:"Aja lautalle, jonka mrnp on {destination}"}},phrase:{"two linked by distance":"{instruction_one}, sitten {distance} pst, {instruction_two}","two linked":"{instruction_one}, sitten {instruction_two}","one in distance":"{distance} pst, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"{exit}"},arrive:{default:{default:"Olet saapunut {nth} mrnphsi",upcoming:"Saavut {nth} mrnphsi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}"},left:{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},right:{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"sharp left":{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},"sharp right":{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"slight right":{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"slight left":{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},straight:{default:"Olet saapunut {nth} mrnphsi, joka on suoraan edesssi",upcoming:"Saavut {nth} mrnphsi, suoraan edess",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on suoraan edesssi"}},continue:{default:{default:"Knny {modifier}",name:"Knny {modifier} pysyksesi tiell {way_name}",destination:"Knny {modifier} suuntana {destination}",exit:"Knny {modifier} tielle {way_name}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan pysyksesi tiell {way_name}",destination:"Jatka suuntana {destination}",distance:"Jatka suoraan {distance}",namedistance:"Jatka tiell {way_name} {distance}"},"sharp left":{default:"Jatka jyrksti vasempaan",name:"Jatka jyrksti vasempaan pysyksesi tiell {way_name}",destination:"Jatka jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Jatka jyrksti oikeaan",name:"Jatka jyrksti oikeaan pysyksesi tiell {way_name}",destination:"Jatka jyrksti oikeaan suuntana {destination}"},"slight left":{default:"Jatka loivasti vasempaan",name:"Jatka loivasti vasempaan pysyksesi tiell {way_name}",destination:"Jatka loivasti vasempaan suuntana {destination}"},"slight right":{default:"Jatka loivasti oikeaan",name:"Jatka loivasti oikeaan pysyksesi tiell {way_name}",destination:"Jatka loivasti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns ja jatka tiet {way_name}",destination:"Tee U-knns suuntana {destination}"}},depart:{default:{default:"Aja {direction}",name:"Aja tiet {way_name} {direction}",namedistance:"Aja {distance} {direction} tiet {way_name} "}},"end of road":{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan eteenpin tielle {way_name}",destination:"Jatka suoraan eteenpin suuntana {destination}"},uturn:{default:"Tien pss tee U-knns",name:"Tien pss tee U-knns tielle {way_name}",destination:"Tien pss tee U-knns suuntana {destination}"}},fork:{default:{default:"Jatka tienhaarassa {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},"slight left":{default:"Pysy vasemmalla tienhaarassa",name:"Pysy vasemmalla tielle {way_name}",destination:"Pysy vasemmalla suuntana {destination}"},"slight right":{default:"Pysy oikealla tienhaarassa",name:"Pysy oikealla tielle {way_name}",destination:"Pysy oikealla suuntana {destination}"},"sharp left":{default:"Knny tienhaarassa jyrksti vasempaan",name:"Knny tienhaarassa jyrksti vasempaan tielle {way_name}",destination:"Knny tienhaarassa jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Knny tienhaarassa jyrksti oikeaan",name:"Knny tienhaarassa jyrksti oikeaan tielle {way_name}",destination:"Knny tienhaarassa jyrksti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},merge:{default:{default:"Liity {modifier}",name:"Liity {modifier}, tielle {way_name}",destination:"Liity {modifier}, suuntana {destination}"},straight:{default:"Liity",name:"Liity tielle {way_name}",destination:"Liity suuntana {destination}"},"slight left":{default:"Liity vasemmalle",name:"Liity vasemmalle, tielle {way_name}",destination:"Liity vasemmalle, suuntana {destination}"},"slight right":{default:"Liity oikealle",name:"Liity oikealle, tielle {way_name}",destination:"Liity oikealle, suuntana {destination}"},"sharp left":{default:"Liity vasemmalle",name:"Liity vasemmalle, tielle {way_name}",destination:"Liity vasemmalle, suuntana {destination}"},"sharp right":{default:"Liity oikealle",name:"Liity oikealle, tielle {way_name}",destination:"Liity oikealle, suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},"new name":{default:{default:"Jatka {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka tielle {way_name}",destination:"Jatka suuntana {destination}"},"sharp left":{default:"Knny jyrksti vasempaan",name:"Knny jyrksti vasempaan tielle {way_name}",destination:"Knny jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Knny jyrksti oikeaan",name:"Knny jyrksti oikeaan tielle {way_name}",destination:"Knny jyrksti oikeaan suuntana {destination}"},"slight left":{default:"Jatka loivasti vasempaan",name:"Jatka loivasti vasempaan tielle {way_name}",destination:"Jatka loivasti vasempaan suuntana {destination}"},"slight right":{default:"Jatka loivasti oikeaan",name:"Jatka loivasti oikeaan tielle {way_name}",destination:"Jatka loivasti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},notification:{default:{default:"Jatka {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},"off ramp":{default:{default:"Aja erkanemiskaistalle",name:"Aja erkanemiskaistaa tielle {way_name}",destination:"Aja erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit}",exit_destination:"Ota poistuminen {exit}, suuntana {destination}"},left:{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},right:{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"},"sharp left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},"sharp right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"},"slight left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},"slight right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"}},"on ramp":{default:{default:"Aja erkanemiskaistalle",name:"Aja erkanemiskaistaa tielle {way_name}",destination:"Aja erkanemiskaistalle suuntana {destination}"},left:{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},right:{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"},"sharp left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},"sharp right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"},"slight left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},"slight right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"}},rotary:{default:{default:{default:"Aja liikenneympyrn",name:"Aja liikenneympyrn ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse erkanemiskaista suuntana {destination}"},name:{default:"Aja liikenneympyrn {rotary_name}",name:"Aja liikenneympyrn {rotary_name} ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn {rotary_name} ja valitse erkanemiskaista suuntana {destination}"},exit:{default:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista suuntana {destination}"},name_exit:{default:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista suuntana {destination}"}}},roundabout:{default:{exit:{default:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista suuntana {destination}"},default:{default:"Aja liikenneympyrn",name:"Aja liikenneympyrn ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse erkanemiskaista suuntana {destination}"}}},"roundabout turn":{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},left:{default:"Knny vasempaan",name:"Knny vasempaan tielle {way_name}",destination:"Knny vasempaan suuntana {destination}"},right:{default:"Knny oikeaan",name:"Knny oikeaan tielle {way_name}",destination:"Knny oikeaan suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan eteenpin tielle {way_name}",destination:"Jatka suoraan eteenpin suuntana {destination}"}},"exit roundabout":{default:{default:"Poistu liikenneympyrst",name:"Poistu liikenneympyrst tielle {way_name}",destination:"Poistu liikenneympyrst suuntana {destination}"}},"exit rotary":{default:{default:"Poistu liikenneympyrst",name:"Poistu liikenneympyrst tielle {way_name}",destination:"Poistu liikenneympyrst suuntana {destination}"}},turn:{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},left:{default:"Knny vasempaan",name:"Knny vasempaan tielle {way_name}",destination:"Knny vasempaan suuntana {destination}"},right:{default:"Knny oikeaan",name:"Knny oikeaan tielle {way_name}",destination:"Knny oikeaan suuntana {destination}"},straight:{default:"Aja suoraan eteenpin",name:"Aja suoraan eteenpin tielle {way_name}",destination:"Aja suoraan eteenpin suuntana {destination}"}},"use lane":{no_lanes:{default:"Jatka suoraan eteenpin"},default:{default:"{lane_instruction}"}}}}},{}],30:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"premire",2:"seconde",3:"troisime",4:"quatrime",5:"cinquime",6:"sixime",7:"septime",8:"huitime",9:"neuvime",10:"dixime"},direction:{north:"le nord",northeast:"le nord-est",east:"lest",southeast:"le sud-est",south:"le sud",southwest:"le sud-ouest",west:"louest",northwest:"le nord-ouest"},modifier:{left:" gauche",right:" droite","sharp left":"franchement  gauche","sharp right":"franchement  droite","slight left":"lgrement  gauche","slight right":"lgrement  droite",straight:"tout droit",uturn:"demi-tour"},lanes:{xo:"Tenir la droite",ox:"Tenir la gauche",xox:"Rester au milieu",oxo:"Tenir la gauche ou la droite"}},modes:{ferry:{default:"Prendre le ferry",name:"Prendre le ferry {way_name:article}",destination:"Prendre le ferry en direction {destination:preposition}"}},phrase:{"two linked by distance":"{instruction_one}, puis, dans {distance}, {instruction_two}","two linked":"{instruction_one}, puis {instruction_two}","one in distance":"Dans {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sortie n{exit}"},arrive:{default:{default:"Vous tes arriv  votre {nth} destination",upcoming:"Vous arriverez  votre {nth} destination",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}"},left:{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},right:{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv   {waypoint_name:arrival}, sur la droite"},"sharp left":{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},"sharp right":{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la droite"},"slight right":{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la droite"},"slight left":{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous tes arriv",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},straight:{default:"Vous tes arriv  votre {nth} destination, droit devant",upcoming:"Vous arriverez  votre {nth} destination, droit devant",short:"Vous tes arriv","short-upcoming":"Vous tes arriv",named:"Vous tes arriv {waypoint_name:arrival}, droit devant"}},continue:{default:{default:"Tourner {modifier}",name:"Tourner {modifier} pour rester sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}",exit:"Tourner {modifier} sur {way_name:article}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit pour rester sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}",distance:"Continuer tout droit sur {distance}",namedistance:"Continuer sur {way_name:article} sur {distance}"},"sharp left":{default:"Tourner franchement  gauche",name:"Tourner franchement  gauche pour rester sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite",name:"Tourner franchement  droite pour rester sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},"slight left":{default:"Tourner lgrement  gauche",name:"Tourner lgrement  gauche pour rester sur {way_name:article}",destination:"Tourner lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Tourner lgrement  droite",name:"Tourner lgrement  droite pour rester sur {way_name:article}",destination:"Tourner lgrement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour et continuer sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},depart:{default:{default:"Se diriger vers {direction}",name:"Se diriger vers {direction} sur {way_name:article}",namedistance:"Se diriger vers {direction} sur {way_name:article} sur {distance}"}},"end of road":{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"},uturn:{default:"Faire demi-tour  la fin de la route",name:"Faire demi-tour  la fin {way_name:preposition}",destination:"Faire demi-tour  la fin de la route en direction {destination:preposition}"}},fork:{default:{default:"Tenir {modifier}  lembranchement",name:"Tenir {modifier} sur {way_name:article}",destination:"Tenir {modifier} en direction {destination:preposition}"},"slight left":{default:"Tenir la gauche  lembranchement",name:"Tenir la gauche sur {way_name:article}",destination:"Tenir la gauche en direction {destination:preposition}"},"slight right":{default:"Tenir la droite  lembranchement",name:"Tenir la droite sur {way_name:article}",destination:"Tenir la droite en direction {destination:preposition}"},"sharp left":{default:"Tourner franchement  gauche  lembranchement",name:"Tourner franchement  gauche sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite  lembranchement",name:"Tourner franchement  droite sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},merge:{default:{default:"Sinsrer {modifier}",name:"Sinsrer {modifier} sur {way_name:article}",destination:"Sinsrer {modifier} en direction {destination:preposition}"},straight:{default:"Sinsrer",name:"Sinsrer sur {way_name:article}",destination:"Sinsrer en direction {destination:preposition}"},"slight left":{default:"Sinsrer lgrement  gauche",name:"Sinsrer lgrement  gauche sur {way_name:article}",destination:"Sinsrer lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Sinsrer lgrement  droite",name:"Sinsrer lgrement  droite sur {way_name:article}",destination:"Sinsrer  droite en direction {destination:preposition}"},"sharp left":{default:"Sinsrer  gauche",name:"Sinsrer  gauche sur {way_name:article}",destination:"Sinsrer  gauche en direction {destination:preposition}"},"sharp right":{default:"Sinsrer  droite",name:"Sinsrer  droite sur {way_name:article}",destination:"Sinsrer  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},"new name":{default:{default:"Continuer {modifier}",name:"Continuer {modifier} sur {way_name:article}",destination:"Continuer {modifier} en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"},"sharp left":{default:"Tourner franchement  gauche",name:"Tourner franchement  gauche sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite",name:"Tourner franchement  droite sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},"slight left":{default:"Continuer lgrement  gauche",name:"Continuer lgrement  gauche sur {way_name:article}",destination:"Continuer lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Continuer lgrement  droite",name:"Continuer lgrement  droite sur {way_name:article}",destination:"Continuer lgrement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},notification:{default:{default:"Continuer {modifier}",name:"Continuer {modifier} sur {way_name:article}",destination:"Continuer {modifier} en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},"off ramp":{default:{default:"Prendre la sortie",name:"Prendre la sortie sur {way_name:article}",destination:"Prendre la sortie en direction {destination:preposition}",exit:"Prendre la sortie {exit}",exit_destination:"Prendre la sortie {exit} en direction {destination:preposition}"},left:{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},right:{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"},"sharp left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},"sharp right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"},"slight left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},"slight right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"}},"on ramp":{default:{default:"Prendre la sortie",name:"Prendre la sortie sur {way_name:article}",destination:"Prendre la sortie en direction {destination:preposition}"},left:{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},right:{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"},"sharp left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},"sharp right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"},"slight left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},"slight right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"}},rotary:{default:{default:{default:"Prendre le rond-point",name:"Prendre le rond-point, puis sortir sur {way_name:article}",destination:"Prendre le rond-point, puis sortir en direction {destination:preposition}"},name:{default:"Prendre {rotary_name:rotary}",name:"Prendre {rotary_name:rotary}, puis sortir par {way_name:article}",destination:"Prendre {rotary_name:rotary}, puis sortir en direction {destination:preposition}"},exit:{default:"Prendre le rond-point, puis la {exit_number} sortie",name:"Prendre le rond-point, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre le rond-point, puis la {exit_number} sortie en direction {destination:preposition}"},name_exit:{default:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie",name:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie en direction {destination:preposition}"}}},roundabout:{default:{exit:{default:"Prendre le rond-point, puis la {exit_number} sortie",name:"Prendre le rond-point, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre le rond-point, puis la {exit_number} sortie en direction {destination:preposition}"},default:{default:"Prendre le rond-point",name:"Prendre le rond-point, puis sortir sur {way_name:article}",destination:"Prendre le rond-point, puis sortir en direction {destination:preposition}"}}},"roundabout turn":{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},left:{default:"Tourner  gauche",name:"Tourner  gauche sur {way_name:article}",destination:"Tourner  gauche en direction {destination:preposition}"},right:{default:"Tourner  droite",name:"Tourner  droite sur {way_name:article}",destination:"Tourner  droite en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"}},"exit roundabout":{default:{default:"Sortir du rond-point",name:"Sortir du rond-point sur {way_name:article}",destination:"Sortir du rond-point en direction {destination:preposition}"}},"exit rotary":{default:{default:"Sortir du rond-point",name:"Sortir du rond-point sur {way_name:article}",destination:"Sortir du rond-point en direction {destination:preposition}"}},turn:{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},left:{default:"Tourner  gauche",name:"Tourner  gauche sur {way_name:article}",destination:"Tourner  gauche en direction {destination:preposition}"},right:{default:"Tourner  droite",name:"Tourner  droite sur {way_name:article}",destination:"Tourner  droite en direction {destination:preposition}"},straight:{default:"Aller tout droit",name:"Aller tout droit sur {way_name:article}",destination:"Aller tout droit en direction {destination:preposition}"}},"use lane":{no_lanes:{default:"Continuer tout droit"},default:{default:"{lane_instruction}"}}}}},{}],31:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:" ",east:"",southeast:" ",south:"",southwest:" ",west:"",northwest:" "},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:" "},lanes:{xo:" ",ox:" ",xox:"  ",oxo:"   "}},modes:{ferry:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},phrase:{"two linked by distance":"{instruction_one}, , {distance}, {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":" {exit}"},arrive:{default:{default:"   {nth} ",upcoming:"    {nth} ",short:"","short-upcoming":"",named:"  {waypoint_name}"},left:{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},right:{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"sharp left":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"sharp right":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"slight right":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"slight left":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},straight:{default:"   {nth} , ",upcoming:"    {nth} , ",short:"","short-upcoming":"",named:"  {waypoint_name}, "}},continue:{default:{default:" {modifier}",name:" {modifier}   {way_name}",destination:" {modifier}  {destination}",exit:" {modifier}  {way_name}"},straight:{default:" ",name:"     {way_name}",destination:"  {destination}",distance:"   {distance}",namedistance:"  {way_name}  {distance}"},"sharp left":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"slight left":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"slight right":{default:"  ",name:"      {way_name}",destination:"    {destination}"},uturn:{default:"  ",name:"     {way_name}",destination:"    {destination}"}},depart:{default:{default:" {direction}",name:" {direction}  {way_name}",namedistance:" {direction}  {way_name}  {distance}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:" ",name:"   {way_name}",destination:"   {destination}"},uturn:{default:"    ",name:"    {way_name}  ",destination:"    {destination}  "}},fork:{default:{default:" {modifier} ",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},"slight left":{default:"  ",name:"   {way_name}",destination:"   {destination}"},"slight right":{default:"  ",name:"   {way_name}",destination:"   {destination}"},"sharp left":{default:"   ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"   ",name:"    {way_name}",destination:"    {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},merge:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:"",name:"  {way_name}",destination:"  {destination}"},"slight left":{default:" ",name:"   {way_name}",destination:"   {destination}"},"slight right":{default:" ",name:"   {way_name}",destination:"   {destination}"},"sharp left":{default:" ",name:"   {way_name}",destination:"   {destination}"},"sharp right":{default:" ",name:"   {way_name}",destination:"   {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:" ",name:"  {way_name}",destination:"  {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"     {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"     {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},"off ramp":{default:{default:" ",name:"   {way_name}",destination:"   {destination}",exit:"  {exit}",exit_destination:"  {exit}  {destination}"},left:{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},right:{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"}},"on ramp":{default:{default:" ",name:"   {way_name}",destination:"   {destination}"},left:{default:"  ",name:"    {way_name}",destination:"    {destination}"},right:{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"    {destination}"}},rotary:{default:{default:{default:"  ",name:"     {way_name}",destination:"     {destination}"},name:{default:" {rotary_name}",name:" {rotary_name}   {way_name}",destination:" {rotary_name}   {destination}"},exit:{default:"     {exit_number}",name:"     {exit_number} {way_name}",destination:"     {exit_number}  {destination}"},name_exit:{default:" {rotary_name}   {exit_number}",name:" {rotary_name}   {exit_number} {way_name}",destination:" {rotary_name}   {exit_number}  {destination}"}}},roundabout:{default:{exit:{default:"     {exit_number}",name:"     {exit_number} {way_name}",destination:"     {exit_number}  {destination}"},default:{default:"  ",name:"     {way_name}",destination:"     {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},left:{default:" ",name:"  {way_name}",destination:"   {destination}"},right:{default:" ",name:"  {way_name}",destination:"   {destination}"},straight:{default:" ",name:"   {way_name}",destination:"   {destination}"}},"exit roundabout":{default:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},"exit rotary":{default:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},left:{default:" ",name:"  {way_name}",destination:"   {destination}"},right:{default:" ",name:"  {way_name}",destination:"   {destination}"},straight:{default:" ",name:"  {way_name}",destination:"   {destination}"}},"use lane":{no_lanes:{default:" "},default:{default:"{lane_instruction}"}}}}},{}],32:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"utara",northeast:"timur laut",east:"timur",southeast:"tenggara",south:"selatan",southwest:"barat daya",west:"barat",northwest:"barat laut"},modifier:{left:"kiri",right:"kanan","sharp left":"tajam kiri","sharp right":"tajam kanan","slight left":"agak ke kiri","slight right":"agak ke kanan",straight:"lurus",uturn:"putar balik"},lanes:{xo:"Tetap di kanan",ox:"Tetap di kiri",xox:"Tetap di tengah",oxo:"Tetap di kiri atau kanan"}},modes:{ferry:{default:"Naik ferry",name:"Naik ferry di {way_name}",destination:"Naik ferry menuju {destination}"}},phrase:{"two linked by distance":"{instruction_one}, then, in {distance}, {instruction_two}","two linked":"{instruction_one}, then {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Anda telah tiba di tujuan ke-{nth}",upcoming:"Anda telah tiba di tujuan ke-{nth}",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}"},left:{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},right:{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"sharp left":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},"sharp right":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"slight right":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"slight left":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},straight:{default:"Anda telah tiba di tujuan ke-{nth}, lurus saja",upcoming:"Anda telah tiba di tujuan ke-{nth}, lurus saja",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, lurus saja"}},continue:{default:{default:"Belok {modifier}",name:"Terus {modifier} ke {way_name}",destination:"Belok {modifier} menuju {destination}",exit:"Belok {modifier} ke {way_name}"},straight:{default:"Lurus terus",name:"Terus ke {way_name}",destination:"Terus menuju {destination}",distance:"Continue straight for {distance}",namedistance:"Continue on {way_name} for {distance}"},"sharp left":{default:"Belok kiri tajam",name:"Make a sharp left to stay on {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan tajam",name:"Make a sharp right to stay on {way_name}",destination:"Belok kanan tajam menuju {destination}"},"slight left":{default:"Tetap agak di kiri",name:"Tetap agak di kiri ke {way_name}",destination:"Tetap agak di kiri menuju {destination}"},"slight right":{default:"Tetap agak di kanan",name:"Tetap agak di kanan ke {way_name}",destination:"Tetap agak di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},depart:{default:{default:"Arah {direction}",name:"Arah {direction} di {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Belok {modifier}",name:"Belok {modifier} ke {way_name}",destination:"Belok {modifier} menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"},uturn:{default:"Putar balik di akhir jalan",name:"Putar balik di {way_name} di akhir jalan",destination:"Putar balik menuju {destination} di akhir jalan"}},fork:{default:{default:"Tetap {modifier} di pertigaan",name:"Tetap {modifier} di pertigaan ke {way_name}",destination:"Tetap {modifier} di pertigaan menuju {destination}"},"slight left":{default:"Tetap di kiri pada pertigaan",name:"Tetap di kiri pada pertigaan ke arah {way_name}",destination:"Tetap di kiri pada pertigaan menuju {destination}"},"slight right":{default:"Tetap di kanan pada pertigaan",name:"Tetap di kanan pada pertigaan ke arah {way_name}",destination:"Tetap di kanan pada pertigaan menuju {destination}"},"sharp left":{default:"Belok kiri pada pertigaan",name:"Belok kiri tajam ke arah {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan pada pertigaan",name:"Belok kanan tajam ke arah {way_name}",destination:"Belok kanan tajam menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},merge:{default:{default:"Bergabung {modifier}",name:"Bergabung {modifier} ke arah {way_name}",destination:"Bergabung {modifier} menuju {destination}"},straight:{default:"Bergabung lurus",name:"Bergabung lurus ke arah {way_name}",destination:"Bergabung lurus menuju {destination}"},"slight left":{default:"Bergabung di kiri",name:"Bergabung di kiri ke arah {way_name}",destination:"Bergabung di kiri menuju {destination}"},"slight right":{default:"Bergabung di kanan",name:"Bergabung di kanan ke arah {way_name}",destination:"Bergabung di kanan menuju {destination}"},"sharp left":{default:"Bergabung di kiri",name:"Bergabung di kiri ke arah {way_name}",destination:"Bergabung di kiri menuju {destination}"},"sharp right":{default:"Bergabung di kanan",name:"Bergabung di kanan ke arah {way_name}",destination:"Bergabung di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},"new name":{default:{default:"Lanjutkan {modifier}",name:"Lanjutkan {modifier} menuju {way_name}",destination:"Lanjutkan {modifier} menuju {destination}"},straight:{default:"Lurus terus",name:"Terus ke {way_name}",destination:"Terus menuju {destination}"},"sharp left":{default:"Belok kiri tajam",name:"Belok kiri tajam ke arah {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan tajam",name:"Belok kanan tajam ke arah {way_name}",destination:"Belok kanan tajam menuju {destination}"},"slight left":{default:"Lanjut dengan agak ke kiri",name:"Lanjut dengan agak di kiri ke {way_name}",destination:"Tetap agak di kiri menuju {destination}"},"slight right":{default:"Tetap agak di kanan",name:"Tetap agak di kanan ke {way_name}",destination:"Tetap agak di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},notification:{default:{default:"Lanjutkan {modifier}",name:"Lanjutkan {modifier} menuju {way_name}",destination:"Lanjutkan {modifier} menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},"off ramp":{default:{default:"Ambil jalan melandai",name:"Ambil jalan melandai ke {way_name}",destination:"Ambil jalan melandai menuju {destination}",exit:"Take exit {exit}",exit_destination:"Take exit {exit} towards {destination}"},left:{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},right:{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"sharp left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"sharp right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"slight left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"slight right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"}},"on ramp":{default:{default:"Ambil jalan melandai",name:"Ambil jalan melandai ke {way_name}",destination:"Ambil jalan melandai menuju {destination}"},left:{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},right:{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"},"sharp left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},"sharp right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"},"slight left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},"slight right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"}},rotary:{default:{default:{default:"Masuk bundaran",name:"Masuk bundaran dan keluar arah {way_name}",destination:"Masuk bundaran dan keluar menuju {destination}"},name:{default:"Masuk {rotary_name}",name:"Masuk {rotary_name} dan keluar arah {way_name}",destination:"Masuk {rotary_name} dan keluar menuju {destination}"},exit:{default:"Masuk bundaran dan ambil jalan keluar {exit_number}",name:"Masuk bundaran dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk bundaran dan ambil jalan keluar {exit_number} menuju {destination}"},name_exit:{default:"Masuk {rotary_name} dan ambil jalan keluar {exit_number}",name:"Masuk {rotary_name} dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk {rotary_name} dan ambil jalan keluar {exit_number} menuju {destination}"}}},roundabout:{default:{exit:{default:"Masuk bundaran dan ambil jalan keluar {exit_number}",name:"Masuk bundaran dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk bundaran dan ambil jalan keluar {exit_number} menuju {destination}"},default:{default:"Masuk bundaran",name:"Masuk bundaran dan keluar arah {way_name}",destination:"Masuk bundaran dan keluar menuju {destination}"}}},"roundabout turn":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"}},"exit roundabout":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"}},"exit rotary":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus",name:"Lurus arah {way_name}",destination:"Lurus menuju {destination}"}},turn:{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus",name:"Lurus arah {way_name}",destination:"Lurus menuju {destination}"}},"use lane":{no_lanes:{default:"Lurus terus"},default:{default:"{lane_instruction}"}}}}},{}],33:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"nord",northeast:"nord-est",east:"est",southeast:"sud-est",south:"sud",southwest:"sud-ovest",west:"ovest",northwest:"nord-ovest"},modifier:{left:"sinistra",right:"destra","sharp left":"sinistra","sharp right":"destra","slight left":"sinistra leggermente","slight right":"destra leggermente",straight:"dritto",uturn:"inversione a U"},lanes:{xo:"Mantieni la destra",ox:"Mantieni la sinistra",xox:"Rimani in mezzo",oxo:"Mantieni la destra o la sinistra"}},modes:{ferry:{default:"Prendi il traghetto",name:"Prendi il traghetto {way_name}",destination:"Prendi il traghetto verso {destination}"}},phrase:{"two linked by distance":"{instruction_one}, poi tra {distance},{instruction_two}","two linked":"{instruction_one}, poi {instruction_two}","one in distance":"tra {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Sei arrivato alla tua {nth} destinazione",upcoming:"Sei arrivato alla tua {nth} destinazione",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"Sei arrivato a {waypoint_name}"},left:{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},right:{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"sharp left":{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},"sharp right":{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"slight right":{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"slight left":{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},straight:{default:"sei arrivato alla tua {nth} destinazione, si trova davanti a te",upcoming:"sei arrivato alla tua {nth} destinazione, si trova davanti a te",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, si trova davanti a te"}},continue:{default:{default:"Gira a {modifier}",name:"Gira a {modifier} per stare su {way_name}",destination:"Gira a {modifier} verso {destination}",exit:"Gira a {modifier} in {way_name}"},straight:{default:"Continua dritto",name:"Continua dritto per stare su {way_name}",destination:"Continua verso {destination}",distance:"Continua dritto per {distance}",namedistance:"Continua su {way_name} per {distance}"},"sharp left":{default:"Svolta a sinistra",name:"Fai una stretta curva a sinistra per stare su {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra",name:"Fau una stretta curva a destra per stare su {way_name}",destination:"Svolta a destra verso {destination}"},"slight left":{default:"Fai una leggera curva a sinistra",name:"Fai una leggera curva a sinistra per stare su {way_name}",destination:"Fai una leggera curva a sinistra verso {destination}"},"slight right":{default:"Fai una leggera curva a destra",name:"Fai una leggera curva a destra per stare su {way_name}",destination:"Fai una leggera curva a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione ad U poi continua su {way_name}",destination:"Fai un'inversione a U verso {destination}"}},depart:{default:{default:"Continua verso {direction}",name:"Continua verso {direction} in {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Gira a {modifier}",name:"Gira a {modifier} in {way_name}",destination:"Gira a {modifier} verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"},uturn:{default:"Fai un'inversione a U alla fine della strada",name:"Fai un'inversione a U in {way_name} alla fine della strada",destination:"Fai un'inversione a U verso {destination} alla fine della strada"}},fork:{default:{default:"Mantieni la {modifier} al bivio",name:"Mantieni la {modifier} al bivio in {way_name}",destination:"Mantieni la {modifier} al bivio verso {destination}"},"slight left":{default:"Mantieni la sinistra al bivio",name:"Mantieni la sinistra al bivio in {way_name}",destination:"Mantieni la sinistra al bivio verso {destination}"},"slight right":{default:"Mantieni la destra al bivio",name:"Mantieni la destra al bivio in {way_name}",destination:"Mantieni la destra al bivio verso {destination}"},"sharp left":{default:"Svolta a sinistra al bivio",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra al bivio",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},merge:{default:{default:"Immettiti a {modifier}",name:"Immettiti {modifier} in {way_name}",destination:"Immettiti {modifier} verso {destination}"},straight:{default:"Immettiti a dritto",name:"Immettiti dritto in {way_name}",destination:"Immettiti dritto verso {destination}"},"slight left":{default:"Immettiti a sinistra",name:"Immettiti a sinistra in {way_name}",destination:"Immettiti a sinistra verso {destination}"},"slight right":{default:"Immettiti a destra",name:"Immettiti a destra in {way_name}",destination:"Immettiti a destra verso {destination}"},"sharp left":{default:"Immettiti a sinistra",name:"Immettiti a sinistra in {way_name}",destination:"Immettiti a sinistra verso {destination}"},"sharp right":{default:"Immettiti a destra",name:"Immettiti a destra in {way_name}",destination:"Immettiti a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},"new name":{default:{default:"Continua a {modifier}",name:"Continua a {modifier} in {way_name}",destination:"Continua a {modifier} verso {destination}"},straight:{default:"Continua dritto",name:"Continua in {way_name}",destination:"Continua verso {destination}"},"sharp left":{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},"slight left":{default:"Continua leggermente a sinistra",name:"Continua leggermente a sinistra in {way_name}",destination:"Continua leggermente a sinistra verso {destination}"},"slight right":{default:"Continua leggermente a destra",name:"Continua leggermente a destra in {way_name} ",destination:"Continua leggermente a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},notification:{default:{default:"Continua a {modifier}",name:"Continua a {modifier} in {way_name}",destination:"Continua a {modifier} verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},"off ramp":{default:{default:"Prendi la rampa",name:"Prendi la rampa in {way_name}",destination:"Prendi la rampa verso {destination}",exit:"Prendi l'uscita {exit}",exit_destination:"Prendi l'uscita  {exit} verso {destination}"},left:{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},right:{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"},"sharp left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},"sharp right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"},"slight left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},"slight right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"}},"on ramp":{default:{default:"Prendi la rampa",name:"Prendi la rampa in {way_name}",destination:"Prendi la rampa verso {destination}"},left:{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},right:{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"},"sharp left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},"sharp right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"},"slight left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},"slight right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"}},rotary:{default:{default:{default:"Immettiti nella rotonda",name:"Immettiti nella ritonda ed esci in {way_name}",destination:"Immettiti nella ritonda ed esci verso {destination}"},name:{default:"Immettiti in {rotary_name}",name:"Immettiti in {rotary_name} ed esci su {way_name}",destination:"Immettiti in {rotary_name} ed esci verso {destination}"},exit:{default:"Immettiti nella rotonda e prendi la {exit_number} uscita",name:"Immettiti nella rotonda e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti nella rotonda e prendi la {exit_number} uscita verso   {destination}"},name_exit:{default:"Immettiti in {rotary_name} e prendi la {exit_number} uscita",name:"Immettiti in {rotary_name} e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti in {rotary_name} e prendi la {exit_number}  uscita verso {destination}"}}},roundabout:{default:{exit:{default:"Immettiti nella rotonda e prendi la {exit_number} uscita",name:"Immettiti nella rotonda e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti nella rotonda e prendi la {exit_number} uscita verso {destination}"},default:{default:"Entra nella rotonda",name:"Entra nella rotonda e prendi l'uscita in {way_name}",destination:"Entra nella rotonda e prendi l'uscita verso {destination}"}}},"roundabout turn":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"}},"exit roundabout":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"}},"exit rotary":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Prosegui dritto",name:"Continua su {way_name}",destination:"Continua verso {destination}"}},turn:{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Prosegui dritto",name:"Continua su {way_name}",destination:"Continua verso {destination}"}},"use lane":{no_lanes:{default:"Continua dritto"},default:{default:"{lane_instruction}"}}}}},{}],34:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:""},lanes:{xo:" ",ox:" ",xox:"",oxo:"    "}},modes:{ferry:{default:" ",name:"  {way_name}",destination:"  {destination} ."}},phrase:{"two linked by distance":"{instruction_one}, , {distance} , {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":"{distance} , {instruction_one}","name and ref":"{name} ({ref})","exit with number":"{exit} ."},arrive:{default:{default:" {nth} .",upcoming:"{nth}   .",short:"","short-upcoming":" .",named:" {waypoint_name} ."},left:{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},right:{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"sharp left":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"sharp right":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"slight right":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"slight left":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},straight:{default:"  {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."}},continue:{default:{default:"{modifier} ",name:"{modifier}  {way_name}  .",destination:"{modifier}  {destination} .",exit:"{way_name}  {modifier}  ."},straight:{default:"  .",name:"{way_name}    .",destination:"{destination}  .",distance:"{distance}  .",namedistance:"{distance} {way_name} ."},"sharp left":{default:" .",name:"   {way_name} .",destination:"   {destination} ."},"sharp right":{default:" .",name:"  {way_name} .",destination:"   {destination} ."},"slight left":{default:" .",name:"   {way_name} .",destination:"    {destination} ."},"slight right":{default:" .",name:"   {way_name} .",destination:"    {destination} ."},uturn:{default:" ",name:" {way_name} .",destination:"  {destination} ."}},depart:{default:{default:"{direction} ",name:"{direction}   {way_name}  . ",namedistance:"{direction} {way_name}  {distance} ."}},"end of road":{default:{default:"{modifier} .",name:"{modifier} {way_name} .",destination:"{modifier}   {destination} ."},straight:{default:"  .",name:"{way_name}   .",destination:"{destination}  ."},uturn:{default:"    .",name:"    {way_name} .",destination:"    {destination}  ."}},fork:{default:{default:" {modifier}  .",name:"{modifier} {way_name} .",destination:"{modifier} {destination} ."},"slight left":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"slight right":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"sharp left":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"sharp right":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},merge:{default:{default:"{modifier} ",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},straight:{default:"",name:"{way_name} .",destination:"{destination} ."},"slight left":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"slight right":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"sharp left":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"sharp right":{default:" .",name:"{way_name} .",destination:"  {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},"new name":{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},straight:{default:".",name:"{way_name}  .",destination:"{destination}  ."},"sharp left":{default:" .",name:"  {way_name} .",destination:"  {destination} ."},"sharp right":{default:" .",name:"  {way_name} .",destination:"  {destination} ."},"slight left":{default:"  .",name:"  {way_name} .",destination:"   {destination} ."},"slight right":{default:"  .",name:"  {way_name} .",destination:"   {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},notification:{default:{default:"{modifier} .",name:"{modifier} {way_name} .",destination:"{modifier} {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},"off ramp":{default:{default:"  ..",name:"  {way_name} .",destination:"  {destination} .",exit:"{exit}  .",exit_destination:"{exit}   {destination} ."},left:{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},right:{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"sharp left":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"sharp right":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"slight left":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"slight right":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."}},"on ramp":{default:{default:"  ..",name:"  {way_name} .",destination:"  {destination} ."},left:{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},right:{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"sharp left":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"sharp right":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"slight left":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"slight right":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."}},rotary:{default:{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},name:{default:"{rotary_name} .",name:"{rotary_name}  {way_name} .",destination:"{rotary_name}  {destination} ."},exit:{default:"  {exit_number}  .",name:"  {exit_number}   {way_name} .",destination:"  {exit_number}   {destination} ."},name_exit:{default:"{rotary_name}  {exit_number}  .",name:"{rotary_name}  {exit_number}   {way_name} .",destination:"{rotary_name}  {exit_number}   {destination} ."}}},roundabout:{default:{exit:{default:"  {exit_number} .",name:"  {exit_number}  {way_name} .",destination:"  {exit_number}  {destination} ."},default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}}},"roundabout turn":{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},left:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},right:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},straight:{default:" .",name:" {way_name} .",destination:" {destination} ."}},"exit roundabout":{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}},"exit rotary":{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}},turn:{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},left:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},right:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},straight:{default:" .",name:" {way_name} .",destination:" {destination} ."}},"use lane":{no_lanes:{default:"."},default:{default:"{lane_instruction}"}}}}},{}],35:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:"-"},lanes:{xo:"",ox:"",xox:"",oxo:"   "}},modes:{ferry:{default:" ",name:"{way_name} ",destination:"{destination} "}},phrase:{"two linked by distance":"{instruction_one} {distance} {instruction_two}","two linked":"{instruction_one} {instruction_two}","one in distance":"{distance} {instruction_one}","name and ref":"{name}( {ref})","exit with number":"{exit}"},arrive:{default:{default:"{nth}  ",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},left:{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},right:{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"sharp left":{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},"sharp right":{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"slight right":{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"slight left":{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},straight:{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "}},continue:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} ",exit:"{way_name} {modifier}"},straight:{default:" ",name:"{way_name}",destination:"{destination}",distance:"{distance}  ",namedistance:"{way_name}{distance}"},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight left":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight right":{default:" ",name:"{way_name} ",destination:"{destination} "},uturn:{default:"- ",name:"{way_name} -",destination:"{destination} "}},depart:{default:{default:"{direction} ",name:"{direction} {way_name} ",namedistance:"{direction} {way_name}{distance} "}},"end of road":{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"},uturn:{default:" -",name:" {way_name}-",destination:"{destination} "}},fork:{default:{default:" {modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},"slight left":{default:"",name:"{way_name}",destination:"{destination} "},"slight right":{default:"",name:"{way_name}",destination:"{destination} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} "},uturn:{default:"- ",name:"{way_name}-",destination:"{destination} "}},merge:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:"",name:"{way_name}",destination:"{destination} "},"slight left":{default:"",name:"{way_name}",destination:"{destination} "},"slight right":{default:"",name:"{way_name}",destination:"{destination} "},"sharp left":{default:"",name:"{way_name}",destination:"{destination} "},"sharp right":{default:"",name:"{way_name}",destination:"{destination} "},uturn:{default:"- ",name:"{way_name} -  ",destination:"{destination} "}},"new name":{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight left":{default:" ",name:"{way_name} ",destination:"{destination}"},"slight right":{default:" ",name:"{way_name} ",destination:"{destination}"},uturn:{default:"- ",name:"{way_name} - ",destination:"{destination} "}},notification:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},uturn:{default:"- ",name:"{way_name} - ",destination:"{destination} "}},"off ramp":{default:{default:"",name:"{way_name}",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},left:{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},right:{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"slight left":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"slight right":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "}},"on ramp":{default:{default:"",name:"{way_name}",destination:"{destination} "},left:{default:"",name:"{way_name} ",destination:"{destination} "},right:{default:"",name:"{way_name} ",destination:"{destination} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} "},"slight left":{default:"",name:"{way_name} ",destination:"{destination} "},"slight right":{default:"",name:"{way_name} ",destination:"{destination} "}},rotary:{default:{default:{default:"",name:"{way_name}",destination:"{destination}"},name:{default:"{rotary_name}",name:"{rotary_name}{way_name}",destination:"{rotary_name}{destination}"},exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},name_exit:{default:"{rotary_name} {exit_number}",name:"{rotary_name}{exit_number}{way_name}",destination:"{rotary_name}{exit_number}{destination}"}}},roundabout:{default:{exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},default:{default:"",name:"{way_name}",destination:"{destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination} "},left:{default:"",name:"{way_name}",destination:"{destination} "},right:{default:"",name:"{way_name}",destination:"{destination} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"}},"exit roundabout":{default:{default:"",name:"{way_name}",destination:"{destination}"}},"exit rotary":{default:{default:"",name:"{way_name}",destination:"{destination}"}},turn:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination} "},left:{default:"",name:"{way_name}",destination:"{destination} "},right:{default:"",name:"{way_name}",destination:"{destination} "},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"use lane":{no_lanes:{default:" "},default:{default:"{lane_instruction}"}}}}},{}],36:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1e",2:"2e",3:"3e",4:"4e",5:"5e",6:"6e",7:"7e",8:"8e",9:"9e",10:"10e"},direction:{north:"noord",northeast:"noordoost",east:"oost",southeast:"zuidoost",south:"zuid",southwest:"zuidwest",west:"west",northwest:"noordwest"},modifier:{left:"links",right:"rechts","sharp left":"scherpe bocht naar links","sharp right":"scherpe bocht naar rechts","slight left":"iets naar links","slight right":"iets naar rechts",straight:"rechtdoor",uturn:"omkeren"},lanes:{xo:"Rechts aanhouden",ox:"Links aanhouden",xox:"In het midden blijven",oxo:"Links of rechts blijven"}},modes:{ferry:{default:"Neem de veerpont",name:"Neem de veerpont {way_name}",destination:"Neem de veerpont richting {destination}"}},phrase:{"two linked by distance":"{instruction_one}, dan na {distance}, {instruction_two}","two linked":"{instruction_one}, daarna {instruction_two}","one in distance":"Over {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"afslag {exit}"},arrive:{default:{default:"Je bent gearriveerd op de {nth} bestemming.",upcoming:"U arriveert op de {nth} bestemming",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}"},left:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de linkerkant"},right:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de  rechterkant"},"sharp left":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de linkerkant"},"sharp right":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de rechterkant"},"slight right":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de rechterkant"},"slight left":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de linkerkant"},straight:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich voor je.",upcoming:"Uw {nth} bestemming is recht voor u",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is recht voor u"}},continue:{default:{default:"Ga {modifier}",name:"Sla {modifier} om op {way_name} te blijven",destination:"Ga {modifier} richting {destination}",exit:"Ga {modifier} naar {way_name}"},straight:{default:"Ga rechtdoor",name:"Blijf rechtdoor gaan op {way_name}",destination:"Ga rechtdoor richting {destination}",distance:"Ga rechtdoor voor {distance}",namedistance:"Ga verder op {way_name} voor {distance}"},"sharp left":{default:"Linksaf",name:"Sla scherp links af om op {way_name} te blijven",destination:"Linksaf richting {destination}"},"sharp right":{default:"Rechtsaf",name:"Sla scherp rechts af om op {way_name} te blijven",destination:"Rechtsaf richting {destination}"},"slight left":{default:"Ga links",name:"Links afbuigen om op {way_name} te blijven",destination:"Rechts afbuigen om op {destination} te blijven"},"slight right":{default:"Rechts afbuigen",name:"Rechts afbuigen om op {way_name} te blijven",destination:"Rechts afbuigen richting {destination}"},uturn:{default:"Keer om",name:"Draai om en ga verder op {way_name}",destination:"Keer om richting {destination}"}},depart:{default:{default:"Vertrek in {direction}elijke richting",name:"Neem {way_name} in {direction}elijke richting",namedistance:"Ga richting {direction} op {way_name} voor {distance}"}},"end of road":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga naar {way_name}",destination:"Ga richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},fork:{default:{default:"Ga {modifier} op de splitsing",name:"Houd {modifier} aan, tot {way_name}",destination:"Houd {modifier}, in de richting van {destination}"},"slight left":{default:"Links aanhouden op de splitsing",name:"Houd links aan, tot {way_name}",destination:"Houd links aan, richting {destination}"},"slight right":{default:"Rechts aanhouden op de splitsing",name:"Houd rechts aan, tot {way_name}",destination:"Houd rechts aan, richting {destination}"},"sharp left":{default:"Neem bij de splitsing, een scherpe bocht, naar links ",name:"Neem een scherpe bocht naar links, tot aan {way_name}",destination:"Neem een scherpe bocht naar links, richting {destination}"},"sharp right":{default:"Neem  op de splitsing, een scherpe bocht, naar rechts",name:"Neem een scherpe bocht naar rechts, tot aan {way_name}",destination:"Neem een scherpe bocht naar rechts, richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},merge:{default:{default:"Bij de splitsing {modifier}",name:"Bij de splitsing {modifier} naar {way_name}",destination:"Bij de splitsing {modifier} richting {destination}"},straight:{default:"Samenvoegen",name:"Ga verder op {way_name}",destination:"Ga verder richting {destination}"},"slight left":{default:"Bij de splitsing links aanhouden",name:"Bij de splitsing links aanhouden naar {way_name}",destination:"Bij de splitsing links aanhouden richting {destination}"},"slight right":{default:"Bij de splitsing rechts aanhouden",name:"Bij de splitsing rechts aanhouden naar {way_name}",destination:"Bij de splitsing rechts aanhouden richting {destination}"},"sharp left":{default:"Bij de splitsing linksaf",name:"Bij de splitsing linksaf naar {way_name}",destination:"Bij de splitsing linksaf richting {destination}"},"sharp right":{default:"Bij de splitsing rechtsaf",name:"Bij de splitsing rechtsaf naar {way_name}",destination:"Bij de splitsing rechtsaf richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},"new name":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga rechtdoor naar {way_name}",destination:"Ga rechtdoor richting {destination}"},"sharp left":{default:"Neem een scherpe bocht, naar links",name:"Linksaf naar {way_name}",destination:"Linksaf richting {destination}"},"sharp right":{default:"Neem een scherpe bocht, naar rechts",name:"Rechtsaf naar {way_name}",destination:"Rechtsaf richting {destination}"},"slight left":{default:"Links aanhouden",name:"Links aanhouden naar {way_name}",destination:"Links aanhouden richting {destination}"},"slight right":{default:"Rechts aanhouden",name:"Rechts aanhouden naar {way_name}",destination:"Rechts aanhouden richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},notification:{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},"off ramp":{default:{default:"Neem de afrit",name:"Neem de afrit naar {way_name}",destination:"Neem de afrit richting {destination}",exit:"Neem afslag {exit}",exit_destination:"Neem afslag {exit} richting {destination}"},left:{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},right:{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"},"sharp left":{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},"sharp right":{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"},"slight left":{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},"slight right":{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"}},"on ramp":{default:{default:"Neem de oprit",name:"Neem de oprit naar {way_name}",destination:"Neem de oprit richting {destination}"},left:{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},right:{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"},"sharp left":{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},"sharp right":{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"},"slight left":{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},"slight right":{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"}},rotary:{default:{default:{default:"Betreedt de rotonde",name:"Betreedt rotonde en sla af op {way_name}",destination:"Betreedt rotonde en sla af richting {destination}"},name:{default:"Ga het knooppunt {rotary_name} op",name:"Verlaat het knooppunt {rotary_name} naar {way_name}",destination:"Verlaat het knooppunt {rotary_name} richting {destination}"},exit:{default:"Betreedt rotonde en neem afslag {exit_number}",name:"Betreedt rotonde en neem afslag {exit_number} naar {way_name}",destination:"Betreedt rotonde en neem afslag {exit_number} richting {destination}"},name_exit:{default:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number}",name:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number} naar {way_name}",destination:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number} richting {destination}"}}},roundabout:{default:{exit:{default:"Betreedt rotonde en neem afslag {exit_number}",name:"Betreedt rotonde en neem afslag {exit_number} naar {way_name}",destination:"Betreedt rotonde en neem afslag {exit_number} richting {destination}"},default:{default:"Betreedt de rotonde",name:"Betreedt rotonde en sla af op {way_name}",destination:"Betreedt rotonde en sla af richting {destination}"}}},"roundabout turn":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},left:{default:"Ga linksaf",name:"Ga linksaf naar {way_name}",destination:"Ga linksaf richting {destination}"},right:{default:"Ga rechtsaf",name:"Ga rechtsaf naar {way_name}",destination:"Ga rechtsaf richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga naar {way_name}",destination:"Ga richting {destination}"}},"exit roundabout":{default:{default:"Verlaat de rotonde",name:"Verlaat de rotonde en ga verder op {way_name}",destination:"Verlaat de rotonde richting {destination}"}},"exit rotary":{default:{default:"Verlaat de rotonde",name:"Verlaat de rotonde en ga verder op {way_name}",destination:"Verlaat de rotonde richting {destination}"}},turn:{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},left:{default:"Ga linksaf",name:"Ga linksaf naar {way_name}",destination:"Ga linksaf richting {destination}"},right:{default:"Ga rechtsaf",name:"Ga rechtsaf naar {way_name}",destination:"Ga rechtsaf richting {destination}"},straight:{default:"Ga rechtdoor",name:"Ga rechtdoor naar {way_name}",destination:"Ga rechtdoor richting {destination}"}},"use lane":{no_lanes:{default:"Rechtdoor"},default:{default:"{lane_instruction}"}}}}},{}],37:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"nord",northeast:"nordst",east:"st",southeast:"srst",south:"sr",southwest:"srvest",west:"vest",northwest:"nordvest"},modifier:{left:"venstre",right:"hyre","sharp left":"skarp venstre","sharp right":"skarp hyre","slight left":"litt til venstre","slight right":"litt til hyre",straight:"rett frem",uturn:"U-sving"},lanes:{xo:"Hold til hyre",ox:"Hold til venstre",xox:"Hold deg i midten",oxo:"Hold til venstre eller hyre"}},modes:{ferry:{default:"Ta ferja",name:"Ta ferja {way_name}",destination:"Ta ferja til {destination}"}},phrase:{"two linked by distance":"{instruction_one}, deretter {instruction_two} om {distance}","two linked":"{instruction_one}, deretter {instruction_two}","one in distance":"Om {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"avkjrsel {exit}"},arrive:{default:{default:"Du har ankommet din {nth} destinasjon",upcoming:"Du vil ankomme din {nth} destinasjon",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}"},left:{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},right:{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"sharp left":{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},"sharp right":{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"slight right":{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"slight left":{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},straight:{default:"Du har ankommet din {nth} destinasjon, rett forut",upcoming:"Du vil ankomme din {nth} destinasjon, rett forut",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, rett forut"}},continue:{default:{default:"Ta til {modifier}",name:"Ta til {modifier} for  bli vrende p {way_name}",destination:"Ta til {modifier} mot {destination}",exit:"Ta til {modifier} inn p {way_name}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem for  bli vrende p {way_name}",destination:"Fortsett mot {destination}",distance:"Fortsett rett frem, {distance} ",namedistance:"Fortsett p {way_name}, {distance}"},"sharp left":{default:"Sving skarpt til venstre",name:"Sving skarpt til venstre for  bli vrende p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre",name:"Sving skarpt til hyre for  bli vrende p {way_name}",destination:"Sving skarpt mot {destination}"},"slight left":{default:"Sving svakt til venstre",name:"Sving svakt til venstre for  bli vrende p {way_name}",destination:"Sving svakt til venstre mot {destination}"},"slight right":{default:"Sving svakt til hyre",name:"Sving svakt til hyre for  bli vrende p {way_name}",destination:"Sving svakt til hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving og fortsett p {way_name}",destination:"Ta en U-sving mot {destination}"}},depart:{default:{default:"Kjr i retning {direction}",name:"Kjr i retning {direction} p {way_name}",namedistance:"Kjr i retning {direction} p {way_name}, {distance}"}},"end of road":{default:{default:"Sving {modifier}",name:"Ta til {modifier} inn p {way_name}",destination:"Sving {modifier} mot {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem til  {way_name}",destination:"Fortsett rett frem mot {destination}"},uturn:{default:"Ta en U-sving i enden av veien",name:"Ta en U-sving til {way_name} i enden av veien",destination:"Ta en U-sving mot {destination} i enden av veien"}},fork:{default:{default:"Hold til {modifier} i veikrysset",name:"Hold til {modifier} inn p {way_name}",destination:"Hold til {modifier} mot {destination}"},"slight left":{default:"Hold til venstre i veikrysset",name:"Hold til venstre inn p {way_name}",destination:"Hold til venstre mot {destination}"},"slight right":{default:"Hold til hyre i veikrysset",name:"Hold til hyre inn p {way_name}",destination:"Hold til hyre mot {destination}"},"sharp left":{default:"Sving skarpt til venstre i veikrysset",name:"Sving skarpt til venstre inn p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre i veikrysset",name:"Sving skarpt til hyre inn p {way_name}",destination:"Svings skarpt til hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},merge:{default:{default:"Hold {modifier} kjrefelt",name:"Hold {modifier} kjrefelt inn p {way_name}",destination:"Hold {modifier} kjrefelt mot {destination}"},straight:{default:"Hold kjrefelt",name:"Hold kjrefelt inn p {way_name}",destination:"Hold kjrefelt mot {destination}"},"slight left":{default:"Hold venstre kjrefelt",name:"Hold venstre kjrefelt inn p {way_name}",destination:"Hold venstre kjrefelt mot {destination}"},"slight right":{default:"Hold hyre kjrefelt",name:"Hold hyre kjrefelt inn p {way_name}",destination:"Hold hyre kjrefelt mot {destination}"},"sharp left":{default:"Hold venstre kjrefelt",name:"Hold venstre kjrefelt inn p {way_name}",destination:"Hold venstre kjrefelt mot {destination}"},"sharp right":{default:"Hold hyre kjrefelt",name:"Hold hyre kjrefelt inn p {way_name}",destination:"Hold hyre kjrefelt mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},"new name":{default:{default:"Fortsett {modifier}",name:"Fortsett {modifier} til {way_name}",destination:"Fortsett {modifier} mot  {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett inn p {way_name}",destination:"Fortsett mot {destination}"},"sharp left":{default:"Sving skarpt til venstre",name:"Sving skarpt til venstre inn p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre",name:"Sving skarpt til hyre inn p {way_name}",destination:"Svings skarpt til hyre mot {destination}"},"slight left":{default:"Fortsett litt mot venstre",name:"Fortsett litt mot venstre til {way_name}",destination:"Fortsett litt mot venstre mot {destination}"},"slight right":{default:"Fortsett litt mot hyre",name:"Fortsett litt mot hyre til {way_name}",destination:"Fortsett litt mot hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},notification:{default:{default:"Fortsett {modifier}",name:"Fortsett {modifier} til {way_name}",destination:"Fortsett {modifier} mot  {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},"off ramp":{default:{default:"Ta avkjrselen",name:"Ta avkjrselen inn p {way_name}",destination:"Ta avkjrselen mot {destination}",exit:"Ta avkjrsel {exit}",exit_destination:"Ta avkjrsel {exit} mot {destination}"},left:{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},right:{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"},"sharp left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},"sharp right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"},"slight left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},"slight right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"}},"on ramp":{default:{default:"Ta avkjrselen",name:"Ta avkjrselen inn p {way_name}",destination:"Ta avkjrselen mot {destination}"},left:{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},right:{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"},"sharp left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},"sharp right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"},"slight left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},"slight right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"}},rotary:{default:{default:{default:"Kjr inn i rundkjringen",name:"Kjr inn i rundkjringen og deretter ut p {way_name}",destination:"Kjr inn i rundkjringen og deretter ut mot {destination}"},name:{default:"Kjr inn i {rotary_name}",name:"Kjr inn i {rotary_name} og deretter ut p {way_name}",destination:"Kjr inn i {rotary_name} og deretter ut mot {destination}"},exit:{default:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel",name:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut p {way_name}",destination:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut mot {destination} "},name_exit:{default:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel",name:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel inn p {way_name}",destination:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel mot {destination}"}}},roundabout:{default:{exit:{default:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel",name:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel inn p {way_name}",destination:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut mot {destination} "},default:{default:"Kjr inn i rundkjringen",name:"Kjr inn i rundkjringen og deretter ut p {way_name}",destination:"Kjr inn i rundkjringen og deretter ut mot {destination}"}}},"roundabout turn":{default:{default:"Ta en {modifier}",name:"Ta en {modifier} inn p {way_name}",destination:"Ta en {modifier} mot {destination}"},left:{default:"Sving til venstre",name:"Sving til venstre inn p {way_name}",destination:"Sving til venstre mot {destination}"},right:{default:"Sving til hyre",name:"Sving til hyre inn p {way_name}",destination:"Sving til hyre mot {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem til  {way_name}",destination:"Fortsett rett frem mot {destination}"}},"exit roundabout":{default:{default:"Kjr ut av rundkjringen",name:"Kjr ut av rundkjringen og inn p {way_name}",destination:"Kjr ut av rundkjringen mot {destination}"}},"exit rotary":{default:{default:"Kjr ut av rundkjringen",name:"Kjr ut av rundkjringen og inn p {way_name}",destination:"Kjr ut av rundkjringen mot {destination}"}},turn:{default:{default:"Ta en {modifier}",name:"Ta en {modifier} inn p {way_name}",destination:"Ta en {modifier} mot {destination}"},left:{default:"Sving til venstre",name:"Sving til venstre inn p {way_name}",destination:"Sving til venstre mot {destination}"},right:{default:"Sving til hyre",name:"Sving til hyre inn p {way_name}",destination:"Sving til hyre mot {destination}"},straight:{default:"Kjr rett frem",name:"Kjr rett frem og inn p {way_name}",destination:"Kjr rett frem mot {destination}"}},"use lane":{no_lanes:{default:"Fortsett rett frem"},default:{default:"{lane_instruction}"}}}}},{}],38:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"pnoc",northeast:"pnocny wschd",east:"wschd",southeast:"poudniowy wschd",south:"poudnie",southwest:"poudniowy zachd",west:"zachd",northwest:"pnocny zachd"},modifier:{left:"lewo",right:"prawo","sharp left":"ostro w lewo","sharp right":"ostro w prawo","slight left":"agodnie w lewo","slight right":"agodnie w prawo",straight:"prosto",uturn:"zawr"},lanes:{xo:"Trzymaj si prawej strony",ox:"Trzymaj si lewej strony",xox:"Trzymaj si rodka",oxo:"Trzymaj si lewej lub prawej strony"}},modes:{ferry:{default:"We prom",name:"We prom {way_name}",destination:"We prom w kierunku {destination}"}},phrase:{"two linked by distance":"{instruction_one}, nastpnie za {distance} {instruction_two}","two linked":"{instruction_one}, nastpnie {instruction_two}","one in distance":"Za {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Dojechano do miejsca docelowego {nth}",upcoming:"Dojechano do miejsca docelowego {nth}",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}"},left:{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},right:{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"sharp left":{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},"sharp right":{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"slight right":{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"slight left":{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},straight:{default:"Dojechano do miejsca docelowego {nth} , prosto",upcoming:"Dojechano do miejsca docelowego {nth} , prosto",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, prosto"}},continue:{default:{default:"Skr {modifier}",name:"Skr w {modifier}, aby pozosta na {way_name}",destination:"Skr {modifier} w kierunku {destination}",exit:"Skr {modifier} na {way_name}"},straight:{default:"Kontynuuj prosto",name:"Jed dalej prosto, aby pozosta na {way_name}",destination:"Kontynuuj w kierunku {destination}",distance:"Jed dalej prosto przez {distance}",namedistance:"Jed dalej {way_name} przez {distance}"},"sharp left":{default:"Skr ostro w lewo",name:"Skr w lewo w ostry zakrt, aby pozosta na {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Skr ostro w prawo",name:"Skr w prawo w ostry zakrt, aby pozosta na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},"slight left":{default:"Skr w lewo w agodny zakrt",name:"Skr w lewo w agodny zakrt, aby pozosta na {way_name}",destination:"Skr w lewo w agodny zakrt na {destination}"},"slight right":{default:"Skr w prawo w agodny zakrt",name:"Skr w prawo w agodny zakrt, aby pozosta na {way_name}",destination:"Skr w prawo w agodny zakrt na {destination}"},uturn:{default:"Zawr",name:"Zawr i jed dalej {way_name}",destination:"Zawr w kierunku {destination}"}},depart:{default:{default:"Kieruj si {direction}",name:"Kieruj si {direction} na {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Skr {modifier}",name:"Skr {modifier} na {way_name}",destination:"Skr {modifier} w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"},uturn:{default:"Zawr na kocu ulicy",name:"Zawr na kocu ulicy na {way_name}",destination:"Zawr na kocu ulicy w kierunku {destination}"}},fork:{default:{default:"Na rozwidleniu trzymaj si {modifier}",name:"Na rozwidleniu trzymaj si {modifier} na {way_name}",destination:"Na rozwidleniu trzymaj si {modifier} w kierunku {destination}"},"slight left":{default:"Na rozwidleniu trzymaj si lewej strony",name:"Na rozwidleniu trzymaj si lewej strony w {way_name}",destination:"Na rozwidleniu trzymaj si lewej strony w kierunku {destination}"},"slight right":{default:"Na rozwidleniu trzymaj si prawej strony",name:"Na rozwidleniu trzymaj si prawej strony na {way_name}",destination:"Na rozwidleniu trzymaj si prawej strony w kierunku {destination}"},"sharp left":{default:"Na rozwidleniu skr ostro w lewo",name:"Skr ostro w lewo w {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Na rozwidleniu skr ostro w prawo",name:"Skr ostro w prawo na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},merge:{default:{default:"Wcz si {modifier}",name:"Wcz si {modifier} na {way_name}",destination:"Wcz si {modifier} w kierunku {destination}"},straight:{default:"Wcz si prosto",name:"Wcz si prosto na {way_name}",destination:"Wcz si prosto w kierunku {destination}"},"slight left":{default:"Wcz si z lewej strony",name:"Wcz si z lewej strony na {way_name}",destination:"Wcz si z lewej strony w kierunku {destination}"},"slight right":{default:"Wcz si z prawej strony",name:"Wcz si z prawej strony na {way_name}",destination:"Wcz si z prawej strony w kierunku {destination}"},"sharp left":{default:"Wcz si z lewej strony",name:"Wcz si z lewej strony na {way_name}",destination:"Wcz si z lewej strony w kierunku {destination}"},"sharp right":{default:"Wcz si z prawej strony",name:"Wcz si z prawej strony na {way_name}",destination:"Wcz si z prawej strony w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},"new name":{default:{default:"Kontynuuj {modifier}",name:"Kontynuuj {modifier} na {way_name}",destination:"Kontynuuj {modifier} w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj na {way_name}",destination:"Kontynuuj w kierunku {destination}"},"sharp left":{default:"Skr ostro w lewo",name:"Skr ostro w lewo w {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Skr ostro w prawo",name:"Skr ostro w prawo na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},"slight left":{default:"Kontynuuj agodnie w lewo",name:"Kontynuuj agodnie w lewo na {way_name}",destination:"Kontynuuj agodnie w lewo w kierunku {destination}"},"slight right":{default:"Kontynuuj agodnie w prawo",name:"Kontynuuj agodnie w prawo na {way_name}",destination:"Kontynuuj agodnie w prawo w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},notification:{default:{default:"Kontynuuj {modifier}",name:"Kontynuuj {modifier} na {way_name}",destination:"Kontynuuj {modifier} w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},"off ramp":{default:{default:"Zjed",name:"We zjazd na {way_name}",destination:"We zjazd w kierunku {destination}",exit:"Zjed zjazdem {exit}",exit_destination:"Zjed zjazdem {exit} na {destination}"},left:{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},right:{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"},"sharp left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},"sharp right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"},"slight left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},"slight right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"}},"on ramp":{default:{default:"We zjazd",name:"We zjazd na {way_name}",destination:"We zjazd w kierunku {destination}"},left:{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},right:{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"},"sharp left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},"sharp right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"},"slight left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},"slight right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"}},rotary:{default:{default:{default:"Wjed na rondo",name:"Wjed na rondo i skr na {way_name}",destination:"Wjed na rondo i skr w kierunku {destination}"},name:{default:"Wjed na {rotary_name}",name:"Wjed na {rotary_name} i skr na {way_name}",destination:"Wjed na {rotary_name} i skr w kierunku {destination}"},exit:{default:"Wjed na rondo i wyjed {exit_number} zjazdem",name:"Wjed na rondo i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na rondo i wyjed {exit_number} zjazdem w kierunku {destination}"},name_exit:{default:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem",name:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem w kierunku {destination}"}}},roundabout:{default:{exit:{default:"Wjed na rondo i wyjed {exit_number} zjazdem",name:"Wjed na rondo i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na rondo i wyjed {exit_number} zjazdem w kierunku {destination}"},default:{default:"Wjed na rondo",name:"Wjed na rondo i wyjed na {way_name}",destination:"Wjed na rondo i wyjed w kierunku {destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"}},"exit roundabout":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"}},"exit rotary":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Jed prosto",name:"Jed prosto na {way_name}",destination:"Jed prosto w kierunku {destination}"}},turn:{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Jed prosto",name:"Jed prosto na {way_name}",destination:"Jed prosto w kierunku {destination}"}},"use lane":{no_lanes:{default:"Kontynuuj prosto"},default:{default:"{lane_instruction}"}}}}},{}],39:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"nordeste",east:"leste",southeast:"sudeste",south:"sul",southwest:"sudoeste",west:"oeste",northwest:"noroeste"},modifier:{left:" esquerda",right:" direita","sharp left":"fechada  esquerda","sharp right":"fechada  direita","slight left":"suave  esquerda","slight right":"suave  direita",straight:"em frente",uturn:"retorno"},lanes:{xo:"Mantenha-se  direita",ox:"Mantenha-se  esquerda",xox:"Mantenha-se ao centro",oxo:"Mantenha-se  esquerda ou direita"}},modes:{ferry:{default:"Pegue a balsa",name:"Pegue a balsa {way_name}",destination:"Pegue a balsa sentido {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ento, em {distance}, {instruction_two}","two linked":"{instruction_one}, ento {instruction_two}","one in distance":"Em {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sada {exit}"},arrive:{default:{default:"Voc chegou ao seu {nth} destino",upcoming:"Voc chegar ao seu {nth} destino",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou a {waypoint_name}"},left:{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},right:{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"sharp left":{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},"sharp right":{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"slight right":{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"slight left":{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},straight:{default:"Voc chegou ao seu {nth} destino, em frente",upcoming:"Voc vai chegar ao seu {nth} destino, em frente",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"You have arrived at {waypoint_name}, straight ahead"}},continue:{default:{default:"Vire {modifier}",name:"Vire {modifier} para manter-se na {way_name}",destination:"Vire {modifier} sentido {destination}",exit:"Vire {modifier} em {way_name}"},straight:{default:"Continue em frente",name:"Continue em frente para manter-se na {way_name}",destination:"Continue em direo  {destination}",distance:"Continue em frente por {distance}",namedistance:"Continue na {way_name} por {distance}"},"sharp left":{default:"Faa uma curva fechada a esquerda",name:"Faa uma curva fechada a esquerda para manter-se na {way_name}",destination:"Faa uma curva fechada a esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada a direita",name:"Faa uma curva fechada a direita para manter-se na {way_name}",destination:"Faa uma curva fechada a direita sentido {destination}"},"slight left":{default:"Faa uma curva suave a esquerda",name:"Faa uma curva suave a esquerda para manter-se na {way_name}",destination:"Faa uma curva suave a esquerda em direo a {destination}"},"slight right":{default:"Faa uma curva suave a direita",name:"Faa uma curva suave a direita para manter-se na {way_name}",destination:"Faa uma curva suave a direita em direo a {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno e continue em {way_name}",destination:"Faa o retorno sentido {destination}"}},depart:{default:{default:"Siga {direction}",name:"Siga {direction} em {way_name}",namedistance:"Siga {direction} na {way_name} por {distance}"}},"end of road":{default:{default:"Vire {modifier}",name:"Vire {modifier} em {way_name}",destination:"Vire {modifier} sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em frente em {way_name}",destination:"Continue em frente sentido {destination}"},uturn:{default:"Faa o retorno no fim da rua",name:"Faa o retorno em {way_name} no fim da rua",destination:"Faa o retorno sentido {destination} no fim da rua"}},fork:{default:{default:"Mantenha-se {modifier} na bifurcao",name:"Mantenha-se {modifier} na bifurcao em {way_name}",destination:"Mantenha-se {modifier} na bifurcao sentido {destination}"},"slight left":{default:"Mantenha-se  esquerda na bifurcao",name:"Mantenha-se  esquerda na bifurcao em {way_name}",destination:"Mantenha-se  esquerda na bifurcao sentido {destination}"},"slight right":{default:"Mantenha-se  direita na bifurcao",name:"Mantenha-se  direita na bifurcao em {way_name}",destination:"Mantenha-se  direita na bifurcao sentido {destination}"},"sharp left":{default:"Faa uma curva fechada  esquerda na bifurcao",name:"Faa uma curva fechada  esquerda em {way_name}",destination:"Faa uma curva fechada  esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada  direita na bifurcao",name:"Faa uma curva fechada  direita em {way_name}",destination:"Faa uma curva fechada  direita sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},merge:{default:{default:"Entre {modifier}",name:"Entre {modifier} na {way_name}",destination:"Entre {modifier} em direo  {destination}"},straight:{default:"Mesclar",name:"Entre reto na {way_name}",destination:"Entre reto em direo  {destination}"},"slight left":{default:"Entre  esquerda",name:"Entre  esquerda na {way_name}",destination:"Entre  esquerda em direo  {destination}"},"slight right":{default:"Entre  direita",name:"Entre  direita na {way_name}",destination:"Entre  direita em direo  {destination}"},"sharp left":{default:"Entre  esquerda",name:"Entre  esquerda na {way_name}",destination:"Entre  esquerda em direo  {destination}"},"sharp right":{default:"Entre  direita",name:"Entre  direita na {way_name}",destination:"Entre  direita em direo  {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} em {way_name}",destination:"Continue {modifier} sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em {way_name}",destination:"Continue em direo  {destination}"},"sharp left":{default:"Faa uma curva fechada  esquerda",name:"Faa uma curva fechada  esquerda em {way_name}",destination:"Faa uma curva fechada  esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada  direita",name:"Faa uma curva fechada  direita em {way_name}",destination:"Faa uma curva fechada  direita sentido {destination}"},"slight left":{default:"Continue ligeiramente  esquerda",name:"Continue ligeiramente  esquerda em {way_name}",destination:"Continue ligeiramente  esquerda sentido {destination}"},"slight right":{default:"Continue ligeiramente  direita",name:"Continue ligeiramente  direita em {way_name}",destination:"Continue ligeiramente  direita sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} em {way_name}",destination:"Continue {modifier} sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},"off ramp":{default:{default:"Pegue a rampa",name:"Pegue a rampa em {way_name}",destination:"Pegue a rampa sentido {destination}",exit:"Pegue a sada {exit}",exit_destination:"Pegue a sada {exit} em direo  {destination}"},left:{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},right:{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"},"sharp left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},"sharp right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"},"slight left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},"slight right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"}},"on ramp":{default:{default:"Pegue a rampa",name:"Pegue a rampa em {way_name}",destination:"Pegue a rampa sentido {destination}"},left:{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},right:{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentid {destination}"},"sharp left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},"sharp right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}"},"slight left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},"slight right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}"}},rotary:{default:{default:{default:"Entre na rotatria",name:"Entre na rotatria e saia na {way_name}",destination:"Entre na rotatria e saia sentido {destination}"},name:{default:"Entre em {rotary_name}",name:"Entre em {rotary_name} e saia em {way_name}",destination:"Entre em {rotary_name} e saia sentido {destination}"},exit:{default:"Entre na rotatria e pegue a {exit_number} sada",name:"Entre na rotatria e pegue a {exit_number} sada na {way_name}",destination:"Entre na rotatria e pegue a {exit_number} sada sentido {destination}"},name_exit:{default:"Entre em {rotary_name} e saia na {exit_number} sada",name:"Entre em {rotary_name} e saia na {exit_number} sada em {way_name}",destination:"Entre em {rotary_name} e saia na {exit_number} sada sentido {destination}"}}},roundabout:{default:{exit:{default:"Entre na rotatria e pegue a {exit_number} sada",name:"Entre na rotatria e pegue a {exit_number} sada na {way_name}",destination:"Entre na rotatria e pegue a {exit_number} sada sentido {destination}"},default:{default:"Entre na rotatria",name:"Entre na rotatria e saia na {way_name}",destination:"Entre na rotatria e saia sentido {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} em {way_name}",destination:"Siga {modifier} sentido {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda em {way_name}",destination:"Vire  esquerda sentido {destination}"},right:{default:"Vire  direita",name:"Vire  direita em {way_name}",destination:"Vire  direita sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em frente em {way_name}",destination:"Continue em frente sentido {destination}"}},"exit roundabout":{default:{default:"Saia da rotatria",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},"exit rotary":{default:{default:"Saia da rotatria",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},turn:{default:{default:"Siga {modifier}",name:"Siga {modifier} em {way_name}",destination:"Siga {modifier} sentido {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda em {way_name}",destination:"Vire  esquerda sentido {destination}"},right:{default:"Vire  direita",name:"Vire  direita em {way_name}",destination:"Vire  direita sentido {destination}"},straight:{default:"Siga em frente",name:"Siga em frente em {way_name}",destination:"Siga em frente sentido {destination}"}},"use lane":{no_lanes:{default:"Continue em frente"},default:{default:"{lane_instruction}"}}}}},{}],40:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"nordeste",east:"este",southeast:"sudeste",south:"sul",southwest:"sudoeste",west:"oeste",northwest:"noroeste"},modifier:{left:" esquerda",right:" direita","sharp left":"acentuadamente  esquerda","sharp right":"acentuadamente  direita","slight left":"ligeiramente  esquerda","slight right":"ligeiramente  direita",straight:"em frente",uturn:"inverso de marcha"},lanes:{xo:"Mantenha-se  direita",ox:"Mantenha-se  esquerda",xox:"Mantenha-se ao meio",oxo:"Mantenha-se  esquerda ou  direita"}},modes:{ferry:{default:"Apanhe o ferry",name:"Apanhe o ferry {way_name}",destination:"Apanhe o ferry para {destination}"}},phrase:{"two linked by distance":"{instruction_one}, depois, a {distance}, {instruction_two}","two linked":"{instruction_one}, depois {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sada {exit}"},arrive:{default:{default:"Chegou ao seu {nth} destino",upcoming:"Est a chegar ao seu {nth} destino",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name}"},left:{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},right:{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"sharp left":{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},"sharp right":{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"slight right":{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"slight left":{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},straight:{default:"Chegou ao seu {nth} destino, em frente",upcoming:"Est a chegar ao seu {nth} destino, em frente",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name}, em frente"}},continue:{default:{default:"Vire {modifier}",name:"Vire {modifier} para se manter em {way_name}",destination:"Vire {modifier} em direo a {destination}",exit:"Vire {modifier} para {way_name}"},straight:{default:"Continue em frente",name:"Continue em frente para se manter em {way_name}",destination:"Continue em direo a {destination}",distance:"Continue em frente por {distance}",namedistance:"Continue em {way_name} por {distance}"},"sharp left":{default:"Vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para se manter em {way_name}",destination:"Vire acentuadamente  esquerda em direo a {destination}"},"sharp right":{default:"Vire acentuadamente  direita",name:"Vire acentuadamente  direita para se manter em {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},"slight left":{default:"Vire ligeiramente  esquerda",name:"Vire ligeiramente  esquerda para se manter em {way_name}",destination:"Vire ligeiramente  esquerda em direo a {destination}"},"slight right":{default:"Vire ligeiramente  direita",name:"Vire ligeiramente  direita para se manter em {way_name}",destination:"Vire ligeiramente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha e continue em {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},depart:{default:{default:"Dirija-se para {direction}",name:"Dirija-se para {direction} em {way_name}",namedistance:"Dirija-se para {direction} em {way_name} por {distance}"}},"end of road":{default:{default:"Vire {modifier}",name:"Vire {modifier} para {way_name}",destination:"Vire {modifier} em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue em frente para {way_name}",destination:"Continue em frente em direo a {destination}"},uturn:{default:"No final da estrada faa uma inverso de marcha",name:"No final da estrada faa uma inverso de marcha para {way_name} ",destination:"No final da estrada faa uma inverso de marcha em direo a {destination}"}},fork:{default:{default:"Na bifurcao mantenha-se {modifier}",name:"Mantenha-se {modifier} para {way_name}",destination:"Mantenha-se {modifier} em direo a {destination}"},"slight left":{default:"Na bifurcao mantenha-se  esquerda",name:"Mantenha-se  esquerda para {way_name}",destination:"Mantenha-se  esquerda em direo a {destination}"},"slight right":{default:"Na bifurcao mantenha-se  direita",name:"Mantenha-se  direita para {way_name}",destination:"Mantenha-se  direita em direo a {destination}"},"sharp left":{default:"Na bifurcao vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para {way_name}",destination:"Vire acentuadamente  esquerda em direo a {destination}"},"sharp right":{default:"Na bifurcao vire acentuadamente  direita",name:"Vire acentuadamente  direita para {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},merge:{default:{default:"Una-se ao trfego {modifier}",name:"Una-se ao trfego {modifier} para {way_name}",destination:"Una-se ao trfego {modifier} em direo a {destination}"},straight:{default:"Una-se ao trfego",name:" Una-se ao trfego para {way_name}",destination:"Una-se ao trfego em direo a {destination}"},"slight left":{default:"Una-se ao trfego  esquerda",name:"Una-se ao trfego  esquerda para {way_name}",destination:"Una-se ao trfego  esquerda em direo a {destination}"},"slight right":{default:"Una-se ao trfego  direita",name:"Una-se ao trfego  direita para {way_name}",destination:"Una-se ao trfego  direita em direo a {destination}"},"sharp left":{default:"Una-se ao trfego  esquerda",name:"Una-se ao trfego  esquerda para {way_name}",destination:"Una-se ao trfego  esquerda em direo a {destination}"},"sharp right":{default:"Una-se ao trfego  direita",name:"Una-se ao trfego  direita para {way_name}",destination:"Una-se ao trfego  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} para {way_name}",destination:"Continue {modifier} em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue para {way_name}",destination:"Continue em direo a {destination}"},"sharp left":{default:"Vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para {way_name}",destination:"Vire acentuadamente  esquerda em direo a{destination}"},"sharp right":{default:"Vire acentuadamente  direita",name:"Vire acentuadamente  direita para {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},"slight left":{default:"Continue ligeiramente  esquerda",name:"Continue ligeiramente  esquerda para {way_name}",destination:"Continue ligeiramente  esquerda em direo a {destination}"},"slight right":{default:"Continue ligeiramente  direita",name:"Continue ligeiramente  direita para {way_name}",destination:"Continue ligeiramente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} para {way_name}",destination:"Continue {modifier} em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},"off ramp":{default:{default:"Saia na sada",name:"Saia na sada para {way_name}",destination:"Saia na sada em direo a {destination}",exit:"Saia na sada {exit}",exit_destination:"Saia na sada {exit} em direo a {destination}"},left:{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},right:{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"},"sharp left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},"sharp right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"},"slight left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},"slight right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"}},"on ramp":{default:{default:"Saia na sada",name:"Saia na sada para {way_name}",destination:"Saia na sada em direo a {destination}"},left:{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},right:{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"},"sharp left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},"sharp right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"},"slight left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},"slight right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"}},rotary:{default:{default:{default:"Entre na rotunda",name:"Entre na rotunda e saia para {way_name}",destination:"Entre na rotunda e saia em direo a {destination}"},name:{default:"Entre em {rotary_name}",name:"Entre em {rotary_name} e saia para {way_name}",destination:"Entre em {rotary_name} e saia em direo a {destination}"},exit:{default:"Entre na rotunda e saia na sada {exit_number}",name:"Entre na rotunda e saia na sada {exit_number} para {way_name}",destination:"Entre na rotunda e saia na sada {exit_number} em direo a {destination}"},name_exit:{default:"Entre em {rotary_name} e saia na sada {exit_number}",name:"Entre em {rotary_name} e saia na sada {exit_number} para {way_name}",destination:"Entre em{rotary_name} e saia na sada {exit_number} em direo a {destination}"}}},roundabout:{default:{exit:{default:"Entre na rotunda e saia na sada {exit_number}",name:"Entre na rotunda e saia na sada {exit_number} para {way_name}",destination:"Entre na rotunda e saia na sada {exit_number} em direo a {destination}"},default:{default:"Entre na rotunda",name:"Entre na rotunda e saia para {way_name}",destination:"Entre na rotunda e saia em direo a {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} para {way_name}",destination:"Siga {modifier} em direo a {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda para {way_name}",destination:"Vire  esquerda em direo a {destination}"},right:{default:"Vire  direita",name:"Vire  direita para {way_name}",destination:"Vire  direita em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue em frente para {way_name}",destination:"Continue em frente em direo a {destination}"}},"exit roundabout":{default:{default:"Saia da rotunda",name:"Saia da rotunda para {way_name}",destination:"Saia da rotunda em direo a {destination}"}},"exit rotary":{default:{default:"Saia da rotunda",name:"Saia da rotunda para {way_name}",destination:"Saia da rotunda em direo a {destination}"}},turn:{default:{default:"Siga {modifier}",name:"Siga {modifier} para{way_name}",destination:"Siga {modifier} em direo a {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda para {way_name}",destination:"Vire  esquerda em direo a {destination}"},right:{default:"Vire  direita",name:"Vire  direita para {way_name}",destination:"Vire  direita em direo a {destination}"},straight:{default:"V em frente",name:"V em frente para {way_name}",destination:"V em frente em direo a {destination}"}},"use lane":{no_lanes:{default:"Continue em frente"},default:{default:"{lane_instruction}"}}}}},{}],41:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"prima",2:"a doua",3:"a treia",4:"a patra",5:"a cincea",6:"a asea",7:"a aptea",8:"a opta",9:"a noua",10:"a zecea"},direction:{north:"nord",northeast:"nord-est",east:"est",southeast:"sud-est",south:"sud",southwest:"sud-vest",west:"vest",northwest:"nord-vest"},modifier:{left:"stnga",right:"dreapta","sharp left":"puternic stnga","sharp right":"puternic dreapta","slight left":"uor stnga","slight right":"uor dreapta",straight:"nainte",uturn:"ntoarcere"},lanes:{xo:"inei stnga",ox:"inei dreapta",xox:"inei pe mijloc",oxo:"inei pe laterale"}},modes:{ferry:{default:"Luai feribotul",name:"Luai feribotul {way_name}",destination:"Luai feribotul spre {destination}"}},phrase:{"two linked by distance":"{instruction_one}, apoi n {distance}, {instruction_two}","two linked":"{instruction_one} apoi {instruction_two}","one in distance":"n {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"ieirea {exit}"},arrive:{default:{default:"Ai ajuns la {nth} destinaie",upcoming:"Ai ajuns la {nth} destinaie",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}"},left:{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},right:{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"sharp left":{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},"sharp right":{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"slight right":{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"slight left":{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},straight:{default:"Ai ajuns la {nth} destinaie, n fa",upcoming:"Ai ajuns la {nth} destinaie, n fa",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, n fa"}},continue:{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}",exit:"Virai {modifier} pe {way_name}"},straight:{default:"Mergei nainte",name:"Mergei nainte pe {way_name}",destination:"Continuai spre {destination}",distance:"Mergei nainte pentru {distance}",namedistance:"Continuai pe {way_name} pentru {distance}"},"sharp left":{default:"Virai puternic la stnga",name:"Virai puternic la stnga pe {way_name}",destination:"Virai puternic la stnga spre {destination}"},"sharp right":{default:"Virai puternic la dreapta",name:"Virai puternic la dreapta pe {way_name}",destination:"Virai puternic la dreapta spre {destination}"},"slight left":{default:"Virai uor la stnga",name:"Virai uor la stnga pe {way_name}",destination:"Virai uor la stnga spre {destination}"},"slight right":{default:"Virai uor la dreapta",name:"Virai uor la dreapta pe {way_name}",destination:"Virai uor la dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v i continuai pe {way_name}",destination:"ntoarcei-v spre {destination}"}},depart:{default:{default:"Mergei spre {direction}",name:"Mergei spre {direction} pe {way_name}",namedistance:"Mergei spre {direction} pe {way_name} pentru {distance}"}},"end of road":{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}"},straight:{default:"Continuai nainte",name:"Continuai nainte pe {way_name}",destination:"Continuai nainte spre {destination}"},uturn:{default:"ntoarcei-v la sfritul drumului",name:"ntoarcei-v pe {way_name} la sfritul drumului",destination:"ntoarcei-v spre {destination} la sfritul drumului"}},fork:{default:{default:"inei {modifier} la bifurcaie",name:"inei {modifier} la bifurcaie pe {way_name}",destination:"inei {modifier} la bifurcaie spre {destination}"},"slight left":{default:"inei pe stnga la bifurcaie",name:"inei pe stnga la bifurcaie pe {way_name}",destination:"inei pe stnga la bifurcaie spre {destination}"},"slight right":{default:"inei pe dreapta la bifurcaie",name:"inei pe dreapta la bifurcaie pe {way_name}",destination:"inei pe dreapta la bifurcaie spre {destination}"},"sharp left":{default:"Virai puternic stnga la bifurcaie",name:"Virai puternic stnga la bifurcaie pe {way_name}",destination:"Virai puternic stnga la bifurcaie spre {destination}"},"sharp right":{default:"Virai puternic dreapta la bifurcaie",name:"Virai puternic dreapta la bifurcaie pe {way_name}",destination:"Virai puternic dreapta la bifurcaie spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},merge:{default:{default:"Intrai n {modifier}",name:"Intrai n {modifier} pe {way_name}",destination:"Intrai n {modifier} spre {destination}"},straight:{default:"Intrai",name:"Intrai pe {way_name}",destination:"Intrai spre {destination}"},"slight left":{default:"Intrai n stnga",name:"Intrai n stnga pe {way_name}",destination:"Intrai n stnga spre {destination}"},"slight right":{default:"Intrai n dreapta",name:"Intrai n dreapta pe {way_name}",destination:"Intrai n dreapta spre {destination}"},"sharp left":{default:"Intrai n stnga",name:"Intrai n stnga pe {way_name}",destination:"Intrai n stnga spre {destination}"},"sharp right":{default:"Intrai n dreapta",name:"Intrai n dreapta pe {way_name}",destination:"Intrai n dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},"new name":{default:{default:"Continuai {modifier}",name:"Continuai {modifier} pe {way_name}",destination:"Continuai {modifier} spre {destination}"},straight:{default:"Continuai nainte",name:"Continuai pe {way_name}",destination:"Continuai spre {destination}"},"sharp left":{default:"Virai puternic la stnga",name:"Virai puternic la stnga pe {way_name}",destination:"Virai puternic la stnga spre {destination}"},"sharp right":{default:"Virai puternic la dreapta",name:"Virai puternic la dreapta pe {way_name}",destination:"Virai puternic la dreapta spre {destination}"},"slight left":{default:"Continuai uor la stnga",name:"Continuai uor la stnga pe {way_name}",destination:"Continuai uor la stnga spre {destination}"},"slight right":{default:"Continuai uor la dreapta",name:"Continuai uor la dreapta pe {way_name}",destination:"Continuai uor la dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},notification:{default:{default:"Continuai {modifier}",name:"Continuai {modifier} pe {way_name}",destination:"Continuai {modifier} spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},"off ramp":{default:{default:"Urmai breteaua",name:"Urmai breteaua pe {way_name}",destination:"Urmai breteaua spre {destination}",exit:"Urmai ieirea {exit}",exit_destination:"Urmai ieirea {exit} spre {destination}"},left:{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},right:{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"},"sharp left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},"sharp right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"},"slight left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},"slight right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"}},"on ramp":{default:{default:"Urmai breteaua de intrare",name:"Urmai breteaua pe {way_name}",destination:"Urmai breteaua spre {destination}"},left:{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},right:{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"},"sharp left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},"sharp right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"},"slight left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},"slight right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"}},rotary:{default:{default:{default:"Intrai n sensul giratoriu",name:"Intrai n sensul giratoriu i ieii pe {way_name}",destination:"Intrai n sensul giratoriu i ieii spre {destination}"},name:{default:"Intrai n {rotary_name}",name:"Intrai n {rotary_name} i ieii pe {way_name}",destination:"Intrai n {rotary_name} i ieii spre {destination}"},exit:{default:"Intrai n sensul giratoriu i urmai {exit_number} ieire",name:"Intrai n sensul giratoriu i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n sensul giratoriu i urmai {exit_number} ieire spre {destination}"},name_exit:{default:"Intrai n {rotary_name} i urmai {exit_number} ieire",name:"Intrai n {rotary_name} i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n  {rotary_name} i urmai {exit_number} ieire spre {destination}"}}},roundabout:{default:{exit:{default:"Intrai n sensul giratoriu i urmai {exit_number} ieire",name:"Intrai n sensul giratoriu i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n sensul giratoriu i urmai {exit_number} ieire spre {destination}"},default:{default:"Intrai n sensul giratoriu",name:"Intrai n sensul giratoriu i ieii pe {way_name}",destination:"Intrai n sensul giratoriu i ieii spre {destination}"}}},"roundabout turn":{default:{default:"La sensul giratoriu virai {modifier}",name:"La sensul giratoriu virai {modifier} pe {way_name}",destination:"La sensul giratoriu virai {modifier} spre {destination}"},left:{default:"La sensul giratoriu virai la stnga",name:"La sensul giratoriu virai la stnga pe {way_name}",destination:"La sensul giratoriu virai la stnga spre {destination}"},right:{default:"La sensul giratoriu virai la dreapta",name:"La sensul giratoriu virai la dreapta pe {way_name}",destination:"La sensul giratoriu virai la dreapta spre {destination}"},straight:{default:"La sensul giratoriu continuai nainte",name:"La sensul giratoriu continuai nainte pe {way_name}",destination:"La sensul giratoriu continuai nainte spre {destination}"}},"exit roundabout":{default:{default:"Ieii din sensul giratoriu",name:"Ieii din sensul giratoriu pe {way_name}",destination:"Ieii din sensul giratoriu spre {destination}"}},"exit rotary":{default:{default:"Ieii din sensul giratoriu",name:"Ieii din sensul giratoriu pe {way_name}",destination:"Ieii din sensul giratoriu spre {destination}"}},turn:{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}"},left:{default:"Virai la stnga",name:"Virai la stnga pe {way_name}",destination:"Virai la stnga spre {destination}"},right:{default:"Virai la dreapta",name:"Virai la dreapta pe {way_name}",destination:"Virai la dreapta spre {destination}"},straight:{default:"Mergei nainte",name:"Mergei nainte pe {way_name}",destination:"Mergei nainte spre {destination}"}},"use lane":{no_lanes:{default:"Mergei nainte"},default:{default:"{lane_instruction}"}}}}},{}],42:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"-",east:"",southeast:"-",south:"",southwest:"-",west:"",northwest:"-"},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:" "},lanes:{xo:" ",ox:" ",xox:" ",oxo:"   "}},modes:{ferry:{default:"  ",name:"   {way_name}",destination:"     {destination}"}},phrase:{"two linked by distance":"{instruction_one},   {distance} {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":" {exit}"},arrive:{default:{default:"   {nth}  ",upcoming:"   {nth}  ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name}"},left:{default:"   {nth}  ,   ",upcoming:"   {nth}  ,   ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},   "},right:{default:"   {nth}  ,   ",upcoming:"   {nth}  ,   ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},   "},"sharp left":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"sharp right":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"slight right":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"slight left":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},straight:{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "}},continue:{default:{default:" {modifier}",name:" {modifier}  {way_name:dative}",destination:" {modifier}   {destination}",exit:" {modifier}  {way_name:accusative}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}",distance:"  {distance}",namedistance:"  {distance}  {way_name:dative}"},"sharp left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"sharp right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},uturn:{default:"",name:"     {way_name:dative}",destination:"   {destination}"}},depart:{default:{default:"  {direction} ",name:"  {direction}   {way_name:dative}",namedistance:" {distance}  {direction}   {way_name:dative}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},uturn:{default:"   ",name:"   {way_name:genitive}",destination:"      {destination}"}},fork:{default:{default:"   {modifier}",name:"   {modifier}  {way_name:accusative}",destination:"   {modifier}   {destination}"},"slight left":{default:"   ",name:"     {way_name:accusative}",destination:"         {destination}"},"slight right":{default:"   ",name:"     {way_name:accusative}",destination:"         {destination}"},"sharp left":{default:"    ",name:"    {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"    ",name:"    {way_name:accusative}",destination:"        {destination}"},uturn:{default:"  ",name:"    {way_name:prepositional}",destination:"        {destination}"}},merge:{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},"slight left":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"slight right":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"sharp left":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"sharp right":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"   {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},"sharp left":{default:"  ",name:"    {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"  ",name:"    {way_name:accusative}",destination:"        {destination}"},"slight left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"      {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name:dative}",destination:" {modifier}   {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"      {destination}"}},"off ramp":{default:{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}",exit:"   {exit}",exit_destination:"   {exit}   {destination}"},left:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit} ",exit_destination:"   {exit}    {destination}"},right:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit} ",exit_destination:"   {exit}    {destination}"},"sharp left":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"},"sharp right":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"},"slight left":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit}",exit_destination:"    {exit}   {destination}"},"slight right":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"}},"on ramp":{default:{default:"  ",name:"    {way_name:accusative}",destination:"       {destination}"},left:{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},right:{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"sharp left":{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"slight left":{default:"     ",name:"   {way_name:accusative}",destination:"      {destination}"},"slight right":{default:"     ",name:"   {way_name:accusative}",destination:"      {destination}"}},rotary:{default:{default:{default:"    ",name:"     {way_name:accusative}",destination:"      {destination}"},name:{default:"   {rotary_name:dative}",name:" {rotary_name:prepositional}   {way_name:accusative}",destination:" {rotary_name:prepositional}    {destination}"},exit:{default:"     {exit_number} ",name:"     {exit_number}   {way_name:accusative}",destination:"     {exit_number}    {destination}"},name_exit:{default:" {rotary_name:prepositional}   {exit_number} ",name:" {rotary_name:prepositional}   {exit_number}   {way_name:accusative}",destination:" {rotary_name:prepositional}   {exit_number}    {destination}"}}},roundabout:{default:{exit:{default:"     {exit_number} ",name:"     {exit_number}   {way_name:accusative}",destination:"     {exit_number}    {destination}"},default:{default:"    ",name:"     {way_name:accusative}",destination:"      {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},right:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"}},"exit roundabout":{default:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}"}},"exit rotary":{default:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}    {destination}"},left:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},right:{default:" ",name:"   {way_name:accusative}",destination:"     {destination}"},straight:{default:" ",name:"  {way_name:dative}",destination:"   {destination}"}},"use lane":{no_lanes:{default:"  "},default:{default:"{lane_instruction}"}}}}},{}],43:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1:a",2:"2:a",3:"3:e",4:"4:e",5:"5:e",6:"6:e",7:"7:e",8:"8:e",9:"9:e",10:"10:e"},direction:{north:"norr",northeast:"nordost",east:"ster",southeast:"sydost",south:"sder",southwest:"sydvst",west:"vster",northwest:"nordvst"},modifier:{left:"vnster",right:"hger","sharp left":"vnster","sharp right":"hger","slight left":"vnster","slight right":"hger",straight:"rakt fram",uturn:"U-svng"},lanes:{xo:"Hll till hger",ox:"Hll till vnster",xox:"Hll till mitten",oxo:"Hll till vnster eller hger"}},modes:{ferry:{default:"Ta frjan",name:"Ta frjan p {way_name}",destination:"Ta frjan mot {destination}"}},phrase:{"two linked by distance":"{instruction_one}, sedan efter {distance}, {instruction_two}","two linked":"{instruction_one}, sedan {instruction_two}","one in distance":"Om {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Du r framme vid din {nth} destination",upcoming:"Du r snart framme vid din {nth} destination",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}"},left:{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},right:{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"sharp left":{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},"sharp right":{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"slight right":{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"slight left":{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},straight:{default:"Du r framme vid din {nth} destination, rakt fram",upcoming:"Du r snart framme vid din {nth} destination, rakt fram",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, rakt fram"}},continue:{default:{default:"Svng {modifier}",name:"Svng {modifier} och fortstt p {way_name}",destination:"Svng {modifier} mot {destination}",exit:"Svng {modifier} in p {way_name}"},straight:{default:"Fortstt rakt fram",name:"Kr rakt fram och fortstt p {way_name}",destination:"Fortstt mot {destination}",distance:"Fortstt rakt fram i {distance}",namedistance:"Fortstt p {way_name} i {distance}"},"sharp left":{default:"Svng vnster",name:"Svng vnster och fortstt p {way_name}",destination:"Svng vnster mot {destination}"},"sharp right":{default:"Svng hger",name:"Svng hger och fortstt p {way_name}",destination:"Svng hger mot {destination}"},"slight left":{default:"Svng vnster",name:"Svng vnster och fortstt p {way_name}",destination:"Svng vnster mot {destination}"},"slight right":{default:"Svng hger",name:"Svng hger och fortstt p {way_name}",destination:"Svng hger mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng och fortstt p {way_name}",destination:"Gr en U-svng mot {destination}"}},depart:{default:{default:"Kr t {direction}",name:"Kr t {direction} p {way_name}",namedistance:"Kr {distance} t {direction} p {way_name}"}},"end of road":{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt rakt fram in p {way_name}",destination:"Fortstt rakt fram mot {destination}"},uturn:{default:"Gr en U-svng i slutet av vgen",name:"Gr en U-svng in p {way_name} i slutet av vgen",destination:"Gr en U-svng mot {destination} i slutet av vgen"}},fork:{default:{default:"Hll till {modifier} dr vgen delar sig",name:"Hll till {modifier} in p {way_name}",destination:"Hll till {modifier} mot {destination}"},"slight left":{default:"Hll till vnster dr vgen delar sig",name:"Hll till vnster in p {way_name}",destination:"Hll till vnster mot {destination}"},"slight right":{default:"Hll till hger dr vgen delar sig",name:"Hll till hger in p {way_name}",destination:"Hll till hger mot {destination}"},"sharp left":{default:"Svng vnster dr vgen delar sig",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},"sharp right":{default:"Svng hger dr vgen delar sig",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},merge:{default:{default:"Byt till {modifier} krflt",name:"Byt till {modifier} krflt, in p {way_name}",destination:"Byt till {modifier} krflt, mot {destination}"},straight:{default:"Fortstt",name:"Kr in p {way_name}",destination:"Kr mot {destination}"},"slight left":{default:"Byt till vnstra krfltet",name:"Byt till vnstra krfltet, in p {way_name}",destination:"Byt till vnstra krfltet, mot {destination}"},"slight right":{default:"Byt till hgra krfltet",name:"Byt till hgra krfltet, in p {way_name}",destination:"Byt till hgra krfltet, mot {destination}"},"sharp left":{default:"Byt till vnstra krfltet",name:"Byt till vnstra krfltet, in p {way_name}",destination:"Byt till vnstra krfltet, mot {destination}"},"sharp right":{default:"Byt till hgra krfltet",name:"Byt till hgra krfltet, in p {way_name}",destination:"Byt till hgra krfltet, mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},"new name":{default:{default:"Fortstt {modifier}",name:"Fortstt {modifier} p {way_name}",destination:"Fortstt {modifier} mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt in p {way_name}",destination:"Fortstt mot {destination}"},"sharp left":{default:"Gr en skarp vnstersvng",name:"Gr en skarp vnstersvng in p {way_name}",destination:"Gr en skarp vnstersvng mot {destination}"},"sharp right":{default:"Gr en skarp hgersvng",name:"Gr en skarp hgersvng in p {way_name}",destination:"Gr en skarp hgersvng mot {destination}"},"slight left":{default:"Fortstt med ltt vnstersvng",name:"Fortstt med ltt vnstersvng in p {way_name}",destination:"Fortstt med ltt vnstersvng mot {destination}"},"slight right":{default:"Fortstt med ltt hgersvng",name:"Fortstt med ltt hgersvng in p {way_name}",destination:"Fortstt med ltt hgersvng mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},notification:{default:{default:"Fortstt {modifier}",name:"Fortstt {modifier} p {way_name}",destination:"Fortstt {modifier} mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},"off ramp":{default:{default:"Ta avfarten",name:"Ta avfarten in p {way_name}",destination:"Ta avfarten mot {destination}",exit:"Ta avfart {exit} ",exit_destination:"Ta avfart {exit} mot {destination}"},left:{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart {exit} till vnster mot {destination}"},right:{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"},"sharp left":{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart {exit} till vnster mot {destination}"},"sharp right":{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"},"slight left":{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart{exit} till vnster mot {destination}"},"slight right":{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"}},"on ramp":{default:{default:"Ta pfarten",name:"Ta pfarten in p {way_name}",destination:"Ta pfarten mot {destination}"},left:{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},right:{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"},"sharp left":{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},"sharp right":{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"},"slight left":{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},"slight right":{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"}},rotary:{default:{default:{default:"Kr in i rondellen",name:"I rondellen, ta avfarten in p {way_name}",destination:"I rondellen, ta av mot {destination}"},name:{default:"Kr in i {rotary_name}",name:"I {rotary_name}, ta av in p {way_name}",destination:"I {rotary_name}, ta av mot {destination}"},exit:{default:"I rondellen, ta {exit_number} avfarten",name:"I rondellen, ta {exit_number} avfarten in p {way_name}",destination:"I rondellen, ta {exit_number} avfarten mot {destination}"},name_exit:{default:"I {rotary_name}, ta {exit_number} avfarten",name:"I {rotary_name}, ta {exit_number}  avfarten in p {way_name}",destination:"I {rotary_name}, ta {exit_number} avfarten mot {destination}"}}},roundabout:{default:{exit:{default:"I rondellen, ta {exit_number} avfarten",name:"I rondellen, ta {exit_number} avfarten in p {way_name}",destination:"I rondellen, ta {exit_number} avfarten mot {destination}"},default:{default:"Kr in i rondellen",name:"I rondellen, ta avfarten in p {way_name}",destination:"I rondellen, ta av mot {destination}"}}},"roundabout turn":{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},left:{default:"Svng vnster",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},right:{default:"Svng hger",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt rakt fram in p {way_name}",destination:"Fortstt rakt fram mot {destination}"}},"exit roundabout":{default:{default:"Kr ut ur rondellen",name:"Kr ut ur rondellen in p {way_name}",destination:"Kr ut ur rondellen mot {destination}"}},"exit rotary":{default:{default:"Kr ut ur rondellen",name:"Kr ut ur rondellen in p {way_name}",destination:"Kr ut ur rondellen mot {destination}"}},turn:{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},left:{default:"Svng vnster",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},right:{default:"Svng hger",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},straight:{default:"Kr rakt fram",name:"Kr rakt fram in p {way_name}",destination:"Kr rakt fram mot {destination}"}},"use lane":{no_lanes:{default:"Fortstt rakt fram"},default:{default:"{lane_instruction}"}}}}},{}],44:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"birinci",2:"ikinci",3:"nc",4:"drdnc",5:"beinci",6:"altnc",7:"yedinci",8:"sekizinci",9:"dokuzuncu",10:"onuncu"},direction:{north:"kuzey",northeast:"kuzeydou",east:"dou",southeast:"gneydou",south:"gney",southwest:"gneybat",west:"bat",northwest:"kuzeybat"},modifier:{left:"sol",right:"sa","sharp left":"keskin sol","sharp right":"keskin sa","slight left":"hafif sol","slight right":"hafif sa",straight:"dz",uturn:"U dn"},lanes:{xo:"Sada kaln",ox:"Solda kaln",xox:"Ortada kaln",oxo:"Solda veya sada kaln"}},modes:{ferry:{default:"Vapur kullan",name:"{way_name} vapurunu kullan",destination:"{destination} istikametine giden vapuru kullan"}},phrase:{"two linked by distance":"{instruction_one} ve {distance} sonra {instruction_two}","two linked":"{instruction_one} ve sonra {instruction_two}","one in distance":"{distance} sonra, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"{nth} hedefinize ulatnz",upcoming:"{nth} hedefinize ulatnz",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz"},left:{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},right:{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"sharp left":{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},"sharp right":{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"slight right":{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"slight left":{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},straight:{default:"{nth} hedefinize ulatnz, hedefiniz karnzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz karnzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz karnzdadr"}},continue:{default:{default:"{modifier} yne dn",name:"{way_name} zerinde kalmak iin {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn",exit:"{way_name} zerinde {modifier} yne dn"},straight:{default:"Dz devam edin",name:"{way_name} zerinde kalmak iin dz devam et",destination:"{destination} istikametinde devam et",distance:"{distance} boyunca dz devam et",namedistance:"{distance} boyunca {way_name} zerinde devam et"},"sharp left":{default:"Sola keskin dn yap",name:"{way_name} zerinde kalmak iin sola keskin dn yap",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"Saa keskin dn yap",name:"{way_name} zerinde kalmak iin saa keskin dn yap",destination:"{destination} istikametinde saa keskin dn yap"},"slight left":{default:"Sola hafif dn yap",name:"{way_name} zerinde kalmak iin sola hafif dn yap",destination:"{destination} istikametinde sola hafif dn yap"},"slight right":{default:"Saa hafif dn yap",name:"{way_name} zerinde kalmak iin saa hafif dn yap",destination:"{destination} istikametinde saa hafif dn yap"},uturn:{default:"U dn yapn",name:"Bir U-dn yap ve {way_name} devam et",destination:"{destination} istikametinde bir U-dn yap"}},depart:{default:{default:"{direction} tarafna ynelin",name:"{way_name} zerinde {direction} yne git",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"{modifier} tarafa dnn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},straight:{default:"Dz devam edin",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"},uturn:{default:"Yolun sonunda U dn yapn",name:"Yolun sonunda {way_name} zerinde bir U-dn yap",destination:"Yolun sonunda {destination} istikametinde bir U-dn yap"}},fork:{default:{default:"Yol ayrmnda {modifier} ynde kal",name:"{way_name} zerindeki yol ayrmnda {modifier} ynde kal",destination:"{destination} istikametindeki yol ayrmnda {modifier} ynde kal"},"slight left":{default:"ataln solundan devam edin",name:"ataln solundan {way_name} yoluna doru ",destination:"{destination} istikametindeki yol ayrmnda solda kal"},"slight right":{default:"ataln sandan devam edin",name:"{way_name} zerindeki yol ayrmnda sada kal",destination:"{destination} istikametindeki yol ayrmnda sada kal"},"sharp left":{default:"atalda keskin sola dnn",name:"{way_name} yoluna doru sola keskin dn yapn",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"atalda keskin saa dnn",name:"{way_name} yoluna doru saa keskin dn yapn",destination:"{destination} istikametinde saa keskin dn yap"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},merge:{default:{default:"{modifier} yne gir",name:"{way_name} zerinde {modifier} yne gir",destination:"{destination} istikametinde {modifier} yne gir"},straight:{default:"dz yne gir",name:"{way_name} zerinde dz yne gir",destination:"{destination} istikametinde dz yne gir"},"slight left":{default:"Sola gir",name:"{way_name} zerinde sola gir",destination:"{destination} istikametinde sola gir"},"slight right":{default:"Saa gir",name:"{way_name} zerinde saa gir",destination:"{destination} istikametinde saa gir"},"sharp left":{default:"Sola gir",name:"{way_name} zerinde sola gir",destination:"{destination} istikametinde sola gir"},"sharp right":{default:"Saa gir",name:"{way_name} zerinde saa gir",destination:"{destination} istikametinde saa gir"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},"new name":{default:{default:"{modifier} ynde devam et",name:"{way_name} zerinde {modifier} ynde devam et",destination:"{destination} istikametinde {modifier} ynde devam et"},straight:{default:"Dz devam et",name:"{way_name} zerinde devam et",destination:"{destination} istikametinde devam et"},"sharp left":{default:"Sola keskin dn yapn",name:"{way_name} yoluna doru sola keskin dn yapn",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"Saa keskin dn yapn",name:"{way_name} yoluna doru saa keskin dn yapn",destination:"{destination} istikametinde saa keskin dn yap"},"slight left":{default:"Hafif soldan devam edin",name:"{way_name} zerinde hafif solda devam et",destination:"{destination} istikametinde hafif solda devam et"},"slight right":{default:"Hafif sadan devam edin",name:"{way_name} zerinde hafif sada devam et",destination:"{destination} istikametinde hafif sada devam et"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},notification:{default:{default:"{modifier} ynde devam et",name:"{way_name} zerinde {modifier} ynde devam et",destination:"{destination} istikametinde {modifier} ynde devam et"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},"off ramp":{default:{default:"Balant yoluna ge",name:"{way_name} zerindeki balant yoluna ge",destination:"{destination} istikametine giden balant yoluna ge",exit:"{exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} k yoluna ge"},left:{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},right:{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"},"sharp left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},"sharp right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"},"slight left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},"slight right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"}},"on ramp":{default:{default:"Balant yoluna ge",name:"{way_name} zerindeki balant yoluna ge",destination:"{destination} istikametine giden balant yoluna ge"},left:{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},right:{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"},"sharp left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},"sharp right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"},"slight left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},"slight right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"}},rotary:{default:{default:{default:"Dnel kavaa gir",name:"Dnel kavaa gir ve {way_name} zerinde k",destination:"Dnel kavaa gir ve {destination} istikametinde k"},name:{default:"{rotary_name} dnel kavaa gir",name:"{rotary_name} dnel kavaa gir ve {way_name} zerinde k",destination:"{rotary_name} dnel kavaa gir ve {destination} istikametinde k"},exit:{default:"Dnel kavaa gir ve {exit_number} numaral ka gir",name:"Dnel kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"Dnel kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"},name_exit:{default:"{rotary_name} dnel kavaa gir ve {exit_number} numaral ka gir",name:"{rotary_name} dnel kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"{rotary_name} dnel kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"}}},roundabout:{default:{exit:{default:"Gbekli kavaa gir ve {exit_number} numaral ka gir",name:"Gbekli kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"Gbekli kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"},default:{default:"Gbekli kavaa gir",name:"Gbekli kavaa gir ve {way_name} zerinde k",destination:"Gbekli kavaa gir ve {destination} istikametinde k"}}},"roundabout turn":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},"exit roundabout":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},"exit rotary":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},turn:{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dnn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dnn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz git",name:"{way_name} zerinde dz git",destination:"{destination} istikametinde dz git"}},"use lane":{no_lanes:{default:"Dz devam edin"},default:{default:"{lane_instruction}"}}}}},{}],45:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"",northeast:" ",east:"",southeast:" ",south:"",southwest:" ",west:"",northwest:" "},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:""},lanes:{xo:" ",ox:" ",xox:"  ",oxo:"   "}},modes:{ferry:{default:" ",name:"  {way_name}",destination:"    {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ,  {distance}, {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"' {exit}"},arrive:{default:{default:"    {nth}  ",upcoming:"    {nth}  ",short:" ","short-upcoming":" ",named:"   {waypoint_name}"},left:{default:"    {nth}  ,  ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},right:{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"sharp left":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"sharp right":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"slight right":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"slight left":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},straight:{default:"    {nth}  ,     ",upcoming:"    {nth}  ,   ",short:" ","short-upcoming":" ",named:"   {waypoint_name}   "}},continue:{default:{default:" {modifier}",name:"{modifier}   {way_name}",destination:" {modifier}   {destination}",exit:" {modifier}  {way_name}"},straight:{default:"  ",name:"     {way_name}",destination:"   {destination}",distance:"   {distance}",namedistance:"   {way_name} {distance}"},"sharp left":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"sharp right":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"slight left":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"slight right":{default:"  ",name:"      {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"     {way_name}",destination:"    {destination}"}},depart:{default:{default:"  {direction}",name:"  {direction}  {way_name}",namedistance:"  {direction}  {way_name} {distance}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},straight:{default:"  ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:"    ",name:"   {way_name}   ",destination:"    {destination}   "}},fork:{default:{default:"   {modifier}",name:" {modifier}    {way_name}",destination:" {modifier}   {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"    {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"    {destination}"},"sharp left":{default:"    ",name:"    {way_name}",destination:"     {destination}"},"sharp right":{default:"    ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},merge:{default:{default:"   {modifier}",name:"   {modifier}  {way_name}",destination:"   {modifier}   {destination}"},straight:{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"  {way_name}",destination:"   {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"off ramp":{default:{default:"  ",name:"    {way_name}",destination:"     {destination}",exit:" ' {exit}",exit_destination:" ' {exit}   {destination}"},left:{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},right:{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"}},"on ramp":{default:{default:"  ",name:"    {way_name}",destination:"     {destination}"},left:{default:"   ",name:"     {way_name}",destination:"      {destination}"},right:{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}"}},rotary:{default:{default:{default:"  ",name:"    {way_name}",destination:"     {destination}"},name:{default:"  {rotary_name}",name:"  {rotary_name}    {way_name}",destination:"  {rotary_name}     {destination}"},exit:{default:"      {exit_number} '",name:"      {exit_number} '  {way_name}",destination:"      {exit_number} '   {destination}"},name_exit:{default:"  {rotary_name}    {exit_number} '",name:"  {rotary_name}    {exit_number} '  {way_name}",destination:"  {rotary_name}    {exit_number} '   {destination}"}}},roundabout:{default:{exit:{default:"      {exit_number} '",name:"      {exit_number} '  {way_name}",destination:"      {exit_number} '   {destination}"},default:{default:"  ",name:"    {way_name}",destination:"     {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name}",destination:"    {destination}"},right:{default:" ",name:"   {way_name}",destination:"    {destination}"},straight:{default:" ",name:"    {way_name}",destination:"     {destination}"}},"exit roundabout":{default:{default:" ",name:"   {way_name} ",destination:"    {destination}"}},"exit rotary":{default:{default:" ",name:"   {way_name} ",destination:"    {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name}",destination:"    {destination}"},right:{default:" ",name:"   {way_name}",destination:"    {destination}"},straight:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"use lane":{no_lanes:{default:"  "},default:{default:"{lane_instruction}"}}}}},{}],46:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"u tin",2:"th 2",3:"th 3",4:"th 4",5:"th 5",6:"th 6",7:"th 7",8:"th 8",9:"th 9",10:"th 10"},direction:{north:"bc",northeast:"ng bc",east:"ng",southeast:"ng nam",south:"nam",southwest:"ty nam",west:"ty",northwest:"ty bc"},modifier:{left:"tri",right:"phi","sharp left":"tri gt","sharp right":"phi gt","slight left":"tri nghing","slight right":"phi nghing",straight:"thng",uturn:"ngc"},lanes:{xo:"i bn phi",ox:"i bn tri",xox:"i vo gia",oxo:"i bn tri hay bn phi"}},modes:{ferry:{default:"Ln ph",name:"Ln ph {way_name}",destination:"Ln ph i {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ri {distance} na th {instruction_two}","two linked":"{instruction_one}, ri {instruction_two}","one in distance":"{distance} na th {instruction_one}","name and ref":"{name} ({ref})","exit with number":"li ra {exit}"},arrive:{default:{default:"n ni {nth}",upcoming:"n ni {nth}",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}"},left:{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},right:{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"sharp left":{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},"sharp right":{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"slight right":{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"slight left":{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},straight:{default:"n ni {nth}  trc mt",upcoming:"n ni {nth}  trc mt",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  trc mt"}},continue:{default:{default:"Quo {modifier}",name:"Quo {modifier}  chy tip trn {way_name}",destination:"Quo {modifier} v {destination}",exit:"Quo {modifier} vo {way_name}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}",distance:"Chy thng cho {distance}",namedistance:"Chy tip trn {way_name} cho {distance}"},"sharp left":{default:"Quo gt bn tri",name:"Quo gt bn tri  chy tip trn {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi",name:"Quo gt bn phi  chy tip trn {way_name}",destination:"Quo gt bn phi v {destination}"},"slight left":{default:"Nghing v bn tri",name:"Nghing v bn tri  chy tip trn {way_name}",destination:"Nghing v bn tri v {destination}"},"slight right":{default:"Nghing v bn phi",name:"Nghing v bn phi  chy tip trn {way_name}",destination:"Nghing v bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li trn {way_name}",destination:"Quo ngc v {destination}"}},depart:{default:{default:"i v hng {direction}",name:"i v hng {direction} trn {way_name}",namedistance:"i v hng {direction} trn {way_name} cho {distance}"}},"end of road":{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"},uturn:{default:"Quo ngc li ti cui ng",name:"Quo ngc vo {way_name} ti cui ng",destination:"Quo ngc v {destination} ti cui ng"}},fork:{default:{default:"i bn {modifier}  ng ba",name:"Gi bn {modifier} vo {way_name}",destination:"Gi bn {modifier} v {destination}"},"slight left":{default:"Nghing v bn tri  ng ba",name:"Gi bn tri vo {way_name}",destination:"Gi bn tri v {destination}"},"slight right":{default:"Nghing v bn phi  ng ba",name:"Gi bn phi vo {way_name}",destination:"Gi bn phi v {destination}"},"sharp left":{default:"Quo gt bn tri  ng ba",name:"Quo gt bn tri vo {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi  ng ba",name:"Quo gt bn phi vo {way_name}",destination:"Quo gt bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},merge:{default:{default:"Nhp sang {modifier}",name:"Nhp sang {modifier} vo {way_name}",destination:"Nhp sang {modifier} v {destination}"},straight:{default:"Nhp ng",name:"Nhp vo {way_name}",destination:"Nhp ng v {destination}"},"slight left":{default:"Nhp sang tri",name:"Nhp sang tri vo {way_name}",destination:"Nhp sang tri v {destination}"},"slight right":{default:"Nhp sang phi",name:"Nhp sang phi vo {way_name}",destination:"Nhp sang phi v {destination}"},"sharp left":{default:"Nhp sang tri",name:"Nhp sang tri vo {way_name}",destination:"Nhp sang tri v {destination}"},"sharp right":{default:"Nhp sang phi",name:"Nhp sang phi vo {way_name}",destination:"Nhp sang phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},"new name":{default:{default:"Chy tip bn {modifier}",name:"Chy tip bn {modifier} trn {way_name}",destination:"Chy tip bn {modifier} v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"},"sharp left":{default:"Quo gt bn tri",name:"Quo gt bn tri vo {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi",name:"Quo gt bn phi vo {way_name}",destination:"Quo gt bn phi v {destination}"},"slight left":{default:"Nghing v bn tri",name:"Nghing v bn tri vo {way_name}",destination:"Nghing v bn tri v {destination}"},"slight right":{default:"Nghing v bn phi",name:"Nghing v bn phi vo {way_name}",destination:"Nghing v bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},notification:{default:{default:"Chy tip bn {modifier}",name:"Chy tip bn {modifier} trn {way_name}",destination:"Chy tip bn {modifier} v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},"off ramp":{default:{default:"i ng nhnh",name:"i ng nhnh {way_name}",destination:"i ng nhnh v {destination}",exit:"i theo li ra {exit}",exit_destination:"i theo li ra {exit} v {destination}"},left:{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},right:{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"},"sharp left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},"sharp right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"},"slight left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},"slight right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"}},"on ramp":{default:{default:"i ng nhnh",name:"i ng nhnh {way_name}",destination:"i ng nhnh v {destination}"},left:{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},right:{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"},"sharp left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},"sharp right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"},"slight left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},"slight right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"}},rotary:{default:{default:{default:"i vo bng binh",name:"i vo bng binh v ra ti {way_name}",destination:"i vo bng binh v ra v {destination}"},name:{default:"i vo {rotary_name}",name:"i vo {rotary_name} v ra ti {way_name}",destination:"i v {rotary_name} v ra v {destination}"},exit:{default:"i vo bng binh v ra ti ng {exit_number}",name:"i vo bng binh v ra ti ng {exit_number} tc {way_name}",destination:"i vo bng binh v ra ti ng {exit_number} v {destination}"},name_exit:{default:"i vo {rotary_name} v ra ti ng {exit_number}",name:"i vo {rotary_name} v ra ti ng {exit_number} tc {way_name}",destination:"i vo {rotary_name} v ra ti ng {exit_number} v {destination}"}}},roundabout:{default:{exit:{default:"i vo bng binh v ra ti ng {exit_number}",name:"i vo bng binh v ra ti ng {exit_number} tc {way_name}",destination:"i vo bng binh v ra ti ng {exit_number} v {destination}"},default:{default:"i vo bng binh",name:"i vo bng binh v ra ti {way_name}",destination:"i vo bng binh v ra v {destination}"}}},"roundabout turn":{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},left:{default:"Quo tri",name:"Quo tri vo {way_name}",destination:"Quo tri v {destination}"},right:{default:"Quo phi",name:"Quo phi vo {way_name}",destination:"Quo phi v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"}},"exit roundabout":{default:{default:"Ra bng binh",name:"Ra bng binh vo {way_name}",destination:"Ra bng binh v {destination}"}},"exit rotary":{default:{default:"Ra bng binh",name:"Ra bng binh vo {way_name}",destination:"Ra bng binh v {destination}"}},turn:{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},left:{default:"Quo tri",name:"Quo tri vo {way_name}",destination:"Quo tri v {destination}"},right:{default:"Quo phi",name:"Quo phi vo {way_name}",destination:"Quo phi v {destination}"},straight:{default:"Chy thng",name:"Chy thng vo {way_name}",destination:"Chy thng v {destination}"}},"use lane":{no_lanes:{default:"Chy thng"},default:{default:"{lane_instruction}"}}}}},{}],47:[function(s,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:""},lanes:{xo:"",ox:"",xox:"",oxo:""}},modes:{ferry:{default:"",name:"{way_name}",destination:"{destination}"}},phrase:{"two linked by distance":"{instruction_one}{distance}{instruction_two}","two linked":"{instruction_one}{instruction_two}","one in distance":"{distance}{instruction_one}","name and ref":"{name}{ref}","exit with number":"{exit}"},arrive:{default:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},left:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},right:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"sharp left":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"sharp right":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"slight right":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"slight left":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},straight:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"}},continue:{default:{default:"{modifier}",name:"{way_name}{modifier}",destination:"{modifier}{destination}",exit:"{modifier}{way_name}"},straight:{default:"",name:"{way_name}",destination:"{destination}",distance:"{distance}",namedistance:"{way_name}{distance}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},depart:{default:{default:"{direction}",name:"{direction}{way_name}",namedistance:"{direction}{way_name}{distance}"}},"end of road":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},fork:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},merge:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},"new name":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},notification:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},"off ramp":{default:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"}},"on ramp":{default:{default:"",name:"{way_name}",destination:"{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"}},rotary:{default:{default:{default:"",name:"{way_name}",destination:"{destination}"},name:{default:"{rotary_name}",name:"{rotary_name}{way_name}",destination:"{rotary_name}{destination}"},exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},name_exit:{default:"{rotary_name}{exit_number}",name:"{rotary_name}{exit_number}{way_name}",destination:"{rotary_name}{exit_number}{destination}"}}},roundabout:{default:{exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},default:{default:"",name:"{way_name}",destination:"{destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"exit roundabout":{default:{default:"",name:"{way_name}",destination:"{destination}"}},"exit rotary":{default:{default:"",name:"{way_name}",destination:"{destination}"}},turn:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"use lane":{no_lanes:{default:""},default:{default:"{lane_instruction}"}}}}},{}],48:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{timeout:500,blurTimeout:100,noResultsMessage:"No results found."},initialize:function(r,o,a,d){n.setOptions(this,d),this._elem=r,this._resultFn=d.resultFn?n.Util.bind(d.resultFn,d.resultContext):null,this._autocomplete=d.autocompleteFn?n.Util.bind(d.autocompleteFn,d.autocompleteContext):null,this._selectFn=n.Util.bind(o,a),this._container=n.DomUtil.create("div","leaflet-routing-geocoder-result"),this._resultTable=n.DomUtil.create("table","",this._container),n.DomEvent.addListener(this._elem,"input",this._keyPressed,this),n.DomEvent.addListener(this._elem,"keypress",this._keyPressed,this),n.DomEvent.addListener(this._elem,"keydown",this._keyDown,this),n.DomEvent.addListener(this._elem,"blur",function(){this._isOpen&&this.close()},this)},close:function(){n.DomUtil.removeClass(this._container,"leaflet-routing-geocoder-result-open"),this._isOpen=!1},_open:function(){var r=this._elem.getBoundingClientRect();if(!this._container.parentElement){var o=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,a=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;this._container.style.left=r.left+o+"px",this._container.style.top=r.bottom+a+"px",this._container.style.width=r.right-r.left+"px",document.body.appendChild(this._container)}n.DomUtil.addClass(this._container,"leaflet-routing-geocoder-result-open"),this._isOpen=!0},_setResults:function(r){var o,a,d,p;for(delete this._selection,this._results=r;this._resultTable.firstChild;)this._resultTable.removeChild(this._resultTable.firstChild);for(o=0;o<r.length;o++)a=n.DomUtil.create("tr","",this._resultTable),a.setAttribute("data-result-index",o),d=n.DomUtil.create("td","",a),p=document.createTextNode(r[o].name),d.appendChild(p),n.DomEvent.addListener(d,"mousedown",n.DomEvent.preventDefault),n.DomEvent.addListener(d,"click",this._createClickListener(r[o]));o||(a=n.DomUtil.create("tr","",this._resultTable),d=n.DomUtil.create("td","leaflet-routing-geocoder-no-results",a),d.innerHTML=this.options.noResultsMessage),this._open(),r.length>0&&this._select(1)},_createClickListener:function(r){var o=this._resultSelected(r);return n.bind(function(){this._elem.blur(),o()},this)},_resultSelected:function(r){return n.bind(function(){this.close(),this._elem.value=r.name,this._lastCompletedText=r.name,this._selectFn(r)},this)},_keyPressed:function(r){var o;if(this._isOpen&&r.keyCode===13&&this._selection){o=parseInt(this._selection.getAttribute("data-result-index"),10),this._resultSelected(this._results[o])(),n.DomEvent.preventDefault(r);return}if(r.keyCode===13){n.DomEvent.preventDefault(r),this._complete(this._resultFn,!0);return}if(this._autocomplete&&document.activeElement===this._elem){this._timer&&clearTimeout(this._timer),this._timer=setTimeout(n.Util.bind(function(){this._complete(this._autocomplete)},this),this.options.timeout);return}this._unselect()},_select:function(r){var o=this._selection;o&&(n.DomUtil.removeClass(o.firstChild,"leaflet-routing-geocoder-selected"),o=o[r>0?"nextSibling":"previousSibling"]),o||(o=this._resultTable[r>0?"firstChild":"lastChild"]),o&&(n.DomUtil.addClass(o.firstChild,"leaflet-routing-geocoder-selected"),this._selection=o)},_unselect:function(){this._selection&&n.DomUtil.removeClass(this._selection.firstChild,"leaflet-routing-geocoder-selected"),delete this._selection},_keyDown:function(r){if(this._isOpen)switch(r.keyCode){case 27:this.close(),n.DomEvent.preventDefault(r);return;case 38:this._select(-1),n.DomEvent.preventDefault(r);return;case 40:this._select(1),n.DomEvent.preventDefault(r);return}},_complete:function(r,o){var a=this._elem.value;function d(p){this._lastCompletedText=a,o&&p.length===1?this._resultSelected(p[0])():this._setResults(p)}a&&(a!==this._lastCompletedText?r(a,d,this):o&&d.call(this,this._results))}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],49:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./itinerary"),o=s("./line"),a=s("./plan"),d=s("./osrm-v1");e.exports=r.extend({options:{fitSelectedRoutes:"smart",routeLine:function(p,g){return new o(p,g)},autoRoute:!0,routeWhileDragging:!1,routeDragInterval:500,waypointMode:"connect",showAlternatives:!1,defaultErrorHandler:function(p){console.error("Routing error:",p.error)}},initialize:function(p){n.Util.setOptions(this,p),this._router=this.options.router||new d(p),this._plan=this.options.plan||new a(this.options.waypoints,p),this._requestCount=0,r.prototype.initialize.call(this,p),this.on("routeselected",this._routeSelected,this),this.options.defaultErrorHandler&&this.on("routingerror",this.options.defaultErrorHandler),this._plan.on("waypointschanged",this._onWaypointsChanged,this),p.routeWhileDragging&&this._setupRouteDragging()},_onZoomEnd:function(){if(!(!this._selectedRoute||!this._router.requiresMoreDetail)){var p=this._map;this._router.requiresMoreDetail(this._selectedRoute,p.getZoom(),p.getBounds())&&this.route({callback:n.bind(function(g,x){var w;if(!g){for(w=0;w<x.length;w++)this._routes[w].properties=x[w].properties;this._updateLineCallback(g,x)}},this),simplifyGeometry:!1,geometryOnly:!0})}},onAdd:function(p){this.options.autoRoute&&this.route();var g=r.prototype.onAdd.call(this,p);return this._map=p,this._map.addLayer(this._plan),this._map.on("zoomend",this._onZoomEnd,this),this._plan.options.geocoder&&g.insertBefore(this._plan.createGeocoders(),g.firstChild),g},onRemove:function(p){if(p.off("zoomend",this._onZoomEnd,this),this._line&&p.removeLayer(this._line),p.removeLayer(this._plan),this._alternatives&&this._alternatives.length>0)for(var g=0,x=this._alternatives.length;g<x;g++)p.removeLayer(this._alternatives[g]);return r.prototype.onRemove.call(this,p)},getWaypoints:function(){return this._plan.getWaypoints()},setWaypoints:function(p){return this._plan.setWaypoints(p),this},spliceWaypoints:function(){var p=this._plan.spliceWaypoints.apply(this._plan,arguments);return p},getPlan:function(){return this._plan},getRouter:function(){return this._router},_routeSelected:function(p){var g=this._selectedRoute=p.route,x=this.options.showAlternatives&&p.alternatives,w=this.options.fitSelectedRoutes,S=w==="smart"&&!this._waypointsVisible()||w!=="smart"&&w;this._updateLines({route:g,alternatives:x}),S&&this._map.fitBounds(this._line.getBounds()),this.options.waypointMode==="snap"&&(this._plan.off("waypointschanged",this._onWaypointsChanged,this),this.setWaypoints(g.waypoints),this._plan.on("waypointschanged",this._onWaypointsChanged,this))},_waypointsVisible:function(){var p=this.getWaypoints(),g,x,w,S,E;try{for(g=this._map.getSize(),S=0;S<p.length;S++)E=this._map.latLngToLayerPoint(p[S].latLng),x?x.extend(E):x=n.bounds([E]);return w=x.getSize(),(w.x>g.x/5||w.y>g.y/5)&&this._waypointsInViewport()}catch{return!1}},_waypointsInViewport:function(){var p=this.getWaypoints(),g,x;try{g=this._map.getBounds()}catch{return!1}for(x=0;x<p.length;x++)if(g.contains(p[x].latLng))return!0;return!1},_updateLines:function(p){var g=this.options.addWaypoints!==void 0?this.options.addWaypoints:!0;this._clearLines(),this._alternatives=[],p.alternatives&&p.alternatives.forEach(function(x,w){this._alternatives[w]=this.options.routeLine(x,n.extend({isAlternative:!0},this.options.altLineOptions||this.options.lineOptions)),this._alternatives[w].addTo(this._map),this._hookAltEvents(this._alternatives[w])},this),this._line=this.options.routeLine(p.route,n.extend({addWaypoints:g,extendToWaypoints:this.options.waypointMode==="connect"},this.options.lineOptions)),this._line.addTo(this._map),this._hookEvents(this._line)},_hookEvents:function(p){p.on("linetouched",function(g){this._plan.dragNewWaypoint(g)},this)},_hookAltEvents:function(p){p.on("linetouched",function(g){var x=this._routes.slice(),w=x.splice(g.target._route.routesIndex,1)[0];this.fire("routeselected",{route:w,alternatives:x})},this)},_onWaypointsChanged:function(p){this.options.autoRoute&&this.route({}),this._plan.isReady()||(this._clearLines(),this._clearAlts()),this.fire("waypointschanged",{waypoints:p.waypoints})},_setupRouteDragging:function(){var p=0,g;this._plan.on("waypointdrag",n.bind(function(x){g=x.waypoints,p||(p=setTimeout(n.bind(function(){this.route({waypoints:g,geometryOnly:!0,callback:n.bind(this._updateLineCallback,this)}),p=void 0},this),this.options.routeDragInterval))},this)),this._plan.on("waypointdragend",function(){p&&(clearTimeout(p),p=void 0),this.route()},this)},_updateLineCallback:function(p,g){if(p)p.type!=="abort"&&this._clearLines();else{g=g.slice();var x=g.splice(this._selectedRoute.routesIndex,1)[0];this._updateLines({route:x,alternatives:this.options.showAlternatives?g:[]})}},route:function(p){var g=++this._requestCount,x;this._pendingRequest&&this._pendingRequest.abort&&(this._pendingRequest.abort(),this._pendingRequest=null),p=p||{},this._plan.isReady()&&(this.options.useZoomParameter&&(p.z=this._map&&this._map.getZoom()),x=p&&p.waypoints||this._plan.getWaypoints(),this.fire("routingstart",{waypoints:x}),this._pendingRequest=this._router.route(x,function(w,S){if(this._pendingRequest=null,p.callback)return p.callback.call(this,w,S);if(g===this._requestCount){if(this._clearLines(),this._clearAlts(),w&&w.type!=="abort"){this.fire("routingerror",{error:w});return}if(S.forEach(function(M,D){M.routesIndex=D}),!p.geometryOnly)this.fire("routesfound",{waypoints:x,routes:S}),this.setAlternatives(S);else{var E=S.splice(0,1)[0];this._routeSelected({route:E,alternatives:S})}}},this,p))},_clearLines:function(){if(this._line&&(this._map.removeLayer(this._line),delete this._line),this._alternatives&&this._alternatives.length){for(var p in this._alternatives)this._map.removeLayer(this._alternatives[p]);this._alternatives=[]}}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./itinerary":55,"./line":56,"./osrm-v1":59,"./plan":60}],50:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Control.extend({options:{header:"Routing error",formatMessage:function(r){return r.status<0?"Calculating the route caused an error. Technical description follows: <code><pre>"+r.message+"</pre></code":"The route could not be calculated. "+r.message}},initialize:function(r,o){n.Control.prototype.initialize.call(this,o),r.on("routingerror",n.bind(function(a){this._element&&(this._element.children[1].innerHTML=this.options.formatMessage(a.error),this._element.style.visibility="visible")},this)).on("routingstart",n.bind(function(){this._element&&(this._element.style.visibility="hidden")},this))},onAdd:function(){var r;return this._element=n.DomUtil.create("div","leaflet-bar leaflet-routing-error"),this._element.style.visibility="hidden",r=n.DomUtil.create("h3",null,this._element),n.DomUtil.create("span",null,this._element),r.innerHTML=this.options.header,this._element},onRemove:function(){delete this._element}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],51:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./localization");e.exports=n.Class.extend({options:{units:"metric",unitNames:null,language:"en",roundingSensitivity:1,distanceTemplate:"{value} {unit}"},initialize:function(o){n.setOptions(this,o);var a=n.Util.isArray(this.options.language)?this.options.language:[this.options.language,"en"];this._localization=new r(a)},formatDistance:function(o,a){var d=this.options.unitNames||this._localization.localize("units"),p=a<=0,g=p?function(E){return E}:n.bind(this._round,this),x,w,S;return this.options.units==="imperial"?(w=o/.9144,w>=1e3?S={value:g(o/1609.344,a),unit:d.miles}:S={value:g(w,a),unit:d.yards}):(x=g(o,a),S={value:x>=1e3?x/1e3:x,unit:x>=1e3?d.kilometers:d.meters}),p&&(S.value=S.value.toFixed(-a)),n.Util.template(this.options.distanceTemplate,S)},_round:function(o,a){var d=a||this.options.roundingSensitivity,p=Math.pow(10,(Math.floor(o/d)+"").length-1),g=Math.floor(o/p),x=g>5?p:p/2;return Math.round(o/x)*x},formatTime:function(o){var a=this.options.unitNames||this._localization.localize("units");return o=Math.round(o/30)*30,o>86400?Math.round(o/3600)+" "+a.hours:o>3600?Math.floor(o/3600)+" "+a.hours+" "+Math.round(o%3600/60)+" "+a.minutes:o>300?Math.round(o/60)+" "+a.minutes:o>60?Math.floor(o/60)+" "+a.minutes+(o%60!==0?" "+o%60+" "+a.seconds:""):o+" "+a.seconds},formatInstruction:function(o,a){return o.text===void 0?this.capitalize(n.Util.template(this._getInstructionTemplate(o,a),n.extend({},o,{exitStr:o.exit?this._localization.localize("formatOrder")(o.exit):"",dir:this._localization.localize(["directions",o.direction]),modifier:this._localization.localize(["directions",o.modifier])}))):o.text},getIconName:function(o,a){switch(o.type){case"Head":if(a===0)return"depart";break;case"WaypointReached":return"via";case"Roundabout":return"enter-roundabout";case"DestinationReached":return"arrive"}switch(o.modifier){case"Straight":return"continue";case"SlightRight":return"bear-right";case"Right":return"turn-right";case"SharpRight":return"sharp-right";case"TurnAround":case"Uturn":return"u-turn";case"SharpLeft":return"sharp-left";case"Left":return"turn-left";case"SlightLeft":return"bear-left"}},capitalize:function(o){return o.charAt(0).toUpperCase()+o.substring(1)},_getInstructionTemplate:function(o,a){var d=o.type==="Straight"?a===0?"Head":"Continue":o.type,p=this._localization.localize(["instructions",d]);return p||(p=[this._localization.localize(["directions",d])," "+this._localization.localize(["instructions","Onto"])]),p[0]+(p.length>1&&o.road?p[1]:"")}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./localization":57}],52:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./autocomplete"),o=s("./localization");function a(d){d.setSelectionRange?d.setSelectionRange(0,9999):d.select()}e.exports=n.Class.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{createGeocoder:function(d,p,g){var x=n.DomUtil.create("div","leaflet-routing-geocoder"),w=n.DomUtil.create("input","",x),S=g.addWaypoints?n.DomUtil.create("span","leaflet-routing-remove-waypoint",x):void 0;return w.disabled=!g.addWaypoints,{container:x,input:w,closeButton:S}},geocoderPlaceholder:function(d,p,g){var x=new o(g.options.language).localize("ui");return d===0?x.startPlaceholder:d<p-1?n.Util.template(x.viaPlaceholder,{viaNumber:d}):x.endPlaceholder},geocoderClass:function(){return""},waypointNameFallback:function(d){var p=d.lat<0?"S":"N",g=d.lng<0?"W":"E",x=(Math.round(Math.abs(d.lat)*1e4)/1e4).toString(),w=(Math.round(Math.abs(d.lng)*1e4)/1e4).toString();return p+x+", "+g+w},maxGeocoderTolerance:200,autocompleteOptions:{},language:"en"},initialize:function(d,p,g,x){n.setOptions(this,x);var w=this.options.createGeocoder(p,g,this.options),S=w.closeButton,E=w.input;E.setAttribute("placeholder",this.options.geocoderPlaceholder(p,g,this)),E.className=this.options.geocoderClass(p,g),this._element=w,this._waypoint=d,this.update(),E.value=d.name,n.DomEvent.addListener(E,"click",function(){a(this)},E),S&&n.DomEvent.addListener(S,"click",function(){this.fire("delete",{waypoint:this._waypoint})},this),new r(E,function(M){E.value=M.name,d.name=M.name,d.latLng=M.center,this.fire("geocoded",{waypoint:d,value:M})},this,n.extend({resultFn:this.options.geocoder.geocode,resultContext:this.options.geocoder,autocompleteFn:this.options.geocoder.suggest,autocompleteContext:this.options.geocoder},this.options.autocompleteOptions))},getContainer:function(){return this._element.container},setValue:function(d){this._element.input.value=d},update:function(d){var p=this._waypoint,g;p.name=p.name||"",p.latLng&&(d||!p.name)&&(g=this.options.waypointNameFallback(p.latLng),this.options.geocoder&&this.options.geocoder.reverse?this.options.geocoder.reverse(p.latLng,67108864,function(x){x.length>0&&x[0].center.distanceTo(p.latLng)<this.options.maxGeocoderTolerance?p.name=x[0].name:p.name=g,this._update()},this):(p.name=g,this._update()))},focus:function(){var d=this._element.input;d.focus(),a(d)},_update:function(){var d=this._waypoint,p=d&&d.name?d.name:"";this.setValue(p),this.fire("reversegeocoded",{waypoint:d,value:p})}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./autocomplete":48,"./localization":57}],53:[function(s,e,t){(function(i){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./control"),o=s("./itinerary"),a=s("./line"),d=s("./osrm-v1"),p=s("./plan"),g=s("./waypoint"),x=s("./autocomplete"),w=s("./formatter"),S=s("./geocoder-element"),E=s("./localization"),M=s("./itinerary-builder"),D=s("./mapbox"),O=s("./error-control");n.routing={control:function(N){return new r(N)},itinerary:function(N){return o(N)},line:function(N,H){return new a(N,H)},plan:function(N,H){return new p(N,H)},waypoint:function(N,H,X){return new g(N,H,X)},osrmv1:function(N){return new d(N)},localization:function(N){return new E(N)},formatter:function(N){return new w(N)},geocoderElement:function(N,H,X,U){return new n.Routing.GeocoderElement(N,H,X,U)},itineraryBuilder:function(N){return new M(N)},mapbox:function(N,H){return new D(N,H)},errorControl:function(N,H){return new O(N,H)},autocomplete:function(N,H,X,U){return new x(N,H,X,U)}},e.exports=n.Routing={Control:r,Itinerary:o,Line:a,OSRMv1:d,Plan:p,Waypoint:g,Autocomplete:x,Formatter:w,GeocoderElement:S,Localization:E,Formatter:w,ItineraryBuilder:M,control:n.routing.control,itinerary:n.routing.itinerary,line:n.routing.line,plan:n.routing.plan,waypoint:n.routing.waypoint,osrmv1:n.routing.osrmv1,geocoderElement:n.routing.geocoderElement,mapbox:n.routing.mapbox,errorControl:n.routing.errorControl}}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./autocomplete":48,"./control":49,"./error-control":50,"./formatter":51,"./geocoder-element":52,"./itinerary":55,"./itinerary-builder":54,"./line":56,"./localization":57,"./mapbox":58,"./osrm-v1":59,"./plan":60,"./waypoint":61}],54:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{containerClassName:""},initialize:function(r){n.setOptions(this,r)},createContainer:function(r){var o=n.DomUtil.create("table",(r||"")+" "+this.options.containerClassName),a=n.DomUtil.create("colgroup","",o);return n.DomUtil.create("col","leaflet-routing-instruction-icon",a),n.DomUtil.create("col","leaflet-routing-instruction-text",a),n.DomUtil.create("col","leaflet-routing-instruction-distance",a),o},createStepsContainer:function(){return n.DomUtil.create("tbody","")},createStep:function(r,o,a,d){var p=n.DomUtil.create("tr","",d),g,x;return x=n.DomUtil.create("td","",p),g=n.DomUtil.create("span","leaflet-routing-icon leaflet-routing-icon-"+a,x),x.appendChild(g),x=n.DomUtil.create("td","",p),x.appendChild(document.createTextNode(r)),x=n.DomUtil.create("td","",p),x.appendChild(document.createTextNode(o)),p}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],55:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./formatter"),o=s("./itinerary-builder");e.exports=n.Control.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{pointMarkerStyle:{radius:5,color:"#03f",fillColor:"white",opacity:1,fillOpacity:.7},summaryTemplate:"<h2>{name}</h2><h3>{distance}, {time}</h3>",timeTemplate:"{time}",containerClassName:"",alternativeClassName:"",minimizedClassName:"",itineraryClassName:"",totalDistanceRoundingSensitivity:-1,show:!0,collapsible:void 0,collapseBtn:function(a){var d=n.DomUtil.create("span",a.options.collapseBtnClass);n.DomEvent.on(d,"click",a._toggle,a),a._container.insertBefore(d,a._container.firstChild)},collapseBtnClass:"leaflet-routing-collapse-btn"},initialize:function(a){n.setOptions(this,a),this._formatter=this.options.formatter||new r(this.options),this._itineraryBuilder=this.options.itineraryBuilder||new o({containerClassName:this.options.itineraryClassName})},onAdd:function(a){var d=this.options.collapsible;return d=d||d===void 0&&a.getSize().x<=640,this._container=n.DomUtil.create("div","leaflet-routing-container leaflet-bar "+(this.options.show?"":"leaflet-routing-container-hide ")+(d?"leaflet-routing-collapsible ":"")+this.options.containerClassName),this._altContainer=this.createAlternativesContainer(),this._container.appendChild(this._altContainer),n.DomEvent.disableClickPropagation(this._container),n.DomEvent.addListener(this._container,"mousewheel",function(p){n.DomEvent.stopPropagation(p)}),d&&this.options.collapseBtn(this),this._container},onRemove:function(){},createAlternativesContainer:function(){return n.DomUtil.create("div","leaflet-routing-alternatives-container")},setAlternatives:function(a){var d,p,g;for(this._clearAlts(),this._routes=a,d=0;d<this._routes.length;d++)p=this._routes[d],g=this._createAlternative(p,d),this._altContainer.appendChild(g),this._altElements.push(g);return this._selectRoute({route:this._routes[0],alternatives:this._routes.slice(1)}),this},show:function(){n.DomUtil.removeClass(this._container,"leaflet-routing-container-hide")},hide:function(){n.DomUtil.addClass(this._container,"leaflet-routing-container-hide")},_toggle:function(){var a=n.DomUtil.hasClass(this._container,"leaflet-routing-container-hide");this[a?"show":"hide"]()},_createAlternative:function(a,d){var p=n.DomUtil.create("div","leaflet-routing-alt "+this.options.alternativeClassName+(d>0?" leaflet-routing-alt-minimized "+this.options.minimizedClassName:"")),g=this.options.summaryTemplate,x=n.extend({name:a.name,distance:this._formatter.formatDistance(a.summary.totalDistance,this.options.totalDistanceRoundingSensitivity),time:this._formatter.formatTime(a.summary.totalTime)},a);return p.innerHTML=typeof g=="function"?g(x):n.Util.template(g,x),n.DomEvent.addListener(p,"click",this._onAltClicked,this),this.on("routeselected",this._selectAlt,this),p.appendChild(this._createItineraryContainer(a)),p},_clearAlts:function(){for(var a=this._altContainer;a&&a.firstChild;)a.removeChild(a.firstChild);this._altElements=[]},_createItineraryContainer:function(a){var d=this._itineraryBuilder.createContainer(),p=this._itineraryBuilder.createStepsContainer(),g,x,w,S,E,M;for(d.appendChild(p),g=0;g<a.instructions.length;g++)x=a.instructions[g],E=this._formatter.formatInstruction(x,g),S=this._formatter.formatDistance(x.distance),M=this._formatter.getIconName(x,g),w=this._itineraryBuilder.createStep(E,S,M,p),x.index&&this._addRowListeners(w,a.coordinates[x.index]);return d},_addRowListeners:function(a,d){n.DomEvent.addListener(a,"mouseover",function(){this._marker=n.circleMarker(d,this.options.pointMarkerStyle).addTo(this._map)},this),n.DomEvent.addListener(a,"mouseout",function(){this._marker&&(this._map.removeLayer(this._marker),delete this._marker)},this),n.DomEvent.addListener(a,"click",function(p){this._map.panTo(d),n.DomEvent.stopPropagation(p)},this)},_onAltClicked:function(a){for(var d=a.target||window.event.srcElement;!n.DomUtil.hasClass(d,"leaflet-routing-alt");)d=d.parentElement;var p=this._altElements.indexOf(d),g=this._routes.slice(),x=g.splice(p,1)[0];this.fire("routeselected",{route:x,alternatives:g})},_selectAlt:function(a){var d,p,g,x;if(d=this._altElements[a.route.routesIndex],n.DomUtil.hasClass(d,"leaflet-routing-alt-minimized"))for(p=0;p<this._altElements.length;p++)g=this._altElements[p],x=p===a.route.routesIndex?"removeClass":"addClass",n.DomUtil[x](g,"leaflet-routing-alt-minimized"),this.options.minimizedClassName&&n.DomUtil[x](g,this.options.minimizedClassName),p!==a.route.routesIndex&&(g.scrollTop=0);n.DomEvent.stop(a)},_selectRoute:function(a){this._marker&&(this._map.removeLayer(this._marker),delete this._marker),this.fire("routeselected",a)}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./formatter":51,"./itinerary-builder":54}],56:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.LayerGroup.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{styles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"red",opacity:1,weight:2}],missingRouteStyles:[{color:"black",opacity:.15,weight:7},{color:"white",opacity:.6,weight:4},{color:"gray",opacity:.8,weight:2,dashArray:"7,12"}],addWaypoints:!0,extendToWaypoints:!0,missingRouteTolerance:10},initialize:function(r,o){n.setOptions(this,o),n.LayerGroup.prototype.initialize.call(this,o),this._route=r,this.options.extendToWaypoints&&this._extendToWaypoints(),this._addSegment(r.coordinates,this.options.styles,this.options.addWaypoints)},getBounds:function(){return n.latLngBounds(this._route.coordinates)},_findWaypointIndices:function(){var r=this._route.inputWaypoints,o=[],a;for(a=0;a<r.length;a++)o.push(this._findClosestRoutePoint(r[a].latLng));return o},_findClosestRoutePoint:function(r){var o=Number.MAX_VALUE,a,d,p;for(d=this._route.coordinates.length-1;d>=0;d--)p=r.distanceTo(this._route.coordinates[d]),p<o&&(a=d,o=p);return a},_extendToWaypoints:function(){var r=this._route.inputWaypoints,o=this._getWaypointIndices(),a,d,p;for(a=0;a<r.length;a++)d=r[a].latLng,p=n.latLng(this._route.coordinates[o[a]]),d.distanceTo(p)>this.options.missingRouteTolerance&&this._addSegment([d,p],this.options.missingRouteStyles)},_addSegment:function(r,o,a){var d,p;for(d=0;d<o.length;d++)p=n.polyline(r,o[d]),this.addLayer(p),a&&p.on("mousedown",this._onLineTouched,this)},_findNearestWpBefore:function(r){for(var o=this._getWaypointIndices(),a=o.length-1;a>=0&&o[a]>r;)a--;return a},_onLineTouched:function(r){var o=this._findNearestWpBefore(this._findClosestRoutePoint(r.latlng));this.fire("linetouched",{afterIndex:o,latlng:r.latlng}),n.DomEvent.stop(r)},_getWaypointIndices:function(){return this._wpIndices||(this._wpIndices=this._route.waypointIndices||this._findWaypointIndices()),this._wpIndices}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],57:[function(s,e,t){(function(){var i={directions:{N:"norte",NE:"noreste",E:"este",SE:"sureste",S:"sur",SW:"suroeste",W:"oeste",NW:"noroeste",SlightRight:"leve giro a la derecha",Right:"derecha",SharpRight:"giro pronunciado a la derecha",SlightLeft:"leve giro a la izquierda",Left:"izquierda",SharpLeft:"giro pronunciado a la izquierda",Uturn:"media vuelta"},instructions:{Head:["Derecho {dir}"," sobre {road}"],Continue:["Continuar {dir}"," en {road}"],TurnAround:["Dar vuelta"],WaypointReached:["Lleg a un punto del camino"],Roundabout:["Tomar {exitStr} salida en la rotonda"," en {road}"],DestinationReached:["Llegada a destino"],Fork:["En el cruce gira a {modifier}"," hacia {road}"],Merge:["Incorprate {modifier}"," hacia {road}"],OnRamp:["Gira {modifier} en la salida"," hacia {road}"],OffRamp:["Toma la salida {modifier}"," hacia {road}"],EndOfRoad:["Gira {modifier} al final de la carretera"," hacia {road}"],Onto:"hacia {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Inicio",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Destino"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}};L.Routing=L.Routing||{};var n=L.Class.extend({initialize:function(r){this._langs=L.Util.isArray(r)?r.slice():[r,"en"];for(var o=0,a=this._langs.length;o<a;o++){var d=/([A-Za-z]+)/.exec(this._langs[o])[1];if(!n[this._langs[o]])if(n[d])this._langs[o]=d;else throw new Error('No localization for language "'+this._langs[o]+'".')}},localize:function(r){var o,a,d;r=L.Util.isArray(r)?r:[r];for(var p=0,g=this._langs.length;p<g;p++){o=n[this._langs[p]];for(var x=0,w=r.length;o&&x<w;x++)a=r[x],d=o[a],o=d;if(d)return d}}});e.exports=L.extend(n,{en:{directions:{N:"north",NE:"northeast",E:"east",SE:"southeast",S:"south",SW:"southwest",W:"west",NW:"northwest",SlightRight:"slight right",Right:"right",SharpRight:"sharp right",SlightLeft:"slight left",Left:"left",SharpLeft:"sharp left",Uturn:"Turn around"},instructions:{Head:["Head {dir}"," on {road}"],Continue:["Continue {dir}"],TurnAround:["Turn around"],WaypointReached:["Waypoint reached"],Roundabout:["Take the {exitStr} exit in the roundabout"," onto {road}"],DestinationReached:["Destination reached"],Fork:["At the fork, turn {modifier}"," onto {road}"],Merge:["Merge {modifier}"," onto {road}"],OnRamp:["Turn {modifier} on the ramp"," onto {road}"],OffRamp:["Take the ramp on the {modifier}"," onto {road}"],EndOfRoad:["Turn {modifier} at the end of the road"," onto {road}"],Onto:"onto {road}"},formatOrder:function(r){var o=r%10-1,a=["st","nd","rd"];return a[o]?r+a[o]:r+"th"},ui:{startPlaceholder:"Start",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"End"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}},de:{directions:{N:"Norden",NE:"Nordosten",E:"Osten",SE:"Sdosten",S:"Sden",SW:"Sdwesten",W:"Westen",NW:"Nordwesten",SlightRight:"leicht rechts",Right:"rechts",SharpRight:"scharf rechts",SlightLeft:"leicht links",Left:"links",SharpLeft:"scharf links",Uturn:"Wenden"},instructions:{Head:["Richtung {dir}"," auf {road}"],Continue:["Geradeaus Richtung {dir}"," auf {road}"],SlightRight:["Leicht rechts abbiegen"," auf {road}"],Right:["Rechts abbiegen"," auf {road}"],SharpRight:["Scharf rechts abbiegen"," auf {road}"],TurnAround:["Wenden"],SharpLeft:["Scharf links abbiegen"," auf {road}"],Left:["Links abbiegen"," auf {road}"],SlightLeft:["Leicht links abbiegen"," auf {road}"],WaypointReached:["Zwischenhalt erreicht"],Roundabout:["Nehmen Sie die {exitStr} Ausfahrt im Kreisverkehr"," auf {road}"],DestinationReached:["Sie haben ihr Ziel erreicht"],Fork:["An der Kreuzung {modifier}"," auf {road}"],Merge:["Fahren Sie {modifier} weiter"," auf {road}"],OnRamp:["Fahren Sie {modifier} auf die Auffahrt"," auf {road}"],OffRamp:["Nehmen Sie die Ausfahrt {modifier}"," auf {road}"],EndOfRoad:["Fahren Sie {modifier} am Ende der Strae"," auf {road}"],Onto:"auf {road}"},formatOrder:function(r){return r+"."},ui:{startPlaceholder:"Start",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Ziel"}},sv:{directions:{N:"norr",NE:"nordost",E:"st",SE:"sydost",S:"syd",SW:"sydvst",W:"vst",NW:"nordvst",SlightRight:"svagt hger",Right:"hger",SharpRight:"skarpt hger",SlightLeft:"svagt vnster",Left:"vnster",SharpLeft:"skarpt vnster",Uturn:"Vnd"},instructions:{Head:["k t {dir}"," till {road}"],Continue:["Fortstt {dir}"],SlightRight:["Svagt hger"," till {road}"],Right:["Svng hger"," till {road}"],SharpRight:["Skarpt hger"," till {road}"],TurnAround:["Vnd"],SharpLeft:["Skarpt vnster"," till {road}"],Left:["Svng vnster"," till {road}"],SlightLeft:["Svagt vnster"," till {road}"],WaypointReached:["Viapunkt ndd"],Roundabout:["Tag {exitStr} avfarten i rondellen"," till {road}"],DestinationReached:["Framme vid resans ml"],Fork:["Tag av {modifier}"," till {road}"],Merge:["Anslut {modifier} "," till {road}"],OnRamp:["Tag pfarten {modifier}"," till {road}"],OffRamp:["Tag avfarten {modifier}"," till {road}"],EndOfRoad:["Svng {modifier} vid vgens slut"," till {road}"],Onto:"till {road}"},formatOrder:function(r){return["frsta","andra","tredje","fjrde","femte","sjtte","sjunde","ttonde","nionde","tionde"][r-1]},ui:{startPlaceholder:"Frn",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Till"}},es:i,sp:i,nl:{directions:{N:"noordelijke",NE:"noordoostelijke",E:"oostelijke",SE:"zuidoostelijke",S:"zuidelijke",SW:"zuidewestelijke",W:"westelijke",NW:"noordwestelijke"},instructions:{Head:["Vertrek in {dir} richting"," de {road} op"],Continue:["Ga in {dir} richting"," de {road} op"],SlightRight:["Volg de weg naar rechts"," de {road} op"],Right:["Ga rechtsaf"," de {road} op"],SharpRight:["Ga scherpe bocht naar rechts"," de {road} op"],TurnAround:["Keer om"],SharpLeft:["Ga scherpe bocht naar links"," de {road} op"],Left:["Ga linksaf"," de {road} op"],SlightLeft:["Volg de weg naar links"," de {road} op"],WaypointReached:["Aangekomen bij tussenpunt"],Roundabout:["Neem de {exitStr} afslag op de rotonde"," de {road} op"],DestinationReached:["Aangekomen op eindpunt"]},formatOrder:function(r){return r===1||r>=20?r+"ste":r+"de"},ui:{startPlaceholder:"Vertrekpunt",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Bestemming"}},fr:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-ouest",W:"ouest",NW:"nord-ouest"},instructions:{Head:["Tout droit au {dir}"," sur {road}"],Continue:["Continuer au {dir}"," sur {road}"],SlightRight:["Lgrement  droite"," sur {road}"],Right:["A droite"," sur {road}"],SharpRight:["Compltement  droite"," sur {road}"],TurnAround:["Faire demi-tour"],SharpLeft:["Compltement  gauche"," sur {road}"],Left:["A gauche"," sur {road}"],SlightLeft:["Lgrement  gauche"," sur {road}"],WaypointReached:["Point d'tape atteint"],Roundabout:["Au rond-point, prenez la {exitStr} sortie"," sur {road}"],DestinationReached:["Destination atteinte"]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Dpart",viaPlaceholder:"Intermdiaire {viaNumber}",endPlaceholder:"Arrive"}},it:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-ovest",W:"ovest",NW:"nord-ovest"},instructions:{Head:["Dritto verso {dir}"," su {road}"],Continue:["Continuare verso {dir}"," su {road}"],SlightRight:["Mantenere la destra"," su {road}"],Right:["A destra"," su {road}"],SharpRight:["Strettamente a destra"," su {road}"],TurnAround:["Fare inversione di marcia"],SharpLeft:["Strettamente a sinistra"," su {road}"],Left:["A sinistra"," sur {road}"],SlightLeft:["Mantenere la sinistra"," su {road}"],WaypointReached:["Punto di passaggio raggiunto"],Roundabout:["Alla rotonda, prendere la {exitStr} uscita"],DestinationReached:["Destinazione raggiunta"]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Partenza",viaPlaceholder:"Intermedia {viaNumber}",endPlaceholder:"Destinazione"}},pt:{directions:{N:"norte",NE:"nordeste",E:"leste",SE:"sudeste",S:"sul",SW:"sudoeste",W:"oeste",NW:"noroeste",SlightRight:"curva ligeira a direita",Right:"direita",SharpRight:"curva fechada a direita",SlightLeft:"ligeira a esquerda",Left:"esquerda",SharpLeft:"curva fechada a esquerda",Uturn:"Meia volta"},instructions:{Head:["Siga {dir}"," na {road}"],Continue:["Continue {dir}"," na {road}"],SlightRight:["Curva ligeira a direita"," na {road}"],Right:["Curva a direita"," na {road}"],SharpRight:["Curva fechada a direita"," na {road}"],TurnAround:["Retorne"],SharpLeft:["Curva fechada a esquerda"," na {road}"],Left:["Curva a esquerda"," na {road}"],SlightLeft:["Curva ligueira a esquerda"," na {road}"],WaypointReached:["Ponto de interesse atingido"],Roundabout:["Pegue a {exitStr} sada na rotatria"," na {road}"],DestinationReached:["Destino atingido"],Fork:["Na encruzilhada, vire a {modifier}"," na {road}"],Merge:["Entre  {modifier}"," na {road}"],OnRamp:["Vire {modifier} na rampa"," na {road}"],OffRamp:["Entre na rampa na {modifier}"," na {road}"],EndOfRoad:["Vire {modifier} no fim da rua"," na {road}"],Onto:"na {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Origem",viaPlaceholder:"Intermdio {viaNumber}",endPlaceholder:"Destino"}},sk:{directions:{N:"sever",NE:"serverovchod",E:"vchod",SE:"juhovchod",S:"juh",SW:"juhozpad",W:"zpad",NW:"serverozpad"},instructions:{Head:["Mierte na {dir}"," na {road}"],Continue:["Pokraujte na {dir}"," na {road}"],SlightRight:["Mierne doprava"," na {road}"],Right:["Doprava"," na {road}"],SharpRight:["Prudko doprava"," na {road}"],TurnAround:["Otote sa"],SharpLeft:["Prudko doava"," na {road}"],Left:["Doava"," na {road}"],SlightLeft:["Mierne doava"," na {road}"],WaypointReached:["Ste v prejazdovom bode."],Roundabout:["Odbote na {exitStr} vjazde"," na {road}"],DestinationReached:["Prili ste do ciea."]},formatOrder:function(r){var o=r%10-1,a=[".",".","."];return a[o]?r+a[o]:r+"."},ui:{startPlaceholder:"Zaiatok",viaPlaceholder:"Cez {viaNumber}",endPlaceholder:"Koniec"}},el:{directions:{N:"",NE:"",E:"",SE:"",S:"",SW:"",W:"",NW:""},instructions:{Head:[" {dir}","  {road}"],Continue:[" {dir}","  {road}"],SlightRight:[" ","  {road}"],Right:["","  {road}"],SharpRight:["  ","  {road}"],TurnAround:[" "],SharpLeft:["  ","  {road}"],Left:["","  {road}"],SlightLeft:[" ","  {road}"],WaypointReached:["   "],Roundabout:["  {exitStr}    ","  {road}"],DestinationReached:["   "]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"",viaPlaceholder:" {viaNumber}",endPlaceholder:""}},ca:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-oest",W:"oest",NW:"nord-oest",SlightRight:"lleu gir a la dreta",Right:"dreta",SharpRight:"gir pronunciat a la dreta",SlightLeft:"gir pronunciat a l'esquerra",Left:"esquerra",SharpLeft:"lleu gir a l'esquerra",Uturn:"mitja volta"},instructions:{Head:["Recte {dir}"," sobre {road}"],Continue:["Continuar {dir}"],TurnAround:["Donar la volta"],WaypointReached:["Ha arribat a un punt del cam"],Roundabout:["Agafar {exitStr} sortida a la rotonda"," a {road}"],DestinationReached:["Arribada al dest"],Fork:["A la crulla gira a la {modifier}"," cap a {road}"],Merge:["Incorpora't {modifier}"," a {road}"],OnRamp:["Gira {modifier} a la sortida"," cap a {road}"],OffRamp:["Pren la sortida {modifier}"," cap a {road}"],EndOfRoad:["Gira {modifier} al final de la carretera"," cap a {road}"],Onto:"cap a {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Origen",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Dest"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}},ru:{directions:{N:"",NE:"",E:"",SE:"",S:"",SW:"",W:"",NW:"",SlightRight:" ",Right:"",SharpRight:" ",SlightLeft:" ",Left:"",SharpLeft:" ",Uturn:""},instructions:{Head:["   {dir}","  {road}"],Continue:["   {dir}","  {road}"],SlightRight:["  ","  {road}"],Right:["","  {road}"],SharpRight:["  ","  {road}"],TurnAround:[""],SharpLeft:["  ","  {road}"],Left:[" ","  {road}"],SlightLeft:["  ","  {road}"],WaypointReached:[" "],Roundabout:["{exitStr}   ","  {road}"],DestinationReached:[" "],Fork:["   {modifier}","  {road}"],Merge:[" {modifier}","  {road}"],OnRamp:[" {modifier}  ","  {road}"],OffRamp:["  {modifier}","  {road}"],EndOfRoad:[" {modifier}   ","  {road}"],Onto:" {road}"},formatOrder:function(r){return r+"-"},ui:{startPlaceholder:"",viaPlaceholder:" {viaNumber}",endPlaceholder:""},units:{meters:"",kilometers:"",yards:"",miles:"",hours:"",minutes:"",seconds:""}},pl:{directions:{N:"pnoc",NE:"pnocny wschd",E:"wschd",SE:"poudniowy wschd",S:"poudnie",SW:"poudniowy zachd",W:"zachd",NW:"pnocny zachd",SlightRight:"lekko w prawo",Right:"w prawo",SharpRight:"ostro w prawo",SlightLeft:"lekko w lewo",Left:"w lewo",SharpLeft:"ostro w lewo",Uturn:"zawr"},instructions:{Head:["Kieruj si na {dir}"," na {road}"],Continue:["Jed dalej przez {dir}"],TurnAround:["Zawr"],WaypointReached:["Punkt poredni"],Roundabout:["Wyjed {exitStr} zjazdem na rondzie"," na {road}"],DestinationReached:["Dojechano do miejsca docelowego"],Fork:["Na rozwidleniu {modifier}"," na {road}"],Merge:["Zjed {modifier}"," na {road}"],OnRamp:["Wjazd {modifier}"," na {road}"],OffRamp:["Zjazd {modifier}"," na {road}"],EndOfRoad:["Skr {modifier} na kocu drogi"," na {road}"],Onto:"na {road}"},formatOrder:function(r){return r+"."},ui:{startPlaceholder:"Pocztek",viaPlaceholder:"Przez {viaNumber}",endPlaceholder:"Koniec"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"godz",minutes:"min",seconds:"s"}}})})()},{}],58:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./osrm-v1");e.exports=r.extend({options:{serviceUrl:"https://api.mapbox.com/directions/v5",profile:"mapbox/driving",useHints:!1},initialize:function(o,a){n.Routing.OSRMv1.prototype.initialize.call(this,a),this.options.requestParameters=this.options.requestParameters||{},this.options.requestParameters.access_token=o}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./osrm-v1":59}],59:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("@mapbox/corslite"),o=s("@mapbox/polyline"),a=s("osrm-text-instructions")("v5"),d=s("./waypoint");e.exports=n.Class.extend({options:{serviceUrl:"https://router.project-osrm.org/route/v1",profile:"driving",timeout:30*1e3,routingOptions:{alternatives:!0,steps:!0},polylinePrecision:5,useHints:!0,suppressDemoServerWarning:!1,language:"en"},initialize:function(p){n.Util.setOptions(this,p),this._hints={locations:{}},!this.options.suppressDemoServerWarning&&this.options.serviceUrl.indexOf("//router.project-osrm.org")>=0&&console.warn(`You are using OSRM's demo server. Please note that it is **NOT SUITABLE FOR PRODUCTION USE**.
Refer to the demo server's usage policy: https://github.com/Project-OSRM/osrm-backend/wiki/Api-usage-policy

To change, set the serviceUrl option.

Please do not report issues with this server to neither Leaflet Routing Machine or OSRM - it's for
demo only, and will sometimes not be available, or work in unexpected ways.

Please set up your own OSRM server, or use a paid service provider for production.`)},route:function(p,g,x,w){var S=!1,E=[],M,D,O,N,H;for(w=n.extend({},this.options.routingOptions,w),M=this.buildRouteUrl(p,w),this.options.requestParameters&&(M+=n.Util.getParamString(this.options.requestParameters,M)),D=setTimeout(function(){S=!0,g.call(x||g,{status:-1,message:"OSRM request timed out."})},this.options.timeout),N=0;N<p.length;N++)O=p[N],E.push(new d(O.latLng,O.name,O.options));return H=r(M,n.bind(function(X,U){var Q,Y={};if(clearTimeout(D),S)H.abort();else{if(X)Y.message="HTTP request failed: "+X.type+(X.target&&X.target.status?" HTTP "+X.target.status+": "+X.target.statusText:""),Y.url=M,Y.status=-1,Y.target=X;else try{Q=JSON.parse(U.responseText);try{return this._routeDone(Q,E,w,g,x)}catch(te){Y.status=-3,Y.message=te.toString()}}catch(te){Y.status=-2,Y.message="Error parsing OSRM response: "+te.toString()}g.call(x||g,Y)}},this))},requiresMoreDetail:function(p,g,x){if(!p.properties.isSimplified)return!1;var w=p.inputWaypoints,S;for(S=0;S<w.length;++S)if(!x.contains(w[S].latLng))return!0;return!1},_routeDone:function(p,g,x,w,S){var E=[],M,D,O;if(S=S||w,p.code!=="Ok"){w.call(S,{status:p.code});return}for(M=this._toWaypoints(g,p.waypoints),D=0;D<p.routes.length;D++)O=this._convertRoute(p.routes[D]),O.inputWaypoints=g,O.waypoints=M,O.properties={isSimplified:!x||!x.geometryOnly||x.simplifyGeometry},E.push(O);this._saveHintData(p.waypoints,g),w.call(S,null,E)},_convertRoute:function(p){var g={name:"",coordinates:[],instructions:[],summary:{totalDistance:p.distance,totalTime:p.duration}},x=[],w=[],S=0,E=p.legs.length,M=p.legs[0].steps.length>0,D,O,N,H,X,U,Q,Y,te;for(this.options.stepToText?te=this.options.stepToText:te=n.bind(a.compile,a,this.options.language),D=0;D<E;D++)for(N=p.legs[D],x.push(N.summary&&N.summary.charAt(0).toUpperCase()+N.summary.substring(1)),O=0;O<N.steps.length;O++)H=N.steps[O],X=this._decodePolyline(H.geometry),g.coordinates.push.apply(g.coordinates,X),U=this._maneuverToInstructionType(H.maneuver,D===E-1),Q=this._maneuverToModifier(H.maneuver),Y=te(H,{legCount:E,legIndex:D}),U&&((D==0&&H.maneuver.type=="depart"||H.maneuver.type=="arrive")&&w.push(S),g.instructions.push({type:U,distance:H.distance,time:H.duration,road:H.name,direction:this._bearingToDirection(H.maneuver.bearing_after),exit:H.maneuver.exit,index:S,mode:H.mode,modifier:Q,text:Y})),S+=X.length;return g.name=x.join(", "),M?g.waypointIndices=w:g.coordinates=this._decodePolyline(p.geometry),g},_bearingToDirection:function(p){var g=Math.round(p/45)%8;return["N","NE","E","SE","S","SW","W","NW"][g]},_maneuverToInstructionType:function(p,g){switch(p.type){case"new name":return"Continue";case"depart":return"Head";case"arrive":return g?"DestinationReached":"WaypointReached";case"roundabout":case"rotary":return"Roundabout";case"merge":case"fork":case"on ramp":case"off ramp":case"end of road":return this._camelCase(p.type);default:return this._camelCase(p.modifier)}},_maneuverToModifier:function(p){var g=p.modifier;switch(p.type){case"merge":case"fork":case"on ramp":case"off ramp":case"end of road":g=this._leftOrRight(g)}return g&&this._camelCase(g)},_camelCase:function(p){for(var g=p.split(" "),x="",w=0,S=g.length;w<S;w++)x+=g[w].charAt(0).toUpperCase()+g[w].substring(1);return x},_leftOrRight:function(p){return p.indexOf("left")>=0?"Left":"Right"},_decodePolyline:function(p){var g=o.decode(p,this.options.polylinePrecision),x=new Array(g.length),w;for(w=g.length-1;w>=0;w--)x[w]=n.latLng(g[w]);return x},_toWaypoints:function(p,g){var x=[],w,S;for(w=0;w<g.length;w++)S=g[w].location,x.push(new d(n.latLng(S[1],S[0]),p[w].name,p[w].options));return x},buildRouteUrl:function(p,g){for(var x=[],w=[],S,E,M,D=!0,O=0;O<p.length;O++)S=p[O],E=S.latLng,x.push(E.lng+","+E.lat),w.push(this._hints.locations[this._locationKey(E)]||"");return M=!0,this.options.serviceUrl+"/"+this.options.profile+"/"+x.join(";")+"?"+(g.geometryOnly?g.simplifyGeometry?"":"overview=full":"overview=false")+"&alternatives="+D.toString()+"&steps="+M.toString()+(this.options.useHints?"&hints="+w.join(";"):"")+(g.allowUTurns?"&continue_straight="+!g.allowUTurns:"")},_locationKey:function(p){return p.lat+","+p.lng},_saveHintData:function(p,g){var x;this._hints={locations:{}};for(var w=p.length-1;w>=0;w--)x=g[w].latLng,this._hints.locations[this._locationKey(x)]=p[w].hint}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./waypoint":61,"@mapbox/corslite":1,"@mapbox/polyline":2,"osrm-text-instructions":3}],60:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=s("./geocoder-element"),o=s("./waypoint");e.exports=(n.Layer||n.Class).extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{dragStyles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"red",opacity:1,weight:2,dashArray:"7,12"}],draggableWaypoints:!0,routeWhileDragging:!1,addWaypoints:!0,reverseWaypoints:!1,addButtonClassName:"",language:"en",createGeocoderElement:function(a,d,p,g){return new r(a,d,p,g)},createMarker:function(a,d){var p={draggable:this.draggableWaypoints},g=n.marker(d.latLng,p);return g},geocodersClassName:""},initialize:function(a,d){n.Util.setOptions(this,d),this._waypoints=[],this.setWaypoints(a)},isReady:function(){var a;for(a=0;a<this._waypoints.length;a++)if(!this._waypoints[a].latLng)return!1;return!0},getWaypoints:function(){var a,d=[];for(a=0;a<this._waypoints.length;a++)d.push(this._waypoints[a]);return d},setWaypoints:function(a){var d=[0,this._waypoints.length].concat(a);return this.spliceWaypoints.apply(this,d),this},spliceWaypoints:function(){var a=[arguments[0],arguments[1]],d;for(d=2;d<arguments.length;d++)a.push(arguments[d]&&arguments[d].hasOwnProperty("latLng")?arguments[d]:new o(arguments[d]));for([].splice.apply(this._waypoints,a);this._waypoints.length<2;)this.spliceWaypoints(this._waypoints.length,0,null);this._updateMarkers(),this._fireChanged.apply(this,a)},onAdd:function(a){this._map=a,this._updateMarkers()},onRemove:function(){var a;if(this._removeMarkers(),this._newWp)for(a=0;a<this._newWp.lines.length;a++)this._map.removeLayer(this._newWp.lines[a]);delete this._map},createGeocoders:function(){var a=n.DomUtil.create("div","leaflet-routing-geocoders "+this.options.geocodersClassName),d=this._waypoints,p,g;return this._geocoderContainer=a,this._geocoderElems=[],this.options.addWaypoints&&(p=n.DomUtil.create("button","leaflet-routing-add-waypoint "+this.options.addButtonClassName,a),p.setAttribute("type","button"),n.DomEvent.addListener(p,"click",function(){this.spliceWaypoints(d.length,0,null)},this)),this.options.reverseWaypoints&&(g=n.DomUtil.create("button","leaflet-routing-reverse-waypoints",a),g.setAttribute("type","button"),n.DomEvent.addListener(g,"click",function(){this._waypoints.reverse(),this.setWaypoints(this._waypoints)},this)),this._updateGeocoders(),this.on("waypointsspliced",this._updateGeocoders),a},_createGeocoder:function(a){var d=this.options.createGeocoderElement(this._waypoints[a],a,this._waypoints.length,this.options);return d.on("delete",function(){a>0||this._waypoints.length>2?this.spliceWaypoints(a,1):this.spliceWaypoints(a,1,new o)},this).on("geocoded",function(p){this._updateMarkers(),this._fireChanged(),this._focusGeocoder(a+1),this.fire("waypointgeocoded",{waypointIndex:a,waypoint:p.waypoint})},this).on("reversegeocoded",function(p){this.fire("waypointgeocoded",{waypointIndex:a,waypoint:p.waypoint})},this),d},_updateGeocoders:function(){var a=[],d,p;for(d=0;d<this._geocoderElems.length;d++)this._geocoderContainer.removeChild(this._geocoderElems[d].getContainer());for(d=this._waypoints.length-1;d>=0;d--)p=this._createGeocoder(d),this._geocoderContainer.insertBefore(p.getContainer(),this._geocoderContainer.firstChild),a.push(p);this._geocoderElems=a.reverse()},_removeMarkers:function(){var a;if(this._markers)for(a=0;a<this._markers.length;a++)this._markers[a]&&this._map.removeLayer(this._markers[a]);this._markers=[]},_updateMarkers:function(){var a,d;if(this._map)for(this._removeMarkers(),a=0;a<this._waypoints.length;a++)this._waypoints[a].latLng?(d=this.options.createMarker(a,this._waypoints[a],this._waypoints.length),d&&(d.addTo(this._map),this.options.draggableWaypoints&&this._hookWaypointEvents(d,a))):d=null,this._markers.push(d)},_fireChanged:function(){this.fire("waypointschanged",{waypoints:this.getWaypoints()}),arguments.length>=2&&this.fire("waypointsspliced",{index:Array.prototype.shift.call(arguments),nRemoved:Array.prototype.shift.call(arguments),added:arguments})},_hookWaypointEvents:function(a,d,p){var g=function(D){return p?D.latlng:D.target.getLatLng()},x=n.bind(function(D){this.fire("waypointdragstart",{index:d,latlng:g(D)})},this),w=n.bind(function(D){this._waypoints[d].latLng=g(D),this.fire("waypointdrag",{index:d,latlng:g(D)})},this),S=n.bind(function(D){this._waypoints[d].latLng=g(D),this._waypoints[d].name="",this._geocoderElems&&this._geocoderElems[d].update(!0),this.fire("waypointdragend",{index:d,latlng:g(D)}),this._fireChanged()},this),E,M;p?(E=n.bind(function(D){this._markers[d].setLatLng(D.latlng),w(D)},this),M=n.bind(function(D){this._map.dragging.enable(),this._map.off("mouseup",M),this._map.off("mousemove",E),S(D)},this),this._map.dragging.disable(),this._map.on("mousemove",E),this._map.on("mouseup",M),x({latlng:this._waypoints[d].latLng})):(a.on("dragstart",x),a.on("drag",w),a.on("dragend",S))},dragNewWaypoint:function(a){var d=a.afterIndex+1;this.options.routeWhileDragging?(this.spliceWaypoints(d,0,a.latlng),this._hookWaypointEvents(this._markers[d],d,!0)):this._dragNewWaypoint(d,a.latlng)},_dragNewWaypoint:function(a,d){var p=new o(d),g=this._waypoints[a-1],x=this._waypoints[a],w=this.options.createMarker(a,p,this._waypoints.length+1),S=[],E=this._map.dragging.enabled(),M=n.bind(function(N){var H,X;for(w&&w.setLatLng(N.latlng),H=0;H<S.length;H++)X=S[H].getLatLngs(),X.splice(1,1,N.latlng),S[H].setLatLngs(X);n.DomEvent.stop(N)},this),D=n.bind(function(N){var H;for(w&&this._map.removeLayer(w),H=0;H<S.length;H++)this._map.removeLayer(S[H]);this._map.off("mousemove",M),this._map.off("mouseup",D),this.spliceWaypoints(a,0,N.latlng),E&&this._map.dragging.enable(),n.DomEvent.stop(N)},this),O;for(w&&w.addTo(this._map),O=0;O<this.options.dragStyles.length;O++)S.push(n.polyline([g.latLng,d,x.latLng],this.options.dragStyles[O]).addTo(this._map));E&&this._map.dragging.disable(),this._map.on("mousemove",M),this._map.on("mouseup",D)},_focusGeocoder:function(a){this._geocoderElems[a]?this._geocoderElems[a].focus():document.activeElement.blur()}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{"./geocoder-element":52,"./waypoint":61}],61:[function(s,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{allowUTurn:!1},initialize:function(r,o,a){n.Util.setOptions(this,a),this.latLng=n.latLng(r),this.name=o}})})()}).call(this,typeof gn<"u"?gn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[53])),HS}ez();var bp={exports:{}},tz=bp.exports,US;function iz(){return US||(US=1,(function(s,e){(function(t,i){i(e)})(tz,function(t){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(r){L.Util.setOptions(this,r),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(r){if(r instanceof L.LayerGroup)return this.addLayers([r]);if(!r.getLatLng)return this._nonPointGroup.addLayer(r),this.fire("layeradd",{layer:r}),this;if(!this._map)return this._needsClustering.push(r),this.fire("layeradd",{layer:r}),this;if(this.hasLayer(r))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(r,this._maxZoom),this.fire("layeradd",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=r,a=this._zoom;if(r.__parent)for(;o.__parent._zoom>=a;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(r,o):this._animationAddLayerNonAnimated(r,o)),this},removeLayer:function(r){return r instanceof L.LayerGroup?this.removeLayers([r]):r.getLatLng?this._map?r.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(r)),this._removeLayer(r,!0),this.fire("layerremove",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),r.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(r)&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,r)&&this.hasLayer(r)&&this._needsRemoving.push({layer:r,latlng:r._latlng}),this.fire("layerremove",{layer:r}),this):(this._nonPointGroup.removeLayer(r),this.fire("layerremove",{layer:r}),this)},addLayers:function(r,o){if(!L.Util.isArray(r))return this.addLayer(r);var a=this._featureGroup,d=this._nonPointGroup,p=this.options.chunkedLoading,g=this.options.chunkInterval,x=this.options.chunkProgress,w=r.length,S=0,E=!0,M;if(this._map){var D=new Date().getTime(),O=L.bind(function(){var H=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<w;S++){if(p&&S%200===0){var X=new Date().getTime()-H;if(X>g)break}if(M=r[S],M instanceof L.LayerGroup){E&&(r=r.slice(),E=!1),this._extractNonGroupLayers(M,r),w=r.length;continue}if(!M.getLatLng){d.addLayer(M),o||this.fire("layeradd",{layer:M});continue}if(!this.hasLayer(M)&&(this._addLayer(M,this._maxZoom),o||this.fire("layeradd",{layer:M}),M.__parent&&M.__parent.getChildCount()===2)){var U=M.__parent.getAllChildMarkers(),Q=U[0]===M?U[1]:U[0];a.removeLayer(Q)}}x&&x(S,w,new Date().getTime()-D),S===w?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(O,this.options.chunkDelay)},this);O()}else for(var N=this._needsClustering;S<w;S++){if(M=r[S],M instanceof L.LayerGroup){E&&(r=r.slice(),E=!1),this._extractNonGroupLayers(M,r),w=r.length;continue}if(!M.getLatLng){d.addLayer(M);continue}this.hasLayer(M)||N.push(M)}return this},removeLayers:function(r){var o,a,d=r.length,p=this._featureGroup,g=this._nonPointGroup,x=!0;if(!this._map){for(o=0;o<d;o++){if(a=r[o],a instanceof L.LayerGroup){x&&(r=r.slice(),x=!1),this._extractNonGroupLayers(a,r),d=r.length;continue}this._arraySplice(this._needsClustering,a),g.removeLayer(a),this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a})}return this}if(this._unspiderfy){this._unspiderfy();var w=r.slice(),S=d;for(o=0;o<S;o++){if(a=w[o],a instanceof L.LayerGroup){this._extractNonGroupLayers(a,w),S=w.length;continue}this._unspiderfyLayer(a)}}for(o=0;o<d;o++){if(a=r[o],a instanceof L.LayerGroup){x&&(r=r.slice(),x=!1),this._extractNonGroupLayers(a,r),d=r.length;continue}if(!a.__parent){g.removeLayer(a),this.fire("layerremove",{layer:a});continue}this._removeLayer(a,!0,!0),this.fire("layerremove",{layer:a}),p.hasLayer(a)&&(p.removeLayer(a),a.clusterShow&&a.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(r){r.off(this._childMarkerEventHandlers,this),delete r.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var r=new L.LatLngBounds;this._topClusterLevel&&r.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)r.extend(this._needsClustering[o].getLatLng());return r.extend(this._nonPointGroup.getBounds()),r},eachLayer:function(r,o){var a=this._needsClustering.slice(),d=this._needsRemoving,p,g,x;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(a),g=a.length-1;g>=0;g--){for(p=!0,x=d.length-1;x>=0;x--)if(d[x].layer===a[g]){p=!1;break}p&&r.call(o,a[g])}this._nonPointGroup.eachLayer(r,o)},getLayers:function(){var r=[];return this.eachLayer(function(o){r.push(o)}),r},getLayer:function(r){var o=null;return r=parseInt(r,10),this.eachLayer(function(a){L.stamp(a)===r&&(o=a)}),o},hasLayer:function(r){if(!r)return!1;var o,a=this._needsClustering;for(o=a.length-1;o>=0;o--)if(a[o]===r)return!0;for(a=this._needsRemoving,o=a.length-1;o>=0;o--)if(a[o].layer===r)return!1;return!!(r.__parent&&r.__parent._group===this)||this._nonPointGroup.hasLayer(r)},zoomToShowLayer:function(r,o){var a=this._map;typeof o!="function"&&(o=function(){});var d=function(){(a.hasLayer(r)||a.hasLayer(r.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",d,this),this.off("animationend",d,this),a.hasLayer(r)?o():r.__parent._icon&&(this.once("spiderfied",o,this),r.__parent.spiderfy()))};r._icon&&this._map.getBounds().contains(r.getLatLng())?o():r.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",d,this),this._map.panTo(r.getLatLng())):(this._map.on("moveend",d,this),this.on("animationend",d,this),r.__parent.zoomToBounds())},onAdd:function(r){this._map=r;var o,a,d;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(r),this._nonPointGroup.addTo(r),this._gridClusters||this._generateInitialClusters(),this._maxLat=r.options.crs.projection.MAX_LATITUDE,o=0,a=this._needsRemoving.length;o<a;o++)d=this._needsRemoving[o],d.newlatlng=d.layer._latlng,d.layer._latlng=d.latlng;for(o=0,a=this._needsRemoving.length;o<a;o++)d=this._needsRemoving[o],this._removeLayer(d.layer,!0),d.layer._latlng=d.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),a=this._needsClustering,this._needsClustering=[],this.addLayers(a,!0)},onRemove:function(r){r.off("zoomend",this._zoomEnd,this),r.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(r){for(var o=r;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(r,o){for(var a=r.length-1;a>=0;a--)if(r[a]===o)return r.splice(a,1),!0},_removeFromGridUnclustered:function(r,o){for(var a=this._map,d=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());o>=p&&d[o].removeObject(r,a.project(r.getLatLng(),o));o--);},_childMarkerDragStart:function(r){r.target.__dragStart=r.target._latlng},_childMarkerMoved:function(r){if(!this._ignoreMove&&!r.target.__dragStart){var o=r.target._popup&&r.target._popup.isOpen();this._moveChild(r.target,r.oldLatLng,r.latlng),o&&r.target.openPopup()}},_moveChild:function(r,o,a){r._latlng=o,this.removeLayer(r),r._latlng=a,this.addLayer(r)},_childMarkerDragEnd:function(r){var o=r.target.__dragStart;delete r.target.__dragStart,o&&this._moveChild(r.target,o,r.target._latlng)},_removeLayer:function(r,o,a){var d=this._gridClusters,p=this._gridUnclustered,g=this._featureGroup,x=this._map,w=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(r,this._maxZoom);var S=r.__parent,E=S._markers,M;for(this._arraySplice(E,r);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<w));)o&&S._childCount<=1?(M=S._markers[0]===r?S._markers[1]:S._markers[0],d[S._zoom].removeObject(S,x.project(S._cLatLng,S._zoom)),p[S._zoom].addObject(M,x.project(M.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(M),M.__parent=S.__parent,S._icon&&(g.removeLayer(S),a||g.addLayer(M))):S._iconNeedsUpdate=!0,S=S.__parent;delete r.__parent},_isOrIsParent:function(r,o){for(;o;){if(r===o)return!0;o=o.parentNode}return!1},fire:function(r,o,a){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;r="cluster"+r}L.FeatureGroup.prototype.fire.call(this,r,o,a)},listens:function(r,o){return L.FeatureGroup.prototype.listens.call(this,r,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+r,o)},_defaultIconCreateFunction:function(r){var o=r.getChildCount(),a=" marker-cluster-";return o<10?a+="small":o<100?a+="medium":a+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+a,iconSize:new L.Point(40,40)})},_bindEvents:function(){var r=this._map,o=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,d=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(o||d||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),r.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(r){var o=r.layer,a=o;if(!(r.type==="clusterkeypress"&&r.originalEvent&&r.originalEvent.keyCode!==13)){for(;a._childClusters.length===1;)a=a._childClusters[0];a._zoom===this._maxZoom&&a._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),r.originalEvent&&r.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(r){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),r.layer.getChildCount()>2&&r.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(r.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var r=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,a=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom,p=this._map;(r||a||d)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var r=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,r),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),r),this._currentShownBounds=r}},_generateInitialClusters:function(){var r=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),a=this.options.maxClusterRadius,d=a;typeof a!="function"&&(d=function(){return a}),this.options.disableClusteringAtZoom!==null&&(r=this.options.disableClusteringAtZoom-1),this._maxZoom=r,this._gridClusters={},this._gridUnclustered={};for(var p=r;p>=o;p--)this._gridClusters[p]=new L.DistanceGrid(d(p)),this._gridUnclustered[p]=new L.DistanceGrid(d(p));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(r,o){var a=this._gridClusters,d=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),g,x;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(r),r.on(this._childMarkerEventHandlers,this);o>=p;o--){g=this._map.project(r.getLatLng(),o);var w=a[o].getNearObject(g);if(w){w._addChild(r),r.__parent=w;return}if(w=d[o].getNearObject(g),w){var S=w.__parent;S&&this._removeLayer(w,!1);var E=new this._markerCluster(this,o,w,r);a[o].addObject(E,this._map.project(E._cLatLng,o)),w.__parent=E,r.__parent=E;var M=E;for(x=o-1;x>S._zoom;x--)M=new this._markerCluster(this,x,M),a[x].addObject(M,this._map.project(w.getLatLng(),x));S._addChild(M),this._removeFromGridUnclustered(w,o);return}d[o].addObject(r,g)}this._topClusterLevel._addChild(r),r.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(r){r instanceof L.MarkerCluster&&r._iconNeedsUpdate&&r._updateIcon()})},_enqueue:function(r){this._queue.push(r),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var r=0;r<this._queue.length;r++)this._queue[r].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var r=Math.round(this._map._zoom);this._processQueue(),this._zoom<r&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,r)):this._zoom>r?(this._animationStart(),this._animationZoomOut(this._zoom,r)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(r){var o=this._maxLat;return o!==void 0&&(r.getNorth()>=o&&(r._northEast.lat=1/0),r.getSouth()<=-o&&(r._southWest.lat=-1/0)),r},_animationAddLayerNonAnimated:function(r,o){if(o===r)this._featureGroup.addLayer(r);else if(o._childCount===2){o._addToMap();var a=o.getAllChildMarkers();this._featureGroup.removeLayer(a[0]),this._featureGroup.removeLayer(a[1])}else o._updateIcon()},_extractNonGroupLayers:function(r,o){var a=r.getLayers(),d=0,p;for(o=o||[];d<a.length;d++){if(p=a[d],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,o);continue}o.push(p)}return o},_overrideMarkerIcon:function(r){var o=r.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[r]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(r,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(r,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(r,o){this._animationAddLayerNonAnimated(r,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(r,o){var a=this._getExpandedVisibleBounds(),d=this._featureGroup,p=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(a,r,p,function(x){var w=x._latlng,S=x._markers,E;for(a.contains(w)||(w=null),x._isSingleParent()&&r+1===o?(d.removeLayer(x),x._recursivelyAddChildrenToMap(null,o,a)):(x.clusterHide(),x._recursivelyAddChildrenToMap(w,o,a)),g=S.length-1;g>=0;g--)E=S[g],a.contains(E._latlng)||d.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(a,o),d.eachLayer(function(x){!(x instanceof L.MarkerCluster)&&x._icon&&x.clusterShow()}),this._topClusterLevel._recursively(a,r,o,function(x){x._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(a,r,p,function(x){d.removeLayer(x),x.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(r,o){this._animationZoomOutSingle(this._topClusterLevel,r-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r,this._getExpandedVisibleBounds())},_animationAddLayer:function(r,o){var a=this,d=this._featureGroup;d.addLayer(r),o!==r&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),r._setPos(this._map.latLngToLayerPoint(o.getLatLng())),r.clusterHide(),this._enqueue(function(){d.removeLayer(r),r.clusterShow(),a._animationEnd()})):(this._forceLayout(),a._animationStart(),a._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(r,o,a){var d=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());r._recursivelyAnimateChildrenInAndAddSelfToMap(d,p,o+1,a);var g=this;this._forceLayout(),r._recursivelyBecomeVisible(d,a),this._enqueue(function(){if(r._childCount===1){var x=r._markers[0];this._ignoreMove=!0,x.setLatLng(x.getLatLng()),this._ignoreMove=!1,x.clusterShow&&x.clusterShow()}else r._recursively(d,a,p,function(w){w._recursivelyRemoveChildrenFromMap(d,p,o+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(r){return new L.MarkerClusterGroup(r)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(r,o,a,d){L.Marker.prototype.initialize.call(this,a?a._cLatLng||a.getLatLng():new L.LatLng(0,0),{icon:this,pane:r.options.clusterPane}),this._group=r,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,a&&this._addChild(a),d&&this._addChild(d)},getAllChildMarkers:function(r,o){r=r||[];for(var a=this._childClusters.length-1;a>=0;a--)this._childClusters[a].getAllChildMarkers(r,o);for(var d=this._markers.length-1;d>=0;d--)o&&this._markers[d].__dragStart||r.push(this._markers[d]);return r},getChildCount:function(){return this._childCount},zoomToBounds:function(r){for(var o=this._childClusters.slice(),a=this._group._map,d=a.getBoundsZoom(this._bounds),p=this._zoom+1,g=a.getZoom(),x;o.length>0&&d>p;){p++;var w=[];for(x=0;x<o.length;x++)w=w.concat(o[x]._childClusters);o=w}d>p?this._group._map.setView(this._latlng,p):d<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,r)},getBounds:function(){var r=new L.LatLngBounds;return r.extend(this._bounds),r},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(r,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(r),r instanceof L.MarkerCluster?(o||(this._childClusters.push(r),r.__parent=this),this._childCount+=r._childCount):(o||this._markers.push(r),this._childCount++),this.__parent&&this.__parent._addChild(r,!0)},_setClusterCenter:function(r){this._cLatLng||(this._cLatLng=r._cLatLng||r._latlng)},_resetBounds:function(){var r=this._bounds;r._southWest&&(r._southWest.lat=1/0,r._southWest.lng=1/0),r._northEast&&(r._northEast.lat=-1/0,r._northEast.lng=-1/0)},_recalculateBounds:function(){var r=this._markers,o=this._childClusters,a=0,d=0,p=this._childCount,g,x,w,S;if(p!==0){for(this._resetBounds(),g=0;g<r.length;g++)w=r[g]._latlng,this._bounds.extend(w),a+=w.lat,d+=w.lng;for(g=0;g<o.length;g++)x=o[g],x._boundsNeedUpdate&&x._recalculateBounds(),this._bounds.extend(x._bounds),w=x._wLatLng,S=x._childCount,a+=w.lat*S,d+=w.lng*S;this._latlng=this._wLatLng=new L.LatLng(a/p,d/p),this._boundsNeedUpdate=!1}},_addToMap:function(r){r&&(this._backupLatlng=this._latlng,this.setLatLng(r)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(r,o,a){this._recursively(r,this._group._map.getMinZoom(),a-1,function(d){var p=d._markers,g,x;for(g=p.length-1;g>=0;g--)x=p[g],x._icon&&(x._setPos(o),x.clusterHide())},function(d){var p=d._childClusters,g,x;for(g=p.length-1;g>=0;g--)x=p[g],x._icon&&(x._setPos(o),x.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(r,o,a,d){this._recursively(r,d,o,function(p){p._recursivelyAnimateChildrenIn(r,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),a),p._isSingleParent()&&a-1===d?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(r,o,a)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(r,o){this._recursively(r,this._group._map.getMinZoom(),o,null,function(a){a.clusterShow()})},_recursivelyAddChildrenToMap:function(r,o,a){this._recursively(a,this._group._map.getMinZoom()-1,o,function(d){if(o!==d._zoom)for(var p=d._markers.length-1;p>=0;p--){var g=d._markers[p];a.contains(g._latlng)&&(r&&(g._backupLatlng=g.getLatLng(),g.setLatLng(r),g.clusterHide&&g.clusterHide()),d._group._featureGroup.addLayer(g))}},function(d){d._addToMap(r)})},_recursivelyRestoreChildPositions:function(r){for(var o=this._markers.length-1;o>=0;o--){var a=this._markers[o];a._backupLatlng&&(a.setLatLng(a._backupLatlng),delete a._backupLatlng)}if(r-1===this._zoom)for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(r)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(r,o,a,d){var p,g;this._recursively(r,o-1,a-1,function(x){for(g=x._markers.length-1;g>=0;g--)p=x._markers[g],(!d||!d.contains(p._latlng))&&(x._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(x){for(g=x._childClusters.length-1;g>=0;g--)p=x._childClusters[g],(!d||!d.contains(p._latlng))&&(x._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(r,o,a,d,p){var g=this._childClusters,x=this._zoom,w,S;if(o<=x&&(d&&d(this),p&&x===a&&p(this)),x<o||x<a)for(w=g.length-1;w>=0;w--)S=g[w],S._boundsNeedUpdate&&S._recalculateBounds(),r.intersects(S._bounds)&&S._recursively(r,o,a,d,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var r=this.options.opacity;return this.setOpacity(0),this.options.opacity=r,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(r){this._cellSize=r,this._sqCellSize=r*r,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(r,o){var a=this._getCoord(o.x),d=this._getCoord(o.y),p=this._grid,g=p[d]=p[d]||{},x=g[a]=g[a]||[],w=L.Util.stamp(r);this._objectPoint[w]=o,x.push(r)},updateObject:function(r,o){this.removeObject(r),this.addObject(r,o)},removeObject:function(r,o){var a=this._getCoord(o.x),d=this._getCoord(o.y),p=this._grid,g=p[d]=p[d]||{},x=g[a]=g[a]||[],w,S;for(delete this._objectPoint[L.Util.stamp(r)],w=0,S=x.length;w<S;w++)if(x[w]===r)return x.splice(w,1),S===1&&delete g[a],!0},eachObject:function(r,o){var a,d,p,g,x,w,S,E=this._grid;for(a in E){x=E[a];for(d in x)for(w=x[d],p=0,g=w.length;p<g;p++)S=r.call(o,w[p]),S&&(p--,g--)}},getNearObject:function(r){var o=this._getCoord(r.x),a=this._getCoord(r.y),d,p,g,x,w,S,E,M,D=this._objectPoint,O=this._sqCellSize,N=null;for(d=a-1;d<=a+1;d++)if(x=this._grid[d],x){for(p=o-1;p<=o+1;p++)if(w=x[p],w)for(g=0,S=w.length;g<S;g++)E=w[g],M=this._sqDist(D[L.Util.stamp(E)],r),(M<O||M<=O&&N===null)&&(O=M,N=E)}return N},_getCoord:function(r){var o=Math.floor(r/this._cellSize);return isFinite(o)?o:r},_sqDist:function(r,o){var a=o.x-r.x,d=o.y-r.y;return a*a+d*d}},(function(){L.QuickHull={getDistant:function(r,o){var a=o[1].lat-o[0].lat,d=o[0].lng-o[1].lng;return d*(r.lat-o[0].lat)+a*(r.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(r,o){var a=0,d=null,p=[],g,x,w;for(g=o.length-1;g>=0;g--){if(x=o[g],w=this.getDistant(x,r),w>0)p.push(x);else continue;w>a&&(a=w,d=x)}return{maxPoint:d,newPoints:p}},buildConvexHull:function(r,o){var a=[],d=this.findMostDistantPointFromBaseLine(r,o);return d.maxPoint?(a=a.concat(this.buildConvexHull([r[0],d.maxPoint],d.newPoints)),a=a.concat(this.buildConvexHull([d.maxPoint,r[1]],d.newPoints)),a):[r[0]]},getConvexHull:function(r){var o=!1,a=!1,d=!1,p=!1,g=null,x=null,w=null,S=null,E=null,M=null,D;for(D=r.length-1;D>=0;D--){var O=r[D];(o===!1||O.lat>o)&&(g=O,o=O.lat),(a===!1||O.lat<a)&&(x=O,a=O.lat),(d===!1||O.lng>d)&&(w=O,d=O.lng),(p===!1||O.lng<p)&&(S=O,p=O.lng)}a!==o?(M=x,E=g):(M=S,E=w);var N=[].concat(this.buildConvexHull([M,E],r),this.buildConvexHull([E,M],r));return N}}})(),L.MarkerCluster.include({getConvexHull:function(){var r=this.getAllChildMarkers(),o=[],a,d;for(d=r.length-1;d>=0;d--)a=r[d].getLatLng(),o.push(a);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var r=this.getAllChildMarkers(null,!0),o=this._group,a=o._map,d=a.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(r.length,d):r.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(r.length,d):(d.y+=10,p=this._generatePointsCircle(r.length,d)),this._animationSpiderfy(r,p)}},unspiderfy:function(r){this._group._inZoomAnimation||(this._animationUnspiderfy(r),this._group._spiderfied=null)},_generatePointsCircle:function(r,o){var a=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+r),d=a/this._2PI,p=this._2PI/r,g=[],x,w;for(d=Math.max(d,35),g.length=r,x=0;x<r;x++)w=this._circleStartAngle+x*p,g[x]=new L.Point(o.x+d*Math.cos(w),o.y+d*Math.sin(w))._round();return g},_generatePointsSpiral:function(r,o){var a=this._group.options.spiderfyDistanceMultiplier,d=a*this._spiralLengthStart,p=a*this._spiralFootSeparation,g=a*this._spiralLengthFactor*this._2PI,x=0,w=[],S;for(w.length=r,S=r;S>=0;S--)S<r&&(w[S]=new L.Point(o.x+d*Math.cos(x),o.y+d*Math.sin(x))._round()),x+=p/d+S*5e-4,d+=g/x;return w},_noanimationUnspiderfy:function(){var r=this._group,o=r._map,a=r._featureGroup,d=this.getAllChildMarkers(null,!0),p,g;for(r._ignoreMove=!0,this.setOpacity(1),g=d.length-1;g>=0;g--)p=d[g],a.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(o.removeLayer(p._spiderLeg),delete p._spiderLeg);r.fire("unspiderfied",{cluster:this,markers:d}),r._ignoreMove=!1,r._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(r,o){var a=this._group,d=a._map,p=a._featureGroup,g=this._group.options.spiderLegPolylineOptions,x,w,S,E;for(a._ignoreMove=!0,x=0;x<r.length;x++)E=d.layerPointToLatLng(o[x]),w=r[x],S=new L.Polyline([this._latlng,E],g),d.addLayer(S),w._spiderLeg=S,w._preSpiderfyLatlng=w._latlng,w.setLatLng(E),w.setZIndexOffset&&w.setZIndexOffset(1e6),p.addLayer(w);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:r})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(r,o){var a=this,d=this._group,p=d._map,g=d._featureGroup,x=this._latlng,w=p.latLngToLayerPoint(x),S=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),M=E.opacity,D,O,N,H,X,U;for(M===void 0&&(M=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),S?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=M,d._ignoreMove=!0,D=0;D<r.length;D++)O=r[D],U=p.layerPointToLatLng(o[D]),N=new L.Polyline([x,U],E),p.addLayer(N),O._spiderLeg=N,S&&(H=N._path,X=H.getTotalLength()+.1,H.style.strokeDasharray=X,H.style.strokeDashoffset=X),O.setZIndexOffset&&O.setZIndexOffset(1e6),O.clusterHide&&O.clusterHide(),g.addLayer(O),O._setPos&&O._setPos(w);for(d._forceLayout(),d._animationStart(),D=r.length-1;D>=0;D--)U=p.layerPointToLatLng(o[D]),O=r[D],O._preSpiderfyLatlng=O._latlng,O.setLatLng(U),O.clusterShow&&O.clusterShow(),S&&(N=O._spiderLeg,H=N._path,H.style.strokeDashoffset=0,N.setStyle({opacity:M}));this.setOpacity(.3),d._ignoreMove=!1,setTimeout(function(){d._animationEnd(),d.fire("spiderfied",{cluster:a,markers:r})},200)},_animationUnspiderfy:function(r){var o=this,a=this._group,d=a._map,p=a._featureGroup,g=r?d._latLngToNewLayerPoint(this._latlng,r.zoom,r.center):d.latLngToLayerPoint(this._latlng),x=this.getAllChildMarkers(null,!0),w=L.Path.SVG,S,E,M,D,O,N;for(a._ignoreMove=!0,a._animationStart(),this.setOpacity(1),E=x.length-1;E>=0;E--)S=x[E],S._preSpiderfyLatlng&&(S.closePopup(),S.setLatLng(S._preSpiderfyLatlng),delete S._preSpiderfyLatlng,N=!0,S._setPos&&(S._setPos(g),N=!1),S.clusterHide&&(S.clusterHide(),N=!1),N&&p.removeLayer(S),w&&(M=S._spiderLeg,D=M._path,O=D.getTotalLength()+.1,D.style.strokeDashoffset=O,M.setStyle({opacity:0})));a._ignoreMove=!1,setTimeout(function(){var H=0;for(E=x.length-1;E>=0;E--)S=x[E],S._spiderLeg&&H++;for(E=x.length-1;E>=0;E--)S=x[E],S._spiderLeg&&(S.clusterShow&&S.clusterShow(),S.setZIndexOffset&&S.setZIndexOffset(0),H>1&&p.removeLayer(S),d.removeLayer(S._spiderLeg),delete S._spiderLeg);a._animationEnd(),a.fire("unspiderfied",{cluster:o,markers:x})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(r){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(r))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(r){this._spiderfied&&this._spiderfied.unspiderfy(r)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(r){r._spiderLeg&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow(),r.setZIndexOffset&&r.setZIndexOffset(0),this._map.removeLayer(r._spiderLeg),delete r._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(r){return r?r instanceof L.MarkerClusterGroup?r=r._topClusterLevel.getAllChildMarkers():r instanceof L.LayerGroup?r=r._layers:r instanceof L.MarkerCluster?r=r.getAllChildMarkers():r instanceof L.Marker&&(r=[r]):r=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(r),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(r),this},_flagParentsIconsNeedUpdate:function(r){var o,a;for(o in r)for(a=r[o].__parent;a;)a._iconNeedsUpdate=!0,a=a.__parent},_refreshSingleMarkerModeMarkers:function(r){var o,a;for(o in r)a=r[o],this.hasLayer(a)&&a.setIcon(this._overrideMarkerIcon(a))}}),L.Marker.include({refreshIconOptions:function(r,o){var a=this.options.icon;return L.setOptions(a,r),this.setIcon(a),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=i,t.MarkerCluster=n,Object.defineProperty(t,"__esModule",{value:!0})})})(bp,bp.exports)),bp.exports}iz();function Xo(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function $2(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}var us={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},kd={duration:.5,overwrite:!1,delay:0},rw,Xa,Fn,As=1e8,un=1/As,jb=Math.PI*2,nz=jb/4,az=0,V2=Math.sqrt,rz=Math.cos,sz=Math.sin,Fa=function(e){return typeof e=="string"},Jn=function(e){return typeof e=="function"},al=function(e){return typeof e=="number"},sw=function(e){return typeof e>"u"},vo=function(e){return typeof e=="object"},Br=function(e){return e!==!1},ow=function(){return typeof window<"u"},f_=function(e){return Jn(e)||Fa(e)},H2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},lr=Array.isArray,oz=/random\([^)]+\)/g,lz=/,\s*/g,WS=/(?:-?\.?\d|\.)+/gi,G2=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,$v=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,U2=/[+-]=-?[.\d]+/,hz=/[^,'"\[\]\s]+/gi,uz=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Gn,co,Nb,lw,ds={},py={},W2,X2=function(e){return(py=Sd(e,ds))&&Vr},hw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},im=function(e,t){return!t&&console.warn(e)},q2=function(e,t){return e&&(ds[e]=t)&&py&&(py[e]=t)||ds},nm=function(){return 0},cz={suppressEvents:!0,isStart:!0,kill:!1},X_={suppressEvents:!0,kill:!1},dz={suppressEvents:!0},uw={},Zl=[],$b={},Y2,as={},Vv={},XS=30,q_=[],cw="",dw=function(e){var t=e[0],i,n;if(vo(t)||Jn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=q_.length;n--&&!q_[n].targetTest(t););i=q_[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new xA(e[n],i)))||e.splice(n,1);return e},Cu=function(e){return e._gsap||dw(Ms(e))[0]._gsap},Z2=function(e,t,i){return(i=e[t])&&Jn(i)?e[t]():sw(i)&&e.getAttribute&&e.getAttribute(t)||i},jr=function(e,t){return(e=e.split(",")).forEach(t)||e},ra=function(e){return Math.round(e*1e5)/1e5||0},Hn=function(e){return Math.round(e*1e7)/1e7||0},md=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},fz=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},my=function(){var e=Zl.length,t=Zl.slice(0),i,n;for($b={},Zl.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},fw=function(e){return!!(e._initted||e._startAt||e.add)},K2=function(e,t,i,n){Zl.length&&!Xa&&my(),e.render(t,i,!!(Xa&&t<0&&fw(e))),Zl.length&&!Xa&&my()},J2=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(hz).length<2?t:Fa(e)?e.trim():e},Q2=function(e){return e},fs=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},pz=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},Sd=function(e,t){for(var i in t)e[i]=t[i];return e},qS=function s(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=vo(t[i])?s(e[i]||(e[i]={}),t[i]):t[i]);return e},gy=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},Rp=function(e){var t=e.parent||Gn,i=e.keyframes?pz(lr(e.keyframes)):fs;if(Br(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},mz=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},eA=function(e,t,i,n,r){var o=e[n],a;if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},Xy=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[n]===t&&(e[n]=r),t._next=t._prev=t.parent=null},th=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Au=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},gz=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Vb=function(e,t,i,n){return e._startAt&&(Xa?e._startAt.revert(X_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},_z=function s(e){return!e||e._ts&&s(e.parent)},YS=function(e){return e._repeat?Td(e._tTime,e=e.duration()+e._rDelay)*e:0},Td=function(e,t){var i=Math.floor(e=Hn(e/t));return e&&i===e?i-1:i},_y=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},qy=function(e){return e._end=Hn(e._start+(e._tDur/Math.abs(e._ts||e._rts||un)||0))},Yy=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Hn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),qy(e),i._dirty||Au(i,e)),e},tA=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=_y(e.rawTime(),t),(!t._dur||Tm(0,t.totalDuration(),i)-t._tTime>un)&&t.render(i,!0)),Au(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-un}},mo=function(e,t,i,n){return t.parent&&th(t),t._start=Hn((al(i)?i:i||e!==Gn?ks(e,i,t):e._time)+t._delay),t._end=Hn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),eA(e,t,"_first","_last",e._sort?"_start":0),Hb(t)||(e._recent=t),n||tA(e,t),e._ts<0&&Yy(e,e._tTime),e},iA=function(e,t){return(ds.ScrollTrigger||hw("scrollTrigger",t))&&ds.ScrollTrigger.create(t,e)},nA=function(e,t,i,n,r){if(mw(e,t,r),!e._initted)return 1;if(!i&&e._pt&&!Xa&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Y2!==ss.frame)return Zl.push(e),e._lazy=[r,n],1},yz=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},Hb=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},xz=function(e,t,i,n){var r=e.ratio,o=t<0||!t&&(!e._start&&yz(e)&&!(!e._initted&&Hb(e))||(e._ts<0||e._dp._ts<0)&&!Hb(e))?0:1,a=e._rDelay,d=0,p,g,x;if(a&&e._repeat&&(d=Tm(0,e._tDur,t),g=Td(d,a),e._yoyo&&g&1&&(o=1-o),g!==Td(e._tTime,a)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||Xa||n||e._zTime===un||!t&&e._zTime){if(!e._initted&&nA(e,t,n,i,d))return;for(x=e._zTime,e._zTime=t||(i?un:0),i||(i=t&&!x),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=d,p=e._pt;p;)p.r(o,p.d),p=p._next;t<0&&Vb(e,t,i,!0),e._onUpdate&&!i&&ls(e,"onUpdate"),d&&e._repeat&&!i&&e.parent&&ls(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&th(e,1),!i&&!Xa&&(ls(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},vz=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},Cd=function(e,t,i,n){var r=e._repeat,o=Hn(t)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:Hn(o*(r+1)+e._rDelay*r):o,a>0&&!n&&Yy(e,e._tTime=e._tDur*a),e.parent&&qy(e),i||Au(e.parent,e),e},ZS=function(e){return e instanceof br?Au(e):Cd(e,e._dur)},bz={_start:0,endTime:nm,totalDuration:nm},ks=function s(e,t,i){var n=e.labels,r=e._recent||bz,o=e.duration()>=As?r.endTime(!1):e._dur,a,d,p;return Fa(t)&&(isNaN(t)||t in n)?(d=t.charAt(0),p=t.substr(-1)==="%",a=t.indexOf("="),d==="<"||d===">"?(a>=0&&(t=t.replace(/=/,"")),(d==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(a<0?r:i).totalDuration()/100:1)):a<0?(t in n||(n[t]=o),n[t]):(d=parseFloat(t.charAt(a-1)+t.substr(a+1)),p&&i&&(d=d/100*(lr(i)?i[0]:i).totalDuration()),a>1?s(e,t.substr(0,a-1),i)+d:o+d)):t==null?o:+t},Fp=function(e,t,i){var n=al(t[1]),r=(n?2:1)+(e<2?0:1),o=t[r],a,d;if(n&&(o.duration=t[1]),o.parent=i,e){for(a=o,d=i;d&&!("immediateRender"in a);)a=d.vars.defaults||{},d=Br(d.vars.inherit)&&d.parent;o.immediateRender=Br(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new _a(t[0],o,t[r+1])},dh=function(e,t){return e||e===0?t(e):t},Tm=function(e,t,i){return i<e?e:i>t?t:i},rr=function(e,t){return!Fa(e)||!(t=uz.exec(e))?"":t[1]},wz=function(e,t,i){return dh(i,function(n){return Tm(e,t,n)})},Gb=[].slice,aA=function(e,t){return e&&vo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&vo(e[0]))&&!e.nodeType&&e!==co},kz=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var r;return Fa(n)&&!t||aA(n,1)?(r=i).push.apply(r,Ms(n)):i.push(n)})||i},Ms=function(e,t,i){return Fn&&!t&&Fn.selector?Fn.selector(e):Fa(e)&&!i&&(Nb||!Ad())?Gb.call((t||lw).querySelectorAll(e),0):lr(e)?kz(e,i):aA(e)?Gb.call(e,0):e?[e]:[]},Ub=function(e){return e=Ms(e)[0]||im("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ms(t,i.querySelectorAll?i:i===e?im("Invalid scope")||lw.createElement("div"):e)}},rA=function(e){return e.sort(function(){return .5-Math.random()})},sA=function(e){if(Jn(e))return e;var t=vo(e)?e:{each:e},i=Mu(t.ease),n=t.from||0,r=parseFloat(t.base)||0,o={},a=n>0&&n<1,d=isNaN(n)||a,p=t.axis,g=n,x=n;return Fa(n)?g=x={center:.5,edges:.5,end:1}[n]||0:!a&&d&&(g=n[0],x=n[1]),function(w,S,E){var M=(E||t).length,D=o[M],O,N,H,X,U,Q,Y,te,se;if(!D){if(se=t.grid==="auto"?0:(t.grid||[1,As])[1],!se){for(Y=-As;Y<(Y=E[se++].getBoundingClientRect().left)&&se<M;);se<M&&se--}for(D=o[M]=[],O=d?Math.min(se,M)*g-.5:n%se,N=se===As?0:d?M*x/se-.5:n/se|0,Y=0,te=As,Q=0;Q<M;Q++)H=Q%se-O,X=N-(Q/se|0),D[Q]=U=p?Math.abs(p==="y"?X:H):V2(H*H+X*X),U>Y&&(Y=U),U<te&&(te=U);n==="random"&&rA(D),D.max=Y-te,D.min=te,D.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(se>M?M-1:p?p==="y"?M/se:se:Math.max(se,M/se))||0)*(n==="edges"?-1:1),D.b=M<0?r-M:r,D.u=rr(t.amount||t.each)||0,i=i&&M<0?gA(i):i}return M=(D[w]-D.min)/D.max||0,Hn(D.b+(i?i(M):M)*D.v)+D.u}},Wb=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=Hn(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(al(i)?0:rr(i))}},oA=function(e,t){var i=lr(e),n,r;return!i&&vo(e)&&(n=i=e.radius||As,e.values?(e=Ms(e.values),(r=!al(e[0]))&&(n*=n)):e=Wb(e.increment)),dh(t,i?Jn(e)?function(o){return r=e(o),Math.abs(r-o)<=n?r:o}:function(o){for(var a=parseFloat(r?o.x:o),d=parseFloat(r?o.y:0),p=As,g=0,x=e.length,w,S;x--;)r?(w=e[x].x-a,S=e[x].y-d,w=w*w+S*S):w=Math.abs(e[x]-a),w<p&&(p=w,g=x);return g=!n||p<=n?e[g]:o,r||g===o||al(o)?g:g+rr(o)}:Wb(e))},lA=function(e,t,i,n){return dh(lr(e)?!t:i===!0?!!(i=0):!n,function(){return lr(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},Sz=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(r,o){return o(r)},n)}},Tz=function(e,t){return function(i){return e(parseFloat(i))+(t||rr(i))}},Cz=function(e,t,i){return uA(e,t,0,1,i)},hA=function(e,t,i){return dh(i,function(n){return e[~~t(n)]})},Az=function s(e,t,i){var n=t-e;return lr(e)?hA(e,s(0,e.length),t):dh(i,function(r){return(n+(r-e)%n)%n+e})},Mz=function s(e,t,i){var n=t-e,r=n*2;return lr(e)?hA(e,s(0,e.length-1),t):dh(i,function(o){return o=(r+(o-e)%r)%r||0,e+(o>n?r-o:o)})},am=function(e){return e.replace(oz,function(t){var i=t.indexOf("[")+1,n=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(lz);return lA(i?n:+n[0],i?0:+n[1],+n[2]||1e-5)})},uA=function(e,t,i,n,r){var o=t-e,a=n-i;return dh(r,function(d){return i+((d-e)/o*a||0)})},Pz=function s(e,t,i,n){var r=isNaN(e+t)?0:function(S){return(1-S)*e+S*t};if(!r){var o=Fa(e),a={},d,p,g,x,w;if(i===!0&&(n=1)&&(i=null),o)e={p:e},t={p:t};else if(lr(e)&&!lr(t)){for(g=[],x=e.length,w=x-2,p=1;p<x;p++)g.push(s(e[p-1],e[p]));x--,r=function(E){E*=x;var M=Math.min(w,~~E);return g[M](E-M)},i=t}else n||(e=Sd(lr(e)?[]:{},e));if(!g){for(d in t)pw.call(a,e,d,"get",t[d]);r=function(E){return yw(E,a)||(o?e.p:e)}}}return dh(i,r)},KS=function(e,t,i){var n=e.labels,r=As,o,a,d;for(o in n)a=n[o]-t,a<0==!!i&&a&&r>(a=Math.abs(a))&&(d=o,r=a);return d},ls=function(e,t,i){var n=e.vars,r=n[t],o=Fn,a=e._ctx,d,p,g;if(r)return d=n[t+"Params"],p=n.callbackScope||e,i&&Zl.length&&my(),a&&(Fn=a),g=d?r.apply(p,d):r.call(p),Fn=o,g},wp=function(e){return th(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Xa),e.progress()<1&&ls(e,"onInterrupt"),e},dd,cA=[],dA=function(e){if(e)if(e=!e.name&&e.default||e,ow()||e.headless){var t=e.name,i=Jn(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:nm,render:yw,add:pw,kill:Uz,modifier:Gz,rawVars:0},o={targetTest:0,get:0,getSetter:_w,aliases:{},register:0};if(Ad(),e!==n){if(as[t])return;fs(n,fs(gy(e,r),o)),Sd(n.prototype,Sd(r,gy(e,o))),as[n.prop=t]=n,e.targetTest&&(q_.push(n),uw[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}q2(t,n),e.register&&e.register(Vr,n,Nr)}else cA.push(e)},hn=255,kp={aqua:[0,hn,hn],lime:[0,hn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,hn],navy:[0,0,128],white:[hn,hn,hn],olive:[128,128,0],yellow:[hn,hn,0],orange:[hn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[hn,0,0],pink:[hn,192,203],cyan:[0,hn,hn],transparent:[hn,hn,hn,0]},Hv=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*hn+.5|0},fA=function(e,t,i){var n=e?al(e)?[e>>16,e>>8&hn,e&hn]:0:kp.black,r,o,a,d,p,g,x,w,S,E;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kp[e])n=kp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+r+r+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&hn,n&hn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&hn,e&hn]}else if(e.substr(0,3)==="hsl"){if(n=E=e.match(WS),!t)d=+n[0]%360/360,p=+n[1]/100,g=+n[2]/100,o=g<=.5?g*(p+1):g+p-g*p,r=g*2-o,n.length>3&&(n[3]*=1),n[0]=Hv(d+1/3,r,o),n[1]=Hv(d,r,o),n[2]=Hv(d-1/3,r,o);else if(~e.indexOf("="))return n=e.match(G2),i&&n.length<4&&(n[3]=1),n}else n=e.match(WS)||kp.transparent;n=n.map(Number)}return t&&!E&&(r=n[0]/hn,o=n[1]/hn,a=n[2]/hn,x=Math.max(r,o,a),w=Math.min(r,o,a),g=(x+w)/2,x===w?d=p=0:(S=x-w,p=g>.5?S/(2-x-w):S/(x+w),d=x===r?(o-a)/S+(o<a?6:0):x===o?(a-r)/S+2:(r-o)/S+4,d*=60),n[0]=~~(d+.5),n[1]=~~(p*100+.5),n[2]=~~(g*100+.5)),i&&n.length<4&&(n[3]=1),n},pA=function(e){var t=[],i=[],n=-1;return e.split(Kl).forEach(function(r){var o=r.match(cd)||[];t.push.apply(t,o),i.push(n+=o.length+1)}),t.c=i,t},JS=function(e,t,i){var n="",r=(e+n).match(Kl),o=t?"hsla(":"rgba(",a=0,d,p,g,x;if(!r)return e;if(r=r.map(function(w){return(w=fA(w,t,1))&&o+(t?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),i&&(g=pA(e),d=i.c,d.join(n)!==g.c.join(n)))for(p=e.replace(Kl,"1").split(cd),x=p.length-1;a<x;a++)n+=p[a]+(~d.indexOf(a)?r.shift()||o+"0,0,0,0)":(g.length?g:r.length?r:i).shift());if(!p)for(p=e.split(Kl),x=p.length-1;a<x;a++)n+=p[a]+r[a];return n+p[x]},Kl=(function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kp)s+="|"+e+"\\b";return new RegExp(s+")","gi")})(),Lz=/hsl[a]?\(/,mA=function(e){var t=e.join(" "),i;if(Kl.lastIndex=0,Kl.test(t))return i=Lz.test(t),e[1]=JS(e[1],i),e[0]=JS(e[0],i,pA(e[1])),!0},rm,ss=(function(){var s=Date.now,e=500,t=33,i=s(),n=i,r=1e3/240,o=r,a=[],d,p,g,x,w,S,E=function M(D){var O=s()-n,N=D===!0,H,X,U,Q;if((O>e||O<0)&&(i+=O-t),n+=O,U=n-i,H=U-o,(H>0||N)&&(Q=++x.frame,w=U-x.time*1e3,x.time=U=U/1e3,o+=H+(H>=r?4:r-H),X=1),N||(d=p(M)),X)for(S=0;S<a.length;S++)a[S](U,w,Q,D)};return x={time:0,frame:0,tick:function(){E(!0)},deltaRatio:function(D){return w/(1e3/(D||60))},wake:function(){W2&&(!Nb&&ow()&&(co=Nb=window,lw=co.document||{},ds.gsap=Vr,(co.gsapVersions||(co.gsapVersions=[])).push(Vr.version),X2(py||co.GreenSockGlobals||!co.gsap&&co||{}),cA.forEach(dA)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&x.sleep(),p=g||function(D){return setTimeout(D,o-x.time*1e3+1|0)},rm=1,E(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(d),rm=0,p=nm},lagSmoothing:function(D,O){e=D||1/0,t=Math.min(O||33,e)},fps:function(D){r=1e3/(D||240),o=x.time*1e3+r},add:function(D,O,N){var H=O?function(X,U,Q,Y){D(X,U,Q,Y),x.remove(H)}:D;return x.remove(D),a[N?"unshift":"push"](H),Ad(),H},remove:function(D,O){~(O=a.indexOf(D))&&a.splice(O,1)&&S>=O&&S--},_listeners:a},x})(),Ad=function(){return!rm&&ss.wake()},Ei={},Ez=/^[\d.\-M][\d.\-,\s]/,Iz=/["']/g,Dz=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],r=1,o=i.length,a,d,p;r<o;r++)d=i[r],a=r!==o-1?d.lastIndexOf(","):d.length,p=d.substr(0,a),t[n]=isNaN(p)?p.replace(Iz,"").trim():+p,n=d.substr(a+1).trim();return t},zz=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Rz=function(e){var t=(e+"").split("("),i=Ei[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Dz(t[1])]:zz(e).split(",").map(J2)):Ei._CE&&Ez.test(e)?Ei._CE("",e):i},gA=function(e){return function(t){return 1-e(1-t)}},_A=function s(e,t){for(var i=e._first,n;i;)i instanceof br?s(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?s(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},Mu=function(e,t){return e&&(Jn(e)?e:Ei[e]||Rz(e))||t},qu=function(e,t,i,n){i===void 0&&(i=function(d){return 1-t(1-d)}),n===void 0&&(n=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var r={easeIn:t,easeOut:i,easeInOut:n},o;return jr(e,function(a){Ei[a]=ds[a]=r,Ei[o=a.toLowerCase()]=i;for(var d in r)Ei[o+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Ei[a+"."+d]=r[d]}),r},yA=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},Gv=function s(e,t,i){var n=t>=1?t:1,r=(i||(e?.3:.45))/(t<1?t:1),o=r/jb*(Math.asin(1/n)||0),a=function(g){return g===1?1:n*Math.pow(2,-10*g)*sz((g-o)*r)+1},d=e==="out"?a:e==="in"?function(p){return 1-a(1-p)}:yA(a);return r=jb/r,d.config=function(p,g){return s(e,p,g)},d},Uv=function s(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},n=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:yA(i);return n.config=function(r){return s(e,r)},n};jr("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;qu(s+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Ei.Linear.easeNone=Ei.none=Ei.Linear.easeIn;qu("Elastic",Gv("in"),Gv("out"),Gv());(function(s,e){var t=1/e,i=2*t,n=2.5*t,r=function(a){return a<t?s*a*a:a<i?s*Math.pow(a-1.5/e,2)+.75:a<n?s*(a-=2.25/e)*a+.9375:s*Math.pow(a-2.625/e,2)+.984375};qu("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);qu("Expo",function(s){return Math.pow(2,10*(s-1))*s+s*s*s*s*s*s*(1-s)});qu("Circ",function(s){return-(V2(1-s*s)-1)});qu("Sine",function(s){return s===1?1:-rz(s*nz)+1});qu("Back",Uv("in"),Uv("out"),Uv());Ei.SteppedEase=Ei.steps=ds.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0,o=1-un;return function(a){return((n*Tm(0,o,a)|0)+r)*i}}};kd.ease=Ei["quad.out"];jr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return cw+=s+","+s+"Params,"});var xA=function(e,t){this.id=az++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Z2,this.set=t?t.getSetter:_w},sm=(function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Cd(this,+t.duration,1,1),this.data=t.data,Fn&&(this._ctx=Fn,Fn.data.push(this)),rm||ss.wake()}var e=s.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Cd(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(Ad(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Yy(this,i),!r._dp||r.parent||tA(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&mo(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===un||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),K2(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+YS(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+YS(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?Td(this._tTime,r)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-un?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?_y(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-un?0:this._rts,this.totalTime(Tm(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),qy(this),gz(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ad(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==un&&(this._tTime-=un)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Hn(i);var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&mo(n,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Br(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_y(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=dz);var n=Xa;return Xa=i,fw(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Xa=n,this},e.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,ZS(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,ZS(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(ks(this,i),Br(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Br(n)),this._dur||(this._zTime=-un),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-un:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-un,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-un)},e.eventCallback=function(i,n,r){var o=this.vars;return arguments.length>1?(n?(o[i]=n,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this,r=n._prom;return new Promise(function(o){var a=Jn(i)?i:Q2,d=function(){var g=n.then;n.then=null,r&&r(),Jn(a)&&(a=a(n))&&(a.then||a===n)&&(n.then=g),o(a),n.then=g};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?d():n._prom=d})},e.kill=function(){wp(this)},s})();fs(sm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-un,_prom:0,_ps:!1,_rts:1});var br=(function(s){$2(e,s);function e(i,n){var r;return i===void 0&&(i={}),r=s.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Br(i.sortChildren),Gn&&mo(i.parent||Gn,Xo(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&iA(Xo(r),i.scrollTrigger),r}var t=e.prototype;return t.to=function(n,r,o){return Fp(0,arguments,this),this},t.from=function(n,r,o){return Fp(1,arguments,this),this},t.fromTo=function(n,r,o,a){return Fp(2,arguments,this),this},t.set=function(n,r,o){return r.duration=0,r.parent=this,Rp(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new _a(n,r,ks(this,o),1),this},t.call=function(n,r,o){return mo(this,_a.delayedCall(0,n,r),o)},t.staggerTo=function(n,r,o,a,d,p,g){return o.duration=r,o.stagger=o.stagger||a,o.onComplete=p,o.onCompleteParams=g,o.parent=this,new _a(n,o,ks(this,d)),this},t.staggerFrom=function(n,r,o,a,d,p,g){return o.runBackwards=1,Rp(o).immediateRender=Br(o.immediateRender),this.staggerTo(n,r,o,a,d,p,g)},t.staggerFromTo=function(n,r,o,a,d,p,g,x){return a.startAt=o,Rp(a).immediateRender=Br(a.immediateRender),this.staggerTo(n,r,a,d,p,g,x)},t.render=function(n,r,o){var a=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,g=n<=0?0:Hn(n),x=this._zTime<0!=n<0&&(this._initted||!p),w,S,E,M,D,O,N,H,X,U,Q,Y;if(this!==Gn&&g>d&&n>=0&&(g=d),g!==this._tTime||o||x){if(a!==this._time&&p&&(g+=this._time-a,n+=this._time-a),w=g,X=this._start,H=this._ts,O=!H,x&&(p||(a=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(Q=this._yoyo,D=p+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(D*100+n,r,o);if(w=Hn(g%D),g===d?(M=this._repeat,w=p):(U=Hn(g/D),M=~~U,M&&M===U&&(w=p,M--),w>p&&(w=p)),U=Td(this._tTime,D),!a&&this._tTime&&U!==M&&this._tTime-U*D-this._dur<=0&&(U=M),Q&&M&1&&(w=p-w,Y=1),M!==U&&!this._lock){var te=Q&&U&1,se=te===(Q&&M&1);if(M<U&&(te=!te),a=te?0:g%p?p:g,this._lock=1,this.render(a||(Y?0:Hn(M*D)),r,!p)._lock=0,this._tTime=g,!r&&this.parent&&ls(this,"onRepeat"),this.vars.repeatRefresh&&!Y&&(this.invalidate()._lock=1,U=M),a&&a!==this._time||O!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,se&&(this._lock=2,a=te?p:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!Y&&this.invalidate()),this._lock=0,!this._ts&&!O)return this;_A(this,Y)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=vz(this,Hn(a),Hn(w)),N&&(g-=w-(w=N._start))),this._tTime=g,this._time=w,this._act=!H,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&g&&p&&!r&&!U&&(ls(this,"onStart"),this._tTime!==g))return this;if(w>=a&&n>=0)for(S=this._first;S;){if(E=S._next,(S._act||w>=S._start)&&S._ts&&N!==S){if(S.parent!==this)return this.render(n,r,o);if(S.render(S._ts>0?(w-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(w-S._start)*S._ts,r,o),w!==this._time||!this._ts&&!O){N=0,E&&(g+=this._zTime=-un);break}}S=E}else{S=this._last;for(var ce=n<0?n:w;S;){if(E=S._prev,(S._act||ce<=S._end)&&S._ts&&N!==S){if(S.parent!==this)return this.render(n,r,o);if(S.render(S._ts>0?(ce-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(ce-S._start)*S._ts,r,o||Xa&&fw(S)),w!==this._time||!this._ts&&!O){N=0,E&&(g+=this._zTime=ce?-un:un);break}}S=E}}if(N&&!r&&(this.pause(),N.render(w>=a?0:-un)._zTime=w>=a?1:-1,this._ts))return this._start=X,qy(this),this.render(n,r,o);this._onUpdate&&!r&&ls(this,"onUpdate",!0),(g===d&&this._tTime>=this.totalDuration()||!g&&a)&&(X===this._start||Math.abs(H)!==Math.abs(this._ts))&&(this._lock||((n||!p)&&(g===d&&this._ts>0||!g&&this._ts<0)&&th(this,1),!r&&!(n<0&&!a)&&(g||a||!d)&&(ls(this,g===d&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,r){var o=this;if(al(r)||(r=ks(this,r,n)),!(n instanceof sm)){if(lr(n))return n.forEach(function(a){return o.add(a,r)}),this;if(Fa(n))return this.addLabel(n,r);if(Jn(n))n=_a.delayedCall(0,n);else return this}return this!==n?mo(this,n,r):this},t.getChildren=function(n,r,o,a){n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),a===void 0&&(a=-As);for(var d=[],p=this._first;p;)p._start>=a&&(p instanceof _a?r&&d.push(p):(o&&d.push(p),n&&d.push.apply(d,p.getChildren(!0,r,o)))),p=p._next;return d},t.getById=function(n){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===n)return r[o]},t.remove=function(n){return Fa(n)?this.removeLabel(n):Jn(n)?this.killTweensOf(n):(n.parent===this&&Xy(this,n),n===this._recent&&(this._recent=this._last),Au(this))},t.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Hn(ss.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),s.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},t.addLabel=function(n,r){return this.labels[n]=ks(this,r),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,r,o){var a=_a.delayedCall(0,r||nm,o);return a.data="isPause",this._hasPause=1,mo(this,a,ks(this,n))},t.removePause=function(n){var r=this._first;for(n=ks(this,n);r;)r._start===n&&r.data==="isPause"&&th(r),r=r._next},t.killTweensOf=function(n,r,o){for(var a=this.getTweensOf(n,o),d=a.length;d--;)$l!==a[d]&&a[d].kill(n,r);return this},t.getTweensOf=function(n,r){for(var o=[],a=Ms(n),d=this._first,p=al(r),g;d;)d instanceof _a?fz(d._targets,a)&&(p?(!$l||d._initted&&d._ts)&&d.globalTime(0)<=r&&d.globalTime(d.totalDuration())>r:!r||d.isActive())&&o.push(d):(g=d.getTweensOf(a,r)).length&&o.push.apply(o,g),d=d._next;return o},t.tweenTo=function(n,r){r=r||{};var o=this,a=ks(o,n),d=r,p=d.startAt,g=d.onStart,x=d.onStartParams,w=d.immediateRender,S,E=_a.to(o,fs({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:r.duration||Math.abs((a-(p&&"time"in p?p.time:o._time))/o.timeScale())||un,onStart:function(){if(o.pause(),!S){var D=r.duration||Math.abs((a-(p&&"time"in p?p.time:o._time))/o.timeScale());E._dur!==D&&Cd(E,D,0,1).render(E._time,!0,!0),S=1}g&&g.apply(E,x||[])}},r));return w?E.render(0):E},t.tweenFromTo=function(n,r,o){return this.tweenTo(r,fs({startAt:{time:ks(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),KS(this,ks(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),KS(this,ks(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+un)},t.shiftChildren=function(n,r,o){o===void 0&&(o=0);var a=this._first,d=this.labels,p;for(n=Hn(n);a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(r)for(p in d)d[p]>=o&&(d[p]+=n);return Au(this)},t.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return s.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Au(this)},t.totalDuration=function(n){var r=0,o=this,a=o._last,d=As,p,g,x;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(x=o.parent;a;)p=a._prev,a._dirty&&a.totalDuration(),g=a._start,g>d&&o._sort&&a._ts&&!o._lock?(o._lock=1,mo(o,a,g-a._delay,1)._lock=0):d=g,g<0&&a._ts&&(r-=g,(!x&&!o._dp||x&&x.smoothChildTiming)&&(o._start+=Hn(g/o._ts),o._time-=g,o._tTime-=g),o.shiftChildren(-g,!1,-1/0),d=0),a._end>r&&a._ts&&(r=a._end),a=p;Cd(o,o===Gn&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(Gn._ts&&(K2(Gn,_y(n,Gn)),Y2=ss.frame),ss.frame>=XS){XS+=us.autoSleep||120;var r=Gn._first;if((!r||!r._ts)&&us.autoSleep&&ss._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||ss.sleep()}}},e})(sm);fs(br.prototype,{_lock:0,_hasPause:0,_forcing:0});var Fz=function(e,t,i,n,r,o,a){var d=new Nr(this._pt,e,t,0,1,TA,null,r),p=0,g=0,x,w,S,E,M,D,O,N;for(d.b=i,d.e=n,i+="",n+="",(O=~n.indexOf("random("))&&(n=am(n)),o&&(N=[i,n],o(N,e,t),i=N[0],n=N[1]),w=i.match($v)||[];x=$v.exec(n);)E=x[0],M=n.substring(p,x.index),S?S=(S+1)%5:M.substr(-5)==="rgba("&&(S=1),E!==w[g++]&&(D=parseFloat(w[g-1])||0,d._pt={_next:d._pt,p:M||g===1?M:",",s:D,c:E.charAt(1)==="="?md(D,E)-D:parseFloat(E)-D,m:S&&S<4?Math.round:0},p=$v.lastIndex);return d.c=p<n.length?n.substring(p,n.length):"",d.fp=a,(U2.test(n)||O)&&(d.e=0),this._pt=d,d},pw=function(e,t,i,n,r,o,a,d,p,g){Jn(n)&&(n=n(r||0,e,o));var x=e[t],w=i!=="get"?i:Jn(x)?p?e[t.indexOf("set")||!Jn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():x,S=Jn(x)?p?$z:kA:gw,E;if(Fa(n)&&(~n.indexOf("random(")&&(n=am(n)),n.charAt(1)==="="&&(E=md(w,n)+(rr(w)||0),(E||E===0)&&(n=E))),!g||w!==n||Xb)return!isNaN(w*n)&&n!==""?(E=new Nr(this._pt,e,t,+w||0,n-(w||0),typeof x=="boolean"?Hz:SA,0,S),p&&(E.fp=p),a&&E.modifier(a,this,e),this._pt=E):(!x&&!(t in e)&&hw(t,n),Fz.call(this,e,t,w,n,S,d||us.stringFilter,p))},Oz=function(e,t,i,n,r){if(Jn(e)&&(e=Op(e,r,t,i,n)),!vo(e)||e.style&&e.nodeType||lr(e)||H2(e))return Fa(e)?Op(e,r,t,i,n):e;var o={},a;for(a in e)o[a]=Op(e[a],r,t,i,n);return o},vA=function(e,t,i,n,r,o){var a,d,p,g;if(as[e]&&(a=new as[e]).init(r,a.rawVars?t[e]:Oz(t[e],n,r,o,i),i,n,o)!==!1&&(i._pt=d=new Nr(i._pt,r,e,0,1,a.render,a,0,a.priority),i!==dd))for(p=i._ptLookup[i._targets.indexOf(r)],g=a._props.length;g--;)p[a._props[g]]=d;return a},$l,Xb,mw=function s(e,t,i){var n=e.vars,r=n.ease,o=n.startAt,a=n.immediateRender,d=n.lazy,p=n.onUpdate,g=n.runBackwards,x=n.yoyoEase,w=n.keyframes,S=n.autoRevert,E=e._dur,M=e._startAt,D=e._targets,O=e.parent,N=O&&O.data==="nested"?O.vars.targets:D,H=e._overwrite==="auto"&&!rw,X=e.timeline,U,Q,Y,te,se,ce,ve,xe,Ee,Be,Oe,Ue,$e;if(X&&(!w||!r)&&(r="none"),e._ease=Mu(r,kd.ease),e._yEase=x?gA(Mu(x===!0?r:x,kd.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),e._from=!X&&!!n.runBackwards,!X||w&&!n.stagger){if(xe=D[0]?Cu(D[0]).harness:0,Ue=xe&&n[xe.prop],U=gy(n,uw),M&&(M._zTime<0&&M.progress(1),t<0&&g&&a&&!S?M.render(-1,!0):M.revert(g&&E?X_:cz),M._lazy=0),o){if(th(e._startAt=_a.set(D,fs({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:!M&&Br(d),startAt:null,delay:0,onUpdate:p&&function(){return ls(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xa||!a&&!S)&&e._startAt.revert(X_),a&&E&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(g&&E&&!M){if(t&&(a=!1),Y=fs({overwrite:!1,data:"isFromStart",lazy:a&&!M&&Br(d),immediateRender:a,stagger:0,parent:O},U),Ue&&(Y[xe.prop]=Ue),th(e._startAt=_a.set(D,Y)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Xa?e._startAt.revert(X_):e._startAt.render(-1,!0)),e._zTime=t,!a)s(e._startAt,un,un);else if(!t)return}for(e._pt=e._ptCache=0,d=E&&Br(d)||d&&!E,Q=0;Q<D.length;Q++){if(se=D[Q],ve=se._gsap||dw(D)[Q]._gsap,e._ptLookup[Q]=Be={},$b[ve.id]&&Zl.length&&my(),Oe=N===D?Q:N.indexOf(se),xe&&(Ee=new xe).init(se,Ue||U,e,Oe,N)!==!1&&(e._pt=te=new Nr(e._pt,se,Ee.name,0,1,Ee.render,Ee,0,Ee.priority),Ee._props.forEach(function(nt){Be[nt]=te}),Ee.priority&&(ce=1)),!xe||Ue)for(Y in U)as[Y]&&(Ee=vA(Y,U,e,Oe,se,N))?Ee.priority&&(ce=1):Be[Y]=te=pw.call(e,se,Y,"get",U[Y],Oe,N,0,n.stringFilter);e._op&&e._op[Q]&&e.kill(se,e._op[Q]),H&&e._pt&&($l=e,Gn.killTweensOf(se,Be,e.globalTime(t)),$e=!e.parent,$l=0),e._pt&&d&&($b[ve.id]=1)}ce&&CA(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!$e,w&&t<=0&&X.render(As,!0,!0)},Bz=function(e,t,i,n,r,o,a,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],g,x,w,S;if(!p)for(p=e._ptCache[t]=[],w=e._ptLookup,S=e._targets.length;S--;){if(g=w[S][t],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==t&&g.fp!==t;)g=g._next;if(!g)return Xb=1,e.vars[t]="+=0",mw(e,a),Xb=0,d?im(t+" not eligible for reset"):1;p.push(g)}for(S=p.length;S--;)x=p[S],g=x._pt||x,g.s=(n||n===0)&&!r?n:g.s+(n||0)+o*g.c,g.c=i-g.s,x.e&&(x.e=ra(i)+rr(x.e)),x.b&&(x.b=g.s+rr(x.b))},jz=function(e,t){var i=e[0]?Cu(e[0]).harness:0,n=i&&i.aliases,r,o,a,d;if(!n)return t;r=Sd({},t);for(o in n)if(o in r)for(d=n[o].split(","),a=d.length;a--;)r[d[a]]=r[o];return r},Nz=function(e,t,i,n){var r=t.ease||n||"power1.inOut",o,a;if(lr(t))a=i[e]||(i[e]=[]),t.forEach(function(d,p){return a.push({t:p/(t.length-1)*100,v:d,e:r})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:r})},Op=function(e,t,i,n,r){return Jn(e)?e.call(t,i,n,r):Fa(e)&&~e.indexOf("random(")?am(e):e},bA=cw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",wA={};jr(bA+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return wA[s]=1});var _a=(function(s){$2(e,s);function e(i,n,r,o){var a;typeof n=="number"&&(r.duration=n,n=r,r=null),a=s.call(this,o?n:Rp(n))||this;var d=a.vars,p=d.duration,g=d.delay,x=d.immediateRender,w=d.stagger,S=d.overwrite,E=d.keyframes,M=d.defaults,D=d.scrollTrigger,O=d.yoyoEase,N=n.parent||Gn,H=(lr(i)||H2(i)?al(i[0]):"length"in n)?[i]:Ms(i),X,U,Q,Y,te,se,ce,ve;if(a._targets=H.length?dw(H):im("GSAP target "+i+" not found. https://gsap.com",!us.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=S,E||w||f_(p)||f_(g)){if(n=a.vars,X=a.timeline=new br({data:"nested",defaults:M||{},targets:N&&N.data==="nested"?N.vars.targets:H}),X.kill(),X.parent=X._dp=Xo(a),X._start=0,w||f_(p)||f_(g)){if(Y=H.length,ce=w&&sA(w),vo(w))for(te in w)~bA.indexOf(te)&&(ve||(ve={}),ve[te]=w[te]);for(U=0;U<Y;U++)Q=gy(n,wA),Q.stagger=0,O&&(Q.yoyoEase=O),ve&&Sd(Q,ve),se=H[U],Q.duration=+Op(p,Xo(a),U,se,H),Q.delay=(+Op(g,Xo(a),U,se,H)||0)-a._delay,!w&&Y===1&&Q.delay&&(a._delay=g=Q.delay,a._start+=g,Q.delay=0),X.to(se,Q,ce?ce(U,se,H):0),X._ease=Ei.none;X.duration()?p=g=0:a.timeline=0}else if(E){Rp(fs(X.vars.defaults,{ease:"none"})),X._ease=Mu(E.ease||n.ease||"none");var xe=0,Ee,Be,Oe;if(lr(E))E.forEach(function(Ue){return X.to(H,Ue,">")}),X.duration();else{Q={};for(te in E)te==="ease"||te==="easeEach"||Nz(te,E[te],Q,E.easeEach);for(te in Q)for(Ee=Q[te].sort(function(Ue,$e){return Ue.t-$e.t}),xe=0,U=0;U<Ee.length;U++)Be=Ee[U],Oe={ease:Be.e,duration:(Be.t-(U?Ee[U-1].t:0))/100*p},Oe[te]=Be.v,X.to(H,Oe,xe),xe+=Oe.duration;X.duration()<p&&X.to({},{duration:p-X.duration()})}}p||a.duration(p=X.duration())}else a.timeline=0;return S===!0&&!rw&&($l=Xo(a),Gn.killTweensOf(H),$l=0),mo(N,Xo(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(x||!p&&!E&&a._start===Hn(N._time)&&Br(x)&&_z(Xo(a))&&N.data!=="nested")&&(a._tTime=-un,a.render(Math.max(0,-g)||0)),D&&iA(Xo(a),D),a}var t=e.prototype;return t.render=function(n,r,o){var a=this._time,d=this._tDur,p=this._dur,g=n<0,x=n>d-un&&!g?d:n<un?0:n,w,S,E,M,D,O,N,H,X;if(!p)xz(this,n,r,o);else if(x!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(w=x,H=this.timeline,this._repeat){if(M=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(M*100+n,r,o);if(w=Hn(x%M),x===d?(E=this._repeat,w=p):(D=Hn(x/M),E=~~D,E&&E===D?(w=p,E--):w>p&&(w=p)),O=this._yoyo&&E&1,O&&(X=this._yEase,w=p-w),D=Td(this._tTime,M),w===a&&!o&&this._initted&&E===D)return this._tTime=x,this;E!==D&&(H&&this._yEase&&_A(H,O),this.vars.repeatRefresh&&!O&&!this._lock&&w!==M&&this._initted&&(this._lock=o=1,this.render(Hn(M*E),!0).invalidate()._lock=0))}if(!this._initted){if(nA(this,g?n:w,o,r,x))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&E!==D))return this;if(p!==this._dur)return this.render(n,r,o)}if(this._tTime=x,this._time=w,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(X||this._ease)(w/p),this._from&&(this.ratio=N=1-N),!a&&x&&!r&&!D&&(ls(this,"onStart"),this._tTime!==x))return this;for(S=this._pt;S;)S.r(N,S.d),S=S._next;H&&H.render(n<0?n:H._dur*H._ease(w/this._dur),r,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(g&&Vb(this,n,r,o),ls(this,"onUpdate")),this._repeat&&E!==D&&this.vars.onRepeat&&!r&&this.parent&&ls(this,"onRepeat"),(x===this._tDur||!x)&&this._tTime===x&&(g&&!this._onUpdate&&Vb(this,n,!0,!0),(n||!p)&&(x===this._tDur&&this._ts>0||!x&&this._ts<0)&&th(this,1),!r&&!(g&&!a)&&(x||a||O)&&(ls(this,x===d?"onComplete":"onReverseComplete",!0),this._prom&&!(x<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),s.prototype.invalidate.call(this,n)},t.resetTo=function(n,r,o,a,d){rm||ss.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||mw(this,p),g=this._ease(p/this._dur),Bz(this,n,r,o,a,g,p,d)?this.resetTo(n,r,o,a,1):(Yy(this,0),this.parent||eA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?wp(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Xa),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,$l&&$l.vars.overwrite!==!0)._first||wp(this),this.parent&&o!==this.timeline.totalDuration()&&Cd(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,d=n?Ms(n):a,p=this._ptLookup,g=this._pt,x,w,S,E,M,D,O;if((!r||r==="all")&&mz(a,d))return r==="all"&&(this._pt=0),wp(this);for(x=this._op=this._op||[],r!=="all"&&(Fa(r)&&(M={},jr(r,function(N){return M[N]=1}),r=M),r=jz(a,r)),O=a.length;O--;)if(~d.indexOf(a[O])){w=p[O],r==="all"?(x[O]=r,E=w,S={}):(S=x[O]=x[O]||{},E=r);for(M in E)D=w&&w[M],D&&((!("kill"in D.d)||D.d.kill(M)===!0)&&Xy(this,D,"_pt"),delete w[M]),S!=="all"&&(S[M]=1)}return this._initted&&!this._pt&&g&&wp(this),this},e.to=function(n,r){return new e(n,r,arguments[2])},e.from=function(n,r){return Fp(1,arguments)},e.delayedCall=function(n,r,o,a){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,r,o){return Fp(2,arguments)},e.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(n,r)},e.killTweensOf=function(n,r,o){return Gn.killTweensOf(n,r,o)},e})(sm);fs(_a.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});jr("staggerTo,staggerFrom,staggerFromTo",function(s){_a[s]=function(){var e=new br,t=Gb.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var gw=function(e,t,i){return e[t]=i},kA=function(e,t,i){return e[t](i)},$z=function(e,t,i,n){return e[t](n.fp,i)},Vz=function(e,t,i){return e.setAttribute(t,i)},_w=function(e,t){return Jn(e[t])?kA:sw(e[t])&&e.setAttribute?Vz:gw},SA=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Hz=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},TA=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},yw=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Gz=function(e,t,i,n){for(var r=this._pt,o;r;)o=r._next,r.p===n&&r.modifier(e,t,i),r=o},Uz=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?Xy(this,t,"_pt"):t.dep||(i=1),t=n;return!i},Wz=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},CA=function(e){for(var t=e._pt,i,n,r,o;t;){for(i=t._next,n=r;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:o)?t._prev._next=t:r=t,(t._next=n)?n._prev=t:o=t,t=i}e._pt=r},Nr=(function(){function s(t,i,n,r,o,a,d,p,g){this.t=i,this.s=r,this.c=o,this.p=n,this.r=a||SA,this.d=d||this,this.set=p||gw,this.pr=g||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=Wz,this.m=i,this.mt=r,this.tween=n},s})();jr(cw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return uw[s]=1});ds.TweenMax=ds.TweenLite=_a;ds.TimelineLite=ds.TimelineMax=br;Gn=new br({sortChildren:!1,defaults:kd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});us.stringFilter=mA;var Pu=[],Y_={},Xz=[],QS=0,qz=0,Wv=function(e){return(Y_[e]||Xz).map(function(t){return t()})},qb=function(){var e=Date.now(),t=[];e-QS>2&&(Wv("matchMediaInit"),Pu.forEach(function(i){var n=i.queries,r=i.conditions,o,a,d,p;for(a in n)o=co.matchMedia(n[a]).matches,o&&(d=1),o!==r[a]&&(r[a]=o,p=1);p&&(i.revert(),d&&t.push(i))}),Wv("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),QS=e,Wv("matchMedia"))},AA=(function(){function s(t,i){this.selector=i&&Ub(i),this.data=[],this._r=[],this.isReverted=!1,this.id=qz++,t&&this.add(t)}var e=s.prototype;return e.add=function(i,n,r){Jn(i)&&(r=n,n=i,i=Jn);var o=this,a=function(){var p=Fn,g=o.selector,x;return p&&p!==o&&p.data.push(o),r&&(o.selector=Ub(r)),Fn=o,x=n.apply(o,arguments),Jn(x)&&o._r.push(x),Fn=p,o.selector=g,o.isReverted=!1,x};return o.last=a,i===Jn?a(o,function(d){return o.add(null,d)}):i?o[i]=a:a},e.ignore=function(i){var n=Fn;Fn=null,i(this),Fn=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof s?i.push.apply(i,n.getTweens()):n instanceof _a&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var r=this;if(i?(function(){for(var a=r.getTweens(),d=r.data.length,p;d--;)p=r.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(g){return a.splice(a.indexOf(g),1)}));for(a.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,x){return x.g-g.g||-1/0}).forEach(function(g){return g.t.revert(i)}),d=r.data.length;d--;)p=r.data[d],p instanceof br?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof _a)&&p.revert&&p.revert(i);r._r.forEach(function(g){return g(i,r)}),r.isReverted=!0})():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=Pu.length;o--;)Pu[o].id===this.id&&Pu.splice(o,1)},e.revert=function(i){this.kill(i||{})},s})(),Yz=(function(){function s(t){this.contexts=[],this.scope=t,Fn&&Fn.data.push(this)}var e=s.prototype;return e.add=function(i,n,r){vo(i)||(i={matches:i});var o=new AA(0,r||this.scope),a=o.conditions={},d,p,g;Fn&&!o.selector&&(o.selector=Fn.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(p in i)p==="all"?g=1:(d=co.matchMedia(i[p]),d&&(Pu.indexOf(o)<0&&Pu.push(o),(a[p]=d.matches)&&(g=1),d.addListener?d.addListener(qb):d.addEventListener("change",qb)));return g&&n(o,function(x){return o.add(null,x)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},s})(),yy={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return dA(n)})},timeline:function(e){return new br(e)},getTweensOf:function(e,t){return Gn.getTweensOf(e,t)},getProperty:function(e,t,i,n){Fa(e)&&(e=Ms(e)[0]);var r=Cu(e||{}).get,o=i?Q2:J2;return i==="native"&&(i=""),e&&(t?o((as[t]&&as[t].get||r)(e,t,i,n)):function(a,d,p){return o((as[a]&&as[a].get||r)(e,a,d,p))})},quickSetter:function(e,t,i){if(e=Ms(e),e.length>1){var n=e.map(function(g){return Vr.quickSetter(g,t,i)}),r=n.length;return function(g){for(var x=r;x--;)n[x](g)}}e=e[0]||{};var o=as[t],a=Cu(e),d=a.harness&&(a.harness.aliases||{})[t]||t,p=o?function(g){var x=new o;dd._pt=0,x.init(e,i?g+i:g,dd,0,[e]),x.render(1,x),dd._pt&&yw(1,dd)}:a.set(e,d);return o?p:function(g){return p(e,d,i?g+i:g,a,1)}},quickTo:function(e,t,i){var n,r=Vr.to(e,fs((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(d,p,g){return r.resetTo(t,d,p,g)};return o.tween=r,o},isTweening:function(e){return Gn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Mu(e.ease,kd.ease)),qS(kd,e||{})},config:function(e){return qS(us,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!as[a]&&!ds[a]&&im(t+" effect requires "+a+" plugin.")}),Vv[t]=function(a,d,p){return i(Ms(a),fs(d||{},r),p)},o&&(br.prototype[t]=function(a,d,p){return this.add(Vv[t](a,vo(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Ei[e]=Mu(t)},parseEase:function(e,t){return arguments.length?Mu(e,t):Ei},getById:function(e){return Gn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new br(e),n,r;for(i.smoothChildTiming=Br(e.smoothChildTiming),Gn.remove(i),i._dp=0,i._time=i._tTime=Gn._time,n=Gn._first;n;)r=n._next,(t||!(!n._dur&&n instanceof _a&&n.vars.onComplete===n._targets[0]))&&mo(i,n,n._start-n._delay),n=r;return mo(Gn,i,0),i},context:function(e,t){return e?new AA(e,t):Fn},matchMedia:function(e){return new Yz(e)},matchMediaRefresh:function(){return Pu.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||qb()},addEventListener:function(e,t){var i=Y_[e]||(Y_[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Y_[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:Az,wrapYoyo:Mz,distribute:sA,random:lA,snap:oA,normalize:Cz,getUnit:rr,clamp:wz,splitColor:fA,toArray:Ms,selector:Ub,mapRange:uA,pipe:Sz,unitize:Tz,interpolate:Pz,shuffle:rA},install:X2,effects:Vv,ticker:ss,updateRoot:br.updateRoot,plugins:as,globalTimeline:Gn,core:{PropTween:Nr,globals:q2,Tween:_a,Timeline:br,Animation:sm,getCache:Cu,_removeLinkedListItem:Xy,reverting:function(){return Xa},context:function(e){return e&&Fn&&(Fn.data.push(e),e._ctx=Fn),Fn},suppressOverwrites:function(e){return rw=e}}};jr("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return yy[s]=_a[s]});ss.add(br.updateRoot);dd=yy.to({},{duration:0});var Zz=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Kz=function(e,t){var i=e._targets,n,r,o;for(n in t)for(r=i.length;r--;)o=e._ptLookup[r][n],o&&(o=o.d)&&(o._pt&&(o=Zz(o,n)),o&&o.modifier&&o.modifier(t[n],e,i[r],n))},Xv=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,r,o){o._onInit=function(a){var d,p;if(Fa(r)&&(d={},jr(r,function(g){return d[g]=1}),r=d),t){d={};for(p in r)d[p]=t(r[p]);r=d}Kz(a,r)}}}},Vr=yy.registerPlugin({name:"attr",init:function(e,t,i,n,r){var o,a,d;this.tween=i;for(o in t)d=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(d||0)+"",t[o],n,r,0,0,o),a.op=o,a.b=d,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)Xa?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Xv("roundProps",Wb),Xv("modifiers"),Xv("snap",oA))||yy;_a.version=br.version=Vr.version="3.14.2";W2=1;ow()&&Ad();Ei.Power0;Ei.Power1;Ei.Power2;Ei.Power3;Ei.Power4;Ei.Linear;Ei.Quad;Ei.Cubic;Ei.Quart;Ei.Quint;Ei.Strong;Ei.Elastic;Ei.Back;Ei.SteppedEase;Ei.Bounce;Ei.Sine;Ei.Expo;Ei.Circ;var eT,Vl,gd,xw,vu,tT,vw,Jz=function(){return typeof window<"u"},rl={},cu=180/Math.PI,_d=Math.PI/180,id=Math.atan2,iT=1e8,bw=/([A-Z])/g,Qz=/(left|right|width|margin|padding|x)/i,eR=/[\s,\(]\S/,go={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Yb=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},tR=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},iR=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},nR=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},aR=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},MA=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},PA=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},rR=function(e,t,i){return e.style[t]=i},sR=function(e,t,i){return e.style.setProperty(t,i)},oR=function(e,t,i){return e._gsap[t]=i},lR=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},hR=function(e,t,i,n,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},uR=function(e,t,i,n,r){var o=e._gsap;o[t]=i,o.renderTransform(r,o)},Un="transform",$r=Un+"Origin",cR=function s(e,t){var i=this,n=this.target,r=n.style,o=n._gsap;if(e in rl&&r){if(this.tfm=this.tfm||{},e!=="transform")e=go[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Yo(n,a)}):this.tfm[e]=o.x?o[e]:Yo(n,e),e===$r&&(this.tfm.zOrigin=o.zOrigin);else return go.transform.split(",").forEach(function(a){return s.call(i,a,t)});if(this.props.indexOf(Un)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push($r,t,"")),e=Un}(r||t)&&this.props.push(e,t,r[e])},LA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},dR=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?i[e[r]]=e[r+2]:i.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(bw,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=vw(),(!r||!r.isStart)&&!i[Un]&&(LA(i),n.zOrigin&&i[$r]&&(i[$r]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},EA=function(e,t){var i={target:e,props:[],revert:dR,save:cR};return e._gsap||Vr.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},IA,Zb=function(e,t){var i=Vl.createElementNS?Vl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Vl.createElement(e);return i&&i.style?i:Vl.createElement(e)},hs=function s(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(bw,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&s(e,Md(t)||t,1)||""},nT="O,Moz,ms,Ms,Webkit".split(","),Md=function(e,t,i){var n=t||vu,r=n.style,o=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(nT[o]+e in r););return o<0?null:(o===3?"ms":o>=0?nT[o]:"")+e},Kb=function(){Jz()&&window.document&&(eT=window,Vl=eT.document,gd=Vl.documentElement,vu=Zb("div")||{style:{}},Zb("div"),Un=Md(Un),$r=Un+"Origin",vu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",IA=!!Md("perspective"),vw=Vr.core.reverting,xw=1)},aT=function(e){var t=e.ownerSVGElement,i=Zb("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),r;n.style.display="block",i.appendChild(n),gd.appendChild(i);try{r=n.getBBox()}catch{}return i.removeChild(n),gd.removeChild(i),r},rT=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},DA=function(e){var t,i;try{t=e.getBBox()}catch{t=aT(e),i=1}return t&&(t.width||t.height)||i||(t=aT(e)),t&&!t.width&&!t.x&&!t.y?{x:+rT(e,["x","cx","x1"])||0,y:+rT(e,["y","cy","y1"])||0,width:0,height:0}:t},zA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&DA(e))},ih=function(e,t){if(t){var i=e.style,n;t in rl&&t!==$r&&(t=Un),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(bw,"-$1").toLowerCase())):i.removeAttribute(t)}},Hl=function(e,t,i,n,r,o){var a=new Nr(e._pt,t,i,0,1,o?PA:MA);return e._pt=a,a.b=n,a.e=r,e._props.push(i),a},sT={deg:1,rad:1,turn:1},fR={grid:1,flex:1},nh=function s(e,t,i,n){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",a=vu.style,d=Qz.test(t),p=e.tagName.toLowerCase()==="svg",g=(p?"client":"offset")+(d?"Width":"Height"),x=100,w=n==="px",S=n==="%",E,M,D,O;if(n===o||!r||sT[n]||sT[o])return r;if(o!=="px"&&!w&&(r=s(e,t,i,"px")),O=e.getCTM&&zA(e),(S||o==="%")&&(rl[t]||~t.indexOf("adius")))return E=O?e.getBBox()[d?"width":"height"]:e[g],ra(S?r/E*x:r/100*E);if(a[d?"width":"height"]=x+(w?o:n),M=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!p?e:e.parentNode,O&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===Vl||!M.appendChild)&&(M=Vl.body),D=M._gsap,D&&S&&D.width&&d&&D.time===ss.time&&!D.uncache)return ra(r/D.width*x);if(S&&(t==="height"||t==="width")){var N=e.style[t];e.style[t]=x+n,E=e[g],N?e.style[t]=N:ih(e,t)}else(S||o==="%")&&!fR[hs(M,"display")]&&(a.position=hs(e,"position")),M===e&&(a.position="static"),M.appendChild(vu),E=vu[g],M.removeChild(vu),a.position="absolute";return d&&S&&(D=Cu(M),D.time=ss.time,D.width=M[g]),ra(w?E*r/x:E&&r?x/E*r:0)},Yo=function(e,t,i,n){var r;return xw||Kb(),t in go&&t!=="transform"&&(t=go[t],~t.indexOf(",")&&(t=t.split(",")[0])),rl[t]&&t!=="transform"?(r=lm(e,n),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:vy(hs(e,$r))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=xy[t]&&xy[t](e,t,i)||hs(e,t)||Z2(e,t)||(t==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?nh(e,t,r,i)+i:r},pR=function(e,t,i,n){if(!i||i==="none"){var r=Md(t,e,1),o=r&&hs(e,r,1);o&&o!==i?(t=r,i=o):t==="borderColor"&&(i=hs(e,"borderTopColor"))}var a=new Nr(this._pt,e.style,t,0,1,TA),d=0,p=0,g,x,w,S,E,M,D,O,N,H,X,U;if(a.b=i,a.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=hs(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(M=e.style[t],e.style[t]=n,n=hs(e,t)||n,M?e.style[t]=M:ih(e,t)),g=[i,n],mA(g),i=g[0],n=g[1],w=i.match(cd)||[],U=n.match(cd)||[],U.length){for(;x=cd.exec(n);)D=x[0],N=n.substring(d,x.index),E?E=(E+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(E=1),D!==(M=w[p++]||"")&&(S=parseFloat(M)||0,X=M.substr((S+"").length),D.charAt(1)==="="&&(D=md(S,D)+X),O=parseFloat(D),H=D.substr((O+"").length),d=cd.lastIndex-H.length,H||(H=H||us.units[t]||X,d===n.length&&(n+=H,a.e+=H)),X!==H&&(S=nh(e,t,M,H)||0),a._pt={_next:a._pt,p:N||p===1?N:",",s:S,c:O-S,m:E&&E<4||t==="zIndex"?Math.round:0});a.c=d<n.length?n.substring(d,n.length):""}else a.r=t==="display"&&n==="none"?PA:MA;return U2.test(n)&&(a.e=0),this._pt=a,a},oT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mR=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=oT[i]||i,t[1]=oT[n]||n,t.join(" ")},gR=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,r=t.u,o=i._gsap,a,d,p;if(r==="all"||r===!0)n.cssText="",d=1;else for(r=r.split(","),p=r.length;--p>-1;)a=r[p],rl[a]&&(d=1,a=a==="transformOrigin"?$r:Un),ih(i,a);d&&(ih(i,Un),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",lm(i,1),o.uncache=1,LA(n)))}},xy={clearProps:function(e,t,i,n,r){if(r.data!=="isFromStart"){var o=e._pt=new Nr(e._pt,t,i,0,0,gR);return o.u=n,o.pr=-10,o.tween=r,e._props.push(i),1}}},om=[1,0,0,1,0,0],RA={},FA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},lT=function(e){var t=hs(e,Un);return FA(t)?om:t.substr(7).match(G2).map(ra)},ww=function(e,t){var i=e._gsap||Cu(e),n=e.style,r=lT(e),o,a,d,p;return i.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,r=[d.a,d.b,d.c,d.d,d.e,d.f],r.join(",")==="1,0,0,1,0,0"?om:r):(r===om&&!e.offsetParent&&e!==gd&&!i.svg&&(d=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,a=e.nextElementSibling,gd.appendChild(e)),r=lT(e),d?n.display=d:ih(e,"display"),p&&(a?o.insertBefore(e,a):o?o.appendChild(e):gd.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},Jb=function(e,t,i,n,r,o){var a=e._gsap,d=r||ww(e,!0),p=a.xOrigin||0,g=a.yOrigin||0,x=a.xOffset||0,w=a.yOffset||0,S=d[0],E=d[1],M=d[2],D=d[3],O=d[4],N=d[5],H=t.split(" "),X=parseFloat(H[0])||0,U=parseFloat(H[1])||0,Q,Y,te,se;i?d!==om&&(Y=S*D-E*M)&&(te=X*(D/Y)+U*(-M/Y)+(M*N-D*O)/Y,se=X*(-E/Y)+U*(S/Y)-(S*N-E*O)/Y,X=te,U=se):(Q=DA(e),X=Q.x+(~H[0].indexOf("%")?X/100*Q.width:X),U=Q.y+(~(H[1]||H[0]).indexOf("%")?U/100*Q.height:U)),n||n!==!1&&a.smooth?(O=X-p,N=U-g,a.xOffset=x+(O*S+N*M)-O,a.yOffset=w+(O*E+N*D)-N):a.xOffset=a.yOffset=0,a.xOrigin=X,a.yOrigin=U,a.smooth=!!n,a.origin=t,a.originIsAbsolute=!!i,e.style[$r]="0px 0px",o&&(Hl(o,a,"xOrigin",p,X),Hl(o,a,"yOrigin",g,U),Hl(o,a,"xOffset",x,a.xOffset),Hl(o,a,"yOffset",w,a.yOffset)),e.setAttribute("data-svg-origin",X+" "+U)},lm=function(e,t){var i=e._gsap||new xA(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,r=i.scaleX<0,o="px",a="deg",d=getComputedStyle(e),p=hs(e,$r)||"0",g,x,w,S,E,M,D,O,N,H,X,U,Q,Y,te,se,ce,ve,xe,Ee,Be,Oe,Ue,$e,nt,Qe,Ae,ft,Dt,Yt,wt,Rt;return g=x=w=M=D=O=N=H=X=0,S=E=1,i.svg=!!(e.getCTM&&zA(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(n[Un]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[Un]!=="none"?d[Un]:"")),n.scale=n.rotate=n.translate="none"),Y=ww(e,i.svg),i.svg&&(i.uncache?(nt=e.getBBox(),p=i.xOrigin-nt.x+"px "+(i.yOrigin-nt.y)+"px",$e=""):$e=!t&&e.getAttribute("data-svg-origin"),Jb(e,$e||p,!!$e||i.originIsAbsolute,i.smooth!==!1,Y)),U=i.xOrigin||0,Q=i.yOrigin||0,Y!==om&&(ve=Y[0],xe=Y[1],Ee=Y[2],Be=Y[3],g=Oe=Y[4],x=Ue=Y[5],Y.length===6?(S=Math.sqrt(ve*ve+xe*xe),E=Math.sqrt(Be*Be+Ee*Ee),M=ve||xe?id(xe,ve)*cu:0,N=Ee||Be?id(Ee,Be)*cu+M:0,N&&(E*=Math.abs(Math.cos(N*_d))),i.svg&&(g-=U-(U*ve+Q*Ee),x-=Q-(U*xe+Q*Be))):(Rt=Y[6],Yt=Y[7],Ae=Y[8],ft=Y[9],Dt=Y[10],wt=Y[11],g=Y[12],x=Y[13],w=Y[14],te=id(Rt,Dt),D=te*cu,te&&(se=Math.cos(-te),ce=Math.sin(-te),$e=Oe*se+Ae*ce,nt=Ue*se+ft*ce,Qe=Rt*se+Dt*ce,Ae=Oe*-ce+Ae*se,ft=Ue*-ce+ft*se,Dt=Rt*-ce+Dt*se,wt=Yt*-ce+wt*se,Oe=$e,Ue=nt,Rt=Qe),te=id(-Ee,Dt),O=te*cu,te&&(se=Math.cos(-te),ce=Math.sin(-te),$e=ve*se-Ae*ce,nt=xe*se-ft*ce,Qe=Ee*se-Dt*ce,wt=Be*ce+wt*se,ve=$e,xe=nt,Ee=Qe),te=id(xe,ve),M=te*cu,te&&(se=Math.cos(te),ce=Math.sin(te),$e=ve*se+xe*ce,nt=Oe*se+Ue*ce,xe=xe*se-ve*ce,Ue=Ue*se-Oe*ce,ve=$e,Oe=nt),D&&Math.abs(D)+Math.abs(M)>359.9&&(D=M=0,O=180-O),S=ra(Math.sqrt(ve*ve+xe*xe+Ee*Ee)),E=ra(Math.sqrt(Ue*Ue+Rt*Rt)),te=id(Oe,Ue),N=Math.abs(te)>2e-4?te*cu:0,X=wt?1/(wt<0?-wt:wt):0),i.svg&&($e=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!FA(hs(e,Un)),$e&&e.setAttribute("transform",$e))),Math.abs(N)>90&&Math.abs(N)<270&&(r?(S*=-1,N+=M<=0?180:-180,M+=M<=0?180:-180):(E*=-1,N+=N<=0?180:-180)),t=t||i.uncache,i.x=g-((i.xPercent=g&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-g)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=x-((i.yPercent=x&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-x)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=w+o,i.scaleX=ra(S),i.scaleY=ra(E),i.rotation=ra(M)+a,i.rotationX=ra(D)+a,i.rotationY=ra(O)+a,i.skewX=N+a,i.skewY=H+a,i.transformPerspective=X+o,(i.zOrigin=parseFloat(p.split(" ")[2])||!t&&i.zOrigin||0)&&(n[$r]=vy(p)),i.xOffset=i.yOffset=0,i.force3D=us.force3D,i.renderTransform=i.svg?yR:IA?OA:_R,i.uncache=0,i},vy=function(e){return(e=e.split(" "))[0]+" "+e[1]},qv=function(e,t,i){var n=rr(t);return ra(parseFloat(t)+parseFloat(nh(e,"x",i+"px",n)))+n},_R=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,OA(e,t)},ru="0deg",hp="0px",su=") ",OA=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,d=i.z,p=i.rotation,g=i.rotationY,x=i.rotationX,w=i.skewX,S=i.skewY,E=i.scaleX,M=i.scaleY,D=i.transformPerspective,O=i.force3D,N=i.target,H=i.zOrigin,X="",U=O==="auto"&&e&&e!==1||O===!0;if(H&&(x!==ru||g!==ru)){var Q=parseFloat(g)*_d,Y=Math.sin(Q),te=Math.cos(Q),se;Q=parseFloat(x)*_d,se=Math.cos(Q),o=qv(N,o,Y*se*-H),a=qv(N,a,-Math.sin(Q)*-H),d=qv(N,d,te*se*-H+H)}D!==hp&&(X+="perspective("+D+su),(n||r)&&(X+="translate("+n+"%, "+r+"%) "),(U||o!==hp||a!==hp||d!==hp)&&(X+=d!==hp||U?"translate3d("+o+", "+a+", "+d+") ":"translate("+o+", "+a+su),p!==ru&&(X+="rotate("+p+su),g!==ru&&(X+="rotateY("+g+su),x!==ru&&(X+="rotateX("+x+su),(w!==ru||S!==ru)&&(X+="skew("+w+", "+S+su),(E!==1||M!==1)&&(X+="scale("+E+", "+M+su),N.style[Un]=X||"translate(0, 0)"},yR=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,a=i.y,d=i.rotation,p=i.skewX,g=i.skewY,x=i.scaleX,w=i.scaleY,S=i.target,E=i.xOrigin,M=i.yOrigin,D=i.xOffset,O=i.yOffset,N=i.forceCSS,H=parseFloat(o),X=parseFloat(a),U,Q,Y,te,se;d=parseFloat(d),p=parseFloat(p),g=parseFloat(g),g&&(g=parseFloat(g),p+=g,d+=g),d||p?(d*=_d,p*=_d,U=Math.cos(d)*x,Q=Math.sin(d)*x,Y=Math.sin(d-p)*-w,te=Math.cos(d-p)*w,p&&(g*=_d,se=Math.tan(p-g),se=Math.sqrt(1+se*se),Y*=se,te*=se,g&&(se=Math.tan(g),se=Math.sqrt(1+se*se),U*=se,Q*=se)),U=ra(U),Q=ra(Q),Y=ra(Y),te=ra(te)):(U=x,te=w,Q=Y=0),(H&&!~(o+"").indexOf("px")||X&&!~(a+"").indexOf("px"))&&(H=nh(S,"x",o,"px"),X=nh(S,"y",a,"px")),(E||M||D||O)&&(H=ra(H+E-(E*U+M*Y)+D),X=ra(X+M-(E*Q+M*te)+O)),(n||r)&&(se=S.getBBox(),H=ra(H+n/100*se.width),X=ra(X+r/100*se.height)),se="matrix("+U+","+Q+","+Y+","+te+","+H+","+X+")",S.setAttribute("transform",se),N&&(S.style[Un]=se)},xR=function(e,t,i,n,r){var o=360,a=Fa(r),d=parseFloat(r)*(a&&~r.indexOf("rad")?cu:1),p=d-n,g=n+p+"deg",x,w;return a&&(x=r.split("_")[1],x==="short"&&(p%=o,p!==p%(o/2)&&(p+=p<0?o:-o)),x==="cw"&&p<0?p=(p+o*iT)%o-~~(p/o)*o:x==="ccw"&&p>0&&(p=(p-o*iT)%o-~~(p/o)*o)),e._pt=w=new Nr(e._pt,t,i,n,p,tR),w.e=g,w.u="deg",e._props.push(i),w},hT=function(e,t){for(var i in t)e[i]=t[i];return e},vR=function(e,t,i){var n=hT({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,d,p,g,x,w,S,E;n.svg?(p=i.getAttribute("transform"),i.setAttribute("transform",""),o[Un]=t,a=lm(i,1),ih(i,Un),i.setAttribute("transform",p)):(p=getComputedStyle(i)[Un],o[Un]=t,a=lm(i,1),o[Un]=p);for(d in rl)p=n[d],g=a[d],p!==g&&r.indexOf(d)<0&&(S=rr(p),E=rr(g),x=S!==E?nh(i,d,p,E):parseFloat(p),w=parseFloat(g),e._pt=new Nr(e._pt,a,d,x,w-x,Yb),e._pt.u=E||0,e._props.push(d));hT(a,n)};jr("padding,margin,Width,Radius",function(s,e){var t="Top",i="Right",n="Bottom",r="Left",o=(e<3?[t,i,n,r]:[t+r,t+i,n+i,n+r]).map(function(a){return e<2?s+a:"border"+a+s});xy[e>1?"border"+s:s]=function(a,d,p,g,x){var w,S;if(arguments.length<4)return w=o.map(function(E){return Yo(a,E,p)}),S=w.join(" "),S.split(w[0]).length===5?w[0]:S;w=(g+"").split(" "),S={},o.forEach(function(E,M){return S[E]=w[M]=w[M]||w[(M-1)/2|0]}),a.init(d,S,x)}});var BA={name:"css",register:Kb,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var o=this._props,a=e.style,d=i.vars.startAt,p,g,x,w,S,E,M,D,O,N,H,X,U,Q,Y,te,se;xw||Kb(),this.styles=this.styles||EA(e),te=this.styles.props,this.tween=i;for(M in t)if(M!=="autoRound"&&(g=t[M],!(as[M]&&vA(M,t,i,n,e,r)))){if(S=typeof g,E=xy[M],S==="function"&&(g=g.call(i,n,e,r),S=typeof g),S==="string"&&~g.indexOf("random(")&&(g=am(g)),E)E(this,e,M,g,i)&&(Y=1);else if(M.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(M)+"").trim(),g+="",Kl.lastIndex=0,Kl.test(p)||(D=rr(p),O=rr(g),O?D!==O&&(p=nh(e,M,p,O)+O):D&&(g+=D)),this.add(a,"setProperty",p,g,n,r,0,0,M),o.push(M),te.push(M,0,a[M]);else if(S!=="undefined"){if(d&&M in d?(p=typeof d[M]=="function"?d[M].call(i,n,e,r):d[M],Fa(p)&&~p.indexOf("random(")&&(p=am(p)),rr(p+"")||p==="auto"||(p+=us.units[M]||rr(Yo(e,M))||""),(p+"").charAt(1)==="="&&(p=Yo(e,M))):p=Yo(e,M),w=parseFloat(p),N=S==="string"&&g.charAt(1)==="="&&g.substr(0,2),N&&(g=g.substr(2)),x=parseFloat(g),M in go&&(M==="autoAlpha"&&(w===1&&Yo(e,"visibility")==="hidden"&&x&&(w=0),te.push("visibility",0,a.visibility),Hl(this,a,"visibility",w?"inherit":"hidden",x?"inherit":"hidden",!x)),M!=="scale"&&M!=="transform"&&(M=go[M],~M.indexOf(",")&&(M=M.split(",")[0]))),H=M in rl,H){if(this.styles.save(M),se=g,S==="string"&&g.substring(0,6)==="var(--"){if(g=hs(e,g.substring(4,g.indexOf(")"))),g.substring(0,5)==="calc("){var ce=e.style.perspective;e.style.perspective=g,g=hs(e,"perspective"),ce?e.style.perspective=ce:ih(e,"perspective")}x=parseFloat(g)}if(X||(U=e._gsap,U.renderTransform&&!t.parseTransform||lm(e,t.parseTransform),Q=t.smoothOrigin!==!1&&U.smooth,X=this._pt=new Nr(this._pt,a,Un,0,1,U.renderTransform,U,0,-1),X.dep=1),M==="scale")this._pt=new Nr(this._pt,U,"scaleY",U.scaleY,(N?md(U.scaleY,N+x):x)-U.scaleY||0,Yb),this._pt.u=0,o.push("scaleY",M),M+="X";else if(M==="transformOrigin"){te.push($r,0,a[$r]),g=mR(g),U.svg?Jb(e,g,0,Q,0,this):(O=parseFloat(g.split(" ")[2])||0,O!==U.zOrigin&&Hl(this,U,"zOrigin",U.zOrigin,O),Hl(this,a,M,vy(p),vy(g)));continue}else if(M==="svgOrigin"){Jb(e,g,1,Q,0,this);continue}else if(M in RA){xR(this,U,M,w,N?md(w,N+g):g);continue}else if(M==="smoothOrigin"){Hl(this,U,"smooth",U.smooth,g);continue}else if(M==="force3D"){U[M]=g;continue}else if(M==="transform"){vR(this,g,e);continue}}else M in a||(M=Md(M)||M);if(H||(x||x===0)&&(w||w===0)&&!eR.test(g)&&M in a)D=(p+"").substr((w+"").length),x||(x=0),O=rr(g)||(M in us.units?us.units[M]:D),D!==O&&(w=nh(e,M,p,O)),this._pt=new Nr(this._pt,H?U:a,M,w,(N?md(w,N+x):x)-w,!H&&(O==="px"||M==="zIndex")&&t.autoRound!==!1?aR:Yb),this._pt.u=O||0,H&&se!==g?(this._pt.b=p,this._pt.e=se,this._pt.r=nR):D!==O&&O!=="%"&&(this._pt.b=p,this._pt.r=iR);else if(M in a)pR.call(this,e,M,p,N?N+g:g);else if(M in e)this.add(e,M,p||e[M],N?N+g:g,n,r);else if(M!=="parseTransform"){hw(M,g);continue}H||(M in a?te.push(M,0,a[M]):typeof e[M]=="function"?te.push(M,2,e[M]()):te.push(M,1,p||e[M])),o.push(M)}}Y&&CA(this)},render:function(e,t){if(t.tween._time||!vw())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Yo,aliases:go,getSetter:function(e,t,i){var n=go[t];return n&&n.indexOf(",")<0&&(t=n),t in rl&&t!==$r&&(e._gsap.x||Yo(e,"x"))?i&&tT===i?t==="scale"?lR:oR:(tT=i||{})&&(t==="scale"?hR:uR):e.style&&!sw(e.style[t])?rR:~t.indexOf("-")?sR:_w(e,t)},core:{_removeProperty:ih,_getMatrix:ww}};Vr.utils.checkPrefix=Md;Vr.core.getStyleSaver=EA;(function(s,e,t,i){var n=jr(s+","+e+","+t,function(r){rl[r]=1});jr(e,function(r){us.units[r]="deg",RA[r]=1}),go[n[13]]=s+","+e,jr(i,function(r){var o=r.split(":");go[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");jr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){us.units[s]="px"});Vr.registerPlugin(BA);var kw=Vr.registerPlugin(BA)||Vr;kw.core.Tween;function bR(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function wR(s,e,t){return e&&bR(s.prototype,e),s}var Ua,Z_,os,Gl,Ul,yd,jA,du,Bp,NA,Jo,$s,$A,VA=function(){return Ua||typeof window<"u"&&(Ua=window.gsap)&&Ua.registerPlugin&&Ua},HA=1,fd=[],wi=[],yo=[],jp=Date.now,Qb=function(e,t){return t},kR=function(){var e=Bp.core,t=e.bridge||{},i=e._scrollers,n=e._proxies;i.push.apply(i,wi),n.push.apply(n,yo),wi=i,yo=n,Qb=function(o,a){return t[o](a)}},Jl=function(e,t){return~yo.indexOf(e)&&yo[yo.indexOf(e)+1][t]},Np=function(e){return!!~NA.indexOf(e)},gr=function(e,t,i,n,r){return e.addEventListener(t,i,{passive:n!==!1,capture:!!r})},mr=function(e,t,i,n){return e.removeEventListener(t,i,!!n)},p_="scrollLeft",m_="scrollTop",e0=function(){return Jo&&Jo.isPressed||wi.cache++},by=function(e,t){var i=function n(r){if(r||r===0){HA&&(os.history.scrollRestoration="manual");var o=Jo&&Jo.isPressed;r=n.v=Math.round(r)||(Jo&&Jo.iOS?1:0),e(r),n.cacheID=wi.cache,o&&Qb("ss",r)}else(t||wi.cache!==n.cacheID||Qb("ref"))&&(n.cacheID=wi.cache,n.v=e());return n.v+n.offset};return i.offset=0,e&&i},wr={s:p_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:by(function(s){return arguments.length?os.scrollTo(s,Sa.sc()):os.pageXOffset||Gl[p_]||Ul[p_]||yd[p_]||0})},Sa={s:m_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:wr,sc:by(function(s){return arguments.length?os.scrollTo(wr.sc(),s):os.pageYOffset||Gl[m_]||Ul[m_]||yd[m_]||0})},Fr=function(e,t){return(t&&t._ctx&&t._ctx.selector||Ua.utils.toArray)(e)[0]||(typeof e=="string"&&Ua.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},SR=function(e,t){for(var i=t.length;i--;)if(t[i]===e||t[i].contains(e))return!0;return!1},ah=function(e,t){var i=t.s,n=t.sc;Np(e)&&(e=Gl.scrollingElement||Ul);var r=wi.indexOf(e),o=n===Sa.sc?1:2;!~r&&(r=wi.push(e)-1),wi[r+o]||gr(e,"scroll",e0);var a=wi[r+o],d=a||(wi[r+o]=by(Jl(e,i),!0)||(Np(e)?n:by(function(p){return arguments.length?e[i]=p:e[i]})));return d.target=e,a||(d.smooth=Ua.getProperty(e,"scrollBehavior")==="smooth"),d},t0=function(e,t,i){var n=e,r=e,o=jp(),a=o,d=t||50,p=Math.max(500,d*3),g=function(E,M){var D=jp();M||D-o>d?(r=n,n=E,a=o,o=D):i?n+=E:n=r+(E-r)/(D-a)*(o-a)},x=function(){r=n=i?0:n,a=o=0},w=function(E){var M=a,D=r,O=jp();return(E||E===0)&&E!==n&&g(E),o===a||O-a>p?0:(n+(i?D:-D))/((i?O:o)-M)*1e3};return{update:g,reset:x,getVelocity:w}},up=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},uT=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},GA=function(){Bp=Ua.core.globals().ScrollTrigger,Bp&&Bp.core&&kR()},UA=function(e){return Ua=e||VA(),!Z_&&Ua&&typeof document<"u"&&document.body&&(os=window,Gl=document,Ul=Gl.documentElement,yd=Gl.body,NA=[os,Gl,Ul,yd],Ua.utils.clamp,$A=Ua.core.context||function(){},du="onpointerenter"in yd?"pointer":"mouse",jA=sa.isTouch=os.matchMedia&&os.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in os||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,$s=sa.eventTypes=("ontouchstart"in Ul?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Ul?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return HA=0},500),GA(),Z_=1),Z_};wr.op=Sa;wi.cache=0;var sa=(function(){function s(t){this.init(t)}var e=s.prototype;return e.init=function(i){Z_||UA(Ua)||console.warn("Please gsap.registerPlugin(Observer)"),Bp||GA();var n=i.tolerance,r=i.dragMinimum,o=i.type,a=i.target,d=i.lineHeight,p=i.debounce,g=i.preventDefault,x=i.onStop,w=i.onStopDelay,S=i.ignore,E=i.wheelSpeed,M=i.event,D=i.onDragStart,O=i.onDragEnd,N=i.onDrag,H=i.onPress,X=i.onRelease,U=i.onRight,Q=i.onLeft,Y=i.onUp,te=i.onDown,se=i.onChangeX,ce=i.onChangeY,ve=i.onChange,xe=i.onToggleX,Ee=i.onToggleY,Be=i.onHover,Oe=i.onHoverEnd,Ue=i.onMove,$e=i.ignoreCheck,nt=i.isNormalizer,Qe=i.onGestureStart,Ae=i.onGestureEnd,ft=i.onWheel,Dt=i.onEnable,Yt=i.onDisable,wt=i.onClick,Rt=i.scrollSpeed,Tt=i.capture,Pt=i.allowClicks,Et=i.lockAxis,Jt=i.onLockAxis;this.target=a=Fr(a)||Ul,this.vars=i,S&&(S=Ua.utils.toArray(S)),n=n||1e-9,r=r||0,E=E||1,Rt=Rt||1,o=o||"wheel,touch,pointer",p=p!==!1,d||(d=parseFloat(os.getComputedStyle(yd).lineHeight)||22);var ti,ui,Si,Ht,Zt,Bi,cn,Ye=this,Mn=0,xa=0,Oa=i.passive||!g&&i.passive!==!1,Ri=ah(a,wr),jn=ah(a,Sa),Ba=Ri(),Ya=jn(),Mi=~o.indexOf("touch")&&!~o.indexOf("pointer")&&$s[0]==="pointerdown",Re=Np(a),ae=a.ownerDocument||Gl,re=[0,0,0],ue=[0,0,0],ke=0,Me=function(){return ke=jp()},ze=function(St,Gt){return(Ye.event=St)&&S&&SR(St.target,S)||Gt&&Mi&&St.pointerType!=="touch"||$e&&$e(St,Gt)},Fe=function(){Ye._vx.reset(),Ye._vy.reset(),ui.pause(),x&&x(Ye)},Le=function(){var St=Ye.deltaX=uT(re),Gt=Ye.deltaY=uT(ue),ct=Math.abs(St)>=n,zt=Math.abs(Gt)>=n;ve&&(ct||zt)&&ve(Ye,St,Gt,re,ue),ct&&(U&&Ye.deltaX>0&&U(Ye),Q&&Ye.deltaX<0&&Q(Ye),se&&se(Ye),xe&&Ye.deltaX<0!=Mn<0&&xe(Ye),Mn=Ye.deltaX,re[0]=re[1]=re[2]=0),zt&&(te&&Ye.deltaY>0&&te(Ye),Y&&Ye.deltaY<0&&Y(Ye),ce&&ce(Ye),Ee&&Ye.deltaY<0!=xa<0&&Ee(Ye),xa=Ye.deltaY,ue[0]=ue[1]=ue[2]=0),(Ht||Si)&&(Ue&&Ue(Ye),Si&&(D&&Si===1&&D(Ye),N&&N(Ye),Si=0),Ht=!1),Bi&&!(Bi=!1)&&Jt&&Jt(Ye),Zt&&(ft(Ye),Zt=!1),ti=0},He=function(St,Gt,ct){re[ct]+=St,ue[ct]+=Gt,Ye._vx.update(St),Ye._vy.update(Gt),p?ti||(ti=requestAnimationFrame(Le)):Le()},tt=function(St,Gt){Et&&!cn&&(Ye.axis=cn=Math.abs(St)>Math.abs(Gt)?"x":"y",Bi=!0),cn!=="y"&&(re[2]+=St,Ye._vx.update(St,!0)),cn!=="x"&&(ue[2]+=Gt,Ye._vy.update(Gt,!0)),p?ti||(ti=requestAnimationFrame(Le)):Le()},Je=function(St){if(!ze(St,1)){St=up(St,g);var Gt=St.clientX,ct=St.clientY,zt=Gt-Ye.x,$t=ct-Ye.y,Qt=Ye.isDragging;Ye.x=Gt,Ye.y=ct,(Qt||(zt||$t)&&(Math.abs(Ye.startX-Gt)>=r||Math.abs(Ye.startY-ct)>=r))&&(Si||(Si=Qt?2:1),Qt||(Ye.isDragging=!0),tt(zt,$t))}},_t=Ye.onPress=function(Bt){ze(Bt,1)||Bt&&Bt.button||(Ye.axis=cn=null,ui.pause(),Ye.isPressed=!0,Bt=up(Bt),Mn=xa=0,Ye.startX=Ye.x=Bt.clientX,Ye.startY=Ye.y=Bt.clientY,Ye._vx.reset(),Ye._vy.reset(),gr(nt?a:ae,$s[1],Je,Oa,!0),Ye.deltaX=Ye.deltaY=0,H&&H(Ye))},ht=Ye.onRelease=function(Bt){if(!ze(Bt,1)){mr(nt?a:ae,$s[1],Je,!0);var St=!isNaN(Ye.y-Ye.startY),Gt=Ye.isDragging,ct=Gt&&(Math.abs(Ye.x-Ye.startX)>3||Math.abs(Ye.y-Ye.startY)>3),zt=up(Bt);!ct&&St&&(Ye._vx.reset(),Ye._vy.reset(),g&&Pt&&Ua.delayedCall(.08,function(){if(jp()-ke>300&&!Bt.defaultPrevented){if(Bt.target.click)Bt.target.click();else if(ae.createEvent){var $t=ae.createEvent("MouseEvents");$t.initMouseEvent("click",!0,!0,os,1,zt.screenX,zt.screenY,zt.clientX,zt.clientY,!1,!1,!1,!1,0,null),Bt.target.dispatchEvent($t)}}})),Ye.isDragging=Ye.isGesturing=Ye.isPressed=!1,x&&Gt&&!nt&&ui.restart(!0),Si&&Le(),O&&Gt&&O(Ye),X&&X(Ye,ct)}},Vt=function(St){return St.touches&&St.touches.length>1&&(Ye.isGesturing=!0)&&Qe(St,Ye.isDragging)},li=function(){return(Ye.isGesturing=!1)||Ae(Ye)},ii=function(St){if(!ze(St)){var Gt=Ri(),ct=jn();He((Gt-Ba)*Rt,(ct-Ya)*Rt,1),Ba=Gt,Ya=ct,x&&ui.restart(!0)}},je=function(St){if(!ze(St)){St=up(St,g),ft&&(Zt=!0);var Gt=(St.deltaMode===1?d:St.deltaMode===2?os.innerHeight:1)*E;He(St.deltaX*Gt,St.deltaY*Gt,0),x&&!nt&&ui.restart(!0)}},_i=function(St){if(!ze(St)){var Gt=St.clientX,ct=St.clientY,zt=Gt-Ye.x,$t=ct-Ye.y;Ye.x=Gt,Ye.y=ct,Ht=!0,x&&ui.restart(!0),(zt||$t)&&tt(zt,$t)}},dn=function(St){Ye.event=St,Be(Ye)},Nt=function(St){Ye.event=St,Oe(Ye)},yi=function(St){return ze(St)||up(St,g)&&wt(Ye)};ui=Ye._dc=Ua.delayedCall(w||.25,Fe).pause(),Ye.deltaX=Ye.deltaY=0,Ye._vx=t0(0,50,!0),Ye._vy=t0(0,50,!0),Ye.scrollX=Ri,Ye.scrollY=jn,Ye.isDragging=Ye.isGesturing=Ye.isPressed=!1,$A(this),Ye.enable=function(Bt){return Ye.isEnabled||(gr(Re?ae:a,"scroll",e0),o.indexOf("scroll")>=0&&gr(Re?ae:a,"scroll",ii,Oa,Tt),o.indexOf("wheel")>=0&&gr(a,"wheel",je,Oa,Tt),(o.indexOf("touch")>=0&&jA||o.indexOf("pointer")>=0)&&(gr(a,$s[0],_t,Oa,Tt),gr(ae,$s[2],ht),gr(ae,$s[3],ht),Pt&&gr(a,"click",Me,!0,!0),wt&&gr(a,"click",yi),Qe&&gr(ae,"gesturestart",Vt),Ae&&gr(ae,"gestureend",li),Be&&gr(a,du+"enter",dn),Oe&&gr(a,du+"leave",Nt),Ue&&gr(a,du+"move",_i)),Ye.isEnabled=!0,Ye.isDragging=Ye.isGesturing=Ye.isPressed=Ht=Si=!1,Ye._vx.reset(),Ye._vy.reset(),Ba=Ri(),Ya=jn(),Bt&&Bt.type&&_t(Bt),Dt&&Dt(Ye)),Ye},Ye.disable=function(){Ye.isEnabled&&(fd.filter(function(Bt){return Bt!==Ye&&Np(Bt.target)}).length||mr(Re?ae:a,"scroll",e0),Ye.isPressed&&(Ye._vx.reset(),Ye._vy.reset(),mr(nt?a:ae,$s[1],Je,!0)),mr(Re?ae:a,"scroll",ii,Tt),mr(a,"wheel",je,Tt),mr(a,$s[0],_t,Tt),mr(ae,$s[2],ht),mr(ae,$s[3],ht),mr(a,"click",Me,!0),mr(a,"click",yi),mr(ae,"gesturestart",Vt),mr(ae,"gestureend",li),mr(a,du+"enter",dn),mr(a,du+"leave",Nt),mr(a,du+"move",_i),Ye.isEnabled=Ye.isPressed=Ye.isDragging=!1,Yt&&Yt(Ye))},Ye.kill=Ye.revert=function(){Ye.disable();var Bt=fd.indexOf(Ye);Bt>=0&&fd.splice(Bt,1),Jo===Ye&&(Jo=0)},fd.push(Ye),nt&&Np(a)&&(Jo=Ye),Ye.enable(M)},wR(s,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),s})();sa.version="3.14.2";sa.create=function(s){return new sa(s)};sa.register=UA;sa.getAll=function(){return fd.slice()};sa.getById=function(s){return fd.filter(function(e){return e.vars.id===s})[0]};VA()&&Ua.registerPlugin(sa);var Ot,hd,bi,_n,rs,Xi,Sw,wy,hm,$p,Sp,g_,tr,Zy,i0,yr,cT,dT,ud,WA,Yv,XA,_r,n0,qA,YA,jl,a0,Tw,xd,Cw,Vp,r0,Zv,__=1,nr=Date.now,Kv=nr(),Es=0,Tp=0,fT=function(e,t,i){var n=ns(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},pT=function(e,t){return t&&(!ns(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},TR=function s(){return Tp&&requestAnimationFrame(s)},mT=function(){return Zy=1},gT=function(){return Zy=0},fo=function(e){return e},Cp=function(e){return Math.round(e*1e5)/1e5||0},ZA=function(){return typeof window<"u"},KA=function(){return Ot||ZA()&&(Ot=window.gsap)&&Ot.registerPlugin&&Ot},Nu=function(e){return!!~Sw.indexOf(e)},JA=function(e){return(e==="Height"?Cw:bi["inner"+e])||rs["client"+e]||Xi["client"+e]},QA=function(e){return Jl(e,"getBoundingClientRect")||(Nu(e)?function(){return ty.width=bi.innerWidth,ty.height=Cw,ty}:function(){return Ko(e)})},CR=function(e,t,i){var n=i.d,r=i.d2,o=i.a;return(o=Jl(e,"getBoundingClientRect"))?function(){return o()[n]}:function(){return(t?JA(r):e["client"+r])||0}},AR=function(e,t){return!t||~yo.indexOf(e)?QA(e):function(){return ty}},_o=function(e,t){var i=t.s,n=t.d2,r=t.d,o=t.a;return Math.max(0,(i="scroll"+n)&&(o=Jl(e,i))?o()-QA(e)()[r]:Nu(e)?(rs[i]||Xi[i])-JA(n):e[i]-e["offset"+n])},y_=function(e,t){for(var i=0;i<ud.length;i+=3)(!t||~t.indexOf(ud[i+1]))&&e(ud[i],ud[i+1],ud[i+2])},ns=function(e){return typeof e=="string"},sr=function(e){return typeof e=="function"},Ap=function(e){return typeof e=="number"},fu=function(e){return typeof e=="object"},cp=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},Jv=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},nd=Math.abs,eM="left",tM="top",Aw="right",Mw="bottom",Lu="width",Eu="height",Hp="Right",Gp="Left",Up="Top",Wp="Bottom",ga="padding",Ts="margin",Pd="Width",Pw="Height",ka="px",Cs=function(e){return bi.getComputedStyle(e)},MR=function(e){var t=Cs(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},_T=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Ko=function(e,t){var i=t&&Cs(e)[i0]!=="matrix(1, 0, 0, 1, 0, 0)"&&Ot.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return i&&i.progress(0).kill(),n},ky=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},iM=function(e){var t=[],i=e.labels,n=e.duration(),r;for(r in i)t.push(i[r]/n);return t},PR=function(e){return function(t){return Ot.utils.snap(iM(e),t)}},Lw=function(e){var t=Ot.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(n,r){return n-r});return i?function(n,r,o){o===void 0&&(o=.001);var a;if(!r)return t(n);if(r>0){for(n-=o,a=0;a<i.length;a++)if(i[a]>=n)return i[a];return i[a-1]}else for(a=i.length,n+=o;a--;)if(i[a]<=n)return i[a];return i[0]}:function(n,r,o){o===void 0&&(o=.001);var a=t(n);return!r||Math.abs(a-n)<o||a-n<0==r<0?a:t(r<0?n-e:n+e)}},LR=function(e){return function(t,i){return Lw(iM(e))(t,i.direction)}},x_=function(e,t,i,n){return i.split(",").forEach(function(r){return e(t,r,n)})},za=function(e,t,i,n,r){return e.addEventListener(t,i,{passive:!n,capture:!!r})},Da=function(e,t,i,n){return e.removeEventListener(t,i,!!n)},v_=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},yT={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},b_={toggleActions:"play",anticipatePin:0},Sy={top:0,left:0,center:.5,bottom:1,right:1},K_=function(e,t){if(ns(e)){var i=e.indexOf("="),n=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(n*=t/100),e=e.substr(0,i-1)),e=n+(e in Sy?Sy[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},w_=function(e,t,i,n,r,o,a,d){var p=r.startColor,g=r.endColor,x=r.fontSize,w=r.indent,S=r.fontWeight,E=_n.createElement("div"),M=Nu(i)||Jl(i,"pinType")==="fixed",D=e.indexOf("scroller")!==-1,O=M?Xi:i,N=e.indexOf("start")!==-1,H=N?p:g,X="border-color:"+H+";font-size:"+x+";color:"+H+";font-weight:"+S+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return X+="position:"+((D||d)&&M?"fixed;":"absolute;"),(D||d||!M)&&(X+=(n===Sa?Aw:Mw)+":"+(o+parseFloat(w))+"px;"),a&&(X+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),E._isStart=N,E.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),E.style.cssText=X,E.innerText=t||t===0?e+"-"+t:e,O.children[0]?O.insertBefore(E,O.children[0]):O.appendChild(E),E._offset=E["offset"+n.op.d2],J_(E,0,n,N),E},J_=function(e,t,i,n){var r={display:"block"},o=i[n?"os2":"p2"],a=i[n?"p2":"os2"];e._isFlipped=n,r[i.a+"Percent"]=n?-100:0,r[i.a]=n?"1px":0,r["border"+o+Pd]=1,r["border"+a+Pd]=0,r[i.p]=t+"px",Ot.set(e,r)},gi=[],s0={},um,xT=function(){return nr()-Es>34&&(um||(um=requestAnimationFrame(nl)))},ad=function(){(!_r||!_r.isPressed||_r.startX>Xi.clientWidth)&&(wi.cache++,_r?um||(um=requestAnimationFrame(nl)):nl(),Es||Vu("scrollStart"),Es=nr())},Qv=function(){YA=bi.innerWidth,qA=bi.innerHeight},Mp=function(e){wi.cache++,(e===!0||!tr&&!XA&&!_n.fullscreenElement&&!_n.webkitFullscreenElement&&(!n0||YA!==bi.innerWidth||Math.abs(bi.innerHeight-qA)>bi.innerHeight*.25))&&wy.restart(!0)},$u={},ER=[],nM=function s(){return Da(ki,"scrollEnd",s)||bu(!0)},Vu=function(e){return $u[e]&&$u[e].map(function(t){return t()})||ER},is=[],aM=function(e){for(var t=0;t<is.length;t+=5)(!e||is[t+4]&&is[t+4].query===e)&&(is[t].style.cssText=is[t+1],is[t].getBBox&&is[t].setAttribute("transform",is[t+2]||""),is[t+3].uncache=1)},rM=function(){return wi.forEach(function(e){return sr(e)&&++e.cacheID&&(e.rec=e())})},Ew=function(e,t){var i;for(yr=0;yr<gi.length;yr++)i=gi[yr],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));Vp=!0,t&&aM(t),t||Vu("revert")},sM=function(e,t){wi.cache++,(t||!xr)&&wi.forEach(function(i){return sr(i)&&i.cacheID++&&(i.rec=0)}),ns(e)&&(bi.history.scrollRestoration=Tw=e)},xr,Iu=0,vT,IR=function(){if(vT!==Iu){var e=vT=Iu;requestAnimationFrame(function(){return e===Iu&&bu(!0)})}},oM=function(){Xi.appendChild(xd),Cw=!_r&&xd.offsetHeight||bi.innerHeight,Xi.removeChild(xd)},bT=function(e){return hm(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},bu=function(e,t){if(rs=_n.documentElement,Xi=_n.body,Sw=[bi,_n,rs,Xi],Es&&!e&&!Vp){za(ki,"scrollEnd",nM);return}oM(),xr=ki.isRefreshing=!0,Vp||rM();var i=Vu("refreshInit");WA&&ki.sort(),t||Ew(),wi.forEach(function(n){sr(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),gi.slice(0).forEach(function(n){return n.refresh()}),Vp=!1,gi.forEach(function(n){if(n._subPinOffset&&n.pin){var r=n.vars.horizontal?"offsetWidth":"offsetHeight",o=n.pin[r];n.revert(!0,1),n.adjustPinSpacing(n.pin[r]-o),n.refresh()}}),r0=1,bT(!0),gi.forEach(function(n){var r=_o(n.scroller,n._dir),o=n.vars.end==="max"||n._endClamp&&n.end>r,a=n._startClamp&&n.start>=r;(o||a)&&n.setPositions(a?r-1:n.start,o?Math.max(a?r:n.start+1,r):n.end,!0)}),bT(!1),r0=0,i.forEach(function(n){return n&&n.render&&n.render(-1)}),wi.forEach(function(n){sr(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),sM(Tw,1),wy.pause(),Iu++,xr=2,nl(2),gi.forEach(function(n){return sr(n.vars.onRefresh)&&n.vars.onRefresh(n)}),xr=ki.isRefreshing=!1,Vu("refresh")},o0=0,Q_=1,Xp,nl=function(e){if(e===2||!xr&&!Vp){ki.isUpdating=!0,Xp&&Xp.update(0);var t=gi.length,i=nr(),n=i-Kv>=50,r=t&&gi[0].scroll();if(Q_=o0>r?-1:1,xr||(o0=r),n&&(Es&&!Zy&&i-Es>200&&(Es=0,Vu("scrollEnd")),Sp=Kv,Kv=i),Q_<0){for(yr=t;yr-- >0;)gi[yr]&&gi[yr].update(0,n);Q_=1}else for(yr=0;yr<t;yr++)gi[yr]&&gi[yr].update(0,n);ki.isUpdating=!1}um=0},l0=[eM,tM,Mw,Aw,Ts+Wp,Ts+Hp,Ts+Up,Ts+Gp,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ey=l0.concat([Lu,Eu,"boxSizing","max"+Pd,"max"+Pw,"position",Ts,ga,ga+Up,ga+Hp,ga+Wp,ga+Gp]),DR=function(e,t,i){vd(i);var n=e._gsap;if(n.spacerIsNative)vd(n.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1},eb=function(e,t,i,n){if(!e._gsap.swappedIn){for(var r=l0.length,o=t.style,a=e.style,d;r--;)d=l0[r],o[d]=i[d];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[Mw]=a[Aw]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Lu]=ky(e,wr)+ka,o[Eu]=ky(e,Sa)+ka,o[ga]=a[Ts]=a[tM]=a[eM]="0",vd(n),a[Lu]=a["max"+Pd]=i[Lu],a[Eu]=a["max"+Pw]=i[Eu],a[ga]=i[ga],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},zR=/([A-Z])/g,vd=function(e){if(e){var t=e.t.style,i=e.length,n=0,r,o;for((e.t._gsap||Ot.core.getCache(e.t)).uncache=1;n<i;n+=2)o=e[n+1],r=e[n],o?t[r]=o:t[r]&&t.removeProperty(r.replace(zR,"-$1").toLowerCase())}},k_=function(e){for(var t=ey.length,i=e.style,n=[],r=0;r<t;r++)n.push(ey[r],i[ey[r]]);return n.t=e,n},RR=function(e,t,i){for(var n=[],r=e.length,o=i?8:0,a;o<r;o+=2)a=e[o],n.push(a,a in t?t[a]:e[o+1]);return n.t=e.t,n},ty={left:0,top:0},wT=function(e,t,i,n,r,o,a,d,p,g,x,w,S,E){sr(e)&&(e=e(d)),ns(e)&&e.substr(0,3)==="max"&&(e=w+(e.charAt(4)==="="?K_("0"+e.substr(3),i):0));var M=S?S.time():0,D,O,N;if(S&&S.seek(0),isNaN(e)||(e=+e),Ap(e))S&&(e=Ot.utils.mapRange(S.scrollTrigger.start,S.scrollTrigger.end,0,w,e)),a&&J_(a,i,n,!0);else{sr(t)&&(t=t(d));var H=(e||"0").split(" "),X,U,Q,Y;N=Fr(t,d)||Xi,X=Ko(N)||{},(!X||!X.left&&!X.top)&&Cs(N).display==="none"&&(Y=N.style.display,N.style.display="block",X=Ko(N),Y?N.style.display=Y:N.style.removeProperty("display")),U=K_(H[0],X[n.d]),Q=K_(H[1]||"0",i),e=X[n.p]-p[n.p]-g+U+r-Q,a&&J_(a,Q,n,i-Q<20||a._isStart&&Q>20),i-=i-Q}if(E&&(d[E]=e||-.001,e<0&&(e=0)),o){var te=e+i,se=o._isStart;D="scroll"+n.d2,J_(o,te,n,se&&te>20||!se&&(x?Math.max(Xi[D],rs[D]):o.parentNode[D])<=te+1),x&&(p=Ko(a),x&&(o.style[n.op.p]=p[n.op.p]-n.op.m-o._offset+ka))}return S&&N&&(D=Ko(N),S.seek(w),O=Ko(N),S._caScrollDist=D[n.p]-O[n.p],e=e/S._caScrollDist*w),S&&S.seek(M),S?e:Math.round(e)},FR=/(webkit|moz|length|cssText|inset)/i,kT=function(e,t,i,n){if(e.parentNode!==t){var r=e.style,o,a;if(t===Xi){e._stOrig=r.cssText,a=Cs(e);for(o in a)!+o&&!FR.test(o)&&a[o]&&typeof r[o]=="string"&&o!=="0"&&(r[o]=a[o]);r.top=i,r.left=n}else r.cssText=e._stOrig;Ot.core.getCache(e).uncache=1,t.appendChild(e)}},lM=function(e,t,i){var n=t,r=n;return function(o){var a=Math.round(e());return a!==n&&a!==r&&Math.abs(a-n)>3&&Math.abs(a-r)>3&&(o=a,i&&i()),r=n,n=Math.round(o),n}},S_=function(e,t,i){var n={};n[t.p]="+="+i,Ot.set(e,n)},ST=function(e,t){var i=ah(e,t),n="_scroll"+t.p2,r=function o(a,d,p,g,x){var w=o.tween,S=d.onComplete,E={};p=p||i();var M=lM(i,p,function(){w.kill(),o.tween=0});return x=g&&x||0,g=g||a-p,w&&w.kill(),d[n]=a,d.inherit=!1,d.modifiers=E,E[n]=function(){return M(p+g*w.ratio+x*w.ratio*w.ratio)},d.onUpdate=function(){wi.cache++,o.tween&&nl()},d.onComplete=function(){o.tween=0,S&&S.call(w)},w=o.tween=Ot.to(e,d),w};return e[n]=i,i.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},za(e,"wheel",i.wheelHandler),ki.isTouch&&za(e,"touchmove",i.wheelHandler),r},ki=(function(){function s(t,i){hd||s.register(Ot)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),a0(this),this.init(t,i)}var e=s.prototype;return e.init=function(i,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Tp){this.update=this.refresh=this.kill=fo;return}i=_T(ns(i)||Ap(i)||i.nodeType?{trigger:i}:i,b_);var r=i,o=r.onUpdate,a=r.toggleClass,d=r.id,p=r.onToggle,g=r.onRefresh,x=r.scrub,w=r.trigger,S=r.pin,E=r.pinSpacing,M=r.invalidateOnRefresh,D=r.anticipatePin,O=r.onScrubComplete,N=r.onSnapComplete,H=r.once,X=r.snap,U=r.pinReparent,Q=r.pinSpacer,Y=r.containerAnimation,te=r.fastScrollEnd,se=r.preventOverlaps,ce=i.horizontal||i.containerAnimation&&i.horizontal!==!1?wr:Sa,ve=!x&&x!==0,xe=Fr(i.scroller||bi),Ee=Ot.core.getCache(xe),Be=Nu(xe),Oe=("pinType"in i?i.pinType:Jl(xe,"pinType")||Be&&"fixed")==="fixed",Ue=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],$e=ve&&i.toggleActions.split(" "),nt="markers"in i?i.markers:b_.markers,Qe=Be?0:parseFloat(Cs(xe)["border"+ce.p2+Pd])||0,Ae=this,ft=i.onRefreshInit&&function(){return i.onRefreshInit(Ae)},Dt=CR(xe,Be,ce),Yt=AR(xe,Be),wt=0,Rt=0,Tt=0,Pt=ah(xe,ce),Et,Jt,ti,ui,Si,Ht,Zt,Bi,cn,Ye,Mn,xa,Oa,Ri,jn,Ba,Ya,Mi,Re,ae,re,ue,ke,Me,ze,Fe,Le,He,tt,Je,_t,ht,Vt,li,ii,je,_i,dn,Nt;if(Ae._startClamp=Ae._endClamp=!1,Ae._dir=ce,D*=45,Ae.scroller=xe,Ae.scroll=Y?Y.time.bind(Y):Pt,ui=Pt(),Ae.vars=i,n=n||i.animation,"refreshPriority"in i&&(WA=1,i.refreshPriority===-9999&&(Xp=Ae)),Ee.tweenScroll=Ee.tweenScroll||{top:ST(xe,Sa),left:ST(xe,wr)},Ae.tweenTo=Et=Ee.tweenScroll[ce.p],Ae.scrubDuration=function(ct){Vt=Ap(ct)&&ct,Vt?ht?ht.duration(ct):ht=Ot.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Vt,paused:!0,onComplete:function(){return O&&O(Ae)}}):(ht&&ht.progress(1).kill(),ht=0)},n&&(n.vars.lazy=!1,n._initted&&!Ae.isReverted||n.vars.immediateRender!==!1&&i.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),Ae.animation=n.pause(),n.scrollTrigger=Ae,Ae.scrubDuration(x),Je=0,d||(d=n.vars.id)),X&&((!fu(X)||X.push)&&(X={snapTo:X}),"scrollBehavior"in Xi.style&&Ot.set(Be?[Xi,rs]:xe,{scrollBehavior:"auto"}),wi.forEach(function(ct){return sr(ct)&&ct.target===(Be?_n.scrollingElement||rs:xe)&&(ct.smooth=!1)}),ti=sr(X.snapTo)?X.snapTo:X.snapTo==="labels"?PR(n):X.snapTo==="labelsDirectional"?LR(n):X.directional!==!1?function(ct,zt){return Lw(X.snapTo)(ct,nr()-Rt<500?0:zt.direction)}:Ot.utils.snap(X.snapTo),li=X.duration||{min:.1,max:2},li=fu(li)?$p(li.min,li.max):$p(li,li),ii=Ot.delayedCall(X.delay||Vt/2||.1,function(){var ct=Pt(),zt=nr()-Rt<500,$t=Et.tween;if((zt||Math.abs(Ae.getVelocity())<10)&&!$t&&!Zy&&wt!==ct){var Qt=(ct-Ht)/Ri,it=n&&!ve?n.totalProgress():Qt,qt=zt?0:(it-_t)/(nr()-Sp)*1e3||0,fi=Ot.utils.clamp(-Qt,1-Qt,nd(qt/2)*qt/.185),Nn=Qt+(X.inertia===!1?0:fi),Ti,ot,Mt=X,Ut=Mt.onStart,pi=Mt.onInterrupt,la=Mt.onComplete;if(Ti=ti(Nn,Ae),Ap(Ti)||(Ti=Nn),ot=Math.max(0,Math.round(Ht+Ti*Ri)),ct<=Zt&&ct>=Ht&&ot!==ct){if($t&&!$t._initted&&$t.data<=nd(ot-ct))return;X.inertia===!1&&(fi=Ti-Qt),Et(ot,{duration:li(nd(Math.max(nd(Nn-it),nd(Ti-it))*.185/qt/.05||0)),ease:X.ease||"power3",data:nd(ot-ct),onInterrupt:function(){return ii.restart(!0)&&pi&&pi(Ae)},onComplete:function(){Ae.update(),wt=Pt(),n&&!ve&&(ht?ht.resetTo("totalProgress",Ti,n._tTime/n._tDur):n.progress(Ti)),Je=_t=n&&!ve?n.totalProgress():Ae.progress,N&&N(Ae),la&&la(Ae)}},ct,fi*Ri,ot-ct-fi*Ri),Ut&&Ut(Ae,Et.tween)}}else Ae.isActive&&wt!==ct&&ii.restart(!0)}).pause()),d&&(s0[d]=Ae),w=Ae.trigger=Fr(w||S!==!0&&S),Nt=w&&w._gsap&&w._gsap.stRevert,Nt&&(Nt=Nt(Ae)),S=S===!0?w:Fr(S),ns(a)&&(a={targets:w,className:a}),S&&(E===!1||E===Ts||(E=!E&&S.parentNode&&S.parentNode.style&&Cs(S.parentNode).display==="flex"?!1:ga),Ae.pin=S,Jt=Ot.core.getCache(S),Jt.spacer?jn=Jt.pinState:(Q&&(Q=Fr(Q),Q&&!Q.nodeType&&(Q=Q.current||Q.nativeElement),Jt.spacerIsNative=!!Q,Q&&(Jt.spacerState=k_(Q))),Jt.spacer=Mi=Q||_n.createElement("div"),Mi.classList.add("pin-spacer"),d&&Mi.classList.add("pin-spacer-"+d),Jt.pinState=jn=k_(S)),i.force3D!==!1&&Ot.set(S,{force3D:!0}),Ae.spacer=Mi=Jt.spacer,tt=Cs(S),Me=tt[E+ce.os2],ae=Ot.getProperty(S),re=Ot.quickSetter(S,ce.a,ka),eb(S,Mi,tt),Ya=k_(S)),nt){xa=fu(nt)?_T(nt,yT):yT,Ye=w_("scroller-start",d,xe,ce,xa,0),Mn=w_("scroller-end",d,xe,ce,xa,0,Ye),Re=Ye["offset"+ce.op.d2];var yi=Fr(Jl(xe,"content")||xe);Bi=this.markerStart=w_("start",d,yi,ce,xa,Re,0,Y),cn=this.markerEnd=w_("end",d,yi,ce,xa,Re,0,Y),Y&&(dn=Ot.quickSetter([Bi,cn],ce.a,ka)),!Oe&&!(yo.length&&Jl(xe,"fixedMarkers")===!0)&&(MR(Be?Xi:xe),Ot.set([Ye,Mn],{force3D:!0}),Fe=Ot.quickSetter(Ye,ce.a,ka),He=Ot.quickSetter(Mn,ce.a,ka))}if(Y){var Bt=Y.vars.onUpdate,St=Y.vars.onUpdateParams;Y.eventCallback("onUpdate",function(){Ae.update(0,0,1),Bt&&Bt.apply(Y,St||[])})}if(Ae.previous=function(){return gi[gi.indexOf(Ae)-1]},Ae.next=function(){return gi[gi.indexOf(Ae)+1]},Ae.revert=function(ct,zt){if(!zt)return Ae.kill(!0);var $t=ct!==!1||!Ae.enabled,Qt=tr;$t!==Ae.isReverted&&($t&&(je=Math.max(Pt(),Ae.scroll.rec||0),Tt=Ae.progress,_i=n&&n.progress()),Bi&&[Bi,cn,Ye,Mn].forEach(function(it){return it.style.display=$t?"none":"block"}),$t&&(tr=Ae,Ae.update($t)),S&&(!U||!Ae.isActive)&&($t?DR(S,Mi,jn):eb(S,Mi,Cs(S),ze)),$t||Ae.update($t),tr=Qt,Ae.isReverted=$t)},Ae.refresh=function(ct,zt,$t,Qt){if(!((tr||!Ae.enabled)&&!zt)){if(S&&ct&&Es){za(s,"scrollEnd",nM);return}!xr&&ft&&ft(Ae),tr=Ae,Et.tween&&!$t&&(Et.tween.kill(),Et.tween=0),ht&&ht.pause(),M&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(qn){return qn.vars.immediateRender&&qn.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),Ae.isReverted||Ae.revert(!0,!0),Ae._subPinOffset=!1;var it=Dt(),qt=Yt(),fi=Y?Y.duration():_o(xe,ce),Nn=Ri<=.01||!Ri,Ti=0,ot=Qt||0,Mt=fu($t)?$t.end:i.end,Ut=i.endTrigger||w,pi=fu($t)?$t.start:i.start||(i.start===0||!w?0:S?"0 0":"0 100%"),la=Ae.pinnedContainer=i.pinnedContainer&&Fr(i.pinnedContainer,Ae),Xn=w&&Math.max(0,gi.indexOf(Ae))||0,Ft=Xn,vn,Pn,Cr,Hr,Ln,Ji,Aa,ia,Pi,ms,va,Gr,Ar;for(nt&&fu($t)&&(Gr=Ot.getProperty(Ye,ce.p),Ar=Ot.getProperty(Mn,ce.p));Ft-- >0;)Ji=gi[Ft],Ji.end||Ji.refresh(0,1)||(tr=Ae),Aa=Ji.pin,Aa&&(Aa===w||Aa===S||Aa===la)&&!Ji.isReverted&&(ms||(ms=[]),ms.unshift(Ji),Ji.revert(!0,!0)),Ji!==gi[Ft]&&(Xn--,Ft--);for(sr(pi)&&(pi=pi(Ae)),pi=fT(pi,"start",Ae),Ht=wT(pi,w,it,ce,Pt(),Bi,Ye,Ae,qt,Qe,Oe,fi,Y,Ae._startClamp&&"_startClamp")||(S?-.001:0),sr(Mt)&&(Mt=Mt(Ae)),ns(Mt)&&!Mt.indexOf("+=")&&(~Mt.indexOf(" ")?Mt=(ns(pi)?pi.split(" ")[0]:"")+Mt:(Ti=K_(Mt.substr(2),it),Mt=ns(pi)?pi:(Y?Ot.utils.mapRange(0,Y.duration(),Y.scrollTrigger.start,Y.scrollTrigger.end,Ht):Ht)+Ti,Ut=w)),Mt=fT(Mt,"end",Ae),Zt=Math.max(Ht,wT(Mt||(Ut?"100% 0":fi),Ut,it,ce,Pt()+Ti,cn,Mn,Ae,qt,Qe,Oe,fi,Y,Ae._endClamp&&"_endClamp"))||-.001,Ti=0,Ft=Xn;Ft--;)Ji=gi[Ft]||{},Aa=Ji.pin,Aa&&Ji.start-Ji._pinPush<=Ht&&!Y&&Ji.end>0&&(vn=Ji.end-(Ae._startClamp?Math.max(0,Ji.start):Ji.start),(Aa===w&&Ji.start-Ji._pinPush<Ht||Aa===la)&&isNaN(pi)&&(Ti+=vn*(1-Ji.progress)),Aa===S&&(ot+=vn));if(Ht+=Ti,Zt+=Ti,Ae._startClamp&&(Ae._startClamp+=Ti),Ae._endClamp&&!xr&&(Ae._endClamp=Zt||-.001,Zt=Math.min(Zt,_o(xe,ce))),Ri=Zt-Ht||(Ht-=.01)&&.001,Nn&&(Tt=Ot.utils.clamp(0,1,Ot.utils.normalize(Ht,Zt,je))),Ae._pinPush=ot,Bi&&Ti&&(vn={},vn[ce.a]="+="+Ti,la&&(vn[ce.p]="-="+Pt()),Ot.set([Bi,cn],vn)),S&&!(r0&&Ae.end>=_o(xe,ce)))vn=Cs(S),Hr=ce===Sa,Cr=Pt(),ue=parseFloat(ae(ce.a))+ot,!fi&&Zt>1&&(va=(Be?_n.scrollingElement||rs:xe).style,va={style:va,value:va["overflow"+ce.a.toUpperCase()]},Be&&Cs(Xi)["overflow"+ce.a.toUpperCase()]!=="scroll"&&(va.style["overflow"+ce.a.toUpperCase()]="scroll")),eb(S,Mi,vn),Ya=k_(S),Pn=Ko(S,!0),ia=Oe&&ah(xe,Hr?wr:Sa)(),E?(ze=[E+ce.os2,Ri+ot+ka],ze.t=Mi,Ft=E===ga?ky(S,ce)+Ri+ot:0,Ft&&(ze.push(ce.d,Ft+ka),Mi.style.flexBasis!=="auto"&&(Mi.style.flexBasis=Ft+ka)),vd(ze),la&&gi.forEach(function(qn){qn.pin===la&&qn.vars.pinSpacing!==!1&&(qn._subPinOffset=!0)}),Oe&&Pt(je)):(Ft=ky(S,ce),Ft&&Mi.style.flexBasis!=="auto"&&(Mi.style.flexBasis=Ft+ka)),Oe&&(Ln={top:Pn.top+(Hr?Cr-Ht:ia)+ka,left:Pn.left+(Hr?ia:Cr-Ht)+ka,boxSizing:"border-box",position:"fixed"},Ln[Lu]=Ln["max"+Pd]=Math.ceil(Pn.width)+ka,Ln[Eu]=Ln["max"+Pw]=Math.ceil(Pn.height)+ka,Ln[Ts]=Ln[Ts+Up]=Ln[Ts+Hp]=Ln[Ts+Wp]=Ln[Ts+Gp]="0",Ln[ga]=vn[ga],Ln[ga+Up]=vn[ga+Up],Ln[ga+Hp]=vn[ga+Hp],Ln[ga+Wp]=vn[ga+Wp],Ln[ga+Gp]=vn[ga+Gp],Ba=RR(jn,Ln,U),xr&&Pt(0)),n?(Pi=n._initted,Yv(1),n.render(n.duration(),!0,!0),ke=ae(ce.a)-ue+Ri+ot,Le=Math.abs(Ri-ke)>1,Oe&&Le&&Ba.splice(Ba.length-2,2),n.render(0,!0,!0),Pi||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Yv(0)):ke=Ri,va&&(va.value?va.style["overflow"+ce.a.toUpperCase()]=va.value:va.style.removeProperty("overflow-"+ce.a));else if(w&&Pt()&&!Y)for(Pn=w.parentNode;Pn&&Pn!==Xi;)Pn._pinOffset&&(Ht-=Pn._pinOffset,Zt-=Pn._pinOffset),Pn=Pn.parentNode;ms&&ms.forEach(function(qn){return qn.revert(!1,!0)}),Ae.start=Ht,Ae.end=Zt,ui=Si=xr?je:Pt(),!Y&&!xr&&(ui<je&&Pt(je),Ae.scroll.rec=0),Ae.revert(!1,!0),Rt=nr(),ii&&(wt=-1,ii.restart(!0)),tr=0,n&&ve&&(n._initted||_i)&&n.progress()!==_i&&n.progress(_i||0,!0).render(n.time(),!0,!0),(Nn||Tt!==Ae.progress||Y||M||n&&!n._initted)&&(n&&!ve&&(n._initted||Tt||n.vars.immediateRender!==!1)&&n.totalProgress(Y&&Ht<-.001&&!Tt?Ot.utils.normalize(Ht,Zt,0):Tt,!0),Ae.progress=Nn||(ui-Ht)/Ri===Tt?0:Tt),S&&E&&(Mi._pinOffset=Math.round(Ae.progress*ke)),ht&&ht.invalidate(),isNaN(Gr)||(Gr-=Ot.getProperty(Ye,ce.p),Ar-=Ot.getProperty(Mn,ce.p),S_(Ye,ce,Gr),S_(Bi,ce,Gr-(Qt||0)),S_(Mn,ce,Ar),S_(cn,ce,Ar-(Qt||0))),Nn&&!xr&&Ae.update(),g&&!xr&&!Oa&&(Oa=!0,g(Ae),Oa=!1)}},Ae.getVelocity=function(){return(Pt()-Si)/(nr()-Sp)*1e3||0},Ae.endAnimation=function(){cp(Ae.callbackAnimation),n&&(ht?ht.progress(1):n.paused()?ve||cp(n,Ae.direction<0,1):cp(n,n.reversed()))},Ae.labelToScroll=function(ct){return n&&n.labels&&(Ht||Ae.refresh()||Ht)+n.labels[ct]/n.duration()*Ri||0},Ae.getTrailing=function(ct){var zt=gi.indexOf(Ae),$t=Ae.direction>0?gi.slice(0,zt).reverse():gi.slice(zt+1);return(ns(ct)?$t.filter(function(Qt){return Qt.vars.preventOverlaps===ct}):$t).filter(function(Qt){return Ae.direction>0?Qt.end<=Ht:Qt.start>=Zt})},Ae.update=function(ct,zt,$t){if(!(Y&&!$t&&!ct)){var Qt=xr===!0?je:Ae.scroll(),it=ct?0:(Qt-Ht)/Ri,qt=it<0?0:it>1?1:it||0,fi=Ae.progress,Nn,Ti,ot,Mt,Ut,pi,la,Xn;if(zt&&(Si=ui,ui=Y?Pt():Qt,X&&(_t=Je,Je=n&&!ve?n.totalProgress():qt)),D&&S&&!tr&&!__&&Es&&(!qt&&Ht<Qt+(Qt-Si)/(nr()-Sp)*D?qt=1e-4:qt===1&&Zt>Qt+(Qt-Si)/(nr()-Sp)*D&&(qt=.9999)),qt!==fi&&Ae.enabled){if(Nn=Ae.isActive=!!qt&&qt<1,Ti=!!fi&&fi<1,pi=Nn!==Ti,Ut=pi||!!qt!=!!fi,Ae.direction=qt>fi?1:-1,Ae.progress=qt,Ut&&!tr&&(ot=qt&&!fi?0:qt===1?1:fi===1?2:3,ve&&(Mt=!pi&&$e[ot+1]!=="none"&&$e[ot+1]||$e[ot],Xn=n&&(Mt==="complete"||Mt==="reset"||Mt in n))),se&&(pi||Xn)&&(Xn||x||!n)&&(sr(se)?se(Ae):Ae.getTrailing(se).forEach(function(Cr){return Cr.endAnimation()})),ve||(ht&&!tr&&!__?(ht._dp._time-ht._start!==ht._time&&ht.render(ht._dp._time-ht._start),ht.resetTo?ht.resetTo("totalProgress",qt,n._tTime/n._tDur):(ht.vars.totalProgress=qt,ht.invalidate().restart())):n&&n.totalProgress(qt,!!(tr&&(Rt||ct)))),S){if(ct&&E&&(Mi.style[E+ce.os2]=Me),!Oe)re(Cp(ue+ke*qt));else if(Ut){if(la=!ct&&qt>fi&&Zt+1>Qt&&Qt+1>=_o(xe,ce),U)if(!ct&&(Nn||la)){var Ft=Ko(S,!0),vn=Qt-Ht;kT(S,Xi,Ft.top+(ce===Sa?vn:0)+ka,Ft.left+(ce===Sa?0:vn)+ka)}else kT(S,Mi);vd(Nn||la?Ba:Ya),Le&&qt<1&&Nn||re(ue+(qt===1&&!la?ke:0))}}X&&!Et.tween&&!tr&&!__&&ii.restart(!0),a&&(pi||H&&qt&&(qt<1||!Zv))&&hm(a.targets).forEach(function(Cr){return Cr.classList[Nn||H?"add":"remove"](a.className)}),o&&!ve&&!ct&&o(Ae),Ut&&!tr?(ve&&(Xn&&(Mt==="complete"?n.pause().totalProgress(1):Mt==="reset"?n.restart(!0).pause():Mt==="restart"?n.restart(!0):n[Mt]()),o&&o(Ae)),(pi||!Zv)&&(p&&pi&&Jv(Ae,p),Ue[ot]&&Jv(Ae,Ue[ot]),H&&(qt===1?Ae.kill(!1,1):Ue[ot]=0),pi||(ot=qt===1?1:3,Ue[ot]&&Jv(Ae,Ue[ot]))),te&&!Nn&&Math.abs(Ae.getVelocity())>(Ap(te)?te:2500)&&(cp(Ae.callbackAnimation),ht?ht.progress(1):cp(n,Mt==="reverse"?1:!qt,1))):ve&&o&&!tr&&o(Ae)}if(He){var Pn=Y?Qt/Y.duration()*(Y._caScrollDist||0):Qt;Fe(Pn+(Ye._isFlipped?1:0)),He(Pn)}dn&&dn(-Qt/Y.duration()*(Y._caScrollDist||0))}},Ae.enable=function(ct,zt){Ae.enabled||(Ae.enabled=!0,za(xe,"resize",Mp),Be||za(xe,"scroll",ad),ft&&za(s,"refreshInit",ft),ct!==!1&&(Ae.progress=Tt=0,ui=Si=wt=Pt()),zt!==!1&&Ae.refresh())},Ae.getTween=function(ct){return ct&&Et?Et.tween:ht},Ae.setPositions=function(ct,zt,$t,Qt){if(Y){var it=Y.scrollTrigger,qt=Y.duration(),fi=it.end-it.start;ct=it.start+fi*ct/qt,zt=it.start+fi*zt/qt}Ae.refresh(!1,!1,{start:pT(ct,$t&&!!Ae._startClamp),end:pT(zt,$t&&!!Ae._endClamp)},Qt),Ae.update()},Ae.adjustPinSpacing=function(ct){if(ze&&ct){var zt=ze.indexOf(ce.d)+1;ze[zt]=parseFloat(ze[zt])+ct+ka,ze[1]=parseFloat(ze[1])+ct+ka,vd(ze)}},Ae.disable=function(ct,zt){if(ct!==!1&&Ae.revert(!0,!0),Ae.enabled&&(Ae.enabled=Ae.isActive=!1,zt||ht&&ht.pause(),je=0,Jt&&(Jt.uncache=1),ft&&Da(s,"refreshInit",ft),ii&&(ii.pause(),Et.tween&&Et.tween.kill()&&(Et.tween=0)),!Be)){for(var $t=gi.length;$t--;)if(gi[$t].scroller===xe&&gi[$t]!==Ae)return;Da(xe,"resize",Mp),Be||Da(xe,"scroll",ad)}},Ae.kill=function(ct,zt){Ae.disable(ct,zt),ht&&!zt&&ht.kill(),d&&delete s0[d];var $t=gi.indexOf(Ae);$t>=0&&gi.splice($t,1),$t===yr&&Q_>0&&yr--,$t=0,gi.forEach(function(Qt){return Qt.scroller===Ae.scroller&&($t=1)}),$t||xr||(Ae.scroll.rec=0),n&&(n.scrollTrigger=null,ct&&n.revert({kill:!1}),zt||n.kill()),Bi&&[Bi,cn,Ye,Mn].forEach(function(Qt){return Qt.parentNode&&Qt.parentNode.removeChild(Qt)}),Xp===Ae&&(Xp=0),S&&(Jt&&(Jt.uncache=1),$t=0,gi.forEach(function(Qt){return Qt.pin===S&&$t++}),$t||(Jt.spacer=0)),i.onKill&&i.onKill(Ae)},gi.push(Ae),Ae.enable(!1,!1),Nt&&Nt(Ae),n&&n.add&&!Ri){var Gt=Ae.update;Ae.update=function(){Ae.update=Gt,wi.cache++,Ht||Zt||Ae.refresh()},Ot.delayedCall(.01,Ae.update),Ri=.01,Ht=Zt=0}else Ae.refresh();S&&IR()},s.register=function(i){return hd||(Ot=i||KA(),ZA()&&window.document&&s.enable(),hd=Tp),hd},s.defaults=function(i){if(i)for(var n in i)b_[n]=i[n];return b_},s.disable=function(i,n){Tp=0,gi.forEach(function(o){return o[n?"kill":"disable"](i)}),Da(bi,"wheel",ad),Da(_n,"scroll",ad),clearInterval(g_),Da(_n,"touchcancel",fo),Da(Xi,"touchstart",fo),x_(Da,_n,"pointerdown,touchstart,mousedown",mT),x_(Da,_n,"pointerup,touchend,mouseup",gT),wy.kill(),y_(Da);for(var r=0;r<wi.length;r+=3)v_(Da,wi[r],wi[r+1]),v_(Da,wi[r],wi[r+2])},s.enable=function(){if(bi=window,_n=document,rs=_n.documentElement,Xi=_n.body,Ot&&(hm=Ot.utils.toArray,$p=Ot.utils.clamp,a0=Ot.core.context||fo,Yv=Ot.core.suppressOverwrites||fo,Tw=bi.history.scrollRestoration||"auto",o0=bi.pageYOffset||0,Ot.core.globals("ScrollTrigger",s),Xi)){Tp=1,xd=document.createElement("div"),xd.style.height="100vh",xd.style.position="absolute",oM(),TR(),sa.register(Ot),s.isTouch=sa.isTouch,jl=sa.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),n0=sa.isTouch===1,za(bi,"wheel",ad),Sw=[bi,_n,rs,Xi],Ot.matchMedia?(s.matchMedia=function(p){var g=Ot.matchMedia(),x;for(x in p)g.add(x,p[x]);return g},Ot.addEventListener("matchMediaInit",function(){rM(),Ew()}),Ot.addEventListener("matchMediaRevert",function(){return aM()}),Ot.addEventListener("matchMedia",function(){bu(0,1),Vu("matchMedia")}),Ot.matchMedia().add("(orientation: portrait)",function(){return Qv(),Qv})):console.warn("Requires GSAP 3.11.0 or later"),Qv(),za(_n,"scroll",ad);var i=Xi.hasAttribute("style"),n=Xi.style,r=n.borderTopStyle,o=Ot.core.Animation.prototype,a,d;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",a=Ko(Xi),Sa.m=Math.round(a.top+Sa.sc())||0,wr.m=Math.round(a.left+wr.sc())||0,r?n.borderTopStyle=r:n.removeProperty("border-top-style"),i||(Xi.setAttribute("style",""),Xi.removeAttribute("style")),g_=setInterval(xT,250),Ot.delayedCall(.5,function(){return __=0}),za(_n,"touchcancel",fo),za(Xi,"touchstart",fo),x_(za,_n,"pointerdown,touchstart,mousedown",mT),x_(za,_n,"pointerup,touchend,mouseup",gT),i0=Ot.utils.checkPrefix("transform"),ey.push(i0),hd=nr(),wy=Ot.delayedCall(.2,bu).pause(),ud=[_n,"visibilitychange",function(){var p=bi.innerWidth,g=bi.innerHeight;_n.hidden?(cT=p,dT=g):(cT!==p||dT!==g)&&Mp()},_n,"DOMContentLoaded",bu,bi,"load",bu,bi,"resize",Mp],y_(za),gi.forEach(function(p){return p.enable(0,1)}),d=0;d<wi.length;d+=3)v_(Da,wi[d],wi[d+1]),v_(Da,wi[d],wi[d+2])}},s.config=function(i){"limitCallbacks"in i&&(Zv=!!i.limitCallbacks);var n=i.syncInterval;n&&clearInterval(g_)||(g_=n)&&setInterval(xT,n),"ignoreMobileResize"in i&&(n0=s.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(y_(Da)||y_(za,i.autoRefreshEvents||"none"),XA=(i.autoRefreshEvents+"").indexOf("resize")===-1)},s.scrollerProxy=function(i,n){var r=Fr(i),o=wi.indexOf(r),a=Nu(r);~o&&wi.splice(o,a?6:2),n&&(a?yo.unshift(bi,n,Xi,n,rs,n):yo.unshift(r,n))},s.clearMatchMedia=function(i){gi.forEach(function(n){return n._ctx&&n._ctx.query===i&&n._ctx.kill(!0,!0)})},s.isInViewport=function(i,n,r){var o=(ns(i)?Fr(i):i).getBoundingClientRect(),a=o[r?Lu:Eu]*n||0;return r?o.right-a>0&&o.left+a<bi.innerWidth:o.bottom-a>0&&o.top+a<bi.innerHeight},s.positionInViewport=function(i,n,r){ns(i)&&(i=Fr(i));var o=i.getBoundingClientRect(),a=o[r?Lu:Eu],d=n==null?a/2:n in Sy?Sy[n]*a:~n.indexOf("%")?parseFloat(n)*a/100:parseFloat(n)||0;return r?(o.left+d)/bi.innerWidth:(o.top+d)/bi.innerHeight},s.killAll=function(i){if(gi.slice(0).forEach(function(r){return r.vars.id!=="ScrollSmoother"&&r.kill()}),i!==!0){var n=$u.killAll||[];$u={},n.forEach(function(r){return r()})}},s})();ki.version="3.14.2";ki.saveStyles=function(s){return s?hm(s).forEach(function(e){if(e&&e.style){var t=is.indexOf(e);t>=0&&is.splice(t,5),is.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Ot.core.getCache(e),a0())}}):is};ki.revert=function(s,e){return Ew(!s,e)};ki.create=function(s,e){return new ki(s,e)};ki.refresh=function(s){return s?Mp(!0):(hd||ki.register())&&bu(!0)};ki.update=function(s){return++wi.cache&&nl(s===!0?2:0)};ki.clearScrollMemory=sM;ki.maxScroll=function(s,e){return _o(s,e?wr:Sa)};ki.getScrollFunc=function(s,e){return ah(Fr(s),e?wr:Sa)};ki.getById=function(s){return s0[s]};ki.getAll=function(){return gi.filter(function(s){return s.vars.id!=="ScrollSmoother"})};ki.isScrolling=function(){return!!Es};ki.snapDirectional=Lw;ki.addEventListener=function(s,e){var t=$u[s]||($u[s]=[]);~t.indexOf(e)||t.push(e)};ki.removeEventListener=function(s,e){var t=$u[s],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};ki.batch=function(s,e){var t=[],i={},n=e.interval||.016,r=e.batchMax||1e9,o=function(p,g){var x=[],w=[],S=Ot.delayedCall(n,function(){g(x,w),x=[],w=[]}).pause();return function(E){x.length||S.restart(!0),x.push(E.trigger),w.push(E),r<=x.length&&S.progress(1)}},a;for(a in e)i[a]=a.substr(0,2)==="on"&&sr(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return sr(r)&&(r=r(),za(ki,"refresh",function(){return r=e.batchMax()})),hm(s).forEach(function(d){var p={};for(a in i)p[a]=i[a];p.trigger=d,t.push(ki.create(p))}),t};var TT=function(e,t,i,n){return t>n?e(n):t<0&&e(0),i>n?(n-t)/(i-t):i<0?t/(t-i):1},tb=function s(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(sa.isTouch?" pinch-zoom":""):"none",e===rs&&s(Xi,t)},T_={auto:1,scroll:1},OR=function(e){var t=e.event,i=e.target,n=e.axis,r=(t.changedTouches?t.changedTouches[0]:t).target,o=r._gsap||Ot.core.getCache(r),a=nr(),d;if(!o._isScrollT||a-o._isScrollT>2e3){for(;r&&r!==Xi&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!(T_[(d=Cs(r)).overflowY]||T_[d.overflowX]));)r=r.parentNode;o._isScroll=r&&r!==i&&!Nu(r)&&(T_[(d=Cs(r)).overflowY]||T_[d.overflowX]),o._isScrollT=a}(o._isScroll||n==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},hM=function(e,t,i,n){return sa.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&OR,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&za(_n,sa.eventTypes[0],AT,!1,!0)},onDisable:function(){return Da(_n,sa.eventTypes[0],AT,!0)}})},BR=/(input|label|select|textarea)/i,CT,AT=function(e){var t=BR.test(e.target.tagName);(t||CT)&&(e._gsapAllow=!0,CT=t)},jR=function(e){fu(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,n=t.momentum,r=t.allowNestedScroll,o=t.onRelease,a,d,p=Fr(e.target)||rs,g=Ot.core.globals().ScrollSmoother,x=g&&g.get(),w=jl&&(e.content&&Fr(e.content)||x&&e.content!==!1&&!x.smooth()&&x.content()),S=ah(p,Sa),E=ah(p,wr),M=1,D=(sa.isTouch&&bi.visualViewport?bi.visualViewport.scale*bi.visualViewport.width:bi.outerWidth)/bi.innerWidth,O=0,N=sr(n)?function(){return n(a)}:function(){return n||2.8},H,X,U=hM(p,e.type,!0,r),Q=function(){return X=!1},Y=fo,te=fo,se=function(){d=_o(p,Sa),te=$p(jl?1:0,d),i&&(Y=$p(0,_o(p,wr))),H=Iu},ce=function(){w._gsap.y=Cp(parseFloat(w._gsap.y)+S.offset)+"px",w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(w._gsap.y)+", 0, 1)",S.offset=S.cacheID=0},ve=function(){if(X){requestAnimationFrame(Q);var nt=Cp(a.deltaY/2),Qe=te(S.v-nt);if(w&&Qe!==S.v+S.offset){S.offset=Qe-S.v;var Ae=Cp((parseFloat(w&&w._gsap.y)||0)-S.offset);w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Ae+", 0, 1)",w._gsap.y=Ae+"px",S.cacheID=wi.cache,nl()}return!0}S.offset&&ce(),X=!0},xe,Ee,Be,Oe,Ue=function(){se(),xe.isActive()&&xe.vars.scrollY>d&&(S()>d?xe.progress(1)&&S(d):xe.resetTo("scrollY",d))};return w&&Ot.set(w,{y:"+=0"}),e.ignoreCheck=function($e){return jl&&$e.type==="touchmove"&&ve()||M>1.05&&$e.type!=="touchstart"||a.isGesturing||$e.touches&&$e.touches.length>1},e.onPress=function(){X=!1;var $e=M;M=Cp((bi.visualViewport&&bi.visualViewport.scale||1)/D),xe.pause(),$e!==M&&tb(p,M>1.01?!0:i?!1:"x"),Ee=E(),Be=S(),se(),H=Iu},e.onRelease=e.onGestureStart=function($e,nt){if(S.offset&&ce(),!nt)Oe.restart(!0);else{wi.cache++;var Qe=N(),Ae,ft;i&&(Ae=E(),ft=Ae+Qe*.05*-$e.velocityX/.227,Qe*=TT(E,Ae,ft,_o(p,wr)),xe.vars.scrollX=Y(ft)),Ae=S(),ft=Ae+Qe*.05*-$e.velocityY/.227,Qe*=TT(S,Ae,ft,_o(p,Sa)),xe.vars.scrollY=te(ft),xe.invalidate().duration(Qe).play(.01),(jl&&xe.vars.scrollY>=d||Ae>=d-1)&&Ot.to({},{onUpdate:Ue,duration:Qe})}o&&o($e)},e.onWheel=function(){xe._ts&&xe.pause(),nr()-O>1e3&&(H=0,O=nr())},e.onChange=function($e,nt,Qe,Ae,ft){if(Iu!==H&&se(),nt&&i&&E(Y(Ae[2]===nt?Ee+($e.startX-$e.x):E()+nt-Ae[1])),Qe){S.offset&&ce();var Dt=ft[2]===Qe,Yt=Dt?Be+$e.startY-$e.y:S()+Qe-ft[1],wt=te(Yt);Dt&&Yt!==wt&&(Be+=wt-Yt),S(wt)}(Qe||nt)&&nl()},e.onEnable=function(){tb(p,i?!1:"x"),ki.addEventListener("refresh",Ue),za(bi,"resize",Ue),S.smooth&&(S.target.style.scrollBehavior="auto",S.smooth=E.smooth=!1),U.enable()},e.onDisable=function(){tb(p,!0),Da(bi,"resize",Ue),ki.removeEventListener("refresh",Ue),U.kill()},e.lockAxis=e.lockAxis!==!1,a=new sa(e),a.iOS=jl,jl&&!S()&&S(1),jl&&Ot.ticker.add(fo),Oe=a._dc,xe=Ot.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:lM(S,S(),function(){return xe.pause()})},onUpdate:nl,onComplete:Oe.vars.onComplete}),a};ki.sort=function(s){if(sr(s))return gi.sort(s);var e=bi.pageYOffset||0;return ki.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+bi.innerHeight}),gi.sort(s||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};ki.observe=function(s){return new sa(s)};ki.normalizeScroll=function(s){if(typeof s>"u")return _r;if(s===!0&&_r)return _r.enable();if(s===!1){_r&&_r.kill(),_r=s;return}var e=s instanceof sa?s:jR(s);return _r&&_r.target===e.target&&_r.kill(),Nu(e.target)&&(_r=e),e};ki.core={_getVelocityProp:t0,_inputObserver:hM,_scrollers:wi,_proxies:yo,bridge:{ss:function(){Es||Vu("scrollStart"),Es=nr()},ref:function(){return tr}}};KA()&&Ot.registerPlugin(ki);function Cm(s){return s+.5|0}const Wl=(s,e,t)=>Math.max(Math.min(s,t),e);function Pp(s){return Wl(Cm(s*2.55),0,255)}function Ql(s){return Wl(Cm(s*255),0,255)}function Zo(s){return Wl(Cm(s/2.55)/100,0,1)}function MT(s){return Wl(Cm(s*100),0,100)}const bs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},h0=[..."0123456789ABCDEF"],NR=s=>h0[s&15],$R=s=>h0[(s&240)>>4]+h0[s&15],C_=s=>(s&240)>>4===(s&15),VR=s=>C_(s.r)&&C_(s.g)&&C_(s.b)&&C_(s.a);function HR(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&bs[s[1]]*17,g:255&bs[s[2]]*17,b:255&bs[s[3]]*17,a:e===5?bs[s[4]]*17:255}:(e===7||e===9)&&(t={r:bs[s[1]]<<4|bs[s[2]],g:bs[s[3]]<<4|bs[s[4]],b:bs[s[5]]<<4|bs[s[6]],a:e===9?bs[s[7]]<<4|bs[s[8]]:255})),t}const GR=(s,e)=>s<255?e(s):"";function UR(s){var e=VR(s)?NR:$R;return s?"#"+e(s.r)+e(s.g)+e(s.b)+GR(s.a,e):void 0}const WR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uM(s,e,t){const i=e*Math.min(t,1-t),n=(r,o=(r+s/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function XR(s,e,t){const i=(n,r=(n+s/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function qR(s,e,t){const i=uM(s,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)i[n]*=1-e-t,i[n]+=e;return i}function YR(s,e,t,i,n){return s===n?(e-t)/i+(e<t?6:0):e===n?(t-s)/i+2:(s-e)/i+4}function Iw(s){const t=s.r/255,i=s.g/255,n=s.b/255,r=Math.max(t,i,n),o=Math.min(t,i,n),a=(r+o)/2;let d,p,g;return r!==o&&(g=r-o,p=a>.5?g/(2-r-o):g/(r+o),d=YR(t,i,n,g,r),d=d*60+.5),[d|0,p||0,a]}function Dw(s,e,t,i){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,i)).map(Ql)}function zw(s,e,t){return Dw(uM,s,e,t)}function ZR(s,e,t){return Dw(qR,s,e,t)}function KR(s,e,t){return Dw(XR,s,e,t)}function cM(s){return(s%360+360)%360}function JR(s){const e=WR.exec(s);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Pp(+e[5]):Ql(+e[5]));const n=cM(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=ZR(n,r,o):e[1]==="hsv"?i=KR(n,r,o):i=zw(n,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function QR(s,e){var t=Iw(s);t[0]=cM(t[0]+e),t=zw(t),s.r=t[0],s.g=t[1],s.b=t[2]}function eF(s){if(!s)return;const e=Iw(s),t=e[0],i=MT(e[1]),n=MT(e[2]);return s.a<255?`hsla(${t}, ${i}%, ${n}%, ${Zo(s.a)})`:`hsl(${t}, ${i}%, ${n}%)`}const PT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},LT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tF(){const s={},e=Object.keys(LT),t=Object.keys(PT);let i,n,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<t.length;n++)r=t[n],a=a.replace(r,PT[r]);r=parseInt(LT[o],16),s[a]=[r>>16&255,r>>8&255,r&255]}return s}let A_;function iF(s){A_||(A_=tF(),A_.transparent=[0,0,0,0]);const e=A_[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nF=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aF(s){const e=nF.exec(s);let t=255,i,n,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Pp(o):Wl(o*255,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?Pp(i):Wl(i,0,255)),n=255&(e[4]?Pp(n):Wl(n,0,255)),r=255&(e[6]?Pp(r):Wl(r,0,255)),{r:i,g:n,b:r,a:t}}}function rF(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Zo(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const ib=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,rd=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function sF(s,e,t){const i=rd(Zo(s.r)),n=rd(Zo(s.g)),r=rd(Zo(s.b));return{r:Ql(ib(i+t*(rd(Zo(e.r))-i))),g:Ql(ib(n+t*(rd(Zo(e.g))-n))),b:Ql(ib(r+t*(rd(Zo(e.b))-r))),a:s.a+t*(e.a-s.a)}}function M_(s,e,t){if(s){let i=Iw(s);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=zw(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function dM(s,e){return s&&Object.assign(e||{},s)}function ET(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Ql(s[3]))):(e=dM(s,{r:0,g:0,b:0,a:1}),e.a=Ql(e.a)),e}function oF(s){return s.charAt(0)==="r"?aF(s):JR(s)}class cm{constructor(e){if(e instanceof cm)return e;const t=typeof e;let i;t==="object"?i=ET(e):t==="string"&&(i=HR(e)||iF(e)||oF(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=dM(this._rgb);return e&&(e.a=Zo(e.a)),e}set rgb(e){this._rgb=ET(e)}rgbString(){return this._valid?rF(this._rgb):void 0}hexString(){return this._valid?UR(this._rgb):void 0}hslString(){return this._valid?eF(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let r;const o=t===r?.5:t,a=2*o-1,d=i.a-n.a,p=((a*d===-1?a:(a+d)/(1+a*d))+1)/2;r=1-p,i.r=255&p*i.r+r*n.r+.5,i.g=255&p*i.g+r*n.g+.5,i.b=255&p*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=sF(this._rgb,e._rgb,t)),this}clone(){return new cm(this.rgb)}alpha(e){return this._rgb.a=Ql(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Cm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return M_(this._rgb,2,e),this}darken(e){return M_(this._rgb,2,-e),this}saturate(e){return M_(this._rgb,1,e),this}desaturate(e){return M_(this._rgb,1,-e),this}rotate(e){return QR(this._rgb,e),this}}function Go(){}const lF=(()=>{let s=0;return()=>s++})();function Ci(s){return s==null}function On(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ai(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Qn(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function ts(s,e){return Qn(s)?s:e}function oi(s,e){return typeof s>"u"?e:s}const hF=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,fM=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function yn(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Ki(s,e,t,i){let n,r,o;if(On(s))for(r=s.length,n=0;n<r;n++)e.call(t,s[n],n);else if(Ai(s))for(o=Object.keys(s),r=o.length,n=0;n<r;n++)e.call(t,s[o[n]],o[n])}function Ty(s,e){let t,i,n,r;if(!s||!e||s.length!==e.length)return!1;for(t=0,i=s.length;t<i;++t)if(n=s[t],r=e[t],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function Cy(s){if(On(s))return s.map(Cy);if(Ai(s)){const e=Object.create(null),t=Object.keys(s),i=t.length;let n=0;for(;n<i;++n)e[t[n]]=Cy(s[t[n]]);return e}return s}function pM(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function uF(s,e,t,i){if(!pM(s))return;const n=e[s],r=t[s];Ai(n)&&Ai(r)?dm(n,r,i):e[s]=Cy(r)}function dm(s,e,t){const i=On(e)?e:[e],n=i.length;if(!Ai(s))return s;t=t||{};const r=t.merger||uF;let o;for(let a=0;a<n;++a){if(o=i[a],!Ai(o))continue;const d=Object.keys(o);for(let p=0,g=d.length;p<g;++p)r(d[p],s,o,t)}return s}function qp(s,e){return dm(s,e,{merger:cF})}function cF(s,e,t){if(!pM(s))return;const i=e[s],n=t[s];Ai(i)&&Ai(n)?qp(i,n):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Cy(n))}const IT={"":s=>s,x:s=>s.x,y:s=>s.y};function dF(s){const e=s.split("."),t=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function fF(s){const e=dF(s);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function rh(s,e){return(IT[e]||(IT[e]=fF(e)))(s)}function Rw(s){return s.charAt(0).toUpperCase()+s.slice(1)}const fm=s=>typeof s<"u",sh=s=>typeof s=="function",DT=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function pF(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Oi=Math.PI,Cn=2*Oi,mF=Cn+Oi,Ay=Number.POSITIVE_INFINITY,gF=Oi/180,oa=Oi/2,ou=Oi/4,zT=Oi*2/3,Xl=Math.log10,xo=Math.sign;function Yp(s,e,t){return Math.abs(s-e)<t}function RT(s){const e=Math.round(s);s=Yp(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(Xl(s))),i=s/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function _F(s){const e=[],t=Math.sqrt(s);let i;for(i=1;i<t;i++)s%i===0&&(e.push(i),e.push(s/i));return t===(t|0)&&e.push(t),e.sort((n,r)=>n-r).pop(),e}function yF(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Ld(s){return!yF(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function xF(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function mM(s,e,t){let i,n,r;for(i=0,n=s.length;i<n;i++)r=s[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Hs(s){return s*(Oi/180)}function Fw(s){return s*(180/Oi)}function FT(s){if(!Qn(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function gM(s,e){const t=e.x-s.x,i=e.y-s.y,n=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Oi&&(r+=Cn),{angle:r,distance:n}}function u0(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function vF(s,e){return(s-e+mF)%Cn-Oi}function ar(s){return(s%Cn+Cn)%Cn}function pm(s,e,t,i){const n=ar(s),r=ar(e),o=ar(t),a=ar(r-n),d=ar(o-n),p=ar(n-r),g=ar(n-o);return n===r||n===o||i&&r===o||a>d&&p<g}function Ra(s,e,t){return Math.max(e,Math.min(t,s))}function bF(s){return Ra(s,-32768,32767)}function Qo(s,e,t,i=1e-6){return s>=Math.min(e,t)-i&&s<=Math.max(e,t)+i}function Ow(s,e,t){t=t||(o=>s[o]<e);let i=s.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,t(r)?n=r:i=r;return{lo:n,hi:i}}const el=(s,e,t,i)=>Ow(s,t,i?n=>{const r=s[n][e];return r<t||r===t&&s[n+1][e]===t}:n=>s[n][e]<t),wF=(s,e,t)=>Ow(s,t,i=>s[i][e]>=t);function kF(s,e,t){let i=0,n=s.length;for(;i<n&&s[i]<e;)i++;for(;n>i&&s[n-1]>t;)n--;return i>0||n<s.length?s.slice(i,n):s}const _M=["push","pop","shift","splice","unshift"];function SF(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),_M.forEach(t=>{const i="_onData"+Rw(t),n=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return s._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function OT(s,e){const t=s._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(_M.forEach(r=>{delete s[r]}),delete s._chartjs)}function yM(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const xM=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function vM(s,e){let t=[],i=!1;return function(...n){t=n,i||(i=!0,xM.call(window,()=>{i=!1,s.apply(e,t)}))}}function TF(s,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(s,e,i)):s.apply(this,i),e}}const Bw=s=>s==="start"?"left":s==="end"?"right":"center",ir=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,CF=(s,e,t,i)=>s===(i?"left":"right")?t:s==="center"?(e+t)/2:e;function bM(s,e,t){const i=e.length;let n=0,r=i;if(s._sorted){const{iScale:o,vScale:a,_parsed:d}=s,p=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,g=o.axis,{min:x,max:w,minDefined:S,maxDefined:E}=o.getUserBounds();if(S){if(n=Math.min(el(d,g,x).lo,t?i:el(e,g,o.getPixelForValue(x)).lo),p){const M=d.slice(0,n+1).reverse().findIndex(D=>!Ci(D[a.axis]));n-=Math.max(0,M)}n=Ra(n,0,i-1)}if(E){let M=Math.max(el(d,o.axis,w,!0).hi+1,t?0:el(e,g,o.getPixelForValue(w),!0).hi+1);if(p){const D=d.slice(M-1).findIndex(O=>!Ci(O[a.axis]));M+=Math.max(0,D)}r=Ra(M,n,i)-n}else r=i-n}return{start:n,count:r}}function wM(s){const{xScale:e,yScale:t,_scaleRanges:i}=s,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return s._scaleRanges=n,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,n),r}const P_=s=>s===0||s===1,BT=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*Cn/t)),jT=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*Cn/t)+1,Zp={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*oa)+1,easeOutSine:s=>Math.sin(s*oa),easeInOutSine:s=>-.5*(Math.cos(Oi*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>P_(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>P_(s)?s:BT(s,.075,.3),easeOutElastic:s=>P_(s)?s:jT(s,.075,.3),easeInOutElastic(s){return P_(s)?s:s<.5?.5*BT(s*2,.1125,.45):.5+.5*jT(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-Zp.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Zp.easeInBounce(s*2)*.5:Zp.easeOutBounce(s*2-1)*.5+.5};function jw(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function NT(s){return jw(s)?s:new cm(s)}function nb(s){return jw(s)?s:new cm(s).saturate(.5).darken(.1).hexString()}const AF=["x","y","borderWidth","radius","tension"],MF=["color","borderColor","backgroundColor"];function PF(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:MF},numbers:{type:"number",properties:AF}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function LF(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $T=new Map;function EF(s,e){e=e||{};const t=s+JSON.stringify(e);let i=$T.get(t);return i||(i=new Intl.NumberFormat(s,e),$T.set(t,i)),i}function Am(s,e,t){return EF(e,t).format(s)}const kM={values(s){return On(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const i=this.chart.options.locale;let n,r=s;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(n="scientific"),r=IF(s,t)}const o=Xl(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(d,this.options.ticks.format),Am(s,i,d)},logarithmic(s,e,t){if(s===0)return"0";const i=t[e].significand||s/Math.pow(10,Math.floor(Xl(s)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?kM.numeric.call(this,s,e,t):""}};function IF(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var Ky={formatters:kM};function DF(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ky.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Hu=Object.create(null),c0=Object.create(null);function Kp(s,e){if(!e)return s;const t=e.split(".");for(let i=0,n=t.length;i<n;++i){const r=t[i];s=s[r]||(s[r]=Object.create(null))}return s}function ab(s,e,t){return typeof e=="string"?dm(Kp(s,e),t):dm(Kp(s,""),e)}class zF{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>nb(n.backgroundColor),this.hoverBorderColor=(i,n)=>nb(n.borderColor),this.hoverColor=(i,n)=>nb(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ab(this,e,t)}get(e){return Kp(this,e)}describe(e,t){return ab(c0,e,t)}override(e,t){return ab(Hu,e,t)}route(e,t,i,n){const r=Kp(this,e),o=Kp(this,i),a="_"+t;Object.defineProperties(r,{[a]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[a],p=o[n];return Ai(d)?Object.assign({},p,d):oi(d,p)},set(d){this[a]=d}}})}apply(e){e.forEach(t=>t(this))}}var Bn=new zF({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[PF,LF,DF]);function RF(s){return!s||Ci(s.size)||Ci(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function My(s,e,t,i,n){let r=e[n];return r||(r=e[n]=s.measureText(n).width,t.push(n)),r>i&&(i=r),i}function FF(s,e,t,i){i=i||{};let n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),s.save(),s.font=e;let o=0;const a=t.length;let d,p,g,x,w;for(d=0;d<a;d++)if(x=t[d],x!=null&&!On(x))o=My(s,n,r,o,x);else if(On(x))for(p=0,g=x.length;p<g;p++)w=x[p],w!=null&&!On(w)&&(o=My(s,n,r,o,w));s.restore();const S=r.length/2;if(S>t.length){for(d=0;d<S;d++)delete n[r[d]];r.splice(0,S)}return o}function lu(s,e,t){const i=s.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*i)/i+n}function VT(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function d0(s,e,t,i){SM(s,e,t,i,null)}function SM(s,e,t,i,n){let r,o,a,d,p,g,x,w;const S=e.pointStyle,E=e.rotation,M=e.radius;let D=(E||0)*gF;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(t,i),s.rotate(D),s.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),s.restore();return}if(!(isNaN(M)||M<=0)){switch(s.beginPath(),S){default:n?s.ellipse(t,i,n/2,M,0,0,Cn):s.arc(t,i,M,0,Cn),s.closePath();break;case"triangle":g=n?n/2:M,s.moveTo(t+Math.sin(D)*g,i-Math.cos(D)*M),D+=zT,s.lineTo(t+Math.sin(D)*g,i-Math.cos(D)*M),D+=zT,s.lineTo(t+Math.sin(D)*g,i-Math.cos(D)*M),s.closePath();break;case"rectRounded":p=M*.516,d=M-p,o=Math.cos(D+ou)*d,x=Math.cos(D+ou)*(n?n/2-p:d),a=Math.sin(D+ou)*d,w=Math.sin(D+ou)*(n?n/2-p:d),s.arc(t-x,i-a,p,D-Oi,D-oa),s.arc(t+w,i-o,p,D-oa,D),s.arc(t+x,i+a,p,D,D+oa),s.arc(t-w,i+o,p,D+oa,D+Oi),s.closePath();break;case"rect":if(!E){d=Math.SQRT1_2*M,g=n?n/2:d,s.rect(t-g,i-d,2*g,2*d);break}D+=ou;case"rectRot":x=Math.cos(D)*(n?n/2:M),o=Math.cos(D)*M,a=Math.sin(D)*M,w=Math.sin(D)*(n?n/2:M),s.moveTo(t-x,i-a),s.lineTo(t+w,i-o),s.lineTo(t+x,i+a),s.lineTo(t-w,i+o),s.closePath();break;case"crossRot":D+=ou;case"cross":x=Math.cos(D)*(n?n/2:M),o=Math.cos(D)*M,a=Math.sin(D)*M,w=Math.sin(D)*(n?n/2:M),s.moveTo(t-x,i-a),s.lineTo(t+x,i+a),s.moveTo(t+w,i-o),s.lineTo(t-w,i+o);break;case"star":x=Math.cos(D)*(n?n/2:M),o=Math.cos(D)*M,a=Math.sin(D)*M,w=Math.sin(D)*(n?n/2:M),s.moveTo(t-x,i-a),s.lineTo(t+x,i+a),s.moveTo(t+w,i-o),s.lineTo(t-w,i+o),D+=ou,x=Math.cos(D)*(n?n/2:M),o=Math.cos(D)*M,a=Math.sin(D)*M,w=Math.sin(D)*(n?n/2:M),s.moveTo(t-x,i-a),s.lineTo(t+x,i+a),s.moveTo(t+w,i-o),s.lineTo(t-w,i+o);break;case"line":o=n?n/2:Math.cos(D)*M,a=Math.sin(D)*M,s.moveTo(t-o,i-a),s.lineTo(t+o,i+a);break;case"dash":s.moveTo(t,i),s.lineTo(t+Math.cos(D)*(n?n/2:M),i+Math.sin(D)*M);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function tl(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function Jy(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function Qy(s){s.restore()}function OF(s,e,t,i,n){if(!e)return s.lineTo(t.x,t.y);if(n==="middle"){const r=(e.x+t.x)/2;s.lineTo(r,e.y),s.lineTo(r,t.y)}else n==="after"!=!!i?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function BF(s,e,t,i){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function jF(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),Ci(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function NF(s,e,t,i,n){if(n.strikethrough||n.underline){const r=s.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,d=t-r.actualBoundingBoxAscent,p=t+r.actualBoundingBoxDescent,g=n.strikethrough?(d+p)/2:p;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(o,g),s.lineTo(a,g),s.stroke()}}function $F(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Gu(s,e,t,i,n,r={}){const o=On(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let d,p;for(s.save(),s.font=n.string,jF(s,r),d=0;d<o.length;++d)p=o[d],r.backdrop&&$F(s,r.backdrop),a&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),Ci(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(p,t,i,r.maxWidth)),s.fillText(p,t,i,r.maxWidth),NF(s,t,i,p,r),i+=Number(n.lineHeight);s.restore()}function mm(s,e){const{x:t,y:i,w:n,h:r,radius:o}=e;s.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Oi,Oi,!0),s.lineTo(t,i+r-o.bottomLeft),s.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Oi,oa,!0),s.lineTo(t+n-o.bottomRight,i+r),s.arc(t+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,oa,0,!0),s.lineTo(t+n,i+o.topRight),s.arc(t+n-o.topRight,i+o.topRight,o.topRight,0,-oa,!0),s.lineTo(t+o.topLeft,i)}const VF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,HF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function GF(s,e){const t=(""+s).match(VF);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const UF=s=>+s||0;function Nw(s,e){const t={},i=Ai(e),n=i?Object.keys(e):e,r=Ai(s)?i?o=>oi(s[o],s[e[o]]):o=>s[o]:()=>s;for(const o of n)t[o]=UF(r(o));return t}function TM(s){return Nw(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Du(s){return Nw(s,["topLeft","topRight","bottomLeft","bottomRight"])}function hr(s){const e=TM(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ta(s,e){s=s||{},e=e||Bn.font;let t=oi(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=oi(s.style,e.style);i&&!(""+i).match(HF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:oi(s.family,e.family),lineHeight:GF(oi(s.lineHeight,e.lineHeight),t),size:t,style:i,weight:oi(s.weight,e.weight),string:""};return n.string=RF(n),n}function Lp(s,e,t,i){let n,r,o;for(n=0,r=s.length;n<r;++n)if(o=s[n],o!==void 0&&o!==void 0)return o}function WF(s,e,t){const{min:i,max:n}=s,r=fM(e,(n-i)/2),o=(a,d)=>t&&a===0?0:a+d;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function fh(s,e){return Object.assign(Object.create(s),e)}function $w(s,e=[""],t,i,n=()=>s[0]){const r=t||s;typeof i>"u"&&(i=PM("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:i,_getTarget:n,override:a=>$w([a,...s],e,r,i)};return new Proxy(o,{deleteProperty(a,d){return delete a[d],delete a._keys,delete s[0][d],!0},get(a,d){return AM(a,d,()=>eO(d,e,s,a))},getOwnPropertyDescriptor(a,d){return Reflect.getOwnPropertyDescriptor(a._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(a,d){return GT(a).includes(d)},ownKeys(a){return GT(a)},set(a,d,p){const g=a._storage||(a._storage=n());return a[d]=g[d]=p,delete a._keys,!0}})}function Ed(s,e,t,i){const n={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:CM(s,i),setContext:r=>Ed(s,r,t,i),override:r=>Ed(s.override(r),e,t,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete s[o],!0},get(r,o,a){return AM(r,o,()=>qF(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(r,o,a){return s[o]=a,delete r[o],!0}})}function CM(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=s;return{allKeys:n,scriptable:t,indexable:i,isScriptable:sh(t)?t:()=>t,isIndexable:sh(i)?i:()=>i}}const XF=(s,e)=>s?s+Rw(e):e,Vw=(s,e)=>Ai(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function AM(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const i=t();return s[e]=i,i}function qF(s,e,t){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=s;let a=i[e];return sh(a)&&o.isScriptable(e)&&(a=YF(e,a,s,t)),On(a)&&a.length&&(a=ZF(e,a,s,o.isIndexable)),Vw(e,a)&&(a=Ed(a,n,r&&r[e],o)),a}function YF(s,e,t,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=t;if(a.has(s))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+s);a.add(s);let d=e(r,o||i);return a.delete(s),Vw(s,d)&&(d=Hw(n._scopes,n,s,d)),d}function ZF(s,e,t,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=t;if(typeof r.index<"u"&&i(s))return e[r.index%e.length];if(Ai(e[0])){const d=e,p=n._scopes.filter(g=>g!==d);e=[];for(const g of d){const x=Hw(p,n,s,g);e.push(Ed(x,r,o&&o[s],a))}}return e}function MM(s,e,t){return sh(s)?s(e,t):s}const KF=(s,e)=>s===!0?e:typeof s=="string"?rh(e,s):void 0;function JF(s,e,t,i,n){for(const r of e){const o=KF(t,r);if(o){s.add(o);const a=MM(o._fallback,t,n);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function Hw(s,e,t,i){const n=e._rootScopes,r=MM(e._fallback,t,i),o=[...s,...n],a=new Set;a.add(i);let d=HT(a,o,t,r||t,i);return d===null||typeof r<"u"&&r!==t&&(d=HT(a,o,r,d,i),d===null)?!1:$w(Array.from(a),[""],n,r,()=>QF(e,t,i))}function HT(s,e,t,i,n){for(;t;)t=JF(s,e,t,i,n);return t}function QF(s,e,t){const i=s._getTarget();e in i||(i[e]={});const n=i[e];return On(n)&&Ai(t)?t:n||{}}function eO(s,e,t,i){let n;for(const r of e)if(n=PM(XF(r,s),t),typeof n<"u")return Vw(s,n)?Hw(t,i,s,n):n}function PM(s,e){for(const t of e){if(!t)continue;const i=t[s];if(typeof i<"u")return i}}function GT(s){let e=s._keys;return e||(e=s._keys=tO(s._scopes)),e}function tO(s){const e=new Set;for(const t of s)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}function LM(s,e,t,i){const{iScale:n}=s,{key:r="r"}=this._parsing,o=new Array(i);let a,d,p,g;for(a=0,d=i;a<d;++a)p=a+t,g=e[p],o[a]={r:n.parse(rh(g,r),p)};return o}const iO=Number.EPSILON||1e-14,Id=(s,e)=>e<s.length&&!s[e].skip&&s[e],EM=s=>s==="x"?"y":"x";function nO(s,e,t,i){const n=s.skip?e:s,r=e,o=t.skip?e:t,a=u0(r,n),d=u0(o,r);let p=a/(a+d),g=d/(a+d);p=isNaN(p)?0:p,g=isNaN(g)?0:g;const x=i*p,w=i*g;return{previous:{x:r.x-x*(o.x-n.x),y:r.y-x*(o.y-n.y)},next:{x:r.x+w*(o.x-n.x),y:r.y+w*(o.y-n.y)}}}function aO(s,e,t){const i=s.length;let n,r,o,a,d,p=Id(s,0);for(let g=0;g<i-1;++g)if(d=p,p=Id(s,g+1),!(!d||!p)){if(Yp(e[g],0,iO)){t[g]=t[g+1]=0;continue}n=t[g]/e[g],r=t[g+1]/e[g],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),t[g]=n*o*e[g],t[g+1]=r*o*e[g])}}function rO(s,e,t="x"){const i=EM(t),n=s.length;let r,o,a,d=Id(s,0);for(let p=0;p<n;++p){if(o=a,a=d,d=Id(s,p+1),!a)continue;const g=a[t],x=a[i];o&&(r=(g-o[t])/3,a[`cp1${t}`]=g-r,a[`cp1${i}`]=x-r*e[p]),d&&(r=(d[t]-g)/3,a[`cp2${t}`]=g+r,a[`cp2${i}`]=x+r*e[p])}}function sO(s,e="x"){const t=EM(e),i=s.length,n=Array(i).fill(0),r=Array(i);let o,a,d,p=Id(s,0);for(o=0;o<i;++o)if(a=d,d=p,p=Id(s,o+1),!!d){if(p){const g=p[e]-d[e];n[o]=g!==0?(p[t]-d[t])/g:0}r[o]=a?p?xo(n[o-1])!==xo(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}aO(s,n,r),rO(s,r,e)}function L_(s,e,t){return Math.max(Math.min(s,t),e)}function oO(s,e){let t,i,n,r,o,a=tl(s[0],e);for(t=0,i=s.length;t<i;++t)o=r,r=a,a=t<i-1&&tl(s[t+1],e),r&&(n=s[t],o&&(n.cp1x=L_(n.cp1x,e.left,e.right),n.cp1y=L_(n.cp1y,e.top,e.bottom)),a&&(n.cp2x=L_(n.cp2x,e.left,e.right),n.cp2y=L_(n.cp2y,e.top,e.bottom)))}function lO(s,e,t,i,n){let r,o,a,d;if(e.spanGaps&&(s=s.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")sO(s,n);else{let p=i?s[s.length-1]:s[0];for(r=0,o=s.length;r<o;++r)a=s[r],d=nO(p,a,s[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=d.previous.x,a.cp1y=d.previous.y,a.cp2x=d.next.x,a.cp2y=d.next.y,p=a}e.capBezierPoints&&oO(s,t)}function Gw(){return typeof window<"u"&&typeof document<"u"}function Uw(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Py(s,e,t){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=s,i}const ex=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function hO(s,e){return ex(s).getPropertyValue(e)}const uO=["top","right","bottom","left"];function zu(s,e,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const r=uO[n];i[r]=parseFloat(s[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cO=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function dO(s,e){const t=s.touches,i=t&&t.length?t[0]:s,{offsetX:n,offsetY:r}=i;let o=!1,a,d;if(cO(n,r,s.target))a=n,d=r;else{const p=e.getBoundingClientRect();a=i.clientX-p.left,d=i.clientY-p.top,o=!0}return{x:a,y:d,box:o}}function pu(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:i}=e,n=ex(t),r=n.boxSizing==="border-box",o=zu(n,"padding"),a=zu(n,"border","width"),{x:d,y:p,box:g}=dO(s,t),x=o.left+(g&&a.left),w=o.top+(g&&a.top);let{width:S,height:E}=e;return r&&(S-=o.width+a.width,E-=o.height+a.height),{x:Math.round((d-x)/S*t.width/i),y:Math.round((p-w)/E*t.height/i)}}function fO(s,e,t){let i,n;if(e===void 0||t===void 0){const r=s&&Uw(s);if(!r)e=s.clientWidth,t=s.clientHeight;else{const o=r.getBoundingClientRect(),a=ex(r),d=zu(a,"border","width"),p=zu(a,"padding");e=o.width-p.width-d.width,t=o.height-p.height-d.height,i=Py(a.maxWidth,r,"clientWidth"),n=Py(a.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||Ay,maxHeight:n||Ay}}const ql=s=>Math.round(s*10)/10;function pO(s,e,t,i){const n=ex(s),r=zu(n,"margin"),o=Py(n.maxWidth,s,"clientWidth")||Ay,a=Py(n.maxHeight,s,"clientHeight")||Ay,d=fO(s,e,t);let{width:p,height:g}=d;if(n.boxSizing==="content-box"){const w=zu(n,"border","width"),S=zu(n,"padding");p-=S.width+w.width,g-=S.height+w.height}return p=Math.max(0,p-r.width),g=Math.max(0,i?p/i:g-r.height),p=ql(Math.min(p,o,d.maxWidth)),g=ql(Math.min(g,a,d.maxHeight)),p&&!g&&(g=ql(p/2)),(e!==void 0||t!==void 0)&&i&&d.height&&g>d.height&&(g=d.height,p=ql(Math.floor(g*i))),{width:p,height:g}}function UT(s,e,t){const i=e||1,n=ql(s.height*i),r=ql(s.width*i);s.height=ql(s.height),s.width=ql(s.width);const o=s.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(s.currentDevicePixelRatio=i,o.height=n,o.width=r,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const mO=(function(){let s=!1;try{const e={get passive(){return s=!0,!1}};Gw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s})();function WT(s,e){const t=hO(s,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function mu(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function gO(s,e,t,i){return{x:s.x+t*(e.x-s.x),y:i==="middle"?t<.5?s.y:e.y:i==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function _O(s,e,t,i){const n={x:s.cp2x,y:s.cp2y},r={x:e.cp1x,y:e.cp1y},o=mu(s,n,t),a=mu(n,r,t),d=mu(r,e,t),p=mu(o,a,t),g=mu(a,d,t);return mu(p,g,t)}const yO=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},xO=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function bd(s,e,t){return s?yO(e,t):xO()}function IM(s,e){let t,i;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=i)}function DM(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function zM(s){return s==="angle"?{between:pm,compare:vF,normalize:ar}:{between:Qo,compare:(e,t)=>e-t,normalize:e=>e}}function XT({start:s,end:e,count:t,loop:i,style:n}){return{start:s%t,end:e%t,loop:i&&(e-s+1)%t===0,style:n}}function vO(s,e,t){const{property:i,start:n,end:r}=t,{between:o,normalize:a}=zM(i),d=e.length;let{start:p,end:g,loop:x}=s,w,S;if(x){for(p+=d,g+=d,w=0,S=d;w<S&&o(a(e[p%d][i]),n,r);++w)p--,g--;p%=d,g%=d}return g<p&&(g+=d),{start:p,end:g,loop:x,style:s.style}}function RM(s,e,t){if(!t)return[s];const{property:i,start:n,end:r}=t,o=e.length,{compare:a,between:d,normalize:p}=zM(i),{start:g,end:x,loop:w,style:S}=vO(s,e,t),E=[];let M=!1,D=null,O,N,H;const X=()=>d(n,H,O)&&a(n,H)!==0,U=()=>a(r,O)===0||d(r,H,O),Q=()=>M||X(),Y=()=>!M||U();for(let te=g,se=g;te<=x;++te)N=e[te%o],!N.skip&&(O=p(N[i]),O!==H&&(M=d(O,n,r),D===null&&Q()&&(D=a(O,n)===0?te:se),D!==null&&Y()&&(E.push(XT({start:D,end:te,loop:w,count:o,style:S})),D=null),se=te,H=O));return D!==null&&E.push(XT({start:D,end:x,loop:w,count:o,style:S})),E}function FM(s,e){const t=[],i=s.segments;for(let n=0;n<i.length;n++){const r=RM(i[n],s.points,e);r.length&&t.push(...r)}return t}function bO(s,e,t,i){let n=0,r=e-1;if(t&&!i)for(;n<e&&!s[n].skip;)n++;for(;n<e&&s[n].skip;)n++;for(n%=e,t&&(r+=n);r>n&&s[r%e].skip;)r--;return r%=e,{start:n,end:r}}function wO(s,e,t,i){const n=s.length,r=[];let o=e,a=s[e],d;for(d=e+1;d<=t;++d){const p=s[d%n];p.skip||p.stop?a.skip||(i=!1,r.push({start:e%n,end:(d-1)%n,loop:i}),e=o=p.stop?d:null):(o=d,a.skip&&(e=d)),a=p}return o!==null&&r.push({start:e%n,end:o%n,loop:i}),r}function kO(s,e){const t=s.points,i=s.options.spanGaps,n=t.length;if(!n)return[];const r=!!s._loop,{start:o,end:a}=bO(t,n,r,i);if(i===!0)return qT(s,[{start:o,end:a,loop:r}],t,e);const d=a<o?a+n:a,p=!!s._fullLoop&&o===0&&a===n-1;return qT(s,wO(t,o,d,p),t,e)}function qT(s,e,t,i){return!i||!i.setContext||!t?e:SO(s,e,t,i)}function SO(s,e,t,i){const n=s._chart.getContext(),r=YT(s.options),{_datasetIndex:o,options:{spanGaps:a}}=s,d=t.length,p=[];let g=r,x=e[0].start,w=x;function S(E,M,D,O){const N=a?-1:1;if(E!==M){for(E+=d;t[E%d].skip;)E-=N;for(;t[M%d].skip;)M+=N;E%d!==M%d&&(p.push({start:E%d,end:M%d,loop:D,style:O}),g=O,x=M%d)}}for(const E of e){x=a?x:E.start;let M=t[x%d],D;for(w=x+1;w<=E.end;w++){const O=t[w%d];D=YT(i.setContext(fh(n,{type:"segment",p0:M,p1:O,p0DataIndex:(w-1)%d,p1DataIndex:w%d,datasetIndex:o}))),TO(D,g)&&S(x,w-1,E.loop,g),M=O,g=D}x<w-1&&S(x,w-1,E.loop,g)}return p}function YT(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function TO(s,e){if(!e)return!1;const t=[],i=function(n,r){return jw(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(s,i)!==JSON.stringify(e,i)}function E_(s,e,t){return s.options.clip?s[t]:e[t]}function CO(s,e){const{xScale:t,yScale:i}=s;return t&&i?{left:E_(t,e,"left"),right:E_(t,e,"right"),top:E_(i,e,"top"),bottom:E_(i,e,"bottom")}:e}function OM(s,e){const t=e._clip;if(t.disabled)return!1;const i=CO(e,s.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class AO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const r=t.listeners[n],o=t.duration;r.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=xM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,d;for(;o>=0;--o)d=r[o],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),r.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Uo=new AO;const ZT="transparent",MO={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const i=NT(s||ZT),n=i.valid&&NT(e||ZT);return n&&n.valid?n.mix(i,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class PO{constructor(e,t,i,n){const r=t[i];n=Lp([e.to,n,r,e.from]);const o=Lp([e.from,r,n]);this._active=!0,this._fn=e.fn||MO[e.type||typeof o],this._easing=Zp[e.easing]||Zp.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Lp([e.to,t,n,e.from]),this._from=Lp([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let d;if(this._active=r!==a&&(o||t<i),!this._active){this._target[n]=a,this._notify(!0);return}if(t<0){this._target[n]=r;return}d=t/i%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[n]=this._fn(r,a,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class BM{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ai(e))return;const t=Object.keys(Bn.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!Ai(r))return;const o={};for(const a of t)o[a]=r[a];(On(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){const i=t.options,n=EO(e,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&LO(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,n=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let d;for(d=o.length-1;d>=0;--d){const p=o[d];if(p.charAt(0)==="$")continue;if(p==="options"){n.push(...this._animateOptions(e,t));continue}const g=t[p];let x=r[p];const w=i.get(p);if(x)if(w&&x.active()){x.update(w,g,a);continue}else x.cancel();if(!w||!w.duration){e[p]=g;continue}r[p]=x=new PO(w,e,p,g),n.push(x)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Uo.add(this._chart,i),!0}}function LO(s,e){const t=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const r=s[i[n]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function EO(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function KT(s,e){const t=s&&s.options||{},i=t.reverse,n=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:n,end:i?n:r}}function IO(s,e,t){if(t===!1)return!1;const i=KT(s,t),n=KT(e,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function DO(s){let e,t,i,n;return Ai(s)?(e=s.top,t=s.right,i=s.bottom,n=s.left):e=t=i=n=s,{top:e,right:t,bottom:i,left:n,disabled:s===!1}}function jM(s,e){const t=[],i=s._getSortedDatasetMetas(e);let n,r;for(n=0,r=i.length;n<r;++n)t.push(i[n].index);return t}function JT(s,e,t,i={}){const n=s.keys,r=i.mode==="single";let o,a,d,p;if(e===null)return;let g=!1;for(o=0,a=n.length;o<a;++o){if(d=+n[o],d===t){if(g=!0,i.all)continue;break}p=s.values[d],Qn(p)&&(r||e===0||xo(e)===xo(p))&&(e+=p)}return!g&&!i.all?0:e}function zO(s,e){const{iScale:t,vScale:i}=e,n=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(s),a=new Array(o.length);let d,p,g;for(d=0,p=o.length;d<p;++d)g=o[d],a[d]={[n]:g,[r]:s[g]};return a}function rb(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function RO(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function FO(s){const{min:e,max:t,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function OO(s,e,t){const i=s[e]||(s[e]={});return i[t]||(i[t]={})}function QT(s,e,t,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const r=s[n.index];if(t&&r>0||!t&&r<0)return n.index}return null}function eC(s,e){const{chart:t,_cachedMeta:i}=s,n=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:a}=i,d=r.axis,p=o.axis,g=RO(r,o,i),x=e.length;let w;for(let S=0;S<x;++S){const E=e[S],{[d]:M,[p]:D}=E,O=E._stacks||(E._stacks={});w=O[p]=OO(n,g,M),w[a]=D,w._top=QT(w,o,!0,i.type),w._bottom=QT(w,o,!1,i.type);const N=w._visualValues||(w._visualValues={});N[a]=D}}function sb(s,e){const t=s.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function BO(s,e){return fh(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jO(s,e,t){return fh(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function dp(s,e){const t=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){e=e||s._parsed;for(const n of e){const r=n._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const ob=s=>s==="reset"||s==="none",tC=(s,e)=>e?s:Object.assign({},s),NO=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:jM(t,!0),values:null};class ph{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=rb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&dp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(x,w,S,E)=>x==="x"?w:x==="r"?E:S,r=t.xAxisID=oi(i.xAxisID,sb(e,"x")),o=t.yAxisID=oi(i.yAxisID,sb(e,"y")),a=t.rAxisID=oi(i.rAxisID,sb(e,"r")),d=t.indexAxis,p=t.iAxisID=n(d,r,o,a),g=t.vAxisID=n(d,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&OT(this._data,this),e._stacked&&dp(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Ai(t)){const n=this._cachedMeta;this._data=zO(t,n)}else if(i!==t){if(i){OT(i,this);const n=this._cachedMeta;dp(n),n._parsed=[]}t&&Object.isExtensible(t)&&SF(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=rb(t.vScale,t),t.stack!==i.stack&&(n=!0,dp(t),t.stack=i.stack),this._resyncElements(e),(n||r!==t._stacked)&&(eC(this,t._parsed),t._stacked=rb(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,a=r.axis;let d=e===0&&t===n.length?!0:i._sorted,p=e>0&&i._parsed[e-1],g,x,w;if(this._parsing===!1)i._parsed=n,i._sorted=!0,w=n;else{On(n[e])?w=this.parseArrayData(i,n,e,t):Ai(n[e])?w=this.parseObjectData(i,n,e,t):w=this.parsePrimitiveData(i,n,e,t);const S=()=>x[a]===null||p&&x[a]<p[a];for(g=0;g<t;++g)i._parsed[g+e]=x=w[g],d&&(S()&&(d=!1),p=x);i._sorted=d}o&&eC(this,w)}parsePrimitiveData(e,t,i,n){const{iScale:r,vScale:o}=e,a=r.axis,d=o.axis,p=r.getLabels(),g=r===o,x=new Array(n);let w,S,E;for(w=0,S=n;w<S;++w)E=w+i,x[w]={[a]:g||r.parse(p[E],E),[d]:o.parse(t[E],E)};return x}parseArrayData(e,t,i,n){const{xScale:r,yScale:o}=e,a=new Array(n);let d,p,g,x;for(d=0,p=n;d<p;++d)g=d+i,x=t[g],a[d]={x:r.parse(x[0],g),y:o.parse(x[1],g)};return a}parseObjectData(e,t,i,n){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:d="y"}=this._parsing,p=new Array(n);let g,x,w,S;for(g=0,x=n;g<x;++g)w=g+i,S=t[w],p[g]={x:r.parse(rh(S,a),w),y:o.parse(rh(S,d),w)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,r=this._cachedMeta,o=t[e.axis],a={keys:jM(n,!0),values:t._stacks[e.axis]._visualValues};return JT(a,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const r=i[t.axis];let o=r===null?NaN:r;const a=n&&i._stacks[t.axis];n&&a&&(n.values=a,o=JT(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&e===i.iScale,o=n.length,a=this._getOtherScale(e),d=NO(t,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=FO(a);let w,S;function E(){S=n[w];const M=S[a.axis];return!Qn(S[e.axis])||g>M||x<M}for(w=0;w<o&&!(!E()&&(this.updateRangeFromParsed(p,e,S,d),r));++w);if(r){for(w=o-1;w>=0;--w)if(!E()){this.updateRangeFromParsed(p,e,S,d);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=t.length;n<r;++n)o=t[n][e.axis],Qn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=DO(oi(this.options.clip,IO(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],r=t.chartArea,o=[],a=this._drawStart||0,d=this._drawCount||n.length-a,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,a,d),g=a;g<a+d;++g){const x=n[g];x.hidden||(x.active&&p?o.push(x):x.draw(e,r))}for(g=0;g<o.length;++g)o[g].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=jO(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=BO(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n=t==="active",r=this._cachedDataOpts,o=e+"-"+t,a=r[o],d=this.enableOptionSharing&&fm(i);if(a)return tC(a,d);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),x=n?[`${e}Hover`,"hover",e,""]:[e,""],w=p.getOptionScopes(this.getDataset(),g),S=Object.keys(Bn.elements[e]),E=()=>this.getContext(i,n,t),M=p.resolveNamedOptions(w,S,E,x);return M.$shared&&(M.$shared=d,r[o]=Object.freeze(tC(M,d))),M}_resolveAnimations(e,t,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,a=r[o];if(a)return a;let d;if(n.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),w=g.getOptionScopes(this.getDataset(),x);d=g.createResolver(w,this.getContext(e,i,t))}const p=new BM(n,d&&d.animations);return d&&d._cacheable&&(r[o]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ob(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,n){ob(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!ob(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[a,d,p]of this._syncList)this[a](d,p);this._syncList=[];const n=i.length,r=t.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,i=!0){const n=this._cachedMeta,r=n.data,o=e+t;let a;const d=p=>{for(p.length+=t,a=p.length-1;a>=o;a--)p[a]=p[a-t]};for(d(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&d(n._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&dp(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $O(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let i=[];for(let n=0,r=t.length;n<r;n++)i=i.concat(t[n].controller.getAllParsedValues(s));s._cache.$bar=yM(i.sort((n,r)=>n-r))}return s._cache.$bar}function VO(s){const e=s.iScale,t=$O(e,s.type);let i=e._length,n,r,o,a;const d=()=>{o===32767||o===-32768||(fm(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,r=t.length;n<r;++n)o=e.getPixelForValue(t[n]),d();for(a=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),d();return i}function HO(s,e,t,i){const n=t.barThickness;let r,o;return Ci(n)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[s]-r/2}}function GO(s,e,t,i){const n=e.pixels,r=n[s];let o=s>0?n[s-1]:null,a=s<n.length-1?n[s+1]:null;const d=t.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const p=r-(r-Math.min(o,a))/2*d;return{chunk:Math.abs(a-o)/2*d/i,ratio:t.barPercentage,start:p}}function UO(s,e,t,i){const n=t.parse(s[0],i),r=t.parse(s[1],i),o=Math.min(n,r),a=Math.max(n,r);let d=o,p=a;Math.abs(o)>Math.abs(a)&&(d=a,p=o),e[t.axis]=p,e._custom={barStart:d,barEnd:p,start:n,end:r,min:o,max:a}}function NM(s,e,t,i){return On(s)?UO(s,e,t,i):e[t.axis]=t.parse(s,i),e}function iC(s,e,t,i){const n=s.iScale,r=s.vScale,o=n.getLabels(),a=n===r,d=[];let p,g,x,w;for(p=t,g=t+i;p<g;++p)w=e[p],x={},x[n.axis]=a||n.parse(o[p],p),d.push(NM(w,x,r,p));return d}function lb(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function WO(s,e,t){return s!==0?xo(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function XO(s){let e,t,i,n,r;return s.horizontal?(e=s.base>s.x,t="left",i="right"):(e=s.base<s.y,t="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:t,end:i,reverse:e,top:n,bottom:r}}function qO(s,e,t,i){let n=e.borderSkipped;const r={};if(!n){s.borderSkipped=r;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:d,top:p,bottom:g}=XO(s);n==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===i?n=p:(t._bottom||0)===i?n=g:(r[nC(g,o,a,d)]=!0,n=p)),r[nC(n,o,a,d)]=!0,s.borderSkipped=r}function nC(s,e,t,i){return i?(s=YO(s,e,t),s=aC(s,t,e)):s=aC(s,e,t),s}function YO(s,e,t){return s===e?t:s===t?e:s}function aC(s,e,t){return s==="start"?e:s==="end"?t:s}function ZO(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class KO extends ph{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return iC(e,t,i,n)}parseArrayData(e,t,i,n){return iC(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:d="y"}=this._parsing,p=r.axis==="x"?a:d,g=o.axis==="x"?a:d,x=[];let w,S,E,M;for(w=i,S=i+n;w<S;++w)M=t[w],E={},E[r.axis]=r.parse(rh(M,p),w),x.push(NM(rh(M,g),E,o,w));return x}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,r=this.getParsed(e),o=r._custom,a=lb(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,d=a.getBasePixel(),p=a.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:w}=this._getSharedOptions(t,n);for(let S=t;S<t+i;S++){const E=this.getParsed(S),M=r||Ci(E[a.axis])?{base:d,head:d}:this._calculateBarValuePixels(S),D=this._calculateBarIndexPixels(S,g),O=(E._stacks||{})[a.axis],N={horizontal:p,base:M.base,enableBorderRadius:!O||lb(E._custom)||o===O._top||o===O._bottom,x:p?M.head:D.center,y:p?D.center:M.head,height:p?D.size:Math.abs(M.size),width:p?Math.abs(M.size):D.size};w&&(N.options=x||this.resolveDataElementOptions(S,e[S].active?"active":n));const H=N.options||e[S].options;qO(N,H,O,o),ZO(N,H,g.ratio),this.updateElement(e[S],S,N,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),d=a&&a[i.axis],p=g=>{const x=g._parsed.find(S=>S[i.axis]===d),w=x&&x[g.vScale.axis];if(Ci(w)||isNaN(w))return!0};for(const g of n)if(!(t!==void 0&&p(g))&&((r===!1||o.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&o.push(g.stack),g.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[oi(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const n=this._getStacks(e,i),r=t!==void 0?n.indexOf(t):-1;return r===-1?n.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let r,o;for(r=0,o=t.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||VO(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,d=this.getParsed(e),p=d._custom,g=lb(p);let x=d[t.axis],w=0,S=i?this.applyStack(t,d,i):x,E,M;S!==x&&(w=S-x,S=x),g&&(x=p.barStart,S=p.barEnd-p.barStart,x!==0&&xo(x)!==xo(p.barEnd)&&(w=0),w+=x);const D=!Ci(r)&&!g?r:w;let O=t.getPixelForValue(D);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(w+S):E=O,M=E-O,Math.abs(M)<o){M=WO(M,t,a)*o,x===a&&(O-=M/2);const N=t.getPixelForDecimal(0),H=t.getPixelForDecimal(1),X=Math.min(N,H),U=Math.max(N,H);O=Math.max(Math.min(O,U),X),E=O+M,i&&!g&&(d._stacks[t.axis]._visualValues[n]=t.getValueForPixel(E)-t.getValueForPixel(O))}if(O===t.getPixelForValue(a)){const N=xo(M)*t.getLineWidthForValue(a)/2;O+=N,M-=N}return{size:M,base:O,head:E,center:E+M/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,r=n.skipNull,o=oi(n.maxBarThickness,1/0);let a,d;const p=this._getAxisCount();if(t.grouped){const g=r?this._getStackCount(e):t.stackCount,x=n.barThickness==="flex"?GO(e,t,n,g*p):HO(e,t,n,g*p),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(oi(w,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+S;a=x.start+x.chunk*E+x.chunk/2,d=Math.min(o,x.chunk*x.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),d=Math.min(o,t.min*t.ratio);return{base:a-d/2,head:a+d/2,center:a,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class JO extends ph{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){const r=super.parsePrimitiveData(e,t,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,t,i,n){const r=super.parseArrayData(e,t,i,n);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=oi(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,t,i,n){const r=super.parseObjectData(e,t,i,n);for(let o=0;o<r.length;o++){const a=t[i+o];r[o]._custom=oi(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),d=r.getLabelForValue(o.y),p=o._custom;return{label:i[e]||"",value:"("+a+", "+d+(p?", "+p:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(t,n),g=o.axis,x=a.axis;for(let w=t;w<t+i;w++){const S=e[w],E=!r&&this.getParsed(w),M={},D=M[g]=r?o.getPixelForDecimal(.5):o.getPixelForValue(E[g]),O=M[x]=r?a.getBasePixel():a.getPixelForValue(E[x]);M.skip=isNaN(D)||isNaN(O),p&&(M.options=d||this.resolveDataElementOptions(w,S.active?"active":n),r&&(M.options.radius=0)),this.updateElement(S,w,M,n)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return t!=="active"&&(n.radius=0),n.radius+=oi(i&&i._custom,r),n}}function QO(s,e,t){let i=1,n=1,r=0,o=0;if(e<Cn){const a=s,d=a+e,p=Math.cos(a),g=Math.sin(a),x=Math.cos(d),w=Math.sin(d),S=(H,X,U)=>pm(H,a,d,!0)?1:Math.max(X,X*t,U,U*t),E=(H,X,U)=>pm(H,a,d,!0)?-1:Math.min(X,X*t,U,U*t),M=S(0,p,x),D=S(oa,g,w),O=E(Oi,p,x),N=E(Oi+oa,g,w);i=(M-O)/2,n=(D-N)/2,r=-(M+O)/2,o=-(D+N)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}class Ww extends ph{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,p)=>{const x=e.getDatasetMeta(0).controller.getStyle(p);return{text:d,fillStyle:x.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(p),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:n,pointStyle:i,borderRadius:o&&(a||x.borderRadius),index:p}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let r=d=>+i[d];if(Ai(i[e])){const{key:d="value"}=this._parsing;r=p=>+rh(i[p],d)}let o,a;for(o=e,a=e+t;o<a;++o)n._parsed[o]=r(o)}}_getRotation(){return Hs(this.options.rotation-90)}_getCircumference(){return Hs(this.options.circumference)}_getRotationExtents(){let e=Cn,t=-Cn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),d=Math.min(hF(this.options.cutout,a),1),p=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:w,ratioY:S,offsetX:E,offsetY:M}=QO(x,g,d),D=(i.width-o)/w,O=(i.height-o)/S,N=Math.max(Math.min(D,O)/2,0),H=fM(this.options.radius,N),X=Math.max(H*d,0),U=(H-X)/this._getVisibleDatasetWeightTotal();this.offsetX=E*H,this.offsetY=M*H,n.total=this.calculateTotal(),this.outerRadius=H-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*p,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/Cn)}updateElements(e,t,i,n){const r=n==="reset",o=this.chart,a=o.chartArea,p=o.options.animation,g=(a.left+a.right)/2,x=(a.top+a.bottom)/2,w=r&&p.animateScale,S=w?0:this.innerRadius,E=w?0:this.outerRadius,{sharedOptions:M,includeOptions:D}=this._getSharedOptions(t,n);let O=this._getRotation(),N;for(N=0;N<t;++N)O+=this._circumference(N,r);for(N=t;N<t+i;++N){const H=this._circumference(N,r),X=e[N],U={x:g+this.offsetX,y:x+this.offsetY,startAngle:O,endAngle:O+H,circumference:H,outerRadius:E,innerRadius:S};D&&(U.options=M||this.resolveDataElementOptions(N,X.active?"active":n)),O+=H,this.updateElement(X,N,U,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,n;for(n=0;n<t.length;n++){const r=e._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Cn*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Am(t._parsed[e],i.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,r,o,a,d;if(!e){for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,a=o.controller;break}}if(!e)return 0;for(n=0,r=e.length;n<r;++n)d=a.resolveDataElementOptions(n),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(oi(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class eB extends ph{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:a,count:d}=bM(t,n,o);this._drawStart=a,this._drawCount=d,wM(t)&&(a=0,d=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:p},e),this.updateElements(n,a,d,e)}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:d,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,n),w=o.axis,S=a.axis,{spanGaps:E,segment:M}=this.options,D=Ld(E)?E:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||r||n==="none",N=t+i,H=e.length;let X=t>0&&this.getParsed(t-1);for(let U=0;U<H;++U){const Q=e[U],Y=O?Q:{};if(U<t||U>=N){Y.skip=!0;continue}const te=this.getParsed(U),se=Ci(te[S]),ce=Y[w]=o.getPixelForValue(te[w],U),ve=Y[S]=r||se?a.getBasePixel():a.getPixelForValue(d?this.applyStack(a,te,d):te[S],U);Y.skip=isNaN(ce)||isNaN(ve)||se,Y.stop=U>0&&Math.abs(te[w]-X[w])>D,M&&(Y.parsed=te,Y.raw=p.data[U]),x&&(Y.options=g||this.resolveDataElementOptions(U,Q.active?"active":n)),O||this.updateElement(Q,U,Y,n),X=te}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class $M extends ph{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((r,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:n,lineWidth:d.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Am(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,i,n){return LM.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,i,n){const r=n==="reset",o=this.chart,d=o.options.animation,p=this._cachedMeta.rScale,g=p.xCenter,x=p.yCenter,w=p.getIndexAngle(0)-.5*Oi;let S=w,E;const M=360/this.countVisibleElements();for(E=0;E<t;++E)S+=this._computeAngle(E,n,M);for(E=t;E<t+i;E++){const D=e[E];let O=S,N=S+this._computeAngle(E,n,M),H=o.getDataVisibility(E)?p.getDistanceFromCenterForValue(this.getParsed(E).r):0;S=N,r&&(d.animateScale&&(H=0),d.animateRotate&&(O=N=w));const X={x:g,y:x,innerRadius:0,outerRadius:H,startAngle:O,endAngle:N,options:this.resolveDataElementOptions(E,D.active?"active":n)};this.updateElement(D,E,X,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Hs(this.resolveDataElementOptions(e,t).angle||i):0}}class tB extends Ww{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class iB extends ph{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return LM.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta,i=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(i.points=n,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let a=t;a<t+i;a++){const d=e[a],p=this.resolveDataElementOptions(a,d.active?"active":n),g=r.getPointPositionForValue(a,this.getParsed(a).r),x=o?r.xCenter:g.x,w=o?r.yCenter:g.y,S={x,y:w,angle:g.angle,skip:isNaN(x)||isNaN(w),options:p};this.updateElement(d,a,S,n)}}}class nB extends ph{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),d=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+d+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled;let{start:r,count:o}=bM(t,i,n);if(this._drawStart=r,this._drawCount=o,wM(t)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:d}=t;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!d._decimated,a.points=i;const p=this.resolveDatasetElementOptions(e);p.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:p},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:d,_dataset:p}=this._cachedMeta,g=this.resolveDataElementOptions(t,n),x=this.getSharedOptions(g),w=this.includeOptions(n,x),S=o.axis,E=a.axis,{spanGaps:M,segment:D}=this.options,O=Ld(M)?M:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||r||n==="none";let H=t>0&&this.getParsed(t-1);for(let X=t;X<t+i;++X){const U=e[X],Q=this.getParsed(X),Y=N?U:{},te=Ci(Q[E]),se=Y[S]=o.getPixelForValue(Q[S],X),ce=Y[E]=r||te?a.getBasePixel():a.getPixelForValue(d?this.applyStack(a,Q,d):Q[E],X);Y.skip=isNaN(se)||isNaN(ce)||te,Y.stop=X>0&&Math.abs(Q[S]-H[S])>O,D&&(Y.parsed=Q,Y.raw=p.data[X]),w&&(Y.options=x||this.resolveDataElementOptions(X,U.active?"active":n)),N||this.updateElement(U,X,Y,n),H=Q}this.updateSharedOptions(x,n,g)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let a=0;for(let d=t.length-1;d>=0;--d)a=Math.max(a,t[d].size(this.resolveDataElementOptions(d))/2);return a>0&&a}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!t.length)return n;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,r,o)/2}}var aB=Object.freeze({__proto__:null,BarController:KO,BubbleController:JO,DoughnutController:Ww,LineController:eB,PieController:tB,PolarAreaController:$M,RadarController:iB,ScatterController:nB});function hu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xw{static override(e){Object.assign(Xw.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return hu()}parse(){return hu()}format(){return hu()}add(){return hu()}diff(){return hu()}startOf(){return hu()}endOf(){return hu()}}var rB={_date:Xw};function sB(s,e,t,i){const{controller:n,data:r,_sorted:o}=s,a=n._cachedMeta.iScale,d=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const p=a._reversePixels?wF:el;if(i){if(n._sharedOptions){const g=r[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const w=p(r,e,t-x),S=p(r,e,t+x);return{lo:w.lo,hi:S.hi}}}}else{const g=p(r,e,t);if(d){const{vScale:x}=n._cachedMeta,{_parsed:w}=s,S=w.slice(0,g.lo+1).reverse().findIndex(M=>!Ci(M[x.axis]));g.lo-=Math.max(0,S);const E=w.slice(g.hi).findIndex(M=>!Ci(M[x.axis]));g.hi+=Math.max(0,E)}return g}}return{lo:0,hi:r.length-1}}function tx(s,e,t,i,n){const r=s.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,d=r.length;a<d;++a){const{index:p,data:g}=r[a],{lo:x,hi:w}=sB(r[a],e,o,n);for(let S=x;S<=w;++S){const E=g[S];E.skip||i(E,p,S)}}}function oB(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(i,n){const r=e?Math.abs(i.x-n.x):0,o=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function hb(s,e,t,i,n){const r=[];return!n&&!s.isPointInArea(e)||tx(s,t,e,function(a,d,p){!n&&!tl(a,s.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:d,index:p})},!0),r}function lB(s,e,t,i){let n=[];function r(o,a,d){const{startAngle:p,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:x}=gM(o,{x:e.x,y:e.y});pm(x,p,g)&&n.push({element:o,datasetIndex:a,index:d})}return tx(s,t,e,r),n}function hB(s,e,t,i,n,r){let o=[];const a=oB(t);let d=Number.POSITIVE_INFINITY;function p(g,x,w){const S=g.inRange(e.x,e.y,n);if(i&&!S)return;const E=g.getCenterPoint(n);if(!(!!r||s.isPointInArea(E))&&!S)return;const D=a(e,E);D<d?(o=[{element:g,datasetIndex:x,index:w}],d=D):D===d&&o.push({element:g,datasetIndex:x,index:w})}return tx(s,t,e,p),o}function ub(s,e,t,i,n,r){return!r&&!s.isPointInArea(e)?[]:t==="r"&&!i?lB(s,e,t,n):hB(s,e,t,i,n,r)}function rC(s,e,t,i,n){const r=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return tx(s,t,e,(d,p,g)=>{d[o]&&d[o](e[t],n)&&(r.push({element:d,datasetIndex:p,index:g}),a=a||d.inRange(e.x,e.y,n))}),i&&!a?[]:r}var uB={modes:{index(s,e,t,i){const n=pu(e,s),r=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?hb(s,n,r,i,o):ub(s,n,r,!1,i,o),d=[];return a.length?(s.getSortedVisibleDatasetMetas().forEach(p=>{const g=a[0].index,x=p.data[g];x&&!x.skip&&d.push({element:x,datasetIndex:p.index,index:g})}),d):[]},dataset(s,e,t,i){const n=pu(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?hb(s,n,r,i,o):ub(s,n,r,!1,i,o);if(a.length>0){const d=a[0].datasetIndex,p=s.getDatasetMeta(d).data;a=[];for(let g=0;g<p.length;++g)a.push({element:p[g],datasetIndex:d,index:g})}return a},point(s,e,t,i){const n=pu(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;return hb(s,n,r,i,o)},nearest(s,e,t,i){const n=pu(e,s),r=t.axis||"xy",o=t.includeInvisible||!1;return ub(s,n,r,t.intersect,i,o)},x(s,e,t,i){const n=pu(e,s);return rC(s,n,"x",t.intersect,i)},y(s,e,t,i){const n=pu(e,s);return rC(s,n,"y",t.intersect,i)}}};const VM=["left","top","right","bottom"];function fp(s,e){return s.filter(t=>t.pos===e)}function sC(s,e){return s.filter(t=>VM.indexOf(t.pos)===-1&&t.box.axis===e)}function pp(s,e){return s.sort((t,i)=>{const n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function cB(s){const e=[];let t,i,n,r,o,a;for(t=0,i=(s||[]).length;t<i;++t)n=s[t],{position:r,options:{stack:o,stackWeight:a=1}}=n,e.push({index:t,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return e}function dB(s){const e={};for(const t of s){const{stack:i,pos:n,stackWeight:r}=t;if(!i||!VM.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function fB(s,e){const t=dB(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,o,a;for(r=0,o=s.length;r<o;++r){a=s[r];const{fullSize:d}=a.box,p=t[a.stack],g=p&&a.stackWeight/p.weight;a.horizontal?(a.width=g?g*i:d&&e.availableWidth,a.height=n):(a.width=i,a.height=g?g*n:d&&e.availableHeight)}return t}function pB(s){const e=cB(s),t=pp(e.filter(p=>p.box.fullSize),!0),i=pp(fp(e,"left"),!0),n=pp(fp(e,"right")),r=pp(fp(e,"top"),!0),o=pp(fp(e,"bottom")),a=sC(e,"x"),d=sC(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:n.concat(d).concat(o).concat(a),chartArea:fp(e,"chartArea"),vertical:i.concat(n).concat(d),horizontal:r.concat(o).concat(a)}}function oC(s,e,t,i){return Math.max(s[t],e[t])+Math.max(s[i],e[i])}function HM(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function mB(s,e,t,i){const{pos:n,box:r}=t,o=s.maxPadding;if(!Ai(n)){t.size&&(s[n]-=t.size);const x=i[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?r.height:r.width),t.size=x.size/x.count,s[n]+=t.size}r.getPadding&&HM(o,r.getPadding());const a=Math.max(0,e.outerWidth-oC(o,s,"left","right")),d=Math.max(0,e.outerHeight-oC(o,s,"top","bottom")),p=a!==s.w,g=d!==s.h;return s.w=a,s.h=d,t.horizontal?{same:p,other:g}:{same:g,other:p}}function gB(s){const e=s.maxPadding;function t(i){const n=Math.max(e[i]-s[i],0);return s[i]+=n,n}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function _B(s,e){const t=e.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(s?["left","right"]:["top","bottom"])}function Ep(s,e,t,i){const n=[];let r,o,a,d,p,g;for(r=0,o=s.length,p=0;r<o;++r){a=s[r],d=a.box,d.update(a.width||e.w,a.height||e.h,_B(a.horizontal,e));const{same:x,other:w}=mB(e,t,a,i);p|=x&&n.length,g=g||w,d.fullSize||n.push(a)}return p&&Ep(n,e,t,i)||g}function I_(s,e,t,i,n){s.top=t,s.left=e,s.right=e+i,s.bottom=t+n,s.width=i,s.height=n}function lC(s,e,t,i){const n=t.padding;let{x:r,y:o}=e;for(const a of s){const d=a.box,p=i[a.stack]||{placed:0,weight:1},g=a.stackWeight/p.weight||1;if(a.horizontal){const x=e.w*g,w=p.size||d.height;fm(p.start)&&(o=p.start),d.fullSize?I_(d,n.left,o,t.outerWidth-n.right-n.left,w):I_(d,e.left+p.placed,o,x,w),p.start=o,p.placed+=x,o=d.bottom}else{const x=e.h*g,w=p.size||d.width;fm(p.start)&&(r=p.start),d.fullSize?I_(d,r,n.top,w,t.outerHeight-n.bottom-n.top):I_(d,r,e.top+p.placed,w,x),p.start=r,p.placed+=x,r=d.right}}e.x=r,e.y=o}var or={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,i){if(!s)return;const n=hr(s.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(t-n.height,0),a=pB(s.boxes),d=a.vertical,p=a.horizontal;Ki(s.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const g=d.reduce((M,D)=>D.box.options&&D.box.options.display===!1?M:M+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/g,hBoxMaxHeight:o/2}),w=Object.assign({},n);HM(w,hr(i));const S=Object.assign({maxPadding:w,w:r,h:o,x:n.left,y:n.top},n),E=fB(d.concat(p),x);Ep(a.fullSize,S,x,E),Ep(d,S,x,E),Ep(p,S,x,E)&&Ep(d,S,x,E),gB(S),lC(a.leftAndTop,S,x,E),S.x+=S.w,S.y+=S.h,lC(a.rightAndBottom,S,x,E),s.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Ki(a.chartArea,M=>{const D=M.box;Object.assign(D,s.chartArea),D.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class GM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class yB extends GM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const iy="$chartjs",xB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hC=s=>s===null||s==="";function vB(s,e){const t=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[iy]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",hC(n)){const r=WT(s,"width");r!==void 0&&(s.width=r)}if(hC(i))if(s.style.height==="")s.height=s.width/(e||2);else{const r=WT(s,"height");r!==void 0&&(s.height=r)}return s}const UM=mO?{passive:!0}:!1;function bB(s,e,t){s&&s.addEventListener(e,t,UM)}function wB(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,UM)}function kB(s,e){const t=xB[s.type]||s.type,{x:i,y:n}=pu(s,e);return{type:t,chart:e,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Ly(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function SB(s,e,t){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ly(a.addedNodes,i),o=o&&!Ly(a.removedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function TB(s,e,t){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ly(a.removedNodes,i),o=o&&!Ly(a.addedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const gm=new Map;let uC=0;function WM(){const s=window.devicePixelRatio;s!==uC&&(uC=s,gm.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function CB(s,e){gm.size||window.addEventListener("resize",WM),gm.set(s,e)}function AB(s){gm.delete(s),gm.size||window.removeEventListener("resize",WM)}function MB(s,e,t){const i=s.canvas,n=i&&Uw(i);if(!n)return;const r=vM((a,d)=>{const p=n.clientWidth;t(a,d),p<n.clientWidth&&t()},window),o=new ResizeObserver(a=>{const d=a[0],p=d.contentRect.width,g=d.contentRect.height;p===0&&g===0||r(p,g)});return o.observe(n),CB(s,r),o}function cb(s,e,t){t&&t.disconnect(),e==="resize"&&AB(s)}function PB(s,e,t){const i=s.canvas,n=vM(r=>{s.ctx!==null&&t(kB(r,s))},s);return bB(i,e,n),n}class LB extends GM{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vB(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[iy])return!1;const i=t[iy].initial;["height","width"].forEach(r=>{const o=i[r];Ci(o)?t.removeAttribute(r):t.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{t.style[r]=n[r]}),t.width=t.width,delete t[iy],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:SB,detach:TB,resize:MB}[t]||PB;n[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:cb,detach:cb,resize:cb}[t]||wB)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return pO(e,t,i,n)}isAttached(e){const t=e&&Uw(e);return!!(t&&t.isConnected)}}function EB(s){return!Gw()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?yB:LB}let ol=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Ld(this.x)&&Ld(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}};function IB(s,e){const t=s.options.ticks,i=DB(s),n=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?RB(e):[],o=r.length,a=r[0],d=r[o-1],p=[];if(o>n)return FB(e,p,r,o/n),p;const g=zB(r,e,n);if(o>0){let x,w;const S=o>1?Math.round((d-a)/(o-1)):null;for(D_(e,p,g,Ci(S)?0:a-S,a),x=0,w=o-1;x<w;x++)D_(e,p,g,r[x],r[x+1]);return D_(e,p,g,d,Ci(S)?e.length:d+S),p}return D_(e,p,g),p}function DB(s){const e=s.options.offset,t=s._tickSize(),i=s._length/t+(e?0:1),n=s._maxLength/t;return Math.floor(Math.min(i,n))}function zB(s,e,t){const i=OB(s),n=e.length/t;if(!i)return Math.max(n,1);const r=_F(i);for(let o=0,a=r.length-1;o<a;o++){const d=r[o];if(d>n)return d}return Math.max(n,1)}function RB(s){const e=[];let t,i;for(t=0,i=s.length;t<i;t++)s[t].major&&e.push(t);return e}function FB(s,e,t,i){let n=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<s.length;o++)o===r&&(e.push(s[o]),n++,r=t[n*i])}function D_(s,e,t,i,n){const r=oi(i,0),o=Math.min(oi(n,s.length),s.length);let a=0,d,p,g;for(t=Math.ceil(t),n&&(d=n-i,t=d/Math.floor(d/t)),g=r;g<0;)a++,g=Math.round(r+a*t);for(p=Math.max(r,0);p<o;p++)p===g&&(e.push(s[p]),a++,g=Math.round(r+a*t))}function OB(s){const e=s.length;let t,i;if(e<2)return!1;for(i=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==i)return!1;return i}const BB=s=>s==="left"?"right":s==="right"?"left":s,cC=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,dC=(s,e)=>Math.min(e||s,s);function fC(s,e){const t=[],i=s.length/e,n=s.length;let r=0;for(;r<n;r+=i)t.push(s[Math.floor(r)]);return t}function jB(s,e,t){const i=s.ticks.length,n=Math.min(e,i-1),r=s._startPixel,o=s._endPixel,a=1e-6;let d=s.getPixelForTick(n),p;if(!(t&&(i===1?p=Math.max(d-r,o-d):e===0?p=(s.getPixelForTick(1)-d)/2:p=(d-s.getPixelForTick(n-1))/2,d+=n<e?p:-p,d<r-a||d>o+a)))return d}function NB(s,e){Ki(s,t=>{const i=t.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete t.data[i[r]];i.splice(0,n)}})}function mp(s){return s.drawTicks?s.tickLength:0}function pC(s,e){if(!s.display)return 0;const t=Ta(s.font,e),i=hr(s.padding);return(On(s.text)?s.text.length:1)*t.lineHeight+i.height}function $B(s,e){return fh(s,{scale:e,type:"scale"})}function VB(s,e,t){return fh(s,{tick:t,index:e,type:"tick"})}function HB(s,e,t){let i=Bw(s);return(t&&e!=="right"||!t&&e==="right")&&(i=BB(i)),i}function GB(s,e,t,i){const{top:n,left:r,bottom:o,right:a,chart:d}=s,{chartArea:p,scales:g}=d;let x=0,w,S,E;const M=o-n,D=a-r;if(s.isHorizontal()){if(S=ir(i,r,a),Ai(t)){const O=Object.keys(t)[0],N=t[O];E=g[O].getPixelForValue(N)+M-e}else t==="center"?E=(p.bottom+p.top)/2+M-e:E=cC(s,t,e);w=a-r}else{if(Ai(t)){const O=Object.keys(t)[0],N=t[O];S=g[O].getPixelForValue(N)-D+e}else t==="center"?S=(p.left+p.right)/2-D+e:S=cC(s,t,e);E=ir(i,o,n),x=t==="left"?-oa:oa}return{titleX:S,titleY:E,maxWidth:w,rotation:x}}class Yu extends ol{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=ts(e,Number.POSITIVE_INFINITY),t=ts(t,Number.NEGATIVE_INFINITY),i=ts(i,Number.POSITIVE_INFINITY),n=ts(n,Number.NEGATIVE_INFINITY),{min:ts(e,i),max:ts(t,n),minDefined:Qn(e),maxDefined:Qn(t)}}getMinMax(e){let{min:t,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:t,max:i};const a=this.getMatchingVisibleMetas();for(let d=0,p=a.length;d<p;++d)o=a[d].controller.getMinMax(this,e),n||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=n&&t>i?t:i,{min:ts(t,ts(i,t)),max:ts(i,ts(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yn(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=WF(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=a<this.ticks.length;this._convertTicksToLabels(d?fC(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yn(this.options.afterUpdate,[this])}beforeSetDimensions(){yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,r;for(i=0,n=e.length;i<n;i++)r=e[i],r.label=yn(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=dC(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let o=n,a,d,p;if(!this._isVisible()||!t.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const g=this._getLabelSizes(),x=g.widest.width,w=g.highest.height,S=Ra(this.chart.width-x,0,this.maxWidth);a=e.offset?this.maxWidth/i:S/(i-1),x+6>a&&(a=S/(i-(e.offset?.5:1)),d=this.maxHeight-mp(e.grid)-t.padding-pC(e.title,this.chart.options.font),p=Math.sqrt(x*x+w*w),o=Fw(Math.min(Math.asin(Ra((g.highest.height+6)/a,-1,1)),Math.asin(Ra(d/p,-1,1))-Math.asin(Ra(w/p,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const d=pC(n,t.options.font);if(a?(e.width=this.maxWidth,e.height=mp(r)+d):(e.height=this.maxHeight,e.width=mp(r)+d),i.display&&this.ticks.length){const{first:p,last:g,widest:x,highest:w}=this._getLabelSizes(),S=i.padding*2,E=Hs(this.labelRotation),M=Math.cos(E),D=Math.sin(E);if(a){const O=i.mirror?0:D*x.width+M*w.height;e.height=Math.min(this.maxHeight,e.height+O+S)}else{const O=i.mirror?0:M*x.width+D*w.height;e.width=Math.min(this.maxWidth,e.width+O+S)}this._calculatePadding(p,g,D,M)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:r,padding:o},position:a}=this.options,d=this.labelRotation!==0,p=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,S=0;d?p?(w=n*e.width,S=i*t.height):(w=i*e.height,S=n*t.width):r==="start"?S=t.width:r==="end"?w=e.width:r!=="inner"&&(w=e.width/2,S=t.width/2),this.paddingLeft=Math.max((w-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-x+o)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;r==="start"?(g=0,x=e.height):r==="end"&&(g=t.height,x=0),this.paddingTop=g+o,this.paddingBottom=x+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ci(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=fC(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],d=Math.floor(t/dC(t,i));let p=0,g=0,x,w,S,E,M,D,O,N,H,X,U;for(x=0;x<t;x+=d){if(E=e[x].label,M=this._resolveTickFontOptions(x),n.font=D=M.string,O=r[D]=r[D]||{data:{},gc:[]},N=M.lineHeight,H=X=0,!Ci(E)&&!On(E))H=My(n,O.data,O.gc,H,E),X=N;else if(On(E))for(w=0,S=E.length;w<S;++w)U=E[w],!Ci(U)&&!On(U)&&(H=My(n,O.data,O.gc,H,U),X+=N);o.push(H),a.push(X),p=Math.max(H,p),g=Math.max(X,g)}NB(r,t);const Q=o.indexOf(p),Y=a.indexOf(g),te=se=>({width:o[se]||0,height:a[se]||0});return{first:te(0),last:te(t-1),widest:te(Q),highest:te(Y),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return bF(this._alignToPixels?lu(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=VB(this.getContext(),e,i))}return this.$context||(this.$context=$B(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Hs(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,d=r?r.highest.height+o:0;return this.isHorizontal()?d*i>a*n?a/i:d/n:d*n<a*i?d/i:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:a}=n,d=r.offset,p=this.isHorizontal(),x=this.ticks.length+(d?1:0),w=mp(r),S=[],E=a.setContext(this.getContext()),M=E.display?E.width:0,D=M/2,O=function(Ue){return lu(i,Ue,M)};let N,H,X,U,Q,Y,te,se,ce,ve,xe,Ee;if(o==="top")N=O(this.bottom),Y=this.bottom-w,se=N-D,ve=O(e.top)+D,Ee=e.bottom;else if(o==="bottom")N=O(this.top),ve=e.top,Ee=O(e.bottom)-D,Y=N+D,se=this.top+w;else if(o==="left")N=O(this.right),Q=this.right-w,te=N-D,ce=O(e.left)+D,xe=e.right;else if(o==="right")N=O(this.left),ce=e.left,xe=O(e.right)-D,Q=N+D,te=this.left+w;else if(t==="x"){if(o==="center")N=O((e.top+e.bottom)/2+.5);else if(Ai(o)){const Ue=Object.keys(o)[0],$e=o[Ue];N=O(this.chart.scales[Ue].getPixelForValue($e))}ve=e.top,Ee=e.bottom,Y=N+D,se=Y+w}else if(t==="y"){if(o==="center")N=O((e.left+e.right)/2);else if(Ai(o)){const Ue=Object.keys(o)[0],$e=o[Ue];N=O(this.chart.scales[Ue].getPixelForValue($e))}Q=N-D,te=Q-w,ce=e.left,xe=e.right}const Be=oi(n.ticks.maxTicksLimit,x),Oe=Math.max(1,Math.ceil(x/Be));for(H=0;H<x;H+=Oe){const Ue=this.getContext(H),$e=r.setContext(Ue),nt=a.setContext(Ue),Qe=$e.lineWidth,Ae=$e.color,ft=nt.dash||[],Dt=nt.dashOffset,Yt=$e.tickWidth,wt=$e.tickColor,Rt=$e.tickBorderDash||[],Tt=$e.tickBorderDashOffset;X=jB(this,H,d),X!==void 0&&(U=lu(i,X,Qe),p?Q=te=ce=xe=U:Y=se=ve=Ee=U,S.push({tx1:Q,ty1:Y,tx2:te,ty2:se,x1:ce,y1:ve,x2:xe,y2:Ee,width:Qe,color:Ae,borderDash:ft,borderDashOffset:Dt,tickWidth:Yt,tickColor:wt,tickBorderDash:Rt,tickBorderDashOffset:Tt}))}return this._ticksLength=x,this._borderValue=N,S}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:d,crossAlign:p,padding:g,mirror:x}=r,w=mp(i.grid),S=w+g,E=x?-g:S,M=-Hs(this.labelRotation),D=[];let O,N,H,X,U,Q,Y,te,se,ce,ve,xe,Ee="middle";if(n==="top")Q=this.bottom-E,Y=this._getXAxisLabelAlignment();else if(n==="bottom")Q=this.top+E,Y=this._getXAxisLabelAlignment();else if(n==="left"){const Oe=this._getYAxisLabelAlignment(w);Y=Oe.textAlign,U=Oe.x}else if(n==="right"){const Oe=this._getYAxisLabelAlignment(w);Y=Oe.textAlign,U=Oe.x}else if(t==="x"){if(n==="center")Q=(e.top+e.bottom)/2+S;else if(Ai(n)){const Oe=Object.keys(n)[0],Ue=n[Oe];Q=this.chart.scales[Oe].getPixelForValue(Ue)+S}Y=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")U=(e.left+e.right)/2-S;else if(Ai(n)){const Oe=Object.keys(n)[0],Ue=n[Oe];U=this.chart.scales[Oe].getPixelForValue(Ue)}Y=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(d==="start"?Ee="top":d==="end"&&(Ee="bottom"));const Be=this._getLabelSizes();for(O=0,N=a.length;O<N;++O){H=a[O],X=H.label;const Oe=r.setContext(this.getContext(O));te=this.getPixelForTick(O)+r.labelOffset,se=this._resolveTickFontOptions(O),ce=se.lineHeight,ve=On(X)?X.length:1;const Ue=ve/2,$e=Oe.color,nt=Oe.textStrokeColor,Qe=Oe.textStrokeWidth;let Ae=Y;o?(U=te,Y==="inner"&&(O===N-1?Ae=this.options.reverse?"left":"right":O===0?Ae=this.options.reverse?"right":"left":Ae="center"),n==="top"?p==="near"||M!==0?xe=-ve*ce+ce/2:p==="center"?xe=-Be.highest.height/2-Ue*ce+ce:xe=-Be.highest.height+ce/2:p==="near"||M!==0?xe=ce/2:p==="center"?xe=Be.highest.height/2-Ue*ce:xe=Be.highest.height-ve*ce,x&&(xe*=-1),M!==0&&!Oe.showLabelBackdrop&&(U+=ce/2*Math.sin(M))):(Q=te,xe=(1-ve)*ce/2);let ft;if(Oe.showLabelBackdrop){const Dt=hr(Oe.backdropPadding),Yt=Be.heights[O],wt=Be.widths[O];let Rt=xe-Dt.top,Tt=0-Dt.left;switch(Ee){case"middle":Rt-=Yt/2;break;case"bottom":Rt-=Yt;break}switch(Y){case"center":Tt-=wt/2;break;case"right":Tt-=wt;break;case"inner":O===N-1?Tt-=wt:O>0&&(Tt-=wt/2);break}ft={left:Tt,top:Rt,width:wt+Dt.width,height:Yt+Dt.height,color:Oe.backdropColor}}D.push({label:X,font:se,textOffset:xe,options:{rotation:M,color:$e,strokeColor:nt,strokeWidth:Qe,textAlign:Ae,textBaseline:Ee,translation:[U,Q],backdrop:ft}})}return D}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Hs(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,d=o.widest.width;let p,g;return t==="left"?n?(g=this.right+r,i==="near"?p="left":i==="center"?(p="center",g+=d/2):(p="right",g+=d)):(g=this.right-a,i==="near"?p="right":i==="center"?(p="center",g-=d/2):(p="left",g=this.left)):t==="right"?n?(g=this.left+r,i==="near"?p="right":i==="center"?(p="center",g-=d/2):(p="left",g-=d)):(g=this.left+a,i==="near"?p="left":i==="center"?(p="center",g+=d/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(r=>r.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(d,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=n.length;r<o;++r){const d=n[r];t.drawOnChartArea&&a({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&a({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let p,g,x,w;this.isHorizontal()?(p=lu(e,this.left,o)-o/2,g=lu(e,this.right,a)+a/2,x=w=d):(x=lu(e,this.top,o)-o/2,w=lu(e,this.bottom,a)+a/2,p=g=d),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(p,x),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Jy(i,n);const r=this.getLabelItems(e);for(const o of r){const a=o.options,d=o.font,p=o.label,g=o.textOffset;Gu(i,p,0,g,d,a)}n&&Qy(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const r=Ta(i.font),o=hr(i.padding),a=i.align;let d=r.lineHeight/2;t==="bottom"||t==="center"||Ai(t)?(d+=o.bottom,On(i.text)&&(d+=r.lineHeight*(i.text.length-1))):d+=o.top;const{titleX:p,titleY:g,maxWidth:x,rotation:w}=GB(this,d,t,a);Gu(e,i.text,0,0,r,{color:i.color,maxWidth:x,rotation:w,textAlign:HB(a,t,n),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=oi(e.grid&&e.grid.z,-1),n=oi(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yu.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=t.length;r<o;++r){const a=t[r];a[i]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Ta(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class z_{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;XB(t)&&(i=this.register(t));const n=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,UB(e,o,i),this.override&&Bn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in Bn[n]&&(delete Bn[n][i],this.override&&delete Hu[i])}}function UB(s,e,t){const i=dm(Object.create(null),[t?Bn.get(t):{},Bn.get(e),s.defaults]);Bn.set(e,i),s.defaultRoutes&&WB(e,s.defaultRoutes),s.descriptors&&Bn.describe(e,s.descriptors)}function WB(s,e){Object.keys(e).forEach(t=>{const i=t.split("."),n=i.pop(),r=[s].concat(i).join("."),o=e[t].split("."),a=o.pop(),d=o.join(".");Bn.route(r,n,d,a)})}function XB(s){return"id"in s&&"defaults"in s}class qB{constructor(){this.controllers=new z_(ph,"datasets",!0),this.elements=new z_(ol,"elements"),this.plugins=new z_(Object,"plugins"),this.scales=new z_(Yu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(e,r,n):Ki(n,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){const n=Rw(e);yn(i["before"+n],[],i),t[e](i),yn(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var uo=new qB;class YB{constructor(){this._init=void 0}notify(e,t,i,n){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,i,n){n=n||{};for(const r of e){const o=r.plugin,a=o[i],d=[t,n,r.options];if(yn(a,d,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Ci(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=oi(i.options&&i.options.plugins,{}),r=ZB(i);return n===!1&&!t?[]:JB(e,r,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(a=>!o.some(d=>a.plugin.id===d.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function ZB(s){const e={},t=[],i=Object.keys(uo.plugins.items);for(let r=0;r<i.length;r++)t.push(uo.getPlugin(i[r]));const n=s.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function KB(s,e){return!e&&s===!1?null:s===!0?{}:s}function JB(s,{plugins:e,localIds:t},i,n){const r=[],o=s.getContext();for(const a of e){const d=a.id,p=KB(i[d],n);p!==null&&r.push({plugin:a,options:QB(s.config,{plugin:a,local:t[d]},p,o)})}return r}function QB(s,{plugin:e,local:t},i,n){const r=s.pluginScopeKeys(e),o=s.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),s.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function f0(s,e){const t=Bn.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function ej(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function tj(s,e){return s===e?"_index_":"_value_"}function mC(s){if(s==="x"||s==="y"||s==="r")return s}function ij(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function p0(s,...e){if(mC(s))return s;for(const t of e){const i=t.axis||ij(t.position)||s.length>1&&mC(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function gC(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function nj(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(t.length)return gC(s,"x",t[0])||gC(s,"y",t[0])}return{}}function aj(s,e){const t=Hu[s.type]||{scales:{}},i=e.scales||{},n=f0(s.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!Ai(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=p0(o,a,nj(o,s),Bn.scales[a.type]),p=tj(d,n),g=t.scales||{};r[o]=qp(Object.create(null),[{axis:d},a,g[d],g[p]])}),s.data.datasets.forEach(o=>{const a=o.type||s.type,d=o.indexAxis||f0(a,e),g=(Hu[a]||{}).scales||{};Object.keys(g).forEach(x=>{const w=ej(x,d),S=o[w+"AxisID"]||w;r[S]=r[S]||Object.create(null),qp(r[S],[{axis:w},i[S],g[x]])})}),Object.keys(r).forEach(o=>{const a=r[o];qp(a,[Bn.scales[a.type],Bn.scale])}),r}function XM(s){const e=s.options||(s.options={});e.plugins=oi(e.plugins,{}),e.scales=aj(s,e)}function qM(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function rj(s){return s=s||{},s.data=qM(s.data),XM(s),s}const _C=new Map,YM=new Set;function R_(s,e){let t=_C.get(s);return t||(t=e(),_C.set(s,t),YM.add(t)),t}const gp=(s,e,t)=>{const i=rh(e,t);i!==void 0&&s.add(i)};class sj{constructor(e){this._config=rj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),XM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return R_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return R_(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return R_(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return R_(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:r}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(x=>gp(d,e,x))),g.forEach(x=>gp(d,n,x)),g.forEach(x=>gp(d,Hu[r]||{},x)),g.forEach(x=>gp(d,Bn,x)),g.forEach(x=>gp(d,c0,x))});const p=Array.from(d);return p.length===0&&p.push(Object.create(null)),YM.has(t)&&o.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,Hu[t]||{},Bn.datasets[t]||{},{type:t},Bn,c0]}resolveNamedOptions(e,t,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=yC(this._resolverCache,e,n);let d=o;if(lj(o,t)){r.$shared=!1,i=sh(i)?i():i;const p=this.createResolver(e,i,a);d=Ed(o,i,p)}for(const p of t)r[p]=d[p];return r}createResolver(e,t,i=[""],n){const{resolver:r}=yC(this._resolverCache,e,i);return Ai(t)?Ed(r,t,void 0,n):r}}function yC(s,e,t){let i=s.get(e);i||(i=new Map,s.set(e,i));const n=t.join();let r=i.get(n);return r||(r={resolver:$w(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,r)),r}const oj=s=>Ai(s)&&Object.getOwnPropertyNames(s).some(e=>sh(s[e]));function lj(s,e){const{isScriptable:t,isIndexable:i}=CM(s);for(const n of e){const r=t(n),o=i(n),a=(o||r)&&s[n];if(r&&(sh(a)||oj(a))||o&&On(a))return!0}return!1}var hj="4.5.1";const uj=["top","bottom","left","right","chartArea"];function xC(s,e){return s==="top"||s==="bottom"||uj.indexOf(s)===-1&&e==="x"}function vC(s,e){return function(t,i){return t[s]===i[s]?t[e]-i[e]:t[s]-i[s]}}function bC(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),yn(t&&t.onComplete,[s],e)}function cj(s){const e=s.chart,t=e.options.animation;yn(t&&t.onProgress,[s],e)}function ZM(s){return Gw()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const ny={},wC=s=>{const e=ZM(s);return Object.values(ny).filter(t=>t.canvas===e).pop()};function dj(s,e,t){const i=Object.keys(s);for(const n of i){const r=+n;if(r>=e){const o=s[n];delete s[n],(t>0||r>e)&&(s[r+t]=o)}}}function fj(s,e,t,i){return!t||s.type==="mouseout"?null:i?e:s}class qw{static defaults=Bn;static instances=ny;static overrides=Hu;static registry=uo;static version=hj;static getChart=wC;static register(...e){uo.add(...e),kC()}static unregister(...e){uo.remove(...e),kC()}constructor(e,t){const i=this.config=new sj(t),n=ZM(e),r=wC(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||EB(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),d=a&&a.canvas,p=d&&d.height,g=d&&d.width;if(this.id=lF(),this.ctx=a,this.canvas=d,this.width=g,this.height=p,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new YB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TF(x=>this.update(x),o.resizeDelay||0),this._dataChanges=[],ny[this.id]=this,!a||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Uo.listen(this,"complete",bC),Uo.listen(this,"progress",cj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:r}=this;return Ci(e)?t&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return uo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():UT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VT(this.canvas,this.ctx),this}stop(){return Uo.stop(this),this}resize(e,t){Uo.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,UT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),yn(i.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ki(t,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const a=t[o],d=p0(o,a),p=d==="r",g=d==="x";return{options:a,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Ki(r,o=>{const a=o.options,d=a.id,p=p0(d,a),g=oi(a.type,o.dtype);(a.position===void 0||xC(a.position,p)!==xC(o.dposition))&&(a.position=o.dposition),n[d]=!0;let x=null;if(d in i&&i[d].type===g)x=i[d];else{const w=uo.getScale(g);x=new w({id:d,type:g,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(a,e)}),Ki(n,(o,a)=>{o||delete i[a]}),Ki(i,o=>{or.configure(this,o,o.options),or.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((n,r)=>n.index-r.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,n)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const r=t[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||f0(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const d=uo.getController(a),{datasetElementType:p,dataElementType:g}=Bn.datasets[a];Object.assign(d,{dataElementType:uo.getElement(g),datasetElementType:p&&uo.getElement(p)}),o.controller=new d(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ki(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:x}=this.getDatasetMeta(p),w=!n&&r.indexOf(x)===-1;x.buildOrUpdateElements(w),o=Math.max(+x.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||Ki(r,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vC("z","_idx"));const{_active:a,_lastEvent:d}=this;d?this._eventHandler(d,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ki(this.scales,e=>{or.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!DT(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of t){const o=i==="_removeElements"?-r:r;dj(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<t;r++)if(!DT(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;or.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Ki(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,sh(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Uo.has(this)?this.attached&&!Uo.running(this)&&Uo.start(this):(this.draw(),bC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,r;for(n=0,r=t.length;n<r;++n){const o=t[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=OM(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&Jy(t,n),e.controller.draw(),n&&Qy(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return tl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const r=uB.modes[t];return typeof r=="function"?r(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter(r=>r&&r._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=fh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,n);fm(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Uo.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),VT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ny[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ki(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(d,p)=>{t.addEventListener(this,d,p),e[d]=p},n=(d,p)=>{e[d]&&(t.removeEventListener(this,d,p),delete e[d])},r=(d,p)=>{this.canvas&&this.resize(d,p)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){Ki(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ki(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let r,o,a,d;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,d=e.length;a<d;++a){o=e[a];const p=o&&this.getDatasetMeta(o.datasetIndex).controller;p&&p[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Ty(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const n=this.options.hover,r=(d,p)=>d.filter(g=>!p.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),o=r(t,e),a=i?e:r(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:r}=this,o=t,a=this._getActiveElements(e,n,i,o),d=pF(e),p=fj(e,this._lastEvent,i,d);i&&(this._lastEvent=null,yn(r.onHover,[e,a,this],this),d&&yn(r.onClick,[e,a,this],this));const g=!Ty(a,n);return(g||t)&&(this._active=a,this._updateHoverStyles(a,n,t)),this._lastEvent=p,g}_getActiveElements(e,t,i,n){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function kC(){return Ki(qw.instances,s=>s._plugins.invalidate())}function pj(s,e,t){const{startAngle:i,x:n,y:r,outerRadius:o,innerRadius:a,options:d}=e,{borderWidth:p,borderJoinStyle:g}=d,x=Math.min(p/o,ar(i-t));if(s.beginPath(),s.arc(n,r,o-p/2,i+x/2,t-x/2),a>0){const w=Math.min(p/a,ar(i-t));s.arc(n,r,a+p/2,t-w/2,i+w/2,!0)}else{const w=Math.min(p/2,o*ar(i-t));if(g==="round")s.arc(n,r,w,t-Oi/2,i+Oi/2,!0);else if(g==="bevel"){const S=2*w*w,E=-S*Math.cos(t+Oi/2)+n,M=-S*Math.sin(t+Oi/2)+r,D=S*Math.cos(i+Oi/2)+n,O=S*Math.sin(i+Oi/2)+r;s.lineTo(E,M),s.lineTo(D,O)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function mj(s,e,t){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:d}=e;let p=n/a;s.beginPath(),s.arc(r,o,a,i-p,t+p),d>n?(p=n/d,s.arc(r,o,d,t+p,i-p,!0)):s.arc(r,o,n,t+oa,i-oa),s.closePath(),s.clip()}function gj(s){return Nw(s,["outerStart","outerEnd","innerStart","innerEnd"])}function _j(s,e,t,i){const n=gj(s.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),a=d=>{const p=(t-Math.min(r,d))*i/2;return Ra(d,0,Math.min(r,p))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Ra(n.innerStart,0,o),innerEnd:Ra(n.innerEnd,0,o)}}function sd(s,e,t,i){return{x:t+s*Math.cos(e),y:i+s*Math.sin(e)}}function Ey(s,e,t,i,n,r){const{x:o,y:a,startAngle:d,pixelMargin:p,innerRadius:g}=e,x=Math.max(e.outerRadius+i+t-p,0),w=g>0?g+i+t+p:0;let S=0;const E=n-d;if(i){const Oe=g>0?g-i:0,Ue=x>0?x-i:0,$e=(Oe+Ue)/2,nt=$e!==0?E*$e/($e+i):E;S=(E-nt)/2}const M=Math.max(.001,E*x-t/Oi)/x,D=(E-M)/2,O=d+D+S,N=n-D-S,{outerStart:H,outerEnd:X,innerStart:U,innerEnd:Q}=_j(e,w,x,N-O),Y=x-H,te=x-X,se=O+H/Y,ce=N-X/te,ve=w+U,xe=w+Q,Ee=O+U/ve,Be=N-Q/xe;if(s.beginPath(),r){const Oe=(se+ce)/2;if(s.arc(o,a,x,se,Oe),s.arc(o,a,x,Oe,ce),X>0){const Qe=sd(te,ce,o,a);s.arc(Qe.x,Qe.y,X,ce,N+oa)}const Ue=sd(xe,N,o,a);if(s.lineTo(Ue.x,Ue.y),Q>0){const Qe=sd(xe,Be,o,a);s.arc(Qe.x,Qe.y,Q,N+oa,Be+Math.PI)}const $e=(N-Q/w+(O+U/w))/2;if(s.arc(o,a,w,N-Q/w,$e,!0),s.arc(o,a,w,$e,O+U/w,!0),U>0){const Qe=sd(ve,Ee,o,a);s.arc(Qe.x,Qe.y,U,Ee+Math.PI,O-oa)}const nt=sd(Y,O,o,a);if(s.lineTo(nt.x,nt.y),H>0){const Qe=sd(Y,se,o,a);s.arc(Qe.x,Qe.y,H,O-oa,se)}}else{s.moveTo(o,a);const Oe=Math.cos(se)*x+o,Ue=Math.sin(se)*x+a;s.lineTo(Oe,Ue);const $e=Math.cos(ce)*x+o,nt=Math.sin(ce)*x+a;s.lineTo($e,nt)}s.closePath()}function yj(s,e,t,i,n){const{fullCircles:r,startAngle:o,circumference:a}=e;let d=e.endAngle;if(r){Ey(s,e,t,i,d,n);for(let p=0;p<r;++p)s.fill();isNaN(a)||(d=o+(a%Cn||Cn))}return Ey(s,e,t,i,d,n),s.fill(),d}function xj(s,e,t,i,n){const{fullCircles:r,startAngle:o,circumference:a,options:d}=e,{borderWidth:p,borderJoinStyle:g,borderDash:x,borderDashOffset:w,borderRadius:S}=d,E=d.borderAlign==="inner";if(!p)return;s.setLineDash(x||[]),s.lineDashOffset=w,E?(s.lineWidth=p*2,s.lineJoin=g||"round"):(s.lineWidth=p,s.lineJoin=g||"bevel");let M=e.endAngle;if(r){Ey(s,e,t,i,M,n);for(let D=0;D<r;++D)s.stroke();isNaN(a)||(M=o+(a%Cn||Cn))}E&&mj(s,e,M),d.selfJoin&&M-o>=Oi&&S===0&&g!=="miter"&&pj(s,e,M),r||(Ey(s,e,t,i,M,n),s.stroke())}class vj extends ol{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.getProps(["x","y"],i),{angle:r,distance:o}=gM(n,{x:e,y:t}),{startAngle:a,endAngle:d,innerRadius:p,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=(this.options.spacing+this.options.borderWidth)/2,S=oi(x,d-a),E=pm(r,a,d)&&a!==d,M=S>=Cn||E,D=Qo(o,p+w,g+w);return M&&D}getCenterPoint(e){const{x:t,y:i,startAngle:n,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:p}=this.options,g=(n+r)/2,x=(o+a+p+d)/2;return{x:t+Math.cos(g)*x,y:i+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Cn?Math.floor(i/Cn):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*n,Math.sin(a)*n);const d=1-Math.sin(Math.min(Oi,i||0)),p=n*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,yj(e,this,p,r,o),xj(e,this,p,r,o),e.restore()}}function KM(s,e,t=e){s.lineCap=oi(t.borderCapStyle,e.borderCapStyle),s.setLineDash(oi(t.borderDash,e.borderDash)),s.lineDashOffset=oi(t.borderDashOffset,e.borderDashOffset),s.lineJoin=oi(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=oi(t.borderWidth,e.borderWidth),s.strokeStyle=oi(t.borderColor,e.borderColor)}function bj(s,e,t){s.lineTo(t.x,t.y)}function wj(s){return s.stepped?OF:s.tension||s.cubicInterpolationMode==="monotone"?BF:bj}function JM(s,e,t={}){const i=s.length,{start:n=0,end:r=i-1}=t,{start:o,end:a}=e,d=Math.max(n,o),p=Math.min(r,a),g=n<o&&r<o||n>a&&r>a;return{count:i,start:d,loop:e.loop,ilen:p<d&&!g?i+p-d:p-d}}function kj(s,e,t,i){const{points:n,options:r}=e,{count:o,start:a,loop:d,ilen:p}=JM(n,t,i),g=wj(r);let{move:x=!0,reverse:w}=i||{},S,E,M;for(S=0;S<=p;++S)E=n[(a+(w?p-S:S))%o],!E.skip&&(x?(s.moveTo(E.x,E.y),x=!1):g(s,M,E,w,r.stepped),M=E);return d&&(E=n[(a+(w?p:0))%o],g(s,M,E,w,r.stepped)),!!d}function Sj(s,e,t,i){const n=e.points,{count:r,start:o,ilen:a}=JM(n,t,i),{move:d=!0,reverse:p}=i||{};let g=0,x=0,w,S,E,M,D,O;const N=X=>(o+(p?a-X:X))%r,H=()=>{M!==D&&(s.lineTo(g,D),s.lineTo(g,M),s.lineTo(g,O))};for(d&&(S=n[N(0)],s.moveTo(S.x,S.y)),w=0;w<=a;++w){if(S=n[N(w)],S.skip)continue;const X=S.x,U=S.y,Q=X|0;Q===E?(U<M?M=U:U>D&&(D=U),g=(x*g+X)/++x):(H(),s.lineTo(X,U),E=Q,x=0,M=D=U),O=U}H()}function m0(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Sj:kj}function Tj(s){return s.stepped?gO:s.tension||s.cubicInterpolationMode==="monotone"?_O:mu}function Cj(s,e,t,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,i)&&n.closePath()),KM(s,e.options),s.stroke(n)}function Aj(s,e,t,i){const{segments:n,options:r}=e,o=m0(e);for(const a of n)KM(s,r,a.style),s.beginPath(),o(s,e,a,{start:t,end:t+i-1})&&s.closePath(),s.stroke()}const Mj=typeof Path2D=="function";function Pj(s,e,t,i){Mj&&!e.options.segment?Cj(s,e,t,i):Aj(s,e,t,i)}class ix extends ol{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;lO(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kO(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],r=this.points,o=FM(this,{property:t,start:n,end:n});if(!o.length)return;const a=[],d=Tj(i);let p,g;for(p=0,g=o.length;p<g;++p){const{start:x,end:w}=o[p],S=r[x],E=r[w];if(S===E){a.push(S);continue}const M=Math.abs((n-S[t])/(E[t]-S[t])),D=d(S,E,M,i.stepped);D[t]=e[t],a.push(D)}return a.length===1?a[0]:a}pathSegment(e,t,i){return m0(this)(e,this,t,i)}path(e,t,i){const n=this.segments,r=m0(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const a of n)o&=r(e,this,a,{start:t,end:t+i-1});return!!o}draw(e,t,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),Pj(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function SC(s,e,t,i){const n=s.options,{[t]:r}=s.getProps([t],i);return Math.abs(e-r)<n.radius+n.hitRadius}class Lj extends ol{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return SC(this,e,"x",t)}inYRange(e,t){return SC(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!tl(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,d0(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function QM(s,e){const{x:t,y:i,base:n,width:r,height:o}=s.getProps(["x","y","base","width","height"],e);let a,d,p,g,x;return s.horizontal?(x=o/2,a=Math.min(t,n),d=Math.max(t,n),p=i-x,g=i+x):(x=r/2,a=t-x,d=t+x,p=Math.min(i,n),g=Math.max(i,n)),{left:a,top:p,right:d,bottom:g}}function Yl(s,e,t,i){return s?0:Ra(e,t,i)}function Ej(s,e,t){const i=s.options.borderWidth,n=s.borderSkipped,r=TM(i);return{t:Yl(n.top,r.top,0,t),r:Yl(n.right,r.right,0,e),b:Yl(n.bottom,r.bottom,0,t),l:Yl(n.left,r.left,0,e)}}function Ij(s,e,t){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,r=Du(n),o=Math.min(e,t),a=s.borderSkipped,d=i||Ai(n);return{topLeft:Yl(!d||a.top||a.left,r.topLeft,0,o),topRight:Yl(!d||a.top||a.right,r.topRight,0,o),bottomLeft:Yl(!d||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Yl(!d||a.bottom||a.right,r.bottomRight,0,o)}}function Dj(s){const e=QM(s),t=e.right-e.left,i=e.bottom-e.top,n=Ej(s,t/2,i/2),r=Ij(s,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function db(s,e,t,i){const n=e===null,r=t===null,a=s&&!(n&&r)&&QM(s,i);return a&&(n||Qo(e,a.left,a.right))&&(r||Qo(t,a.top,a.bottom))}function zj(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function Rj(s,e){s.rect(e.x,e.y,e.w,e.h)}function fb(s,e,t={}){const i=s.x!==t.x?-e:0,n=s.y!==t.y?-e:0,r=(s.x+s.w!==t.x+t.w?e:0)-i,o=(s.y+s.h!==t.y+t.h?e:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+r,h:s.h+o,radius:s.radius}}class Fj extends ol{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=Dj(this),a=zj(o.radius)?mm:Rj;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,fb(o,t,r)),e.clip(),a(e,fb(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,fb(r,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return db(this,e,t,i)}inXRange(e,t){return db(this,e,null,t)}inYRange(e,t){return db(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var Oj=Object.freeze({__proto__:null,ArcElement:vj,BarElement:Fj,LineElement:ix,PointElement:Lj});const g0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],TC=g0.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function eP(s){return g0[s%g0.length]}function tP(s){return TC[s%TC.length]}function Bj(s,e){return s.borderColor=eP(e),s.backgroundColor=tP(e),++e}function jj(s,e){return s.backgroundColor=s.data.map(()=>eP(e++)),e}function Nj(s,e){return s.backgroundColor=s.data.map(()=>tP(e++)),e}function $j(s){let e=0;return(t,i)=>{const n=s.getDatasetMeta(i).controller;n instanceof Ww?e=jj(t,e):n instanceof $M?e=Nj(t,e):n&&(e=Bj(t,e))}}function CC(s){let e;for(e in s)if(s[e].borderColor||s[e].backgroundColor)return!0;return!1}function Vj(s){return s&&(s.borderColor||s.backgroundColor)}function Hj(){return Bn.borderColor!=="rgba(0,0,0,0.1)"||Bn.backgroundColor!=="rgba(0,0,0,0.1)"}var Gj={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,e,t){if(!t.enabled)return;const{data:{datasets:i},options:n}=s.config,{elements:r}=n,o=CC(i)||Vj(n)||r&&CC(r)||Hj();if(!t.forceOverride&&o)return;const a=$j(s);i.forEach(a)}};function Uj(s,e,t,i,n){const r=n.samples||i;if(r>=t)return s.slice(e,e+t);const o=[],a=(t-2)/(r-2);let d=0;const p=e+t-1;let g=e,x,w,S,E,M;for(o[d++]=s[g],x=0;x<r-2;x++){let D=0,O=0,N;const H=Math.floor((x+1)*a)+1+e,X=Math.min(Math.floor((x+2)*a)+1,t)+e,U=X-H;for(N=H;N<X;N++)D+=s[N].x,O+=s[N].y;D/=U,O/=U;const Q=Math.floor(x*a)+1+e,Y=Math.min(Math.floor((x+1)*a)+1,t)+e,{x:te,y:se}=s[g];for(S=E=-1,N=Q;N<Y;N++)E=.5*Math.abs((te-D)*(s[N].y-se)-(te-s[N].x)*(O-se)),E>S&&(S=E,w=s[N],M=N);o[d++]=w,g=M}return o[d++]=s[p],o}function Wj(s,e,t,i){let n=0,r=0,o,a,d,p,g,x,w,S,E,M;const D=[],O=e+t-1,N=s[e].x,X=s[O].x-N;for(o=e;o<e+t;++o){a=s[o],d=(a.x-N)/X*i,p=a.y;const U=d|0;if(U===g)p<E?(E=p,x=o):p>M&&(M=p,w=o),n=(r*n+a.x)/++r;else{const Q=o-1;if(!Ci(x)&&!Ci(w)){const Y=Math.min(x,w),te=Math.max(x,w);Y!==S&&Y!==Q&&D.push({...s[Y],x:n}),te!==S&&te!==Q&&D.push({...s[te],x:n})}o>0&&Q!==S&&D.push(s[Q]),D.push(a),g=U,r=0,E=M=p,x=w=S=o}}return D}function iP(s){if(s._decimated){const e=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function AC(s){s.data.datasets.forEach(e=>{iP(e)})}function Xj(s,e){const t=e.length;let i=0,n;const{iScale:r}=s,{min:o,max:a,minDefined:d,maxDefined:p}=r.getUserBounds();return d&&(i=Ra(el(e,r.axis,o).lo,0,t-1)),p?n=Ra(el(e,r.axis,a).hi+1,i,t)-i:n=t-i,{start:i,count:n}}var qj={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,e,t)=>{if(!t.enabled){AC(s);return}const i=s.width;s.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:a}=n,d=s.getDatasetMeta(r),p=o||n.data;if(Lp([a,s.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const g=s.scales[d.xAxisID];if(g.type!=="linear"&&g.type!=="time"||s.options.parsing)return;let{start:x,count:w}=Xj(d,p);const S=t.threshold||4*i;if(w<=S){iP(n);return}Ci(o)&&(n._data=p,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}}));let E;switch(t.algorithm){case"lttb":E=Uj(p,x,w,i,t);break;case"min-max":E=Wj(p,x,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=E})},destroy(s){AC(s)}};function Yj(s,e,t){const i=s.segments,n=s.points,r=e.points,o=[];for(const a of i){let{start:d,end:p}=a;p=nx(d,p,n);const g=_0(t,n[d],n[p],a.loop);if(!e.segments){o.push({source:a,target:g,start:n[d],end:n[p]});continue}const x=FM(e,g);for(const w of x){const S=_0(t,r[w.start],r[w.end],w.loop),E=RM(a,n,S);for(const M of E)o.push({source:M,target:w,start:{[t]:MC(g,S,"start",Math.max)},end:{[t]:MC(g,S,"end",Math.min)}})}}return o}function _0(s,e,t,i){if(i)return;let n=e[s],r=t[s];return s==="angle"&&(n=ar(n),r=ar(r)),{property:s,start:n,end:r}}function Zj(s,e){const{x:t=null,y:i=null}=s||{},n=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=nx(o,a,n);const d=n[o],p=n[a];i!==null?(r.push({x:d.x,y:i}),r.push({x:p.x,y:i})):t!==null&&(r.push({x:t,y:d.y}),r.push({x:t,y:p.y}))}),r}function nx(s,e,t){for(;e>s;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function MC(s,e,t,i){return s&&e?i(s[t],e[t]):s?s[t]:e?e[t]:0}function nP(s,e){let t=[],i=!1;return On(s)?(i=!0,t=s):t=Zj(s,e),t.length?new ix({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function PC(s){return s&&s.fill!==!1}function Kj(s,e,t){let n=s[e].fill;const r=[e];let o;if(!t)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!Qn(n))return n;if(o=s[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function Jj(s,e,t){const i=iN(s);if(Ai(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return Qn(n)&&Math.floor(n)===n?Qj(i[0],e,n,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Qj(s,e,t,i){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function eN(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:Ai(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function tN(s,e,t){let i;return s==="start"?i=t:s==="end"?i=e.options.reverse?e.min:e.max:Ai(s)?i=s.value:i=e.getBaseValue(),i}function iN(s){const e=s.options,t=e.fill;let i=oi(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function nN(s){const{scale:e,index:t,line:i}=s,n=[],r=i.segments,o=i.points,a=aN(e,t);a.push(nP({x:null,y:e.bottom},i));for(let d=0;d<r.length;d++){const p=r[d];for(let g=p.start;g<=p.end;g++)rN(n,o[g],a)}return new ix({points:n,options:{}})}function aN(s,e){const t=[],i=s.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const r=i[n];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function rN(s,e,t){const i=[];for(let n=0;n<t.length;n++){const r=t[n],{first:o,last:a,point:d}=sN(r,e,"x");if(!(!d||o&&a)){if(o)i.unshift(d);else if(s.push(d),!a)break}}s.push(...i)}function sN(s,e,t){const i=s.interpolate(e,t);if(!i)return{};const n=i[t],r=s.segments,o=s.points;let a=!1,d=!1;for(let p=0;p<r.length;p++){const g=r[p],x=o[g.start][t],w=o[g.end][t];if(Qo(n,x,w)){a=n===x,d=n===w;break}}return{first:a,last:d,point:i}}class aP{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:n,y:r,radius:o}=this;return t=t||{start:0,end:Cn},e.arc(n,r,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:n}=this,r=e.angle;return{x:t+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function oN(s){const{chart:e,fill:t,line:i}=s;if(Qn(t))return lN(e,t);if(t==="stack")return nN(s);if(t==="shape")return!0;const n=hN(s);return n instanceof aP?n:nP(n,i)}function lN(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function hN(s){return(s.scale||{}).getPointPositionForValue?cN(s):uN(s)}function uN(s){const{scale:e={},fill:t}=s,i=eN(t,e);if(Qn(i)){const n=e.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function cN(s){const{scale:e,fill:t}=s,i=e.options,n=e.getLabels().length,r=i.reverse?e.max:e.min,o=tN(t,e,r),a=[];if(i.grid.circular){const d=e.getPointPositionForValue(0,r);return new aP({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(o)})}for(let d=0;d<n;++d)a.push(e.getPointPositionForValue(d,o));return a}function pb(s,e,t){const i=oN(e),{chart:n,index:r,line:o,scale:a,axis:d}=e,p=o.options,g=p.fill,x=p.backgroundColor,{above:w=x,below:S=x}=g||{},E=n.getDatasetMeta(r),M=OM(n,E);i&&o.points.length&&(Jy(s,t),dN(s,{line:o,target:i,above:w,below:S,area:t,scale:a,axis:d,clip:M}),Qy(s))}function dN(s,e){const{line:t,target:i,above:n,below:r,area:o,scale:a,clip:d}=e,p=t._loop?"angle":e.axis;s.save();let g=r;r!==n&&(p==="x"?(LC(s,i,o.top),mb(s,{line:t,target:i,color:n,scale:a,property:p,clip:d}),s.restore(),s.save(),LC(s,i,o.bottom)):p==="y"&&(EC(s,i,o.left),mb(s,{line:t,target:i,color:r,scale:a,property:p,clip:d}),s.restore(),s.save(),EC(s,i,o.right),g=n)),mb(s,{line:t,target:i,color:g,scale:a,property:p,clip:d}),s.restore()}function LC(s,e,t){const{segments:i,points:n}=e;let r=!0,o=!1;s.beginPath();for(const a of i){const{start:d,end:p}=a,g=n[d],x=n[nx(d,p,n)];r?(s.moveTo(g.x,g.y),r=!1):(s.lineTo(g.x,t),s.lineTo(g.x,g.y)),o=!!e.pathSegment(s,a,{move:o}),o?s.closePath():s.lineTo(x.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function EC(s,e,t){const{segments:i,points:n}=e;let r=!0,o=!1;s.beginPath();for(const a of i){const{start:d,end:p}=a,g=n[d],x=n[nx(d,p,n)];r?(s.moveTo(g.x,g.y),r=!1):(s.lineTo(t,g.y),s.lineTo(g.x,g.y)),o=!!e.pathSegment(s,a,{move:o}),o?s.closePath():s.lineTo(t,x.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function mb(s,e){const{line:t,target:i,property:n,color:r,scale:o,clip:a}=e,d=Yj(t,i,n);for(const{source:p,target:g,start:x,end:w}of d){const{style:{backgroundColor:S=r}={}}=p,E=i!==!0;s.save(),s.fillStyle=S,fN(s,o,a,E&&_0(n,x,w)),s.beginPath();const M=!!t.pathSegment(s,p);let D;if(E){M?s.closePath():IC(s,i,w,n);const O=!!i.pathSegment(s,g,{move:M,reverse:!0});D=M&&O,D||IC(s,i,x,n)}s.closePath(),s.fill(D?"evenodd":"nonzero"),s.restore()}}function fN(s,e,t,i){const n=e.chart.chartArea,{property:r,start:o,end:a}=i||{};if(r==="x"||r==="y"){let d,p,g,x;r==="x"?(d=o,p=n.top,g=a,x=n.bottom):(d=n.left,p=o,g=n.right,x=a),s.beginPath(),t&&(d=Math.max(d,t.left),g=Math.min(g,t.right),p=Math.max(p,t.top),x=Math.min(x,t.bottom)),s.rect(d,p,g-d,x-p),s.clip()}}function IC(s,e,t,i){const n=e.interpolate(t,i);n&&s.lineTo(n.x,n.y)}var pN={id:"filler",afterDatasetsUpdate(s,e,t){const i=(s.data.datasets||[]).length,n=[];let r,o,a,d;for(o=0;o<i;++o)r=s.getDatasetMeta(o),a=r.dataset,d=null,a&&a.options&&a instanceof ix&&(d={visible:s.isDatasetVisible(o),index:o,fill:Jj(a,o,i),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=d,n.push(d);for(o=0;o<i;++o)d=n[o],!(!d||d.fill===!1)&&(d.fill=Kj(n,o,t.propagate))},beforeDraw(s,e,t){const i=t.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&pb(s.ctx,a,r))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=s.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const r=i[n].$filler;PC(r)&&pb(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,e,t){const i=e.meta.$filler;!PC(i)||t.drawTime!=="beforeDatasetDraw"||pb(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const DC=(s,e)=>{let{boxHeight:t=e,boxWidth:i=e}=s;return s.usePointStyle&&(t=Math.min(t,e),i=s.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},mN=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class zC extends ol{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=yn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=Ta(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:d}=DC(i,r);let p,g;t.font=n.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(o,r,a,d)+10):(g=this.maxHeight,p=this._fitCols(o,n,a,d)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,d=this.legendHitBoxes=[],p=this.lineWidths=[0],g=n+a;let x=e;r.textAlign="left",r.textBaseline="middle";let w=-1,S=-g;return this.legendItems.forEach((E,M)=>{const D=i+t/2+r.measureText(E.text).width;(M===0||p[p.length-1]+D+2*a>o)&&(x+=g,p[p.length-(M>0?0:1)]=0,S+=g,w++),d[M]={left:0,top:S,row:w,width:D,height:n},p[p.length-1]+=D+a}),x}_fitCols(e,t,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,d=this.legendHitBoxes=[],p=this.columnSizes=[],g=o-e;let x=a,w=0,S=0,E=0,M=0;return this.legendItems.forEach((D,O)=>{const{itemWidth:N,itemHeight:H}=gN(i,t,r,D,n);O>0&&S+H+2*a>g&&(x+=w+a,p.push({width:w,height:S}),E+=w+a,M++,w=S=0),d[O]={left:E,top:S,col:M,width:N,height:H},w=Math.max(w,N),S+=H+a}),x+=w,p.push({width:w,height:S}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:r}}=this,o=bd(r,this.left,this.width);if(this.isHorizontal()){let a=0,d=ir(i,this.left+n,this.right-this.lineWidths[a]);for(const p of t)a!==p.row&&(a=p.row,d=ir(i,this.left+n,this.right-this.lineWidths[a])),p.top+=this.top+e+n,p.left=o.leftForLtr(o.x(d),p.width),d+=p.width+n}else{let a=0,d=ir(i,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const p of t)p.col!==a&&(a=p.col,d=ir(i,this.top+e+n,this.bottom-this.columnSizes[a].height)),p.top=d,p.left+=this.left+n,p.left=o.leftForLtr(o.x(p.left),p.width),d+=p.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Jy(e,this),this._draw(),Qy(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:r,labels:o}=e,a=Bn.color,d=bd(e.rtl,this.left,this.width),p=Ta(o.font),{padding:g}=o,x=p.size,w=x/2;let S;this.drawTitle(),n.textAlign=d.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=p.string;const{boxWidth:E,boxHeight:M,itemHeight:D}=DC(o,x),O=function(Q,Y,te){if(isNaN(E)||E<=0||isNaN(M)||M<0)return;n.save();const se=oi(te.lineWidth,1);if(n.fillStyle=oi(te.fillStyle,a),n.lineCap=oi(te.lineCap,"butt"),n.lineDashOffset=oi(te.lineDashOffset,0),n.lineJoin=oi(te.lineJoin,"miter"),n.lineWidth=se,n.strokeStyle=oi(te.strokeStyle,a),n.setLineDash(oi(te.lineDash,[])),o.usePointStyle){const ce={radius:M*Math.SQRT2/2,pointStyle:te.pointStyle,rotation:te.rotation,borderWidth:se},ve=d.xPlus(Q,E/2),xe=Y+w;SM(n,ce,ve,xe,o.pointStyleWidth&&E)}else{const ce=Y+Math.max((x-M)/2,0),ve=d.leftForLtr(Q,E),xe=Du(te.borderRadius);n.beginPath(),Object.values(xe).some(Ee=>Ee!==0)?mm(n,{x:ve,y:ce,w:E,h:M,radius:xe}):n.rect(ve,ce,E,M),n.fill(),se!==0&&n.stroke()}n.restore()},N=function(Q,Y,te){Gu(n,te.text,Q,Y+D/2,p,{strikethrough:te.hidden,textAlign:d.textAlign(te.textAlign)})},H=this.isHorizontal(),X=this._computeTitleHeight();H?S={x:ir(r,this.left+g,this.right-i[0]),y:this.top+g+X,line:0}:S={x:this.left+g,y:ir(r,this.top+X+g,this.bottom-t[0].height),line:0},IM(this.ctx,e.textDirection);const U=D+g;this.legendItems.forEach((Q,Y)=>{n.strokeStyle=Q.fontColor,n.fillStyle=Q.fontColor;const te=n.measureText(Q.text).width,se=d.textAlign(Q.textAlign||(Q.textAlign=o.textAlign)),ce=E+w+te;let ve=S.x,xe=S.y;d.setWidth(this.width),H?Y>0&&ve+ce+g>this.right&&(xe=S.y+=U,S.line++,ve=S.x=ir(r,this.left+g,this.right-i[S.line])):Y>0&&xe+U>this.bottom&&(ve=S.x=ve+t[S.line].width+g,S.line++,xe=S.y=ir(r,this.top+X+g,this.bottom-t[S.line].height));const Ee=d.x(ve);if(O(Ee,xe,Q),ve=CF(se,ve+E+w,H?ve+ce:this.right,e.rtl),N(d.x(ve),xe,Q),H)S.x+=ce+g;else if(typeof Q.text!="string"){const Be=p.lineHeight;S.y+=rP(Q,Be)+g}else S.y+=U}),DM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Ta(t.font),n=hr(t.padding);if(!t.display)return;const r=bd(e.rtl,this.left,this.width),o=this.ctx,a=t.position,d=i.size/2,p=n.top+d;let g,x=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+p,x=ir(e.align,x,this.right-w);else{const E=this.columnSizes.reduce((M,D)=>Math.max(M,D.height),0);g=p+ir(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const S=ir(a,x,x+w);o.textAlign=r.textAlign(Bw(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Gu(o,t.text,S,g,i)}_computeTitleHeight(){const e=this.options.title,t=Ta(e.font),i=hr(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,r;if(Qo(e,this.left,this.right)&&Qo(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],Qo(e,n.left,n.left+n.width)&&Qo(t,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!xN(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,r=mN(n,i);n&&!r&&yn(t.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!r&&yn(t.onHover,[e,i,this],this)}else i&&yn(t.onClick,[e,i,this],this)}}function gN(s,e,t,i,n){const r=_N(i,s,e,t),o=yN(n,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function _N(s,e,t,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(n).width}function yN(s,e,t){let i=s;return typeof e.text!="string"&&(i=rP(e,t)),i}function rP(s,e){const t=s.text?s.text.length:0;return e*t}function xN(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var vN={id:"legend",_element:zC,start(s,e,t){const i=s.legend=new zC({ctx:s.ctx,options:t,chart:s});or.configure(s,i,t),or.addBox(s,i)},stop(s){or.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const i=s.legend;or.configure(s,i,t),i.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const i=e.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=s.legend.options;return s._getSortedDatasetMetas().map(d=>{const p=d.controller.getStyle(t?0:void 0),g=hr(p.borderWidth);return{text:e[d.index].label,fillStyle:p.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:n||p.textAlign,borderRadius:o&&(a||p.borderRadius),datasetIndex:d.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class Yw extends ol{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=On(i.text)?i.text.length:1;this._padding=hr(i.padding);const r=n*Ta(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:n,right:r,options:o}=this,a=o.align;let d=0,p,g,x;return this.isHorizontal()?(g=ir(a,i,r),x=t+e,p=r-i):(o.position==="left"?(g=i+e,x=ir(a,n,t),d=Oi*-.5):(g=r-e,x=ir(a,t,n),d=Oi*.5),p=n-t),{titleX:g,titleY:x,maxWidth:p,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Ta(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:d,rotation:p}=this._drawArgs(r);Gu(e,t.text,0,0,i,{color:t.color,maxWidth:d,rotation:p,textAlign:Bw(t.align),textBaseline:"middle",translation:[o,a]})}}function bN(s,e){const t=new Yw({ctx:s.ctx,options:e,chart:s});or.configure(s,t,e),or.addBox(s,t),s.titleBlock=t}var wN={id:"title",_element:Yw,start(s,e,t){bN(s,t)},stop(s){const e=s.titleBlock;or.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const i=s.titleBlock;or.configure(s,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const F_=new WeakMap;var kN={id:"subtitle",start(s,e,t){const i=new Yw({ctx:s.ctx,options:t,chart:s});or.configure(s,i,t),or.addBox(s,i),F_.set(s,i)},stop(s){or.removeBox(s,F_.get(s)),F_.delete(s)},beforeUpdate(s,e,t){const i=F_.get(s);or.configure(s,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ip={average(s){if(!s.length)return!1;let e,t,i=new Set,n=0,r=0;for(e=0,t=s.length;e<t;++e){const a=s[e].element;if(a&&a.hasValue()){const d=a.tooltipPosition();i.add(d.x),n+=d.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,d)=>a+d)/i.size,y:n/r}},nearest(s,e){if(!s.length)return!1;let t=e.x,i=e.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=s.length;r<o;++r){const d=s[r].element;if(d&&d.hasValue()){const p=d.getCenterPoint(),g=u0(e,p);g<n&&(n=g,a=d)}}if(a){const d=a.tooltipPosition();t=d.x,i=d.y}return{x:t,y:i}}};function ho(s,e){return e&&(On(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function Wo(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function SN(s,e){const{element:t,datasetIndex:i,index:n}=e,r=s.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:s,label:o,parsed:r.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function RC(s,e){const t=s.chart.ctx,{body:i,footer:n,title:r}=s,{boxWidth:o,boxHeight:a}=e,d=Ta(e.bodyFont),p=Ta(e.titleFont),g=Ta(e.footerFont),x=r.length,w=n.length,S=i.length,E=hr(e.padding);let M=E.height,D=0,O=i.reduce((X,U)=>X+U.before.length+U.lines.length+U.after.length,0);if(O+=s.beforeBody.length+s.afterBody.length,x&&(M+=x*p.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),O){const X=e.displayColors?Math.max(a,d.lineHeight):d.lineHeight;M+=S*X+(O-S)*d.lineHeight+(O-1)*e.bodySpacing}w&&(M+=e.footerMarginTop+w*g.lineHeight+(w-1)*e.footerSpacing);let N=0;const H=function(X){D=Math.max(D,t.measureText(X).width+N)};return t.save(),t.font=p.string,Ki(s.title,H),t.font=d.string,Ki(s.beforeBody.concat(s.afterBody),H),N=e.displayColors?o+2+e.boxPadding:0,Ki(i,X=>{Ki(X.before,H),Ki(X.lines,H),Ki(X.after,H)}),N=0,t.font=g.string,Ki(s.footer,H),t.restore(),D+=E.width,{width:D,height:M}}function TN(s,e){const{y:t,height:i}=e;return t<i/2?"top":t>s.height-i/2?"bottom":"center"}function CN(s,e,t,i){const{x:n,width:r}=i,o=t.caretSize+t.caretPadding;if(s==="left"&&n+r+o>e.width||s==="right"&&n-r-o<0)return!0}function AN(s,e,t,i){const{x:n,width:r}=t,{width:o,chartArea:{left:a,right:d}}=s;let p="center";return i==="center"?p=n<=(a+d)/2?"left":"right":n<=r/2?p="left":n>=o-r/2&&(p="right"),CN(p,s,e,t)&&(p="center"),p}function FC(s,e,t){const i=t.yAlign||e.yAlign||TN(s,t);return{xAlign:t.xAlign||e.xAlign||AN(s,e,t,i),yAlign:i}}function MN(s,e){let{x:t,width:i}=s;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function PN(s,e,t){let{y:i,height:n}=s;return e==="top"?i+=t:e==="bottom"?i-=n+t:i-=n/2,i}function OC(s,e,t,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=s,{xAlign:a,yAlign:d}=t,p=n+r,{topLeft:g,topRight:x,bottomLeft:w,bottomRight:S}=Du(o);let E=MN(e,a);const M=PN(e,d,p);return d==="center"?a==="left"?E+=p:a==="right"&&(E-=p):a==="left"?E-=Math.max(g,w)+n:a==="right"&&(E+=Math.max(x,S)+n),{x:Ra(E,0,i.width-e.width),y:Ra(M,0,i.height-e.height)}}function O_(s,e,t){const i=hr(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-i.right:s.x+i.left}function BC(s){return ho([],Wo(s))}function LN(s,e,t){return fh(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jC(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const sP={beforeTitle:Go,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Go,beforeBody:Go,beforeLabel:Go,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return Ci(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Go,afterBody:Go,beforeFooter:Go,footer:Go,afterFooter:Go};function zr(s,e,t,i){const n=s[e].call(t,i);return typeof n>"u"?sP[e].call(t,i):n}class NC extends ol{static positioners=Ip;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,r=new BM(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=LN(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,n=zr(i,"beforeTitle",this,e),r=zr(i,"title",this,e),o=zr(i,"afterTitle",this,e);let a=[];return a=ho(a,Wo(n)),a=ho(a,Wo(r)),a=ho(a,Wo(o)),a}getBeforeBody(e,t){return BC(zr(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return Ki(e,r=>{const o={before:[],lines:[],after:[]},a=jC(i,r);ho(o.before,Wo(zr(a,"beforeLabel",this,r))),ho(o.lines,zr(a,"label",this,r)),ho(o.after,Wo(zr(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(e,t){return BC(zr(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=zr(i,"beforeFooter",this,e),r=zr(i,"footer",this,e),o=zr(i,"afterFooter",this,e);let a=[];return a=ho(a,Wo(n)),a=ho(a,Wo(r)),a=ho(a,Wo(o)),a}_createItems(e){const t=this._active,i=this.chart.data,n=[],r=[],o=[];let a=[],d,p;for(d=0,p=t.length;d<p;++d)a.push(SN(this.chart,t[d]));return e.filter&&(a=a.filter((g,x,w)=>e.filter(g,x,w,i))),e.itemSort&&(a=a.sort((g,x)=>e.itemSort(g,x,i))),Ki(a,g=>{const x=jC(e.callbacks,g);n.push(zr(x,"labelColor",this,g)),r.push(zr(x,"labelPointStyle",this,g)),o.push(zr(x,"labelTextColor",this,g))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=Ip[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const d=this._size=RC(this,i),p=Object.assign({},a,d),g=FC(this.chart,i,p),x=OC(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:x.x,y:x.y,width:d.width,height:d.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const r=this.getCaretPosition(e,i,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:d,topRight:p,bottomLeft:g,bottomRight:x}=Du(a),{x:w,y:S}=e,{width:E,height:M}=t;let D,O,N,H,X,U;return r==="center"?(X=S+M/2,n==="left"?(D=w,O=D-o,H=X+o,U=X-o):(D=w+E,O=D+o,H=X-o,U=X+o),N=D):(n==="left"?O=w+Math.max(d,g)+o:n==="right"?O=w+E-Math.max(p,x)-o:O=this.caretX,r==="top"?(H=S,X=H-o,D=O-o,N=O+o):(H=S+M,X=H+o,D=O+o,N=O-o),U=H),{x1:D,x2:O,x3:N,y1:H,y2:X,y3:U}}drawTitle(e,t,i){const n=this.title,r=n.length;let o,a,d;if(r){const p=bd(i.rtl,this.x,this.width);for(e.x=O_(this,i.titleAlign,i),t.textAlign=p.textAlign(i.titleAlign),t.textBaseline="middle",o=Ta(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,d=0;d<r;++d)t.fillText(n[d],p.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,d+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,n,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:d,boxWidth:p}=r,g=Ta(r.bodyFont),x=O_(this,"left",r),w=n.x(x),S=d<g.lineHeight?(g.lineHeight-d)/2:0,E=t.y+S;if(r.usePointStyle){const M={radius:Math.min(p,d)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},D=n.leftForLtr(w,p)+p/2,O=E+d/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,d0(e,M,D,O),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,d0(e,M,D,O)}else{e.lineWidth=Ai(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const M=n.leftForLtr(w,p),D=n.leftForLtr(n.xPlus(w,1),p-2),O=Du(o.borderRadius);Object.values(O).some(N=>N!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,mm(e,{x:M,y:E,w:p,h:d,radius:O}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),mm(e,{x:D,y:E+1,w:p-2,h:d-2,radius:O}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(M,E,p,d),e.strokeRect(M,E,p,d),e.fillStyle=o.backgroundColor,e.fillRect(D,E+1,p-2,d-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:d,boxWidth:p,boxPadding:g}=i,x=Ta(i.bodyFont);let w=x.lineHeight,S=0;const E=bd(i.rtl,this.x,this.width),M=function(te){t.fillText(te,E.x(e.x+S),e.y+w/2),e.y+=w+r},D=E.textAlign(o);let O,N,H,X,U,Q,Y;for(t.textAlign=o,t.textBaseline="middle",t.font=x.string,e.x=O_(this,D,i),t.fillStyle=i.bodyColor,Ki(this.beforeBody,M),S=a&&D!=="right"?o==="center"?p/2+g:p+2+g:0,X=0,Q=n.length;X<Q;++X){for(O=n[X],N=this.labelTextColors[X],t.fillStyle=N,Ki(O.before,M),H=O.lines,a&&H.length&&(this._drawColorBox(t,e,X,E,i),w=Math.max(x.lineHeight,d)),U=0,Y=H.length;U<Y;++U)M(H[U]),w=x.lineHeight;Ki(O.after,M)}S=0,w=x.lineHeight,Ki(this.afterBody,M),e.y-=r}drawFooter(e,t,i){const n=this.footer,r=n.length;let o,a;if(r){const d=bd(i.rtl,this.x,this.width);for(e.x=O_(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=d.textAlign(i.footerAlign),t.textBaseline="middle",o=Ta(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,a=0;a<r;++a)t.fillText(n[a],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:r,yAlign:o}=this,{x:a,y:d}=e,{width:p,height:g}=i,{topLeft:x,topRight:w,bottomLeft:S,bottomRight:E}=Du(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(a+x,d),o==="top"&&this.drawCaret(e,t,i,n),t.lineTo(a+p-w,d),t.quadraticCurveTo(a+p,d,a+p,d+w),o==="center"&&r==="right"&&this.drawCaret(e,t,i,n),t.lineTo(a+p,d+g-E),t.quadraticCurveTo(a+p,d+g,a+p-E,d+g),o==="bottom"&&this.drawCaret(e,t,i,n),t.lineTo(a+S,d+g),t.quadraticCurveTo(a,d+g,a,d+g-S),o==="center"&&r==="left"&&this.drawCaret(e,t,i,n),t.lineTo(a,d+x),t.quadraticCurveTo(a,d,a+x,d),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=Ip[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=RC(this,e),d=Object.assign({},o,this._size),p=FC(t,e,d),g=OC(e,d,p,t);(n._to!==g.x||r._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=hr(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,n,t),IM(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),DM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map(({datasetIndex:a,index:d})=>{const p=this.chart.getDatasetMeta(a);if(!p)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:p.data[d],index:d}}),r=!Ty(i,n),o=this._positionChanged(n,t);(r||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),a=this._positionChanged(o,e),d=t||!Ty(o,r)||a;return d&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,i,n){const r=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:n,options:r}=this,o=Ip[r.position].call(this,e,t);return o!==!1&&(i!==o.x||n!==o.y)}}var EN={id:"tooltip",_element:NC,positioners:Ip,afterInit(s,e,t){t&&(s.tooltip=new NC({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},IN=Object.freeze({__proto__:null,Colors:Gj,Decimation:qj,Filler:pN,Legend:vN,SubTitle:kN,Title:wN,Tooltip:EN});const DN=(s,e,t,i)=>(typeof e=="string"?(t=s.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function zN(s,e,t,i){const n=s.indexOf(e);if(n===-1)return DN(s,e,t,i);const r=s.lastIndexOf(e);return n!==r?t:n}const RN=(s,e)=>s===null?null:Ra(Math.round(s),0,e);function $C(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class FN extends Yu{static id="category";static defaults={ticks:{callback:$C}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:r}of t)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ci(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:zN(i,e,oi(t,e),this._addedLabels),RN(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return $C.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function ON(s,e){const t=[],{bounds:n,step:r,min:o,max:a,precision:d,count:p,maxTicks:g,maxDigits:x,includeBounds:w}=s,S=r||1,E=g-1,{min:M,max:D}=e,O=!Ci(o),N=!Ci(a),H=!Ci(p),X=(D-M)/(x+1);let U=RT((D-M)/E/S)*S,Q,Y,te,se;if(U<1e-14&&!O&&!N)return[{value:M},{value:D}];se=Math.ceil(D/U)-Math.floor(M/U),se>E&&(U=RT(se*U/E/S)*S),Ci(d)||(Q=Math.pow(10,d),U=Math.ceil(U*Q)/Q),n==="ticks"?(Y=Math.floor(M/U)*U,te=Math.ceil(D/U)*U):(Y=M,te=D),O&&N&&r&&xF((a-o)/r,U/1e3)?(se=Math.round(Math.min((a-o)/U,g)),U=(a-o)/se,Y=o,te=a):H?(Y=O?o:Y,te=N?a:te,se=p-1,U=(te-Y)/se):(se=(te-Y)/U,Yp(se,Math.round(se),U/1e3)?se=Math.round(se):se=Math.ceil(se));const ce=Math.max(FT(U),FT(Y));Q=Math.pow(10,Ci(d)?ce:d),Y=Math.round(Y*Q)/Q,te=Math.round(te*Q)/Q;let ve=0;for(O&&(w&&Y!==o?(t.push({value:o}),Y<o&&ve++,Yp(Math.round((Y+ve*U)*Q)/Q,o,VC(o,X,s))&&ve++):Y<o&&ve++);ve<se;++ve){const xe=Math.round((Y+ve*U)*Q)/Q;if(N&&xe>a)break;t.push({value:xe})}return N&&w&&te!==a?t.length&&Yp(t[t.length-1].value,a,VC(a,X,s))?t[t.length-1].value=a:t.push({value:a}):(!N||te===a)&&t.push({value:te}),t}function VC(s,e,{horizontal:t,minRotation:i}){const n=Hs(i),r=(t?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+s).length;return Math.min(e/r,o)}class Iy extends Yu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ci(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=d=>n=t?n:d,a=d=>r=i?r:d;if(e){const d=xo(n),p=xo(r);d<0&&p<0?a(0):d>0&&p>0&&o(0)}if(n===r){let d=r===0?1:Math.abs(r*.05);a(r+d),e||o(n-d)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=ON(n,r);return e.bounds==="ticks"&&mM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Am(e,this.chart.options.locale,this.options.ticks.format)}}class BN extends Iy{static id="linear";static defaults={ticks:{callback:Ky.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qn(e)?e:0,this.max=Qn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Hs(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const _m=s=>Math.floor(Xl(s)),uu=(s,e)=>Math.pow(10,_m(s)+e);function HC(s){return s/Math.pow(10,_m(s))===1}function GC(s,e,t){const i=Math.pow(10,t),n=Math.floor(s/i);return Math.ceil(e/i)-n}function jN(s,e){const t=e-s;let i=_m(t);for(;GC(s,e,i)>10;)i++;for(;GC(s,e,i)<10;)i--;return Math.min(i,_m(s))}function NN(s,{min:e,max:t}){e=ts(s.min,e);const i=[],n=_m(e);let r=jN(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),d=n>r?Math.pow(10,n):0,p=Math.round((e-d)*o)/o,g=Math.floor((e-d)/a/10)*a*10;let x=Math.floor((p-g)/Math.pow(10,r)),w=ts(s.min,Math.round((d+g+x*Math.pow(10,r))*o)/o);for(;w<t;)i.push({value:w,major:HC(w),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(r++,x=2,o=r>=0?1:o),w=Math.round((d+g+x*Math.pow(10,r))*o)/o;const S=ts(s.max,w);return i.push({value:S,major:HC(S),significand:x}),i}class $N extends Yu{static id="logarithmic";static defaults={ticks:{callback:Ky.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Iy.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Qn(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Qn(e)?Math.max(0,e):null,this.max=Qn(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Qn(this._userMin)&&(this.min=e===uu(this.min,0)?uu(this.min,-1):uu(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const r=a=>i=e?i:a,o=a=>n=t?n:a;i===n&&(i<=0?(r(1),o(10)):(r(uu(i,-1)),o(uu(n,1)))),i<=0&&r(uu(n,-1)),n<=0&&o(uu(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=NN(t,this);return e.bounds==="ticks"&&mM(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Am(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Xl(e),this._valueRange=Xl(this.max)-Xl(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Xl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function y0(s){const e=s.ticks;if(e.display&&s.display){const t=hr(e.backdropPadding);return oi(e.font&&e.font.size,Bn.font.size)+t.height}return 0}function VN(s,e,t){return t=On(t)?t:[t],{w:FF(s,e.string,t),h:t.length*e.lineHeight}}function UC(s,e,t,i,n){return s===i||s===n?{start:e-t/2,end:e+t/2}:s<i||s>n?{start:e-t,end:e}:{start:e,end:e+t}}function HN(s){const e={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},t=Object.assign({},e),i=[],n=[],r=s._pointLabels.length,o=s.options.pointLabels,a=o.centerPointLabels?Oi/r:0;for(let d=0;d<r;d++){const p=o.setContext(s.getPointLabelContext(d));n[d]=p.padding;const g=s.getPointPosition(d,s.drawingArea+n[d],a),x=Ta(p.font),w=VN(s.ctx,x,s._pointLabels[d]);i[d]=w;const S=ar(s.getIndexAngle(d)+a),E=Math.round(Fw(S)),M=UC(E,g.x,w.w,0,180),D=UC(E,g.y,w.h,90,270);GN(t,e,S,M,D)}s.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),s._pointLabelItems=XN(s,i,n)}function GN(s,e,t,i,n){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let a=0,d=0;i.start<e.l?(a=(e.l-i.start)/r,s.l=Math.min(s.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,s.r=Math.max(s.r,e.r+a)),n.start<e.t?(d=(e.t-n.start)/o,s.t=Math.min(s.t,e.t-d)):n.end>e.b&&(d=(n.end-e.b)/o,s.b=Math.max(s.b,e.b+d))}function UN(s,e,t){const i=s.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=t,d=s.getPointPosition(e,i+n+o,r),p=Math.round(Fw(ar(d.angle+oa))),g=ZN(d.y,a.h,p),x=qN(p),w=YN(d.x,a.w,x);return{visible:!0,x:d.x,y:g,textAlign:x,left:w,top:g,right:w+a.w,bottom:g+a.h}}function WN(s,e){if(!e)return!0;const{left:t,top:i,right:n,bottom:r}=s;return!(tl({x:t,y:i},e)||tl({x:t,y:r},e)||tl({x:n,y:i},e)||tl({x:n,y:r},e))}function XN(s,e,t){const i=[],n=s._pointLabels.length,r=s.options,{centerPointLabels:o,display:a}=r.pointLabels,d={extra:y0(r)/2,additionalAngle:o?Oi/n:0};let p;for(let g=0;g<n;g++){d.padding=t[g],d.size=e[g];const x=UN(s,g,d);i.push(x),a==="auto"&&(x.visible=WN(x,p),x.visible&&(p=x))}return i}function qN(s){return s===0||s===180?"center":s<180?"left":"right"}function YN(s,e,t){return t==="right"?s-=e:t==="center"&&(s-=e/2),s}function ZN(s,e,t){return t===90||t===270?s-=e/2:(t>270||t<90)&&(s-=e),s}function KN(s,e,t){const{left:i,top:n,right:r,bottom:o}=t,{backdropColor:a}=e;if(!Ci(a)){const d=Du(e.borderRadius),p=hr(e.backdropPadding);s.fillStyle=a;const g=i-p.left,x=n-p.top,w=r-i+p.width,S=o-n+p.height;Object.values(d).some(E=>E!==0)?(s.beginPath(),mm(s,{x:g,y:x,w,h:S,radius:d}),s.fill()):s.fillRect(g,x,w,S)}}function JN(s,e){const{ctx:t,options:{pointLabels:i}}=s;for(let n=e-1;n>=0;n--){const r=s._pointLabelItems[n];if(!r.visible)continue;const o=i.setContext(s.getPointLabelContext(n));KN(t,o,r);const a=Ta(o.font),{x:d,y:p,textAlign:g}=r;Gu(t,s._pointLabels[n],d,p+a.lineHeight/2,a,{color:o.color,textAlign:g,textBaseline:"middle"})}}function oP(s,e,t,i){const{ctx:n}=s;if(t)n.arc(s.xCenter,s.yCenter,e,0,Cn);else{let r=s.getPointPosition(0,e);n.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=s.getPointPosition(o,e),n.lineTo(r.x,r.y)}}function QN(s,e,t,i,n){const r=s.ctx,o=e.circular,{color:a,lineWidth:d}=e;!o&&!i||!a||!d||t<0||(r.save(),r.strokeStyle=a,r.lineWidth=d,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),oP(s,t,o,i),r.closePath(),r.stroke(),r.restore())}function e5(s,e,t){return fh(s,{label:t,index:e,type:"pointLabel"})}class t5 extends Iy{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ky.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=hr(y0(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Qn(e)&&!isNaN(e)?e:0,this.max=Qn(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/y0(this.options))}generateTickLabels(e){Iy.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const n=yn(this.options.pointLabels.callback,[t,i],this);return n||n===0?n:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?HN(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){const t=Cn/(this._pointLabels.length||1),i=this.options.startAngle||0;return ar(e*t+Hs(i))}getDistanceFromCenterForValue(e){if(Ci(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ci(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return e5(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const n=this.getIndexAngle(e)-oa+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),oP(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:n,border:r}=t,o=this._pointLabels.length;let a,d,p;if(t.pointLabels.display&&JN(this,o),n.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){d=this.getDistanceFromCenterForValue(g.value);const w=this.getContext(x),S=n.setContext(w),E=r.setContext(w);QN(this,S,d,o,E)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const g=i.setContext(this.getPointLabelContext(a)),{color:x,lineWidth:w}=g;!w||!x||(e.lineWidth=w,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),p=this.getPointPosition(a,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,d)=>{if(d===0&&this.min>=0&&!t.reverse)return;const p=i.setContext(this.getContext(d)),g=Ta(p.font);if(r=this.getDistanceFromCenterForValue(this.ticks[d].value),p.showLabelBackdrop){e.font=g.string,o=e.measureText(a.label).width,e.fillStyle=p.backdropColor;const x=hr(p.backdropPadding);e.fillRect(-o/2-x.left,-r-g.size/2-x.top,o+x.width,g.size+x.height)}Gu(e,a.label,0,-r,g,{color:p.color,strokeColor:p.textStrokeColor,strokeWidth:p.textStrokeWidth})}),e.restore()}drawTitle(){}}const ax={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Or=Object.keys(ax);function WC(s,e){return s-e}function XC(s,e){if(Ci(e))return null;const t=s._adapter,{parser:i,round:n,isoWeekday:r}=s._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Qn(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(n&&(o=n==="week"&&(Ld(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,n)),+o)}function qC(s,e,t,i){const n=Or.length;for(let r=Or.indexOf(s);r<n-1;++r){const o=ax[Or[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return Or[r]}return Or[n-1]}function i5(s,e,t,i,n){for(let r=Or.length-1;r>=Or.indexOf(t);r--){const o=Or[r];if(ax[o].common&&s._adapter.diff(n,i,o)>=e-1)return o}return Or[t?Or.indexOf(t):0]}function n5(s){for(let e=Or.indexOf(s)+1,t=Or.length;e<t;++e)if(ax[Or[e]].common)return Or[e]}function YC(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:i,hi:n}=Ow(t,e),r=t[i]>=e?t[i]:t[n];s[r]=!0}}function a5(s,e,t,i){const n=s._adapter,r=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,d;for(a=r;a<=o;a=+n.add(a,1,i))d=t[a],d>=0&&(e[d].major=!0);return e}function ZC(s,e,t){const i=[],n={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return r===0||!t?i:a5(s,i,n,t)}class x0 extends Yu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new rB._date(e.adapters.date);n.init(t),qp(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:XC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function d(p){!o&&!isNaN(p.min)&&(n=Math.min(n,p.min)),!a&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!o||!a)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),n=Qn(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),r=Qn(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=kF(n,r,o);return this._unit=t.unit||(i.autoSkip?qC(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):i5(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:n5(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),ZC(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,n,r;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Ra(t,0,o),i=Ra(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||qC(r.minUnit,t,i,this._getLabelCapacity(t)),a=oi(n.ticks.stepSize,1),d=o==="week"?r.isoWeekday:!1,p=Ld(d)||d===!0,g={};let x=t,w,S;if(p&&(x=+e.startOf(x,"isoWeek",d)),x=+e.startOf(x,p?"day":o),e.diff(i,t,o)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+o);const E=n.ticks.source==="data"&&this.getDataTimestamps();for(w=x,S=0;w<i;w=+e.add(w,a,o),S++)YC(g,w,E);return(w===i||n.bounds==="ticks"||S===1)&&YC(g,w,E),Object.keys(g).sort(WC).map(M=>+M)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,o=t||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,n){const r=this.options,o=r.ticks.callback;if(o)return yn(o,[e,t,i],this);const a=r.time.displayFormats,d=this._unit,p=this._majorUnit,g=d&&a[d],x=p&&a[p],w=i[t],S=p&&x&&w&&w.major;return this._adapter.format(e,n||(S?x:g))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=Hs(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,ZC(this,[e],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,i=n.length;t<i;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(XC(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yM(e.sort(WC))}}function B_(s,e,t){let i=0,n=s.length-1,r,o,a,d;t?(e>=s[i].pos&&e<=s[n].pos&&({lo:i,hi:n}=el(s,"pos",e)),{pos:r,time:a}=s[i],{pos:o,time:d}=s[n]):(e>=s[i].time&&e<=s[n].time&&({lo:i,hi:n}=el(s,"time",e)),{time:r,pos:a}=s[i],{time:o,pos:d}=s[n]);const p=o-r;return p?a+(d-a)*(e-r)/p:a}class r5 extends x0{static id="timeseries";static defaults=x0.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=B_(t,this.min),this._tableRange=B_(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],r=[];let o,a,d,p,g;for(o=0,a=e.length;o<a;++o)p=e[o],p>=t&&p<=i&&n.push(p);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)g=n[o+1],d=n[o-1],p=n[o],Math.round((g+d)/2)!==p&&r.push({time:p,pos:o/(a-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(B_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return B_(this._table,i*this._tableRange+this._minPos,!0)}}var s5=Object.freeze({__proto__:null,CategoryScale:FN,LinearScale:BN,LogarithmicScale:$N,RadialLinearScale:t5,TimeScale:x0,TimeSeriesScale:r5});const o5=[aB,Oj,IN,s5];qw.register(...o5);function v0(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,i=Array(e);t<e;t++)i[t]=s[t];return i}function lP(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Ct(s,e){if(!(s instanceof e))throw new TypeError("Cannot call a class as a function")}function KC(s,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,cP(i.key),i)}}function At(s,e,t){return e&&KC(s.prototype,e),t&&KC(s,t),Object.defineProperty(s,"prototype",{writable:!1}),s}function Dp(s,e){var t=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=Zw(s))||e){t&&(s=t);var i=0,n=function(){};return{s:n,n:function(){return i>=s.length?{done:!0}:{done:!1,value:s[i++]}},e:function(d){throw d},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,o=!0,a=!1;return{s:function(){t=t.call(s)},n:function(){var d=t.next();return o=d.done,d},e:function(d){a=!0,r=d},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw r}}}}function Mm(s){var e=hP();return function(){var t,i=zy(s);if(e){var n=zy(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return(function(r,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lP(r)})(this,t)}}function Dy(s,e,t){return(e=cP(e))in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function zy(s){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zy(s)}function Pm(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&b0(s,e)}function hP(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(hP=function(){return!!s})()}function JC(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);e&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable}))),t.push.apply(t,i)}return t}function gt(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach((function(i){Dy(s,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach((function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(t,i))}))}return s}function b0(s,e){return b0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},b0(s,e)}function uP(s,e){return(function(t){if(Array.isArray(t))return t})(s)||(function(t,i){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,a,d,p=[],g=!0,x=!1;try{if(a=(n=n.call(t)).next,i===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(r=a.call(n)).done)&&(p.push(r.value),p.length!==i);g=!0);}catch(w){x=!0,o=w}finally{try{if(!g&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(x)throw o}}return p}})(s,e)||Zw(s,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Ca(s){return(function(e){if(Array.isArray(e))return v0(e)})(s)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(s)||Zw(s)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function cP(s){var e=(function(t,i){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)})(s,"string");return typeof e=="symbol"?e:e+""}function vr(s){return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(s)}function Zw(s,e){if(s){if(typeof s=="string")return v0(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v0(s,e):void 0}}var De=(function(){function s(){Ct(this,s)}return At(s,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),n=e<0?0:255,r=e<0?-1*e:e,o=parseInt(i[0].slice(4),10),a=parseInt(i[1],10),d=parseInt(i[2],10);return"rgb("+(Math.round((n-o)*r)+o)+","+(Math.round((n-a)*r)+a)+","+(Math.round((n-d)*r)+d)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),n=e<0?0:255,r=e<0?-1*e:e,o=i>>16,a=i>>8&255,d=255&i;return"#"+(16777216+65536*(Math.round((n-o)*r)+o)+256*(Math.round((n-a)*r)+a)+(Math.round((n-d)*r)+d)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return s.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&vr(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),a=1;a<arguments.length;a++){var d=arguments[a];if(d!=null)for(var p in d)d.hasOwnProperty(p)&&(o[p]=d[p])}return o});var n=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(r){i.isObject(t[r])&&r in e?n[r]=i.extend(e[r],t[r]):Object.assign(n,Dy({},r,t[r]))})),n}},{key:"extendArray",value:function(e,t){var i=[];return e.map((function(n){i.push(s.extend(t,n))})),e=i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||vr(e)!=="object")return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){t=[],i.set(e,t);for(var n=0;n<e.length;n++)t[n]=this.clone(e[n],i)}else if(e instanceof Date)t=new Date(e.getTime());else for(var r in t={},i.set(e,t),e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r],i));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&s.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return s.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,i=e.getRootNode&&e.getRootNode();if(i&&i!==document&&i.host){var n=i.host.getBoundingClientRect();return[n.width,n.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var r=e.clientHeight,o=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[o-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,i){return Array.isArray(i)&&(i=i.reduce((function(n,r){return n.length>r.length?n:r}))),t.length>i.length?t:i}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var n=0;n<i.length;n++)i[n]=parseInt(i[n].length===1?i[n]+i[n]:i[n],16);return t!==void 0&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],n=2*Math.PI/t,r=0;r<t;r++){var o={};o.x=e*Math.sin(r*n),o.y=-e*Math.cos(r*n),i.push(o)}return i}},{key:"polarToCartesian",value:function(e,t,i,n){var r=(n-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=e.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var n=i-e.length+1;n--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"preciseAddition",value:function(e,t){var i=(String(e).split(".")[1]||"").length,n=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(i,n));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,n=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));for(n>1?(e=Math.round(Math.abs(e)*n),t=Math.round(Math.abs(t)*n)):n=1;t;){var r=t;t=e%t,e=r}return e/n}},{key:"getPrimeFactors",value:function(e){for(var t=[],i=2;e>=2;)e%i==0?(t.push(i),e/=i):i++;return t}},{key:"mod",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,n=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*n))%(t=Math.round(Math.abs(t)*n))/n}}]),s})(),Od=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"animateLine",value:function(e,t,i,n){e.attr(t).animate(n).attr(i)}},{key:"animateMarker",value:function(e,t,i,n){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){n()}))}},{key:"animateRect",value:function(e,t,i,n,r){e.attr(t).animate(n).attr(i).after((function(){return r()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,i=e.realIndex,n=e.j,r=e.fill,o=e.pathFrom,a=e.pathTo,d=e.speed,p=e.delay,g=this.w,x=0;g.config.chart.animations.animateGradually.enabled&&(x=g.config.chart.animations.animateGradually.delay),g.config.chart.animations.dynamicAnimation.enabled&&g.globals.dataChanged&&g.config.chart.type!=="bar"&&(x=0),this.morphSVG(t,i,n,g.config.chart.type!=="line"||g.globals.comboCharts?r:"stroke",o,a,d,p*x)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,n,r,o,a,d){var p=this,g=this.w;r||(r=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var x=function(w){return g.config.chart.type==="radar"&&(a=1),"M 0 ".concat(g.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=x()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=x()),g.globals.shouldAnimate||(a=1),e.plot(r).animate(1,d).plot(r).animate(a,d).plot(o).after((function(){De.isNumber(i)?i===g.globals.series[g.globals.maxValsInArrayIndex].length-2&&g.globals.shouldAnimate&&p.animationCompleted(e):n!=="none"&&g.globals.shouldAnimate&&(!g.globals.comboCharts&&t===g.globals.series.length-1||g.globals.comboCharts)&&p.animationCompleted(e),p.showDelayedElements()}))}}]),s})();const w0={},dP=[];function di(s,e){if(Array.isArray(s))for(const t of s)di(t,e);else if(typeof s!="object")fP(Object.getOwnPropertyNames(e)),w0[s]=Object.assign(w0[s]||{},e);else for(const t in s)di(t,s[t])}function Rr(s){return w0[s]||{}}function fP(s){dP.push(...s)}function Kw(s,e){let t;const i=s.length,n=[];for(t=0;t<i;t++)n.push(e(s[t]));return n}function gb(s){return s%360*Math.PI/180}function Bd(s){return s.charAt(0).toUpperCase()+s.slice(1)}function jd(s,e,t,i){return e!=null&&t!=null||(i=i||s.bbox(),e==null?e=i.width/i.height*t:t==null&&(t=i.height/i.width*e)),{width:e,height:t}}function k0(s,e){const t=s.origin;let i=s.ox!=null?s.ox:s.originX!=null?s.originX:"center",n=s.oy!=null?s.oy:s.originY!=null?s.originY:"center";t!=null&&([i,n]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const r=typeof i=="string",o=typeof n=="string";if(r||o){const{height:a,width:d,x:p,y:g}=e.bbox();r&&(i=i.includes("left")?p:i.includes("right")?p+d:p+d/2),o&&(n=n.includes("top")?g:n.includes("bottom")?g+a:g+a/2)}return[i,n]}const l5=new Set(["desc","metadata","title"]),S0=s=>l5.has(s.nodeName),pP=(s,e,t={})=>{const i={...e};for(const n in i)i[n].valueOf()===t[n]&&delete i[n];Object.keys(i).length?s.node.setAttribute("data-svgjs",JSON.stringify(i)):(s.node.removeAttribute("data-svgjs"),s.node.removeAttribute("svgjs:data"))},Jw="http://www.w3.org/2000/svg",_b="http://www.w3.org/2000/xmlns/",Nd="http://www.w3.org/1999/xlink",Di={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Lm(){return Di.window}let Qw=class{};const Ru={},e1="___SYMBOL___ROOT___";function ym(s,e=Jw){return Di.document.createElementNS(e,s)}function kr(s,e=!1){if(s instanceof Qw)return s;if(typeof s=="object")return yb(s);if(s==null)return new Ru[e1];if(typeof s=="string"&&s.charAt(0)!=="<")return yb(Di.document.querySelector(s));const t=e?Di.document.createElement("div"):ym("svg");return t.innerHTML=s,s=yb(t.firstChild),t.removeChild(t.firstChild),s}function nn(s,e){return e&&(e instanceof Di.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:ym(s)}function Ss(s){if(!s)return null;if(s.instance instanceof Qw)return s.instance;if(s.nodeName==="#document-fragment")return new Ru.Fragment(s);let e=Bd(s.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ru[e]||(e="Dom"),new Ru[e](s)}let yb=Ss;function zi(s,e=s.name,t=!1){return Ru[e]=s,t&&(Ru[e1]=s),fP(Object.getOwnPropertyNames(s.prototype)),s}let h5=1e3;function mP(s){return"Svgjs"+Bd(s)+h5++}function gP(s){for(let e=s.children.length-1;e>=0;e--)gP(s.children[e]);return s.id&&(s.id=mP(s.nodeName)),s}function Kt(s,e){let t,i;for(i=(s=Array.isArray(s)?s:[s]).length-1;i>=0;i--)for(t in e)s[i].prototype[t]=e[t]}function tn(s){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?s.apply(this,e):s.apply(this,e.slice(0,-1)).attr(t)}}di("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const s=this.position();return this.parent().add(this.remove(),s+1),this},backward:function(){const s=this.position();return this.parent().add(this.remove(),s?s-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(s){(s=kr(s)).remove();const e=this.position();return this.parent().add(s,e),this},after:function(s){(s=kr(s)).remove();const e=this.position();return this.parent().add(s,e+1),this},insertBefore:function(s){return(s=kr(s)).before(this),this},insertAfter:function(s){return(s=kr(s)).after(this),this}});const _P=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,u5=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,c5=/rgb\((\d+),(\d+),(\d+)\)/,d5=/(#[a-z_][a-z0-9\-_]*)/i,f5=/\)\s*,?\s*/,p5=/\s/g,QC=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,e2=/^rgb\(/,t2=/^(\s+)?$/,i2=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m5=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,ll=/[\s,]+/,t1=/[MLHVCSQTAZ]/i;function g5(s){const e=Math.round(s),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function od(s,e){for(let t=e.length;t--;)if(s[e[t]]==null)return!1;return!0}function xb(s,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?s+6*(e-s)*t:t<.5?e:t<2/3?s+(e-s)*(2/3-t)*6:s}di("Dom",{classes:function(){const s=this.attr("class");return s==null?[]:s.trim().split(ll)},hasClass:function(s){return this.classes().indexOf(s)!==-1},addClass:function(s){if(!this.hasClass(s)){const e=this.classes();e.push(s),this.attr("class",e.join(" "))}return this},removeClass:function(s){return this.hasClass(s)&&this.attr("class",this.classes().filter((function(e){return e!==s})).join(" ")),this},toggleClass:function(s){return this.hasClass(s)?this.removeClass(s):this.addClass(s)}}),di("Dom",{css:function(s,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(i){return!!i.length})).forEach((function(i){const n=i.split(/\s*:\s*/);t[n[0]]=n[1]})),t;if(arguments.length<2){if(Array.isArray(s)){for(const i of s){const n=i;t[i]=this.node.style.getPropertyValue(n)}return t}if(typeof s=="string")return this.node.style.getPropertyValue(s);if(typeof s=="object")for(const i in s)this.node.style.setProperty(i,s[i]==null||t2.test(s[i])?"":s[i])}return arguments.length===2&&this.node.style.setProperty(s,e==null||t2.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),di("Dom",{data:function(s,e,t){if(s==null)return this.data(Kw((function(i,n){let r;const o=i.length,a=[];for(r=0;r<o;r++)n(i[r])&&a.push(i[r]);return a})(this.node.attributes,(i=>i.nodeName.indexOf("data-")===0)),(i=>i.nodeName.slice(5))));if(s instanceof Array){const i={};for(const n of s)i[n]=this.data(n);return i}if(typeof s=="object")for(e in s)this.data(e,s[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+s))}catch{return this.attr("data-"+s)}else this.attr("data-"+s,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),di("Dom",{remember:function(s,e){if(typeof arguments[0]=="object")for(const t in s)this.remember(t,s[t]);else{if(arguments.length===1)return this.memory()[s];this.memory()[s]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let s=arguments.length-1;s>=0;s--)delete this.memory()[arguments[s]];return this},memory:function(){return this._memory=this._memory||{}}});class Zi{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Zi||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:i,round:n,sin:r,PI:o}=Math;if(e==="vibrant"){const a=24*i()+57,d=38*i()+45,p=360*i();return new Zi(a,d,p,"lch")}if(e==="sine"){const a=n(80*r(2*o*(t=t??i())/.5+.01)+150),d=n(50*r(2*o*t/.5+4.6)+200),p=n(100*r(2*o*t/.5+2.3)+150);return new Zi(a,d,p)}if(e==="pastel"){const a=8*i()+86,d=17*i()+9,p=360*i();return new Zi(a,d,p,"lch")}if(e==="dark"){const a=10+10*i(),d=50*i()+86,p=360*i();return new Zi(a,d,p,"lch")}if(e==="rgb"){const a=255*i(),d=255*i(),p=255*i();return new Zi(a,d,p)}if(e==="lab"){const a=100*i(),d=256*i()-128,p=256*i()-128;return new Zi(a,d,p,"lab")}if(e==="grey"){const a=255*i();return new Zi(a,a,a)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(QC.test(e)||e2.test(e))}cmyk(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((d=>d/255)),a=Math.min(1-n,1-r,1-o);return a===1?new Zi(0,0,0,1,"cmyk"):new Zi((1-n-a)/(1-a),(1-r-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((w=>w/255)),a=Math.max(n,r,o),d=Math.min(n,r,o),p=(a+d)/2,g=a===d,x=a-d;return new Zi(360*(g?0:a===n?((r-o)/x+(r<o?6:0))/6:a===r?((o-n)/x+2)/6:a===o?((n-r)/x+4)/6:0),100*(g?0:p>.5?x/(2-a-d):x/(a+d)),100*p,"hsl")}init(e=0,t=0,i=0,n=0,r="rgb"){if(e=e||0,this.space)for(const x in this.space)delete this[this.space[x]];if(typeof e=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:e,_b:t,_c:i,_d:n,space:r});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const x=(function(w,S){const E=od(w,"rgb")?{_a:w.r,_b:w.g,_c:w.b,_d:0,space:"rgb"}:od(w,"xyz")?{_a:w.x,_b:w.y,_c:w.z,_d:0,space:"xyz"}:od(w,"hsl")?{_a:w.h,_b:w.s,_c:w.l,_d:0,space:"hsl"}:od(w,"lab")?{_a:w.l,_b:w.a,_c:w.b,_d:0,space:"lab"}:od(w,"lch")?{_a:w.l,_b:w.c,_c:w.h,_d:0,space:"lch"}:od(w,"cmyk")?{_a:w.c,_b:w.m,_c:w.y,_d:w.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return E.space=S||E.space,E})(e,t);Object.assign(this,x)}else if(typeof e=="string")if(e2.test(e)){const x=e.replace(p5,""),[w,S,E]=c5.exec(x).slice(1,4).map((M=>parseInt(M)));Object.assign(this,{_a:w,_b:S,_c:E,_d:0,space:"rgb"})}else{if(!QC.test(e))throw Error("Unsupported string format, can't construct Color");{const x=M=>parseInt(M,16),[,w,S,E]=u5.exec((function(M){return M.length===4?["#",M.substring(1,2),M.substring(1,2),M.substring(2,3),M.substring(2,3),M.substring(3,4),M.substring(3,4)].join(""):M})(e)).map(x);Object.assign(this,{_a:w,_b:S,_c:E,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:d,_d:p}=this,g=this.space==="rgb"?{r:o,g:a,b:d}:this.space==="xyz"?{x:o,y:a,z:d}:this.space==="hsl"?{h:o,s:a,l:d}:this.space==="lab"?{l:o,a,b:d}:this.space==="lch"?{l:o,c:a,h:d}:this.space==="cmyk"?{c:o,m:a,y:d,k:p}:{};Object.assign(this,g)}lab(){const{x:e,y:t,z:i}=this.xyz();return new Zi(116*t-16,500*(e-t),200*(t-i),"lab")}lch(){const{l:e,a:t,b:i}=this.lab(),n=Math.sqrt(t**2+i**2);let r=180*Math.atan2(i,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new Zi(e,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:i,z:n}=this;if(this.space==="lab"||this.space==="lch"){let{l:S,a:E,b:M}=this;if(this.space==="lch"){const{c:Q,h:Y}=this,te=Math.PI/180;E=Q*Math.cos(te*Y),M=Q*Math.sin(te*Y)}const D=(S+16)/116,O=E/500+D,N=D-M/200,H=16/116,X=.008856,U=7.787;t=.95047*(O**3>X?O**3:(O-H)/U),i=1*(D**3>X?D**3:(D-H)/U),n=1.08883*(N**3>X?N**3:(N-H)/U)}const r=3.2406*t+-1.5372*i+-.4986*n,o=-.9689*t+1.8758*i+.0415*n,a=.0557*t+-.204*i+1.057*n,d=Math.pow,p=.0031308,g=r>p?1.055*d(r,1/2.4)-.055:12.92*r,x=o>p?1.055*d(o,1/2.4)-.055:12.92*o,w=a>p?1.055*d(a,1/2.4)-.055:12.92*a;return new Zi(255*g,255*x,255*w)}if(this.space==="hsl"){let{h:t,s:i,l:n}=this;if(t/=360,i/=100,n/=100,i===0)return n*=255,new Zi(n,n,n);const r=n<.5?n*(1+i):n+i-n*i,o=2*n-r,a=255*xb(o,r,t+1/3),d=255*xb(o,r,t),p=255*xb(o,r,t-1/3);return new Zi(a,d,p)}if(this.space==="cmyk"){const{c:t,m:i,y:n,k:r}=this,o=255*(1-Math.min(1,t*(1-r)+r)),a=255*(1-Math.min(1,i*(1-r)+r)),d=255*(1-Math.min(1,n*(1-r)+r));return new Zi(o,a,d)}return this;var e}toArray(){const{_a:e,_b:t,_c:i,_d:n,space:r}=this;return[e,t,i,n,r]}toHex(){const[e,t,i]=this._clamped().map(g5);return`#${e}${t}${i}`}toRgb(){const[e,t,i]=this._clamped();return`rgb(${e},${t},${i})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((D=>D/255)),a=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,d=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,p=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,g=(.4124*a+.3576*d+.1805*p)/.95047,x=(.2126*a+.7152*d+.0722*p)/1,w=(.0193*a+.1192*d+.9505*p)/1.08883,S=g>.008856?Math.pow(g,1/3):7.787*g+16/116,E=x>.008856?Math.pow(x,1/3):7.787*x+16/116,M=w>.008856?Math.pow(w,1/3):7.787*w+16/116;return new Zi(S,E,M,"xyz")}_clamped(){const{_a:e,_b:t,_c:i}=this.rgb(),{max:n,min:r,round:o}=Math;return[e,t,i].map((a=>n(0,r(o(a),255))))}}class Ni{constructor(...e){this.init(...e)}clone(){return new Ni(this)}init(e,t){const r=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=r.x==null?0:r.x,this.y=r.y==null?0:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Wt.isMatrixLike(e)||(e=new Wt(e));const{x:t,y:i}=this;return this.x=e.a*t+e.c*i+e.e,this.y=e.b*t+e.d*i+e.f,this}}function ld(s,e,t){return Math.abs(e-s)<1e-6}class Wt{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,i=e.flip&&(t||e.flip==="x")?-1:1,n=e.flip&&(t||e.flip==="y")?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleX)?e.scaleX*i:i,d=e.scale&&e.scale.length?e.scale[1]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleY)?e.scaleY*n:n,p=e.shear||0,g=e.rotate||e.theta||0,x=new Ni(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),w=x.x,S=x.y,E=new Ni(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),M=E.x,D=E.y,O=new Ni(e.translate||e.tx||e.translateX,e.ty||e.translateY),N=O.x,H=O.y,X=new Ni(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:a,scaleY:d,skewX:r,skewY:o,shear:p,theta:g,rx:X.x,ry:X.y,tx:N,ty:H,ox:w,oy:S,px:M,py:D}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,i){const n=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,a=e.b*t.c+e.d*t.d,d=e.e+e.a*t.e+e.c*t.f,p=e.f+e.b*t.e+e.d*t.f;return i.a=n,i.b=r,i.c=o,i.d=a,i.e=d,i.f=p,i}around(e,t,i){return this.clone().aroundO(e,t,i)}aroundO(e,t,i){const n=e||0,r=t||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new Wt(this)}decompose(e=0,t=0){const i=this.a,n=this.b,r=this.c,o=this.d,a=this.e,d=this.f,p=i*o-n*r,g=p>0?1:-1,x=g*Math.sqrt(i*i+n*n),w=Math.atan2(g*n,g*i),S=180/Math.PI*w,E=Math.cos(w),M=Math.sin(w),D=(i*r+n*o)/p,O=r*x/(D*i-n)||o*x/(D*n+i);return{scaleX:x,scaleY:O,shear:D,rotate:S,translateX:a-e+e*E*x+t*(D*E*x-M*O),translateY:d-t+e*M*x+t*(D*M*x+E*O),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Wt(e);return ld(this.a,t.a)&&ld(this.b,t.b)&&ld(this.c,t.c)&&ld(this.d,t.d)&&ld(this.e,t.e)&&ld(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Wt.fromArray([1,0,0,1,0,0]);return e=e instanceof qa?e.matrixify():typeof e=="string"?Wt.fromArray(e.split(ll).map(parseFloat)):Array.isArray(e)?Wt.fromArray(e):typeof e=="object"&&Wt.isMatrixLike(e)?e:typeof e=="object"?new Wt().transform(e):arguments.length===6?Wt.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,i=this.c,n=this.d,r=this.e,o=this.f,a=e*n-t*i;if(!a)throw new Error("Cannot invert "+this);const d=n/a,p=-t/a,g=-i/a,x=e/a,w=-(d*r+g*o),S=-(p*r+x*o);return this.a=d,this.b=p,this.c=g,this.d=x,this.e=w,this.f=S,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Wt?e:new Wt(e);return Wt.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Wt?e:new Wt(e);return Wt.matrixMultiply(this,t,this)}rotate(e,t,i){return this.clone().rotateO(e,t,i)}rotateO(e,t=0,i=0){e=gb(e);const n=Math.cos(e),r=Math.sin(e),{a:o,b:a,c:d,d:p,e:g,f:x}=this;return this.a=o*n-a*r,this.b=a*n+o*r,this.c=d*n-p*r,this.d=p*n+d*r,this.e=g*n-x*r+i*r-t*n+t,this.f=x*n+g*r-t*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,i=0,n=0){arguments.length===3&&(n=i,i=t,t=e);const{a:r,b:o,c:a,d,e:p,f:g}=this;return this.a=r*e,this.b=o*t,this.c=a*e,this.d=d*t,this.e=p*e-i*e+i,this.f=g*t-n*t+n,this}shear(e,t,i){return this.clone().shearO(e,t,i)}shearO(e,t=0,i=0){const{a:n,b:r,c:o,d:a,e:d,f:p}=this;return this.a=n+r*e,this.c=o+a*e,this.e=d+p*e-i*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,i=0,n=0){arguments.length===3&&(n=i,i=t,t=e),e=gb(e),t=gb(t);const r=Math.tan(e),o=Math.tan(t),{a,b:d,c:p,d:g,e:x,f:w}=this;return this.a=a+d*r,this.b=d+a*o,this.c=p+g*r,this.d=g+p*o,this.e=x+w*r-n*r,this.f=w+x*o-i*o,this}skewX(e,t,i){return this.skew(e,0,t,i)}skewY(e,t,i){return this.skew(0,e,t,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Wt.isMatrixLike(e))return new Wt(e).multiplyO(this);const t=Wt.formatTransforms(e),{x:i,y:n}=new Ni(t.ox,t.oy).transform(this),r=new Wt().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-i,-n).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(i,n);if(isFinite(t.px)||isFinite(t.py)){const o=new Ni(i,n).transform(r),a=isFinite(t.px)?t.px-o.x:0,d=isFinite(t.py)?t.py-o.y:0;r.translateO(a,d)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Nl(){if(!Nl.nodes){const s=kr().size(2,0);s.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),s.attr("focusable","false"),s.attr("aria-hidden","true");const e=s.path().node;Nl.nodes={svg:s,path:e}}if(!Nl.nodes.svg.node.parentNode){const s=Di.document.body||Di.document.documentElement;Nl.nodes.svg.addTo(s)}return Nl.nodes}function yP(s){return!(s.width||s.height||s.x||s.y)}zi(Wt,"Matrix");class ea{constructor(...e){this.init(...e)}addOffset(){return this.x+=Di.window.pageXOffset,this.y+=Di.window.pageYOffset,new ea(this)}init(e){return e=typeof e=="string"?e.split(ll).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return yP(this)}merge(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-i;return new ea(t,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Wt||(e=new Wt(e));let t=1/0,i=-1/0,n=1/0,r=-1/0;return[new Ni(this.x,this.y),new Ni(this.x2,this.y),new Ni(this.x,this.y2),new Ni(this.x2,this.y2)].forEach((function(o){o=o.transform(e),t=Math.min(t,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y)})),new ea(t,n,i-t,r-n)}}function n2(s,e,t){let i;try{if(i=e(s.node),yP(i)&&(n=s.node)!==Di.document&&!(Di.document.documentElement.contains||function(r){for(;r.parentNode;)r=r.parentNode;return r===Di.document}).call(Di.document.documentElement,n))throw new Error("Element not in the dom")}catch{i=t(s)}var n;return i}di({viewbox:{viewbox(s,e,t,i){return s==null?new ea(this.attr("viewBox")):this.attr("viewBox",new ea(s,e,t,i))},zoom(s,e){let{width:t,height:i}=this.attr(["width","height"]);if((t||i)&&typeof t!="string"&&typeof i!="string"||(t=this.node.clientWidth,i=this.node.clientHeight),!t||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=t/n.width,o=i/n.height,a=Math.min(r,o);if(s==null)return a;let d=a/s;d===1/0&&(d=Number.MAX_SAFE_INTEGER/100),e=e||new Ni(t/2/r+n.x,i/2/o+n.y);const p=new ea(n).transform(new Wt({scale:d,origin:e}));return this.viewbox(p)}}}),zi(ea,"Box");class Uu extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Kt([Uu],{each(s,...e){return typeof s=="function"?this.map(((t,i,n)=>s.call(t,t,i,n))):this.map((t=>t[s](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const _5=["toArray","constructor","each"];function Zu(s,e){return new Uu(Kw((e||Di.document).querySelectorAll(s),(function(t){return Ss(t)})))}Uu.extend=function(s){s=s.reduce(((e,t)=>(_5.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...i){return this.each(t,...i)}),e)),{}),Kt([Uu],s)};let y5=0;const xP={};function vP(s){let e=s.getEventHolder();return e===Di.window&&(e=xP),e.events||(e.events={}),e.events}function i1(s){return s.getEventTarget()}function il(s,e,t,i,n){const r=t.bind(i||s),o=kr(s),a=vP(o),d=i1(o);e=Array.isArray(e)?e:e.split(ll),t._svgjsListenerId||(t._svgjsListenerId=++y5),e.forEach((function(p){const g=p.split(".")[0],x=p.split(".")[1]||"*";a[g]=a[g]||{},a[g][x]=a[g][x]||{},a[g][x][t._svgjsListenerId]=r,d.addEventListener(g,r,n||!1)}))}function Ps(s,e,t,i){const n=kr(s),r=vP(n),o=i1(n);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(ll)).forEach((function(a){const d=a&&a.split(".")[0],p=a&&a.split(".")[1];let g,x;if(t)r[d]&&r[d][p||"*"]&&(o.removeEventListener(d,r[d][p||"*"][t],i||!1),delete r[d][p||"*"][t]);else if(d&&p){if(r[d]&&r[d][p]){for(x in r[d][p])Ps(o,[d,p].join("."),x);delete r[d][p]}}else if(p)for(a in r)for(g in r[a])p===g&&Ps(o,[a,p].join("."));else if(d){if(r[d]){for(g in r[d])Ps(o,[d,g].join("."));delete r[d]}}else{for(a in r)Ps(o,a);(function(w){let S=w.getEventHolder();S===Di.window&&(S=xP),S.events&&(S.events={})})(n)}}))}class Em extends Qw{addEventListener(){}dispatch(e,t,i){return(function(n,r,o,a){const d=i1(n);return r instanceof Di.window.Event||(r=new Di.window.CustomEvent(r,{detail:o,cancelable:!0,...a})),d.dispatchEvent(r),r})(this,e,t,i)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const i=t[e.type];for(const n in i)for(const r in i[n])i[n][r](e);return!e.defaultPrevented}fire(e,t,i){return this.dispatch(e,t,i),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,i){return Ps(this,e,t,i),this}on(e,t,i,n){return il(this,e,t,i,n),this}removeEventListener(){}}function a2(){}zi(Em,"EventTarget");const vb=400,x5=">",v5=0,b5={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Wu extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(ll).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class si{constructor(...e){this.init(...e)}convert(e){return new si(this.value,e)}divide(e){return e=new si(e),new si(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(_P))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof si&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new si(e),new si(this-e,this.unit||e.unit)}plus(e){return e=new si(e),new si(this+e,this.unit||e.unit)}times(e){return e=new si(e),new si(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const w5=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),bP=[];class oh extends Em{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=kr(e)).removeNamespace&&this.node instanceof Di.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return kr(e).put(this,t)}children(){return new Uu(Kw(this.node.children,(function(e){return Ss(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let i=this.node.cloneNode(e);return t&&(i=gP(i)),new this.constructor(i)}each(e,t){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)e.apply(i[n],[n,i]),t&&i[n].each(e,t);return this}element(e,t){return this.put(new oh(ym(e),t))}first(){return Ss(this.node.firstChild)}get(e){return Ss(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=mP(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ss(this.node.lastChild)}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Ss(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Ss(t.node.parentNode));return t}put(e,t){return e=kr(e),this.add(e,t),e}putIn(e,t){return kr(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=kr(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const i=10**e,n=this.attr(t);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(e,t){return this.xml(e,t,Jw)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const i=t.index(this);return t.put(e,i).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let a=this;if(e!=null){if(a=Ss(a.node.cloneNode(!0)),t){const d=e(a);if(a=d||a,d===!1)return""}a.each((function(){const d=e(this),p=d||this;d===!1?this.remove():d&&this!==p&&this.replace(p)}),!0)}return t?a.node.outerHTML:a.node.innerHTML}t=t!=null&&t;const n=ym("wrapper",i),r=Di.document.createDocumentFragment();n.innerHTML=e;for(let a=n.children.length;a--;)r.appendChild(n.firstElementChild);const o=this.parent();return t?this.replace(r)&&o:this.add(r)}}Kt(oh,{attr:function(s,e,t){if(s==null){s={},e=this.node.attributes;for(const i of e)s[i.nodeName]=i2.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return s}if(s instanceof Array)return s.reduce(((i,n)=>(i[n]=this.attr(n),i)),{});if(typeof s=="object"&&s.constructor===Object)for(e in s)this.attr(e,s[e]);else if(e===null)this.node.removeAttribute(s);else{if(e==null)return(e=this.node.getAttribute(s))==null?b5[s]:i2.test(e)?parseFloat(e):e;typeof(e=bP.reduce(((i,n)=>n(s,i,this)),e))=="number"?e=new si(e):w5.has(s)&&Zi.isColor(e)?e=new Zi(e):e.constructor===Array&&(e=new Wu(e)),s==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,s,e.toString()):this.node.setAttribute(s,e.toString()),!this.rebuild||s!=="font-size"&&s!=="x"||this.rebuild()}return this},find:function(s){return Zu(s,this.node)},findOne:function(s){return Ss(this.node.querySelector(s))}}),zi(oh,"Dom");let qa=class extends oh{constructor(s,e){super(s,e),this.dom={},this.node.instance=this,(s.hasAttribute("data-svgjs")||s.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(s.getAttribute("data-svgjs"))??JSON.parse(s.getAttribute("svgjs:data"))??{})}center(s,e){return this.cx(s).cy(e)}cx(s){return s==null?this.x()+this.width()/2:this.x(s-this.width()/2)}cy(s){return s==null?this.y()+this.height()/2:this.y(s-this.height()/2)}defs(){const s=this.root();return s&&s.defs()}dmove(s,e){return this.dx(s).dy(e)}dx(s=0){return this.x(new si(s).plus(this.x()))}dy(s=0){return this.y(new si(s).plus(this.y()))}getEventHolder(){return this}height(s){return this.attr("height",s)}move(s,e){return this.x(s).y(e)}parents(s=this.root()){const e=typeof s=="string";e||(s=kr(s));const t=new Uu;let i=this;for(;(i=i.parent())&&i.node!==Di.document&&i.nodeName!=="#document-fragment"&&(t.push(i),e||i.node!==s.node)&&(!e||!i.matches(s));)if(i.node===this.root().node)return null;return t}reference(s){if(!(s=this.attr(s)))return null;const e=(s+"").match(d5);return e?kr(e[1]):null}root(){const s=this.parent((function(e){return Ru[e]})(e1));return s&&s.root()}setData(s){return this.dom=s,this}size(s,e){const t=jd(this,s,e);return this.width(new si(t.width)).height(new si(t.height))}width(s){return this.attr("width",s)}writeDataToDom(){return pP(this,this.dom),super.writeDataToDom()}x(s){return this.attr("x",s)}y(s){return this.attr("y",s)}};Kt(qa,{bbox:function(){const s=n2(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(Nl().svg).show(),i=t.node.getBBox();return t.remove(),i}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new ea(s)},rbox:function(s){const e=n2(this,(i=>i.getBoundingClientRect()),(i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)})),t=new ea(e);return s?t.transform(s.screenCTM().inverseO()):t.addOffset()},inside:function(s,e){const t=this.bbox();return s>t.x&&e>t.y&&s<t.x+t.width&&e<t.y+t.height},point:function(s,e){return new Ni(s,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Wt(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const s=this.rect(1,1),e=s.node.getScreenCTM();return s.remove(),new Wt(e)}return new Wt(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Wt}}}),zi(qa,"Element");const _p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(s,e){return e==="color"?s:s+"-"+e}};["fill","stroke"].forEach((function(s){const e={};let t;e[s]=function(i){if(i===void 0)return this.attr(s);if(typeof i=="string"||i instanceof Zi||Zi.isRgb(i)||i instanceof qa)this.attr(s,i);else for(t=_p[s].length-1;t>=0;t--)i[_p[s][t]]!=null&&this.attr(_p.prefix(s,_p[s][t]),i[_p[s][t]]);return this},di(["Element","Runner"],e)})),di(["Element","Runner"],{matrix:function(s,e,t,i,n,r){return s==null?new Wt(this):this.attr("transform",new Wt(s,e,t,i,n,r))},rotate:function(s,e,t){return this.transform({rotate:s,ox:e,oy:t},!0)},skew:function(s,e,t,i){return arguments.length===1||arguments.length===3?this.transform({skew:s,ox:e,oy:t},!0):this.transform({skew:[s,e],ox:t,oy:i},!0)},shear:function(s,e,t){return this.transform({shear:s,ox:e,oy:t},!0)},scale:function(s,e,t,i){return arguments.length===1||arguments.length===3?this.transform({scale:s,ox:e,oy:t},!0):this.transform({scale:[s,e],ox:t,oy:i},!0)},translate:function(s,e){return this.transform({translate:[s,e]},!0)},relative:function(s,e){return this.transform({relative:[s,e]},!0)},flip:function(s="both",e="center"){return"xybothtrue".indexOf(s)===-1&&(e=s,s="both"),this.transform({flip:s,origin:e},!0)},opacity:function(s){return this.attr("opacity",s)}}),di("radius",{radius:function(s,e=s){return(this._element||this).type==="radialGradient"?this.attr("r",new si(s)):this.rx(s).ry(e)}}),di("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(s){return new Ni(this.node.getPointAtLength(s))}}),di(["Element","Runner"],{font:function(s,e){if(typeof s=="object"){for(e in s)this.font(e,s[e]);return this}return s==="leading"?this.leading(e):s==="anchor"?this.attr("text-anchor",e):s==="size"||s==="family"||s==="weight"||s==="stretch"||s==="variant"||s==="style"?this.attr("font-"+s,e):this.attr(s,e)}});di("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(s,e){return s[e]=function(t){return t===null?this.off(e):this.on(e,t),this},s}),{})),di("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(f5).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(ll).map((function(i){return parseFloat(i)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Wt.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Wt)},toParent:function(s,e){if(this===s)return this;if(S0(this.node))return this.addTo(s,e);const t=this.screenCTM(),i=s.screenCTM().inverse();return this.addTo(s,e).untransform().transform(i.multiply(t)),this},toRoot:function(s){return this.toParent(this.root(),s)},transform:function(s,e){if(s==null||typeof s=="string"){const i=new Wt(this).decompose();return s==null?i:i[s]}Wt.isMatrixLike(s)||(s={...s,origin:k0(s,this)});const t=new Wt(e===!0?this:e||!1).transform(s);return this.attr("transform",t)}});class Tr extends qa{flatten(){return this.each((function(){if(this instanceof Tr)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(i,n){return n[n.length-i-1].toParent(e,t)})),this.remove()}}zi(Tr,"Container");class rx extends Tr{constructor(e,t=e){super(nn("defs",e),t)}flatten(){return this}ungroup(){return this}}zi(rx,"Defs");class ps extends qa{}function n1(s){return this.attr("rx",s)}function a1(s){return this.attr("ry",s)}function wP(s){return s==null?this.cx()-this.rx():this.cx(s+this.rx())}function kP(s){return s==null?this.cy()-this.ry():this.cy(s+this.ry())}function SP(s){return this.attr("cx",s)}function TP(s){return this.attr("cy",s)}function CP(s){return s==null?2*this.rx():this.rx(new si(s).divide(2))}function AP(s){return s==null?2*this.ry():this.ry(new si(s).divide(2))}zi(ps,"Shape");var k5=Object.freeze({__proto__:null,cx:SP,cy:TP,height:AP,rx:n1,ry:a1,width:CP,x:wP,y:kP});class ay extends ps{constructor(e,t=e){super(nn("ellipse",e),t)}size(e,t){const i=jd(this,e,t);return this.rx(new si(i.width).divide(2)).ry(new si(i.height).divide(2))}}Kt(ay,k5),di("Container",{ellipse:tn((function(s=0,e=s){return this.put(new ay).size(s,e).move(0,0)}))}),zi(ay,"Ellipse");class MP extends oh{constructor(e=Di.document.createDocumentFragment()){super(e)}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){const n=new oh(ym("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(e,!1,i)}}function PP(s,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new si(s),fy:new si(e)}):this.attr({x1:new si(s),y1:new si(e)})}function LP(s,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new si(s),cy:new si(e)}):this.attr({x2:new si(s),y2:new si(e)})}zi(MP,"Fragment");var S5=Object.freeze({__proto__:null,from:PP,to:LP});class Jp extends Tr{constructor(e,t){super(nn(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,i){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,i)}bbox(){return new ea}targets(){return Zu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Kt(Jp,S5),di({Container:{gradient(...s){return this.defs().gradient(...s)}},Defs:{gradient:tn((function(s,e){return this.put(new Jp(s)).update(e)}))}}),zi(Jp,"Gradient");class xm extends Tr{constructor(e,t=e){super(nn("pattern",e),t)}attr(e,t,i){return e==="transform"&&(e="patternTransform"),super.attr(e,t,i)}bbox(){return new ea}targets(){return Zu("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}di({Container:{pattern(...s){return this.defs().pattern(...s)}},Defs:{pattern:tn((function(s,e,t){return this.put(new xm).update(t).attr({x:0,y:0,width:s,height:e,patternUnits:"userSpaceOnUse"})}))}}),zi(xm,"Pattern");let ry=class extends ps{constructor(s,e=s){super(nn("image",s),e)}load(s,e){if(!s)return this;const t=new Di.window.Image;return il(t,"load",(function(i){const n=this.parent(xm);this.width()===0&&this.height()===0&&this.size(t.width,t.height),n instanceof xm&&n.width()===0&&n.height()===0&&n.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)}),this),il(t,"load error",(function(){Ps(t)})),this.attr("href",t.src=s,Nd)}};var r2;r2=function(s,e,t){return s!=="fill"&&s!=="stroke"||m5.test(e)&&(e=t.root().defs().image(e)),e instanceof ry&&(e=t.root().defs().pattern(0,0,(i=>{i.add(e)}))),e},bP.push(r2),di({Container:{image:tn((function(s,e){return this.put(new ry).size(0,0).load(s,e)}))}}),zi(ry,"Image");class lh extends Wu{bbox(){let e=-1/0,t=-1/0,i=1/0,n=1/0;return this.forEach((function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),i=Math.min(r[0],i),n=Math.min(r[1],n)})),new ea(i,n,e-i,t-n)}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+e,this[n][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(ll).map(parseFloat)).length%2!=0&&e.pop();for(let i=0,n=e.length;i<n;i+=2)t.push([e[i],e[i+1]]);return t}size(e,t){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*e/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*t/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,i=this.length;t<i;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Wt.isMatrixLike(e)||(e=new Wt(e));for(let t=this.length;t--;){const[i,n]=this[t];this[t][0]=e.a*i+e.c*n+e.e,this[t][1]=e.b*i+e.d*n+e.f}return this}}const T5=lh;var r1=Object.freeze({__proto__:null,MorphArray:T5,height:function(s){const e=this.bbox();return s==null?e.height:this.size(e.width,s)},width:function(s){const e=this.bbox();return s==null?e.width:this.size(s,e.height)},x:function(s){return s==null?this.bbox().x:this.move(s,this.bbox().y)},y:function(s){return s==null?this.bbox().y:this.move(this.bbox().x,s)}});let wu=class extends ps{constructor(s,e=s){super(nn("line",s),e)}array(){return new lh([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(s,e){return this.attr(this.array().move(s,e).toLine())}plot(s,e,t,i){return s==null?this.array():(s=e!==void 0?{x1:s,y1:e,x2:t,y2:i}:new lh(s).toLine(),this.attr(s))}size(s,e){const t=jd(this,s,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Kt(wu,r1),di({Container:{line:tn((function(...s){return wu.prototype.plot.apply(this.put(new wu),s[0]!=null?s:[0,0,0,0])}))}}),zi(wu,"Line");let sy=class extends Tr{constructor(s,e=s){super(nn("marker",s),e)}height(s){return this.attr("markerHeight",s)}orient(s){return this.attr("orient",s)}ref(s,e){return this.attr("refX",s).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(s){return this.clear(),typeof s=="function"&&s.call(this,this),this}width(s){return this.attr("markerWidth",s)}};function pd(s,e){return function(t){return t==null?this[s]:(this[s]=t,e&&e.call(this),this)}}di({Container:{marker(...s){return this.defs().marker(...s)}},Defs:{marker:tn((function(s,e,t){return this.put(new sy).size(s,e).ref(s/2,e/2).viewbox(0,0,s,e).attr("orient","auto").update(t)}))},marker:{marker(s,e,t,i){let n=["marker"];return s!=="all"&&n.push(s),n=n.join("-"),s=arguments[1]instanceof sy?arguments[1]:this.defs().marker(e,t,i),this.attr(n,s)}}}),zi(sy,"Marker");const C5={"-":function(s){return s},"<>":function(s){return-Math.cos(s*Math.PI)/2+.5},">":function(s){return Math.sin(s*Math.PI/2)},"<":function(s){return 1-Math.cos(s*Math.PI/2)},bezier:function(s,e,t,i){return function(n){return n<0?s>0?e/s*n:t>0?i/t*n:0:n>1?t<1?(1-i)/(1-t)*n+(i-t)/(1-t):s<1?(1-e)/(1-s)*n+(e-s)/(1-s):1:3*n*(1-n)**2*e+3*n**2*(1-n)*i+n**3}},steps:function(s,e="end"){e=e.split("-").reverse()[0];let t=s;return e==="none"?--t:e==="both"&&++t,(i,n=!1)=>{let r=Math.floor(i*s);const o=i*r%1==0;return e!=="start"&&e!=="both"||++r,n&&o&&--r,i>=0&&r<0&&(r=0),i<=1&&r>t&&(r=t),r/t}}};class s1{done(){return!1}}class T0 extends s1{constructor(e=x5){super(),this.ease=C5[e]||e}step(e,t,i){return typeof e!="number"?i<1?e:t:e+(t-e)*this.ease(i)}}class Ry extends s1{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,i,n){return this.stepper(e,t,i,n)}}function s2(){const s=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,i=Math.log(e/100+1e-10),n=-i/Math.sqrt(t*t+i*i),r=3.9/(n*s);this.d=2*n*r,this.k=r*r}Kt(class extends Ry{constructor(s=500,e=0){super(),this.duration(s).overshoot(e)}step(s,e,t,i){if(typeof s=="string")return s;if(i.done=t===1/0,t===1/0)return e;if(t===0)return s;t>100&&(t=16),t/=1e3;const n=i.velocity||0,r=-this.d*n-this.k*(s-e),o=s+n*t+r*t*t/2;return i.velocity=n+r*t,i.done=Math.abs(e-o)+Math.abs(n)<.002,i.done?e:o}},{duration:pd("_duration",s2),overshoot:pd("_overshoot",s2)});Kt(class extends Ry{constructor(s=.1,e=.01,t=0,i=1e3){super(),this.p(s).i(e).d(t).windup(i)}step(s,e,t,i){if(typeof s=="string")return s;if(i.done=t===1/0,t===1/0)return e;if(t===0)return s;const n=e-s;let r=(i.integral||0)+n*t;const o=(n-(i.error||0))/t,a=this._windup;return a!==!1&&(r=Math.max(-a,Math.min(r,a))),i.error=n,i.integral=r,i.done=Math.abs(n)<.001,i.done?e:s+(this.P*n+this.I*r+this.D*o)}},{windup:pd("_windup"),p:pd("P"),i:pd("I"),d:pd("D")});const A5={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},C0={M:function(s,e,t){return e.x=t.x=s[0],e.y=t.y=s[1],["M",e.x,e.y]},L:function(s,e){return e.x=s[0],e.y=s[1],["L",s[0],s[1]]},H:function(s,e){return e.x=s[0],["H",s[0]]},V:function(s,e){return e.y=s[0],["V",s[0]]},C:function(s,e){return e.x=s[4],e.y=s[5],["C",s[0],s[1],s[2],s[3],s[4],s[5]]},S:function(s,e){return e.x=s[2],e.y=s[3],["S",s[0],s[1],s[2],s[3]]},Q:function(s,e){return e.x=s[2],e.y=s[3],["Q",s[0],s[1],s[2],s[3]]},T:function(s,e){return e.x=s[0],e.y=s[1],["T",s[0],s[1]]},Z:function(s,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(s,e){return e.x=s[5],e.y=s[6],["A",s[0],s[1],s[2],s[3],s[4],s[5],s[6]]}},bb="mlhvqtcsaz".split("");for(let s=0,e=bb.length;s<e;++s)C0[bb[s]]=(function(t){return function(i,n,r){if(t==="H")i[0]=i[0]+n.x;else if(t==="V")i[0]=i[0]+n.y;else if(t==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let o=0,a=i.length;o<a;++o)i[o]=i[o]+(o%2?n.y:n.x);return C0[t](i,n,r)}})(bb[s].toUpperCase());function A0(s){return s.segment.length&&s.segment.length-1===A5[s.segment[0].toUpperCase()]}function M5(s,e){s.inNumber&&gu(s,!1);const t=t1.test(e);if(t)s.segment=[e];else{const i=s.lastCommand,n=i.toLowerCase(),r=i===n;s.segment=[n==="m"?r?"l":"L":i]}return s.inSegment=!0,s.lastCommand=s.segment[0],t}function gu(s,e){if(!s.inNumber)throw new Error("Parser Error");s.number&&s.segment.push(parseFloat(s.number)),s.inNumber=e,s.number="",s.pointSeen=!1,s.hasExponent=!1,A0(s)&&M0(s)}function M0(s){s.inSegment=!1,s.absolute&&(s.segment=(function(e){const t=e.segment[0];return C0[t](e.segment.slice(1),e.p,e.p0)})(s)),s.segments.push(s.segment)}function P5(s){if(!s.segment.length)return!1;const e=s.segment[0].toUpperCase()==="A",t=s.segment.length;return e&&(t===4||t===5)}function L5(s){return s.lastToken.toUpperCase()==="E"}const E5=new Set([" ",",","	",`
`,"\r","\f"]);class Gs extends Wu{bbox(){return Nl().path.setAttribute("d",this.toString()),new ea(Nl.nodes.path.getBBox())}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=e,this[r][2]+=t):n==="H"?this[r][1]+=e:n==="V"?this[r][1]+=t:n==="C"||n==="S"||n==="Q"?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,n==="C"&&(this[r][5]+=e,this[r][6]+=t)):n==="A"&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,i=!0){let n=0,r="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new Ni,p:new Ni};for(;o.lastToken=r,r=t.charAt(n++);)if(o.inSegment||!M5(o,r))if(r!==".")if(isNaN(parseInt(r)))if(E5.has(r))o.inNumber&&gu(o,!1);else if(r!=="-"&&r!=="+")if(r.toUpperCase()!=="E"){if(t1.test(r)){if(o.inNumber)gu(o,!1);else{if(!A0(o))throw new Error("parser Error");M0(o)}--n}}else o.number+=r,o.hasExponent=!0;else{if(o.inNumber&&!L5(o)){gu(o,!1),--n;continue}o.number+=r,o.inNumber=!0}else{if(o.number==="0"||P5(o)){o.inNumber=!0,o.number=r,gu(o,!0);continue}o.inNumber=!0,o.number+=r}else{if(o.pointSeen||o.hasExponent){gu(o,!1),--n;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=r}return o.inNumber&&gu(o,!1),o.inSegment&&A0(o)&&M0(o),o.segments})(e)}size(e,t){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*e/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*t/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y,this[n][3]=(this[n][3]-i.x)*e/i.width+i.x,this[n][4]=(this[n][4]-i.y)*t/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*e/i.width+i.x,this[n][6]=(this[n][6]-i.y)*t/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*e/i.width,this[n][2]=this[n][2]*t/i.height,this[n][6]=(this[n][6]-i.x)*e/i.width+i.x,this[n][7]=(this[n][7]-i.y)*t/i.height+i.y);return this}toString(){return(function(e){let t="";for(let i=0,n=e.length;i<n;i++)t+=e[i][0],e[i][1]!=null&&(t+=e[i][1],e[i][2]!=null&&(t+=" ",t+=e[i][2],e[i][3]!=null&&(t+=" ",t+=e[i][3],t+=" ",t+=e[i][4],e[i][5]!=null&&(t+=" ",t+=e[i][5],t+=" ",t+=e[i][6],e[i][7]!=null&&(t+=" ",t+=e[i][7])))));return t+" "})(this)}}const EP=s=>{const e=typeof s;return e==="number"?si:e==="string"?Zi.isColor(s)?Zi:ll.test(s)?t1.test(s)?Gs:Wu:_P.test(s)?si:P0:L0.indexOf(s.constructor)>-1?s.constructor:Array.isArray(s)?Wu:e==="object"?vm:P0};class _u{constructor(e){this._stepper=e||new T0("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(EP(e));let t=new this._type(e);return this._type===Zi&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===vm&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(i){return i.done=!0,i})),t}}class P0{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Im{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Im.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Im.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const I5=(s,e)=>s[0]<e[0]?-1:s[0]>e[0]?1:0;class vm{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let i=0,n=t.length;i<n;++i){if(t[i+1]===e[i+1]){if(t[i+1]===Zi&&e[i+7]!==t[i+7]){const a=e[i+7],d=new Zi(this.values.splice(i+3,5))[a]().toArray();this.values.splice(i+3,0,...d)}i+=t[i+2]+2;continue}if(!e[i+1])return this;const r=new e[i+1]().toArray(),o=t[i+2]+3;t.splice(i,o,e[i],e[i+1],e[i+2],...r),i+=t[i+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const i in e){const n=EP(e[i]),r=new n(e[i]).toArray();t.push([i,n,r.length,...r])}return t.sort(I5),this.values=t.reduce(((i,n)=>i.concat(n)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const i=t.shift(),n=t.shift(),r=t.shift(),o=t.splice(0,r);e[i]=new n(o)}return e}}const L0=[P0,Im,vm];class wd extends ps{constructor(e,t=e){super(nn("path",e),t)}array(){return this._array||(this._array=new Gs(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Gs(e))}size(e,t){const i=jd(this,e,t);return this.attr("d",this.array().size(i.width,i.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}wd.prototype.MorphArray=Gs,di({Container:{path:tn((function(s){return this.put(new wd).plot(s||new Gs)}))}}),zi(wd,"Path");var IP=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new lh(this.attr("points")))},clear:function(){return delete this._array,this},move:function(s,e){return this.attr("points",this.array().move(s,e))},plot:function(s){return s==null?this.array():this.clear().attr("points",typeof s=="string"?s:this._array=new lh(s))},size:function(s,e){const t=jd(this,s,e);return this.attr("points",this.array().size(t.width,t.height))}});class ku extends ps{constructor(e,t=e){super(nn("polygon",e),t)}}di({Container:{polygon:tn((function(s){return this.put(new ku).plot(s||new lh)}))}}),Kt(ku,r1),Kt(ku,IP),zi(ku,"Polygon");class Su extends ps{constructor(e,t=e){super(nn("polyline",e),t)}}di({Container:{polyline:tn((function(s){return this.put(new Su).plot(s||new lh)}))}}),Kt(Su,r1),Kt(Su,IP),zi(Su,"Polyline");class oy extends ps{constructor(e,t=e){super(nn("rect",e),t)}}Kt(oy,{rx:n1,ry:a1}),di({Container:{rect:tn((function(s,e){return this.put(new oy).size(s,e)}))}}),zi(oy,"Rect");class wb{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Wi={nextDraw:null,frames:new wb,timeouts:new wb,immediates:new wb,timer:()=>Di.window.performance||Di.window.Date,transforms:[],frame(s){const e=Wi.frames.push({run:s});return Wi.nextDraw===null&&(Wi.nextDraw=Di.window.requestAnimationFrame(Wi._draw)),e},timeout(s,e){e=e||0;const t=Wi.timer().now()+e,i=Wi.timeouts.push({run:s,time:t});return Wi.nextDraw===null&&(Wi.nextDraw=Di.window.requestAnimationFrame(Wi._draw)),i},immediate(s){const e=Wi.immediates.push(s);return Wi.nextDraw===null&&(Wi.nextDraw=Di.window.requestAnimationFrame(Wi._draw)),e},cancelFrame(s){s!=null&&Wi.frames.remove(s)},clearTimeout(s){s!=null&&Wi.timeouts.remove(s)},cancelImmediate(s){s!=null&&Wi.immediates.remove(s)},_draw(s){let e=null;const t=Wi.timeouts.last();for(;(e=Wi.timeouts.shift())&&(s>=e.time?e.run():Wi.timeouts.push(e),e!==t););let i=null;const n=Wi.frames.last();for(;i!==n&&(i=Wi.frames.shift());)i.run(s);let r=null;for(;r=Wi.immediates.shift();)r();Wi.nextDraw=Wi.timeouts.first()||Wi.frames.first()?Di.window.requestAnimationFrame(Wi._draw):null}},D5=function(s){const e=s.start,t=s.runner.duration();return{start:e,duration:t,end:e+t,runner:s.runner}},z5=function(){const s=Di.window;return(s.performance||s.Date).now()};class DP extends Em{constructor(e=z5){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const i=Math.abs(t);return this.speed(e?-i:i)}schedule(e,t,i){if(e==null)return this._runners.map(D5);let n=0;const r=this.getEndTime();if(t=t||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=t,t=0;else if(i==="now")n=this._time;else if(i==="relative"){const d=this.getRunnerInfoById(e.id);d&&(n=d.start+t,t=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const d=this.getLastRunnerInfo();n=d?d.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),a={persist:o===null?this._persist:o,start:n+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort(((d,p)=>d.start-p.start)),this._runnerIds=this._runners.map((d=>d.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Wi.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Wi.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let i=t-this._lastSourceTime;e&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],d=a.runner;this._time-a.start<=0&&d.reset()}let r=!1;for(let o=0,a=this._runners.length;o<a;o++){const d=this._runners[o],p=d.runner;let g=n;const x=this._time-d.start;if(x<=0){r=!0;continue}x<g&&(g=x),p.active()&&(p.step(g).done?d.persist!==!0&&p.duration()-p.time()+this._time+d.persist<this._time&&(p.unschedule(),--o,--a):r=!0)}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}di({Element:{timeline:function(s){return s==null?(this._timeline=this._timeline||new DP,this._timeline):(this._timeline=s,this)}}});class cs extends Em{constructor(e){super(),this.id=cs.id++,e=typeof(e=e??vb)=="function"?new Ry(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Ry,this._stepper=this._isDeclarative?e:new T0,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Wt,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,i){let n=1,r=!1,o=0;return t=t??v5,i=i||"last",typeof(e=e??vb)!="object"||e instanceof s1||(t=e.delay??t,i=e.when??i,r=e.swing||r,n=e.times??n,o=e.wait??o,e=e.duration??vb),{duration:e,delay:t,swing:r,times:n,wait:o,when:i}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,i){const n=cs.sanitise(e,t,i),r=new cs(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new Wt,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new T0(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,i){return typeof e=="object"&&(t=e.swing,i=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const r=Math.floor(this._time/t),o=(this._time-r*t)/this._duration;return Math.min(r+o,this._times)}const i=e%1,n=t*Math.floor(e)+this._duration*i;return this.time(n)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,i=this._duration,n=this._wait,r=this._times,o=this._swing,a=this._reverse;let d;if(e==null){const x=function(S){const E=o*Math.floor(S%(2*(n+i))/(n+i)),M=E&&!a||!E&&a,D=Math.pow(-1,M)*(S%(n+i))/i+M;return Math.max(Math.min(D,1),0)},w=r*(n+i)-n;return d=t<=0?Math.round(x(1e-5)):t<w?x(t):Math.round(x(w-1e-5)),d}const p=Math.floor(this.loops()),g=o&&p%2==0;return d=p+(g&&!a||a&&g?e:1-e),this.loops(d)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,i,n){return this._queue.push({initialiser:e||a2,runner:t||a2,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,i){if(e instanceof DP||(i=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,i),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),i=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const n=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=n,this._reseted=!1;let d=!1;return(i||a)&&(this._initialise(i),this.transforms=new Wt,d=this._run(a?e:t),this.fire("step",this)),this.done=this.done||d&&a,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,i=this._queue.length;t<i;++t){const n=this._queue[t],r=this._isDeclarative||!n.initialised&&e;e=!n.finished,r&&e&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(e){let t=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],o=r.runner.call(this,e);r.finished=r.finished||o===!0,t=t&&r.finished}return t}_tryRetarget(e,t,i){if(this._history[e]){if(!this._history[e].caller.initialised){const r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,i):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}cs.id=0;class Fy{constructor(e=new Wt,t=-1,i=!0){this.transforms=e,this.id=t,this.done=i}clearTransformsFromQueue(){}}Kt([cs,Fy],{mergeWith(s){return new Fy(s.transforms.lmultiply(this.transforms),s.id)}});const zP=(s,e)=>s.lmultiplyO(e),RP=s=>s.transforms;function R5(){const s=this._transformationRunners.runners.map(RP).reduce(zP,new Wt);this.transform(s),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class F5{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Fy).forEach((i=>i.clearTransformsFromQueue())),this}edit(e,t){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1,e+1),this.runners.splice(i,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const i=this.runners[t];if(e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(i.id);const n=i.mergeWith(e);this.edit(e.id,n),e=n,--t}else e=i}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}di({Element:{animate(s,e,t){const i=cs.sanitise(s,e,t),n=this.timeline();return new cs(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(s,e){return this.animate(0,s,e)},_clearTransformRunnersBefore(s){this._transformationRunners.clearBefore(s.id)},_currentTransform(s){return this._transformationRunners.runners.filter((e=>e.id<=s.id)).map(RP).reduce(zP,new Wt)},_addRunner(s){this._transformationRunners.add(s),Wi.cancelImmediate(this._frameId),this._frameId=Wi.immediate(R5.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new F5().add(new Fy(new Wt(this))))}}});Kt(cs,{attr(s,e){return this.styleAttr("attr",s,e)},css(s,e){return this.styleAttr("css",s,e)},styleAttr(s,e,t){if(typeof e=="string")return this.styleAttr(s,{[e]:t});let i=e;if(this._tryRetarget(s,i))return this;let n=new _u(this._stepper).to(i),r=Object.keys(i);return this.queue((function(){n=n.from(this.element()[s](r))}),(function(o){return this.element()[s](n.at(o).valueOf()),n.done()}),(function(o){const a=Object.keys(o),d=(p=r,a.filter((x=>!p.includes(x))));var p;if(d.length){const x=this.element()[s](d),w=new vm(n.from()).valueOf();Object.assign(w,x),n.from(w)}const g=new vm(n.to()).valueOf();Object.assign(g,o),n.to(g),r=a,i=o})),this._rememberMorpher(s,n),this},zoom(s,e){if(this._tryRetarget("zoom",s,e))return this;let t=new _u(this._stepper).to(new si(s));return this.queue((function(){t=t.from(this.element().zoom())}),(function(i){return this.element().zoom(t.at(i),e),t.done()}),(function(i,n){e=n,t.to(i)})),this._rememberMorpher("zoom",t),this},transform(s,e,t){if(e=s.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",s))return this;const i=Wt.isMatrixLike(s);t=s.affine!=null?s.affine:t??!i;const n=new _u(this._stepper).type(t?Im:Wt);let r,o,a,d,p;return this.queue((function(){o=o||this.element(),r=r||k0(s,o),p=new Wt(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(g){e||this.clearTransform();const{x,y:w}=new Ni(r).transform(o._currentTransform(this));let S=new Wt({...s,origin:[x,w]}),E=this._isDeclarative&&a?a:p;if(t){S=S.decompose(x,w),E=E.decompose(x,w);const D=S.rotate,O=E.rotate,N=[D-360,D,D+360],H=N.map((Q=>Math.abs(Q-O))),X=Math.min(...H),U=H.indexOf(X);S.rotate=N[U]}e&&(i||(S.rotate=s.rotate||0),this._isDeclarative&&d&&(E.rotate=d)),n.from(E),n.to(S);const M=n.at(g);return d=M.rotate,a=new Wt(M),this.addTransform(a),o._addRunner(this),n.done()}),(function(g){(g.origin||"center").toString()!==(s.origin||"center").toString()&&(r=k0(g,o)),s={...g,origin:r}}),!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(s){return this._queueNumber("x",s)},y(s){return this._queueNumber("y",s)},ax(s){return this._queueNumber("ax",s)},ay(s){return this._queueNumber("ay",s)},dx(s=0){return this._queueNumberDelta("x",s)},dy(s=0){return this._queueNumberDelta("y",s)},dmove(s,e){return this.dx(s).dy(e)},_queueNumberDelta(s,e){if(e=new si(e),this._tryRetarget(s,e))return this;const t=new _u(this._stepper).to(e);let i=null;return this.queue((function(){i=this.element()[s](),t.from(i),t.to(i+e)}),(function(n){return this.element()[s](t.at(n)),t.done()}),(function(n){t.to(i+new si(n))})),this._rememberMorpher(s,t),this},_queueObject(s,e){if(this._tryRetarget(s,e))return this;const t=new _u(this._stepper).to(e);return this.queue((function(){t.from(this.element()[s]())}),(function(i){return this.element()[s](t.at(i)),t.done()})),this._rememberMorpher(s,t),this},_queueNumber(s,e){return this._queueObject(s,new si(e))},cx(s){return this._queueNumber("cx",s)},cy(s){return this._queueNumber("cy",s)},move(s,e){return this.x(s).y(e)},amove(s,e){return this.ax(s).ay(e)},center(s,e){return this.cx(s).cy(e)},size(s,e){let t;return s&&e||(t=this._element.bbox()),s||(s=t.width/t.height*e),e||(e=t.height/t.width*s),this.width(s).height(e)},width(s){return this._queueNumber("width",s)},height(s){return this._queueNumber("height",s)},plot(s,e,t,i){if(arguments.length===4)return this.plot([s,e,t,i]);if(this._tryRetarget("plot",s))return this;const n=new _u(this._stepper).type(this._element.MorphArray).to(s);return this.queue((function(){n.from(this._element.array())}),(function(r){return this._element.plot(n.at(r)),n.done()})),this._rememberMorpher("plot",n),this},leading(s){return this._queueNumber("leading",s)},viewbox(s,e,t,i){return this._queueObject("viewbox",new ea(s,e,t,i))},update(s){return typeof s!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(s.opacity!=null&&this.attr("stop-opacity",s.opacity),s.color!=null&&this.attr("stop-color",s.color),s.offset!=null&&this.attr("offset",s.offset),this)}}),Kt(cs,{rx:n1,ry:a1,from:PP,to:LP}),zi(cs,"Runner");class E0 extends Tr{constructor(e,t=e){super(nn("svg",e),t),this.namespace()}defs(){return this.isRoot()?Ss(this.node.querySelector("defs"))||this.put(new rx):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Di.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Jw,version:"1.1"}).attr("xmlns:xlink",Nd,_b):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,_b).attr("xmlns:svgjs",null,_b)}root(){return this.isRoot()?this:super.root()}}di({Container:{nested:tn((function(){return this.put(new E0)}))}}),zi(E0,"Svg",!0);let I0=class extends Tr{constructor(s,e=s){super(nn("symbol",s),e)}};di({Container:{symbol:tn((function(){return this.put(new I0)}))}}),zi(I0,"Symbol");var FP=Object.freeze({__proto__:null,amove:function(s,e){return this.ax(s).ay(e)},ax:function(s){return this.attr("x",s)},ay:function(s){return this.attr("y",s)},build:function(s){return this._build=!!s,this},center:function(s,e,t=this.bbox()){return this.cx(s,t).cy(e,t)},cx:function(s,e=this.bbox()){return s==null?e.cx:this.attr("x",this.attr("x")+s-e.cx)},cy:function(s,e=this.bbox()){return s==null?e.cy:this.attr("y",this.attr("y")+s-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(s,e,t=this.bbox()){return this.x(s,t).y(e,t)},plain:function(s){return this._build===!1&&this.clear(),this.node.appendChild(Di.document.createTextNode(s)),this},x:function(s,e=this.bbox()){return s==null?e.x:this.attr("x",this.attr("x")+s-e.x)},y:function(s,e=this.bbox()){return s==null?e.y:this.attr("y",this.attr("y")+s-e.y)}});class Us extends ps{constructor(e,t=e){super(nn("text",e),t),this.dom.leading=this.dom.leading??new si(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new si(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let i=0;const n=this.dom.leading;this.each((function(r){if(S0(this.node))return;const o=Di.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=n*new si(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?i+=a:(this.attr("dy",r?a+i:0),i=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new si(e.leading||1.3),this}writeDataToDom(){return pP(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let i=0;e="";for(let n=0,r=t.length;n<r;++n)t[n].nodeName==="textPath"||S0(t[n])?n===0&&(i=n+1):(n!==i&&t[n].nodeType!==3&&Ss(t[n]).dom.newLined===!0&&(e+=`
`),e+=t[n].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,i=(e=(e+"").split(`
`)).length;t<i;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Kt(Us,FP),di({Container:{text:tn((function(s=""){return this.put(new Us).text(s)})),plain:tn((function(s=""){return this.put(new Us).plain(s)}))}}),zi(Us,"Text");class ly extends ps{constructor(e,t=e){super(nn("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Us))return this;const t=e.index(this),i=Di.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=e.dom.leading*new si(i);return this.dy(t?n:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Kt(ly,FP),di({Tspan:{tspan:tn((function(s=""){const e=new ly;return this._build||this.clear(),this.put(e).text(s)}))},Text:{newLine:function(s=""){return this.tspan(s).newLine()}}}),zi(ly,"Tspan");class kb extends ps{constructor(e,t=e){super(nn("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new si(e).divide(2))}}Kt(kb,{x:wP,y:kP,cx:SP,cy:TP,width:CP,height:AP}),di({Container:{circle:tn((function(s=0){return this.put(new kb).size(s).move(0,0)}))}}),zi(kb,"Circle");class Sb extends Tr{constructor(e,t=e){super(nn("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return Zu("svg [clip-path*="+this.id()+"]")}}di({Container:{clip:tn((function(){return this.defs().put(new Sb)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(s){const e=s instanceof Sb?s:this.parent().clip().add(s);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),zi(Sb,"ClipPath");class o2 extends qa{constructor(e,t=e){super(nn("foreignObject",e),t)}}di({Container:{foreignObject:tn((function(s,e){return this.put(new o2).size(s,e)}))}}),zi(o2,"ForeignObject");var OP=Object.freeze({__proto__:null,dmove:function(s,e){return this.children().forEach((t=>{let i;try{i=t.node instanceof Lm().SVGSVGElement?new ea(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const n=new Wt(t),r=n.translate(s,e).transform(n.inverse()),o=new Ni(i.x,i.y).transform(r);t.move(o.x,o.y)})),this},dx:function(s){return this.dmove(s,0)},dy:function(s){return this.dmove(0,s)},height:function(s,e=this.bbox()){return s==null?e.height:this.size(e.width,s,e)},move:function(s=0,e=0,t=this.bbox()){const i=s-t.x,n=e-t.y;return this.dmove(i,n)},size:function(s,e,t=this.bbox()){const i=jd(this,s,e,t),n=i.width/t.width,r=i.height/t.height;return this.children().forEach((o=>{const a=new Ni(t).transform(new Wt(o).inverse());o.scale(n,r,a.x,a.y)})),this},width:function(s,e=this.bbox()){return s==null?e.width:this.size(s,e.height,e)},x:function(s,e=this.bbox()){return s==null?e.x:this.move(s,e.y,e)},y:function(s,e=this.bbox()){return s==null?e.y:this.move(e.x,s,e)}});class eh extends Tr{constructor(e,t=e){super(nn("g",e),t)}}Kt(eh,OP),di({Container:{group:tn((function(){return this.put(new eh)}))}}),zi(eh,"G");class j_ extends Tr{constructor(e,t=e){super(nn("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Nd)}}Kt(j_,OP),di({Container:{link:tn((function(s){return this.put(new j_).to(s)}))},Element:{unlink(){const s=this.linker();if(!s)return this;const e=s.parent();if(!e)return this.remove();const t=e.index(s);return e.add(this,t),s.remove(),this},linkTo(s){let e=this.linker();return e||(e=new j_,this.wrap(e)),typeof s=="function"?s.call(e,e):e.to(s),this},linker(){const s=this.parent();return s&&s.node.nodeName.toLowerCase()==="a"?s:null}}}),zi(j_,"A");class Tb extends Tr{constructor(e,t=e){super(nn("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return Zu("svg [mask*="+this.id()+"]")}}di({Container:{mask:tn((function(){return this.defs().put(new Tb)}))},Element:{masker(){return this.reference("mask")},maskWith(s){const e=s instanceof Tb?s:this.parent().mask().add(s);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),zi(Tb,"Mask");class l2 extends qa{constructor(e,t=e){super(nn("stop",e),t)}update(e){return(typeof e=="number"||e instanceof si)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new si(e.offset)),this}}di({Gradient:{stop:function(s,e,t){return this.put(new l2).update(s,e,t)}}}),zi(l2,"Stop");class Cb extends qa{constructor(e,t=e){super(nn("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,i={}){return this.rule("@font-face",{fontFamily:e,src:t,...i})}rule(e,t){return this.addText((function(i,n){if(!i)return"";if(!n)return i;let r=i+"{";for(const o in n)r+=o.replace(/([A-Z])/g,(function(a,d){return"-"+d.toLowerCase()}))+":"+n[o]+";";return r+="}",r})(e,t))}}di("Dom",{style(s,e){return this.put(new Cb).rule(s,e)},fontface(s,e,t){return this.put(new Cb).font(s,e,t)}}),zi(Cb,"Style");class Ab extends Us{constructor(e,t=e){super(nn("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let i=null;return t&&(i=t.plot(e)),e==null?i:this}track(){return this.reference("href")}}di({Container:{textPath:tn((function(s,e){return s instanceof Us||(s=this.text(s)),s.path(e)}))},Text:{path:tn((function(s,e=!0){const t=new Ab;let i;if(s instanceof wd||(s=this.defs().path(s)),t.attr("href","#"+s,Nd),e)for(;i=this.node.firstChild;)t.node.appendChild(i);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:tn((function(s){return s instanceof Us||(s=new Us().addTo(this.parent()).text(s)),s.path(this)})),targets(){return Zu("svg textPath").filter((s=>(s.attr("href")||"").includes(this.id())))}}}),Ab.prototype.MorphArray=Gs,zi(Ab,"TextPath");class h2 extends ps{constructor(e,t=e){super(nn("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Nd)}}di({Container:{use:tn((function(s,e){return this.put(new h2).use(s,e)}))}}),zi(h2,"Use");const O5=kr;Kt([E0,I0,ry,xm,sy],Rr("viewbox")),Kt([wu,Su,ku,wd],Rr("marker")),Kt(Us,Rr("Text")),Kt(wd,Rr("Path")),Kt(rx,Rr("Defs")),Kt([Us,ly],Rr("Tspan")),Kt([oy,ay,Jp,cs],Rr("radius")),Kt(Em,Rr("EventTarget")),Kt(oh,Rr("Dom")),Kt(qa,Rr("Element")),Kt(ps,Rr("Shape")),Kt([Tr,MP],Rr("Container")),Kt(Jp,Rr("Gradient")),Kt(cs,Rr("Runner")),Uu.extend([...new Set(dP)]),(function(s=[]){L0.push(...[].concat(s))})([si,Zi,ea,Wt,Wu,lh,Gs,Ni]),Kt(L0,{to(s){return new _u().type(this.constructor).from(this.toArray()).to(s)},fromArray(s){return this.init(s),this},toConsumable(){return this.toArray()},morph(s,e,t,i,n){return this.fromArray(s.map((function(r,o){return i.step(r,e[o],t,n[o],n)})))}});class xn extends qa{constructor(e){super(nn("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Zu('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class o1 extends qa{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const ws=s=>function(...e){for(let t=s.length;t--;)e[t]!=null&&this.attr(s[t],e[t])},B5={blend:ws(["in","in2","mode"]),colorMatrix:ws(["type","values"]),composite:ws(["in","in2","operator"]),convolveMatrix:function(s){s=new Wu(s).toString(),this.attr({order:Math.sqrt(s.split(" ").length),kernelMatrix:s})},diffuseLighting:ws(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:ws(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:ws(["in","dx","dy","stdDeviation"]),flood:ws(["flood-color","flood-opacity"]),gaussianBlur:function(s=0,e=s){this.attr("stdDeviation",s+" "+e)},image:function(s){this.attr("href",s,Nd)},morphology:ws(["operator","radius"]),offset:ws(["dx","dy"]),specularLighting:ws(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:ws([]),turbulence:ws(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((s=>{const e=Bd(s),t=B5[s];xn[e+"Effect"]=class extends o1{constructor(i){super(nn("fe"+e,i),i)}update(i){return t.apply(this,i),this}},xn.prototype[s]=tn((function(i,...n){const r=new xn[e+"Effect"];return i==null?this.put(r):(typeof i=="function"?i.call(r,r):n.unshift(i),this.put(r).update(n))}))})),Kt(xn,{merge(s){const e=this.put(new xn.MergeEffect);return typeof s=="function"?(s.call(e,e),e):((s instanceof Array?s:[...arguments]).forEach((t=>{t instanceof xn.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(s={}){const e=this.put(new xn.ComponentTransferEffect);if(typeof s=="function")return s.call(e,e),e;s.r||s.g||s.b||s.a||(s={r:s,g:s,b:s,a:s});for(const t in s)e.add(new xn["Func"+t.toUpperCase()](s[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((s=>{const e=Bd(s);xn[e]=class extends o1{constructor(t){super(nn("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(s){const e=xn[Bd(s)],t=tn((function(){return this.put(new e)}));xn.ComponentTransferEffect.prototype[s]=t}));["distantLight","pointLight","spotLight"].forEach((s=>{const e=xn[Bd(s)],t=tn((function(){return this.put(new e)}));xn.DiffuseLightingEffect.prototype[s]=t,xn.SpecularLightingEffect.prototype[s]=t})),Kt(xn.MergeEffect,{mergeNode(s){return this.put(new xn.MergeNode).attr("in",s)}}),Kt(rx,{filter:function(s){const e=this.put(new xn);return typeof s=="function"&&s.call(e,e),e}}),Kt(Tr,{filter:function(s){return this.defs().filter(s)}}),Kt(qa,{filterWith:function(s){const e=s instanceof xn?s:this.defs().filter(s);return this.attr("filter",e)},unfilter:function(s){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const j5={blend:function(s,e){return this.parent()&&this.parent().blend(this,s,e)},colorMatrix:function(s,e){return this.parent()&&this.parent().colorMatrix(s,e).in(this)},componentTransfer:function(s){return this.parent()&&this.parent().componentTransfer(s).in(this)},composite:function(s,e){return this.parent()&&this.parent().composite(this,s,e)},convolveMatrix:function(s){return this.parent()&&this.parent().convolveMatrix(s).in(this)},diffuseLighting:function(s,e,t,i){return this.parent()&&this.parent().diffuseLighting(s,t,i).in(this)},displacementMap:function(s,e,t,i){return this.parent()&&this.parent().displacementMap(this,s,e,t,i)},dropShadow:function(s,e,t){return this.parent()&&this.parent().dropShadow(this,s,e,t).in(this)},flood:function(s,e){return this.parent()&&this.parent().flood(s,e)},gaussianBlur:function(s,e){return this.parent()&&this.parent().gaussianBlur(s,e).in(this)},image:function(s){return this.parent()&&this.parent().image(s)},merge:function(s){return s=s instanceof Array?s:[...s],this.parent()&&this.parent().merge(this,...s)},morphology:function(s,e){return this.parent()&&this.parent().morphology(s,e).in(this)},offset:function(s,e){return this.parent()&&this.parent().offset(s,e).in(this)},specularLighting:function(s,e,t,i,n){return this.parent()&&this.parent().specularLighting(s,t,i,n).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(s,e,t,i,n){return this.parent()&&this.parent().turbulence(s,e,t,i,n).in(this)}};Kt(o1,j5),Kt(xn.MergeEffect,{in:function(s){return s instanceof xn.MergeNode?this.add(s,0):this.add(new xn.MergeNode().in(s),0),this}}),Kt([xn.CompositeEffect,xn.BlendEffect,xn.DisplacementMapEffect],{in2:function(s){if(s==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",s)}}),xn.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Wa=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),new xn().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,i){var n,r=this,o=this.w;if(e.unfilter(!0),i!=="none"){var a,d,p=o.config.chart.dropShadow,g=i==="lighten"?2:.3;e.filterWith((function(x){x.colorMatrix({type:"matrix",values:`
          `.concat(g,` 0 0 0 0
          0 `).concat(g,` 0 0 0
          0 0 `).concat(g,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),p.enabled&&r.addShadow(x,t,p,"brightness")})),!p.noUserSpaceOnUse&&((a=e.filterer())===null||a===void 0||(d=a.node)===null||d===void 0||d.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((n=e.filterer())===null||n===void 0?void 0:n.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,i,n){var r,o=this.w,a=i.blur,d=i.top,p=i.left,g=i.color,x=i.opacity;if(g=Array.isArray(g)?g[t]:g,((r=o.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:n,dx:p,dy:d,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:a,result:"blur"}),e.flood({"flood-color":g,"flood-opacity":x,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",n])}},{key:"dropShadow",value:function(e,t){var i,n,r,o,a,d=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=this.w;return e.unfilter(!0),De.isMsEdge()&&g.config.chart.type==="radialBar"||((i=g.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((r=g.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.indexOf(p))===-1?e:(e.filterWith((function(x){d.addShadow(x,p,t,"SourceGraphic")})),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(a=o.node)===null||a===void 0||a.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((n=e.filterer())===null||n===void 0?void 0:n.node),e)}},{key:"setSelectionFilter",value:function(e,t,i){var n=this.w;if(n.globals.selectedDataPoints[t]!==void 0&&n.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var r=n.config.states.active.filter;r!=="none"&&this.applyFilter(e,t,r.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),s})(),lt=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"roundPathCorners",value:function(e,t){function i(te,se,ce){var ve=se.x-te.x,xe=se.y-te.y,Ee=Math.sqrt(ve*ve+xe*xe);return n(te,se,Math.min(1,ce/Ee))}function n(te,se,ce){return{x:te.x+(se.x-te.x)*ce,y:te.y+(se.y-te.y)*ce}}function r(te,se){te.length>2&&(te[te.length-2]=se.x,te[te.length-1]=se.y)}function o(te){return{x:parseFloat(te[te.length-2]),y:parseFloat(te[te.length-1])}}e.indexOf("NaN")>-1&&(e="");var a=e.split(/[,\s]/).reduce((function(te,se){var ce=se.match(/^([a-zA-Z])(.+)/);return ce?(te.push(ce[1]),te.push(ce[2])):te.push(se),te}),[]).reduce((function(te,se){return parseFloat(se)==se&&te.length?te[te.length-1].push(se):te.push([se]),te}),[]),d=[];if(a.length>1){var p=o(a[0]),g=null;a[a.length-1][0]=="Z"&&a[0].length>2&&(g=["L",p.x,p.y],a[a.length-1]=g),d.push(a[0]);for(var x=1;x<a.length;x++){var w=d[d.length-1],S=a[x],E=S==g?a[1]:a[x+1];if(E&&w&&w.length>2&&S[0]=="L"&&E.length>2&&E[0]=="L"){var M,D,O=o(w),N=o(S),H=o(E);M=i(N,O,t),D=i(N,H,t),r(S,M),S.origPoint=N,d.push(S);var X=n(M,N,.5),U=n(N,D,.5),Q=["C",X.x,X.y,U.x,U.y,D.x,D.y];Q.origPoint=N,d.push(Q)}else d.push(S)}if(g){var Y=o(d[d.length-1]);d.push(["Z"]),r(d[0],Y)}}else d=a;return d.reduce((function(te,se){return te+se.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:n,stroke:r,"stroke-dasharray":o,"stroke-width":a,"stroke-linecap":d})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,g=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,x=this.w.globals.dom.Paper.rect();return x.attr({x:e,y:t,width:i>0?i:0,height:n>0?n:0,rx:r,ry:r,opacity:a,"stroke-width":d!==null?d:0,stroke:p!==null?p:"none","stroke-dasharray":g}),x.node.setAttribute("fill",o),x}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:n,stroke:t,"stroke-width":i})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var i=this.w.globals.dom.Paper.circle(2*e);return t!==null&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,i=t===void 0?"":t,n=e.stroke,r=n===void 0?"#a8a8a8":n,o=e.strokeWidth,a=o===void 0?1:o,d=e.fill,p=e.fillOpacity,g=p===void 0?1:p,x=e.strokeOpacity,w=x===void 0?1:x,S=e.classes,E=e.strokeLinecap,M=E===void 0?null:E,D=e.strokeDashArray,O=D===void 0?0:D,N=this.w;return M===null&&(M=N.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(N.globals.gridHeight)),N.globals.dom.Paper.path(i).attr({fill:d,"fill-opacity":g,stroke:r,"stroke-opacity":w,"stroke-linecap":M,"stroke-width":a,"stroke-dasharray":O,class:S})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var i=["M",e,t].join(" ");return i}},{key:"line",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=null;return i===null?n=[" L",e,t].join(" "):i==="H"?n=[" H",e].join(" "):i==="V"&&(n=[" V",t].join(" ")),n}},{key:"curve",value:function(e,t,i,n,r,o){var a=["C",e,t,i,n,r,o].join(" ");return a}},{key:"quadraticCurve",value:function(e,t,i,n){return["Q",e,t,i,n].join(" ")}},{key:"arc",value:function(e,t,i,n,r,o,a){var d="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(d="a");var p=[d,e,t,i,n,r,o,a].join(" ");return p}},{key:"renderPaths",value:function(e){var t,i=e.j,n=e.realIndex,r=e.pathFrom,o=e.pathTo,a=e.stroke,d=e.strokeWidth,p=e.strokeLinecap,g=e.fill,x=e.animationDelay,w=e.initialSpeed,S=e.dataChangeSpeed,E=e.className,M=e.chartType,D=e.shouldClipToGrid,O=D===void 0||D,N=e.bindEventsOnPaths,H=N===void 0||N,X=e.drawShadow,U=X===void 0||X,Q=this.w,Y=new Wa(this.ctx),te=new Od(this.ctx),se=this.w.config.chart.animations.enabled,ce=se&&this.w.config.chart.animations.dynamicAnimation.enabled;if(r&&r.startsWith("M 0 0")&&o){var ve=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);ve&&(r=r.replace(/^M\s+0\s+0/,ve[0]))}var xe=!!(se&&!Q.globals.resized||ce&&Q.globals.dataChanged&&Q.globals.shouldAnimate);xe?t=r:(t=o,Q.globals.animationEnded=!0);var Ee=Q.config.stroke.dashArray,Be=0;Be=Array.isArray(Ee)?Ee[n]:Q.config.stroke.dashArray;var Oe=this.drawPath({d:t,stroke:a,strokeWidth:d,fill:g,fillOpacity:1,classes:E,strokeLinecap:p,strokeDashArray:Be});Oe.attr("index",n),O&&(M==="bar"&&!Q.globals.isHorizontal||Q.globals.comboCharts?Oe.attr({"clip-path":"url(#gridRectBarMask".concat(Q.globals.cuid,")")}):Oe.attr({"clip-path":"url(#gridRectMask".concat(Q.globals.cuid,")")})),Q.config.chart.dropShadow.enabled&&U&&Y.dropShadow(Oe,Q.config.chart.dropShadow,n),H&&(Oe.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Oe)),Oe.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Oe)),Oe.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Oe))),Oe.attr({pathTo:o,pathFrom:r});var Ue={el:Oe,j:i,realIndex:n,pathFrom:r,pathTo:o,fill:g,strokeWidth:d,delay:x};return!se||Q.globals.resized||Q.globals.dataChanged?!Q.globals.resized&&Q.globals.dataChanged||te.showDelayedElements():te.animatePathsGradually(gt(gt({},Ue),{},{speed:w})),Q.globals.dataChanged&&ce&&xe&&te.animatePathsGradually(gt(gt({},Ue),{},{speed:S})),Oe}},{key:"drawPattern",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,i,(function(o){e==="horizontalLines"?o.line(0,0,i,0).stroke({color:n,width:r+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:n,width:r+1}):e==="slantedLines"?o.line(0,0,t,i).stroke({color:n,width:r}):e==="squares"?o.rect(t,i).fill("none").stroke({color:n,width:r}):e==="circles"&&o.circle(t).fill("none").stroke({color:n,width:r})}))}},{key:"drawGradient",value:function(e,t,i,n,r){var o,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],g=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,x=this.w;t.length<9&&t.indexOf("#")===0&&(t=De.hexToRgba(t,n)),i.length<9&&i.indexOf("#")===0&&(i=De.hexToRgba(i,r));var w=0,S=1,E=1,M=null;d!==null&&(w=d[0]!==void 0?d[0]/100:0,S=d[1]!==void 0?d[1]/100:1,E=d[2]!==void 0?d[2]/100:1,M=d[3]!==void 0?d[3]/100:null);var D=!(x.config.chart.type!=="donut"&&x.config.chart.type!=="pie"&&x.config.chart.type!=="polarArea"&&x.config.chart.type!=="bubble");if(o=p&&p.length!==0?x.globals.dom.Paper.gradient(D?"radial":"linear",(function(H){(Array.isArray(p[g])?p[g]:p).forEach((function(X){H.stop(X.offset/100,X.color,X.opacity)}))})):x.globals.dom.Paper.gradient(D?"radial":"linear",(function(H){H.stop(w,t,n),H.stop(S,i,r),H.stop(E,i,r),M!==null&&H.stop(M,t,n)})),D){var O=x.globals.gridWidth/2,N=x.globals.gridHeight/2;x.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:O,cy:N,r:a}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,n=e.fontSize,r=e.fontFamily,o=this.getTextRects(t,n,r),a=o.width/t.length,d=Math.floor(i/a);return i<o.width?t.slice(0,d-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,n=e.y,r=e.text,o=e.textAnchor,a=e.fontSize,d=e.fontFamily,p=e.fontWeight,g=e.foreColor,x=e.opacity,w=e.maxWidth,S=e.cssClass,E=S===void 0?"":S,M=e.isPlainText,D=M===void 0||M,O=e.dominantBaseline,N=O===void 0?"auto":O,H=this.w;r===void 0&&(r="");var X=r;o||(o="start"),g&&g.length||(g=H.config.chart.foreColor),d=d||H.config.chart.fontFamily,p=p||"regular";var U,Q={maxWidth:w,fontSize:a=a||"11px",fontFamily:d};return Array.isArray(r)?U=H.globals.dom.Paper.text((function(Y){for(var te=0;te<r.length;te++)X=r[te],w&&(X=t.getTextBasedOnMaxWidth(gt({text:r[te]},Q))),te===0?Y.tspan(X):Y.tspan(X).newLine()})):(w&&(X=this.getTextBasedOnMaxWidth(gt({text:r},Q))),U=D?H.globals.dom.Paper.plain(r):H.globals.dom.Paper.text((function(Y){return Y.tspan(X)}))),U.attr({x:i,y:n,"text-anchor":o,"dominant-baseline":N,"font-size":a,"font-family":d,"font-weight":p,fill:g,class:"apexcharts-text "+E}),U.node.style.fontFamily=d,U.node.style.opacity=x,U}},{key:"getMarkerPath",value:function(e,t,i,n){var r="";switch(i){case"cross":r="M ".concat(e-(n/=1.4)," ").concat(t-n," L ").concat(e+n," ").concat(t+n,"  M ").concat(e-n," ").concat(t+n," L ").concat(e+n," ").concat(t-n);break;case"plus":r="M ".concat(e-(n/=1.12)," ").concat(t," L ").concat(e+n," ").concat(t,"  M ").concat(e," ").concat(t-n," L ").concat(e," ").concat(t+n);break;case"star":case"sparkle":var o=5;n*=1.15,i==="sparkle"&&(n/=1.1,o=4);for(var a=Math.PI/o,d=0;d<=2*o;d++){var p=d*a,g=d%2==0?n:n/2;r+=(d===0?"M":"L")+(e+g*Math.sin(p))+","+(t-g*Math.cos(p))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-n,` 
             L `).concat(e+n," ").concat(t+n,` 
             L `).concat(e-n," ").concat(t+n,` 
             Z`);break;case"square":case"rect":r="M ".concat(e-(n/=1.125)," ").concat(t-n,` 
           L `).concat(e+n," ").concat(t-n,` 
           L `).concat(e+n," ").concat(t+n,` 
           L `).concat(e-n," ").concat(t+n,` 
           Z`);break;case"diamond":n*=1.05,r="M ".concat(e," ").concat(t-n,` 
             L `).concat(e+n," ").concat(t,` 
             L `).concat(e," ").concat(t+n,` 
             L `).concat(e-n," ").concat(t,` 
            Z`);break;case"line":r="M ".concat(e-(n/=1.1)," ").concat(t,` 
           L `).concat(e+n," ").concat(t);break;default:n*=2,r="M ".concat(e,", ").concat(t,` 
           m -`).concat(n/2,`, 0 
           a `).concat(n/2,",").concat(n/2," 0 1,0 ").concat(n,`,0 
           a `).concat(n/2,",").concat(n/2," 0 1,0 -").concat(n,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,i,n,r){var o=this.drawPath({d:this.getMarkerPath(e,t,i,n,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),o}},{key:"drawMarker",value:function(e,t,i){e=e||0;var n=i.pSize||0;return De.isNumber(t)||(n=0,t=0),this.drawMarkerShape(e,t,i?.shape,n,gt(gt({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,n=new Wa(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}]),(i.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var a=i.config.states.hover.filter;n.applyFilter(e,r,a.type)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,n=new Wa(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}]),i.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&n.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,n=new Wa(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),a="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[r].indexOf(o)>-1){var d=i.globals.selectedDataPoints[r].indexOf(o);i.globals.selectedDataPoints[r].splice(d,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var p=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),g=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),x=function(E){Array.prototype.forEach.call(E,(function(M){M.node.setAttribute("selected","false"),n.getDefaultFilter(M,r)}))};x(p),x(g)}e.node.setAttribute("selected","true"),a="true",i.globals.selectedDataPoints[r]===void 0&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(o)}if(a==="true"){var w=i.config.states.active.filter;if(w!=="none")n.applyFilter(e,r,w.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var S=i.config.states.hover.filter;n.applyFilter(e,r,S.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?n.getDefaultFilter(e,r):(S=i.config.states.hover.filter,n.applyFilter(e,r,S.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,n){var r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,a=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});n&&a.attr("transform",n),o.globals.dom.Paper.add(a);var d=a.bbox();return r||(d=a.node.getBoundingClientRect()),a.remove(),{width:d.width,height:d.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var n=t.length-3;n>0;n-=3)if(e.getSubStringLength(0,n)<=i/1.1)return void(e.textContent=t.substring(0,n)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),s})(),ta=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,i=[];if(t.globals.series.length===0)return i;for(var n=0;n<t.globals.series[t.globals.maxValsInArrayIndex].length;n++){for(var r=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][n]!==void 0&&e.indexOf(o)===-1&&(r+=t.globals.series[o][n]);i.push(r)}return i}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,i){return t+i}),0):this.w.globals.series[e].reduce((function(t,i){return t+i}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,i=[];return t.globals.seriesGroups.forEach((function(n){var r=[];t.config.series.forEach((function(a,d){n.indexOf(t.globals.seriesNames[d])>-1&&r.push(d)}));var o=t.globals.series.map((function(a,d){return r.indexOf(d)===-1?d:-1})).filter((function(a){return a!==-1}));i.push(e.getStackedSeriesTotals(o))})),i}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,i=[],n=[],r=[],o=e.series.length>t.yaxis.length||t.yaxis.some((function(x){return Array.isArray(x.seriesName)}));t.series.forEach((function(x,w){r.push(w),n.push(null)})),t.yaxis.forEach((function(x,w){i[w]=[]}));var a=[];t.yaxis.forEach((function(x,w){var S=!1;if(x.seriesName){var E=[];Array.isArray(x.seriesName)?E=x.seriesName:E.push(x.seriesName),E.forEach((function(M){t.series.forEach((function(D,O){if(D.name===M){var N=O;w===O||o?!o||r.indexOf(O)>-1?i[w].push([w,O]):console.warn("Series '"+D.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[O].push([O,w]),N=w),S=!0,(N=r.indexOf(N))!==-1&&r.splice(N,1)}}))}))}S||a.push(w)})),i=i.map((function(x,w){var S=[];return x.forEach((function(E){n[E[1]]=E[0],S.push(E[1])})),S}));for(var d=t.yaxis.length-1,p=0;p<a.length&&(d=a[p],i[d]=[],r);p++){var g=r[0];r.shift(),i[d].push(g),n[g]=d}r.forEach((function(x){i[d].push(x),n[x]=d})),e.seriesYAxisMap=i.map((function(x){return x})),e.seriesYAxisReverseMap=n.map((function(x){return x})),e.seriesYAxisMap.forEach((function(x,w){x.forEach((function(S){t.series[S]&&t.series[S].group===void 0&&(t.series[S].group="apexcharts-axis-".concat(w.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,i,n){return t===n[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map((function(n,r){return t.config.xaxis.labels.formatter(n-t.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(i){t=Math.max(t,i)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(i){t=Math.max(t,i.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,i){var n=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)n+=t[r];else n+=t;return n}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map((function(n,r){for(var o=0,a=0;a<n.length;a++)i.globals.seriesX[r][a]>e&&i.globals.seriesX[r][a]<t&&(o+=n[a]);return o}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,i){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=e.globals.stackedSeriesTotals[r],a=0;o&&(a=100*t[r]/o),n.push(a)}else{var d=100*t/e.globals.seriesTotals.reduce((function(p,g){return p+g}),0);n.push(d)}return n}))}},{key:"getCalculatedRatios",value:function(){var e,t,i,n=this,r=this.w,o=r.globals,a=[],d=0,p=[],g=.1,x=0;if(o.yRange=[],o.isMultipleYAxis)for(var w=0;w<o.minYArr.length;w++)o.yRange.push(Math.abs(o.minYArr[w]-o.maxYArr[w])),p.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var S=0;S<o.yRange.length;S++)a.push(o.yRange[S]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,i=o.xRange/o.gridHeight,(d=o.zRange/o.gridHeight*16)||(d=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var E=function(D,O){var N=r.config.yaxis[r.globals.seriesYAxisReverseMap[O]],H=D<0?-1:1;return D=Math.abs(D),N.logarithmic&&(D=n.getBaseLog(N.logBase,D)),-H*D/a[O]};if(o.isMultipleYAxis){p=[];for(var M=0;M<a.length;M++)p.push(E(o.minYArr[M],M))}else(p=[]).push(E(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(g=-o.minY/e,x=o.minX/t)}else(p=[]).push(0),g=0,x=0;return{yRatio:a,invertedYRatio:e,zRatio:d,xRatio:t,invertedXRatio:i,baseLineInvertedY:g,baseLineY:p,baseLineX:x}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map((function(n,r){var o=i.globals.seriesYAxisReverseMap[r];return i.config.yaxis[o]&&i.config.yaxis[o].logarithmic?n.map((function(a){return a===null?null:t.getLogVal(i.config.yaxis[o].logBase,a,r)})):n})),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var i=this.w,n=i.globals.seriesYAxisReverseMap[t];return i.config.yaxis[n]&&i.config.yaxis[n].logarithmic?this.getLogVal(i.config.yaxis[n].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(t<=0)return 0;var n=this.w,r=n.globals.minYArr[i]===0?-1:this.getBaseLog(e,n.globals.minYArr[i]),o=(n.globals.maxYArr[i]===0?0:this.getBaseLog(e,n.globals.maxYArr[i]))-r;return t<1?t/o:(this.getBaseLog(e,t)-r)/o}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,n=this.w.globals;return n.yLogRatio=e.slice(),n.logYRange=n.yRange.map((function(r,o){var a=i.globals.seriesYAxisReverseMap[o];if(i.config.yaxis[a]&&t.w.config.yaxis[a].logarithmic){var d,p=-Number.MAX_VALUE,g=Number.MIN_VALUE;return n.seriesLog.forEach((function(x,w){x.forEach((function(S){i.config.yaxis[w]&&i.config.yaxis[w].logarithmic&&(p=Math.max(S,p),g=Math.min(S,g))}))})),d=Math.pow(n.yRange[o],Math.abs(g-p)/n.yRange[o]),n.yLogRatio[o]=d/n.gridHeight,d}})),n.invalidLogScale?e.slice():n.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,i,n){var r=this.w,o=[];return e.series.length>0&&t.forEach((function(a){var d=[],p=[];e.i.forEach((function(g,x){r.config.series[g].group===a&&(d.push(e.series[x]),p.push(g))})),d.length>0&&o.push(n.draw(d,i,p))})),o}}],[{key:"checkComboSeries",value:function(e,t){var i=!1,n=0,r=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||n++,o.type!==void 0&&o.type!==t&&r++})),r>0&&(i=!0),{comboBarCount:n,comboCharts:i}}},{key:"extendArrayProps",value:function(e,t,i){var n,r,o,a,d,p;return(n=t)!==null&&n!==void 0&&n.yaxis&&(t=e.extendYAxis(t,i)),(r=t)!==null&&r!==void 0&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(a=o.annotations)!==null&&a!==void 0&&a.xaxis&&(t=e.extendXAxisAnnotations(t)),(d=t)!==null&&d!==void 0&&(p=d.annotations)!==null&&p!==void 0&&p.points&&(t=e.extendPointAnnotations(t))),t}}]),s})(),sx=(function(){function s(e){Ct(this,s),this.w=e.w,this.annoCtx=e}return At(s,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(e.label.orientation==="vertical"){var n=t!==null?t:0,r=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(n,"']"));if(r!==null){var o=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-o.height+4);var a=e.label.position==="top"?o.width:-o.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+a);var d=this.annoCtx.graphics.rotateAroundCenter(r),p=d.x,g=d.y;r.setAttribute("transform","rotate(-90 ".concat(p," ").concat(g,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var n=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),o=t.label.style.padding,a=o.left,d=o.right,p=o.top,g=o.bottom;if(t.label.orientation==="vertical"){var x=[a,d,p,g];p=x[0],g=x[1],a=x[2],d=x[3]}var w=r.left-n.left-a,S=r.top-n.top-p,E=this.annoCtx.graphics.drawRect(w-i.globals.barPadForNumericAxis,S,r.width+a+d,r.height+p+g,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&E.node.classList.add(t.id),E}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(n,r,o){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(r,"']"));if(a){var d=a.parentNode,p=e.addBackgroundToAnno(a,n);p&&(d.insertBefore(p.node,a),n.label.mouseEnter&&p.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&p.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)),n.label.click&&p.node.addEventListener("click",n.label.click.bind(e,n)))}};t.config.annotations.xaxis.forEach((function(n,r){return i(n,r,"xaxis")})),t.config.annotations.yaxis.forEach((function(n,r){return i(n,r,"yaxis")})),t.config.annotations.points.forEach((function(n,r){return i(n,r,"point")}))}},{key:"getY1Y2",value:function(e,t){var i,n=this.w,r=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var a=n.config.xaxis.convertedCatToNumeric?n.globals.categoryLabels:n.globals.labels,d=a.indexOf(r),p=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(d+1,")"));i=p?parseFloat(p.getAttribute("y")):(n.globals.gridHeight/a.length-1)*(d+1)-n.globals.barHeight,t.seriesIndex!==void 0&&n.globals.barHeight&&(i-=n.globals.barHeight/2*(n.globals.series.length-1)-n.globals.barHeight*t.seriesIndex)}else{var g,x=n.globals.seriesYAxisMap[t.yAxisIndex][0],w=n.config.yaxis[t.yAxisIndex].logarithmic?new ta(this.annoCtx.ctx).getLogVal(n.config.yaxis[t.yAxisIndex].logBase,r,x)/n.globals.yLogRatio[x]:(r-n.globals.minYArr[x])/(n.globals.yRange[x]/n.globals.gridHeight);i=n.globals.gridHeight-Math.min(Math.max(w,0),n.globals.gridHeight),o=w>n.globals.gridHeight||w<0,!t.marker||t.y!==void 0&&t.y!==null||(i=0),(g=n.config.yaxis[t.yAxisIndex])!==null&&g!==void 0&&g.reversed&&(i=w)}return typeof r=="string"&&r.includes("px")&&(i=parseFloat(r)),{yP:i,clipped:o}}},{key:"getX1X2",value:function(e,t){var i=this.w,n=e==="x1"?t.x:t.x2,r=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,o=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,a=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,d=!1,p=this.annoCtx.inversedReversedAxis?(o-n)/(a/i.globals.gridWidth):(n-r)/(a/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(p=this.getStringX(n)),typeof n=="string"&&n.includes("px")&&(p=parseFloat(n)),n==null&&t.marker&&(p=i.globals.gridWidth),t.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(p-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*t.seriesIndex),typeof p!="number"&&(p=0,d=!0),parseFloat(p.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(p=i.globals.gridWidth,d=!0):p<0&&(p=0,d=!0),{x:p,clipped:d}}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var n=t.globals.labels.map((function(o){return Array.isArray(o)?o.join(" "):o})).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(n+1,")"));return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),s})(),N5=(function(){function s(e){Ct(this,s),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new sx(this.annoCtx)}return At(s,[{key:"addXaxisAnnotation",value:function(e,t,i){var n,r=this.w,o=this.helpers.getX1X2("x1",e),a=o.x,d=o.clipped,p=!0,g=e.label.text,x=e.strokeDashArray;if(De.isNumber(a)){if(e.x2===null||e.x2===void 0){if(!d){var w=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,x,e.borderWidth);t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}}else{var S=this.helpers.getX1X2("x2",e);if(n=S.x,p=S.clipped,n<a){var E=a;a=n,n=E}var M=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,n-a,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,x);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(M.node),e.id&&M.node.classList.add(e.id)}if(!d||!p){var D=this.annoCtx.graphics.getTextRects(g,parseFloat(e.label.style.fontSize)),O=e.label.position==="top"?4:e.label.position==="center"?r.globals.gridHeight/2+(e.label.orientation==="vertical"?D.width/2:0):r.globals.gridHeight,N=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:O+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?D.width/2-12:-D.width/2:0),text:g,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});N.attr({rel:i}),t.appendChild(N.node),this.annoCtx.helpers.setOrientations(e,i)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(n,r){e.addXaxisAnnotation(n,i.node,r)})),i}}]),s})(),Ga=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return At(s,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,n=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(Ca(i.months)),o=[""].concat(Ca(i.shortMonths)),a=[""].concat(Ca(i.days)),d=[""].concat(Ca(i.shortDays));function p(te,se){var ce=te+"";for(se=se||2;ce.length<se;)ce="0"+ce;return ce}var g=n?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+g)).replace(/(^|[^\\])yy/g,"$1"+g.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+g);var x=(n?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+p(x))).replace(/(^|[^\\])M/g,"$1"+x);var w=n?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+d[0])).replace(/(^|[^\\])dd/g,"$1"+p(w))).replace(/(^|[^\\])d/g,"$1"+w);var S=n?e.getUTCHours():e.getHours(),E=S>12?S-12:S===0?12:S;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+p(S))).replace(/(^|[^\\])H/g,"$1"+S)).replace(/(^|[^\\])hh+/g,"$1"+p(E))).replace(/(^|[^\\])h/g,"$1"+E);var M=n?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+p(M))).replace(/(^|[^\\])m/g,"$1"+M);var D=n?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+p(D))).replace(/(^|[^\\])s/g,"$1"+D);var O=n?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+p(O,3)),O=Math.round(O/10),t=t.replace(/(^|[^\\])ff/g,"$1"+p(O)),O=Math.round(O/10);var N=S<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+O)).replace(/(^|[^\\])TT+/g,"$1"+N)).replace(/(^|[^\\])T/g,"$1"+N.charAt(0));var H=N.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+H)).replace(/(^|[^\\])t/g,"$1"+H.charAt(0));var X=-e.getTimezoneOffset(),U=n||!X?"Z":X>0?"+":"-";if(!n){var Q=(X=Math.abs(X))%60;U+=p(Math.floor(X/60))+":"+p(Q)}t=t.replace(/(^|[^\\])K/g,"$1"+U);var Y=(n?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(a[0],"g"),a[Y])).replace(new RegExp(d[0],"g"),d[Y])).replace(new RegExp(r[0],"g"),r[x])).replace(new RegExp(o[0],"g"),o[x])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var n=this.w;n.config.xaxis.min!==void 0&&(e=n.config.xaxis.min),n.config.xaxis.max!==void 0&&(t=n.config.xaxis.max);var r=this.getDate(e),o=this.getDate(t),a=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),d=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(d[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(d[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(d[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(d[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(d[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(d[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(d[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var n=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=De.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),s})(),Dm=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return At(s,[{key:"xLabelFormat",value:function(e,t,i,n){var r=this.w;if(r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0&&r.config.tooltip.x.formatter===void 0){var o=new Ga(this.ctx);return o.formatDate(o.getDate(t),r.config.tooltip.x.format)}return e(t,i,n)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,i){var n=this.w;if(De.isNumber(e))if(n.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:n.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(i){if(De.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(De.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?i.toFixed(1):i.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(i,n){i.labels.formatter!==void 0?t.globals.yLabelFormatters[n]=i.labels.formatter:t.globals.yLabelFormatters[n]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map((function(o){return e.defaultYFormatter(o,i,n)})):e.defaultYFormatter(r,i,n):r}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(i,n){return i.length>n.length?i:n}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),s})(),hh=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"getLabel",value:function(e,t,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",a=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],d=this.w,p=e[n]===void 0?"":e[n],g=p,x=d.globals.xLabelFormatter,w=d.config.xaxis.labels.formatter,S=!1,E=new Dm(this.ctx),M=p;a&&(g=E.xLabelFormat(x,p,M,{i:n,dateFormatter:new Ga(this.ctx).formatDate,w:d}),w!==void 0&&(g=w(p,e[n],{i:n,dateFormatter:new Ga(this.ctx).formatDate,w:d})));var D,O;t.length>0?(D=t[n].unit,O=null,t.forEach((function(U){U.unit==="month"?O="year":U.unit==="day"?O="month":U.unit==="hour"?O="day":U.unit==="minute"&&(O="hour")})),S=O===D,i=t[n].position,g=t[n].value):d.config.xaxis.type==="datetime"&&w===void 0&&(g=""),g===void 0&&(g=""),g=Array.isArray(g)?g:g.toString();var N=new lt(this.ctx),H={};H=d.globals.rotateXLabels&&a?N.getTextRects(g,parseInt(o,10),null,"rotate(".concat(d.config.xaxis.labels.rotate," 0 0)"),!1):N.getTextRects(g,parseInt(o,10));var X=!d.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(g)&&(String(g)==="NaN"||r.indexOf(g)>=0&&X)&&(g=""),{x:i,text:g,textRect:H,isBold:S}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var n=this.w,r=n.config.xaxis.tickAmount;return r==="dataPoints"&&(r=Math.round(n.globals.gridWidth/120)),r>i||e%Math.round(i/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,n,r){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&n.length>0){var a=r[r.length-1];if(o.config.xaxis.labels.trim&&o.config.xaxis.type!=="datetime")return t;t.x<a.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+a.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(i){return t.collapsedSeriesIndices.indexOf(i)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,i=t.globals,n=t.config.yaxis;return i.series.length>n.length||n.some((function(r){return Array.isArray(r.seriesName)}))?e:i.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=t.config.yaxis[e];if(!i.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!i.showForNullSeries){var n=t.globals.seriesYAxisMap[e],r=new ta(this.ctx);return n.every((function(o){return r.isSeriesNull(o)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,n,r,o,a){var d=this.w,p=new lt(this.ctx),g=d.globals.translateY+d.config.yaxis[r].labels.offsetY;if(d.globals.isBarHorizontal?g=0:d.config.chart.type==="heatmap"&&(g+=o/2),n.show&&t>0){d.config.yaxis[r].opposite===!0&&(e+=n.width);for(var x=t;x>=0;x--){var w=p.drawLine(e+i.offsetX-n.width+n.offsetX,g+n.offsetY,e+i.offsetX+n.offsetX,g+n.offsetY,n.color);a.add(w),g+=o}}}}]),s})(),$5=(function(){function s(e){Ct(this,s),this.w=e.w,this.annoCtx=e,this.helpers=new sx(this.annoCtx),this.axesUtils=new hh(this.annoCtx)}return At(s,[{key:"addYaxisAnnotation",value:function(e,t,i){var n,r=this.w,o=e.strokeDashArray,a=this.helpers.getY1Y2("y1",e),d=a.yP,p=a.clipped,g=!0,x=!1,w=e.label.text;if(e.y2===null||e.y2===void 0){if(!p){x=!0;var S=this.annoCtx.graphics.drawLine(0+e.offsetX,d+e.offsetY,this._getYAxisAnnotationWidth(e),d+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(S.node),e.id&&S.node.classList.add(e.id)}}else{if(n=(a=this.helpers.getY1Y2("y2",e)).yP,g=a.clipped,n>d){var E=d;d=n,n=E}if(!p||!g){x=!0;var M=this.annoCtx.graphics.drawRect(0+e.offsetX,n+e.offsetY,this._getYAxisAnnotationWidth(e),d-n,0,e.fillColor,e.opacity,1,e.borderColor,o);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(M.node),e.id&&M.node.classList.add(e.id)}}if(x){var D=e.label.position==="right"?r.globals.gridWidth:e.label.position==="center"?r.globals.gridWidth/2:0,O=this.annoCtx.graphics.drawText({x:D+e.label.offsetX,y:(n??d)+e.label.offsetY-3,text:w,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});O.attr({rel:i}),t.appendChild(O.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(n,r){n.yAxisIndex=e.axesUtils.translateYAxisIndex(n.yAxisIndex),e.axesUtils.isYAxisHidden(n.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(n.yAxisIndex)||e.addYaxisAnnotation(n,i.node,r)})),i}}]),s})(),V5=(function(){function s(e){Ct(this,s),this.w=e.w,this.annoCtx=e,this.helpers=new sx(this.annoCtx)}return At(s,[{key:"addPointAnnotation",value:function(e,t,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var n=this.helpers.getX1X2("x1",e),r=n.x,o=n.clipped,a=(n=this.helpers.getY1Y2("y1",e)).yP,d=n.clipped;if(De.isNumber(r)&&!d&&!o){var p={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},g=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,a+e.marker.offsetY,p);t.appendChild(g.node);var x=e.label.text?e.label.text:"",w=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:x,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(w.attr({rel:i}),t.appendChild(w.node),e.customSVG.SVG){var S=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});S.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),S.node.innerHTML=e.customSVG.SVG,t.appendChild(S.node)}if(e.image.path){var E=e.image.width?e.image.width:20,M=e.image.height?e.image.height:20;g=this.annoCtx.addImage({x:r+e.image.offsetX-E/2,y:a+e.image.offsetY-M/2,width:E,height:M,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&g.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&g.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&g.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(n,r){e.addPointAnnotation(n,i.node,r)})),i}}]),s})(),BP={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},xu=(function(){function s(){Ct(this,s),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return At(s,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[BP],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,i){return t+i}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,i){return t+i}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),s})(),H5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.graphics=new lt(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new sx(this),this.xAxisAnnotations=new N5(this),this.yAxisAnnotations=new $5(this),this.pointsAnnotations=new V5(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return At(s,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,o=[t,i,n],a=[i.node,t.node,n.node],d=0;d<3;d++)e.globals.dom.elGraphical.add(o[d]),!r||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&a[d].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:a[d],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,i){e.addImage(t,i)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,i){e.addText(t,i)}))}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var i=e.x,n=e.y,r=e.text,o=e.textAnchor,a=e.foreColor,d=e.fontSize,p=e.fontFamily,g=e.fontWeight,x=e.cssClass,w=e.backgroundColor,S=e.borderWidth,E=e.strokeDashArray,M=e.borderRadius,D=e.borderColor,O=e.appendTo,N=O===void 0?".apexcharts-svg":O,H=e.paddingLeft,X=H===void 0?4:H,U=e.paddingRight,Q=U===void 0?4:U,Y=e.paddingBottom,te=Y===void 0?2:Y,se=e.paddingTop,ce=se===void 0?2:se,ve=this.w,xe=this.graphics.drawText({x:i,y:n,text:r,textAnchor:o||"start",fontSize:d||"12px",fontWeight:g||"regular",fontFamily:p||ve.config.chart.fontFamily,foreColor:a||ve.config.chart.foreColor,cssClass:x}),Ee=ve.globals.dom.baseEl.querySelector(N);Ee&&Ee.appendChild(xe.node);var Be=xe.bbox();if(r){var Oe=this.graphics.drawRect(Be.x-X,Be.y-ce,Be.width+X+Q,Be.height+te+ce,M,w||"transparent",1,S,D,E);Ee.insertBefore(Oe.node,xe.node)}}},{key:"addImage",value:function(e,t){var i=this.w,n=e.path,r=e.x,o=r===void 0?0:r,a=e.y,d=a===void 0?0:a,p=e.width,g=p===void 0?20:p,x=e.height,w=x===void 0?20:x,S=e.appendTo,E=S===void 0?".apexcharts-svg":S,M=i.globals.dom.Paper.image(n);M.size(g,w).move(o,d);var D=i.globals.dom.baseEl.querySelector(E);return D&&D.appendChild(M.node),M}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,n=e.context,r=e.type,o=e.contextMethod,a=n,d=a.w,p=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),g=p.childNodes.length+1,x=new xu,w=Object.assign({},r==="xaxis"?x.xAxisAnnotation:r==="yaxis"?x.yAxisAnnotation:x.pointAnnotation),S=De.extend(w,t);switch(r){case"xaxis":this.addXaxisAnnotation(S,p,g);break;case"yaxis":this.addYaxisAnnotation(S,p,g);break;case"point":this.addPointAnnotation(S,p,g)}var E=d.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(g,"']")),M=this.helpers.addBackgroundToAnno(E,S);return M&&p.insertBefore(M.node,E),i&&d.globals.memory.methodsToExec.push({context:a,id:S.id?S.id:De.randomId(),method:o,label:"addAnnotation",params:t}),n}},{key:"clearAnnotations",value:function(e){for(var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),n=t.globals.memory.methodsToExec.length-1;n>=0;n--)t.globals.memory.methodsToExec[n].label!=="addText"&&t.globals.memory.methodsToExec[n].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(n,1);i=De.listToArray(i),Array.prototype.forEach.call(i,(function(r){for(;r.firstChild;)r.removeChild(r.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var i=e.w,n=i.globals.dom.baseEl.querySelectorAll(".".concat(t));n&&(i.globals.memory.methodsToExec.map((function(r,o){r.id===t&&i.globals.memory.methodsToExec.splice(o,1)})),Object.keys(i.config.annotations).forEach((function(r){var o=i.config.annotations[r];Array.isArray(o)&&(i.config.annotations[r]=o.filter((function(a){return a.id!==t})))})),Array.prototype.forEach.call(n,(function(r){r.parentElement.removeChild(r)})))}}]),s})(),Mb=function(s){var e,t=s.isTimeline,i=s.ctx,n=s.seriesIndex,r=s.dataPointIndex,o=s.y1,a=s.y2,d=s.w,p=d.globals.seriesRangeStart[n][r],g=d.globals.seriesRangeEnd[n][r],x=d.globals.labels[r],w=d.config.series[n].name?d.config.series[n].name:"",S=d.globals.ttKeyFormatter,E=d.config.tooltip.y.title.formatter,M={w:d,seriesIndex:n,dataPointIndex:r,start:p,end:g};typeof E=="function"&&(w=E(w,M)),(e=d.config.series[n].data[r])!==null&&e!==void 0&&e.x&&(x=d.config.series[n].data[r].x),t||d.config.xaxis.type==="datetime"&&(x=new Dm(i).xLabelFormat(d.globals.ttKeyFormatter,x,x,{i:void 0,dateFormatter:new Ga(i).formatDate,w:d})),typeof S=="function"&&(x=S(x,M)),Number.isFinite(o)&&Number.isFinite(a)&&(p=o,g=a);var D="",O="",N=d.globals.colors[n];if(d.config.tooltip.x.formatter===void 0)if(d.config.xaxis.type==="datetime"){var H=new Ga(i);D=H.formatDate(H.getDate(p),d.config.tooltip.x.format),O=H.formatDate(H.getDate(g),d.config.tooltip.x.format)}else D=p,O=g;else D=d.config.tooltip.x.formatter(p),O=d.config.tooltip.x.formatter(g);return{start:p,end:g,startVal:D,endVal:O,ylabel:x,color:N,seriesName:w}},Pb=function(s){var e=s.color,t=s.seriesName,i=s.ylabel,n=s.start,r=s.end,o=s.seriesIndex,a=s.dataPointIndex,d=s.ctx.tooltip.tooltipLabels.getFormatters(o);n=d.yLbFormatter(n),r=d.yLbFormatter(r);var p=d.yLbFormatter(s.w.globals.series[o][a]),g=`<span class="value start-value">
  `.concat(n,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(r,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+i+": </span> "+(s.w.globals.comboCharts?s.w.config.series[o].type==="rangeArea"||s.w.config.series[o].type==="rangeBar"?g:"<span>".concat(p,"</span>"):g)+" </div></div>"},bm=(function(){function s(e){Ct(this,s),this.opts=e}return At(s,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),De.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var i=t.w.config.series[t.seriesIndex].name;return e!==null?i+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),gt(gt({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,n=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,n,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,n=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,n,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var i=t.seriesIndex,n=t.dataPointIndex,r=t.w,o=function(){var a=r.globals.seriesRangeStart[i][n];return r.globals.seriesRangeEnd[i][n]-a};return r.globals.comboCharts?r.config.series[i].type==="rangeBar"||r.config.series[i].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var i=Mb(gt(gt({},t),{},{isTimeline:!0})),n=i.color,r=i.seriesName,o=i.ylabel,a=i.startVal,d=i.endVal;return Pb(gt(gt({},t),{},{color:n,seriesName:r,ylabel:o,start:a,end:d}))})(e):(function(t){var i=Mb(t),n=i.color,r=i.seriesName,o=i.ylabel,a=i.start,d=i.end;return Pb(gt(gt({},t),{},{color:n,seriesName:r,ylabel:o,start:a,end:d}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,i;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(i=e.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var i=Mb(t),n=i.color,r=i.seriesName,o=i.ylabel,a=i.start,d=i.end;return Pb(gt(gt({},t),{},{color:n,seriesName:r,ylabel:o,start:a,end:d}))})(e)}}}}},{key:"brush",value:function(e){return De.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(i,n){e.yaxis[n].min=0,e.yaxis[n].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),e}},{key:"stackedBars",value:function(){var e=this.bar();return gt(gt({},e),{},{plotOptions:gt(gt({},e.plotOptions),{},{bar:gt(gt({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return De.isNumber(o)?Math.floor(o):o};var n=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(r=i.map((function(o){return Array.isArray(o)?o:String(o)}))),r&&r.length&&(e.xaxis.labels.formatter=function(o){return De.isNumber(o)?n(r[Math.floor(o)-1]):n(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,i,n,r){var o=e.globals.seriesCandleO[t][i],a=e.globals.seriesCandleH[t][i],d=e.globals.seriesCandleM[t][i],p=e.globals.seriesCandleL[t][i],g=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==r?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(n[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(n[1],': <span class="value">')+a+"</span></div>"+(d?"<div>".concat(n[2],': <span class="value">')+d+"</span></div>":"")+"<div>".concat(n[3],': <span class="value">')+p+"</span></div>"+"<div>".concat(n[4],': <span class="value">')+g+"</span></div></div>"}}]),s})(),wm=(function(){function s(e){Ct(this,s),this.opts=e}return At(s,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,n=new xu,r=new bm(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=n.init(),a={};if(i&&vr(i)==="object"){var d,p,g,x,w,S,E,M,D,O,N={};N=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?r[i.chart.type]():r.line(),(d=i.plotOptions)!==null&&d!==void 0&&(p=d.bar)!==null&&p!==void 0&&p.isFunnel&&(N=r.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(N=r.stackedBars()),(g=i.chart.brush)!==null&&g!==void 0&&g.enabled&&(N=r.brush(N)),(x=i.plotOptions)!==null&&x!==void 0&&(w=x.line)!==null&&w!==void 0&&w.isSlopeChart&&(N=r.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=r.stacked100(i)),(S=i.plotOptions)!==null&&S!==void 0&&(E=S.bar)!==null&&E!==void 0&&E.isDumbbell&&(i=r.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((M=(i=this.checkForCatToNumericXAxis(this.chartType,N,i)).chart.sparkline)!==null&&M!==void 0&&M.enabled||(D=window.Apex.chart)!==null&&D!==void 0&&(O=D.sparkline)!==null&&O!==void 0&&O.enabled)&&(N=r.sparkline(N)),a=De.extend(o,N)}var H=De.extend(a,window.Apex);return o=De.extend(H,i),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var n,r,o=new bm(i),a=(e==="bar"||e==="boxPlot")&&((n=i.plotOptions)===null||n===void 0||(r=n.bar)===null||r===void 0?void 0:r.horizontal),d=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",p=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",g=i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return a||d||!p||g==="between"||(i=o.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new xu;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=De.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[De.extend(i.yAxis,e.yaxis)]:e.yaxis=De.extendArray(e.yaxis,i.yAxis);var n=!1;e.yaxis.forEach((function(o){o.logarithmic&&(n=!0)}));var r=e.series;return t&&!r&&(r=t.config.series),n&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map((function(o,a){if(o.name||(r[a].name="series-".concat(a+1)),e.yaxis[a])return e.yaxis[a].seriesName=r[a].name,e.yaxis[a];var d=De.extend(i.yAxis,e.yaxis[0]);return d.show=!1,d}))),n&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new xu;return e.annotations.yaxis=De.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new xu;return e.annotations.xaxis=De.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new xu;return e.annotations.points=De.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),s})(),jP=(function(){function s(){Ct(this,s)}return At(s,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=De.extend({},e),t.initialSeries=De.clone(e.series),t.lastXAxis=De.clone(t.initialConfig.xaxis),t.lastYAxis=De.clone(t.initialConfig.yaxis),t}}]),s})(),G5=(function(){function s(e){Ct(this,s),this.opts=e}return At(s,[{key:"init",value:function(){var e=new wm(this.opts).init({responsiveOverride:!1});return{config:e,globals:new jP().init(e)}}}]),s})(),Ws=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return At(s,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,n=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),o=n>r?n:r,a=e.image,d=0,p=0;e.width===void 0&&e.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(d=i.fill.image.width+1,p=i.fill.image.height):(d=o+1,p=o):(d=e.width,p=e.height);var g=document.createElementNS(t.globals.SVGNS,"pattern");lt.setAttrs(g,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:d+"px",height:p+"px"});var x=document.createElementNS(t.globals.SVGNS,"image");g.appendChild(x),x.setAttributeNS(window.SVG.xlink,"href",a),lt.setAttrs(x,{x:0,y:0,preserveAspectRatio:"none",width:d+"px",height:p+"px"}),x.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(g)}},{key:"getSeriesIndex",value:function(e){var t=this.w,i=t.config.chart.type;return(i==="bar"||i==="rangeBar")&&t.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var i,n=this.w,r=null,o=null,a=Dp(e);try{for(a.s();!(i=a.n()).done;){var d=i.value;d>=t.threshold?(r===null||d>r)&&(r=d):(o===null||d<o)&&(o=d)}}catch(x){a.e(x)}finally{a.f()}r===null&&(r=t.threshold),o===null&&(o=t.threshold);var p=r-t.threshold+(t.threshold-o);p===0&&(p=1);var g=100-(t.threshold-o)/p*100;return[{offset:g=Math.max(0,Math.min(g,100)),color:t.colorAboveThreshold,opacity:n.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:n.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,i,n,r=this.w;this.opts=e;var o,a,d,p=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var g=p.plotOptions.line.colors.colorAboveThreshold&&p.plotOptions.line.colors.colorBelowThreshold,x=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(x=r.globals.seriesColors[this.seriesIndex]),typeof x=="function"&&(x=x({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:r}));var w,S,E,M=e.fillType?e.fillType:this.getFillType(this.seriesIndex),D=Array.isArray(p.fill.opacity)?p.fill.opacity[this.seriesIndex]:p.fill.opacity,O=M==="gradient"||g;e.color&&(x=e.color),(t=r.config.series[this.seriesIndex])!==null&&t!==void 0&&(i=t.data)!==null&&i!==void 0&&(n=i[e.dataPointIndex])!==null&&n!==void 0&&n.fillColor&&(x=(w=r.config.series[this.seriesIndex])===null||w===void 0||(S=w.data)===null||S===void 0||(E=S[e.dataPointIndex])===null||E===void 0?void 0:E.fillColor),x||(x="#fff",console.warn("undefined color - ApexCharts"));var N=x;if(x.indexOf("rgb")===-1?x.indexOf("#")===-1?N=x:x.length<9&&(N=De.hexToRgba(x,D)):x.indexOf("rgba")>-1?D=De.getOpacityFromRGBA(x):N=De.hexToRgba(De.rgb2hex(x),D),e.opacity&&(D=e.opacity),M==="pattern"&&(a=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:a,fillColor:x,fillOpacity:D,defaultColor:N})),O){var H=Ca(p.fill.gradient.colorStops)||[],X=p.fill.gradient.type;g&&(H[this.seriesIndex]=this.computeColorStops(r.globals.series[this.seriesIndex],p.plotOptions.line.colors),X="vertical"),d=this.handleGradientFill({type:X,fillConfig:e.fillConfig,fillColor:x,fillOpacity:D,colorStops:H,i:this.seriesIndex})}if(M==="image"){var U=p.fill.image.src,Q=e.patternID?e.patternID:"",Y="pattern".concat(r.globals.cuid).concat(e.seriesNumber+1).concat(Q);this.patternIDs.indexOf(Y)===-1&&(this.clippedImgArea({opacity:D,image:Array.isArray(U)?e.seriesNumber<U.length?U[e.seriesNumber]:U[0]:U,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:Y}),this.patternIDs.push(Y)),o="url(#".concat(Y,")")}else o=O?d:M==="pattern"?a:N;return e.solid&&(o=N),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,n=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors),i.fillColors!==void 0&&(n=[],Array.isArray(i.fillColors)?n=i.fillColors.slice():n.push(i.fillColors)),n}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,i=e.patternFill,n=e.fillColor,r=e.fillOpacity,o=e.defaultColor,a=this.w.config.fill;t&&(a=t);var d=this.opts,p=new lt(this.ctx),g=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,x=n;return Array.isArray(a.pattern.style)?i=a.pattern.style[d.seriesNumber]!==void 0?p.drawPattern(a.pattern.style[d.seriesNumber],a.pattern.width,a.pattern.height,x,g,r):o:i=p.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,x,g,r),i}},{key:"handleGradientFill",value:function(e){var t=e.type,i=e.fillColor,n=e.fillOpacity,r=e.fillConfig,o=e.colorStops,a=e.i,d=this.w.config.fill;r&&(d=gt(gt({},d),r));var p=this.opts,g=new lt(this.ctx),x=new De;t=t||d.gradient.type;var w,S=i,E=d.gradient.opacityFrom===void 0?n:Array.isArray(d.gradient.opacityFrom)?d.gradient.opacityFrom[a]:d.gradient.opacityFrom;S.indexOf("rgba")>-1&&(E=De.getOpacityFromRGBA(S));var M=d.gradient.opacityTo===void 0?n:Array.isArray(d.gradient.opacityTo)?d.gradient.opacityTo[a]:d.gradient.opacityTo;if(d.gradient.gradientToColors===void 0||d.gradient.gradientToColors.length===0)w=d.gradient.shade==="dark"?x.shadeColor(-1*parseFloat(d.gradient.shadeIntensity),i.indexOf("rgb")>-1?De.rgb2hex(i):i):x.shadeColor(parseFloat(d.gradient.shadeIntensity),i.indexOf("rgb")>-1?De.rgb2hex(i):i);else if(d.gradient.gradientToColors[p.seriesNumber]){var D=d.gradient.gradientToColors[p.seriesNumber];w=D,D.indexOf("rgba")>-1&&(M=De.getOpacityFromRGBA(D))}else w=i;if(d.gradient.gradientFrom&&(S=d.gradient.gradientFrom),d.gradient.gradientTo&&(w=d.gradient.gradientTo),d.gradient.inverseColors){var O=S;S=w,w=O}return S.indexOf("rgb")>-1&&(S=De.rgb2hex(S)),w.indexOf("rgb")>-1&&(w=De.rgb2hex(w)),g.drawGradient(t,S,w,E,M,p.size,d.gradient.stops,o,a)}}]),s})(),$d=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(i){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,i=e.seriesIndex,n=e.j,r=e.pSize,o=e.alwaysDrawMarker,a=o!==void 0&&o,d=e.isVirtualPoint,p=d!==void 0&&d,g=this.w,x=i,w=t,S=null,E=new lt(this.ctx),M=g.config.markers.discrete&&g.config.markers.discrete.length;if(Array.isArray(w.x))for(var D=0;D<w.x.length;D++){var O=void 0,N=n,H=!De.isNumber(w.y[D]);g.globals.markers.largestSize===0&&g.globals.hasNullValues&&g.globals.series[x][n+1]!==null&&!p&&(H=!0),n===1&&D===0&&(N=0),n===1&&D===1&&(N=1);var X="apexcharts-marker";if(g.config.chart.type!=="line"&&g.config.chart.type!=="area"||g.globals.comboCharts||g.config.tooltip.intersect||(X+=" no-pointer-events"),(Array.isArray(g.config.markers.size)?g.globals.markers.size[i]>0:g.config.markers.size>0)||a||M){H||(X+=" w".concat(De.randomId()));var U=this.getMarkerConfig({cssClass:X,seriesIndex:i,dataPointIndex:N});g.config.series[x].data[N]&&(g.config.series[x].data[N].fillColor&&(U.pointFillColor=g.config.series[x].data[N].fillColor),g.config.series[x].data[N].strokeColor&&(U.pointStrokeColor=g.config.series[x].data[N].strokeColor)),r!==void 0&&(U.pSize=r),(w.x[D]<-g.globals.markers.largestSize||w.x[D]>g.globals.gridWidth+g.globals.markers.largestSize||w.y[D]<-g.globals.markers.largestSize||w.y[D]>g.globals.gridHeight+g.globals.markers.largestSize)&&(U.pSize=0),!H&&((g.globals.markers.size[i]>0||a||M)&&!S&&(S=E.group({class:a||M?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(g.globals.cuid,")")),(O=E.drawMarker(w.x[D],w.y[D],U)).attr("rel",N),O.attr("j",N),O.attr("index",i),O.node.setAttribute("default-marker-size",U.pSize),new Wa(this.ctx).setSelectionFilter(O,i,N),this.addEvents(O),S&&S.add(O))}else g.globals.pointsArray[i]===void 0&&(g.globals.pointsArray[i]=[]),g.globals.pointsArray[i].push([w.x[D],w.y[D]])}return S}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,n=e.dataPointIndex,r=n===void 0?null:n,o=e.radius,a=o===void 0?null:o,d=e.size,p=d===void 0?null:d,g=e.strokeWidth,x=g===void 0?null:g,w=this.w,S=this.getMarkerStyle(i),E=p===null?w.globals.markers.size[i]:p,M=w.config.markers;return r!==null&&M.discrete.length&&M.discrete.map((function(D){D.seriesIndex===i&&D.dataPointIndex===r&&(S.pointStrokeColor=D.strokeColor,S.pointFillColor=D.fillColor,E=D.size,S.pointShape=D.shape)})),{pSize:a===null?E:a,pRadius:a!==null?a:M.radius,pointStrokeWidth:x!==null?x:Array.isArray(M.strokeWidth)?M.strokeWidth[i]:M.strokeWidth,pointStrokeColor:S.pointStrokeColor,pointFillColor:S.pointFillColor,shape:S.pointShape||(Array.isArray(M.shape)?M.shape[i]:M.shape),class:t,pointStrokeOpacity:Array.isArray(M.strokeOpacity)?M.strokeOpacity[i]:M.strokeOpacity,pointStrokeDashArray:Array.isArray(M.strokeDashArray)?M.strokeDashArray[i]:M.strokeDashArray,pointFillOpacity:Array.isArray(M.fillOpacity)?M.fillOpacity[i]:M.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new lt(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,n=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[e]:n,pointFillColor:Array.isArray(i)?i[e]:i}}}]),s})(),NP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return At(s,[{key:"draw",value:function(e,t,i){var n=this.w,r=new lt(this.ctx),o=i.realIndex,a=i.pointsPos,d=i.zRatio,p=i.elParent,g=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(g.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(a.x))for(var x=0;x<a.x.length;x++){var w=t+1,S=!0;t===0&&x===0&&(w=0),t===0&&x===1&&(w=1);var E=n.globals.markers.size[o];if(d!==1/0){var M=n.config.plotOptions.bubble;E=n.globals.seriesZ[o][w],M.zScaling&&(E/=d),M.minBubbleRadius&&E<M.minBubbleRadius&&(E=M.minBubbleRadius),M.maxBubbleRadius&&E>M.maxBubbleRadius&&(E=M.maxBubbleRadius)}var D=a.x[x],O=a.y[x];if(E=E||0,O!==null&&n.globals.series[o][w]!==void 0||(S=!1),S){var N=this.drawPoint(D,O,E,o,w,t);g.add(N)}p.add(g)}}},{key:"drawPoint",value:function(e,t,i,n,r,o){var a=this.w,d=n,p=new Od(this.ctx),g=new Wa(this.ctx),x=new Ws(this.ctx),w=new $d(this.ctx),S=new lt(this.ctx),E=w.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:d,dataPointIndex:r,radius:a.config.chart.type==="bubble"||a.globals.comboCharts&&a.config.series[n]&&a.config.series[n].type==="bubble"?i:null}),M=x.fillPath({seriesNumber:n,dataPointIndex:r,color:E.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[n][o]}),D=S.drawMarker(e,t,E);if(a.config.series[d].data[r]&&a.config.series[d].data[r].fillColor&&(M=a.config.series[d].data[r].fillColor),D.attr({fill:M}),a.config.chart.dropShadow.enabled){var O=a.config.chart.dropShadow;g.dropShadow(D,O,n)}if(!this.initialAnim||a.globals.dataChanged||a.globals.resized)a.globals.animationEnded=!0;else{var N=a.config.chart.animations.speed;p.animateMarker(D,N,a.globals.easing,(function(){window.setTimeout((function(){p.animationCompleted(D)}),100)}))}return D.attr({rel:r,j:r,index:n,"default-marker-size":E.pSize}),g.setSelectionFilter(D,n,r),w.addEvents(D),D.node.classList.add("apexcharts-marker"),D}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),s})(),Dd=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"dataLabelsCorrection",value:function(e,t,i,n,r,o,a){var d=this.w,p=!1,g=new lt(this.ctx).getTextRects(i,a),x=g.width,w=g.height;t<0&&(t=0),t>d.globals.gridHeight+w&&(t=d.globals.gridHeight+w/2),d.globals.dataLabelsRects[n]===void 0&&(d.globals.dataLabelsRects[n]=[]),d.globals.dataLabelsRects[n].push({x:e,y:t,width:x,height:w});var S=d.globals.dataLabelsRects[n].length-2,E=d.globals.lastDrawnDataLabelsIndexes[n]!==void 0?d.globals.lastDrawnDataLabelsIndexes[n][d.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(d.globals.dataLabelsRects[n][S]!==void 0){var M=d.globals.dataLabelsRects[n][E];(e>M.x+M.width||t>M.y+M.height||t+w<M.y||e+x<M.x)&&(p=!0)}return(r===0||o)&&(p=!0),{x:e,y:t,textRects:g,drawnextLabel:p}}},{key:"drawDataLabel",value:function(e){var t=this,i=e.type,n=e.pos,r=e.i,o=e.j,a=e.isRangeStart,d=e.strokeWidth,p=d===void 0?2:d,g=this.w,x=new lt(this.ctx),w=g.config.dataLabels,S=0,E=0,M=o,D=null;if(g.globals.collapsedSeriesIndices.indexOf(r)!==-1||!w.enabled||!Array.isArray(n.x))return D;D=x.group({class:"apexcharts-data-labels"});for(var O=0;O<n.x.length;O++)if(S=n.x[O]+w.offsetX,E=n.y[O]+w.offsetY+p,!isNaN(S)){o===1&&O===0&&(M=0),o===1&&O===1&&(M=1);var N=g.globals.series[r][M];i==="rangeArea"&&(N=a?g.globals.seriesRangeStart[r][M]:g.globals.seriesRangeEnd[r][M]);var H="",X=function(Q){return g.config.dataLabels.formatter(Q,{ctx:t.ctx,seriesIndex:r,dataPointIndex:M,w:g})};g.config.chart.type==="bubble"?(H=X(N=g.globals.seriesZ[r][M]),E=n.y[O],E=new NP(this.ctx).centerTextInBubble(E,r,M).y):N!==void 0&&(H=X(N));var U=g.config.dataLabels.textAnchor;g.globals.isSlopeChart&&(U=M===0?"end":M===g.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:S,y:E,text:H,i:r,j:M,parent:D,offsetCorrection:!0,dataLabelsConfig:g.config.dataLabels,textAnchor:U})}return D}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new lt(this.ctx),n=e.x,r=e.y,o=e.i,a=e.j,d=e.text,p=e.textAnchor,g=e.fontSize,x=e.parent,w=e.dataLabelsConfig,S=e.color,E=e.alwaysDrawDataLabel,M=e.offsetCorrection,D=e.className,O=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return O;var N={x:n,y:r,drawnextLabel:!0,textRects:null};M&&(N=this.dataLabelsCorrection(n,r,d,o,a,E,parseInt(w.style.fontSize,10))),t.globals.zoomed||(n=N.x,r=N.y),N.textRects&&(n<-20-N.textRects.width||n>t.globals.gridWidth+N.textRects.width+30)&&(d="");var H=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(H=t.globals.dataLabels.style.colors[a]),typeof H=="function"&&(H=H({series:t.globals.series,seriesIndex:o,dataPointIndex:a,w:t})),S&&(H=S);var X=w.offsetX,U=w.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(X=0,U=0),t.globals.isSlopeChart&&(a!==0&&(X=-2*w.offsetX+5),a!==0&&a!==t.config.series[o].data.length-1&&(X=0)),N.drawnextLabel){if(p==="middle"&&n===t.globals.gridWidth&&(p="end"),(O=i.drawText({width:100,height:parseInt(w.style.fontSize,10),x:n+X,y:r+U,foreColor:H,textAnchor:p||w.textAnchor,text:d,fontSize:g||w.style.fontSize,fontFamily:w.style.fontFamily,fontWeight:w.style.fontWeight||"normal"})).attr({class:D||"apexcharts-datalabel",cx:n,cy:r}),w.dropShadow.enabled){var Q=w.dropShadow;new Wa(this.ctx).dropShadow(O,Q)}x.add(O),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(a)}return O}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,n=i.config.dataLabels.background,r=n.padding,o=n.padding/2,a=t.width,d=t.height,p=new lt(this.ctx).drawRect(t.x-r,t.y-o/2,a+2*r,d+o,n.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new Wa(this.ctx).dropShadow(p,n.dropShadow),p}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var n=t[i],r=n.getBBox(),o=null;if(r.width&&r.height&&(o=this.addBackgroundToDataLabel(n,r)),o){n.parentNode.insertBefore(o.node,n);var a=e.config.dataLabels.background.backgroundColor||n.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:a}):o.attr({fill:a}),n.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<t.length;n++)i&&i.insertBefore(t[n],i.nextSibling)}}]),s})(),$P=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Is=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return At(s,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(De.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function n(r){for(var o=0;o<r.length;o++)r[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}n(i.globals.collapsedSeries),n(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=this.w,r=De.clone(n.globals.initialSeries);n.globals.previousPaths=[],i?(n.globals.collapsedSeries=[],n.globals.ancillaryCollapsedSeries=[],n.globals.collapsedSeriesIndices=[],n.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),n.config.series=r,e&&(t&&(n.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,i=this.getSeriesByName(e),n=parseInt(i?.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,a=null,d=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),a=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(n,"']"));var p=t.globals.seriesYAxisReverseMap[n];d=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(p,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"'] path"));for(var g=0;g<r.length;g++)r[g].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),a!==null&&a.classList.remove(this.legendInactiveClass),d!==null&&d.classList.remove(this.legendInactiveClass);else for(var x=0;x<r.length;x++)r[x].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[r])}else if(e.type==="mouseout")for(var o=0;o<n.length;o++)n[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(p){for(var g=0;g<r.length;g++)r[g].classList[p](i.legendInactiveClass)};if(e.type==="mousemove"){var a=parseInt(t.getAttribute("rel"),10)-1;o("add");var d=n.config.plotOptions.heatmap.colorScale.ranges;(function(p,g){for(var x=0;x<r.length;x++){var w=Number(r[x].getAttribute("val"));w>=p.from&&(w<p.to||p.to===g&&w===g)&&r[x].classList.remove(i.legendInactiveClass)}})(d[a],d.reduce((function(p,g){return Math.max(p,g.to)}),0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,n=0;if(i.config.series.length>1){for(var r=i.config.series.map((function(a,d){return a.data&&a.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(d)===-1&&(!i.globals.comboCharts||t.length===0||t.length&&t.indexOf(i.config.series[d].type)>-1)?d:-1})),o=e==="asc"?0:r.length-1;e==="asc"?o<r.length:o>=0;e==="asc"?o++:o--)if(r[o]!==-1){n=r[o];break}}return n}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,a,d){for(var p=o[a].childNodes,g={type:d,paths:[],realIndex:o[a].getAttribute("data:realIndex")},x=0;x<p.length;x++)if(p[x].hasAttribute("pathTo")){var w=p[x].getAttribute("pathTo");g.paths.push({d:w})}e.globals.previousPaths.push(g)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(o){for(var a,d=(a=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"))),p=0;p<d.length;p++)t(d,p,o)}));var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var n=function(o){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),d=[],p=function(x){var w=function(E){return a[x].getAttribute(E)},S={x:parseFloat(w("x")),y:parseFloat(w("y")),width:parseFloat(w("width")),height:parseFloat(w("height"))};d.push({rect:S,color:a[x].getAttribute("color")})},g=0;g<a.length;g++)p(g);e.globals.previousPaths.push(d)},r=0;r<i.length;r++)n(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new lt(this.ctx),n=e.globals.svgWidth/2,r=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(n=10,o="start"):t.align==="right"&&(n=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?r=50:t.verticalAlign==="bottom"&&(r=e.globals.svgHeight-50),n+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var a=i.drawText({x:n,y:r,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(e[i].length===0)for(var n=0;n<e[t.globals.maxValsInArrayIndex].length;n++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),n=0;n<i.length-1;n++)if(i[n][0]!==i[n+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),s})(),l1=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ta(this.ctx)}return At(s,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Is(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Is(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,n=this.w.globals,r=i.chart.type==="boxPlot"||i.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!r?this.twoDSeries.push(De.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(De.parseNumber(e[t].data[o][4])):this.twoDSeries.push(De.parseNumber(e[t].data[o][1])),n.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var a=new Date(e[t].data[o][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var d=0;d<e[t].data.length;d++)e[t].data[d][2]!==void 0&&(this.threeDSeries.push(e[t].data[d][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,n=this.w.globals,r=new Ga(this.ctx),o=t;n.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var a=0;a<e[t].data.length;a++)e[t].data[a].y!==void 0&&(Array.isArray(e[t].data[a].y)?this.twoDSeries.push(De.parseNumber(e[t].data[a].y[e[t].data[a].y.length-1])):this.twoDSeries.push(De.parseNumber(e[t].data[a].y))),e[t].data[a].goals!==void 0&&Array.isArray(e[t].data[a].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[a].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var d=0;d<e[o].data.length;d++){var p=typeof e[o].data[d].x=="string",g=Array.isArray(e[o].data[d].x),x=!g&&!!r.isValidDate(e[o].data[d].x);if(p||x)if(p||i.xaxis.convertedCatToNumeric){var w=n.isBarHorizontal&&n.isRangeData;i.xaxis.type!=="datetime"||w?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[d].x),isNaN(e[o].data[d].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[d].x=="string"||(n.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[o].data[d].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(r.parseDate(e[o].data[d].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[d].x)));else g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[d].x)):(n.isXNumeric=!0,n.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[d].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var S=0;S<e[t].data.length;S++)this.threeDSeries.push(e[t].data[S].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart[t]=n.start===void 0?[]:n.start,i.seriesRangeEnd[t]=n.end===void 0?[]:n.end,i.seriesRange[t]=n.rangeUniques,i.seriesRange.forEach((function(r,o){r&&r.forEach((function(a,d){a.y.forEach((function(p,g){for(var x=0;x<a.y.length;x++)if(g!==x){var w=p.y1,S=p.y2,E=a.y[x].y1;w<=a.y[x].y2&&E<=S&&(a.overlaps.indexOf(p.rangeName)<0&&a.overlaps.push(p.rangeName),a.overlaps.indexOf(a.y[x].rangeName)<0&&a.overlaps.push(a.y[x].rangeName))}}))}))})),n}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=n.o,i.seriesCandleH[t]=n.h,i.seriesCandleM[t]=n.m,i.seriesCandleL[t]=n.l,i.seriesCandleC[t]=n.c,n}},{key:"handleRangeDataFormat",value:function(e,t,i){var n=[],r=[],o=t[i].data.filter((function(g,x,w){return x===w.findIndex((function(S){return S.x===g.x}))})).map((function(g,x){return{x:g.x,overlaps:[],y:[]}}));if(e==="array")for(var a=0;a<t[i].data.length;a++)Array.isArray(t[i].data[a])?(n.push(t[i].data[a][1][0]),r.push(t[i].data[a][1][1])):(n.push(t[i].data[a]),r.push(t[i].data[a]));else if(e==="xy")for(var d=function(g){var x=Array.isArray(t[i].data[g].y),w=De.randomId(),S=t[i].data[g].x,E={y1:x?t[i].data[g].y[0]:t[i].data[g].y,y2:x?t[i].data[g].y[1]:t[i].data[g].y,rangeName:w};t[i].data[g].rangeName=w;var M=o.findIndex((function(D){return D.x===S}));o[M].y.push(E),n.push(E.y1),r.push(E.y2)},p=0;p<t[i].data.length;p++)d(p);return{start:n,end:r,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var n=this.w,r=n.config.chart.type==="boxPlot"||n.config.series[i].type==="boxPlot",o=[],a=[],d=[],p=[],g=[];if(e==="array")if(r&&t[i].data[0].length===6||!r&&t[i].data[0].length===5)for(var x=0;x<t[i].data.length;x++)o.push(t[i].data[x][1]),a.push(t[i].data[x][2]),r?(d.push(t[i].data[x][3]),p.push(t[i].data[x][4]),g.push(t[i].data[x][5])):(p.push(t[i].data[x][3]),g.push(t[i].data[x][4]));else for(var w=0;w<t[i].data.length;w++)Array.isArray(t[i].data[w][1])&&(o.push(t[i].data[w][1][0]),a.push(t[i].data[w][1][1]),r?(d.push(t[i].data[w][1][2]),p.push(t[i].data[w][1][3]),g.push(t[i].data[w][1][4])):(p.push(t[i].data[w][1][2]),g.push(t[i].data[w][1][3])));else if(e==="xy")for(var S=0;S<t[i].data.length;S++)Array.isArray(t[i].data[S].y)&&(o.push(t[i].data[S].y[0]),a.push(t[i].data[S].y[1]),r?(d.push(t[i].data[S].y[2]),p.push(t[i].data[S].y[3]),g.push(t[i].data[S].y[4])):(p.push(t[i].data[S].y[2]),g.push(t[i].data[S].y[3])));return{o,h:a,m:d,l:p,c:g}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,n=this.w.config,r=this.w.globals,o=new Ga(i),a=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();r.isRangeBar=n.chart.type==="rangeBar"&&r.isBarHorizontal,r.hasXaxisGroups=n.xaxis.type==="category"&&n.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=n.xaxis.group.groups),e.forEach((function(S,E){S.name!==void 0?r.seriesNames.push(S.name):r.seriesNames.push("series-"+parseInt(E+1,10))})),this.coreUtils.setSeriesYAxisMappings();var d=[],p=Ca(new Set(n.series.map((function(S){return S.group}))));n.series.forEach((function(S,E){var M=p.indexOf(S.group);d[M]||(d[M]=[]),d[M].push(r.seriesNames[E])})),r.seriesGroups=d;for(var g=function(){for(var S=0;S<a.length;S++)if(typeof a[S]=="string"){if(!o.isValidDate(a[S]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(a[S]))}else t.twoDSeriesX.push(a[S])},x=0;x<e.length;x++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[x].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(n.chart.type!=="rangeBar"&&n.chart.type!=="rangeArea"&&e[x].type!=="rangeBar"&&e[x].type!=="rangeArea"||(r.isRangeData=!0,this.handleRangeData(e,x)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,x):this.isFormatXY()&&this.handleFormatXY(e,x),n.chart.type!=="candlestick"&&e[x].type!=="candlestick"&&n.chart.type!=="boxPlot"&&e[x].type!=="boxPlot"||this.handleCandleStickBoxData(e,x),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,x!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{n.xaxis.type==="datetime"?(r.isXNumeric=!0,g(),r.seriesX.push(this.twoDSeriesX)):n.xaxis.type==="numeric"&&(r.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var w=e[x].data.map((function(S){return De.parseNumber(S)}));r.series.push(w)}r.seriesZ.push(this.threeDSeries),e[x].color!==void 0?r.seriesColors.push(e[x].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config,n=Array.isArray(e)&&e.every((function(g){return typeof g=="number"}))&&i.labels.length>0,r=Array.isArray(e)&&e.some((function(g){return g&&vr(g)==="object"&&g.data||g&&vr(g)==="object"&&g.parsing}));if(n&&r&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),n){t.series=e.slice(),t.seriesNames=i.labels.slice();for(var o=0;o<t.series.length;o++)t.seriesNames[o]===void 0&&t.seriesNames.push("series-"+(o+1));return this.w}if(Array.isArray(e)&&e.every((function(g){return typeof g=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var a=0;a<t.series.length;a++)t.seriesNames.push(i.labels[a]||"series-".concat(a+1));return this.w}var d=this.extractPieDataFromSeries(e);t.series=d.values,t.seriesNames=d.labels,i.chart.type==="radialBar"&&(t.series=t.series.map((function(g){var x=De.parseNumber(g);return x>100&&console.warn("ApexCharts: RadialBar value ".concat(x," > 100, consider using percentage values (0-100)")),x})));for(var p=0;p<t.series.length;p++)t.seriesNames[p]===void 0&&t.seriesNames.push("series-"+(p+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],i=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var n=e[0];return vr(n)==="object"&&n!==null&&n.data?(this.extractPieDataFromSeriesObjects(e,t,i),{values:t,labels:i}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,i){e.forEach((function(n,r){n.data&&Array.isArray(n.data)?n.data.forEach((function(o){vr(o)==="object"&&o!==null?o.x!==void 0&&o.y!==void 0?(i.push(String(o.x)),t.push(De.parseNumber(o.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",o):console.warn("ApexCharts: Expected object data point, got:",vr(o))})):console.warn("ApexCharts: Series ".concat(r," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(n){n.forEach((function(r){i.labels.indexOf(r.x)<0&&r.x&&i.labels.push(r.x)}))})),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new bm(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,n=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=i.series.map((function(x,w){return x.data.filter((function(S,E,M){return M.findIndex((function(D){return D.x===S.x}))===E}))})),o=r.reduce((function(x,w,S,E){return E[x].length>w.length?x:S}),0),a=0;a<r[o].length;a++)n.push(a+1);else for(var d=0;d<t.series[t.maxValsInArrayIndex].length;d++)n.push(d+1);t.seriesX=[];for(var p=0;p<e.length;p++)t.seriesX.push(n);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(n.length===0){n=t.axisCharts?[]:t.series.map((function(x,w){return w+1}));for(var g=0;g<e.length;g++)t.seriesX.push(n)}t.labels=n,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=n.map((function(x){return i.xaxis.labels.formatter(x)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,i=this.w.config,n=this.w.globals,r=i.parsing;if(n.dataWasParsed||!r&&!e.some((function(a){return a.parsing})))return e;var o=e.map((function(a,d){var p,g,x;if(!a.data||!Array.isArray(a.data)||a.data.length===0)return a;var w={x:((p=a.parsing)===null||p===void 0?void 0:p.x)||r?.x,y:((g=a.parsing)===null||g===void 0?void 0:g.y)||r?.y,z:((x=a.parsing)===null||x===void 0?void 0:x.z)||r?.z};if(!w.x&&!w.y)return a;var S=a.data[0];if(vr(S)==="object"&&S!==null&&(S.hasOwnProperty("x")||S.hasOwnProperty("y"))||Array.isArray(S))return a;if(!w.x||!w.y||Array.isArray(w.y)&&w.y.length===0)return console.warn("ApexCharts: Series ".concat(d," has parsing config but missing x or y field specification")),a;var E=a.data.map((function(M,D){if(vr(M)!=="object"||M===null)return console.warn("ApexCharts: Series ".concat(d,", data point ").concat(D," is not an object, skipping parsing")),M;var O,N=t.getNestedValue(M,w.x),H=void 0;if(Array.isArray(w.y)){var X=w.y.map((function(Y){return t.getNestedValue(M,Y)}));O=t.w.config.chart.type==="bubble"&&X.length===2?X[0]:X}else O=t.getNestedValue(M,w.y);w.z&&(H=t.getNestedValue(M,w.z)),N===void 0&&console.warn("ApexCharts: Series ".concat(d,", data point ").concat(D," missing field '").concat(w.x,"'")),O===void 0&&console.warn("ApexCharts: Series ".concat(d,", data point ").concat(D," missing field '").concat(w.y,"'"));var U={x:N,y:O};if(t.w.config.chart.type==="bubble"&&Array.isArray(w.y)&&w.y.length===2){var Q=t.getNestedValue(M,w.y[1]);Q!==void 0&&(U.z=Q)}return H!==void 0&&(U.z=H),U}));return gt(gt({},a),{},{data:E,__apexParsed:!0})}));return n.dataWasParsed=!0,n.originalSeries||(n.originalSeries=De.clone(e)),o}},{key:"getNestedValue",value:function(e,t){if(e&&vr(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++){if(n==null||vr(n)!=="object")return;n=n[i[r]]}return n}}},{key:"parseData",value:function(e){var t=this.w,i=t.config,n=t.globals;if(e=this.parseRawDataIfNeeded(e),i.series=e,n.initialSeries=De.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),i.chart.stacked){var r=new Is(this.ctx);n.series=r.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&(n.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),n.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(n.labels),a=0;a<o.length;a++)if(Array.isArray(o[a])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(i,n){var r=0;i.forEach((function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&r++})),r>0&&r==i.length&&t.push(n)})),e.globals.ignoreYAxisIndexes=t.map((function(i){return i}))}}]),s})(),Qp=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),n=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",n*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+n)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(i){var n=t.w,r=e||n.config.chart.toolbar.export.scale||n.config.chart.toolbar.export.width/n.globals.svgWidth;r||(r=1);var o=n.globals.svgWidth*r,a=n.globals.svgHeight*r,d=n.globals.dom.elWrap.cloneNode(!0);d.style.width=o+"px",d.style.height=a+"px";var p=new XMLSerializer().serializeToString(d),g=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;n.config.legend.show&&n.globals.dom.elLegendWrap&&n.globals.dom.elLegendWrap.children.length>0&&(g+=$P);var x=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(n.globals.svgWidth,'px" height="').concat(n.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(a,`px;">
            <style type="text/css">
              `).concat(g,`
            </style>
              `).concat(p,`
            </div>
          </foreignObject>
        </svg>
      `),w=t.svgStringToNode(x);r!==1&&t.scaleSvgNode(w,r),t.convertImagesToBase64(w).then((function(){x=new XMLSerializer().serializeToString(w),i(x.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,i=e.getElementsByTagName("image"),n=Array.from(i).map((function(r){var o=r.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then((function(a){r.setAttributeNS("http://www.w3.org/1999/xlink","href",a)})).catch((function(a){console.error("Error converting image to base64:",a)})):Promise.resolve()}));return Promise.all(n)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,i){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var r=document.createElement("canvas");r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0),t(r.toDataURL())},n.onerror=i,n.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(i){var n=new Blob([i],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(n))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(i){var n=t.w,r=e?e.scale||e.width/n.globals.svgWidth:1,o=document.createElement("canvas");o.width=n.globals.svgWidth*r,o.height=parseInt(n.globals.dom.elWrap.style.height,10)*r;var a=n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",d=o.getContext("2d");d.fillStyle=a,d.fillRect(0,0,o.width*r,o.height*r),t.getSvgString(r).then((function(p){var g="data:image/svg+xml,"+encodeURIComponent(p),x=new Image;x.crossOrigin="anonymous",x.onload=function(){if(d.drawImage(x,0,0),o.msToBlob){var w=o.msToBlob();i({blob:w})}else{var S=o.toDataURL("image/png");i({imgURI:S})}},x.src=g}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,n=t?{scale:t}:i?{width:i}:void 0;this.dataURI(n).then((function(r){var o=r.imgURI,a=r.blob;a?navigator.msSaveOrOpenBlob(a,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,n=e.fileName,r=e.columnDelimiter,o=r===void 0?",":r,a=e.lineDelimiter,d=a===void 0?`
`:a,p=this.w;i||(i=p.config.series);var g=[],x=[],w="",S=p.globals.series.map((function(U,Q){return p.globals.collapsedSeriesIndices.indexOf(Q)===-1?U:[]})),E=function(U){return typeof p.config.chart.toolbar.export.csv.categoryFormatter=="function"?p.config.chart.toolbar.export.csv.categoryFormatter(U):p.config.xaxis.type==="datetime"&&String(U).length>=10?new Date(U).toDateString():De.isNumber(U)?U:U.split(o).join("")},M=function(U){return typeof p.config.chart.toolbar.export.csv.valueFormatter=="function"?p.config.chart.toolbar.export.csv.valueFormatter(U):U},D=Math.max.apply(Math,Ca(i.map((function(U){return U.data?U.data.length:0})))),O=new l1(this.ctx),N=new hh(this.ctx),H=function(U){var Q="";if(p.globals.axisCharts){if(p.config.xaxis.type==="category"||p.config.xaxis.convertedCatToNumeric)if(p.globals.isBarHorizontal){var Y=p.globals.yLabelFormatters[0],te=new Is(t.ctx).getActiveConfigSeriesIndex();Q=Y(p.globals.labels[U],{seriesIndex:te,dataPointIndex:U,w:p})}else Q=N.getLabel(p.globals.labels,p.globals.timescaleLabels,0,U).text;p.config.xaxis.type==="datetime"&&(p.config.xaxis.categories.length?Q=p.config.xaxis.categories[U]:p.config.labels.length&&(Q=p.config.labels[U]))}else Q=p.config.labels[U];return Q===null?"nullvalue":(Array.isArray(Q)&&(Q=Q.join(" ")),De.isNumber(Q)?Q:Q.split(o).join(""))},X=function(U,Q){if(g.length&&Q===0&&x.push(g.join(o)),U.data){U.data=U.data.length&&U.data||Ca(Array(D)).map((function(){return""}));for(var Y=0;Y<U.data.length;Y++){g=[];var te=H(Y);if(te!=="nullvalue"){if(te||(O.isFormatXY()?te=i[Q].data[Y].x:O.isFormat2DArray()&&(te=i[Q].data[Y]?i[Q].data[Y][0]:"")),Q===0){g.push(E(te));for(var se=0;se<p.globals.series.length;se++){var ce,ve=O.isFormatXY()?(ce=i[se].data[Y])===null||ce===void 0?void 0:ce.y:S[se][Y];g.push(M(ve))}}(p.config.chart.type==="candlestick"||U.type&&U.type==="candlestick")&&(g.pop(),g.push(p.globals.seriesCandleO[Q][Y]),g.push(p.globals.seriesCandleH[Q][Y]),g.push(p.globals.seriesCandleL[Q][Y]),g.push(p.globals.seriesCandleC[Q][Y])),(p.config.chart.type==="boxPlot"||U.type&&U.type==="boxPlot")&&(g.pop(),g.push(p.globals.seriesCandleO[Q][Y]),g.push(p.globals.seriesCandleH[Q][Y]),g.push(p.globals.seriesCandleM[Q][Y]),g.push(p.globals.seriesCandleL[Q][Y]),g.push(p.globals.seriesCandleC[Q][Y])),p.config.chart.type==="rangeBar"&&(g.pop(),g.push(p.globals.seriesRangeStart[Q][Y]),g.push(p.globals.seriesRangeEnd[Q][Y])),g.length&&x.push(g.join(o))}}}};g.push(p.config.chart.toolbar.export.csv.headerCategory),p.config.chart.type==="boxPlot"?(g.push("minimum"),g.push("q1"),g.push("median"),g.push("q3"),g.push("maximum")):p.config.chart.type==="candlestick"?(g.push("open"),g.push("high"),g.push("low"),g.push("close")):p.config.chart.type==="rangeBar"?(g.push("minimum"),g.push("maximum")):i.map((function(U,Q){var Y=(U.name?U.name:"series-".concat(Q))+"";p.globals.axisCharts&&g.push(Y.split(o).join("")?Y.split(o).join(""):"series-".concat(Q))})),p.globals.axisCharts||(g.push(p.config.chart.toolbar.export.csv.headerValue),x.push(g.join(o))),p.globals.allSeriesHasEqualX||!p.globals.axisCharts||p.config.xaxis.categories.length||p.config.labels.length?i.map((function(U,Q){p.globals.axisCharts?X(U,Q):((g=[]).push(E(p.globals.labels[Q])),g.push(M(S[Q])),x.push(g.join(o)))})):(function(){var U=new Set,Q={};i.forEach((function(Y,te){Y?.data.forEach((function(se){var ce,ve;if(O.isFormatXY())ce=se.x,ve=se.y;else{if(!O.isFormat2DArray())return;ce=se[0],ve=se[1]}Q[ce]||(Q[ce]=Array(i.length).fill("")),Q[ce][te]=M(ve),U.add(ce)}))})),g.length&&x.push(g.join(o)),Array.from(U).sort().forEach((function(Y){x.push([E(Y),Q[Y].join(o)])}))})(),w+=x.join(d),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+w),n||p.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var n=document.createElement("a");n.href=e,n.download=(t||this.w.globals.chartID)+i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),s})(),km=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.axesUtils=new hh(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return At(s,[{key:"drawXaxis",value:function(){var e=this.w,t=new lt(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),n=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(n);for(var r=[],o=0;o<this.xaxisLabels.length;o++)r.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,n,r,e.globals.isXNumeric,(function(E,M){return M})),e.globals.hasXaxisGroups){var a=e.globals.groups;r=[];for(var d=0;d<a.length;d++)r.push(a[d].title);var p={};e.config.xaxis.group.style&&(p.xaxisFontSize=e.config.xaxis.group.style.fontSize,p.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,p.xaxisForeColors=e.config.xaxis.group.style.colors,p.fontWeight=e.config.xaxis.group.style.fontWeight,p.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,n,r,!1,(function(E,M){return a[E].cols*M}),p)}if(e.config.xaxis.title.text!==void 0){var g=t.group({class:"apexcharts-xaxis-title"}),x=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});g.add(x),i.add(g)}if(e.config.xaxis.axisBorder.show){var w=e.globals.barPadForNumericAxis,S=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-w,this.offY,this.xaxisBorderWidth+w,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(S):i.add(S)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,n,r,o){var a,d=this,p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},g=[],x=[],w=this.w,S=p.xaxisFontSize||this.xaxisFontSize,E=p.xaxisFontFamily||this.xaxisFontFamily,M=p.xaxisForeColors||this.xaxisForeColors,D=p.fontWeight||w.config.xaxis.labels.style.fontWeight,O=p.cssClass||w.config.xaxis.labels.style.cssClass,N=w.globals.padHorizontal,H=n.length,X=w.config.xaxis.type==="category"?w.globals.dataPoints:H;if(X===0&&H>X&&(X=H),r){var U=Math.max(Number(w.config.xaxis.tickAmount)||1,X>1?X-1:X);a=w.globals.gridWidth/Math.min(U,H-1),N=N+o(0,a)/2+w.config.xaxis.labels.offsetX}else a=w.globals.gridWidth/X,N=N+o(0,a)+w.config.xaxis.labels.offsetX;for(var Q=function(te){var se=N-o(te,a)/2+w.config.xaxis.labels.offsetX;te===0&&H===1&&a/2===N&&X===1&&(se=w.globals.gridWidth/2);var ce=d.axesUtils.getLabel(n,w.globals.timescaleLabels,se,te,g,S,e),ve=28;if(w.globals.rotateXLabels&&e&&(ve=22),w.config.xaxis.title.text&&w.config.xaxis.position==="top"&&(ve+=parseFloat(w.config.xaxis.title.style.fontSize)+2),e||(ve=ve+parseFloat(S)+(w.globals.xAxisLabelsHeight-w.globals.xAxisGroupLabelsHeight)+(w.globals.rotateXLabels?10:0)),ce=w.config.xaxis.tickAmount!==void 0&&w.config.xaxis.tickAmount!=="dataPoints"&&w.config.xaxis.type!=="datetime"?d.axesUtils.checkLabelBasedOnTickamount(te,ce,H):d.axesUtils.checkForOverflowingLabels(te,ce,H,g,x),w.config.xaxis.labels.show){var xe=t.drawText({x:ce.x,y:d.offY+w.config.xaxis.labels.offsetY+ve-(w.config.xaxis.position==="top"?w.globals.xAxisHeight+w.config.xaxis.axisTicks.height-2:0),text:ce.text,textAnchor:"middle",fontWeight:ce.isBold?600:D,fontSize:S,fontFamily:E,foreColor:Array.isArray(M)?e&&w.config.xaxis.convertedCatToNumeric?M[w.globals.minX+te-1]:M[te]:M,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+O});if(i.add(xe),xe.on("click",(function(Be){if(typeof w.config.chart.events.xAxisLabelClick=="function"){var Oe=Object.assign({},w,{labelIndex:te});w.config.chart.events.xAxisLabelClick(Be,d.ctx,Oe)}})),e){var Ee=document.createElementNS(w.globals.SVGNS,"title");Ee.textContent=Array.isArray(ce.text)?ce.text.join(" "):ce.text,xe.node.appendChild(Ee),ce.text!==""&&(g.push(ce.text),x.push(ce))}}te<H-1&&(N+=o(te+1,a))},Y=0;Y<=H-1;Y++)Q(Y)}},{key:"drawXaxisInversed",value:function(e){var t,i,n=this,r=this.w,o=new lt(this.ctx),a=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,d=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),p=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});d.add(p);var g=[];if(r.config.yaxis[e].show)for(var x=0;x<this.xaxisLabels.length;x++)g.push(this.xaxisLabels[x]);t=r.globals.gridHeight/g.length,i=-t/2.2;var w=r.globals.yLabelFormatters[0],S=r.config.yaxis[0].labels;if(S.show)for(var E=function(U){var Q=g[U]===void 0?"":g[U];Q=w(Q,{seriesIndex:e,dataPointIndex:U,w:r});var Y=n.axesUtils.getYAxisForeColor(S.style.colors,e),te=0;Array.isArray(Q)&&(te=Q.length/2*parseInt(S.style.fontSize,10));var se=S.offsetX-15,ce="end";n.yaxis.opposite&&(ce="start"),r.config.yaxis[0].labels.align==="left"?(se=S.offsetX,ce="start"):r.config.yaxis[0].labels.align==="center"?(se=S.offsetX,ce="middle"):r.config.yaxis[0].labels.align==="right"&&(ce="end");var ve=o.drawText({x:se,y:i+t+S.offsetY-te,text:Q,textAnchor:ce,foreColor:Array.isArray(Y)?Y[U]:Y,fontSize:S.style.fontSize,fontFamily:S.style.fontFamily,fontWeight:S.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+S.style.cssClass,maxWidth:S.maxWidth});p.add(ve),ve.on("click",(function(Be){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var Oe=Object.assign({},r,{labelIndex:U});r.config.chart.events.xAxisLabelClick(Be,n.ctx,Oe)}}));var xe=document.createElementNS(r.globals.SVGNS,"title");if(xe.textContent=Array.isArray(Q)?Q.join(" "):Q,ve.node.appendChild(xe),r.config.yaxis[e].labels.rotate!==0){var Ee=o.rotateAroundCenter(ve.node);ve.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(Ee.y,")"))}i+=t},M=0;M<=g.length-1;M++)E(M);if(r.config.yaxis[0].title.text!==void 0){var D=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),O=o.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});D.add(O),d.add(D)}var N=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(N=r.globals.gridWidth);var H=r.config.xaxis.axisBorder;if(H.show){var X=o.drawLine(r.globals.padHorizontal+H.offsetX+N,1+H.offsetY,r.globals.padHorizontal+H.offsetX+N,r.globals.gridHeight+H.offsetY,H.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(X):d.add(X)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(N,g.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,d),d}},{key:"drawXaxisTicks",value:function(e,t,i){var n=this.w,r=e;if(!(e<0||e-2>n.globals.gridWidth)){var o=this.offY+n.config.xaxis.axisTicks.offsetY;if(t=t+o+n.config.xaxis.axisTicks.height,n.config.xaxis.position==="top"&&(t=o-n.config.xaxis.axisTicks.height),n.config.xaxis.axisTicks.show){var a=new lt(this.ctx).drawLine(e+n.config.xaxis.axisTicks.offsetX,o+n.config.xaxis.offsetY,r+n.config.xaxis.axisTicks.offsetX,t+n.config.xaxis.offsetY,n.config.xaxis.axisTicks.color);i.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,n=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<i;r++)n=this.xaxisLabels[r].position,t.push(n);else for(var o=i,a=0;a<o;a++){var d=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(d-=1),n+=e.globals.gridWidth/d,t.push(n)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new lt(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var a=0;a<n.length;a++){var d=t.rotateAroundCenter(n[a]);d.y=d.y-1,d.x=d.x+1,n[a].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(d.x," ").concat(d.y,")")),n[a].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var p=n[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(p,(function(S){t.placeTextWithEllipsis(S,S.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var S=e.globals.gridWidth/(e.globals.labels.length+1),E=0;E<n.length;E++){var M=n[E].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(M,(function(D){t.placeTextWithEllipsis(D,D.textContent,S)}))}})();if(r.length>0){var g=r[r.length-1].getBBox(),x=r[0].getBBox();g.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),x.x+x.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var w=0;w<o.length;w++)t.placeTextWithEllipsis(o[w],o[w].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),s})(),VP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new hh(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return At(s,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,i=new lt(this.ctx);e||(e=i.group({class:"apexcharts-grid"}));var n=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(n),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new lt(this.ctx),n=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Ca(e.config.stroke.width)):e.config.stroke.width,r=function(g){var x=document.createElementNS(t.SVGNS,"clipPath");return x.setAttribute("id",g),x};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var o=0,a=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),a=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-n/2-2,-n/2-2,t.gridWidth+n+4,t.gridHeight+n+4,0,"#fff"),t.dom.elGridRectBar=i.drawRect(-n/2-o-2,-n/2-2,t.gridWidth+n+a+o+4,t.gridHeight+n+4,0,"#fff");var d=e.globals.markers.largestSize;t.dom.elGridRectMarker=i.drawRect(Math.min(-n/2-o-2,-d),-d,t.gridWidth+Math.max(n+a+o+4,2*d),t.gridHeight+2*d,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var p=t.dom.baseEl.querySelector("defs");p.appendChild(t.dom.elGridRectMask),p.appendChild(t.dom.elGridRectBarMask),p.appendChild(t.dom.elGridRectMarkerMask),p.appendChild(t.dom.elForecastMask),p.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.xCount,d=e.parent,p=this.w;if(!(t===0&&p.globals.skipFirstTimelinelabel||t===a-1&&p.globals.skipLastTimelinelabel&&!p.config.xaxis.labels.formatter||p.config.chart.type==="radar")){p.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:i,y1:n,x2:r,y2:o,xCount:a,parent:d});var g=0;if(p.globals.hasXaxisGroups&&p.config.xaxis.tickPlacement==="between"){var x=p.globals.groups;if(x){for(var w=0,S=0;w<t&&S<x.length;S++)w+=x[S].cols;w===t&&(g=.6*p.globals.xAxisLabelsHeight)}}new km(this.ctx).drawXaxisTicks(i,g,p.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.xCount,d=e.parent,p=this.w,g=d.node.classList.contains("apexcharts-gridlines-horizontal"),x=p.globals.barPadForNumericAxis,w=n===0&&o===0||i===0&&r===0||n===p.globals.gridHeight&&o===p.globals.gridHeight||p.globals.isBarHorizontal&&(t===0||t===a-1),S=new lt(this).drawLine(i-(g?x:0),n,r+(g?x:0),o,p.config.grid.borderColor,p.config.grid.strokeDashArray);S.node.classList.add("apexcharts-gridline"),w&&p.config.grid.show?this.elGridBorders.add(S):d.add(S)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.type,d=this.w,p=new lt(this.ctx),g=d.globals.barPadForNumericAxis,x=d.config.grid[a].colors[t],w=p.drawRect(i-(a==="row"?g:0),n,r+(a==="row"?2*g:0),o,0,x,d.config.grid[a].opacity);this.elg.add(w),w.attr("clip-path","url(#gridRectMask".concat(d.globals.cuid,")")),w.node.classList.add("apexcharts-grid-".concat(a))}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,n=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var o,a=r.globals.padHorizontal,d=r.globals.gridHeight;r.globals.timescaleLabels.length?(function(E){for(var M=E.xC,D=E.x1,O=E.y1,N=E.x2,H=E.y2,X=0;X<M;X++)D=t.xaxisLabels[X].position,N=t.xaxisLabels[X].position,t._drawGridLines({i:X,x1:D,y1:O,x2:N,y2:H,xCount:i,parent:t.elgridLinesV})})({xC:i,x1:a,y1:0,x2:o,y2:d}):(r.globals.isXNumeric&&(i=r.globals.xAxisScale.result.length),(function(E){for(var M=E.xC,D=E.x1,O=E.y1,N=E.x2,H=E.y2,X=0;X<M+(r.globals.isXNumeric?0:1);X++)X===0&&M===1&&r.globals.dataPoints===1&&(N=D=r.globals.gridWidth/2),t._drawGridLines({i:X,x1:D,y1:O,x2:N,y2:H,xCount:i,parent:t.elgridLinesV}),N=D+=r.globals.gridWidth/(r.globals.isXNumeric?M-1:M)})({xC:i,x1:a,y1:0,x2:o,y2:d}))}if(r.config.grid.yaxis.lines.show){var p=0,g=0,x=r.globals.gridWidth,w=n+1;this.isRangeBar&&(w=r.globals.labels.length);for(var S=0;S<w+(this.isRangeBar?1:0);S++)this._drawGridLine({i:S,xCount:w+(this.isRangeBar?1:0),x1:0,y1:p,x2:x,y2:g,parent:this.elgridLinesH}),g=p+=r.globals.gridHeight/(this.isRangeBar?w:n)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var n,r=i.globals.padHorizontal,o=i.globals.gridHeight,a=0;a<t+1;a++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:a,xCount:t+1,x1:r,y1:0,x2:n,y2:o,parent:this.elgridLinesV}),new km(this.ctx).drawXaxisTicks(r,0,i.globals.dom.elGraphical),n=r+=i.globals.gridWidth/t;if(i.config.grid.yaxis.lines.show)for(var d=0,p=0,g=i.globals.gridWidth,x=0;x<i.globals.dataPoints+1;x++)this._drawGridLine({i:x,xCount:i.globals.dataPoints+1,x1:0,y1:d,x2:g,y2:p,parent:this.elgridLinesH}),p=d+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,i=new lt(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var n=0;n<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(n);)n++;n===t.seriesYAxisMap.length&&(n=0);var r,o=t.yAxisScale[n].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var a,d,p;r=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),((a=t.yAxisScale)===null||a===void 0||(d=a[n])===null||d===void 0||(p=d.result)===null||p===void 0?void 0:p.length)>0&&e.config.xaxis.type!=="datetime"&&(r=t.yAxisScale[n].result.length-1)),this._drawXYLines({xCount:r,tickAmount:o})}else r=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:o});return this.drawGridBands(r,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var i,n,r=this,o=this.w;if(((i=o.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&(function(E,M,D,O,N,H){for(var X=0,U=0;X<M;X++,U++)U>=o.config.grid[E].colors.length&&(U=0),r._drawGridBandRect({c:U,x1:D,y1:O,x2:N,y2:H,type:E}),O+=o.globals.gridHeight/t})("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((n=o.config.grid.column.colors)===null||n===void 0?void 0:n.length)>0){var a=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(a=o.globals.xAxisScale.result.length-1);for(var d=o.globals.padHorizontal,p=o.globals.padHorizontal+o.globals.gridWidth/a,g=o.globals.gridHeight,x=0,w=0;x<e;x++,w++){var S;w>=o.config.grid.column.colors.length&&(w=0),o.config.xaxis.type==="datetime"&&(d=this.xaxisLabels[x].position,p=(((S=this.xaxisLabels[x+1])===null||S===void 0?void 0:S.position)||o.globals.gridWidth)-this.xaxisLabels[x].position),this._drawGridBandRect({c:w,x1:d,y1:0,x2:p,y2:g,type:"column"}),d+=o.globals.gridWidth/a}}}}]),s})(),HP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.coreUtils=new ta(this.ctx)}return At(s,[{key:"niceScale",value:function(e,t){var i,n,r,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=1e-11,p=this.w,g=p.globals;g.isBarHorizontal?(i=p.config.xaxis,n=Math.max((g.svgWidth-100)/25,2)):(i=p.config.yaxis[a],n=Math.max((g.svgHeight-100)/15,2)),De.isNumber(n)||(n=10),r=i.min!==void 0&&i.min!==null,o=i.max!==void 0&&i.min!==null;var x=i.stepSize!==void 0&&i.stepSize!==null,w=i.tickAmount!==void 0&&i.tickAmount!==null,S=w?i.tickAmount:g.niceScaleDefaultTicks[Math.min(Math.round(n/2),g.niceScaleDefaultTicks.length-1)];if(g.isMultipleYAxis&&!w&&g.multiAxisTickAmount>0&&(S=g.multiAxisTickAmount,w=!0),S=S==="dataPoints"?g.dataPoints-1:Math.abs(Math.round(S)),(e===Number.MIN_VALUE&&t===0||!De.isNumber(e)&&!De.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=De.isNumber(i.min)?i.min:0,t=De.isNumber(i.max)?i.max:e+S,g.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var E=t;t=e,e=E}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var M=[];S<1&&(S=1);var D=S,O=Math.abs(t-e);!r&&e>0&&e/O<.15&&(e=0,r=!0),!o&&t<0&&-t/O<.15&&(t=0,o=!0);var N=(O=Math.abs(t-e))/D,H=N,X=Math.floor(Math.log10(H)),U=Math.pow(10,X),Q=Math.ceil(H/U);if(N=H=(Q=g.niceScaleAllowedMagMsd[g.yValueDecimal===0?0:1][Q])*U,g.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(N=i.stepSize,x=!0):x&&(N=i.stepSize),x&&i.forceNiceScale){var Y=Math.floor(Math.log10(N));N*=Math.pow(10,X-Y)}if(r&&o){var te=O/D;if(w)if(x)if(De.mod(O,N)!=0){var se=De.getGCD(N,te);N=te/se<10?se:te}else De.mod(N,te)==0?N=te:(te=N,w=!1);else N=te;else if(x)De.mod(O,N)==0?te=N:N=te;else if(De.mod(O,N)==0)te=N;else{te=O/(D=Math.ceil(O/N));var ce=De.getGCD(O,N);O/ce<n&&(te=ce),N=te}D=Math.round(O/N)}else{if(r||o){if(o)if(w)e=t-N*D;else{var ve=e;e=N*Math.floor(e/N),Math.abs(t-e)/De.getGCD(O,N)>n&&(e=t-N*S,e+=N*Math.floor((ve-e)/N))}else if(r)if(w)t=e+N*D;else{var xe=t;t=N*Math.ceil(t/N),Math.abs(t-e)/De.getGCD(O,N)>n&&(t=e+N*S,t+=N*Math.ceil((xe-t)/N))}}else if(g.isMultipleYAxis&&w){var Ee=N*Math.floor(e/N),Be=Ee+N*D;Be<t&&(N*=2),Be=t,t=(e=Ee)+N*D,O=Math.abs(t-e),e>0&&e<Math.abs(Be-t)&&(e=0,t=N*D),t<0&&-t<Math.abs(Ee-e)&&(t=0,e=-N*D)}else e=N*Math.floor(e/N),t=N*Math.ceil(t/N);O=Math.abs(t-e),N=De.getGCD(O,N),D=Math.round(O/N)}if(w||r||o||(D=Math.ceil((O-d)/(N+d)))>16&&De.getPrimeFactors(D).length<2&&D++,!w&&i.forceNiceScale&&g.yValueDecimal===0&&D>O&&(D=O,N=Math.round(O/D)),D>n&&(!w&&!x||i.forceNiceScale)){var Oe=De.getPrimeFactors(D),Ue=Oe.length-1,$e=D;e:for(var nt=0;nt<Ue;nt++)for(var Qe=0;Qe<=Ue-nt;Qe++){for(var Ae=Math.min(Qe+nt,Ue),ft=$e,Dt=1,Yt=Qe;Yt<=Ae;Yt++)Dt*=Oe[Yt];if((ft/=Dt)<n){$e=ft;break e}}N=$e===D?O:O/$e,D=Math.round(O/N)}g.isMultipleYAxis&&g.multiAxisTickAmount==0&&g.ignoreYAxisIndexes.indexOf(a)<0&&(g.multiAxisTickAmount=D);var wt=e-N,Rt=N*d;do wt+=N,M.push(De.stripNumber(wt,7));while(t-wt>Rt);return{result:M,niceMin:M[0],niceMax:M[M.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),a=[];if(e===t)return{result:a=[e],niceMin:a[0],niceMax:a[a.length-1]};(i=this._adjustTicksForSmallRange(i,n,o))==="dataPoints"&&(i=this.w.globals.dataPoints-1),r||(r=o/i),r=Math.round(100*(r+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,r=1);for(var d=e;i>=0;)a.push(d),d=De.preciseAddition(d,r),i-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var n=[],r=Math.ceil(Math.log(t)/Math.log(i)+1),o=Math.floor(Math.log(e)/Math.log(i));o<r;o++)n.push(Math.pow(i,o));return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var n=[],r=Math.log(t)/Math.log(i),o=Math.log(e)/Math.log(i),a=r-o,d=Math.round(a),p=a/d,g=0,x=o;g<d;g++,x+=p)n.push(Math.pow(i,x));return n.push(Math.pow(i,r)),{result:n,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var n=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var r=Number(this.w.config.yaxis[t].labels.formatter(1));De.isNumber(r)&&this.w.globals.yValueDecimal===0&&(n=Math.ceil(i))}return n<e?n:e}},{key:"setYScaleForIndex",value:function(e,t,i){var n=this.w.globals,r=this.w.config,o=n.isBarHorizontal?r.xaxis:r.yaxis[e];n.yAxisScale[e]===void 0&&(n.yAxisScale[e]=[]);var a=Math.abs(i-t);o.logarithmic&&a<=5&&(n.invalidLogScale=!0),o.logarithmic&&a>5?(n.allSeriesCollapsed=!1,n.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,i,o.logBase):this.logarithmicScale(t,i,o.logBase)):i!==-Number.MAX_VALUE&&De.isNumber(i)&&t!==Number.MAX_VALUE&&De.isNumber(t)?(n.allSeriesCollapsed=!1,n.yAxisScale[e]=this.niceScale(t,i,e)):n.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var i=this.w,n=i.globals;if(t!==-Number.MAX_VALUE&&De.isNumber(t)){var r=n.xTickAmount;n.xAxisScale=this.linearScale(e,t,r,0,i.config.xaxis.max===void 0?i.config.xaxis.stepSize:void 0)}else n.xAxisScale=this.linearScale(0,10,10);return n.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var n=i.seriesYAxisMap,r=i.minYArr,o=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],n.forEach((function(a,d){var p=[];a.forEach((function(g){var x,w=(x=t.series[g])===null||x===void 0?void 0:x.group;p.indexOf(w)<0&&p.push(w)})),a.length>0?(function(){var g,x,w=Number.MAX_VALUE,S=-Number.MAX_VALUE,E=w,M=S;if(t.chart.stacked)(function(){var N=new Array(i.dataPoints).fill(0),H=[],X=[],U=[];p.forEach((function(){H.push(N.map((function(){return Number.MIN_VALUE}))),X.push(N.map((function(){return Number.MIN_VALUE}))),U.push(N.map((function(){return Number.MIN_VALUE})))}));for(var Q=function(te){!g&&t.series[a[te]].type&&(g=t.series[a[te]].type);var se=a[te];x=t.series[se].group?t.series[se].group:"axis-".concat(d),!(i.collapsedSeriesIndices.indexOf(se)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(se)<0)||(i.allSeriesCollapsed=!1,p.forEach((function(ce,ve){if(t.series[se].group===ce)for(var xe=0;xe<i.series[se].length;xe++){var Ee=i.series[se][xe];Ee>=0?X[ve][xe]+=Ee:U[ve][xe]+=Ee,H[ve][xe]+=Ee,E=Math.min(E,Ee),M=Math.max(M,Ee)}}))),g!=="bar"&&g!=="column"||i.barGroups.push(x)},Y=0;Y<a.length;Y++)Q(Y);g||(g=t.chart.type),g==="bar"||g==="column"?p.forEach((function(te,se){w=Math.min(w,Math.min.apply(null,U[se])),S=Math.max(S,Math.max.apply(null,X[se]))})):(p.forEach((function(te,se){E=Math.min(E,Math.min.apply(null,H[se])),M=Math.max(M,Math.max.apply(null,H[se]))})),w=E,S=M),w===Number.MIN_VALUE&&S===Number.MIN_VALUE&&(S=-Number.MAX_VALUE)})();else for(var D=0;D<a.length;D++){var O=a[D];w=Math.min(w,r[O]),S=Math.max(S,o[O]),!(i.collapsedSeriesIndices.indexOf(O)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(O)<0)||(i.allSeriesCollapsed=!1)}t.yaxis[d].min!==void 0&&(w=typeof t.yaxis[d].min=="function"?t.yaxis[d].min(w):t.yaxis[d].min),t.yaxis[d].max!==void 0&&(S=typeof t.yaxis[d].max=="function"?t.yaxis[d].max(S):t.yaxis[d].max),i.barGroups=i.barGroups.filter((function(N,H,X){return X.indexOf(N)===H})),e.setYScaleForIndex(d,w,S),a.forEach((function(N){r[N]=i.yAxisScale[d].niceMin,o[N]=i.yAxisScale[d].niceMax}))})():e.setYScaleForIndex(d,0,-Number.MAX_VALUE)}))}}]),s})(),D0=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.scales=new HP(e)}return At(s,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w.config,o=this.w.globals,a=-Number.MAX_VALUE,d=Number.MIN_VALUE;n===null&&(n=e+1);var p=o.series,g=p,x=p;r.chart.type==="candlestick"?(g=o.seriesCandleL,x=o.seriesCandleH):r.chart.type==="boxPlot"?(g=o.seriesCandleO,x=o.seriesCandleC):o.isRangeData&&(g=o.seriesRangeStart,x=o.seriesRangeEnd);var w=!1;if(o.seriesX.length>=n){var S,E=(S=o.brushSource)===null||S===void 0?void 0:S.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||E!=null&&E.enabled&&E!=null&&E.autoScaleYaxis)&&(w=!0)}for(var M=e;M<n;M++){o.dataPoints=Math.max(o.dataPoints,p[M].length);var D=r.series[M].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(se){return se!==void 0})).length),o.labels.length&&r.xaxis.type!=="datetime"&&o.series.reduce((function(se,ce){return se+ce.length}),0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var O=0,N=p[M].length-1;if(w){if(r.xaxis.min)for(;O<N&&o.seriesX[M][O]<r.xaxis.min;O++);if(r.xaxis.max)for(;N>O&&o.seriesX[M][N]>r.xaxis.max;N--);}for(var H=O;H<=N&&H<o.series[M].length;H++){var X=p[M][H];if(X!==null&&De.isNumber(X)){var U,Q,Y,te;switch(((U=x[M])===null||U===void 0?void 0:U[H])!==void 0&&(a=Math.max(a,x[M][H]),t=Math.min(t,x[M][H])),((Q=g[M])===null||Q===void 0?void 0:Q[H])!==void 0&&(t=Math.min(t,g[M][H]),i=Math.max(i,g[M][H])),D){case"candlestick":o.seriesCandleC[M][H]!==void 0&&(a=Math.max(a,o.seriesCandleH[M][H]),t=Math.min(t,o.seriesCandleL[M][H]));break;case"boxPlot":o.seriesCandleC[M][H]!==void 0&&(a=Math.max(a,o.seriesCandleC[M][H]),t=Math.min(t,o.seriesCandleO[M][H]))}D&&D!=="candlestick"&&D!=="boxPlot"&&D!=="rangeArea"&&D!=="rangeBar"&&(a=Math.max(a,o.series[M][H]),t=Math.min(t,o.series[M][H])),o.seriesGoals[M]&&o.seriesGoals[M][H]&&Array.isArray(o.seriesGoals[M][H])&&o.seriesGoals[M][H].forEach((function(se){a=Math.max(a,se.value),t=Math.min(t,se.value)})),i=a,X=De.noExponents(X),De.isFloat(X)&&(o.yValueDecimal=Math.max(o.yValueDecimal,X.toString().split(".")[1].length)),d>((Y=g[M])===null||Y===void 0?void 0:Y[H])&&((te=g[M])===null||te===void 0?void 0:te[H])<0&&(d=g[M][H])}else o.hasNullValues=!0}D!=="bar"&&D!=="column"||(d<0&&a<0&&(a=0,i=Math.max(i,0)),d===Number.MIN_VALUE&&(d=0,t=Math.min(t,0)))}return r.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(d=t),r.chart.type==="bar"&&(d<0&&a<0&&(a=0),d===Number.MIN_VALUE&&(d=0)),{minY:d,maxY:a,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i,n=Number.MAX_VALUE;if(e.isMultipleYAxis){n=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)i=this.getMinYMaxY(r),e.minYArr[r]=i.lowestY,e.maxYArr[r]=i.highestY,n=Math.min(n,i.lowestY)}return i=this.getMinYMaxY(0,n,null,e.series.length),t.chart.type==="bar"?(e.minY=i.minY,e.maxY=i.maxY):(e.minY=i.lowestY,e.maxY=i.highestY),n=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==e.maxY&&(e.minY=n):e.minY=e.minY!==Number.MIN_VALUE?Math.min(i.minY,e.minY):i.minY,t.yaxis.forEach((function(o,a){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[a]=o.max:typeof o.max=="function"&&(e.maxYArr[a]=o.max(e.isMultipleYAxis?e.maxYArr[a]:e.maxY)),e.maxY=e.maxYArr[a]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[a]=o.min:typeof o.min=="function"&&(e.minYArr[a]=o.min(e.isMultipleYAxis?e.minYArr[a]===Number.MIN_VALUE?0:e.minYArr[a]:e.minY)),e.minY=e.minYArr[a])})),e.isBarHorizontal&&["min","max"].forEach((function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=n):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}})),e.barGroups=e.barGroups.filter((function(o,a,d){return d.indexOf(o)===a})),e.lineGroups=e.lineGroups.filter((function(o,a,d){return d.indexOf(o)===a})),e.areaGroups=e.areaGroups.filter((function(o,a,d){return d.indexOf(o)===a})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var d=0;d<e.series.length;d++)if(e.labels[d])for(var p=0;p<e.labels[d].length;p++)e.labels[d][p]!==null&&De.isNumber(e.labels[d][p])&&(e.maxX=Math.max(e.maxX,e.labels[d][p]),e.initialMaxX=Math.max(e.maxX,e.labels[d][p]),e.minX=Math.min(e.minX,e.labels[d][p]),e.initialMinX=Math.min(e.minX,e.labels[d][p]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var n=10;if(t.xaxis.tickAmount===void 0)n=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(n=e.dataPoints-1),n>e.dataPoints&&e.dataPoints!==0&&(n=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(n=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=Math.round(e.maxX-e.minX);r<30&&(n=r)}}else n=t.xaxis.tickAmount;if(e.xTickAmount=n,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],a=e.minX-1;a<e.maxX;a++)o.push(a+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,n,n,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,n-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var i=0;i<e.seriesZ[t].length;i++)e.seriesZ[t][i]!==null&&De.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new Ga(this.ctx);if(t.xaxis.type==="datetime"){var n=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()-2):n.setDate(n.getDate()-2),e.minX=new Date(n).getTime();var r=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,i){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var n=t.slice();n.sort((function(r,o){return r-o})),n.forEach((function(r,o){if(o>0){var a=r-n[o-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var i=t.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map((function(o){return o}))]);var n={},r={};i.forEach((function(o){n[o]=[],r[o]=[],e.w.config.series.map((function(a,d){return o.indexOf(t.seriesNames[d])>-1?d:null})).filter((function(a){return a!==null})).forEach((function(a){for(var d=0;d<t.series[t.maxValsInArrayIndex].length;d++){var p,g,x,w;n[o][d]===void 0&&(n[o][d]=0,r[o][d]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((p=e.w.config.series)===null||p===void 0||(g=p[a])===null||g===void 0?void 0:g.type)==="bar"||((x=e.w.config.series)===null||x===void 0||(w=x[a])===null||w===void 0?void 0:w.type)==="column"))&&t.series[a][d]!==null&&De.isNumber(t.series[a][d])&&(t.series[a][d]>0?n[o][d]+=parseFloat(t.series[a][d])+1e-4:r[o][d]+=parseFloat(t.series[a][d]))}}))})),Object.entries(n).forEach((function(o){var a=uP(o,1)[0];n[a].forEach((function(d,p){t.maxY=Math.max(t.maxY,n[a][p]),t.minY=Math.min(t.minY,r[a][p])}))}))}}}]),s})(),h1=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new hh(e)}return At(s,[{key:"drawYaxis",value:function(e){var t=this.w,i=new lt(this.ctx),n=t.config.yaxis[e].labels.style,r=n.fontSize,o=n.fontFamily,a=n.fontWeight,d=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return d;var p=i.group({class:"apexcharts-yaxis-texts-g"});d.add(p);var g=t.globals.yAxisScale[e].result.length-1,x=t.globals.gridHeight/g,w=t.globals.yLabelFormatters[e],S=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var E=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?E=0:t.config.chart.type==="heatmap"&&(E-=x/2),E+=parseInt(r,10)/3;for(var M=g;M>=0;M--){var D=w(S[M],M,t),O=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(O*=-1);var N=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),H=this.axesUtils.getYAxisForeColor(n.colors,e),X=Array.isArray(H)?H[M]:H,U=De.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(Y){return Y.textContent})),Q=i.drawText({x:O,y:E,text:U.includes(D)&&!t.config.yaxis[e].labels.showDuplicates?"":D,textAnchor:N,fontSize:r,fontFamily:o,fontWeight:a,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:X,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(n.cssClass)});p.add(Q),this.addTooltip(Q,D),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(i,Q,firstLabel,t.config.yaxis[e].labels.rotate),E+=x}}return this.addYAxisTitle(i,d,e),this.addAxisBorder(i,d,e,g,x),d}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(i)}},{key:"rotateLabel",value:function(e,t,i,n){var r=e.rotateAroundCenter(i.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(n," ").concat(r.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,i){var n=this.w;if(n.config.yaxis[i].title.text!==void 0){var r=e.group({class:"apexcharts-yaxis-title"}),o=n.config.yaxis[i].opposite?n.globals.translateYAxisX[i]:0,a=e.drawText({x:o,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[i].title.offsetY,text:n.config.yaxis[i].title.text,textAnchor:"end",foreColor:n.config.yaxis[i].title.style.color,fontSize:n.config.yaxis[i].title.style.fontSize,fontWeight:n.config.yaxis[i].title.style.fontWeight,fontFamily:n.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(n.config.yaxis[i].title.style.cssClass)});r.add(a),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,i,n,r){var o=this.w,a=o.config.yaxis[i].axisBorder,d=31+a.offsetX;if(o.config.yaxis[i].opposite&&(d=-31-a.offsetX),a.show){var p=e.drawLine(d,o.globals.translateY+a.offsetY-2,d,o.globals.gridHeight+o.globals.translateY+a.offsetY+2,a.color,0,a.width);t.add(p)}o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(d,n,a,o.config.yaxis[i].axisTicks,i,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new lt(this.ctx),n=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});n.add(r);var o=t.globals.yAxisScale[e].result.length-1,a=t.globals.gridWidth/o+.1,d=a+t.config.xaxis.labels.offsetX,p=t.globals.xLabelFormatter,g=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),x=t.globals.timescaleLabels;if(x.length>0&&(this.xaxisLabels=x.slice(),o=(g=x.slice()).length),t.config.xaxis.labels.show)for(var w=x.length?0:o;x.length?w<x.length:w>=0;x.length?w++:w--){var S=p(g[w],w,t),E=t.globals.gridWidth+t.globals.padHorizontal-(d-a+t.config.xaxis.labels.offsetX);if(x.length){var M=this.axesUtils.getLabel(g,x,E,w,this.drawnLabels,this.xaxisFontSize);E=M.x,S=M.text,this.drawnLabels.push(M.text),w===0&&t.globals.skipFirstTimelinelabel&&(S=""),w===g.length-1&&t.globals.skipLastTimelinelabel&&(S="")}var D=i.drawText({x:E,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:S,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(D),D.tspan(S),this.addTooltip(D,S),d+=a}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new lt(this.ctx),n=t.config.xaxis.axisBorder;if(n.show){var r=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(r-=15);var o=i.drawLine(t.globals.padHorizontal+r+n.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new lt(this.ctx);if(t.config.xaxis.title.text!==void 0){var n=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});n.add(r),e.add(n)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,n=new lt(this.ctx),r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=r?r.getBoundingClientRect():{width:0,height:0},a=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),d=a?a.getBoundingClientRect():{width:0,height:0};if(a){var p=this.xPaddingForYAxisTitle(e,o,d,t);a.setAttribute("x",p.xPos-(t?10:0));var g=n.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(g.x," ").concat(g.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,n){var r=this.w,o=0,a=10;return r.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(n?o=t.width+r.config.yaxis[e].title.offsetX+i.width/2+a/2:(o=-1*t.width+r.config.yaxis[e].title.offsetX+a/2+i.width/2,r.globals.isBarHorizontal&&(a=25,o=-1*t.width-r.config.yaxis[e].title.offsetX-a)),{xPos:o,padd:a})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,n=0,r=0,o=18,a=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach((function(d,p){var g=i.globals.ignoreYAxisIndexes.includes(p)||!d.show||d.floating||e[p].width===0,x=e[p].width+t[p].width;d.opposite?i.globals.isBarHorizontal?(r=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[p]=r-d.labels.offsetX):(r=i.globals.gridWidth+i.globals.translateX+a,g||(a+=x+20),i.globals.translateYAxisX[p]=r-d.labels.offsetX+20):(n=i.globals.translateX-o,g||(o+=x+20),i.globals.translateYAxisX[p]=n+d.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;De.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,i){var n=e.config.yaxis[i];if(n&&!n.floating&&n.labels.align!==void 0){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=De.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),a=r.getBoundingClientRect();o.forEach((function(d){d.setAttribute("text-anchor",n.labels.align)})),n.labels.align!=="left"||n.opposite?n.labels.align==="center"?r.setAttribute("transform","translate(".concat(a.width/2*(n.opposite?1:-1),", 0)")):n.labels.align==="right"&&n.opposite&&r.setAttribute("transform","translate(".concat(a.width,", 0)")):r.setAttribute("transform","translate(-".concat(a.width,", 0)"))}}))}}]),s})(),U5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.documentEvent=De.bind(this.documentEvent,this)}return At(s,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var n=i.globals.events[e].indexOf(t);n!==-1&&i.globals.events[e].splice(n,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var n=i.globals.events[e],r=n.length,o=0;o<r;o++)n[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,n=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(r){n.addEventListener(r,(function(o){var a=o.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:o.target.getAttribute("i"),d=o.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:o.target.getAttribute("j"),p=Object.assign({},t,{seriesIndex:t.globals.axisCharts?a:0,dataPointIndex:d});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,i,p):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,i,p):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,i,p),i.ctx.events.fireEvent("click",[o,i,p]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if(e.type==="click"){var n=t.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&n.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),s})(),W5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter((function(r){return r.name===e}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=De.extend(BP,i);this.w.globals.locale=n.options}}]),s})(),X5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"drawAxis",value:function(e,t){var i,n,r=this,o=this.w.globals,a=this.w.config,d=new km(this.ctx,t),p=new h1(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(n=p.drawYaxisInversed(0),i=d.drawXaxisInversed(0),o.dom.elGraphical.add(i),o.dom.elGraphical.add(n)):(i=d.drawXaxis(),o.dom.elGraphical.add(i),a.yaxis.map((function(g,x){if(o.ignoreYAxisIndexes.indexOf(x)===-1&&(n=p.drawYaxis(x),o.dom.Paper.add(n),r.w.config.grid.position==="back")){var w=o.dom.Paper.children()[1];w.remove(),o.dom.Paper.add(w)}}))))}}]),s})(),z0=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new lt(this.ctx),i=new Wa(this.ctx),n=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,a=n.colorFrom,d=n.colorTo,p=n.opacityFrom,g=n.opacityTo,x=n.stops,w=r.enabled,S=r.left,E=r.top,M=r.blur,D=r.color,O=r.opacity,N=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(N=t.drawGradient("vertical",a,d,p,g,null,x,null));var H=t.drawRect();e.config.xaxis.crosshairs.width===1&&(H=t.drawLine());var X=e.globals.gridHeight;(!De.isNumber(X)||X<0)&&(X=0);var U=e.config.xaxis.crosshairs.width;(!De.isNumber(U)||U<0)&&(U=0),H.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:X,width:U,height:X,fill:N,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),w&&(H=i.dropShadow(H,{left:S,top:E,blur:M,color:D,opacity:O})),e.globals.dom.elGraphical.add(H)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new lt(this.ctx),i=e.config.yaxis[0].crosshairs,n=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-n,0,e.globals.gridWidth+n,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var o=t.drawLine(-n,0,e.globals.gridWidth+n,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),s})(),q5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,n=i.config;if(n.responsive.length!==0){var r=n.responsive.slice();r.sort((function(p,g){return p.breakpoint>g.breakpoint?1:g.breakpoint>p.breakpoint?-1:0})).reverse();var o=new wm({}),a=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=r[0].breakpoint,x=window.innerWidth>0?window.innerWidth:screen.width;if(x>g){var w=De.clone(i.globals.initialConfig);w.series=De.clone(i.config.series);var S=ta.extendArrayProps(o,w,i);p=De.extend(S,p),p=De.extend(i.config,p),t.overrideResponsiveOptions(p)}else for(var E=0;E<r.length;E++)x<r[E].breakpoint&&(p=ta.extendArrayProps(o,r[E].options,i),p=De.extend(i.config,p),t.overrideResponsiveOptions(p))};if(e){var d=ta.extendArrayProps(o,e,i);d=De.extend(i.config,d),a(d=De.extend(d,e))}else a({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new wm(e).init({responsiveOverride:!0});this.w.config=t}}]),s})(),Y5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return At(s,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return t.type==="treemap"&&i.treemap&&i.treemap.distributed||t.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return i.bar&&i.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new De;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var i=Ca(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(i),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var n=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],n),this.applyDataLabelsColors(n),this.applyRadarPolygonsColors(),this.applyMarkersColors(n)}},{key:"getColors",value:function(e){var t=this,i=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,i.config.series.map((function(n,r){var o=e[r]||e[0];return typeof o=="function"?o({value:i.globals.axisCharts?i.globals.series[r][0]||0:i.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):o}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(i,n){i&&(t[n]=i)}))}},{key:"getMonochromeColors",value:function(e,t,i){var n=e.color,r=e.shadeIntensity,o=e.shadeTo,a=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,d=1/(a/r),p=0;return Array.from({length:a},(function(){var g=o==="dark"?i.shadeColor(-1*p,n):i.shadeColor(p,n);return p+=d,g}))}},{key:"applyColorTypes",value:function(e,t){var i=this,n=this.w;e.forEach((function(r){n.globals[r].colors=n.config[r].colors===void 0?i.isColorFn?n.config.colors:t:n.config[r].colors.slice(),i.pushExtraColors(n.globals[r].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.w,r=t||n.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||n.config.chart.type==="heatmap"&&n.config.plotOptions.heatmap&&n.config.plotOptions.heatmap.colorScale.inverse),i&&n.globals.series.length&&(r=n.globals.series[n.globals.maxValsInArrayIndex].length*n.globals.series.length),e.length<r)for(var o=r-e.length,a=0;a<o;a++)e.push(e[a])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,i=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",n=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=n,e.theme.palette=i,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),s})(),Z5=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i=e==="title"?t.config.title:t.config.subtitle,n=t.globals.svgWidth/2,r=i.offsetY,o="middle";if(i.align==="left"?(n=10,o="start"):i.align==="right"&&(n=t.globals.svgWidth-10,o="end"),n+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var a=new lt(this.ctx).drawText({x:n,y:r,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(a)}}}]),s})(),K5=(function(){function s(e){Ct(this,s),this.w=e.w,this.dCtx=e}return At(s,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,n=0,r=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!r){var a=o.getBoundingClientRect();i=a.width,n=t.globals.axisCharts?a.height+5:a.height}return{width:i,height:n}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},De.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,i=[];t.config.series.forEach((function(d,p){d.data.forEach((function(g,x){var w;w=t.globals.series[p][x],n=t.config.dataLabels.formatter(w,{ctx:e.dCtx.ctx,seriesIndex:p,dataPointIndex:x,w:t}),i.push(n)}))}));var n=De.getLargestStringFromArr(i),r=new lt(this.dCtx.ctx),o=t.config.dataLabels.style,a=r.getTextRects(n,parseInt(o.fontSize),o.fontFamily);return{width:1.05*a.width,height:a.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var n=t.map((function(o,a){return Array.isArray(o)?o.length:1})),r=Math.max.apply(Math,Ca(n));i=t[n.indexOf(r)]}return i}}]),s})(),J5=(function(){function s(e){Ct(this,s),this.w=e.w,this.dCtx=e}return At(s,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var n=this.getxAxisTimeScaleLabelsCoords();e={width:n.width,height:n.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,o=De.getLargestStringFromArr(i),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);t.globals.isBarHorizontal&&(a=o=t.globals.yAxisScale[0].result.reduce((function(E,M){return E.length>M.length?E:M}),0));var d=new Dm(this.dCtx.ctx),p=o;o=d.xLabelFormat(r,o,p,{i:void 0,dateFormatter:new Ga(this.dCtx.ctx).formatDate,w:t}),a=d.xLabelFormat(r,a,p,{i:void 0,dateFormatter:new Ga(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(a=o="1");var g=new lt(this.dCtx.ctx),x=g.getTextRects(o,t.config.xaxis.labels.style.fontSize),w=x;if(o!==a&&(w=g.getTextRects(a,t.config.xaxis.labels.style.fontSize)),(e={width:x.width>=w.width?x.width:w.width,height:x.height>=w.height?x.height:w.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var S=function(E){return g.getTextRects(E,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};x=S(o),o!==a&&(w=S(a)),e.height=(x.height>w.height?x.height:w.height)/1.5,e.width=x.width>w.width?x.width:w.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var i,n=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map((function(x){return x.title})),o=De.getLargestStringFromArr(r),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,r),d=new lt(this.dCtx.ctx),p=d.getTextRects(o,n),g=p;return o!==a&&(g=d.getTextRects(a,n)),i={width:p.width>=g.width?p.width:g.width,height:p.height>=g.height?p.height:g.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(e.config.xaxis.title.text!==void 0){var n=new lt(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=n.width,i=n.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(r){return r.value})),n=i.reduce((function(r,o){return r===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>o.length?r:o}),0);return 1.05*(e=new lt(this.dCtx.ctx).getTextRects(n,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,n=i.globals,r=i.config,o=r.xaxis.type,a=e.width;n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1;var d=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,p=function(g,x){r.yaxis.length>1&&(function(w){return n.collapsedSeriesIndices.indexOf(w)!==-1})(x)||(function(w){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var S=t.dCtx.timescaleLabels[0],E=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+a/1.75-t.dCtx.yAxisWidthRight,M=S.position-a/1.75+t.dCtx.yAxisWidthLeft,D=i.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;E>n.svgWidth-n.translateX-D&&(n.skipLastTimelinelabel=!0),M<-(w.show&&!w.floating||r.chart.type!=="bar"&&r.chart.type!=="candlestick"&&r.chart.type!=="rangeBar"&&r.chart.type!=="boxPlot"?10:a/1.75)&&(n.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<a&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<a/2-t.dCtx.yAxisWidthRight&&!n.rotateXLabels&&!i.config.xaxis.labels.trim&&(t.dCtx.xPadRight=a/2+1)})(g)};r.yaxis.forEach((function(g,x){d?(t.dCtx.gridPad.left<a&&(t.dCtx.xPadLeft=a/2+1),t.dCtx.xPadRight=a/2+1):p(g,x)}))}}]),s})(),Q5=(function(){function s(e){Ct(this,s),this.w=e.w,this.dCtx=e}return At(s,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],n=10,r=new hh(this.dCtx.ctx);return t.config.yaxis.map((function(o,a){var d={seriesIndex:a,dataPointIndex:-1,w:t},p=t.globals.yAxisScale[a],g=0;if(!r.isYAxisHidden(a)&&o.labels.show&&o.labels.minWidth!==void 0&&(g=o.labels.minWidth),!r.isYAxisHidden(a)&&o.labels.show&&p.result.length){var x=t.globals.yLabelFormatters[a],w=p.niceMin===Number.MIN_VALUE?0:p.niceMin,S=p.result.reduce((function(X,U){var Q,Y;return((Q=String(x(X,d)))===null||Q===void 0?void 0:Q.length)>((Y=String(x(U,d)))===null||Y===void 0?void 0:Y.length)?X:U}),w),E=S=x(S,d);if(S!==void 0&&S.length!==0||(S=p.niceMax),t.globals.isBarHorizontal){n=0;var M=t.globals.labels.slice();S=De.getLargestStringFromArr(M),S=x(S,{seriesIndex:a,dataPointIndex:-1,w:t}),E=e.dCtx.dimHelpers.getLargestStringFromMultiArr(S,M)}var D=new lt(e.dCtx.ctx),O="rotate(".concat(o.labels.rotate," 0 0)"),N=D.getTextRects(S,o.labels.style.fontSize,o.labels.style.fontFamily,O,!1),H=N;S!==E&&(H=D.getTextRects(E,o.labels.style.fontSize,o.labels.style.fontFamily,O,!1)),i.push({width:(g>H.width||g>N.width?g:H.width>N.width?H.width:N.width)+n,height:H.height>N.height?H.height:N.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,i=[];return t.config.yaxis.map((function(n,r){if(n.show&&n.title.text!==void 0){var o=new lt(e.dCtx.ctx),a="rotate(".concat(n.title.rotate," 0 0)"),d=o.getTextRects(n.title.text,n.title.style.fontSize,n.title.style.fontFamily,a,!1);i.push({width:d.width,height:d.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,n=0,r=e.globals.yAxisScale.length>1?10:0,o=new hh(this.dCtx.ctx),a=function(d,p){var g=e.config.yaxis[p].floating,x=0;d.width>0&&!g?(x=d.width+r,(function(w){return e.globals.ignoreYAxisIndexes.indexOf(w)>-1})(p)&&(x=x-d.width-r)):x=g||o.isYAxisHidden(p)?0:5,e.config.yaxis[p].opposite?n+=x:i+=x,t+=x};return e.globals.yLabelsCoords.map((function(d,p){a(d,p)})),e.globals.yTitleCoords.map((function(d,p){a(d,p)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=n,t}}]),s})(),e3=(function(){function s(e){Ct(this,s),this.w=e.w,this.dCtx=e}return At(s,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,i=t.config,n=t.globals;if(n.noData||n.collapsedSeries.length+n.ancillaryCollapsedSeries.length===i.series.length)return 0;var r=function(S){return["bar","rangeBar","candlestick","boxPlot"].includes(S)},o=i.chart.type,a=0,d=r(o)?i.series.length:1;n.comboBarCount>0&&(d=n.comboBarCount),n.collapsedSeries.forEach((function(S){r(S.type)&&(d-=1)})),i.chart.stacked&&(d=1);var p=r(o)||n.comboBarCount>0,g=Math.abs(n.initialMaxX-n.initialMinX);if(p&&n.isXNumeric&&!n.isBarHorizontal&&d>0&&g!==0){g<=3&&(g=n.dataPoints);var x=g/e,w=n.minXDiff&&n.minXDiff/x>0?n.minXDiff/x:0;w>e/2&&(w/=2),(a=w*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),n.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,n=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach((function(a){t.config[a].text!==void 0?n+=t.config[a].margin:n+=e.dCtx.isSparkline||!i.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||i.axisCharts||(n+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=r.height+o.height+n,i.translateY+=r.height+o.height+n}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,n=new hh(this.dCtx.ctx);i.config.yaxis.forEach((function(r,o){i.globals.ignoreYAxisIndexes.indexOf(o)!==-1||r.floating||n.isYAxisHidden(o)||(r.opposite&&(i.globals.translateX-=t[o].width+e[o].width+parseInt(r.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),s})(),Oy=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new K5(this),this.dimYAxis=new Q5(this),this.dimXAxis=new J5(this),this.dimGrid=new e3(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return At(s,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var n=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Ca(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(o){var a=uP(o,2),d=a[0],p=a[1];e.gridPad[d]=Math.max(p,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(n/2,this.gridPad.top),this.gridPad.bottom=Math.max(n/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*r,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,n=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(S,E){t.globals.yLabelsCoords.push({width:n[E].width,index:E}),t.globals.yTitleCoords.push({width:r[E].width,index:E})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisGroupLabelsCoords(),d=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,d,a),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var p=this.yAxisWidth,g=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-d.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var x=10;(t.config.chart.type==="radar"||this.isSparkline)&&(p=0,g=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(p=0,g=0,x=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var w=function(){i.translateX=p+e.datalabelsCoords.width,i.gridHeight=i.svgHeight-e.lgRect.height-g-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-p-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(x=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=x,w();break;case"top":i.translateY=this.lgRect.height+x,w();break;case"left":i.translateY=x,i.translateX=this.lgRect.width+p+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-g-12,i.gridWidth=i.svgWidth-this.lgRect.width-p-2*this.datalabelsCoords.width;break;case"right":i.translateY=x,i.translateX=p+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-g-12,i.gridWidth=i.svgWidth-this.lgRect.width-p-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,n),new h1(this.ctx).setYAxisXPosition(n,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,n=0;e.config.legend.show&&!e.config.legend.floating&&(n=20);var r=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",o=i.plotOptions[r].offsetY,a=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating){t.gridHeight=t.svgHeight;var d=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(d,t.gridHeight),t.translateY=o,void(t.translateX=a+(t.svgWidth-t.gridWidth)/2)}switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-n,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+this.lgRect.width+n;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-n-5,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var n=this.w,r=n.globals.hasXaxisGroups?2:1,o=i.height+e.height+t.height,a=n.globals.isMultiLineX?1.2:n.globals.LINE_HEIGHT_RATIO,d=n.globals.rotateXLabels?22:10,p=n.globals.rotateXLabels&&n.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*a+r*d+p,this.xAxisWidth=e.width,this.xAxisHeight-t.height>n.config.xaxis.labels.maxHeight&&(this.xAxisHeight=n.config.xaxis.labels.maxHeight),n.config.xaxis.labels.minHeight&&this.xAxisHeight<n.config.xaxis.labels.minHeight&&(this.xAxisHeight=n.config.xaxis.labels.minHeight),n.config.xaxis.floating&&(this.xAxisHeight=0);var g=0,x=0;n.config.yaxis.forEach((function(w){g+=w.labels.minWidth,x+=w.labels.maxWidth})),this.yAxisWidth<g&&(this.yAxisWidth=g),this.yAxisWidth>x&&(this.yAxisWidth=x)}}]),s})(),t3=(function(){function s(e){Ct(this,s),this.w=e.w,this.lgCtx=e}return At(s,[{key:"getLegendStyles",value:function(){var e,t,i,n=document.createElement("style");n.setAttribute("type","text/css");var r=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(i=t.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;r&&n.setAttribute("nonce",r);var o=document.createTextNode($P);return n.appendChild(o),n}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var i=this,n=this.w;if(n.globals.axisCharts||n.config.chart.type==="radialBar"){n.globals.resized=!0;var r=null,o=null;n.globals.risingSeries=[],n.globals.axisCharts?(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(r.getAttribute("data:realIndex"),10)):(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach((function(g){i.riseCollapsedSeries(g.cs,g.csi,o)})):this.hideSeries({seriesEl:r,realIndex:o})}else{var a=n.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),d=n.config.chart.type;if(d==="pie"||d==="polarArea"||d==="donut"){var p=n.config.plotOptions.pie.donut.labels;new lt(this.lgCtx.ctx).pathMouseDown(a,null),this.lgCtx.ctx.pie.printDataLabelsInner(a.node,p)}a.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,i=this.w,n=i.globals,r=De.clone(i.config.series);if(n.axisCharts){var o=i.config.yaxis[n.seriesYAxisReverseMap[t]],a={index:t,data:r[t].data.slice(),type:r[t].type||i.config.chart.type};if(o&&o.show&&o.showAlways)n.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(n.ancillaryCollapsedSeries.push(a),n.ancillaryCollapsedSeriesIndices.push(t));else if(n.collapsedSeriesIndices.indexOf(t)<0){n.collapsedSeries.push(a),n.collapsedSeriesIndices.push(t);var d=n.risingSeries.indexOf(t);n.risingSeries.splice(d,1)}}else n.collapsedSeries.push({index:t,data:r[t]}),n.collapsedSeriesIndices.push(t);return n.allSeriesCollapsed=n.collapsedSeries.length+n.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,i=e.realIndex,n=this.w,r=this.getSeriesAfterCollapsing({realIndex:i}),o=t.childNodes,a=0;a<o.length;a++)o[a].classList.contains("apexcharts-series-markers-wrap")&&(o[a].classList.contains("apexcharts-hide")?o[a].classList.remove("apexcharts-hide"):o[a].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var n=this.w,r=De.clone(n.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===i&&(n.globals.axisCharts?r[i].data=e[o].data.slice():r[i]=e[o].data,typeof r[i]!="number"&&(r[i].hidden=!1),e.splice(o,1),t.splice(o,1),n.globals.risingSeries.push(i));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,i=0;return t.globals.axisCharts?e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],i++)})):e.forEach((function(n,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,i++)})),t.globals.allSeriesCollapsed=i===e.length,e}}]),s})(),GP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new t3(this)}return At(s,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config,n=i.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(n||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,i=e.fillcolor,n=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var o=n.config.legend.markers.shape||n.config.markers.shape,a=o;Array.isArray(o)&&(a=o[t]);var d=Array.isArray(n.config.legend.markers.size)?parseFloat(n.config.legend.markers.size[t]):parseFloat(n.config.legend.markers.size),p=Array.isArray(n.config.legend.markers.offsetX)?parseFloat(n.config.legend.markers.offsetX[t]):parseFloat(n.config.legend.markers.offsetX),g=Array.isArray(n.config.legend.markers.offsetY)?parseFloat(n.config.legend.markers.offsetY[t]):parseFloat(n.config.legend.markers.offsetY),x=Array.isArray(n.config.legend.markers.strokeWidth)?parseFloat(n.config.legend.markers.strokeWidth[t]):parseFloat(n.config.legend.markers.strokeWidth),w=r.style;if(w.height=2*(d+x)+"px",w.width=2*(d+x)+"px",w.left=p+"px",w.top=g+"px",n.config.legend.markers.customHTML)w.background="transparent",w.color=i[t],Array.isArray(n.config.legend.markers.customHTML)?n.config.legend.markers.customHTML[t]&&(r.innerHTML=n.config.legend.markers.customHTML[t]()):r.innerHTML=n.config.legend.markers.customHTML();else{var S=new $d(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(a),seriesIndex:t,strokeWidth:x,size:d}),E=window.SVG().addTo(r).size("100%","100%"),M=new lt(this.ctx).drawMarker(0,0,gt(gt({},S),{},{pointFillColor:Array.isArray(i)?i[t]:S.pointFillColor,shape:a}));n.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(D){D.node.classList.contains("apexcharts-marker-triangle")?D.node.style.transform="translate(50%, 45%)":D.node.style.transform="translate(50%, 50%)"})),E.add(M)}return r}},{key:"drawLegends",value:function(){var e=this,t=this,i=this.w,n=i.config.legend.fontFamily,r=i.globals.seriesNames,o=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var a=i.config.plotOptions.heatmap.colorScale.ranges;r=a.map((function(S){return S.name?S.name:S.from+" - "+S.to})),o=a.map((function(S){return S.color}))}else this.isBarsDistributed&&(r=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(r=i.config.legend.customLegendItems);var d=i.globals.legendFormatter,p=i.config.legend.inverseOrder,g=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach((function(S,E){g[E]=document.createElement("div"),g[E].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(E)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):g[E].classList.add("apexcharts-legend-group-vertical")}));for(var x=function(S){var E,M=d(r[S],{seriesIndex:S,w:i}),D=!1,O=!1;if(i.globals.collapsedSeries.length>0)for(var N=0;N<i.globals.collapsedSeries.length;N++)i.globals.collapsedSeries[N].index===S&&(D=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var H=0;H<i.globals.ancillaryCollapsedSeriesIndices.length;H++)i.globals.ancillaryCollapsedSeriesIndices[H]===S&&(O=!0);var X=e.createLegendMarker({i:S,fillcolor:o});lt.setAttrs(X,{rel:S+1,"data:collapsed":D||O}),(D||O)&&X.classList.add("apexcharts-inactive-legend");var U=document.createElement("div"),Q=document.createElement("span");Q.classList.add("apexcharts-legend-text"),Q.innerHTML=Array.isArray(M)?M.join(" "):M;var Y=i.config.legend.labels.useSeriesColors?i.globals.colors[S]:Array.isArray(i.config.legend.labels.colors)?(E=i.config.legend.labels.colors)===null||E===void 0?void 0:E[S]:i.config.legend.labels.colors;Y||(Y=i.config.chart.foreColor),Q.style.color=Y,Q.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",Q.style.fontWeight=i.config.legend.fontWeight,Q.style.fontFamily=n||i.config.chart.fontFamily,lt.setAttrs(Q,{rel:S+1,i:S,"data:default-text":encodeURIComponent(M),"data:collapsed":D||O}),U.appendChild(X),U.appendChild(Q);var te=new ta(e.ctx);i.config.legend.showForZeroSeries||te.getSeriesTotalByIndex(S)===0&&te.seriesHaveSameValues(S)&&!te.isSeriesNull(S)&&i.globals.collapsedSeriesIndices.indexOf(S)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(S)===-1&&U.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||te.isSeriesNull(S)&&i.globals.collapsedSeriesIndices.indexOf(S)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(S)===-1&&U.classList.add("apexcharts-hidden-null-series"),g.length?i.globals.seriesGroups.forEach((function(se,ce){var ve;se.includes((ve=i.config.series[S])===null||ve===void 0?void 0:ve.name)&&(i.globals.dom.elLegendWrap.appendChild(g[ce]),g[ce].appendChild(U))})):i.globals.dom.elLegendWrap.appendChild(U),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),U.classList.add("apexcharts-legend-series"),U.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",lt.setAttrs(U,{rel:S+1,seriesName:De.escapeString(r[S]),"data:collapsed":D||O}),(D||O)&&U.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||U.classList.add("apexcharts-no-click")},w=p?r.length-1:0;p?w>=0:w<=r.length-1;p?w--:w++)x(w);i.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,n=i.globals.dom.elLegendWrap,r=n.clientHeight,o=0,a=0;if(i.config.legend.position==="bottom")a=i.globals.svgHeight-Math.min(r,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var d=new Oy(this.ctx),p=d.dimHelpers.getTitleSubtitleCoords("title").height,g=d.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=(p>0?p-10:0)+(g>0?g-10:0)}n.style.position="absolute",o=o+e+i.config.legend.offsetX,a=a+t+i.config.legend.offsetY,n.style.left=o+"px",n.style.top=a+"px",i.config.legend.position==="right"&&(n.style.left="auto",n.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(x){n.style[x]&&(n.style[x]=parseInt(i.config.legend[x],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Oy(this.ctx),i=t.dimHelpers.getTitleSubtitleCoords("title"),n=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;e.config.legend.position==="top"&&(r=i.height+n.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),i=0;e.config.legend.position==="left"&&(i=20),e.config.legend.position==="right"&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var n=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new Is(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new Is(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,n=e.target.getAttribute("data:collapsed")==="true",r=this.w.config.chart.events.legendClick;typeof r=="function"&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,n)}}}]),s})(),UP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return At(s,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},n=i();if(n.setAttribute("class","apexcharts-toolbar"),n.style.top=t.config.chart.toolbar.offsetY+"px",n.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(n),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(i());var o=[],a=function(x,w,S){var E=x.toLowerCase();e.t[E]&&t.config.chart.zoom.enabled&&o.push({el:w,icon:typeof e.t[E]=="string"?e.t[E]:S,title:e.localeValues[x],class:"apexcharts-".concat(E,"-icon")})};a("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),a("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var d=function(x){e.t[x]&&t.config.chart[x].enabled&&o.push({el:x==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[x]=="string"?e.t[x]:x==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[x==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(x,"-icon")})};d("zoom"),d("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),a("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var p=0;p<this.elCustomIcons.length;p++)o.push({el:this.elCustomIcons[p],icon:this.t.customIcons[p].icon,title:this.t.customIcons[p].title,index:this.t.customIcons[p].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[p].class});o.forEach((function(x,w){x.index&&De.moveIndexInArray(o,w,x.index)}));for(var g=0;g<o.length;g++)lt.setAttrs(o[g].el,{class:o[g].class,title:o[g].title}),o[g].el.innerHTML=o[g].icon,n.appendChild(o[g].el);this._createHamburgerMenu(n),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),lt.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,lt.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var i=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,n=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[n]=!t.w.globals[n],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,i=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(i){i&&i.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,i=(this.minX+t)/2,n=(this.maxX+t)/2,r=this._getNewMinXMaxX(i,n);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,i=this.minX-(t-this.minX),n=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(i,n);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(e!==void 0||t!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var n={min:e,max:t},r=this.getBeforeZoomRange(n);r&&(n=r.xaxis);var o={xaxis:n},a=De.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(o.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new Qp(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var i=t.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var n=i.config.chart.events.beforeResetZoom(t,i);n&&t.updateHelpers.revertDefaultAxisMinMax(n)}typeof i.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(De.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),s})(),i3=(function(s){Pm(t,UP);var e=Mm(t);function t(i){var n;return Ct(this,t),(n=e.call(this,i)).ctx=i,n.w=i.w,n.dragged=!1,n.graphics=new lt(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n.debounceTimer=null,n.debounceDelay=100,n.wheelDelay=400,n}return At(t,[{key:"init",value:function(i){var n=this,r=i.xyRatios,o=this.w,a=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new ea(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(d){n.hoverArea.addEventListener(d,a.svgMouseEvents.bind(a,r),{capture:!1,passive:!0})})),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",a.mouseWheelEvent.bind(a),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,n){var r=this.w,o=this.ctx.toolbar,a=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,d=r.config.chart.toolbar.autoSelected;if(n.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(d==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(d),this.shiftWasPressed=!1),n.target){var p,g=n.target.classList;if(n.target.parentNode&&n.target.parentNode!==null&&(p=n.target.parentNode.classList),!(g.contains("apexcharts-legend-marker")||g.contains("apexcharts-legend-text")||p&&p.contains("apexcharts-toolbar"))){if(this.clientX=n.type==="touchmove"||n.type==="touchstart"?n.touches[0].clientX:n.type==="touchend"?n.changedTouches[0].clientX:n.clientX,this.clientY=n.type==="touchmove"||n.type==="touchstart"?n.touches[0].clientY:n.type==="touchend"?n.changedTouches[0].clientY:n.clientY,n.type==="mousedown"&&n.which===1||n.type==="touchstart"){var x=this.gridRect.getBoundingClientRect();this.startX=this.clientX-x.left-r.globals.barPadForNumericAxis,this.startY=this.clientY-x.top,this.dragged=!1,this.w.globals.mousedown=!0}(n.type==="mousemove"&&n.which===1||n.type==="touchmove")&&(this.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:a,xyRatios:i})):(this.w.globals.mousedown&&r.globals.zoomEnabled||this.w.globals.mousedown&&r.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:a}))),n.type!=="mouseup"&&n.type!=="touchend"&&n.type!=="mouseleave"||this.handleMouseUp({zoomtype:a}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var n,r=i.zoomtype,o=i.isResized,a=this.w,d=(n=this.gridRect)===null||n===void 0?void 0:n.getBoundingClientRect();d&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-d.left-a.globals.barPadForNumericAxis,this.endY=this.clientY-d.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:r})),a.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var n=this,r=this.w;i.preventDefault();var o=Date.now();o-r.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),r.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){o-r.globals.lastWheelExecution>n.wheelDelay&&(n.executeMouseWheelZoom(i),r.globals.lastWheelExecution=o)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var n,r=this.w;this.minX=r.globals.isRangeBar?r.globals.minY:r.globals.minX,this.maxX=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;var o=(n=this.gridRect)===null||n===void 0?void 0:n.getBoundingClientRect();if(o){var a,d,p,g=(i.clientX-o.left)/o.width,x=this.minX,w=this.maxX,S=w-x;if(i.deltaY<0){var E=x+g*S;d=E-(a=.5*S)/2,p=E+a/2}else d=x-(a=1.5*S)/2,p=w+a/2;if(!r.globals.isRangeBar){d=Math.max(d,r.globals.initialMinX),p=Math.min(p,r.globals.initialMaxX);var M=.01*(r.globals.initialMaxX-r.globals.initialMinX);if(p-d<M){var D=(d+p)/2;d=D-M/2,p=D+M/2}}var O=this._getNewMinXMaxX(d,p);isNaN(O.minX)||isNaN(O.maxX)||this.zoomUpdateOptions(O.minX,O.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,n=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,a,d,p,g){return g==="l"||g==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,a){return o.center(a[0],a[1])}}).resize().on("resize",(function(){var o=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type;i.handleMouseUp({zoomtype:o,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var i=this.w,n=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(gt(gt({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var r=(i.config.chart.selection.xaxis.min-i.globals.minX)/n.xRatio,o=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/n.xRatio-r;i.globals.isRangeBar&&(r=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/n.invertedYRatio,o=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/n.invertedYRatio);var a={x:r,y:0,width:o,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(a),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var n=i.x,r=i.y,o=i.width,a=i.height,d=i.translateX,p=d===void 0?0:d,g=i.translateY,x=g===void 0?0:g,w=this.w,S=this.zoomRect,E=this.selectionRect;if(this.dragged||w.globals.selection!==null){var M={transform:"translate("+p+", "+x+")"};w.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),S.attr({x:n,y:r,width:o,height:a,fill:w.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":w.config.chart.zoom.zoomedArea.fill.opacity,stroke:w.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":w.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":w.config.chart.zoom.zoomedArea.stroke.opacity}),lt.setAttrs(S.node,M)),w.globals.selectionEnabled&&(E.attr({x:n,y:r,width:o>0?o:0,height:a>0?a:0,fill:w.config.chart.selection.fill.color,"fill-opacity":w.config.chart.selection.fill.opacity,stroke:w.config.chart.selection.stroke.color,"stroke-width":w.config.chart.selection.stroke.width,"stroke-dasharray":w.config.chart.selection.stroke.dashArray,"stroke-opacity":w.config.chart.selection.stroke.opacity}),lt.setAttrs(E.node,M))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var n=i.context,r=i.zoomtype,o=this.w,a=n,d=this.gridRect.getBoundingClientRect(),p=a.startX-1,g=a.startY,x=!1,w=!1,S=a.clientX-d.left-o.globals.barPadForNumericAxis,E=a.clientY-d.top,M=S-p,D=E-g,O={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(M+p)>o.globals.gridWidth?M=o.globals.gridWidth-p:S<0&&(M=p),p>S&&(x=!0,M=Math.abs(M)),g>E&&(w=!0,D=Math.abs(D)),O=gt(gt({},O=r==="x"?{x:x?p-M:p,y:0,width:M,height:o.globals.gridHeight}:r==="y"?{x:0,y:w?g-D:g,width:o.globals.gridWidth,height:D}:{x:x?p-M:p,y:w?g-D:g,width:M,height:D}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),a.drawSelectionRect(O),a.selectionDragging("resizing"),O}},{key:"selectionDragging",value:function(i,n){var r=this,o=this.w;if(n){n.preventDefault();var a=n.detail,d=a.handler,p=a.box,g=p.x,x=p.y;g<this.constraints.x&&(g=this.constraints.x),x<this.constraints.y&&(x=this.constraints.y),p.x2>this.constraints.x2&&(g=this.constraints.x2-p.w),p.y2>this.constraints.y2&&(x=this.constraints.y2-p.h),d.move(g,x);var w=this.xyRatios,S=this.selectionRect,E=0;i==="resizing"&&(E=30);var M=function(O){return parseFloat(S.node.getAttribute(O))},D={x:M("x"),y:M("y"),width:M("width"),height:M("height")};o.globals.selection=D,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var O,N,H,X,U=r.gridRect.getBoundingClientRect(),Q=S.node.getBoundingClientRect();o.globals.isRangeBar?(O=o.globals.yAxisScale[0].niceMin+(Q.left-U.left)*w.invertedYRatio,N=o.globals.yAxisScale[0].niceMin+(Q.right-U.left)*w.invertedYRatio,H=0,X=1):(O=o.globals.xAxisScale.niceMin+(Q.left-U.left)*w.xRatio,N=o.globals.xAxisScale.niceMin+(Q.right-U.left)*w.xRatio,H=o.globals.yAxisScale[0].niceMin+(U.bottom-Q.bottom)*w.yRatio[0],X=o.globals.yAxisScale[0].niceMax-(Q.top-U.top)*w.yRatio[0]);var Y={xaxis:{min:O,max:N},yaxis:{min:H,max:X}};o.config.chart.events.selection(r.ctx,Y),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(r.ctx,Y)}),E))}}},{key:"selectionDrawn",value:function(i){var n,r,o=i.context,a=i.zoomtype,d=this.w,p=o,g=this.xyRatios,x=this.ctx.toolbar,w=d.globals.zoomEnabled?p.zoomRect.node.getBoundingClientRect():p.selectionRect.node.getBoundingClientRect(),S=p.gridRect.getBoundingClientRect(),E=w.left-S.left-d.globals.barPadForNumericAxis,M=w.right-S.left-d.globals.barPadForNumericAxis,D=w.top-S.top,O=w.bottom-S.top;d.globals.isRangeBar?(n=d.globals.yAxisScale[0].niceMin+E*g.invertedYRatio,r=d.globals.yAxisScale[0].niceMin+M*g.invertedYRatio):(n=d.globals.xAxisScale.niceMin+E*g.xRatio,r=d.globals.xAxisScale.niceMin+M*g.xRatio);var N=[],H=[];if(d.config.yaxis.forEach((function(ce,ve){var xe=d.globals.seriesYAxisMap[ve][0],Ee=d.globals.yAxisScale[ve].niceMax-g.yRatio[xe]*D,Be=d.globals.yAxisScale[ve].niceMax-g.yRatio[xe]*O;N.push(Ee),H.push(Be)})),p.dragged&&(p.dragX>10||p.dragY>10)&&n!==r){if(d.globals.zoomEnabled){var X=De.clone(d.globals.initialConfig.yaxis),U=De.clone(d.globals.initialConfig.xaxis);if(d.globals.zoomed=!0,d.config.xaxis.convertedCatToNumeric&&(n=Math.floor(n),r=Math.floor(r),n<1&&(n=1,r=d.globals.dataPoints),r-n<2&&(r=n+1)),a!=="xy"&&a!=="x"||(U={min:n,max:r}),a!=="xy"&&a!=="y"||X.forEach((function(ce,ve){X[ve].min=H[ve],X[ve].max=N[ve]})),x){var Q=x.getBeforeZoomRange(U,X);Q&&(U=Q.xaxis?Q.xaxis:U,X=Q.yaxis?Q.yaxis:X)}var Y={xaxis:U};d.config.chart.group||(Y.yaxis=X),p.ctx.updateHelpers._updateOptions(Y,!1,p.w.config.chart.animations.dynamicAnimation.enabled),typeof d.config.chart.events.zoomed=="function"&&x.zoomCallback(U,X)}else if(d.globals.selectionEnabled){var te,se=null;te={min:n,max:r},a!=="xy"&&a!=="y"||(se=De.clone(d.config.yaxis)).forEach((function(ce,ve){se[ve].min=H[ve],se[ve].max=N[ve]})),d.globals.selection=p.selection,typeof d.config.chart.events.selection=="function"&&d.config.chart.events.selection(p.ctx,{xaxis:te,yaxis:se})}}}},{key:"panDragging",value:function(i){var n=i.context,r=this.w,o=n;if(r.globals.lastClientPosition.x!==void 0){var a=r.globals.lastClientPosition.x-o.clientX,d=r.globals.lastClientPosition.y-o.clientY;Math.abs(a)>Math.abs(d)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(d)&&a<0?this.moveDirection="right":Math.abs(d)>Math.abs(a)&&d>0?this.moveDirection="up":Math.abs(d)>Math.abs(a)&&d<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:o.clientX,y:o.clientY};var p=r.globals.isRangeBar?r.globals.minY:r.globals.minX,g=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;o.panScrolled(p,g)}},{key:"panScrolled",value:function(i,n){var r=this.w,o=this.xyRatios,a=De.clone(r.globals.initialConfig.yaxis),d=o.xRatio,p=r.globals.minX,g=r.globals.maxX;r.globals.isRangeBar&&(d=o.invertedYRatio,p=r.globals.minY,g=r.globals.maxY),this.moveDirection==="left"?(i=p+r.globals.gridWidth/15*d,n=g+r.globals.gridWidth/15*d):this.moveDirection==="right"&&(i=p-r.globals.gridWidth/15*d,n=g-r.globals.gridWidth/15*d),r.globals.isRangeBar||(i<r.globals.initialMinX||n>r.globals.initialMaxX)&&(i=p,n=g);var x={xaxis:{min:i,max:n}};r.config.chart.group||(x.yaxis=a),this.updateScrolledChart(x,i,n)}},{key:"updateScrolledChart",value:function(i,n,r){var o=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof o.config.chart.events.scrolled=="function"){var a={xaxis:{min:n,max:r}};o.config.chart.events.scrolled(this.ctx,a),this.ctx.events.fireEvent("scrolled",a)}}}]),t})(),WP=(function(){function s(e){Ct(this,s),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return At(s,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,i=e.elGrid,n=e.clientX,r=e.clientY,o=this.w,a=i.getBoundingClientRect(),d=a.width,p=a.height,g=d/(o.globals.dataPoints-1),x=p/o.globals.dataPoints,w=this.hasBars();!o.globals.comboCharts&&!w||o.config.xaxis.convertedCatToNumeric||(g=d/o.globals.dataPoints);var S=n-a.left-o.globals.barPadForNumericAxis,E=r-a.top;S<0||E<0||S>d||E>p?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var M=Math.round(S/g),D=Math.floor(E/x);w&&!o.config.xaxis.convertedCatToNumeric&&(M=Math.ceil(S/g),M-=1);var O=null,N=null,H=o.globals.seriesXvalues.map((function(te){return te.filter((function(se){return De.isNumber(se)}))})),X=o.globals.seriesYvalues.map((function(te){return te.filter((function(se){return De.isNumber(se)}))}));if(o.globals.isXNumeric){var U=this.ttCtx.getElGrid().getBoundingClientRect(),Q=S*(U.width/d),Y=E*(U.height/p);O=(N=this.closestInMultiArray(Q,Y,H,X)).index,M=N.j,O!==null&&o.globals.hasNullValues&&(H=o.globals.seriesXvalues[O],M=(N=this.closestInArray(Q,H)).j)}return o.globals.capturedSeriesIndex=O===null?-1:O,(!M||M<1)&&(M=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=D:o.globals.capturedDataPointIndex=M,{capturedSeries:O,j:o.globals.isBarHorizontal?D:M,hoverX:S,hoverY:E}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,n=e.map((function(o,a){return o.length>0?a:-1})),r=0;r<n.length;r++)if(n[r]!==-1&&t.globals.collapsedSeriesIndices.indexOf(r)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1){i=n[r];break}return i}},{key:"closestInMultiArray",value:function(e,t,i,n){for(var r,o=this.w,a=1/0,d=null,p=null,g=0;g<i.length;g++)if(r=g,o.globals.collapsedSeriesIndices.indexOf(r)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1)for(var x=i[g],w=n[g],S=Math.min(x.length,w.length),E=0;E<S;E++){var M=e-x[E],D=Math.sqrt(M*M);if(!o.globals.allSeriesHasEqualX){var O=t-w[E];D=Math.sqrt(M*M+O*O)}D<a&&(a=D,d=g,p=E)}return{index:d,j:p}}},{key:"closestInArray",value:function(e,t){for(var i=t[0],n=null,r=Math.abs(e-i),o=0;o<t.length;o++){var a=Math.abs(e-t[o]);a<r&&(r=a,n=o)}return{j:n}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter((function(r){return r[0]!==void 0}));if(i.length>0)for(var n=0;n<i.length-1;n++)i[n][e]!==void 0&&i[n+1][e]!==void 0&&i[n][e]!==i[n+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Ca(e).reduce((function(t,i){return t+i.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=Ca(i),t&&(i=i.filter((function(r){var o=Number(r.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1}))),i.sort((function(r,o){var a=Number(r.getAttribute("data:realIndex")),d=Number(o.getAttribute("data:realIndex"));return d<a?1:d>a?-1:0}));var n=[];return i.forEach((function(r){n.push(r.querySelector(".apexcharts-marker"))})),n}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var i=Number(e.getAttribute("cx")),n=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new lt(this.ctx).getMarkerPath(i,n,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return i===void 0&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=i.allTooltipSeriesGroups,r=0;r<n.length;r++)e==="enable"?(n[r].classList.add("apexcharts-active"),n[r].style.display=t.config.tooltip.items.display):(n[r].classList.remove("apexcharts-active"),n[r].style.display="none")}}]),s})(),n3=(function(){function s(e){Ct(this,s),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new WP(e)}return At(s,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=t===void 0||t,n=e.ttItems,r=e.i,o=r===void 0?0:r,a=e.j,d=a===void 0?null:a,p=e.y1,g=e.y2,x=e.e,w=this.w;w.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:d,y1:p,y2:g,w}):this.toggleActiveInactiveSeries(i,o);var S=this.getValuesToPrint({i:o,j:d});this.printLabels({i:o,j:d,values:S,ttItems:n,shared:i,e:x});var E=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=E.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=E.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,n=e.i,r=e.j,o=e.values,a=e.ttItems,d=e.shared,p=e.e,g=this.w,x=[],w=function(U){return g.globals.seriesGoals[U]&&g.globals.seriesGoals[U][r]&&Array.isArray(g.globals.seriesGoals[U][r])},S=o.xVal,E=o.zVal,M=o.xAxisTTVal,D="",O=g.globals.colors[n];r!==null&&g.config.plotOptions.bar.distributed&&(O=g.globals.colors[r]);for(var N=function(U,Q){var Y=i.getFormatters(n);D=i.getSeriesName({fn:Y.yLbTitleFormatter,index:n,seriesIndex:n,j:r}),g.config.chart.type==="treemap"&&(D=Y.yLbTitleFormatter(String(g.config.series[n].data[r].x),{series:g.globals.series,seriesIndex:n,dataPointIndex:r,w:g}));var te=g.config.tooltip.inverseOrder?Q:U;if(g.globals.axisCharts){var se=function(xe){var Ee,Be,Oe,Ue;return g.globals.isRangeData?Y.yLbFormatter((Ee=g.globals.seriesRangeStart)===null||Ee===void 0||(Be=Ee[xe])===null||Be===void 0?void 0:Be[r],{series:g.globals.seriesRangeStart,seriesIndex:xe,dataPointIndex:r,w:g})+" - "+Y.yLbFormatter((Oe=g.globals.seriesRangeEnd)===null||Oe===void 0||(Ue=Oe[xe])===null||Ue===void 0?void 0:Ue[r],{series:g.globals.seriesRangeEnd,seriesIndex:xe,dataPointIndex:r,w:g}):Y.yLbFormatter(g.globals.series[xe][r],{series:g.globals.series,seriesIndex:xe,dataPointIndex:r,w:g})};if(d)Y=i.getFormatters(te),D=i.getSeriesName({fn:Y.yLbTitleFormatter,index:te,seriesIndex:n,j:r}),O=g.globals.colors[te],t=se(te),w(te)&&(x=g.globals.seriesGoals[te][r].map((function(xe){return{attrs:xe,val:Y.yLbFormatter(xe.value,{seriesIndex:te,dataPointIndex:r,w:g})}})));else{var ce,ve=p==null||(ce=p.target)===null||ce===void 0?void 0:ce.getAttribute("fill");ve&&(ve.indexOf("url")!==-1?ve.indexOf("Pattern")!==-1&&(O=g.globals.dom.baseEl.querySelector(ve.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):O=ve),t=se(n),w(n)&&Array.isArray(g.globals.seriesGoals[n][r])&&(x=g.globals.seriesGoals[n][r].map((function(xe){return{attrs:xe,val:Y.yLbFormatter(xe.value,{seriesIndex:n,dataPointIndex:r,w:g})}})))}}r===null&&(t=Y.yLbFormatter(g.globals.series[n],gt(gt({},g),{},{seriesIndex:n,dataPointIndex:n}))),i.DOMHandling({i:n,t:te,j:r,ttItems:a,values:{val:t,goalVals:x,xVal:S,xAxisTTVal:M,zVal:E},seriesName:D,shared:d,pColor:O})},H=0,X=g.globals.series.length-1;H<g.globals.series.length;H++,X--)N(H,X)}},{key:"getFormatters",value:function(e){var t,i=this.w,n=i.globals.yLabelFormatters[e];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(n=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(n=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,typeof n!="function"&&(n=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(r){return r}),typeof t!="function"&&(t=function(r){return r?r+": ":""}),{yLbFormatter:n,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,i=e.index,n=e.seriesIndex,r=e.j,o=this.w;return t(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:n,dataPointIndex:r,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,i=e.j,n=e.ttItems,r=e.values,o=e.seriesName,a=e.shared,d=e.pColor,p=this.w,g=this.ttCtx,x=r.val,w=r.goalVals,S=r.xVal,E=r.xAxisTTVal,M=r.zVal,D=null;D=n[t].children,p.config.tooltip.fillSeriesColor&&(n[t].style.backgroundColor=d,D[0].style.display="none"),g.showTooltipTitle&&(g.tooltipTitle===null&&(g.tooltipTitle=p.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),g.tooltipTitle.innerHTML=S),g.isXAxisTooltipEnabled&&(g.xaxisTooltipText.innerHTML=E!==""?E:S);var O=n[t].querySelector(".apexcharts-tooltip-text-y-label");O&&(O.innerHTML=o||"");var N=n[t].querySelector(".apexcharts-tooltip-text-y-value");N&&(N.innerHTML=x!==void 0?x:""),D[0]&&D[0].classList.contains("apexcharts-tooltip-marker")&&(p.config.tooltip.marker.fillColors&&Array.isArray(p.config.tooltip.marker.fillColors)&&(d=p.config.tooltip.marker.fillColors[t]),p.config.tooltip.fillSeriesColor?D[0].style.backgroundColor=d:D[0].style.color=d),p.config.tooltip.marker.show||(D[0].style.display="none");var H=n[t].querySelector(".apexcharts-tooltip-text-goals-label"),X=n[t].querySelector(".apexcharts-tooltip-text-goals-value");if(w.length&&p.globals.seriesGoals[t]){var U=function(){var te="<div>",se="<div>";w.forEach((function(ce,ve){te+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ce.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ce.attrs.name,"</div>"),se+="<div>".concat(ce.val,"</div>")})),H.innerHTML=te+"</div>",X.innerHTML=se+"</div>"};a?p.globals.seriesGoals[t][i]&&Array.isArray(p.globals.seriesGoals[t][i])?U():(H.innerHTML="",X.innerHTML=""):U()}else H.innerHTML="",X.innerHTML="";if(M!==null&&(n[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=p.config.tooltip.z.title,n[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=M!==void 0?M:""),a&&D[0]){if(p.config.tooltip.hideEmptySeries){var Q=n[t].querySelector(".apexcharts-tooltip-marker"),Y=n[t].querySelector(".apexcharts-tooltip-text");parseFloat(x)==0?(Q.style.display="none",Y.style.display="none"):(Q.style.display="block",Y.style.display="block")}x==null||p.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||p.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(t)===-1?D[0].parentNode.style.display="none":D[0].parentNode.style.display=p.config.tooltip.items.display}else Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(t)===-1&&(D[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var i=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));n&&(n.classList.add("apexcharts-active"),n.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,n=this.w,r=this.ctx.series.filteredSeriesX(),o="",a="",d=null,p=null,g={series:n.globals.series,seriesIndex:t,dataPointIndex:i,w:n},x=n.globals.ttZFormatter;i===null?p=n.globals.series[t]:n.globals.isXNumeric&&n.config.chart.type!=="treemap"?(o=r[t][i],r[t].length===0&&(o=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):o=new l1(this.ctx).isFormatXY()?n.config.series[t].data[i]!==void 0?n.config.series[t].data[i].x:"":n.globals.labels[i]!==void 0?n.globals.labels[i]:"";var w=o;return n.globals.isXNumeric&&n.config.xaxis.type==="datetime"?o=new Dm(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,w,w,{i:void 0,dateFormatter:new Ga(this.ctx).formatDate,w:this.w}):o=n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](w,g):n.globals.xLabelFormatter(w,g),n.config.tooltip.x.formatter!==void 0&&(o=n.globals.ttKeyFormatter(w,g)),n.globals.seriesZ.length>0&&n.globals.seriesZ[t].length>0&&(d=x(n.globals.seriesZ[t][i],n)),a=typeof n.config.xaxis.tooltip.formatter=="function"?n.globals.xaxisTooltipFormatter(w,g):o,{val:Array.isArray(p)?p.join(" "):p,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:d}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,n=e.y1,r=e.y2,o=e.w,a=this.ttCtx.getElTooltip(),d=o.config.tooltip.custom;Array.isArray(d)&&d[t]&&(d=d[t]);var p=d({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:i,y1:n,y2:r,w:o});typeof p=="string"||typeof p=="number"?a.innerHTML=p:(p instanceof Element||typeof p.nodeName=="string")&&(a.innerHTML="",a.appendChild(p.cloneNode(!0)))}}]),s})(),XP=(function(){function s(e){Ct(this,s),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return At(s,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,n=this.w,r=i.getElXCrosshairs(),o=e-i.xcrosshairsWidth/2,a=n.globals.labels.slice().length;if(t!==null&&(o=n.globals.gridWidth/a*t),r===null||n.globals.isBarHorizontal||(r.setAttribute("x",o),r.setAttribute("x1",o),r.setAttribute("x2",o),r.setAttribute("y2",n.globals.gridHeight),r.classList.add("apexcharts-active")),o<0&&(o=0),o>n.globals.gridWidth&&(o=n.globals.gridWidth),i.isXAxisTooltipEnabled){var d=o;n.config.xaxis.crosshairs.width!=="tickWidth"&&n.config.xaxis.crosshairs.width!=="barWidth"||(d=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(d)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&lt.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&lt.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var n=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var r;r=new lt(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=r.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=n+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+n,o=i.yaxisTTEls[e].getBoundingClientRect(),a=o.height,d=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(d-=o.width),r-=a/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&r>0&&r<t.globals.gridHeight?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=r+"px",i.yaxisTTEls[e].style.left=d+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.w,r=this.ttCtx,o=r.getElTooltip(),a=r.tooltipRect,d=i!==null?parseFloat(i):1,p=parseFloat(e)+d+5,g=parseFloat(t)+d/2;if(p>n.globals.gridWidth/2&&(p=p-a.ttWidth-d-10),p>n.globals.gridWidth-a.ttWidth-10&&(p=n.globals.gridWidth-a.ttWidth),p<-20&&(p=-20),n.config.tooltip.followCursor){var x=r.getElGrid().getBoundingClientRect();(p=r.e.clientX-x.left)>n.globals.gridWidth/2&&(p-=r.tooltipRect.ttWidth),(g=r.e.clientY+n.globals.translateY-x.top)>n.globals.gridHeight/2&&(g-=r.tooltipRect.ttHeight)}else n.globals.isBarHorizontal||a.ttHeight/2+g>n.globals.gridHeight&&(g=n.globals.gridHeight-a.ttHeight+n.globals.translateY);isNaN(p)||(p+=n.globals.translateX,o.style.left=p+"px",o.style.top=g+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,n=this.ttCtx;if(i.globals.markers.size[e]>0)for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<r.length;o++)parseInt(r[o].getAttribute("rel"),10)===t&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(t,r[o]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,n,r,o,a=this.w,d=this.ttCtx,p=new lt(this.ctx),g=a.globals.pointsArray,x=d.tooltipUtil.getHoverMarkerSize(t),w=a.config.series[t].type;if(!w||w!=="column"&&w!=="candlestick"&&w!=="boxPlot"){r=(i=g[t][e])===null||i===void 0?void 0:i[0],o=((n=g[t][e])===null||n===void 0?void 0:n[1])||0;var S=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(S&&o<a.globals.gridHeight&&o>0){var E=S.getAttribute("shape"),M=p.getMarkerPath(r,o,E,1.5*x);S.setAttribute("d",M)}this.moveXCrosshairs(r),d.fixedTooltip||this.moveTooltip(r,o,x)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,n=i.w,r=0,o=0,a=n.globals.pointsArray,d=new Is(this.ctx),p=new lt(this.ctx);t=d.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=i.tooltipUtil.getHoverMarkerSize(t);if(a[t]&&(r=a[t][e][0],o=a[t][e][1]),!isNaN(r)){var x=i.tooltipUtil.getAllMarkers();if(x.length)for(var w=0;w<n.globals.series.length;w++){var S=a[w];if(n.globals.comboCharts&&S===void 0&&x.splice(w,0,null),S&&S.length){var E=a[w][e][1],M=void 0;x[w].setAttribute("cx",r);var D=x[w].getAttribute("shape");if(n.config.chart.type==="rangeArea"&&!n.globals.comboCharts){var O=e+n.globals.series[w].length;M=a[w][O][1],E-=Math.abs(E-M)/2}if(E!==null&&!isNaN(E)&&E<n.globals.gridHeight+g&&E+g>0){var N=p.getMarkerPath(r,E,D,g);x[w].setAttribute("d",N)}else x[w].setAttribute("d","")}}this.moveXCrosshairs(r),i.fixedTooltip||this.moveTooltip(r,o||n.globals.gridHeight,g)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var i=this.w,n=this.ttCtx,r=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(r=i.globals.barGroups.length);var o=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;i.globals.isBarHorizontal&&(o=new Is(this.ctx).getActiveConfigSeriesIndex("desc")+1);var a=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));a||typeof t!="number"||(a=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var d=a?parseFloat(a.getAttribute("cx")):0,p=a?parseFloat(a.getAttribute("cy")):0,g=a?parseFloat(a.getAttribute("barWidth")):0,x=n.getElGrid().getBoundingClientRect(),w=a&&(a.classList.contains("apexcharts-candlestick-area")||a.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(a&&!w&&(d-=r%2!=0?g/2:0),a&&w&&(d-=g/2)):i.globals.isBarHorizontal||(d=n.xAxisTicksPositions[e-1]+n.dataPointsDividedWidth/2,isNaN(d)&&(d=n.xAxisTicksPositions[e]-n.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?p-=n.tooltipRect.ttHeight:i.config.tooltip.followCursor?p=n.e.clientY-x.top-n.tooltipRect.ttHeight/2:p+n.tooltipRect.ttHeight+15>i.globals.gridHeight&&(p=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(d),n.fixedTooltip||this.moveTooltip(d,p||i.globals.gridHeight)}}]),s})(),a3=(function(){function s(e){Ct(this,s),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new XP(e)}return At(s,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new lt(this.ctx),i=new $d(this.ctx),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=Ca(n),e.config.chart.stacked&&n.sort((function(x,w){return parseFloat(x.getAttribute("data:realIndex"))-parseFloat(w.getAttribute("data:realIndex"))}));for(var r=0;r<n.length;r++){var o=n[r].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var a=void 0,d="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(d+=" no-pointer-events");var p=i.getMarkerConfig({cssClass:d,seriesIndex:Number(o.getAttribute("data:realIndex"))});(a=t.drawMarker(0,0,p)).node.setAttribute("default-marker-size",0);var g=document.createElementNS(e.globals.SVGNS,"g");g.classList.add("apexcharts-series-markers"),g.appendChild(a.node),o.appendChild(g)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w;r.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),a=t.getAttribute("cy");if(i!==null&&n!==null&&(o=i,a=n),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(r.config.chart.type==="radar"){var d=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-d.left}this.tooltipPosition.moveTooltip(o,a,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,n=this.ttCtx,r=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=t.config.markers.hover.size,d=0;d<o.length;d++){var p=o[d].getAttribute("rel"),g=o[d].getAttribute("index");if(a===void 0&&(a=t.globals.markers.size[g]+t.config.markers.hover.sizeOffset),r===parseInt(p,10)){i.newPointSize(r,o[d]);var x=o[d].getAttribute("cx"),w=o[d].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(x),n.fixedTooltip||i.tooltipPosition.moveTooltip(x,w,a)}else i.oldPointSize(o[d])}}},{key:"newPointSize",value:function(e,t){var i=this.w,n=i.config.markers.hover.size,r=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(r.getAttribute("default-marker-size")!=="0"){var o=parseInt(r.getAttribute("index"),10);n===void 0&&(n=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),n<0&&(n=0);var a=this.ttCtx.tooltipUtil.getPathFromPoint(t,n);t.setAttribute("d",a)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));if(De.isNumber(i)&&i>0){var n=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],i);e[t].setAttribute("d",n)}else e[t].setAttribute("d","M0,0")}}}]),s})(),r3=(function(){function s(e){Ct(this,s),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return At(s,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,n=e.x,r=e.y,o=e.type,a=this.ttCtx,d=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var p=this.getAttr(t,"i"),g=this.getAttr(t,"j"),x=this.getAttr(t,"cx"),w=this.getAttr(t,"cy"),S=this.getAttr(t,"width"),E=this.getAttr(t,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:p,j:g,shared:!1,e:t}),d.globals.capturedSeriesIndex=p,d.globals.capturedDataPointIndex=g,n=x+a.tooltipRect.ttWidth/2+S,r=w+a.tooltipRect.ttHeight/2-E/2,a.tooltipPosition.moveXCrosshairs(x+S/2),n>d.globals.gridWidth/2&&(n=x-a.tooltipRect.ttWidth/2+S),a.w.config.tooltip.followCursor){var M=d.globals.dom.elWrap.getBoundingClientRect();n=d.globals.clientX-M.left-(n>d.globals.gridWidth/2?a.tooltipRect.ttWidth:0),r=d.globals.clientY-M.top-(r>d.globals.gridHeight/2?a.tooltipRect.ttHeight:0)}}return{x:n,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,i,n=e.e,r=e.opt,o=e.x,a=e.y,d=this.w,p=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var g=parseInt(r.paths.getAttribute("cx"),10),x=parseInt(r.paths.getAttribute("cy"),10),w=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,p.intersect){var S=De.findAncestor(r.paths,"apexcharts-series");S&&(t=parseInt(S.getAttribute("data:realIndex"),10))}if(p.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:i,shared:!p.showOnIntersect&&d.config.tooltip.shared,e:n}),n.type==="mouseup"&&p.markerClick(n,t,i),d.globals.capturedSeriesIndex=t,d.globals.capturedDataPointIndex=i,o=g,a=x+d.globals.translateY-1.4*p.tooltipRect.ttHeight,p.w.config.tooltip.followCursor){var E=p.getElGrid().getBoundingClientRect();a=p.e.clientY+d.globals.translateY-E.top}w<0&&(a=x),p.marker.enlargeCurrentPoint(i,r.paths,o,a)}return{x:o,y:a}}},{key:"handleBarTooltip",value:function(e){var t,i,n=e.e,r=e.opt,o=this.w,a=this.ttCtx,d=a.getElTooltip(),p=0,g=0,x=0,w=this.getBarTooltipXY({e:n,opt:r});if(w.j!==null||w.barHeight!==0||w.barWidth!==0){t=w.i;var S=w.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=S,o.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!o.config.tooltip.shared?(g=w.x,x=w.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,p=g):o.globals.comboCharts||o.config.tooltip.shared||(p/=2),isNaN(x)&&(x=o.globals.svgHeight-a.tooltipRect.ttHeight),parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),g+a.tooltipRect.ttWidth>o.globals.gridWidth?g-=a.tooltipRect.ttWidth:g<0&&(g=0),a.w.config.tooltip.followCursor){var E=a.getElGrid().getBoundingClientRect();x=a.e.clientY-E.top}a.tooltip===null&&(a.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(p+i/2):a.tooltipPosition.moveXCrosshairs(p)),!a.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(x=x+o.globals.translateY-a.tooltipRect.ttHeight/2,d.style.left=g+o.globals.translateX+"px",d.style.top=x+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,i=e.e,n=e.opt,r=this.w,o=null,a=this.ttCtx,d=0,p=0,g=0,x=0,w=0,S=i.target.classList;if(S.contains("apexcharts-bar-area")||S.contains("apexcharts-candlestick-area")||S.contains("apexcharts-boxPlot-area")||S.contains("apexcharts-rangebar-area")){var E=i.target,M=E.getBoundingClientRect(),D=n.elGrid.getBoundingClientRect(),O=M.height;w=M.height;var N=M.width,H=parseInt(E.getAttribute("cx"),10),X=parseInt(E.getAttribute("cy"),10);x=parseFloat(E.getAttribute("barWidth"));var U=i.type==="touchmove"?i.touches[0].clientX:i.clientX;o=parseInt(E.getAttribute("j"),10),d=parseInt(E.parentNode.getAttribute("rel"),10)-1;var Q=E.getAttribute("data-range-y1"),Y=E.getAttribute("data-range-y2");r.globals.comboCharts&&(d=parseInt(E.parentNode.getAttribute("data:realIndex"),10));var te=function(ce){return r.globals.isXNumeric?H-N/2:t.isVerticalGroupedRangeBar?H+N/2:H-a.dataPointsDividedWidth+N/2},se=function(){return X-a.dataPointsDividedHeight+O/2-a.tooltipRect.ttHeight/2};a.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:d,j:o,y1:Q?parseInt(Q,10):null,y2:Y?parseInt(Y,10):null,shared:!a.showOnIntersect&&r.config.tooltip.shared,e:i}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(p=U-D.left+15,g=se()):(p=te(),g=i.clientY-D.top-a.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((p=H)<a.xyRatios.baseLineInvertedY&&(p=H-a.tooltipRect.ttWidth),g=se()):(p=te(),g=X)}return{x:p,y:g,barHeight:w,barWidth:x,i:d,j:o}}}]),s})(),s3=(function(){function s(e){Ct(this,s),this.w=e.w,this.ttCtx=e}return At(s,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i=e.config.xaxis.position==="bottom";t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var n=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=0;i<e.config.yaxis.length;i++){var n=e.config.yaxis[i].opposite||e.config.yaxis[i].crosshairs.opposite;t.yaxisOffX=n?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,n?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),i===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[i]=document.createElement("div"),t.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var n=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(n!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var r=parseFloat(n.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}else if(e.config.xaxis.crosshairs.width==="barWidth"){var d=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(d!==null){var p=parseFloat(d.getAttribute("barWidth"));t.xcrosshairsWidth=p}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),i!==null&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var n=this.ttCtx,r=this.w,o=r.globals,a=o.seriesYAxisMap[e];if(n.yaxisTooltips[e]&&a.length>0){var d=o.yLabelFormatters[e],p=n.getElGrid().getBoundingClientRect(),g=a[0],x=0;i.yRatio.length>1&&(x=g);var w=(t-p.top)*i.yRatio[x],S=o.maxYArr[g]-o.minYArr[g],E=o.minYArr[g]+(S-w);r.config.yaxis[e].reversed&&(E=o.maxYArr[g]-(S-w)),n.tooltipPosition.moveYCrosshairs(t-p.top),n.yaxisTooltipText[e].innerHTML=d(E),n.tooltipPosition.moveYAxisTooltip(e)}}}]),s})(),u2=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new WP(this),this.tooltipLabels=new n3(this),this.tooltipPosition=new XP(this),this.marker=new a3(this),this.intersect=new r3(this),this.axesTooltip=new s3(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return At(s,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(o,a){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new km(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,n=[],r=this.getElTooltip(),o=function(d){var p=document.createElement("div");p.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(d)),p.style.order=i.config.tooltip.inverseOrder?e-d:d+1;var g=document.createElement("span");g.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?g.style.backgroundColor=i.globals.colors[d]:g.style.color=i.globals.colors[d];var x=i.config.markers.shape,w=x;Array.isArray(x)&&(w=x[d]),g.setAttribute("shape",w),p.appendChild(g);var S=document.createElement("div");S.classList.add("apexcharts-tooltip-text"),S.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,S.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(E){var M=document.createElement("div");M.classList.add("apexcharts-tooltip-".concat(E,"-group"));var D=document.createElement("span");D.classList.add("apexcharts-tooltip-text-".concat(E,"-label")),M.appendChild(D);var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(E,"-value")),M.appendChild(O),S.appendChild(M)})),p.appendChild(S),r.appendChild(p),n.push(p)},a=0;a<e;a++)o(a);return n}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),n=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),r=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var d,p=[],g=[],x={hoverArea:o,elGrid:a,tooltipEl:i,tooltipY:p,tooltipX:g,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(d=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),d&&d.length))for(var w=0;w<d.length;w++)p.push(d[w].getAttribute("cy")),g.push(d[w].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],x);else if(n&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(x);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var S=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(S,x)}if(this.showOnIntersect){var E=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");E.length>0&&this.addPathsEventListeners(E,x),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(x)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),n=i.width+10,r=i.height+10,o=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,d=this.tConfig.fixed.position.toLowerCase();return d.indexOf("right")>-1&&(o=o+e.globals.svgWidth-n+10),d.indexOf("bottom")>-1&&(a=a+e.globals.svgHeight-r-10),t.style.left=o+"px",t.style.top=a+"px",{x:o,y:a,ttWidth:n,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,n=function(o){var a={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(d){return e[o].addEventListener(d,i.onSeriesHover.bind(i,a),{capture:!1,passive:!0})}))},r=0;r<e.length;r++)n(r)}},{key:"onSeriesHover",value:function(e,t){var i=this,n=Date.now()-this.lastHoverTime;n>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(e,t)}),20-n))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var n=[],r=this.w;r.config.chart.group&&(n=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||r.globals.dataPoints===0)||(n.length?n.forEach((function(o){var a=i.getElTooltip(o),d={paths:e.paths,tooltipEl:a,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===i.w.globals.minX&&o.w.globals.maxX===i.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:d,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,n=e.opt,r=e.e,o=t.w,a=this.getElTooltip(t);a&&(i.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},i.e=r,i.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Is(t).toggleSeriesOnHover(r,r.target.parentNode),o.globals.axisCharts?i.axisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,i,n=e.e,r=e.opt,o=this.w,a=r.elGrid.getBoundingClientRect(),d=n.type==="touchmove"?n.touches[0].clientX:n.clientX,p=n.type==="touchmove"?n.touches[0].clientY:n.clientY;if(this.clientY=p,this.clientX=d,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,p<a.top||p>a.top+a.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var g=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(g)<0)return void this.handleMouseOut(r)}var x=this.getElTooltip(),w=this.getElXCrosshairs(),S=[];o.config.chart.group&&(S=this.ctx.getSyncedCharts());var E=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(n.type==="mousemove"||n.type==="touchmove"||n.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;w!==null&&w.classList.add("apexcharts-active");var M=this.yaxisTooltips.filter((function(N){return N===!0}));if(this.ycrosshairs!==null&&M.length&&this.ycrosshairs.classList.add("apexcharts-active"),E&&!this.showOnIntersect||S.length>1)this.handleStickyTooltip(n,d,p,r);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var D=this.intersect.handleHeatTreeTooltip({e:n,opt:r,x:t,y:i,type:o.config.chart.type});t=D.x,i=D.y,x.style.left=t+"px",x.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:r,x:t,y:i});if(this.yaxisTooltips.length)for(var O=0;O<o.config.yaxis.length;O++)this.axesTooltip.drawYaxisTooltipText(O,p,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else n.type!=="mouseout"&&n.type!=="touchend"||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,n=e.tooltipRect,r=this.w,o=i.paths.getAttribute("rel"),a=this.getElTooltip(),d=r.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var p=r.globals.clientX-d.left-n.ttWidth/2,g=r.globals.clientY-d.top-n.ttHeight-10;if(a.style.left=p+"px",a.style.top=g+"px",r.config.legend.tooltipHoverFormatter){var x=o-1,w=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[x].getAttribute("data:default-text"),{seriesIndex:x,dataPointIndex:x,w:r});this.legendLabels[x].innerHTML=w}}else t.type!=="mouseout"&&t.type!=="touchend"||(a.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(S){var E=S.getAttribute("data:default-text");S.innerHTML=decodeURIComponent(E)})))}},{key:"handleStickyTooltip",value:function(e,t,i,n){var r=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:t,clientY:i}),a=o.j,d=o.capturedSeries;r.globals.collapsedSeriesIndices.includes(d)&&(d=null);var p=n.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>p.width)this.handleMouseOut(n);else if(d!==null)this.handleStickyCapturedSeries(e,d,n,a);else if(this.tooltipUtil.isXoverlap(a)||r.globals.isBarHorizontal){var g=r.globals.series.findIndex((function(x,w){return!r.globals.collapsedSeriesIndices.includes(w)}));this.create(e,this,g,a,n.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,i,n){var r=this.w;if(!this.tConfig.shared&&r.globals.series[t][n]===null)return void this.handleMouseOut(i);if(r.globals.series[t][n]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,n,i.ttItems):this.create(e,this,t,n,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(n)){var o=r.globals.series.findIndex((function(a,d){return!r.globals.collapsedSeriesIndices.includes(d)}));this.create(e,this,o,n,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new lt(this.ctx),i=e.globals.dom.Paper.find(".apexcharts-bar-area"),n=0;n<i.length;n++)t.pathMouseLeave(i[n])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(r){var o=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(o)}))}},{key:"markerClick",value:function(e,t,i){var n=this.w;typeof n.config.chart.events.markerClick=="function"&&n.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:n}])}},{key:"create",value:function(e,t,i,n,r){var o,a,d,p,g,x,w,S,E,M,D,O,N,H,X,U,Q=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Y=this.w,te=t;e.type==="mouseup"&&this.markerClick(e,i,n),Q===null&&(Q=this.tConfig.shared);var se=this.tooltipUtil.hasMarkers(i),ce=this.tooltipUtil.getElBars(),ve=function(){Y.globals.markers.largestSize>0?te.marker.enlargePoints(n):te.tooltipPosition.moveDynamicPointsOnHover(n)};if(Y.config.legend.tooltipHoverFormatter){var xe=Y.config.legend.tooltipHoverFormatter,Ee=Array.from(this.legendLabels);Ee.forEach((function(Yt){var wt=Yt.getAttribute("data:default-text");Yt.innerHTML=decodeURIComponent(wt)}));for(var Be=0;Be<Ee.length;Be++){var Oe=Ee[Be],Ue=parseInt(Oe.getAttribute("i"),10),$e=decodeURIComponent(Oe.getAttribute("data:default-text")),nt=xe($e,{seriesIndex:Q?Ue:i,dataPointIndex:n,w:Y});if(Q)Oe.innerHTML=Y.globals.collapsedSeriesIndices.indexOf(Ue)<0?nt:$e;else if(Oe.innerHTML=Ue===i?nt:$e,i===Ue)break}}var Qe=gt(gt({ttItems:r,i,j:n},((o=Y.globals.seriesRange)===null||o===void 0||(a=o[i])===null||a===void 0||(d=a[n])===null||d===void 0||(p=d.y[0])===null||p===void 0?void 0:p.y1)!==void 0&&{y1:(g=Y.globals.seriesRange)===null||g===void 0||(x=g[i])===null||x===void 0||(w=x[n])===null||w===void 0||(S=w.y[0])===null||S===void 0?void 0:S.y1}),((E=Y.globals.seriesRange)===null||E===void 0||(M=E[i])===null||M===void 0||(D=M[n])===null||D===void 0||(O=D.y[0])===null||O===void 0?void 0:O.y2)!==void 0&&{y2:(N=Y.globals.seriesRange)===null||N===void 0||(H=N[i])===null||H===void 0||(X=H[n])===null||X===void 0||(U=X.y[0])===null||U===void 0?void 0:U.y2});if(Q){if(te.tooltipLabels.drawSeriesTexts(gt(gt({},Qe),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),se)ve();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ce),this.barSeriesHeight>0)){var Ae=new lt(this.ctx),ft=Y.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),te.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&ve(),te.tooltipPosition.moveStickyTooltipOverBars(n,i);for(var Dt=0;Dt<ft.length;Dt++)Ae.pathMouseEnter(ft[Dt])}}else te.tooltipLabels.drawSeriesTexts(gt({shared:!1},Qe)),this.tooltipUtil.hasBars()&&te.tooltipPosition.moveStickyTooltipOverBars(n,i),se&&te.tooltipPosition.moveMarkers(i,n)}}]),s})(),o3=(function(){function s(e){Ct(this,s),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return At(s,[{key:"handleBarDataLabels",value:function(e){var t,i,n=e.x,r=e.y,o=e.y1,a=e.y2,d=e.i,p=e.j,g=e.realIndex,x=e.columnGroupIndex,w=e.series,S=e.barHeight,E=e.barWidth,M=e.barXPosition,D=e.barYPosition,O=e.visibleSeries,N=this.w,H=new lt(this.barCtx.ctx),X=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth;N.globals.isXNumeric&&!N.globals.isBarHorizontal?(t=n+parseFloat(E*(O+1)),i=r+parseFloat(S*(O+1))-X):(t=n+parseFloat(E*O),i=r+parseFloat(S*O));var U,Q=null,Y=n,te=r,se={},ce=N.config.dataLabels,ve=this.barCtx.barOptions.dataLabels,xe=this.barCtx.barOptions.dataLabels.total;D!==void 0&&this.barCtx.isRangeBar&&(i=D,te=D),M!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=M,Y=M);var Ee=ce.offsetX,Be=ce.offsetY,Oe={width:0,height:0};if(N.config.dataLabels.enabled){var Ue=N.globals.series[d][p];Oe=H.getTextRects(N.config.dataLabels.formatter?N.config.dataLabels.formatter(Ue,gt(gt({},N),{},{seriesIndex:d,dataPointIndex:p,w:N})):N.globals.yLabelFormatters[0](Ue),parseFloat(ce.style.fontSize))}var $e={x:n,y:r,i:d,j:p,realIndex:g,columnGroupIndex:x,bcx:t,bcy:i,barHeight:S,barWidth:E,textRects:Oe,strokeWidth:X,dataLabelsX:Y,dataLabelsY:te,dataLabelsConfig:ce,barDataLabelsConfig:ve,barTotalDataLabelsConfig:xe,offX:Ee,offY:Be};return se=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition($e):this.calculateColumnsDataLabelsPosition($e),U=this.drawCalculatedDataLabels({x:se.dataLabelsX,y:se.dataLabelsY,val:this.barCtx.isRangeBar?[o,a]:N.config.chart.stackType==="100%"?w[g][p]:N.globals.series[g][p],i:g,j:p,barWidth:E,barHeight:S,textRects:Oe,dataLabelsConfig:ce}),N.config.chart.stacked&&xe.enabled&&(Q=this.drawTotalDataLabels({x:se.totalDataLabelsX,y:se.totalDataLabelsY,barWidth:E,barHeight:S,realIndex:g,textAnchor:se.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:p}),dataLabelsConfig:ce,barTotalDataLabelsConfig:xe})),{dataLabelsPos:se,dataLabels:U,totalDataLabels:Q}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,i=e.j,n=this.w,r=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(r=this.totalFormatter(r,gt(gt({},n),{},{seriesIndex:t,dataPointIndex:i,w:n}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,i=this.w,n=e.i,r=e.j,o=e.realIndex;e.columnGroupIndex;var a,d,p=e.y,g=e.bcx,x=e.barWidth,w=e.barHeight,S=e.textRects,E=e.dataLabelsX,M=e.dataLabelsY,D=e.dataLabelsConfig,O=e.barDataLabelsConfig,N=e.barTotalDataLabelsConfig,H=e.strokeWidth,X=e.offX,U=e.offY,Q=g;w=Math.abs(w);var Y=i.config.plotOptions.bar.dataLabels.orientation==="vertical",te=this.barCtx.barHelpers.getZeroValueEncounters({i:n,j:r}).zeroEncounters;g-=H/2;var se=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?E+=x/2:(E=i.globals.isXNumeric?g-x/2+X:g-se+x/2+X,!i.config.chart.stacked&&te>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(E-=x*te)),Y&&(E=E+S.height/2-H/2-2);var ce=i.globals.series[n][r]<0,ve=p;switch(this.barCtx.isReversed&&(ve=p+(ce?w:-w)),O.position){case"center":M=Y?ce?ve-w/2+U:ve+w/2-U:ce?ve-w/2+S.height/2+U:ve+w/2+S.height/2-U;break;case"bottom":M=Y?ce?ve-w+U:ve+w-U:ce?ve-w+S.height+H+U:ve+w-S.height/2+H-U;break;case"top":M=Y?ce?ve+U:ve-U:ce?ve-S.height/2-U:ve+S.height+U}var xe=ve;if(i.globals.seriesGroups.forEach((function(Oe){var Ue;(Ue=t.barCtx[Oe.join(",")])===null||Ue===void 0||Ue.prevY.forEach((function($e){xe=ce?Math.max($e[r],xe):Math.min($e[r],xe)}))})),this.barCtx.lastActiveBarSerieIndex===o&&N.enabled){var Ee=new lt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:r}),D.fontSize);a=ce?xe-Ee.height/2-U-N.offsetY+18:xe+Ee.height+U+N.offsetY-18;var Be=se;d=Q+(i.globals.isXNumeric?-x*i.globals.barGroups.length/2:i.globals.barGroups.length*x/2-(i.globals.barGroups.length-1)*x-Be)+N.offsetX}return i.config.chart.stacked||(M<0?M=0+H:M+S.height/3>i.globals.gridHeight&&(M=i.globals.gridHeight-H)),{bcx:g,bcy:p,dataLabelsX:E,dataLabelsY:M,totalDataLabelsX:d,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,i=this.w,n=e.x,r=e.i,o=e.j,a=e.realIndex,d=e.bcy,p=e.barHeight,g=e.barWidth,x=e.textRects,w=e.dataLabelsX,S=e.strokeWidth,E=e.dataLabelsConfig,M=e.barDataLabelsConfig,D=e.barTotalDataLabelsConfig,O=e.offX,N=e.offY,H=i.globals.gridHeight/i.globals.dataPoints,X=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:o}).zeroEncounters;g=Math.abs(g);var U,Q,Y=d-(this.barCtx.isRangeBar?0:H)+p/2+x.height/2+N-3;!i.config.chart.stacked&&X>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Y-=p*X);var te="start",se=i.globals.series[r][o]<0,ce=n;switch(this.barCtx.isReversed&&(ce=n+(se?-g:g),te=se?"start":"end"),M.position){case"center":w=se?ce+g/2-O:Math.max(x.width/2,ce-g/2)+O;break;case"bottom":w=se?ce+g-S-O:ce-g+S+O;break;case"top":w=se?ce-S-O:ce-S+O}var ve=ce;if(i.globals.seriesGroups.forEach((function(Ee){var Be;(Be=t.barCtx[Ee.join(",")])===null||Be===void 0||Be.prevX.forEach((function(Oe){ve=se?Math.min(Oe[o],ve):Math.max(Oe[o],ve)}))})),this.barCtx.lastActiveBarSerieIndex===a&&D.enabled){var xe=new lt(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:o}),E.fontSize);se?(U=ve-S-O-D.offsetX,te="end"):U=ve+O+D.offsetX+(this.barCtx.isReversed?-(g+S):S),Q=Y-x.height/2+xe.height/2+D.offsetY+S,i.globals.barGroups.length>1&&(Q-=i.globals.barGroups.length/2*(p/2))}return i.config.chart.stacked||(E.textAnchor==="start"?w-x.width<0?w=se?x.width+S:S:w+x.width>i.globals.gridWidth&&(w=se?i.globals.gridWidth-S:i.globals.gridWidth-x.width-S):E.textAnchor==="middle"?w-x.width/2<0?w=x.width/2+S:w+x.width/2>i.globals.gridWidth&&(w=i.globals.gridWidth-x.width/2-S):E.textAnchor==="end"&&(w<1?w=x.width+S:w+1>i.globals.gridWidth&&(w=i.globals.gridWidth-x.width-S))),{bcx:n,bcy:d,dataLabelsX:w,dataLabelsY:Y,totalDataLabelsX:U,totalDataLabelsY:Q,totalDataLabelsAnchor:te}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,n=e.val,r=e.i,o=e.j,a=e.textRects,d=e.barHeight,p=e.barWidth,g=e.dataLabelsConfig,x=this.w,w="rotate(0)";x.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w="rotate(-90, ".concat(t,", ").concat(i,")"));var S=new Dd(this.barCtx.ctx),E=new lt(this.barCtx.ctx),M=g.formatter,D=null,O=x.globals.collapsedSeriesIndices.indexOf(r)>-1;if(g.enabled&&!O){D=E.group({class:"apexcharts-data-labels",transform:w});var N="";n!==void 0&&(N=M(n,gt(gt({},x),{},{seriesIndex:r,dataPointIndex:o,w:x}))),!n&&x.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(N="");var H=x.globals.series[r][o]<0,X=x.config.plotOptions.bar.dataLabels.position;x.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(X==="top"&&(g.textAnchor=H?"end":"start"),X==="center"&&(g.textAnchor="middle"),X==="bottom"&&(g.textAnchor=H?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&p<E.getTextRects(N,parseFloat(g.style.fontSize)).width&&(N=""),x.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(p)&&(N=""):a.height/1.6>Math.abs(d)&&(N=""));var U=gt({},g);this.barCtx.isHorizontal&&n<0&&(g.textAnchor==="start"?U.textAnchor="end":g.textAnchor==="end"&&(U.textAnchor="start")),S.plotDataLabelsText({x:t,y:i,text:N,i:r,j:o,parent:D,dataLabelsConfig:U,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return D}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,i=e.y,n=e.val,r=e.realIndex,o=e.textAnchor,a=e.barTotalDataLabelsConfig;this.w;var d,p=new lt(this.barCtx.ctx);return a.enabled&&t!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===r&&(d=p.drawText({x:t,y:i,foreColor:a.style.color,text:n,textAnchor:o,fontFamily:a.style.fontFamily,fontSize:a.style.fontSize,fontWeight:a.style.fontWeight})),d}}]),s})(),l3=(function(){function s(e){Ct(this,s),this.w=e.w,this.barCtx=e}return At(s,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var n=0;n<e[i].length;n++)t.globals.seriesX[i][n]>t.globals.minX&&t.globals.seriesX[i][n]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),De.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(r){return r.map((function(o){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,i,n,r,o,a,d,p,g=this.w,x=g.globals.dataPoints;this.barCtx.isRangeBar&&(x=g.globals.labels.length);var w=this.barCtx.seriesLen;if(g.config.plotOptions.bar.rangeBarGroupRows&&(w=1),this.barCtx.isHorizontal)o=(n=g.globals.gridHeight/x)/w,g.globals.isXNumeric&&(o=(n=g.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),p=this.barCtx.baseLineInvertedY+g.globals.padHorizontal+(this.barCtx.isReversed?g.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(p=g.globals.gridWidth/2),i=(n-o*this.barCtx.seriesLen)/2;else{if(r=g.globals.gridWidth/this.barCtx.visibleItems,g.config.xaxis.convertedCatToNumeric&&(r=g.globals.gridWidth/g.globals.dataPoints),a=r/w*parseInt(this.barCtx.barOptions.columnWidth,10)/100,g.globals.isXNumeric){var S=this.barCtx.xRatio;g.globals.minXDiff&&g.globals.minXDiff!==.5&&g.globals.minXDiff/S>0&&(r=g.globals.minXDiff/S),(a=r/w*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),d=g.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?g.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),g.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:a}).x:t=g.globals.padHorizontal+De.noExponents(r-a*this.barCtx.seriesLen)/2}return g.globals.barHeight=o,g.globals.barWidth=a,{x:t,y:i,yDivision:n,xDivision:r,barHeight:o,barWidth:a,zeroH:d,zeroW:p}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,i,n){var r,o,a,d,p=this.w,g=this.barCtx.ctx.fill,x=null,w=this.barCtx.barOptions.distributed?i:t,S=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(E){e[t][i]>=E.from&&e[t][i]<=E.to&&(x=E.color,S=!0)})),{color:g.fillPath({seriesNumber:this.barCtx.barOptions.distributed?w:n,dataPointIndex:i,color:x,value:e[t][i],fillConfig:(r=p.config.series[t].data[i])===null||r===void 0?void 0:r.fill,fillType:(o=p.config.series[t].data[i])!==null&&o!==void 0&&(a=o.fill)!==null&&a!==void 0&&a.type?(d=p.config.series[t].data[i])===null||d===void 0?void 0:d.fill.type:Array.isArray(p.config.fill.type)?p.config.fill.type[n]:p.config.fill.type}),useRangeColor:S}}},{key:"getStrokeWidth",value:function(e,t,i){var n=0,r=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||r.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),n}},{key:"createBorderRadiusArr",value:function(e){var t,i=this.w,n=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,r=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),a=Array.from({length:r},(function(){return Array(o).fill(n?"top":"none")}));if(n)return a;for(var d=0;d<o;d++){for(var p=[],g=[],x=0,w=0;w<r;w++){var S=e[w][d];S>0?(p.push(w),x++):S<0&&(g.push(w),x++)}if(p.length>0&&g.length===0)if(p.length===1)a[p[0]][d]="both";else{var E,M=p[0],D=p[p.length-1],O=Dp(p);try{for(O.s();!(E=O.n()).done;){var N=E.value;a[N][d]=N===M?"bottom":N===D?"top":"none"}}catch(Ue){O.e(Ue)}finally{O.f()}}else if(g.length>0&&p.length===0)if(g.length===1)a[g[0]][d]="both";else{var H,X=Math.max.apply(Math,g),U=Math.min.apply(Math,g),Q=Dp(g);try{for(Q.s();!(H=Q.n()).done;){var Y=H.value;a[Y][d]=Y===X?"bottom":Y===U?"top":"none"}}catch(Ue){Q.e(Ue)}finally{Q.f()}}else if(p.length>0&&g.length>0){var te,se=p[p.length-1],ce=Dp(p);try{for(ce.s();!(te=ce.n()).done;){var ve=te.value;a[ve][d]=ve===se?"top":"none"}}catch(Ue){ce.e(Ue)}finally{ce.f()}var xe,Ee=Math.max.apply(Math,g),Be=Dp(g);try{for(Be.s();!(xe=Be.n()).done;){var Oe=xe.value;a[Oe][d]=Oe===Ee?"bottom":"none"}}catch(Ue){Be.e(Ue)}finally{Be.f()}}else x===1&&(a[p[0]||g[0]][d]="both")}return a}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,n=e.x1,r=e.x2,o=e.y1,a=e.y2,d=e.elSeries,p=this.w,g=new lt(this.barCtx.ctx),x=new Is(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&x===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var w=this.barCtx.barOptions.colors.backgroundBarColors[t],S=g.drawRect(n!==void 0?n:0,o!==void 0?o:0,r!==void 0?r:p.globals.gridWidth,a!==void 0?a:p.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,w,this.barCtx.barOptions.colors.backgroundBarOpacity);d.add(S),S.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,i=e.barWidth,n=e.barXPosition,r=e.y1,o=e.y2,a=e.strokeWidth,d=e.isReversed,p=e.series,g=e.seriesGroup,x=e.realIndex,w=e.i,S=e.j,E=e.w,M=new lt(this.barCtx.ctx);(a=Array.isArray(a)?a[x]:a)||(a=0);var D=i,O=n;(t=E.config.series[x].data[S])!==null&&t!==void 0&&t.columnWidthOffset&&(O=n-E.config.series[x].data[S].columnWidthOffset/2,D=i+E.config.series[x].data[S].columnWidthOffset);var N=a/2,H=O+N,X=O+D-N,U=(p[w][S]>=0?1:-1)*(d?-1:1);r+=.001-N*U,o+=.001+N*U;var Q=M.move(H,r),Y=M.move(H,r),te=M.line(X,r);if(E.globals.previousPaths.length>0&&(Y=this.barCtx.getPreviousPath(x,S,!1)),Q=Q+M.line(H,o)+M.line(X,o)+te+(E.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),Y=Y+M.line(H,r)+te+te+te+te+te+M.line(H,r)+(E.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),this.arrBorderRadius[x][S]!=="none"&&(Q=M.roundPathCorners(Q,E.config.plotOptions.bar.borderRadius)),E.config.chart.stacked){var se=this.barCtx;(se=this.barCtx[g]).yArrj.push(o-N*U),se.yArrjF.push(Math.abs(r-o+a*U)),se.yArrjVal.push(this.barCtx.series[w][S])}return{pathTo:Q,pathFrom:Y}}},{key:"getBarpaths",value:function(e){var t,i=e.barYPosition,n=e.barHeight,r=e.x1,o=e.x2,a=e.strokeWidth,d=e.isReversed,p=e.series,g=e.seriesGroup,x=e.realIndex,w=e.i,S=e.j,E=e.w,M=new lt(this.barCtx.ctx);(a=Array.isArray(a)?a[x]:a)||(a=0);var D=i,O=n;(t=E.config.series[x].data[S])!==null&&t!==void 0&&t.barHeightOffset&&(D=i-E.config.series[x].data[S].barHeightOffset/2,O=n+E.config.series[x].data[S].barHeightOffset);var N=a/2,H=D+N,X=D+O-N,U=(p[w][S]>=0?1:-1)*(d?-1:1);r+=.001+N*U,o+=.001-N*U;var Q=M.move(r,H),Y=M.move(r,H);E.globals.previousPaths.length>0&&(Y=this.barCtx.getPreviousPath(x,S,!1));var te=M.line(r,X);if(Q=Q+M.line(o,H)+M.line(o,X)+te+(E.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),Y=Y+M.line(r,H)+te+te+te+te+te+M.line(r,H)+(E.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),this.arrBorderRadius[x][S]!=="none"&&(Q=M.roundPathCorners(Q,E.config.plotOptions.bar.borderRadius)),E.config.chart.stacked){var se=this.barCtx;(se=this.barCtx[g]).xArrj.push(o+N*U),se.xArrjF.push(Math.abs(r-o-a*U)),se.xArrjVal.push(this.barCtx.series[w][S])}return{pathTo:Q,pathFrom:Y}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,n=0;n<t.length;n++){for(var r=0,o=0;o<t[i.globals.maxValsInArrayIndex].length;o++)r+=t[n][o];r===0&&this.barCtx.zeroSerieses.push(n)}}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t,i){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(n=t-e/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[i]:0)),n}},{key:"getGoalValues",value:function(e,t,i,n,r,o){var a=this,d=this.w,p=[],g=function(S,E){var M;p.push((Dy(M={},e,e==="x"?a.getXForValue(S,t,!1):a.getYForValue(S,i,o,!1)),Dy(M,"attrs",E),M))};if(d.globals.seriesGoals[n]&&d.globals.seriesGoals[n][r]&&Array.isArray(d.globals.seriesGoals[n][r])&&d.globals.seriesGoals[n][r].forEach((function(S){g(S.value,S)})),this.barCtx.barOptions.isDumbbell&&d.globals.seriesRange.length){var x=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:d.globals.colors,w={strokeHeight:e==="x"?0:d.globals.markers.size[n],strokeWidth:e==="x"?d.globals.markers.size[n]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(x[n])?x[n][0]:x[n]};g(d.globals.seriesRangeStart[n][r],w),g(d.globals.seriesRangeEnd[n][r],gt(gt({},w),{},{strokeColor:Array.isArray(x[n])?x[n][1]:x[n]}))}return p}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,n=e.goalX,r=e.goalY,o=e.barWidth,a=e.barHeight,d=new lt(this.barCtx.ctx),p=d.group({className:"apexcharts-bar-goals-groups"});p.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:p.node}),p.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var g=null;return this.barCtx.isHorizontal?Array.isArray(n)&&n.forEach((function(x){if(x.x>=-1&&x.x<=d.w.globals.gridWidth+1){var w=x.attrs.strokeHeight!==void 0?x.attrs.strokeHeight:a/2,S=i+w+a/2;g=d.drawLine(x.x,S-2*w,x.x,S,x.attrs.strokeColor?x.attrs.strokeColor:void 0,x.attrs.strokeDashArray,x.attrs.strokeWidth?x.attrs.strokeWidth:2,x.attrs.strokeLineCap),p.add(g)}})):Array.isArray(r)&&r.forEach((function(x){if(x.y>=-1&&x.y<=d.w.globals.gridHeight+1){var w=x.attrs.strokeWidth!==void 0?x.attrs.strokeWidth:o/2,S=t+w+o/2;g=d.drawLine(S-2*w,x.y,S,x.y,x.attrs.strokeColor?x.attrs.strokeColor:void 0,x.attrs.strokeDashArray,x.attrs.strokeHeight?x.attrs.strokeHeight:2,x.attrs.strokeLineCap),p.add(g)}})),p}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,i=e.currPaths,n=e.color,r=this.w,o=t.x,a=t.x1,d=t.barYPosition,p=i.x,g=i.x1,x=i.barYPosition,w=d+i.barHeight,S=new lt(this.barCtx.ctx),E=new De,M=S.move(a,w)+S.line(o,w)+S.line(p,x)+S.line(g,x)+S.line(a,w)+(r.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return S.drawPath({d:M,fill:E.shadeColor(.5,De.rgb2hex(n)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,i=e.i,n=e.j,r=this.w,o=0,a=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map((function(d,p){return p})):((t=r.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(d){return d})))||[]).forEach((function(d){var p=r.globals.seriesPercent[d][n];p&&o++,d<i&&p===0&&a++})),{nonZeroColumns:o,zeroEncounters:a}}},{key:"getGroupIndex",value:function(e){var t=this.w,i=t.globals.seriesGroups.findIndex((function(o){return o.indexOf(t.globals.seriesNames[e])>-1})),n=this.barCtx.columnGroupIndices,r=n.indexOf(i);return r<0&&(n.push(i),r=n.length-1),{groupIndex:i,columnGroupIndex:r}}}]),s})(),zd=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var n=new Is(this.ctx);this.lastActiveBarSerieIndex=n.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var r=n.getBarSeriesIndices(),o=new ta(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map((function(a,d){return r.indexOf(d)===-1?d:-1})).filter((function(a){return a!==-1}))),this.barHelpers=new l3(this)}return At(s,[{key:"draw",value:function(e,t){var i=this.w,n=new lt(this.ctx),r=new ta(this.ctx,i);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=n.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var a=0,d=0;a<e.length;a++,d++){var p,g,x,w,S=void 0,E=void 0,M=[],D=[],O=i.globals.comboCharts?t[a]:a,N=this.barHelpers.getGroupIndex(O).columnGroupIndex,H=n.group({class:"apexcharts-series",rel:a+1,seriesName:De.escapeString(i.globals.seriesNames[O]),"data:realIndex":O});this.ctx.series.addCollapsedClassToSeries(H,O),e[a].length>0&&(this.visibleI=this.visibleI+1);var X=0,U=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[O],this.translationsIndex=O);var Q=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var Y=this.barHelpers.initialPositions(O);E=Y.y,X=Y.barHeight,g=Y.yDivision,w=Y.zeroW,S=Y.x,U=Y.barWidth,p=Y.xDivision,x=Y.zeroH,this.isHorizontal||D.push(S+U/2);var te=n.group({class:"apexcharts-datalabels","data:realIndex":O});i.globals.delayedElements.push({el:te.node}),te.node.classList.add("apexcharts-element-hidden");var se=n.group({class:"apexcharts-bar-goals-markers"}),ce=n.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:ce.node}),ce.node.classList.add("apexcharts-element-hidden");for(var ve=0;ve<e[a].length;ve++){var xe=this.barHelpers.getStrokeWidth(a,ve,O),Ee=null,Be={indexes:{i:a,j:ve,realIndex:O,translationsIndex:Q,bc:d},x:S,y:E,strokeWidth:xe,elSeries:H};this.isHorizontal?(Ee=this.drawBarPaths(gt(gt({},Be),{},{barHeight:X,zeroW:w,yDivision:g})),U=this.series[a][ve]/this.invertedYRatio):(Ee=this.drawColumnPaths(gt(gt({},Be),{},{xDivision:p,barWidth:U,zeroH:x})),X=this.series[a][ve]/this.yRatio[Q]);var Oe=this.barHelpers.getPathFillColor(e,a,ve,O);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ve>0){var Ue,$e=this.barHelpers.drawBarShadow({color:typeof Oe.color=="string"&&((Ue=Oe.color)===null||Ue===void 0?void 0:Ue.indexOf("url"))===-1?Oe.color:De.hexToRgba(i.globals.colors[a]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Ee});ce.add($e),i.config.chart.dropShadow.enabled&&new Wa(this.ctx).dropShadow($e,i.config.chart.dropShadow,O)}this.pathArr.push(Ee);var nt=this.barHelpers.drawGoalLine({barXPosition:Ee.barXPosition,barYPosition:Ee.barYPosition,goalX:Ee.goalX,goalY:Ee.goalY,barHeight:X,barWidth:U});nt&&se.add(nt),E=Ee.y,S=Ee.x,ve>0&&D.push(S+U/2),M.push(E),this.renderSeries(gt(gt({realIndex:O,pathFill:Oe.color},Oe.useRangeColor?{lineFill:Oe.color}:{}),{},{j:ve,i:a,columnGroupIndex:N,pathFrom:Ee.pathFrom,pathTo:Ee.pathTo,strokeWidth:xe,elSeries:H,x:S,y:E,series:e,barHeight:Math.abs(Ee.barHeight?Ee.barHeight:X),barWidth:Math.abs(Ee.barWidth?Ee.barWidth:U),elDataLabelsWrap:te,elGoalsMarkers:se,elBarShadows:ce,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[O]=D,i.globals.seriesYvalues[O]=M,o.add(H)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,n=e.lineFill,r=e.j,o=e.i,a=e.columnGroupIndex,d=e.pathFrom,p=e.pathTo,g=e.strokeWidth,x=e.elSeries,w=e.x,S=e.y,E=e.y1,M=e.y2,D=e.series,O=e.barHeight,N=e.barWidth,H=e.barXPosition,X=e.barYPosition,U=e.elDataLabelsWrap,Q=e.elGoalsMarkers,Y=e.elBarShadows,te=e.visibleSeries,se=e.type,ce=e.classes,ve=this.w,xe=new lt(this.ctx),Ee=!1;if(!n){var Be=typeof ve.globals.stroke.colors[t]=="function"?(function(Qe){var Ae,ft=ve.config.stroke.colors;return Array.isArray(ft)&&ft.length>0&&((Ae=ft[Qe])||(Ae=""),typeof Ae=="function")?Ae({value:ve.globals.series[Qe][r],dataPointIndex:r,w:ve}):Ae})(t):ve.globals.stroke.colors[t];n=this.barOptions.distributed?ve.globals.stroke.colors[r]:Be}var Oe=new o3(this).handleBarDataLabels({x:w,y:S,y1:E,y2:M,i:o,j:r,series:D,realIndex:t,columnGroupIndex:a,barHeight:O,barWidth:N,barXPosition:H,barYPosition:X,visibleSeries:te});ve.globals.isBarHorizontal||(Oe.dataLabelsPos.dataLabelsX+Math.max(N,ve.globals.barPadForNumericAxis)<0||Oe.dataLabelsPos.dataLabelsX-Math.max(N,ve.globals.barPadForNumericAxis)>ve.globals.gridWidth)&&(Ee=!0),ve.config.series[o].data[r]&&ve.config.series[o].data[r].strokeColor&&(n=ve.config.series[o].data[r].strokeColor),this.isNullValue&&(i="none");var Ue=r/ve.config.chart.animations.animateGradually.delay*(ve.config.chart.animations.speed/ve.globals.dataPoints)/2.4;if(!Ee){var $e=xe.renderPaths({i:o,j:r,realIndex:t,pathFrom:d,pathTo:p,stroke:n,strokeWidth:g,strokeLineCap:ve.config.stroke.lineCap,fill:i,animationDelay:Ue,initialSpeed:ve.config.chart.animations.speed,dataChangeSpeed:ve.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(se,"-area ").concat(ce),chartType:se});$e.attr("clip-path","url(#gridRectBarMask".concat(ve.globals.cuid,")"));var nt=ve.config.forecastDataPoints;nt.count>0&&r>=ve.globals.dataPoints-nt.count&&($e.node.setAttribute("stroke-dasharray",nt.dashArray),$e.node.setAttribute("stroke-width",nt.strokeWidth),$e.node.setAttribute("fill-opacity",nt.fillOpacity)),E!==void 0&&M!==void 0&&($e.attr("data-range-y1",E),$e.attr("data-range-y2",M)),new Wa(this.ctx).setSelectionFilter($e,t,r),x.add($e),$e.attr({cy:Oe.dataLabelsPos.bcy,cx:Oe.dataLabelsPos.bcx,j:r,val:ve.globals.series[o][r],barHeight:O,barWidth:N}),Oe.dataLabels!==null&&U.add(Oe.dataLabels),Oe.totalDataLabels&&U.add(Oe.totalDataLabels),x.add(U),Q&&x.add(Q),Y&&x.add(Y)}return x}},{key:"drawBarPaths",value:function(e){var t,i=e.indexes,n=e.barHeight,r=e.strokeWidth,o=e.zeroW,a=e.x,d=e.y,p=e.yDivision,g=e.elSeries,x=this.w,w=i.i,S=i.j;if(x.globals.isXNumeric)t=(d=(x.globals.seriesX[w][S]-x.globals.minX)/this.invertedXRatio-n)+n*this.visibleI;else if(x.config.plotOptions.bar.hideZeroBarsWhenGrouped){var E=this.barHelpers.getZeroValueEncounters({i:w,j:S}),M=E.nonZeroColumns,D=E.zeroEncounters;M>0&&(n=this.seriesLen*n/M),t=d+n*this.visibleI,t-=n*D}else t=d+n*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[w][S],o)-o)/2),a=this.barHelpers.getXForValue(this.series[w][S],o);var O=this.barHelpers.getBarpaths({barYPosition:t,barHeight:n,x1:o,x2:a,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:w,j:S,w:x});return x.globals.isXNumeric||(d+=p),this.barHelpers.barBackground({j:S,i:w,y1:t-n*this.visibleI,y2:n*this.seriesLen,elSeries:g}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x1:o,x:a,y:d,goalX:this.barHelpers.getGoalValues("x",o,null,w,S),barYPosition:t,barHeight:n}}},{key:"drawColumnPaths",value:function(e){var t,i=e.indexes,n=e.x,r=e.y,o=e.xDivision,a=e.barWidth,d=e.zeroH,p=e.strokeWidth,g=e.elSeries,x=this.w,w=i.realIndex,S=i.translationsIndex,E=i.i,M=i.j,D=i.bc;if(x.globals.isXNumeric){var O=this.getBarXForNumericXAxis({x:n,j:M,realIndex:w,barWidth:a});n=O.x,t=O.barXPosition}else if(x.config.plotOptions.bar.hideZeroBarsWhenGrouped){var N=this.barHelpers.getZeroValueEncounters({i:E,j:M}),H=N.nonZeroColumns,X=N.zeroEncounters;H>0&&(a=this.seriesLen*a/H),t=n+a*this.visibleI,t-=a*X}else t=n+a*this.visibleI;r=this.barHelpers.getYForValue(this.series[E][M],d,S);var U=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:a,y1:d,y2:r,strokeWidth:p,isReversed:this.isReversed,series:this.series,realIndex:w,i:E,j:M,w:x});return x.globals.isXNumeric||(n+=o),this.barHelpers.barBackground({bc:D,j:M,i:E,x1:t-p/2-a*this.visibleI,x2:a*this.seriesLen+p/2,elSeries:g}),{pathTo:U.pathTo,pathFrom:U.pathFrom,x:n,y:r,goalY:this.barHelpers.getGoalValues("y",null,d,E,M,S),barXPosition:t,barWidth:a}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,i=e.barWidth,n=e.realIndex,r=e.j,o=this.w,a=n;return o.globals.seriesX[n].length||(a=o.globals.maxValsInArrayIndex),De.isNumber(o.globals.seriesX[a][r])&&(t=(o.globals.seriesX[a][r]-o.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:t+i*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var i=this.w,n="M 0 0",r=0;r<i.globals.previousPaths.length;r++){var o=i.globals.previousPaths[r];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[r].paths[t]!==void 0&&(n=i.globals.previousPaths[r].paths[t].d)}return n}}]),s})(),c2=(function(s){Pm(t,zd);var e=Mm(t);function t(){return Ct(this,t),e.apply(this,arguments)}return At(t,[{key:"draw",value:function(i,n){var r=this,o=this.w;this.graphics=new lt(this.ctx),this.bar=new zd(this.ctx,this.xyRatios);var a=new ta(this.ctx,o);i=a.getLogSeries(i),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),o.config.chart.stackType==="100%"&&(i=o.globals.comboCharts?n.map((function(E){return o.globals.seriesPercent[E]})):o.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var d=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),p=0,g=0,x=function(E,M){var D=void 0,O=void 0,N=void 0,H=void 0,X=o.globals.comboCharts?n[E]:E,U=r.barHelpers.getGroupIndex(X),Q=U.groupIndex,Y=U.columnGroupIndex;r.groupCtx=r[o.globals.seriesGroups[Q]];var te=[],se=[],ce=0;r.yRatio.length>1&&(r.yaxisIndex=o.globals.seriesYAxisReverseMap[X][0],ce=X),r.isReversed=o.config.yaxis[r.yaxisIndex]&&o.config.yaxis[r.yaxisIndex].reversed;var ve=r.graphics.group({class:"apexcharts-series",seriesName:De.escapeString(o.globals.seriesNames[X]),rel:E+1,"data:realIndex":X});r.ctx.series.addCollapsedClassToSeries(ve,X);var xe=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":X}),Ee=r.graphics.group({class:"apexcharts-bar-goals-markers"}),Be=0,Oe=0,Ue=r.initialPositions(p,g,D,O,N,H,ce);g=Ue.y,Be=Ue.barHeight,O=Ue.yDivision,H=Ue.zeroW,p=Ue.x,Oe=Ue.barWidth,D=Ue.xDivision,N=Ue.zeroH,o.globals.barHeight=Be,o.globals.barWidth=Oe,r.barHelpers.initializeStackedXYVars(r),r.groupCtx.prevY.length===1&&r.groupCtx.prevY[0].every((function(Rt){return isNaN(Rt)}))&&(r.groupCtx.prevY[0]=r.groupCtx.prevY[0].map((function(){return N})),r.groupCtx.prevYF[0]=r.groupCtx.prevYF[0].map((function(){return 0})));for(var $e=0;$e<o.globals.dataPoints;$e++){var nt=r.barHelpers.getStrokeWidth(E,$e,X),Qe={indexes:{i:E,j:$e,realIndex:X,translationsIndex:ce,bc:M},strokeWidth:nt,x:p,y:g,elSeries:ve,columnGroupIndex:Y,seriesGroup:o.globals.seriesGroups[Q]},Ae=null;r.isHorizontal?(Ae=r.drawStackedBarPaths(gt(gt({},Qe),{},{zeroW:H,barHeight:Be,yDivision:O})),Oe=r.series[E][$e]/r.invertedYRatio):(Ae=r.drawStackedColumnPaths(gt(gt({},Qe),{},{xDivision:D,barWidth:Oe,zeroH:N})),Be=r.series[E][$e]/r.yRatio[ce]);var ft=r.barHelpers.drawGoalLine({barXPosition:Ae.barXPosition,barYPosition:Ae.barYPosition,goalX:Ae.goalX,goalY:Ae.goalY,barHeight:Be,barWidth:Oe});ft&&Ee.add(ft),g=Ae.y,p=Ae.x,te.push(p),se.push(g);var Dt=r.barHelpers.getPathFillColor(i,E,$e,X),Yt="",wt=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(r.barHelpers.arrBorderRadius[X][$e]==="bottom"&&o.globals.series[X][$e]>0||r.barHelpers.arrBorderRadius[X][$e]==="top"&&o.globals.series[X][$e]<0)&&(Yt=wt),ve=r.renderSeries(gt(gt({realIndex:X,pathFill:Dt.color},Dt.useRangeColor?{lineFill:Dt.color}:{}),{},{j:$e,i:E,columnGroupIndex:Y,pathFrom:Ae.pathFrom,pathTo:Ae.pathTo,strokeWidth:nt,elSeries:ve,x:p,y:g,series:i,barHeight:Be,barWidth:Oe,elDataLabelsWrap:xe,elGoalsMarkers:Ee,type:"bar",visibleSeries:Y,classes:Yt}))}o.globals.seriesXvalues[X]=te,o.globals.seriesYvalues[X]=se,r.groupCtx.prevY.push(r.groupCtx.yArrj),r.groupCtx.prevYF.push(r.groupCtx.yArrjF),r.groupCtx.prevYVal.push(r.groupCtx.yArrjVal),r.groupCtx.prevX.push(r.groupCtx.xArrj),r.groupCtx.prevXF.push(r.groupCtx.xArrjF),r.groupCtx.prevXVal.push(r.groupCtx.xArrjVal),d.add(ve)},w=0,S=0;w<i.length;w++,S++)x(w,S);return d}},{key:"initialPositions",value:function(i,n,r,o,a,d,p){var g,x,w=this.w;if(this.isHorizontal){o=w.globals.gridHeight/w.globals.dataPoints;var S=w.config.plotOptions.bar.barHeight;g=String(S).indexOf("%")===-1?parseInt(S,10):o*parseInt(S,10)/100,d=w.globals.padHorizontal+(this.isReversed?w.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),n=(o-g)/2}else{x=r=w.globals.gridWidth/w.globals.dataPoints;var E=w.config.plotOptions.bar.columnWidth;w.globals.isXNumeric&&w.globals.dataPoints>1?x=(r=w.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(E).indexOf("%")===-1?x=parseInt(E,10):x*=parseInt(E,10)/100,a=this.isReversed?this.baseLineY[p]:w.globals.gridHeight-this.baseLineY[p],i=w.globals.padHorizontal+(r-x)/2}var M=w.globals.barGroups.length||1;return{x:i,y:n,yDivision:o,xDivision:r,barHeight:g/M,barWidth:x/M,zeroH:a,zeroW:d}}},{key:"drawStackedBarPaths",value:function(i){for(var n,r=i.indexes,o=i.barHeight,a=i.strokeWidth,d=i.zeroW,p=i.x,g=i.y,x=i.columnGroupIndex,w=i.seriesGroup,S=i.yDivision,E=i.elSeries,M=this.w,D=g+x*o,O=r.i,N=r.j,H=r.realIndex,X=r.translationsIndex,U=0,Q=0;Q<this.groupCtx.prevXF.length;Q++)U+=this.groupCtx.prevXF[Q][N];var Y=O;if(M.config.series[H].name&&(Y=w.indexOf(M.config.series[H].name)),Y>0){var te=d;this.groupCtx.prevXVal[Y-1][N]<0?te=this.series[O][N]>=0?this.groupCtx.prevX[Y-1][N]+U-2*(this.isReversed?U:0):this.groupCtx.prevX[Y-1][N]:this.groupCtx.prevXVal[Y-1][N]>=0&&(te=this.series[O][N]>=0?this.groupCtx.prevX[Y-1][N]:this.groupCtx.prevX[Y-1][N]-U+2*(this.isReversed?U:0)),n=te}else n=d;p=this.series[O][N]===null?n:n+this.series[O][N]/this.invertedYRatio-2*(this.isReversed?this.series[O][N]/this.invertedYRatio:0);var se=this.barHelpers.getBarpaths({barYPosition:D,barHeight:o,x1:n,x2:p,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,seriesGroup:w,i:O,j:N,w:M});return this.barHelpers.barBackground({j:N,i:O,y1:D,y2:o,elSeries:E}),g+=S,{pathTo:se.pathTo,pathFrom:se.pathFrom,goalX:this.barHelpers.getGoalValues("x",d,null,O,N,X),barXPosition:n,barYPosition:D,x:p,y:g}}},{key:"drawStackedColumnPaths",value:function(i){var n=i.indexes,r=i.x,o=i.y,a=i.xDivision,d=i.barWidth,p=i.zeroH,g=i.columnGroupIndex,x=i.seriesGroup,w=i.elSeries,S=this.w,E=n.i,M=n.j,D=n.bc,O=n.realIndex,N=n.translationsIndex;if(S.globals.isXNumeric){var H=S.globals.seriesX[O][M];H||(H=0),r=(H-S.globals.minX)/this.xRatio-d/2*S.globals.barGroups.length}for(var X,U=r+g*d,Q=0,Y=0;Y<this.groupCtx.prevYF.length;Y++)Q+=isNaN(this.groupCtx.prevYF[Y][M])?0:this.groupCtx.prevYF[Y][M];var te=E;if(x&&(te=x.indexOf(S.globals.seriesNames[O])),te>0&&!S.globals.isXNumeric||te>0&&S.globals.isXNumeric&&S.globals.seriesX[O-1][M]===S.globals.seriesX[O][M]){var se,ce,ve,xe=Math.min(this.yRatio.length+1,O+1);if(this.groupCtx.prevY[te-1]!==void 0&&this.groupCtx.prevY[te-1].length)for(var Ee=1;Ee<xe;Ee++){var Be;if(!isNaN((Be=this.groupCtx.prevY[te-Ee])===null||Be===void 0?void 0:Be[M])){ve=this.groupCtx.prevY[te-Ee][M];break}}for(var Oe=1;Oe<xe;Oe++){var Ue,$e;if(((Ue=this.groupCtx.prevYVal[te-Oe])===null||Ue===void 0?void 0:Ue[M])<0){ce=this.series[E][M]>=0?ve-Q+2*(this.isReversed?Q:0):ve;break}if((($e=this.groupCtx.prevYVal[te-Oe])===null||$e===void 0?void 0:$e[M])>=0){ce=this.series[E][M]>=0?ve:ve+Q-2*(this.isReversed?Q:0);break}}ce===void 0&&(ce=S.globals.gridHeight),X=(se=this.groupCtx.prevYF[0])!==null&&se!==void 0&&se.every((function(Qe){return Qe===0}))&&this.groupCtx.prevYF.slice(1,te).every((function(Qe){return Qe.every((function(Ae){return isNaN(Ae)}))}))?p:ce}else X=p;o=this.series[E][M]?X-this.series[E][M]/this.yRatio[N]+2*(this.isReversed?this.series[E][M]/this.yRatio[N]:0):X;var nt=this.barHelpers.getColumnPaths({barXPosition:U,barWidth:d,y1:X,y2:o,yRatio:this.yRatio[N],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:x,realIndex:n.realIndex,i:E,j:M,w:S});return this.barHelpers.barBackground({bc:D,j:M,i:E,x1:U,x2:d,elSeries:w}),{pathTo:nt.pathTo,pathFrom:nt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,p,E,M),barXPosition:U,x:S.globals.isXNumeric?r:r+a,y:o}}}]),t})(),Lb=(function(s){Pm(t,zd);var e=Mm(t);function t(){return Ct(this,t),e.apply(this,arguments)}return At(t,[{key:"draw",value:function(i,n,r){var o=this,a=this.w,d=new lt(this.ctx),p=a.globals.comboCharts?n:a.config.chart.type,g=new Ws(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=a.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var x=new ta(this.ctx,a);i=x.getLogSeries(i),this.series=i,this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var w=d.group({class:"apexcharts-".concat(p,"-series apexcharts-plot-series")}),S=function(M){o.isBoxPlot=a.config.chart.type==="boxPlot"||a.config.series[M].type==="boxPlot";var D,O,N,H,X=void 0,U=void 0,Q=[],Y=[],te=a.globals.comboCharts?r[M]:M,se=o.barHelpers.getGroupIndex(te).columnGroupIndex,ce=d.group({class:"apexcharts-series",seriesName:De.escapeString(a.globals.seriesNames[te]),rel:M+1,"data:realIndex":te});o.ctx.series.addCollapsedClassToSeries(ce,te),i[M].length>0&&(o.visibleI=o.visibleI+1);var ve,xe,Ee=0;o.yRatio.length>1&&(o.yaxisIndex=a.globals.seriesYAxisReverseMap[te][0],Ee=te);var Be=o.barHelpers.initialPositions(te);U=Be.y,ve=Be.barHeight,O=Be.yDivision,H=Be.zeroW,X=Be.x,xe=Be.barWidth,D=Be.xDivision,N=Be.zeroH,Y.push(X+xe/2);for(var Oe=d.group({class:"apexcharts-datalabels","data:realIndex":te}),Ue=d.group({class:"apexcharts-bar-goals-markers"}),$e=function(Qe){var Ae=o.barHelpers.getStrokeWidth(M,Qe,te),ft=null,Dt={indexes:{i:M,j:Qe,realIndex:te,translationsIndex:Ee},x:X,y:U,strokeWidth:Ae,elSeries:ce};ft=o.isHorizontal?o.drawHorizontalBoxPaths(gt(gt({},Dt),{},{yDivision:O,barHeight:ve,zeroW:H})):o.drawVerticalBoxPaths(gt(gt({},Dt),{},{xDivision:D,barWidth:xe,zeroH:N})),U=ft.y,X=ft.x;var Yt=o.barHelpers.drawGoalLine({barXPosition:ft.barXPosition,barYPosition:ft.barYPosition,goalX:ft.goalX,goalY:ft.goalY,barHeight:ve,barWidth:xe});Yt&&Ue.add(Yt),Qe>0&&Y.push(X+xe/2),Q.push(U),ft.pathTo.forEach((function(wt,Rt){var Tt=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?ft.color[Rt]:a.globals.stroke.colors[M],Pt=g.fillPath({seriesNumber:te,dataPointIndex:Qe,color:ft.color[Rt],value:i[M][Qe]});o.renderSeries({realIndex:te,pathFill:Pt,lineFill:Tt,j:Qe,i:M,pathFrom:ft.pathFrom,pathTo:wt,strokeWidth:Ae,elSeries:ce,x:X,y:U,series:i,columnGroupIndex:se,barHeight:ve,barWidth:xe,elDataLabelsWrap:Oe,elGoalsMarkers:Ue,visibleSeries:o.visibleI,type:a.config.chart.type})}))},nt=0;nt<a.globals.dataPoints;nt++)$e(nt);a.globals.seriesXvalues[te]=Y,a.globals.seriesYvalues[te]=Q,w.add(ce)},E=0;E<i.length;E++)S(E);return w}},{key:"drawVerticalBoxPaths",value:function(i){var n=i.indexes,r=i.x;i.y;var o=i.xDivision,a=i.barWidth,d=i.zeroH,p=i.strokeWidth,g=this.w,x=new lt(this.ctx),w=n.i,S=n.j,E=g.config.plotOptions.candlestick.colors,M=this.boxOptions.colors,D=n.realIndex,O=function(nt){return Array.isArray(nt)?nt[D]:nt},N=O(E.upward),H=O(E.downward),X=this.yRatio[n.translationsIndex],U=this.getOHLCValue(D,S),Q=d,Y=d,te=U.o<U.c?[N]:[H];this.isBoxPlot&&(te=[O(M.lower),O(M.upper)]);var se=Math.min(U.o,U.c),ce=Math.max(U.o,U.c),ve=U.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[D][S]-g.globals.minX)/this.xRatio-a/2);var xe=r+a*this.visibleI;this.series[w][S]===void 0||this.series[w][S]===null?(se=d,ce=d):(se=d-se/X,ce=d-ce/X,Q=d-U.h/X,Y=d-U.l/X,ve=d-U.m/X);var Ee=x.move(xe,d),Be=x.move(xe+a/2,se);if(g.globals.previousPaths.length>0&&(Be=this.getPreviousPath(D,S,!0)),this.isOHLC){var Oe=xe+a/2,Ue=d-U.o/X,$e=d-U.c/X;Ee=[x.move(Oe,Q)+x.line(Oe,Y)+x.move(Oe,Ue)+x.line(xe,Ue)+x.move(Oe,$e)+x.line(xe+a,$e)]}else Ee=this.isBoxPlot?[x.move(xe,se)+x.line(xe+a/2,se)+x.line(xe+a/2,Q)+x.line(xe+a/4,Q)+x.line(xe+a-a/4,Q)+x.line(xe+a/2,Q)+x.line(xe+a/2,se)+x.line(xe+a,se)+x.line(xe+a,ve)+x.line(xe,ve)+x.line(xe,se+p/2),x.move(xe,ve)+x.line(xe+a,ve)+x.line(xe+a,ce)+x.line(xe+a/2,ce)+x.line(xe+a/2,Y)+x.line(xe+a-a/4,Y)+x.line(xe+a/4,Y)+x.line(xe+a/2,Y)+x.line(xe+a/2,ce)+x.line(xe,ce)+x.line(xe,ve)+"z"]:[x.move(xe,ce)+x.line(xe+a/2,ce)+x.line(xe+a/2,Q)+x.line(xe+a/2,ce)+x.line(xe+a,ce)+x.line(xe+a,se)+x.line(xe+a/2,se)+x.line(xe+a/2,Y)+x.line(xe+a/2,se)+x.line(xe,se)+x.line(xe,ce-p/2)];return Be+=x.move(xe,se),g.globals.isXNumeric||(r+=o),{pathTo:Ee,pathFrom:Be,x:r,y:ce,goalY:this.barHelpers.getGoalValues("y",null,d,w,S,n.translationsIndex),barXPosition:xe,color:te}}},{key:"drawHorizontalBoxPaths",value:function(i){var n=i.indexes;i.x;var r=i.y,o=i.yDivision,a=i.barHeight,d=i.zeroW,p=i.strokeWidth,g=this.w,x=new lt(this.ctx),w=n.i,S=n.j,E=this.boxOptions.colors.lower;this.isBoxPlot&&(E=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var M=this.invertedYRatio,D=n.realIndex,O=this.getOHLCValue(D,S),N=d,H=d,X=Math.min(O.o,O.c),U=Math.max(O.o,O.c),Q=O.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[D][S]-g.globals.minX)/this.invertedXRatio-a/2);var Y=r+a*this.visibleI;this.series[w][S]===void 0||this.series[w][S]===null?(X=d,U=d):(X=d+X/M,U=d+U/M,N=d+O.h/M,H=d+O.l/M,Q=d+O.m/M);var te=x.move(d,Y),se=x.move(X,Y+a/2);return g.globals.previousPaths.length>0&&(se=this.getPreviousPath(D,S,!0)),te=[x.move(X,Y)+x.line(X,Y+a/2)+x.line(N,Y+a/2)+x.line(N,Y+a/2-a/4)+x.line(N,Y+a/2+a/4)+x.line(N,Y+a/2)+x.line(X,Y+a/2)+x.line(X,Y+a)+x.line(Q,Y+a)+x.line(Q,Y)+x.line(X+p/2,Y),x.move(Q,Y)+x.line(Q,Y+a)+x.line(U,Y+a)+x.line(U,Y+a/2)+x.line(H,Y+a/2)+x.line(H,Y+a-a/4)+x.line(H,Y+a/4)+x.line(H,Y+a/2)+x.line(U,Y+a/2)+x.line(U,Y)+x.line(Q,Y)+"z"],se+=x.move(X,Y),g.globals.isXNumeric||(r+=o),{pathTo:te,pathFrom:se,x:U,y:r,goalX:this.barHelpers.getGoalValues("x",d,null,w,S),barYPosition:Y,color:E}}},{key:"getOHLCValue",value:function(i,n){var r=this.w,o=new ta(this.ctx,r),a=o.getLogValAtSeriesIndex(r.globals.seriesCandleH[i][n],i),d=o.getLogValAtSeriesIndex(r.globals.seriesCandleO[i][n],i),p=o.getLogValAtSeriesIndex(r.globals.seriesCandleM[i][n],i),g=o.getLogValAtSeriesIndex(r.globals.seriesCandleC[i][n],i),x=o.getLogValAtSeriesIndex(r.globals.seriesCandleL[i][n],i);return{o:this.isBoxPlot?a:d,h:this.isBoxPlot?d:a,m:p,l:this.isBoxPlot?g:x,c:this.isBoxPlot?x:g}}}]),t})(),qP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(n,r){n.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,i,n){var r=this.w,o=1,a=r.config.plotOptions[e].shadeIntensity,d=this.determineColor(e,t,i);r.globals.hasNegs||n?o=r.config.plotOptions[e].reverseNegativeShade?d.percent<0?d.percent/100*(1.25*a):(1-d.percent/100)*(1.25*a):d.percent<=0?1-(1+d.percent/100)*a:(1-d.percent/100)*a:(o=1-d.percent/100,e==="treemap"&&(o=(1-d.percent/100)*(1.25*a)));var p=d.color,g=new De;if(r.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var x=g.shadeColor(-1*o,d.color);p=De.hexToRgba(De.isColorHex(x)?x:De.rgb2hex(x),r.config.fill.opacity)}else{var w=g.shadeColor(o,d.color);p=De.hexToRgba(De.isColorHex(w)?w:De.rgb2hex(w),r.config.fill.opacity)}return{color:p,colorProps:d}}},{key:"determineColor",value:function(e,t,i){var n=this.w,r=n.globals.series[t][i],o=n.config.plotOptions[e],a=o.colorScale.inverse?i:t;o.distributed&&n.config.chart.type==="treemap"&&(a=i);var d=n.globals.colors[a],p=null,g=Math.min.apply(Math,Ca(n.globals.series[t])),x=Math.max.apply(Math,Ca(n.globals.series[t]));o.distributed||e!=="heatmap"||(g=n.globals.minY,x=n.globals.maxY),o.colorScale.min!==void 0&&(g=o.colorScale.min<n.globals.minY?o.colorScale.min:n.globals.minY,x=o.colorScale.max>n.globals.maxY?o.colorScale.max:n.globals.maxY);var w=Math.abs(x)+Math.abs(g),S=100*r/(w===0?w-1e-6:w);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(E,M){if(r>=E.from&&r<=E.to){d=E.color,p=E.foreColor?E.foreColor:null,g=E.from,x=E.to;var D=Math.abs(x)+Math.abs(g);S=100*r/(D===0?D-1e-6:D)}})),{color:d,foreColor:p,percent:S}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,n=e.y,r=e.i,o=e.j,a=e.colorProps,d=e.fontSize,p=this.w.config.dataLabels,g=new lt(this.ctx),x=new Dd(this.ctx),w=null;if(p.enabled){w=g.group({class:"apexcharts-data-labels"});var S=p.offsetX,E=p.offsetY,M=i+S,D=n+parseFloat(p.style.fontSize)/3+E;x.plotDataLabelsText({x:M,y:D,text:t,i:r,j:o,color:a.foreColor,parent:w,fontSize:d,dataLabelsConfig:p})}return w}},{key:"addListeners",value:function(e){var t=new lt(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),s})(),h3=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new qP(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return At(s,[{key:"draw",value:function(e){var t=this.w,i=new lt(this.ctx),n=i.group({class:"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,a=0,d=!1;this.negRange=this.helpers.checkColorRange();var p=e.slice();t.config.yaxis[0].reversed&&(d=!0,p.reverse());for(var g=d?0:p.length-1;d?g<p.length:g>=0;d?g++:g--){var x=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:De.escapeString(t.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});if(this.ctx.series.addCollapsedClassToSeries(x,g),t.config.chart.dropShadow.enabled){var w=t.config.chart.dropShadow;new Wa(this.ctx).dropShadow(x,w,g)}for(var S=0,E=t.config.plotOptions.heatmap.shadeIntensity,M=0,D=0;D<t.globals.dataPoints;D++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*D<t.globals.seriesX[g][M])S+=r;else{if(M>=p[g].length)break;var O=this.helpers.getShadeColor(t.config.chart.type,g,M,this.negRange),N=O.color,H=O.colorProps;t.config.fill.type==="image"&&(N=new Ws(this.ctx).fillPath({seriesNumber:g,dataPointIndex:M,opacity:t.globals.hasNegs?H.percent<0?1-(1+H.percent/100):E+H.percent/100:H.percent/100,patternID:De.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:o}));var X=this.rectRadius,U=i.drawRect(S,a,r,o,X);if(U.attr({cx:S,cy:a}),U.node.classList.add("apexcharts-heatmap-rect"),x.add(U),U.attr({fill:N,i:g,index:g,j:M,val:e[g][M],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?N:t.globals.stroke.colors[0],color:N}),this.helpers.addListeners(U),t.config.chart.animations.enabled&&!t.globals.dataChanged){var Q=1;t.globals.resized||(Q=t.config.chart.animations.speed),this.animateHeatMap(U,S,a,r,o,Q)}if(t.globals.dataChanged){var Y=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){Y=this.dynamicAnim.speed;var te=t.globals.previousPaths[g]&&t.globals.previousPaths[g][M]&&t.globals.previousPaths[g][M].color;te||(te="rgba(255, 255, 255, 0)"),this.animateHeatColor(U,De.isColorHex(te)?te:De.rgb2hex(te),De.isColorHex(N)?N:De.rgb2hex(N),Y)}}var se=(0,t.config.dataLabels.formatter)(t.globals.series[g][M],{value:t.globals.series[g][M],seriesIndex:g,dataPointIndex:M,w:t}),ce=this.helpers.calculateDataLabels({text:se,x:S+r/2,y:a+o/2,i:g,j:M,colorProps:H,series:p});ce!==null&&x.add(ce),S+=r,M++}a+=o,n.add(x)}var ve=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?ve.unshift(""):ve.push(""),t.globals.yAxisScale[0].result=ve,n}},{key:"animateHeatMap",value:function(e,t,i,n,r,o){var a=new Od(this.ctx);a.animateRect(e,{x:t+n/2,y:i+r/2,width:0,height:0},{x:t,y:i,width:n,height:r},o,(function(){a.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,i,n){e.attr({fill:t}).animate(n).attr({fill:i})}}]),s})(),YP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"drawYAxisTexts",value:function(e,t,i,n){var r=this.w,o=r.config.yaxis[0],a=r.globals.yLabelFormatters[0];return new lt(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:a(n,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),s})(),ZP=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var i=t.config.plotOptions.pie.customScale,n=t.globals.gridWidth/2,r=t.globals.gridHeight/2;this.translateX=n-n*i,this.translateY=r-r*i,this.dataLabelsGroup=new lt(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return At(s,[{key:"draw",value:function(e){var t=this,i=this.w,n=new lt(this.ctx),r=n.group({class:"apexcharts-pie"});if(i.globals.noData)return r;for(var o=0,a=0;a<e.length;a++)o+=De.negToZero(e[a]);var d=[],p=n.group();o===0&&(o=1e-5),e.forEach((function(H){t.maxY=Math.max(t.maxY,H)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(r);for(var g=0;g<e.length;g++){var x=this.fullAngle*De.negToZero(e[g])/o;d.push(x),this.chartType==="polarArea"?(d[g]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[g]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var w,S=0,E=0;E<i.globals.previousPaths.length;E++)S+=De.negToZero(i.globals.previousPaths[E]);for(var M=0;M<i.globals.previousPaths.length;M++)w=this.fullAngle*De.negToZero(i.globals.previousPaths[M])/S,this.prevSectorAngleArr.push(w)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var D=n.drawCircle(this.donutSize);D.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),p.add(D)}var O=this.drawArcs(d,e);if(this.sliceLabels.forEach((function(H){O.add(H)})),p.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),p.add(O),r.add(p),this.donutDataLabels.show){var N=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(N)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var i=this.w,n=new Wa(this.ctx),r=new lt(this.ctx),o=new Ws(this.ctx),a=r.group({class:"apexcharts-slices"}),d=this.initialAngle,p=this.initialAngle,g=this.initialAngle,x=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var w=0;w<e.length;w++){var S=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:De.escapeString(i.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});a.add(S),p=x,g=(d=g)+e[w],x=p+this.prevSectorAngleArr[w];var E=g<d?this.fullAngle+g-d:g-d,M=o.fillPath({seriesNumber:w,size:this.sliceSizes[w],value:t[w]}),D=this.getChangedPath(p,x),O=r.drawPath({d:D,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[w]:this.lineColorArr,strokeWidth:0,fill:M,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(w)});if(O.attr({index:0,j:w}),n.setSelectionFilter(O,0,w),i.config.chart.dropShadow.enabled){var N=i.config.chart.dropShadow;n.dropShadow(O,N,w)}this.addListeners(O,this.donutDataLabels),lt.setAttrs(O.node,{"data:angle":E,"data:startAngle":d,"data:strokeWidth":this.strokeWidth,"data:value":t[w]});var H={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?H=De.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(d+E/2)%this.fullAngle):this.chartType==="donut"&&(H=De.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(d+E/2)%this.fullAngle)),S.add(O);var X=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((X=E/this.fullAngle*i.config.chart.animations.speed)===0&&(X=1),this.animDur=X+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(O,{size:this.sliceSizes[w],endAngle:g,startAngle:d,prevStartAngle:p,prevEndAngle:x,animateStartingPos:!0,i:w,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(O,{size:this.sliceSizes[w],endAngle:g,startAngle:d,i:w,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:X}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&O.node.addEventListener("mouseup",this.pieClicked.bind(this,w)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(w)>-1&&this.pieClicked(w),i.config.dataLabels.enabled){var U=H.x,Q=H.y,Y=100*E/this.fullAngle+"%";if(E!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[w]){var te=i.config.dataLabels.formatter;te!==void 0&&(Y=te(i.globals.seriesPercent[w][0],{seriesIndex:w,w:i}));var se=i.globals.dataLabels.style.colors[w],ce=r.group({class:"apexcharts-datalabels"}),ve=r.drawText({x:U,y:Q,text:Y,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:se});if(ce.add(ve),i.config.dataLabels.dropShadow.enabled){var xe=i.config.dataLabels.dropShadow;n.dropShadow(ve,xe)}ve.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(ve.node.classList.add("apexcharts-pie-label-delay"),ve.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ce)}}}return a}},{key:"addListeners",value:function(e,t){var i=new lt(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var i=this.w,n=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=n,o=t.startAngle,a=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===i.config.series.length-1&&(n+a>this.fullAngle?t.endAngle=t.endAngle-(n+a):n+a<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(n+a)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(e,o,a,n,r,t)}},{key:"animateArc",value:function(e,t,i,n,r,o){var a,d=this,p=this.w,g=new Od(this.ctx),x=o.size;(isNaN(t)||isNaN(r))&&(t=i,r=n,o.dur=0);var w=n,S=i,E=t<i?this.fullAngle+t-i:t-i;p.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(a=d.getPiePath({me:d,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:x}),e.attr({d:a})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after((function(){d.chartType!=="pie"&&d.chartType!=="donut"&&d.chartType!=="polarArea"||this.animate(p.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":d.strokeWidth}),o.i===p.config.series.length-1&&g.animationCompleted(e)})).during((function(M){w=E+(n-E)*M,o.animateStartingPos&&(w=r+(n-r)*M,S=t-r+(i-(t-r))*M),a=d.getPiePath({me:d,startAngle:S,angle:w,size:x}),e.node.setAttribute("data:pathOrig",a),e.attr({d:a})})):(a=d.getPiePath({me:d,startAngle:S,angle:n,size:x}),o.isTrack||(p.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",a),e.attr({d:a,"stroke-width":d.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,n=this,r=n.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.findOne(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var a=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,(function(x){x.setAttribute("data:pieClicked","false");var w=x.getAttribute("data:pathOrig");w&&x.setAttribute("d",w)})),i.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var d=parseInt(o.attr("data:startAngle"),10),p=parseInt(o.attr("data:angle"),10);t=n.getPiePath({me:n,startAngle:d,angle:p,size:r}),p!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var g=o.attr("data:pathOrig");o.attr({d:g})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t,i=e.me,n=e.startAngle,r=e.angle,o=e.size,a=new lt(this.ctx),d=n,p=Math.PI*(d-90)/180,g=r+n;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var x=Math.PI*(g-90)/180,w=i.centerX+o*Math.cos(p),S=i.centerY+o*Math.sin(p),E=i.centerX+o*Math.cos(x),M=i.centerY+o*Math.sin(x),D=De.polarToCartesian(i.centerX,i.centerY,i.donutSize,g),O=De.polarToCartesian(i.centerX,i.centerY,i.donutSize,d),N=r>180?1:0,H=["M",w,S,"A",o,o,0,N,1,E,M];return t=i.chartType==="donut"?[].concat(H,["L",D.x,D.y,"A",i.donutSize,i.donutSize,0,N,0,O.x,O.y,"L",w,S,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(H,["L",i.centerX,i.centerY,"L",w,S]).join(" "):[].concat(H).join(" "),a.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new HP(this.ctx),n=new lt(this.ctx),r=new YP(this.ctx),o=n.group(),a=n.group(),d=i.niceScale(0,Math.ceil(this.maxY),0),p=d.result.reverse(),g=d.result.length;this.maxY=d.niceMax;for(var x=t.globals.radialSize,w=x/(g-1),S=0;S<g-1;S++){var E=n.drawCircle(x);if(E.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var M=r.drawYAxisTexts(this.centerX,this.centerY-x+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,S,p[S]);a.add(M)}o.add(E),x-=w}this.drawSpokes(e),e.add(o),e.add(a)}},{key:"renderInnerDataLabels",value:function(e,t,i){var n=this.w,r=new lt(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=i.opacity;var a,d,p=i.centerX,g=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;a=t.name.color===void 0?n.globals.colors[0]:t.name.color;var x=t.name.fontSize,w=t.name.fontFamily,S=t.name.fontWeight;d=t.value.color===void 0?n.config.chart.foreColor:t.value.color;var E=t.value.formatter,M="",D="";if(o?(a=t.total.color,x=t.total.fontSize,w=t.total.fontFamily,S=t.total.fontWeight,D=this.donutDataLabels.total.label?t.total.label:"",M=t.total.formatter(n)):n.globals.series.length===1&&(M=E(n.globals.series[0],n),D=n.globals.seriesNames[0]),D&&(D=t.name.formatter(D,t.total.show,n)),t.name.show){var O=r.drawText({x:p,y:g+parseFloat(t.name.offsetY),text:D,textAnchor:"middle",foreColor:a,fontSize:x,fontWeight:S,fontFamily:w});O.node.classList.add("apexcharts-datalabel-label"),e.add(O)}if(t.value.show){var N=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,H=r.drawText({x:p,y:g+N,text:M,textAnchor:"middle",foreColor:d,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});H.node.classList.add("apexcharts-datalabel-value"),e.add(H)}return e}},{key:"printInnerLabels",value:function(e,t,i,n){var r,o=this.w;n?r=e.name.color===void 0?o.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(r=e.total.color);var a=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),d=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,o),n||typeof e.total.formatter!="function"||(i=e.total.formatter(o));var p=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,p,o):"",a!==null&&(a.textContent=t),d!==null&&(d.textContent=i),a!==null&&(a.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,n=e.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,r,n,e);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,n=new lt(this.ctx),r=i.config.plotOptions.polarArea.spokes;if(r.strokeWidth!==0){for(var o=[],a=360/i.globals.series.length,d=0;d<i.globals.series.length;d++)o.push(De.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+a*d));o.forEach((function(p,g){var x=n.drawLine(p.x,p.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[g]:r.connectorColors);e.add(x)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),s})(),u3=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new lt(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new ta(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return At(s,[{key:"draw",value:function(e){var t=this,i=this.w,n=new Ws(this.ctx),r=[],o=new Dd(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=i.globals.gridWidth/2,d=i.globals.gridHeight/2,p=a+i.config.plotOptions.radar.offsetX,g=d+i.config.plotOptions.radar.offsetY,x=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(p||0,", ").concat(g||0,")")}),w=[],S=null,E=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(D,O){var N=D.length===i.globals.dataPoints,H=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":N,seriesName:De.escapeString(i.globals.seriesNames[O]),rel:O+1,"data:realIndex":O});t.dataRadiusOfPercent[O]=[],t.dataRadius[O]=[],t.angleArr[O]=[],D.forEach((function(Ee,Be){var Oe=Math.abs(t.maxValue-t.minValue);Ee-=t.minValue,t.isLog&&(Ee=t.coreUtils.getLogVal(t.logBase,Ee,0)),t.dataRadiusOfPercent[O][Be]=Ee/Oe,t.dataRadius[O][Be]=t.dataRadiusOfPercent[O][Be]*t.size,t.angleArr[O][Be]=Be*t.disAngle})),w=t.getDataPointsPos(t.dataRadius[O],t.angleArr[O]);var X=t.createPaths(w,{x:0,y:0});S=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),E=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":O}),i.globals.delayedElements.push({el:S.node,index:O});var U={i:O,realIndex:O,animationDelay:O,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[O],strokeLineCap:i.config.stroke.lineCap},Q=null;i.globals.previousPaths.length>0&&(Q=t.getPreviousPath(O));for(var Y=0;Y<X.linePathsTo.length;Y++){var te=t.graphics.renderPaths(gt(gt({},U),{},{pathFrom:Q===null?X.linePathsFrom[Y]:Q,pathTo:X.linePathsTo[Y],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[O]:t.strokeWidth,fill:"none",drawShadow:!1}));H.add(te);var se=n.fillPath({seriesNumber:O}),ce=t.graphics.renderPaths(gt(gt({},U),{},{pathFrom:Q===null?X.areaPathsFrom[Y]:Q,pathTo:X.areaPathsTo[Y],strokeWidth:0,fill:se,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var ve=new Wa(t.ctx),xe=i.config.chart.dropShadow;ve.dropShadow(ce,Object.assign({},xe,{noUserSpaceOnUse:!0}),O)}H.add(ce)}D.forEach((function(Ee,Be){var Oe=new $d(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:O,dataPointIndex:Be}),Ue=t.graphics.drawMarker(w[Be].x,w[Be].y,Oe);Ue.attr("rel",Be),Ue.attr("j",Be),Ue.attr("index",O),Ue.node.setAttribute("default-marker-size",Oe.pSize);var $e=t.graphics.group({class:"apexcharts-series-markers"});$e&&$e.add(Ue),S.add($e),H.add(S);var nt=i.config.dataLabels;if(nt.enabled){var Qe=nt.formatter(i.globals.series[O][Be],{seriesIndex:O,dataPointIndex:Be,w:i});o.plotDataLabelsText({x:w[Be].x,y:w[Be].y,text:Qe,textAnchor:"middle",i:O,j:O,parent:E,offsetCorrection:!1,dataLabelsConfig:gt({},nt)})}H.add(E)})),r.push(H)})),this.drawPolygons({parent:x}),i.config.xaxis.labels.show){var M=this.drawXAxisTexts();x.add(M)}return r.forEach((function(D){x.add(D)})),x.add(this.yaxisLabels),x}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,n=e.parent,r=new YP(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),a=o.length,d=[],p=this.size/(a-1),g=0;g<a;g++)d[g]=p*g;d.reverse();var x=[],w=[];d.forEach((function(S,E){var M=De.getPolygonPos(S,t.dataPointsLen),D="";M.forEach((function(O,N){if(E===0){var H=t.graphics.drawLine(O.x,O.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[N]:t.polygons.connectorColors);w.push(H)}N===0&&t.yaxisLabelsTextsPos.push({x:O.x,y:O.y}),D+=O.x+","+O.y+" "})),x.push(D)})),x.forEach((function(S,E){var M=t.polygons.strokeColors,D=t.polygons.strokeWidth,O=t.graphics.drawPolygon(S,Array.isArray(M)?M[E]:M,Array.isArray(D)?D[E]:D,i.globals.radarPolygons.fill.colors[E]);n.add(O)})),w.forEach((function(S){n.add(S)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(S,E){var M=r.drawYAxisTexts(S.x,S.y,E,o[E]);t.yaxisLabels.add(M)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,n=this.graphics.group({class:"apexcharts-xaxis"}),r=De.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,a){var d=t.config.xaxis.labels.formatter,p=new Dd(e.ctx);if(r[a]){var g=e.getTextPos(r[a],e.size),x=d(o,{seriesIndex:-1,dataPointIndex:a,w:t});p.plotDataLabelsText({x:g.newX,y:g.newY,text:x,textAnchor:g.textAnchor,i:a,j:a,parent:n,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[a]?i.style.colors[a]:"#a8a8a8",dataLabelsConfig:gt({textAnchor:g.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",(function(w){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var S=Object.assign({},t,{labelIndex:a});t.config.chart.events.xAxisLabelClick(w,e.ctx,S)}}))}})),n}},{key:"createPaths",value:function(e,t){var i=this,n=[],r=[],o=[],a=[];if(e.length){r=[this.graphics.move(t.x,t.y)],a=[this.graphics.move(t.x,t.y)];var d=this.graphics.move(e[0].x,e[0].y),p=this.graphics.move(e[0].x,e[0].y);e.forEach((function(g,x){d+=i.graphics.line(g.x,g.y),p+=i.graphics.line(g.x,g.y),x===e.length-1&&(d+="Z",p+="Z")})),n.push(d),o.push(p)}return{linePathsFrom:r,linePathsTo:n,areaPathsFrom:a,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var i="middle",n=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",n+=10):e.x<0&&(i="end",n-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:i,newX:n,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,n=0;n<t.globals.previousPaths.length;n++){var r=t.globals.previousPaths[n];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[n].paths[0]!==void 0&&(i=t.globals.previousPaths[n].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var n=[],r=0;r<i;r++){var o={};o.x=e[r]*Math.sin(t[r]),o.y=-e[r]*Math.cos(t[r]),n.push(o)}return n}}]),s})(),c3=(function(s){Pm(t,ZP);var e=Mm(t);function t(i){var n;Ct(this,t),(n=e.call(this,i)).ctx=i,n.w=i.w,n.animBeginArr=[0],n.animDur=0;var r=n.w;return n.startAngle=r.config.plotOptions.radialBar.startAngle,n.endAngle=r.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),n.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,n.barLabels=n.w.config.plotOptions.radialBar.barLabels,n.donutDataLabels=n.w.config.plotOptions.radialBar.dataLabels,n.radialDataLabels=n.donutDataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),n.endAngle===360&&(n.endAngle=359.99),n.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),n.onBarLabelClick=n.onBarLabelClick.bind(lP(n)),n}return At(t,[{key:"draw",value:function(i){var n=this.w,r=new lt(this.ctx),o=r.group({class:"apexcharts-radialbar"});if(n.globals.noData)return o;var a=r.group(),d=this.defaultSize/2,p=n.globals.gridWidth/2,g=this.defaultSize/2.05;n.config.chart.sparkline.enabled||(g=g-n.config.stroke.width-n.config.chart.dropShadow.blur);var x=n.globals.fill.colors;if(n.config.plotOptions.radialBar.track.show){var w=this.drawTracks({size:g,centerX:p,centerY:d,colorArr:x,series:i});a.add(w)}var S=this.drawArcs({size:g,centerX:p,centerY:d,colorArr:x,series:i}),E=360;n.config.plotOptions.radialBar.startAngle<0&&(E=this.totalAngle);var M=(360-E)/360;if(n.globals.radialSize=g-g*M,this.radialDataLabels.value.show){var D=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);n.globals.radialSize+=D*M}return a.add(S.g),n.config.plotOptions.radialBar.hollow.position==="front"&&(S.g.add(S.elHollow),S.dataLabels&&S.g.add(S.dataLabels)),o.add(a),o}},{key:"drawTracks",value:function(i){var n=this.w,r=new lt(this.ctx),o=r.group({class:"apexcharts-tracks"}),a=new Wa(this.ctx),d=new Ws(this.ctx),p=this.getStrokeWidth(i);i.size=i.size-p/2;for(var g=0;g<i.series.length;g++){var x=r.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(x),x.attr({rel:g+1}),i.size=i.size-p-this.margin;var w=n.config.plotOptions.radialBar.track,S=d.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(w.background)?w.background[g]:w.background,solid:!0}),E=this.trackStartAngle,M=this.trackEndAngle;Math.abs(M)+Math.abs(E)>=360&&(M=360-Math.abs(this.startAngle)-.1);var D=r.drawPath({d:"",stroke:S,strokeWidth:p*parseInt(w.strokeWidth,10)/100,fill:"none",strokeOpacity:w.opacity,classes:"apexcharts-radialbar-area"});if(w.dropShadow.enabled){var O=w.dropShadow;a.dropShadow(D,O)}x.add(D),D.attr("id","apexcharts-radialbarTrack-"+g),this.animatePaths(D,{centerX:i.centerX,centerY:i.centerY,endAngle:M,startAngle:E,size:i.size,i:g,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(i){var n=this.w,r=new lt(this.ctx),o=new Ws(this.ctx),a=new Wa(this.ctx),d=r.group(),p=this.getStrokeWidth(i);i.size=i.size-p/2;var g=n.config.plotOptions.radialBar.hollow.background,x=i.size-p*i.series.length-this.margin*i.series.length-p*parseInt(n.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,w=x-n.config.plotOptions.radialBar.hollow.margin;n.config.plotOptions.radialBar.hollow.image!==void 0&&(g=this.drawHollowImage(i,d,x,g));var S=this.drawHollow({size:w,centerX:i.centerX,centerY:i.centerY,fill:g||"transparent"});if(n.config.plotOptions.radialBar.hollow.dropShadow.enabled){var E=n.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(S,E)}var M=1;!this.radialDataLabels.total.show&&n.globals.series.length>1&&(M=0);var D=null;if(this.radialDataLabels.show){var O=n.globals.dom.Paper.findOne(".apexcharts-datalabels-group");D=this.renderInnerDataLabels(O,this.radialDataLabels,{hollowSize:x,centerX:i.centerX,centerY:i.centerY,opacity:M})}n.config.plotOptions.radialBar.hollow.position==="back"&&(d.add(S),D&&d.add(D));var N=!1;n.config.plotOptions.radialBar.inverseOrder&&(N=!0);for(var H=N?i.series.length-1:0;N?H>=0:H<i.series.length;N?H--:H++){var X=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:De.escapeString(n.globals.seriesNames[H])});d.add(X),X.attr({rel:H+1,"data:realIndex":H}),this.ctx.series.addCollapsedClassToSeries(X,H),i.size=i.size-p-this.margin;var U=o.fillPath({seriesNumber:H,size:i.size,value:i.series[H]}),Q=this.startAngle,Y=void 0,te=De.negToZero(i.series[H]>100?100:i.series[H])/100,se=Math.round(this.totalAngle*te)+this.startAngle,ce=void 0;n.globals.dataChanged&&(Y=this.startAngle,ce=Math.round(this.totalAngle*De.negToZero(n.globals.previousPaths[H])/100)+Y),Math.abs(se)+Math.abs(Q)>360&&(se-=.01),Math.abs(ce)+Math.abs(Y)>360&&(ce-=.01);var ve=se-Q,xe=Array.isArray(n.config.stroke.dashArray)?n.config.stroke.dashArray[H]:n.config.stroke.dashArray,Ee=r.drawPath({d:"",stroke:U,strokeWidth:p,fill:"none",fillOpacity:n.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+H,strokeDashArray:xe});if(lt.setAttrs(Ee.node,{"data:angle":ve,"data:value":i.series[H]}),n.config.chart.dropShadow.enabled){var Be=n.config.chart.dropShadow;a.dropShadow(Ee,Be,H)}if(a.setSelectionFilter(Ee,0,H),this.addListeners(Ee,this.radialDataLabels),X.add(Ee),Ee.attr({index:0,j:H}),this.barLabels.enabled){var Oe=De.polarToCartesian(i.centerX,i.centerY,i.size,Q),Ue=this.barLabels.formatter(n.globals.seriesNames[H],{seriesIndex:H,w:n}),$e=["apexcharts-radialbar-label"];this.barLabels.onClick||$e.push("apexcharts-no-click");var nt=this.barLabels.useSeriesColors?n.globals.colors[H]:n.config.chart.foreColor;nt||(nt=n.config.chart.foreColor);var Qe=Oe.x+this.barLabels.offsetX,Ae=Oe.y+this.barLabels.offsetY,ft=r.drawText({x:Qe,y:Ae,text:Ue,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:nt,cssClass:$e.join(" ")});ft.on("click",this.onBarLabelClick),ft.attr({rel:H+1}),Q!==0&&ft.attr({"transform-origin":"".concat(Qe," ").concat(Ae),transform:"rotate(".concat(Q," 0 0)")}),X.add(ft)}var Dt=0;!this.initialAnim||n.globals.resized||n.globals.dataChanged||(Dt=n.config.chart.animations.speed),n.globals.dataChanged&&(Dt=n.config.chart.animations.dynamicAnimation.speed),this.animDur=Dt/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Ee,{centerX:i.centerX,centerY:i.centerY,endAngle:se,startAngle:Q,prevEndAngle:ce,prevStartAngle:Y,size:i.size,i:H,totalItems:2,animBeginArr:this.animBeginArr,dur:Dt,shouldSetPrevPaths:!0})}return{g:d,elHollow:S,dataLabels:D}}},{key:"drawHollow",value:function(i){var n=new lt(this.ctx).drawCircle(2*i.size);return n.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),n}},{key:"drawHollowImage",value:function(i,n,r,o){var a=this.w,d=new Ws(this.ctx),p=De.randomId(),g=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)d.clippedImgArea({width:r,height:r,image:g,patternID:"pattern".concat(a.globals.cuid).concat(p)}),o="url(#pattern".concat(a.globals.cuid).concat(p,")");else{var x=a.config.plotOptions.radialBar.hollow.imageWidth,w=a.config.plotOptions.radialBar.hollow.imageHeight;if(x===void 0&&w===void 0){var S=a.globals.dom.Paper.image(g,(function(M){this.move(i.centerX-M.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-M.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)}));n.add(S)}else{var E=a.globals.dom.Paper.image(g,(function(M){this.move(i.centerX-x/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-w/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(x,w)}));n.add(E)}}return o}},{key:"getStrokeWidth",value:function(i){var n=this.w;return i.size*(100-parseInt(n.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var n=parseInt(i.target.getAttribute("rel"),10)-1,r=this.barLabels.onClick,o=this.w;r&&r(o.globals.seriesNames[n],{w:o,seriesIndex:n})}}]),t})(),d3=(function(s){Pm(t,zd);var e=Mm(t);function t(){return Ct(this,t),e.apply(this,arguments)}return At(t,[{key:"draw",value:function(i,n){var r=this.w,o=new lt(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var a=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),d=0;d<i.length;d++){var p,g,x,w,S=void 0,E=void 0,M=r.globals.comboCharts?n[d]:d,D=this.barHelpers.getGroupIndex(M).columnGroupIndex,O=o.group({class:"apexcharts-series",seriesName:De.escapeString(r.globals.seriesNames[M]),rel:d+1,"data:realIndex":M});this.ctx.series.addCollapsedClassToSeries(O,M),i[d].length>0&&(this.visibleI=this.visibleI+1);var N=0,H=0,X=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[M][0],X=M);var U=this.barHelpers.initialPositions(M);E=U.y,w=U.zeroW,S=U.x,H=U.barWidth,N=U.barHeight,p=U.xDivision,g=U.yDivision,x=U.zeroH;for(var Q=o.group({class:"apexcharts-datalabels","data:realIndex":M}),Y=o.group({class:"apexcharts-rangebar-goals-markers"}),te=0;te<r.globals.dataPoints;te++){var se=this.barHelpers.getStrokeWidth(d,te,M),ce=this.seriesRangeStart[d][te],ve=this.seriesRangeEnd[d][te],xe=null,Ee=null,Be=null,Oe={x:S,y:E,strokeWidth:se,elSeries:O},Ue=this.seriesLen;if(r.config.plotOptions.bar.rangeBarGroupRows&&(Ue=1),r.config.series[d].data[te]===void 0)break;if(this.isHorizontal){Be=E+N*this.visibleI;var $e=(g-N*Ue)/2;if(r.config.series[d].data[te].x){var nt=this.detectOverlappingBars({i:d,j:te,barYPosition:Be,srty:$e,barHeight:N,yDivision:g,initPositions:U});N=nt.barHeight,Be=nt.barYPosition}H=(xe=this.drawRangeBarPaths(gt({indexes:{i:d,j:te,realIndex:M},barHeight:N,barYPosition:Be,zeroW:w,yDivision:g,y1:ce,y2:ve},Oe))).barWidth}else{r.globals.isXNumeric&&(S=(r.globals.seriesX[d][te]-r.globals.minX)/this.xRatio-H/2),Ee=S+H*this.visibleI;var Qe=(p-H*Ue)/2;if(r.config.series[d].data[te].x){var Ae=this.detectOverlappingBars({i:d,j:te,barXPosition:Ee,srtx:Qe,barWidth:H,xDivision:p,initPositions:U});H=Ae.barWidth,Ee=Ae.barXPosition}N=(xe=this.drawRangeColumnPaths(gt({indexes:{i:d,j:te,realIndex:M,translationsIndex:X},barWidth:H,barXPosition:Ee,zeroH:x,xDivision:p},Oe))).barHeight}var ft=this.barHelpers.drawGoalLine({barXPosition:xe.barXPosition,barYPosition:Be,goalX:xe.goalX,goalY:xe.goalY,barHeight:N,barWidth:H});ft&&Y.add(ft),E=xe.y,S=xe.x;var Dt=this.barHelpers.getPathFillColor(i,d,te,M);this.renderSeries({realIndex:M,pathFill:Dt.color,lineFill:Dt.useRangeColor?Dt.color:r.globals.stroke.colors[M],j:te,i:d,x:S,y:E,y1:ce,y2:ve,pathFrom:xe.pathFrom,pathTo:xe.pathTo,strokeWidth:se,elSeries:O,series:i,barHeight:N,barWidth:H,barXPosition:Ee,barYPosition:Be,columnGroupIndex:D,elDataLabelsWrap:Q,elGoalsMarkers:Y,visibleSeries:this.visibleI,type:"rangebar"})}a.add(O)}return a}},{key:"detectOverlappingBars",value:function(i){var n=i.i,r=i.j,o=i.barYPosition,a=i.barXPosition,d=i.srty,p=i.srtx,g=i.barHeight,x=i.barWidth,w=i.yDivision,S=i.xDivision,E=i.initPositions,M=this.w,D=[],O=M.config.series[n].data[r].rangeName,N=M.config.series[n].data[r].x,H=Array.isArray(N)?N.join(" "):N,X=M.globals.labels.map((function(Q){return Array.isArray(Q)?Q.join(" "):Q})).indexOf(H),U=M.globals.seriesRange[n].findIndex((function(Q){return Q.x===H&&Q.overlaps.length>0}));return this.isHorizontal?(o=M.config.plotOptions.bar.rangeBarGroupRows?d+w*X:d+g*this.visibleI+w*X,U>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(D=M.globals.seriesRange[n][U].overlaps).indexOf(O)>-1&&(o=(g=E.barHeight/D.length)*this.visibleI+w*(100-parseInt(this.barOptions.barHeight,10))/100/2+g*(this.visibleI+D.indexOf(O))+w*X)):(X>-1&&!M.globals.timescaleLabels.length&&(a=M.config.plotOptions.bar.rangeBarGroupRows?p+S*X:p+x*this.visibleI+S*X),U>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(D=M.globals.seriesRange[n][U].overlaps).indexOf(O)>-1&&(a=(x=E.barWidth/D.length)*this.visibleI+S*(100-parseInt(this.barOptions.barWidth,10))/100/2+x*(this.visibleI+D.indexOf(O))+S*X)),{barYPosition:o,barXPosition:a,barHeight:g,barWidth:x}}},{key:"drawRangeColumnPaths",value:function(i){var n=i.indexes,r=i.x,o=i.xDivision,a=i.barWidth,d=i.barXPosition,p=i.zeroH,g=this.w,x=n.i,w=n.j,S=n.realIndex,E=n.translationsIndex,M=this.yRatio[E],D=this.getRangeValue(S,w),O=Math.min(D.start,D.end),N=Math.max(D.start,D.end);this.series[x][w]===void 0||this.series[x][w]===null?O=p:(O=p-O/M,N=p-N/M);var H=Math.abs(N-O),X=this.barHelpers.getColumnPaths({barXPosition:d,barWidth:a,y1:O,y2:N,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:S,i:S,j:w,w:g});if(g.globals.isXNumeric){var U=this.getBarXForNumericXAxis({x:r,j:w,realIndex:S,barWidth:a});r=U.x,d=U.barXPosition}else r+=o;return{pathTo:X.pathTo,pathFrom:X.pathFrom,barHeight:H,x:r,y:D.start<0&&D.end<0?O:N,goalY:this.barHelpers.getGoalValues("y",null,p,x,w,E),barXPosition:d}}},{key:"preventBarOverflow",value:function(i){var n=this.w;return i<0&&(i=0),i>n.globals.gridWidth&&(i=n.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var n=i.indexes,r=i.y,o=i.y1,a=i.y2,d=i.yDivision,p=i.barHeight,g=i.barYPosition,x=i.zeroW,w=this.w,S=n.realIndex,E=n.j,M=this.preventBarOverflow(x+o/this.invertedYRatio),D=this.preventBarOverflow(x+a/this.invertedYRatio),O=this.getRangeValue(S,E),N=Math.abs(D-M),H=this.barHelpers.getBarpaths({barYPosition:g,barHeight:p,x1:M,x2:D,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:S,realIndex:S,j:E,w});return w.globals.isXNumeric||(r+=d),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:N,x:O.start<0&&O.end<0?M:D,goalX:this.barHelpers.getGoalValues("x",x,null,S,E),y:r}}},{key:"getRangeValue",value:function(i,n){var r=this.w;return{start:r.globals.seriesRangeStart[i][n],end:r.globals.seriesRangeEnd[i][n]}}}]),t})(),f3=(function(){function s(e){Ct(this,s),this.w=e.w,this.lineCtx=e}return At(s,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[e]==="gradient")&&new ta(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var n=t[e].slice();n[n.length-1]=n[n.length-1]+1e-6,t[e]=n}return t}},{key:"calculatePoints",value:function(e){var t=e.series,i=e.realIndex,n=e.x,r=e.y,o=e.i,a=e.j,d=e.prevY,p=this.w,g=[],x=[],w=this.lineCtx.categoryAxisCorrection+p.config.markers.offsetX;return p.globals.isXNumeric&&(w=(p.globals.seriesX[i][0]-p.globals.minX)/this.lineCtx.xRatio+p.config.markers.offsetX),a===0&&(g.push(w),x.push(De.isNumber(t[o][0])?d+p.config.markers.offsetY:null)),g.push(n+p.config.markers.offsetX),x.push(De.isNumber(t[o][a+1])?r+p.config.markers.offsetY:null),{x:g,y:x}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,n=e.realIndex,r=this.w,o=0;o<r.globals.previousPaths.length;o++){var a=r.globals.previousPaths[o];(a.type==="line"||a.type==="area")&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(n,10)&&(a.type==="line"?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[o].paths[0].d):a.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[o].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[o].paths[1]&&(t=r.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t,i,n,r=e.i,o=e.realIndex,a=e.series,d=e.prevY,p=e.lineYPosition,g=e.translationsIndex,x=this.w,w=x.config.chart.stacked&&!x.globals.comboCharts||x.config.chart.stacked&&x.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[o])===null||i===void 0?void 0:i.type)==="column");if(((n=a[r])===null||n===void 0?void 0:n[0])!==void 0)d=(p=w&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-a[r][0]/this.lineCtx.yRatio[g]+2*(this.lineCtx.isReversed?a[r][0]/this.lineCtx.yRatio[g]:0);else if(w&&r>0&&a[r][0]===void 0){for(var S=r-1;S>=0;S--)if(a[S][0]!==null&&a[S][0]!==void 0){d=p=this.lineCtx.prevSeriesY[S][0];break}}return{prevY:d,lineYPosition:p}}}]),s})(),p3=function(s){for(var e,t,i,n,r=(function(g){for(var x=[],w=g[0],S=g[1],E=x[0]=Eb(w,S),M=1,D=g.length-1;M<D;M++)w=S,S=g[M+1],x[M]=.5*(E+(E=Eb(w,S)));return x[M]=E,x})(s),o=s.length-1,a=[],d=0;d<o;d++)i=Eb(s[d],s[d+1]),Math.abs(i)<1e-6?r[d]=r[d+1]=0:(n=(e=r[d]/i)*e+(t=r[d+1]/i)*t)>9&&(n=3*i/Math.sqrt(n),r[d]=n*e,r[d+1]=n*t);for(var p=0;p<=o;p++)n=(s[Math.min(o,p+1)][0]-s[Math.max(0,p-1)][0])/(6*(1+r[p]*r[p])),a.push([n||0,r[p]*n||0]);return a},m3=function(s){var e=p3(s),t=s[1],i=s[0],n=[],r=e[1],o=e[0];n.push(i,[i[0]+o[0],i[1]+o[1],t[0]-r[0],t[1]-r[1],t[0],t[1]]);for(var a=2,d=e.length;a<d;a++){var p=s[a],g=e[a];n.push([p[0]-g[0],p[1]-g[1],p[0],p[1]])}return n},g3=function(s,e,t){var i=s.slice(e,t);if(e){if(t-e>1&&i[1].length<6){var n=i[0].length;i[1]=[2*i[0][n-2]-i[0][n-4],2*i[0][n-1]-i[0][n-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function Eb(s,e){return(e[1]-s[1])/(e[0]-s[0])}var Ib=(function(){function s(e,t,i){Ct(this,s),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new NP(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new f3(this),this.markers=new $d(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return At(s,[{key:"draw",value:function(e,t,i,n){var r,o=this.w,a=new lt(this.ctx),d=o.globals.comboCharts?t:o.config.chart.type,p=a.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),g=new ta(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=g.getLogSeries(e),this.yRatio=g.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var x=[],w=0;w<e.length;w++){e=this.lineHelpers.sameValueSeriesFix(w,e);var S=o.globals.comboCharts?i[w]:w,E=this.yRatio.length>1?S:0;this._initSerieVariables(e,w,S);var M=[],D=[],O=[],N=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,S),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(N=(o.globals.seriesX[S][0]-o.globals.minX)/this.xRatio),O.push(N);var H,X=N,U=void 0,Q=X,Y=this.zeroY,te=this.zeroY;Y=this.lineHelpers.determineFirstPrevY({i:w,realIndex:S,series:e,prevY:Y,lineYPosition:0,translationsIndex:E}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[w][0]===null?M.push(null):M.push(Y),H=Y,d==="rangeArea"&&(U=te=this.lineHelpers.determineFirstPrevY({i:w,realIndex:S,series:n,prevY:te,lineYPosition:0,translationsIndex:E}).prevY,D.push(M[0]!==null?te:null));var se=this._calculatePathsFrom({type:d,series:e,i:w,realIndex:S,translationsIndex:E,prevX:Q,prevY:Y,prevY2:te}),ce=[M[0]],ve=[D[0]],xe={type:d,series:e,realIndex:S,translationsIndex:E,i:w,x:N,y:1,pX:X,pY:H,pathsFrom:se,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:O,yArrj:M,y2Arrj:D,seriesRangeEnd:n},Ee=this._iterateOverDataPoints(gt(gt({},xe),{},{iterations:d==="rangeArea"?e[w].length-1:void 0,isRangeStart:!0}));if(d==="rangeArea"){for(var Be=this._calculatePathsFrom({series:n,i:w,realIndex:S,prevX:Q,prevY:te}),Oe=this._iterateOverDataPoints(gt(gt({},xe),{},{series:n,xArrj:[N],yArrj:ce,y2Arrj:ve,pY:U,areaPaths:Ee.areaPaths,pathsFrom:Be,iterations:n[w].length-1,isRangeStart:!1})),Ue=Ee.linePaths.length/2,$e=0;$e<Ue;$e++)Ee.linePaths[$e]=Oe.linePaths[$e+Ue]+Ee.linePaths[$e];Ee.linePaths.splice(Ue),Ee.pathFromLine=Oe.pathFromLine+Ee.pathFromLine}else Ee.pathFromArea+="z";this._handlePaths({type:d,realIndex:S,i:w,paths:Ee}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),x.push(this.elSeries)}if(((r=o.config.series[0])===null||r===void 0?void 0:r.zIndex)!==void 0&&x.sort((function(Ae,ft){return Number(Ae.node.getAttribute("zIndex"))-Number(ft.node.getAttribute("zIndex"))})),o.config.chart.stacked)for(var nt=x.length-1;nt>=0;nt--)p.add(x[nt]);else for(var Qe=0;Qe<x.length;Qe++)p.add(x[Qe]);return p}},{key:"_initSerieVariables",value:function(e,t,i){var n=this.w,r=new lt(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-(n.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[i]:n.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[i],o=i),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[o]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||n.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:n.config.series[i].zIndex!==void 0?n.config.series[i].zIndex:i,seriesName:De.escapeString(n.globals.seriesNames[i])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),n.globals.hasNullValues){var a=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[n.globals.gridHeight+n.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});a!==null&&this.elPointsMain.add(a)}this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":i});var d=e[t].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":d,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,n,r,o=e.type,a=e.series,d=e.i,p=e.realIndex,g=e.translationsIndex,x=e.prevX,w=e.prevY,S=e.prevY2,E=this.w,M=new lt(this.ctx);if(a[d][0]===null){for(var D=0;D<a[d].length;D++)if(a[d][D]!==null){x=this.xDivision*D,w=this.zeroY-a[d][D]/this.yRatio[g],t=M.move(x,w),i=M.move(x,this.areaBottomY);break}}else t=M.move(x,w),o==="rangeArea"&&(t=M.move(x,S)+M.line(x,w)),i=M.move(x,this.areaBottomY)+M.line(x,w);if(n=M.move(0,this.areaBottomY)+M.line(0,this.areaBottomY),r=M.move(0,this.areaBottomY)+M.line(0,this.areaBottomY),E.globals.previousPaths.length>0){var O=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:r,realIndex:p});n=O.pathFromLine,r=O.pathFromArea}return{prevX:x,prevY:w,linePath:t,areaPath:i,pathFromLine:n,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,n=e.i,r=e.paths,o=this.w,a=new lt(this.ctx),d=new Ws(this.ctx);this.prevSeriesY.push(r.yArrj),o.globals.seriesXvalues[i]=r.xArrj,o.globals.seriesYvalues[i]=r.yArrj;var p=o.config.forecastDataPoints;if(p.count>0&&t!=="rangeArea"){var g=o.globals.seriesXvalues[i][o.globals.seriesXvalues[i].length-p.count-1],x=a.drawRect(g,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(x.node);var w=a.drawRect(0,0,g,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(w.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var S={i:n,realIndex:i,animationDelay:n,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var E=d.fillPath({seriesNumber:i}),M=0;M<r.areaPaths.length;M++){var D=a.renderPaths(gt(gt({},S),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[M],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:E}));this.elSeries.add(D)}if(o.config.stroke.show&&!this.pointsChart){var O=null;if(t==="line")O=d.fillPath({seriesNumber:i,i:n});else if(o.config.stroke.fill.type==="solid")O=o.globals.stroke.colors[i];else{var N=o.config.fill;o.config.fill=o.config.stroke.fill,O=d.fillPath({seriesNumber:i,i:n}),o.config.fill=N}for(var H=0;H<r.linePaths.length;H++){var X=O;t==="rangeArea"&&(X=d.fillPath({seriesNumber:i}));var U=gt(gt({},S),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[H],stroke:O,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?X:"none"}),Q=a.renderPaths(U);if(this.elSeries.add(Q),Q.attr("fill-rule","evenodd"),p.count>0&&t!=="rangeArea"){var Y=a.renderPaths(U);Y.node.setAttribute("stroke-dasharray",p.dashArray),p.strokeWidth&&Y.node.setAttribute("stroke-width",p.strokeWidth),this.elSeries.add(Y),Y.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),Q.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,i,n=this,r=e.type,o=e.series,a=e.iterations,d=e.realIndex,p=e.translationsIndex,g=e.i,x=e.x,w=e.y,S=e.pX,E=e.pY,M=e.pathsFrom,D=e.linePaths,O=e.areaPaths,N=e.seriesIndex,H=e.lineYPosition,X=e.xArrj,U=e.yArrj,Q=e.y2Arrj,Y=e.isRangeStart,te=e.seriesRangeEnd,se=this.w,ce=new lt(this.ctx),ve=this.yRatio,xe=M.prevY,Ee=M.linePath,Be=M.areaPath,Oe=M.pathFromLine,Ue=M.pathFromArea,$e=De.isNumber(se.globals.minYArr[d])?se.globals.minYArr[d]:se.globals.minY;a||(a=se.globals.dataPoints>1?se.globals.dataPoints-1:se.globals.dataPoints);var nt=function(Jt,ti){return ti-Jt/ve[p]+2*(n.isReversed?Jt/ve[p]:0)},Qe=w,Ae=se.config.chart.stacked&&!se.globals.comboCharts||se.config.chart.stacked&&se.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[d])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[d])===null||i===void 0?void 0:i.type)==="column"),ft=se.config.stroke.curve;Array.isArray(ft)&&(ft=Array.isArray(N)?ft[N[g]]:ft[g]);for(var Dt,Yt=0,wt=0;wt<a&&o[g].length!==0;wt++){var Rt=o[g][wt+1]===void 0||o[g][wt+1]===null;if(se.globals.isXNumeric){var Tt=se.globals.seriesX[d][wt+1];se.globals.seriesX[d][wt+1]===void 0&&(Tt=se.globals.seriesX[d][a-1]),x=(Tt-se.globals.minX)/this.xRatio}else x+=this.xDivision;Ae?g>0&&se.globals.collapsedSeries.length<se.config.series.length-1?H=this.prevSeriesY[(function(Jt){for(var ti=Jt;ti>0;ti--){if(!(se.globals.collapsedSeriesIndices.indexOf(N?.[ti]||ti)>-1))return ti;ti--}return 0})(g-1)][wt+1]:H=this.zeroY:H=this.zeroY,Rt?w=nt($e,H):(w=nt(o[g][wt+1],H),r==="rangeArea"&&(Qe=nt(te[g][wt+1],H))),X.push(o[g][wt+1]===null?null:x),!Rt||se.config.stroke.curve!=="smooth"&&se.config.stroke.curve!=="monotoneCubic"?(U.push(w),Q.push(Qe)):(U.push(null),Q.push(null));var Pt=this.lineHelpers.calculatePoints({series:o,x,y:w,realIndex:d,i:g,j:wt,prevY:xe}),Et=this._createPaths({type:r,series:o,i:g,realIndex:d,j:wt,x,y:w,y2:Qe,xArrj:X,yArrj:U,y2Arrj:Q,pX:S,pY:E,pathState:Yt,segmentStartX:Dt,linePath:Ee,areaPath:Be,linePaths:D,areaPaths:O,curve:ft,isRangeStart:Y});O=Et.areaPaths,D=Et.linePaths,S=Et.pX,E=Et.pY,Yt=Et.pathState,Dt=Et.segmentStartX,Be=Et.areaPath,Ee=Et.linePath,!this.appendPathFrom||se.globals.hasNullValues||ft==="monotoneCubic"&&r==="rangeArea"||(Oe+=ce.line(x,this.areaBottomY),Ue+=ce.line(x,this.areaBottomY)),this.handleNullDataPoints(o,Pt,g,wt,d),this._handleMarkersAndLabels({type:r,pointsPos:Pt,i:g,j:wt,realIndex:d,isRangeStart:Y})}return{yArrj:U,xArrj:X,pathFromArea:Ue,areaPaths:O,pathFromLine:Oe,linePaths:D,linePath:Ee,areaPath:Be}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,i=e.pointsPos,n=e.isRangeStart,r=e.i,o=e.j,a=e.realIndex,d=this.w,p=new Dd(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:a,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{d.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var g=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:a,j:o+1});g!==null&&this.elPointsMain.add(g)}var x=p.drawDataLabel({type:t,isRangeStart:n,pos:i,i:a,j:o+1});x!==null&&this.elDataLabelsWrap.add(x)}},{key:"_createPaths",value:function(e){var t=e.type,i=e.series,n=e.i;e.realIndex;var r,o=e.j,a=e.x,d=e.y,p=e.xArrj,g=e.yArrj,x=e.y2,w=e.y2Arrj,S=e.pX,E=e.pY,M=e.pathState,D=e.segmentStartX,O=e.linePath,N=e.areaPath,H=e.linePaths,X=e.areaPaths,U=e.curve,Q=e.isRangeStart,Y=new lt(this.ctx),te=this.areaBottomY,se=t==="rangeArea",ce=t==="rangeArea"&&Q;switch(U){case"monotoneCubic":var ve=Q?g:w;switch(M){case 0:if(ve[o+1]===null)break;M=1;case 1:if(!(se?p.length===i[n].length:o===i[n].length-2))break;case 2:var xe=Q?p:p.slice().reverse(),Ee=Q?ve:ve.slice().reverse(),Be=(r=Ee,xe.map((function(Tt,Pt){return[Tt,r[Pt]]})).filter((function(Tt){return Tt[1]!==null}))),Oe=Be.length>1?m3(Be):Be,Ue=[];se&&(ce?X=Be:Ue=X.reverse());var $e=0,nt=0;if((function(Tt,Pt){for(var Et=(function(Si){var Ht=[],Zt=0;return Si.forEach((function(Bi){Bi!==null?Zt++:Zt>0&&(Ht.push(Zt),Zt=0)})),Zt>0&&Ht.push(Zt),Ht})(Tt),Jt=[],ti=0,ui=0;ti<Et.length;ui+=Et[ti++])Jt[ti]=g3(Pt,ui,ui+Et[ti]);return Jt})(Ee,Oe).forEach((function(Tt){$e++;var Pt=(function(ti){for(var ui="",Si=0;Si<ti.length;Si++){var Ht=ti[Si],Zt=Ht.length;Zt>4?(ui+="C".concat(Ht[0],", ").concat(Ht[1]),ui+=", ".concat(Ht[2],", ").concat(Ht[3]),ui+=", ".concat(Ht[4],", ").concat(Ht[5])):Zt>2&&(ui+="S".concat(Ht[0],", ").concat(Ht[1]),ui+=", ".concat(Ht[2],", ").concat(Ht[3]))}return ui})(Tt),Et=nt,Jt=(nt+=Tt.length)-1;ce?O=Y.move(Be[Et][0],Be[Et][1])+Pt:se?O=Y.move(Ue[Et][0],Ue[Et][1])+Y.line(Be[Et][0],Be[Et][1])+Pt+Y.line(Ue[Jt][0],Ue[Jt][1]):(O=Y.move(Be[Et][0],Be[Et][1])+Pt,N=O+Y.line(Be[Jt][0],te)+Y.line(Be[Et][0],te)+"z",X.push(N)),H.push(O)})),se&&$e>1&&!ce){var Qe=H.slice($e).reverse();H.splice($e),Qe.forEach((function(Tt){return H.push(Tt)}))}M=0}break;case"smooth":var Ae=.35*(a-S);if(i[n][o]===null)M=0;else switch(M){case 0:if(D=S,O=ce?Y.move(S,w[o])+Y.line(S,E):Y.move(S,E),N=Y.move(S,E),i[n][o+1]===null||i[n][o+1]===void 0){H.push(O),X.push(N);break}if(M=1,o<i[n].length-2){var ft=Y.curve(S+Ae,E,a-Ae,d,a,d);O+=ft,N+=ft;break}case 1:if(i[n][o+1]===null)O+=ce?Y.line(S,x):Y.move(S,E),N+=Y.line(S,te)+Y.line(D,te)+"z",H.push(O),X.push(N),M=-1;else{var Dt=Y.curve(S+Ae,E,a-Ae,d,a,d);O+=Dt,N+=Dt,o>=i[n].length-2&&(ce&&(O+=Y.curve(a,d,a,d,a,x)+Y.move(a,x)),N+=Y.curve(a,d,a,d,a,te)+Y.line(D,te)+"z",H.push(O),X.push(N),M=-1)}}S=a,E=d;break;default:var Yt=function(Tt,Pt,Et){var Jt=[];switch(Tt){case"stepline":Jt=Y.line(Pt,null,"H")+Y.line(null,Et,"V");break;case"linestep":Jt=Y.line(null,Et,"V")+Y.line(Pt,null,"H");break;case"straight":Jt=Y.line(Pt,Et)}return Jt};if(i[n][o]===null)M=0;else switch(M){case 0:if(D=S,O=ce?Y.move(S,w[o])+Y.line(S,E):Y.move(S,E),N=Y.move(S,E),i[n][o+1]===null||i[n][o+1]===void 0){H.push(O),X.push(N);break}if(M=1,o<i[n].length-2){var wt=Yt(U,a,d);O+=wt,N+=wt;break}case 1:if(i[n][o+1]===null)O+=ce?Y.line(S,x):Y.move(S,E),N+=Y.line(S,te)+Y.line(D,te)+"z",H.push(O),X.push(N),M=-1;else{var Rt=Yt(U,a,d);O+=Rt,N+=Rt,o>=i[n].length-2&&(ce&&(O+=Y.line(a,x)),N+=Y.line(a,te)+Y.line(D,te)+"z",H.push(O),X.push(N),M=-1)}}S=a,E=d}return{linePaths:H,areaPaths:X,pX:S,pY:E,pathState:M,segmentStartX:D,linePath:O,areaPath:N}}},{key:"handleNullDataPoints",value:function(e,t,i,n,r){var o=this.w;if(e[i][n]===null&&o.config.markers.showNullDataPoints||e[i].length===1){var a=this.strokeWidth-o.config.markers.strokeWidth/2;a>0||(a=0);var d=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:r,j:n+1,pSize:a,alwaysDrawMarker:!0});d!==null&&this.elPointsMain.add(d)}}}]),s})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function s(a,d,p,g){this.xoffset=a,this.yoffset=d,this.height=g,this.width=p,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(x){var w,S=[],E=this.xoffset,M=this.yoffset,D=r(x)/this.height,O=r(x)/this.width;if(this.width>=this.height)for(w=0;w<x.length;w++)S.push([E,M,E+D,M+x[w]/D]),M+=x[w]/D;else for(w=0;w<x.length;w++)S.push([E,M,E+x[w]/O,M+O]),E+=x[w]/O;return S},this.cutArea=function(x){var w;if(this.width>=this.height){var S=x/this.height,E=this.width-S;w=new s(this.xoffset+S,this.yoffset,E,this.height)}else{var M=x/this.width,D=this.height-M;w=new s(this.xoffset,this.yoffset+M,this.width,D)}return w}}function e(a,d,p,g,x){g=g===void 0?0:g,x=x===void 0?0:x;var w=t((function(S,E){var M,D=[],O=E/r(S);for(M=0;M<S.length;M++)D[M]=S[M]*O;return D})(a,d*p),[],new s(g,x,d,p),[]);return(function(S){var E,M,D=[];for(E=0;E<S.length;E++)for(M=0;M<S[E].length;M++)D.push(S[E][M]);return D})(w)}function t(a,d,p,g){var x,w,S;if(a.length!==0)return x=p.shortestEdge(),(function(E,M,D){var O;if(E.length===0)return!0;(O=E.slice()).push(M);var N=i(E,D),H=i(O,D);return N>=H})(d,w=a[0],x)?(d.push(w),t(a.slice(1),d,p,g)):(S=p.cutArea(r(d),g),g.push(p.getCoordinates(d)),t(a,[],S,g)),g;g.push(p.getCoordinates(d))}function i(a,d){var p=Math.min.apply(Math,a),g=Math.max.apply(Math,a),x=r(a);return Math.max(Math.pow(d,2)*g/Math.pow(x,2),Math.pow(x,2)/(Math.pow(d,2)*p))}function n(a){return a&&a.constructor===Array}function r(a){var d,p=0;for(d=0;d<a.length;d++)p+=a[d];return p}function o(a){var d,p=0;if(n(a[0]))for(d=0;d<a.length;d++)p+=o(a[d]);else p=r(a);return p}return function a(d,p,g,x,w){x=x===void 0?0:x,w=w===void 0?0:w;var S,E,M=[],D=[];if(n(d[0])){for(E=0;E<d.length;E++)M[E]=o(d[E]);for(S=e(M,p,g,x,w),E=0;E<d.length;E++)D.push(a(d[E],S[E][2]-S[E][0],S[E][3]-S[E][1],S[E][0],S[E][1]))}else D=e(d,p,g,x,w);return D}})();var _3=(function(){function s(e,t){Ct(this,s),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new qP(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return At(s,[{key:"draw",value:function(e){var t=this,i=this.w,n=new lt(this.ctx),r=new Ws(this.ctx),o=n.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var a=[];return e.forEach((function(d){var p=d.map((function(g){return Math.abs(g)}));a.push(p)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(d,p){d.data.forEach((function(g){Array.isArray(t.labels[p])||(t.labels[p]=[]),t.labels[p].push(g.x)}))})),window.TreemapSquared.generate(a,i.globals.gridWidth,i.globals.gridHeight).forEach((function(d,p){var g=n.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:De.escapeString(i.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});if(i.config.chart.dropShadow.enabled){var x=i.config.chart.dropShadow;new Wa(t.ctx).dropShadow(o,x,p)}var w=n.group({class:"apexcharts-data-labels"}),S={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};d.forEach((function(Oe,Ue){var $e=Oe[0],nt=Oe[1],Qe=Oe[2],Ae=Oe[3];S.xMin=Math.min(S.xMin,$e),S.yMin=Math.min(S.yMin,nt),S.xMax=Math.max(S.xMax,Qe),S.yMax=Math.max(S.yMax,Ae);var ft=t.helpers.getShadeColor(i.config.chart.type,p,Ue,t.negRange),Dt=ft.color,Yt=r.fillPath({color:Dt,seriesNumber:p,dataPointIndex:Ue}),wt=n.drawRect($e,nt,Qe-$e,Ae-nt,i.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?Dt:i.globals.stroke.colors[p]);wt.attr({cx:$e,cy:nt,index:p,i:p,j:Ue,width:Qe-$e,height:Ae-nt,fill:Yt}),wt.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(wt);var Rt={x:$e+(Qe-$e)/2,y:nt+(Ae-nt)/2,width:0,height:0},Tt={x:$e,y:nt,width:Qe-$e,height:Ae-nt};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var Pt=1;i.globals.resized||(Pt=i.config.chart.animations.speed),t.animateTreemap(wt,Rt,Tt,Pt)}if(i.globals.dataChanged){var Et=1;t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(Et=t.dynamicAnim.speed,i.globals.previousPaths[p]&&i.globals.previousPaths[p][Ue]&&i.globals.previousPaths[p][Ue].rect&&(Rt=i.globals.previousPaths[p][Ue].rect),t.animateTreemap(wt,Rt,Tt,Et))}var Jt=t.getFontSize(Oe),ti=i.config.dataLabels.formatter(t.labels[p][Ue],{value:i.globals.series[p][Ue],seriesIndex:p,dataPointIndex:Ue,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Jt=parseInt(i.config.dataLabels.style.fontSize,10),ti=t.truncateLabels(ti,Jt,$e,nt,Qe,Ae));var ui=null;i.globals.series[p][Ue]&&(ui=t.helpers.calculateDataLabels({text:ti,x:($e+Qe)/2,y:(nt+Ae)/2+t.strokeWidth/2+Jt/3,i:p,j:Ue,colorProps:ft,fontSize:Jt,series:e})),i.config.dataLabels.enabled&&ui&&t.rotateToFitLabel(ui,Jt,ti,$e,nt,Qe,Ae),g.add(wt),ui!==null&&g.add(ui)}));var E=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&E&&E.show){var M=i.config.series[p].name||"";if(M&&S.xMin<1/0&&S.yMin<1/0){var D=E.offsetX,O=E.offsetY,N=E.borderColor,H=E.borderWidth,X=E.borderRadius,U=E.style,Q=U.color||i.config.chart.foreColor,Y={left:U.padding.left,right:U.padding.right,top:U.padding.top,bottom:U.padding.bottom},te=n.getTextRects(M,U.fontSize,U.fontFamily),se=te.width+Y.left+Y.right,ce=te.height+Y.top+Y.bottom,ve=S.xMin+(D||0),xe=S.yMin+(O||0),Ee=n.drawRect(ve,xe,se,ce,X,U.background,1,H,N),Be=n.drawText({x:ve+Y.left,y:xe+Y.top+.75*te.height,text:M,fontSize:U.fontSize,fontFamily:U.fontFamily,fontWeight:U.fontWeight,foreColor:Q,cssClass:U.cssClass||""});g.add(Ee),g.add(Be)}}g.add(w),o.add(g)})),o}},{key:"getFontSize",value:function(e){var t=this.w,i=(function n(r){var o,a=0;if(Array.isArray(r[0]))for(o=0;o<r.length;o++)a+=n(r[o]);else for(o=0;o<r.length;o++)a+=r[o].length;return a})(this.labels)/(function n(r){var o,a=0;if(Array.isArray(r[0]))for(o=0;o<r.length;o++)a+=n(r[o]);else for(o=0;o<r.length;o++)a+=1;return a})(this.labels);return(function(n,r){var o=n*r,a=Math.pow(o,.5);return Math.min(a/i,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,i,n,r,o,a){var d=new lt(this.ctx),p=d.getTextRects(i,t);if(p.width+this.w.config.stroke.width+5>o-n&&p.width<=a-r){var g=d.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(g.x," ").concat(g.y,") translate(").concat(p.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,i,n,r,o){var a=new lt(this.ctx),d=a.getTextRects(e,t).width+this.w.config.stroke.width+5>r-i&&o-n>r-i?o-n:r-i,p=a.getTextBasedOnMaxWidth({text:e,maxWidth:d,fontSize:t});return e.length!==p.length&&d/t<5?"":p}},{key:"animateTreemap",value:function(e,t,i,n){var r=new Od(this.ctx);r.animateRect(e,t,i,n,(function(){r.animationCompleted(e)}))}}]),s})(),KP=86400,y3=10/KP,x3=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return At(s,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,n=this.w;if(n.globals.allSeriesCollapsed)return n.globals.labels=[],n.globals.timescaleLabels=[],[];var r=new Ga(this.ctx),o=(t-e)/864e5;this.determineInterval(o),n.globals.disableZoomIn=!1,n.globals.disableZoomOut=!1,o<y3?n.globals.disableZoomIn=!0:o>5e4&&(n.globals.disableZoomOut=!0);var a=r.getTimeUnitsfromTimestamp(e,t,this.utc),d=n.globals.gridWidth/o,p=d/24,g=p/60,x=g/60,w=Math.floor(24*o),S=Math.floor(1440*o),E=Math.floor(o*KP),M=Math.floor(o),D=Math.floor(o/30),O=Math.floor(o/365),N={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},H={firstVal:N,currentMillisecond:N.minMillisecond,currentSecond:N.minSecond,currentMinute:N.minMinute,currentHour:N.minHour,currentMonthDate:N.minDate,currentDate:N.minDate,currentMonth:N.minMonth,currentYear:N.minYear,daysWidthOnXAxis:d,hoursWidthOnXAxis:p,minutesWidthOnXAxis:g,secondsWidthOnXAxis:x,numberOfSeconds:E,numberOfMinutes:S,numberOfHours:w,numberOfDays:M,numberOfMonths:D,numberOfYears:O};switch(this.tickInterval){case"years":this.generateYearScale(H);break;case"months":case"half_year":this.generateMonthScale(H);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(H);break;case"hours":this.generateHourScale(H);break;case"minutes_fives":case"minutes":this.generateMinuteScale(H);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(H)}var X=this.timeScaleArray.map((function(U){var Q={position:U.position,unit:U.unit,year:U.year,day:U.day?U.day:1,hour:U.hour?U.hour:0,month:U.month+1};return U.unit==="month"?gt(gt({},Q),{},{day:1,value:U.value+1}):U.unit==="day"||U.unit==="hour"?gt(gt({},Q),{},{value:U.value}):U.unit==="minute"?gt(gt({},Q),{},{value:U.value,minute:U.value}):U.unit==="second"?gt(gt({},Q),{},{value:U.value,minute:U.minute,second:U.second}):U}));return X.filter((function(U){var Q=1,Y=Math.ceil(n.globals.gridWidth/120),te=U.value;n.config.xaxis.tickAmount!==void 0&&(Y=n.config.xaxis.tickAmount),X.length>Y&&(Q=Math.floor(X.length/Y));var se=!1,ce=!1;switch(i.tickInterval){case"years":U.unit==="year"&&(se=!0);break;case"half_year":Q=7,U.unit==="year"&&(se=!0);break;case"months":Q=1,U.unit==="year"&&(se=!0);break;case"months_fortnight":Q=15,U.unit!=="year"&&U.unit!=="month"||(se=!0),te===30&&(ce=!0);break;case"months_days":Q=10,U.unit==="month"&&(se=!0),te===30&&(ce=!0);break;case"week_days":Q=8,U.unit==="month"&&(se=!0);break;case"days":Q=1,U.unit==="month"&&(se=!0);break;case"hours":U.unit==="day"&&(se=!0);break;case"minutes_fives":case"seconds_fives":te%5!=0&&(ce=!0);break;case"seconds_tens":te%10!=0&&(ce=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!ce)return!0}else if((te%Q==0||se)&&!ce)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,n=this.formatDates(e),r=this.removeOverlappingTS(n);i.globals.timescaleLabels=r.slice(),new Oy(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,n=e.currentYear,r=e.daysWidthOnXAxis,o=e.numberOfYears,a=t.minYear,d=0,p=new Ga(this.ctx),g="year";if(t.minDate>1||t.minMonth>0){var x=p.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);d=(p.determineDaysOfYear(t.minYear)-x+1)*r,a=t.minYear+1,this.timeScaleArray.push({position:d,value:a,unit:g,year:a,month:De.monthMod(i+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:d,value:a,unit:g,year:n,month:De.monthMod(i+1)});for(var w=a,S=d,E=0;E<o;E++)w++,S=p.determineDaysOfYear(w-1)*r+S,this.timeScaleArray.push({position:S,value:w,unit:g,year:w,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,n=e.currentMonth,r=e.currentYear,o=e.daysWidthOnXAxis,a=e.numberOfMonths,d=n,p=0,g=new Ga(this.ctx),x="month",w=0;if(t.minDate>1){p=(g.determineDaysOfMonths(n+1,t.minYear)-i+1)*o,d=De.monthMod(n+1);var S=r+w,E=De.monthMod(d),M=d;d===0&&(x="year",M=S,E=1,S+=w+=1),this.timeScaleArray.push({position:p,value:M,unit:x,year:S,month:E})}else this.timeScaleArray.push({position:p,value:d,unit:x,year:r,month:De.monthMod(n)});for(var D=d+1,O=p,N=0,H=1;N<a;N++,H++){(D=De.monthMod(D))===0?(x="year",w+=1):x="month";var X=this._getYear(r,D,w);O=g.determineDaysOfMonths(D,X)*o+O;var U=D===0?X:D;this.timeScaleArray.push({position:O,value:U,unit:x,year:X,month:D===0?1:D}),D++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,n=e.currentYear,r=e.hoursWidthOnXAxis,o=e.numberOfDays,a=new Ga(this.ctx),d="day",p=t.minDate+1,g=p,x=function(H,X,U){return H>a.determineDaysOfMonths(X+1,U)&&(g=1,d="month",S=X+=1),X},w=(24-t.minHour)*r,S=p,E=x(g,i,n);t.minHour===0&&t.minDate===1?(w=0,S=De.monthMod(t.minMonth),d="month",g=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(w=0,p=t.minDate,S=p,E=x(g=p,i,n),S!==1&&(d="day")),this.timeScaleArray.push({position:w,value:S,unit:d,year:this._getYear(n,E,0),month:De.monthMod(E),day:g});for(var M=w,D=0;D<o;D++){d="day",E=x(g+=1,E,this._getYear(n,E,0));var O=this._getYear(n,E,0);M=24*r+M;var N=g===1?De.monthMod(E):g;this.timeScaleArray.push({position:M,value:N,unit:d,year:O,month:De.monthMod(E),day:N})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,n=e.currentMonth,r=e.currentYear,o=e.minutesWidthOnXAxis,a=e.numberOfHours,d=new Ga(this.ctx),p="hour",g=function(Q,Y){return Q>d.determineDaysOfMonths(Y+1,r)&&(D=1,Y+=1),{month:Y,date:D}},x=function(Q,Y){return Q>d.determineDaysOfMonths(Y+1,r)?Y+=1:Y},w=60-(t.minMinute+t.minSecond/60),S=w*o,E=t.minHour+1,M=E;w===60&&(S=0,M=E=t.minHour);var D=i;M>=24&&(M=0,p="day",E=D+=1);var O=g(D,n).month;O=x(D,O),E>31&&(E=D=1),this.timeScaleArray.push({position:S,value:E,unit:p,day:D,hour:M,year:r,month:De.monthMod(O)}),M++;for(var N=S,H=0;H<a;H++){p="hour",M>=24&&(M=0,p="day",O=g(D+=1,O).month,O=x(D,O));var X=this._getYear(r,O,0);N=60*o+N;var U=M===0?D:M;this.timeScaleArray.push({position:N,value:U,unit:p,hour:M,day:D,year:X,month:De.monthMod(O)}),M++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,n=e.currentMinute,r=e.currentHour,o=e.currentDate,a=e.currentMonth,d=e.currentYear,p=e.minutesWidthOnXAxis,g=e.secondsWidthOnXAxis,x=e.numberOfMinutes,w=n+1,S=o,E=a,M=d,D=r,O=(60-i-t/1e3)*g,N=0;N<x;N++)w>=60&&(w=0,(D+=1)===24&&(D=0)),this.timeScaleArray.push({position:O,value:w,unit:"minute",hour:D,minute:w,day:S,year:this._getYear(M,E,0),month:De.monthMod(E)}),O+=p,w++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,n=e.currentMinute,r=e.currentHour,o=e.currentDate,a=e.currentMonth,d=e.currentYear,p=e.secondsWidthOnXAxis,g=e.numberOfSeconds,x=i+1,w=n,S=o,E=a,M=d,D=r,O=(1e3-t)/1e3*p,N=0;N<g;N++)x>=60&&(x=0,++w>=60&&(w=0,++D===24&&(D=0))),this.timeScaleArray.push({position:O,value:x,unit:"second",hour:D,minute:w,second:x,day:S,year:this._getYear(M,E,0),month:De.monthMod(E)}),O+=p,x++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return e.month===0&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?i+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":i+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?i+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":i+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?i+=":"+("0"+t).slice(-2):i+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?i+=":"+("0"+t).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map((function(n){var r=n.value.toString(),o=new Ga(t.ctx),a=t.createRawDateString(n,r),d=o.getDate(o.parseDate(a));if(t.utc||(d=o.getDate(o.parseDateWithTimezone(a))),i.config.xaxis.labels.format===void 0){var p="dd MMM",g=i.config.xaxis.labels.datetimeFormatter;n.unit==="year"&&(p=g.year),n.unit==="month"&&(p=g.month),n.unit==="day"&&(p=g.day),n.unit==="hour"&&(p=g.hour),n.unit==="minute"&&(p=g.minute),n.unit==="second"&&(p=g.second),r=o.formatDate(d,p)}else r=o.formatDate(d,i.config.xaxis.labels.format);return{dateString:a,position:n.position,value:r,unit:n.unit,year:n.year,month:n.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,i=this,n=new lt(this.ctx),r=!1;e.length>0&&e[0].value&&e.every((function(d){return d.value.length===e[0].value.length}))&&(r=!0,t=n.getTextRects(e[0].value).width);var o=0,a=e.map((function(d,p){if(p>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var g=r?t:n.getTextRects(e[o].value).width,x=e[o].position;return d.position>x+g+10?(o=p,d):null}return d}));return a=a.filter((function(d){return d!==null}))}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),s})(),v3=(function(){function s(e,t){Ct(this,s),this.ctx=t,this.w=t.w,this.el=e}return At(s,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,i=e.config,n=i.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(n),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(n),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(n)&&i.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),lt.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),t.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),lt.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,n=this.ctx,r=i.config,o=i.globals,a={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},d=r.chart.type||"line",p=null,g=0;o.series.forEach((function(Q,Y){var te,se,ce=((te=e[Y])===null||te===void 0?void 0:te.type)==="column"?"bar":((se=e[Y])===null||se===void 0?void 0:se.type)||(d==="column"?"bar":d);a[ce]?(ce==="rangeArea"?(a[ce].series.push(o.seriesRangeStart[Y]),a[ce].seriesRangeEnd.push(o.seriesRangeEnd[Y])):a[ce].series.push(Q),a[ce].i.push(Y),ce==="bar"&&(i.globals.columnSeries=a.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(ce)?p=ce:console.warn("You have specified an unrecognized series type (".concat(ce,").")),d!==ce&&ce!=="scatter"&&g++})),g>0&&(p&&console.warn("Chart or series type ".concat(p," cannot appear with other chart or series types.")),a.bar.series.length>0&&r.plotOptions.bar.horizontal&&(g-=a.bar.series.length,a.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=g>0);var x=new Ib(n,t),w=new Lb(n,t);n.pie=new ZP(n);var S=new c3(n);n.rangeBar=new d3(n,t);var E=new u3(n),M=[];if(o.comboCharts){var D,O,N=new ta(n);if(a.area.series.length>0&&(D=M).push.apply(D,Ca(N.drawSeriesByGroup(a.area,o.areaGroups,"area",x))),a.bar.series.length>0)if(r.chart.stacked){var H=new c2(n,t);M.push(H.draw(a.bar.series,a.bar.i))}else n.bar=new zd(n,t),M.push(n.bar.draw(a.bar.series,a.bar.i));if(a.rangeArea.series.length>0&&M.push(x.draw(a.rangeArea.series,"rangeArea",a.rangeArea.i,a.rangeArea.seriesRangeEnd)),a.line.series.length>0&&(O=M).push.apply(O,Ca(N.drawSeriesByGroup(a.line,o.lineGroups,"line",x))),a.candlestick.series.length>0&&M.push(w.draw(a.candlestick.series,"candlestick",a.candlestick.i)),a.boxPlot.series.length>0&&M.push(w.draw(a.boxPlot.series,"boxPlot",a.boxPlot.i)),a.rangeBar.series.length>0&&M.push(n.rangeBar.draw(a.rangeBar.series,a.rangeBar.i)),a.scatter.series.length>0){var X=new Ib(n,t,!0);M.push(X.draw(a.scatter.series,"scatter",a.scatter.i))}if(a.bubble.series.length>0){var U=new Ib(n,t,!0);M.push(U.draw(a.bubble.series,"bubble",a.bubble.i))}}else switch(r.chart.type){case"line":M=x.draw(o.series,"line");break;case"area":M=x.draw(o.series,"area");break;case"bar":r.chart.stacked?M=new c2(n,t).draw(o.series):(n.bar=new zd(n,t),M=n.bar.draw(o.series));break;case"candlestick":M=new Lb(n,t).draw(o.series,"candlestick");break;case"boxPlot":M=new Lb(n,t).draw(o.series,r.chart.type);break;case"rangeBar":M=n.rangeBar.draw(o.series);break;case"rangeArea":M=x.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":M=new h3(n,t).draw(o.series);break;case"treemap":M=new _3(n,t).draw(o.series);break;case"pie":case"donut":case"polarArea":M=n.pie.draw(o.series);break;case"radialBar":M=S.draw(o.series);break;case"radar":M=E.draw(o.series);break;default:M=x.draw(o.series)}return M}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,i=e.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",t.svgWidth=i.chart.width,t.svgHeight=i.chart.height;var n=De.getDimensions(this.el),r=i.chart.width.toString().split(/[0-9]+/g).pop();r==="%"?De.isNumber(n[0])&&(n[0].width===0&&(n=De.getDimensions(this.el.parentNode)),t.svgWidth=n[0]*parseInt(i.chart.width,10)/100):r!=="px"&&r!==""||(t.svgWidth=parseInt(i.chart.width,10));var o=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var a=De.getDimensions(this.el.parentNode);t.svgHeight=a[1]*parseInt(i.chart.height,10)/100}else t.svgHeight=parseInt(i.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),lt.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var d=i.chart.sparkline.enabled?0:t.axisCharts?i.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+d,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,i=e.translateX;lt.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,n=e.config.chart.sparkline.enabled?1:15;n+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(i=new GP(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var a=De.getBoundingClientRect(r);o=a.bottom;var d=a.bottom-a.top;o=Math.max(2.05*e.globals.radialSize,d)}var p=Math.ceil(o+t.translateY+i+n);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",p),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(p,"px"),lt.setAttrs(t.dom.Paper.node,{height:p}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(p,"px"))}},{key:"coreCalculations",value:function(){new D0(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},i=new jP,n=this.w.globals,r={dataWasParsed:n.dataWasParsed,originalSeries:n.originalSeries};i.initGlobalVars(n),n.seriesXvalues=t(),n.seriesYvalues=t(),r.dataWasParsed&&(n.dataWasParsed=r.dataWasParsed,n.originalSeries=r.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new z0(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new z0(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new x3(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new ta(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var n=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];n.forEach((function(r){var o=t.constructor.getChartByID(r);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})})),i.config.chart.events.selection=function(r,o){n.forEach((function(a){t.constructor.getChartByID(a).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)}))}}}}]),s})(),b3=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(a){var d=[t.ctx];r&&(d=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(d=[t.ctx],t.ctx.w.globals.isExecCalled=!1),d.forEach((function(p,g){var x=p.w;if(x.globals.shouldAnimate=n,i||(x.globals.resized=!0,x.globals.dataChanged=!0,n&&p.series.getPreviousPaths()),e&&vr(e)==="object"&&(p.config=new wm(e),e=ta.extendArrayProps(p.config,e,x),p.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,x.config=De.extend(x.config,e),o&&(x.globals.lastXAxis=e.xaxis?De.clone(e.xaxis):[],x.globals.lastYAxis=e.yaxis?De.clone(e.yaxis):[],x.globals.initialConfig=De.extend({},x.config),x.globals.initialSeries=De.clone(x.config.series),e.series))){for(var w=0;w<x.globals.collapsedSeriesIndices.length;w++){var S=x.config.series[x.globals.collapsedSeriesIndices[w]];x.globals.collapsedSeries[w].data=x.globals.axisCharts?S.data.slice():S}for(var E=0;E<x.globals.ancillaryCollapsedSeriesIndices.length;E++){var M=x.config.series[x.globals.ancillaryCollapsedSeriesIndices[E]];x.globals.ancillaryCollapsedSeries[E].data=x.globals.axisCharts?M.data.slice():M}p.series.emptyCollapsedSeries(x.config.series)}return p.update(e).then((function(){g===d.length-1&&a(p)}))}))}))}},{key:"_updateSeries",value:function(e,t){var i=this,n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(r){var o=i.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),i.ctx.data.resetParsingFlags(),i.ctx.data.parseData(e),n&&(o.globals.initialConfig.series=De.clone(o.config.series),o.globals.initialSeries=De.clone(o.config.series)),i.ctx.update().then((function(){r(i.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var i=this.w,n=i.config.series[t];return gt(gt({},i.config.series[t]),{},{name:e.name?e.name:n?.name,color:e.color?e.color:n?.color,type:e.type?e.type:n?.type,group:e.group?e.group:n?.group,hidden:e.hidden!==void 0?e.hidden:n?.hidden,data:e.data?e.data:n?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,n=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?n=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")):t===void 0&&(n=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(e,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),n?(new lt(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(n){e.xaxis[n]!==void 0&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new bm(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,i){e.yaxis[i].min=0,e.yaxis[i].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,n=i.globals.lastXAxis,r=i.globals.lastYAxis;e&&e.xaxis&&(n=e.xaxis),e&&e.yaxis&&(r=e.yaxis),i.config.xaxis.min=n.min,i.config.xaxis.max=n.max;var o=function(a){r[a]!==void 0&&(i.config.yaxis[a].min=r[a].min,i.config.yaxis[a].max=r[a].max)};i.config.yaxis.map((function(a,d){i.globals.zoomed||r[d]!==void 0?o(d):t.ctx.opts.yaxis[d]!==void 0&&(a.min=t.ctx.opts.yaxis[d].min,a.max=t.ctx.opts.yaxis[d].max)}))}}]),s})();(function(){function s(){for(var r=arguments.length>0&&arguments[0]!==x?arguments[0]:[],o=arguments.length>1?arguments[1]:x,a=arguments.length>2?arguments[2]:x,d=arguments.length>3?arguments[3]:x,p=arguments.length>4?arguments[4]:x,g=arguments.length>5?arguments[5]:x,x=arguments.length>6?arguments[6]:x,w=r.slice(o,a||x),S=d.slice(p,g||x),E=0,M={pos:[0,0],start:[0,0]},D={pos:[0,0],start:[0,0]};w[E]=e.call(M,w[E]),S[E]=e.call(D,S[E]),w[E][0]!=S[E][0]||w[E][0]=="M"||w[E][0]=="A"&&(w[E][4]!=S[E][4]||w[E][5]!=S[E][5])?(Array.prototype.splice.apply(w,[E,1].concat(i.call(M,w[E]))),Array.prototype.splice.apply(S,[E,1].concat(i.call(D,S[E])))):(w[E]=t.call(M,w[E]),S[E]=t.call(D,S[E])),!(++E==w.length&&E==S.length);)E==w.length&&w.push(["C",M.pos[0],M.pos[1],M.pos[0],M.pos[1],M.pos[0],M.pos[1]]),E==S.length&&S.push(["C",D.pos[0],D.pos[1],D.pos[0],D.pos[1],D.pos[0],D.pos[1]]);return{start:w,dest:S}}function e(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var o=r.length;return this.pos=[r[o-2],r[o-1]],"SCQT".indexOf(r[0])!=-1&&(this.reflection=[2*this.pos[0]-r[o-4],2*this.pos[1]-r[o-3]]),r}function i(r){var o=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],o;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":o=(function(a,d){var p,g,x,w,S,E,M,D,O,N,H,X,U,Q,Y,te,se,ce,ve,xe,Ee,Be,Oe,Ue,$e,nt,Qe=Math.abs(d[1]),Ae=Math.abs(d[2]),ft=d[3]%360,Dt=d[4],Yt=d[5],wt=d[6],Rt=d[7],Tt=new Ni(a),Pt=new Ni(wt,Rt),Et=[];if(Qe===0||Ae===0||Tt.x===Pt.x&&Tt.y===Pt.y)return[["C",Tt.x,Tt.y,Pt.x,Pt.y,Pt.x,Pt.y]];for(p=new Ni((Tt.x-Pt.x)/2,(Tt.y-Pt.y)/2).transform(new Wt().rotate(ft)),g=p.x*p.x/(Qe*Qe)+p.y*p.y/(Ae*Ae),g>1&&(Qe*=g=Math.sqrt(g),Ae*=g),x=new Wt().rotate(ft).scale(1/Qe,1/Ae).rotate(-ft),Tt=Tt.transform(x),Pt=Pt.transform(x),w=[Pt.x-Tt.x,Pt.y-Tt.y],E=w[0]*w[0]+w[1]*w[1],S=Math.sqrt(E),w[0]/=S,w[1]/=S,M=E<4?Math.sqrt(1-E/4):0,Dt===Yt&&(M*=-1),D=new Ni((Pt.x+Tt.x)/2+M*-w[1],(Pt.y+Tt.y)/2+M*w[0]),O=new Ni(Tt.x-D.x,Tt.y-D.y),N=new Ni(Pt.x-D.x,Pt.y-D.y),H=Math.acos(O.x/Math.sqrt(O.x*O.x+O.y*O.y)),O.y<0&&(H*=-1),X=Math.acos(N.x/Math.sqrt(N.x*N.x+N.y*N.y)),N.y<0&&(X*=-1),Yt&&H>X&&(X+=2*Math.PI),!Yt&&H<X&&(X-=2*Math.PI),Q=Math.ceil(2*Math.abs(H-X)/Math.PI),te=[],se=H,U=(X-H)/Q,Y=4*Math.tan(U/4)/3,Ee=0;Ee<=Q;Ee++)ve=Math.cos(se),ce=Math.sin(se),xe=new Ni(D.x+ve,D.y+ce),te[Ee]=[new Ni(xe.x+Y*ce,xe.y-Y*ve),xe,new Ni(xe.x-Y*ce,xe.y+Y*ve)],se+=U;for(te[0][0]=te[0][1].clone(),te[te.length-1][2]=te[te.length-1][1].clone(),x=new Wt().rotate(ft).scale(Qe,Ae).rotate(-ft),Ee=0,Be=te.length;Ee<Be;Ee++)te[Ee][0]=te[Ee][0].transform(x),te[Ee][1]=te[Ee][1].transform(x),te[Ee][2]=te[Ee][2].transform(x);for(Ee=1,Be=te.length;Ee<Be;Ee++)Oe=(xe=te[Ee-1][2]).x,Ue=xe.y,$e=(xe=te[Ee][0]).x,nt=xe.y,wt=(xe=te[Ee][1]).x,Rt=xe.y,Et.push(["C",Oe,Ue,$e,nt,wt,Rt]);return Et})(this.pos,r),r=o[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],o}function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var a=o,d=r.length;a<d;++a)if(r[a][0]=="M")return a;return!1}Kt(Gs,{morph:function(r,o,a,d,p){for(var g=this.parse(r),x=this.parse(o),w=0,S=0,E=!1,M=!1;w!==!1||S!==!1;){var D;E=n(g,w!==!1&&w+1),M=n(x,S!==!1&&S+1),w===!1&&(w=(D=new Gs(O.start).bbox()).height==0||D.width==0?g.push(g[0])-1:g.push(["M",D.x+D.width/2,D.y+D.height/2])-1),S===!1&&(S=(D=new Gs(O.dest).bbox()).height==0||D.width==0?x.push(x[0])-1:x.push(["M",D.x+D.width/2,D.y+D.height/2])-1);var O=s(g,w,E,x,S,M);g=g.slice(0,w).concat(O.start,E===!1?[]:g.slice(E)),x=x.slice(0,S).concat(O.dest,M===!1?[]:x.slice(M)),w=E!==!1&&w+O.start.length,S=M!==!1&&S+O.dest.length}this._array=g,this.destination=new Gs,this.destination._array=x;var N=this.fromArray(g.map((function(H,X){var U=x[X].map((function(Q,Y){return Y===0?Q:d.step(H[Y],x[X][Y],a,p[X],p)}));return U})));return N}})})();const d2=s=>(s.changedTouches&&(s=s.changedTouches[0]),{x:s.clientX,y:s.clientY});class w3{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(d2(e));const i=(t?"mouseup":"touchend")+".drag";il(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),il(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:i}=this,n=this.el.point(d2(e)),r=n.x-i.x,o=n.y-i.y;if(!r&&!o)return t;const a=t.x+r,d=t.y+o;this.box=new ea(a,d,t.w,t.h),this.lastClick=n,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(a,d)}move(e,t){this.el.type==="svg"?eh.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Ps(window,"mousemove.drag"),Ps(window,"touchmove.drag"),Ps(window,"mouseup.drag"),Ps(window,"touchend.drag"),this.init(!0)}}function R0(s,e,t,i=null){return function(n){n.preventDefault(),n.stopPropagation();var r=n.pageX||n.touches[0].pageX,o=n.pageY||n.touches[0].pageY;e.fire(s,{x:r,y:o,event:n,index:i,points:t})}}function F0([s,e],{a:t,b:i,c:n,d:r,e:o,f:a}){return[s*t+e*n+o,s*i+e*r+a]}Kt(qa,{draggable(s=!0){return(this.remember("_draggable")||new w3(this)).init(s),this}});let JP=class{constructor(s){this.el=s,s.remember("_selectHandler",this),this.selection=new eh,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lm();this.observer=new e.MutationObserver(this.mutationHandler)}init(s){this.createHandle=s.createHandle||this.createHandleFn,this.createRot=s.createRot||this.createRotFn,this.updateHandle=s.updateHandle||this.updateHandleFn,this.updateRot=s.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(s,e){if(!s)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((s,e,t)=>{const i=this.order[e];this.createHandle.call(this,this.selection,s,e,t,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",R0(i,this.el,this.handlePoints,e))}))}createHandleFn(s){s.polyline()}updateHandleFn(s,e,t,i){const n=i.at(t-1),r=i[(t+1)%i.length],o=e,a=[o[0]-n[0],o[1]-n[1]],d=[o[0]-r[0],o[1]-r[1]],p=Math.sqrt(a[0]*a[0]+a[1]*a[1]),g=Math.sqrt(d[0]*d[0]+d[1]*d[1]),x=[a[0]/p,a[1]/p],w=[d[0]/g,d[1]/g],S=[o[0]-10*x[0],o[1]-10*x[1]],E=[o[0]-10*w[0],o[1]-10*w[1]];s.plot([S,o,E])}updateResizeHandles(){this.handlePoints.forEach(((s,e,t)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),s,e,t,i)}))}createRotFn(s){s.line(),s.circle(5)}getPoint(s){return this.handlePoints[this.order.indexOf(s)]}getPointHandle(s){return this.selection.get(this.order.indexOf(s)+1)}updateRotFn(s,e){const t=this.getPoint("t");s.get(0).plot(t[0],t[1],e[0],e[1]),s.get(1).center(e[0],e[1])}createRotationHandle(){const s=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",R0("rot",this.el,this.handlePoints));this.createRot.call(this,s)}updateRotationHandle(){const s=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(s,this.rotationPoint,this.handlePoints)}updatePoints(){const s=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(s).map((t=>F0(t,e))),this.rotationPoint=F0(this.getRotationPoint(s),e)}getHandlePoints({x:s,x2:e,y:t,y2:i,cx:n,cy:r}=this.el.bbox()){return[[s,t],[n,t],[e,t],[e,r],[e,i],[n,i],[s,i],[s,r]]}getRotationPoint({y:s,cx:e}=this.el.bbox()){return[e,s-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const f2=s=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+s.name);return i||(e.prototype instanceof JP?(i=new e(this),e=!0):i=new s(this),this.remember("_"+s.name,i)),i.active(e,t),this};function O0(s,e,t,i=null){return function(n){n.preventDefault(),n.stopPropagation();var r=n.pageX||n.touches[0].pageX,o=n.pageY||n.touches[0].pageY;e.fire(s,{x:r,y:o,event:n,index:i,points:t})}}function B0([s,e],{a:t,b:i,c:n,d:r,e:o,f:a}){return[s*t+e*n+o,s*i+e*r+a]}Kt(qa,{select:f2(JP)}),Kt([ku,Su,wu],{pointSelect:f2(class{constructor(s){this.el=s,s.remember("_pointSelectHandler",this),this.selection=new eh,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lm();this.observer=new e.MutationObserver(this.mutationHandler)}init(s){this.createHandle=s.createHandle||this.createHandleFn,this.updateHandle=s.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(s,e){if(!s)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((s,e,t)=>{this.createHandle.call(this,this.selection,s,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",R0("point",this.el,this.points,e))}))}createHandleFn(s){s.circle(5)}updateHandleFn(s,e){s.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((s,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),s,e,t)}))}updatePoints(){const s=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>F0(e,s)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class QP{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new eh,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Lm();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,i)=>{const n=this.order[t];this.createHandle.call(this,this.selection,e,t,i,n),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",O0(n,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,i,n){const r=n.at(i-1),o=n[(i+1)%n.length],a=t,d=[a[0]-r[0],a[1]-r[1]],p=[a[0]-o[0],a[1]-o[1]],g=Math.sqrt(d[0]*d[0]+d[1]*d[1]),x=Math.sqrt(p[0]*p[0]+p[1]*p[1]),w=[d[0]/g,d[1]/g],S=[p[0]/x,p[1]/x],E=[a[0]-10*w[0],a[1]-10*w[1]],M=[a[0]-10*S[0],a[1]-10*S[1]];e.plot([E,a,M])}updateResizeHandles(){this.handlePoints.forEach(((e,t,i)=>{const n=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,i,n)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const i=this.getPoint("t");e.get(0).plot(i[0],i[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",O0("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((i=>B0(i,t))),this.rotationPoint=B0(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:i,y2:n,cx:r,cy:o}=this.el.bbox()){return[[e,i],[r,i],[t,i],[t,o],[t,n],[r,n],[e,n],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const p2=s=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+s.name);return i||(e.prototype instanceof QP?(i=new e(this),e=!0):i=new s(this),this.remember("_"+s.name,i)),i.active(e,t),this};Kt(qa,{select:p2(QP)}),Kt([ku,Su,wu],{pointSelect:p2(class{constructor(s){this.el=s,s.remember("_pointSelectHandler",this),this.selection=new eh,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Lm();this.observer=new e.MutationObserver(this.mutationHandler)}init(s){this.createHandle=s.createHandle||this.createHandleFn,this.updateHandle=s.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(s,e){if(!s)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((s,e,t)=>{this.createHandle.call(this,this.selection,s,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",O0("point",this.el,this.points,e))}))}createHandleFn(s){s.circle(5)}updateHandleFn(s,e){s.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((s,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),s,e,t)}))}updatePoints(){const s=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>B0(e,s)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const N_=s=>(s.changedTouches&&(s=s.changedTouches[0]),{x:s.clientX,y:s.clientY}),m2=s=>{let e=1/0,t=1/0,i=-1/0,n=-1/0;for(let r=0;r<s.length;r++){const o=s[r];e=Math.min(e,o[0]),t=Math.min(t,o[1]),i=Math.max(i,o[0]),n=Math.max(n,o[1])}return new ea(e,t,i-e,n-t)};class g2{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:i,points:n}=e.detail,r=!t.type.indexOf("mouse");if(r&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(N_(t)),this.index=i,this.points=n.slice();const o=(r?"mousemove":"touchmove")+".resize",a=(r?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?il(window,o,this.movePoint):e.type==="rot"?il(window,o,this.rotate):il(window,o,this.resize),il(window,a,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(N_(e)));let i=t.x-this.startPoint.x,n=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,n*=2);const r=this.box.x+i,o=this.box.y+n,a=this.box.x2+i,d=this.box.y2+n;let p=new ea(this.box);if(this.eventType.includes("l")&&(p.x=Math.min(r,this.box.x2),p.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(p.x=Math.min(a,this.box.x),p.x2=Math.max(a,this.box.x)),this.eventType.includes("t")&&(p.y=Math.min(o,this.box.y2),p.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(p.y=Math.min(d,this.box.y),p.y2=Math.max(d,this.box.y)),p.width=p.x2-p.x,p.height=p.y2-p.y,this.preserveAspectRatio){const g=p.width/this.box.width,x=p.height/this.box.height,w=["lt","t","rt","r","rb","b","lb","l"],S=(w.indexOf(this.eventType)+4)%w.length,E=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[S];let M=this.eventType.includes("t")||this.eventType.includes("b")?x:g;M=this.eventType.length===2?Math.max(g,x):M,p=(function(D,O,N){const H=[[D.x,D.y],[D.x+D.width,D.y],[D.x+D.width,D.y+D.height],[D.x,D.y+D.height]].map((([X,U])=>{const Q=X-O[0],Y=(U-O[1])*N;return[Q*N+O[0],Y+O[1]]}));return m2(H)})(this.box,E,M)}this.el.dispatch("resize",{box:new ea(p),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(p.width,p.height).move(p.x,p.y)}movePoint(e){this.lastEvent=e;const{x:t,y:i}=this.snapToGrid(this.el.point(N_(e))),n=this.el.array().slice();n[this.index]=[t,i],this.el.dispatch("resize",{box:m2(n),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(n)}rotate(e){this.lastEvent=e;const t=this.startPoint,i=this.el.point(N_(e)),{cx:n,cy:r}=this.box,o=t.x-n,a=t.y-r,d=i.x-n,p=i.y-r,g=Math.sqrt(o*o+a*a)*Math.sqrt(d*d+p*p);if(g===0)return;let x=Math.acos((o*d+a*p)/g)/Math.PI*180;if(!x)return;i.x<t.x&&(x=-x);const w=new Wt(this.el),{x:S,y:E}=new Ni(n,r).transformO(w),{rotate:M}=w.decompose(),D=this.snapToAngle(M+x)-M;this.el.dispatch("resize",{box:this.box,angle:D,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(w.rotateO(D,S,E))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Ps(window,"mousemove.resize touchmove.resize"),Ps(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Kt(qa,{resize:function(s=!0,e={}){typeof s=="object"&&(e=s,s=!0);let t=this.remember("_ResizeHandler");return t||(s.prototype instanceof g2?(t=new s(this),s=!0):t=new g2(this),this.remember("_resizeHandler",t)),t.active(s,e),this}}),window.SVG===void 0&&(window.SVG=O5),window.Apex===void 0&&(window.Apex={});var _2=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Od(this.ctx),this.ctx.axes=new X5(this.ctx),this.ctx.core=new v3(this.ctx.el,this.ctx),this.ctx.config=new wm({}),this.ctx.data=new l1(this.ctx),this.ctx.grid=new VP(this.ctx),this.ctx.graphics=new lt(this.ctx),this.ctx.coreUtils=new ta(this.ctx),this.ctx.crosshairs=new z0(this.ctx),this.ctx.events=new U5(this.ctx),this.ctx.exports=new Qp(this.ctx),this.ctx.fill=new Ws(this.ctx),this.ctx.localization=new W5(this.ctx),this.ctx.options=new xu,this.ctx.responsive=new q5(this.ctx),this.ctx.series=new Is(this.ctx),this.ctx.theme=new Y5(this.ctx),this.ctx.formatters=new Dm(this.ctx),this.ctx.titleSubtitle=new Z5(this.ctx),this.ctx.legend=new GP(this.ctx),this.ctx.toolbar=new UP(this.ctx),this.ctx.tooltip=new u2(this.ctx),this.ctx.dimensions=new Oy(this.ctx),this.ctx.updateHelpers=new b3(this.ctx),this.ctx.zoomPanSelection=new i3(this.ctx),this.ctx.w.globals.tooltip=new u2(this.ctx)}}]),s})(),y2=(function(){function s(e){Ct(this,s),this.ctx=e,this.w=e.w}return At(s,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,i=e.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!i&&(n.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach((function(a){r.removeEventListener(a,t.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),s})(),Db=new WeakMap,Ku=(function(){function s(e,t){Ct(this,s),this.opts=t,this.ctx=this,this.w=new G5(t).init(),this.el=e,this.w.globals.cuid=De.randomId(),this.w.globals.chartID=this.w.config.chart.id?De.escapeString(this.w.config.chart.id):this.w.globals.cuid,new _2(this).initModules(),this.lastUpdateOptions=null,this.create=De.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return At(s,[{key:"render",value:function(){var e=this;return new Promise((function(t,i){if(De.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var n=e.w.config.chart.events.beforeMount;typeof n=="function"&&n(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(w,S){var E=!1;if(w.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var M=w.getBoundingClientRect();w.style.display!=="none"&&M.width!==0||(E=!0)}var D=new ResizeObserver((function(O){E&&S.call(w,O),E=!0}));w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(w.children).forEach((function(O){return D.observe(O)})):D.observe(w),Db.set(S,D)})(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),o=De.is("ShadowRoot",r),a=e.el.ownerDocument,d=o?r.getElementById("apexcharts-css"):a.getElementById("apexcharts-css");if(!d){var p;(d=document.createElement("style")).id="apexcharts-css",d.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var g=((p=e.opts.chart)===null||p===void 0?void 0:p.nonce)||e.w.config.chart.nonce;g&&d.setAttribute("nonce",g),o?r.prepend(d):e.w.config.chart.injectStyleSheet!==!1&&a.head.appendChild(d)}var x=e.create(e.w.config.series,{});if(!x)return t(e);e.mount(x).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(x)})).catch((function(w){i(w)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var i=this,n=this.w;new _2(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,!De.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new bm(n.config).convertCatToNumericXaxis(n.config,this.ctx),this.core.setupElements(),n.config.chart.type==="treemap"&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),r.svgWidth===0))return r.animationEnded=!0,null;var o=e;e.forEach((function(w,S){w.hidden&&(o=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:S}))}));var a=ta.checkComboSeries(o,n.config.chart.type);r.comboCharts=a.comboCharts,r.comboBarCount=a.comboBarCount;var d=o.every((function(w){return w.data&&w.data.length===0}));(o.length===0||d&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new $d(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),n.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new ta(this).getLargestMarkerSize(),this.dimensions.plotCoords();var p=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(o,p),x=new Dd(this);return x.bringForward(),n.config.dataLabels.background.enabled&&x.dataLabelsBackground(),this.core.shiftGraphPosition(),n.globals.dataPoints>50&&n.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:g,xyRatios:p,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,n=i.w;return new Promise((function(r,o){if(i.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||n.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new VP(i);var a,d,p=i.grid.drawGrid();if(i.annotations=new H5(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),n.config.grid.position==="back"&&(p&&n.globals.dom.elGraphical.add(p.el),p!=null&&(a=p.elGridBorders)!==null&&a!==void 0&&a.node&&n.globals.dom.elGraphical.add(p.elGridBorders)),Array.isArray(t.elGraph))for(var g=0;g<t.elGraph.length;g++)n.globals.dom.elGraphical.add(t.elGraph[g]);else n.globals.dom.elGraphical.add(t.elGraph);n.config.grid.position==="front"&&(p&&n.globals.dom.elGraphical.add(p.el),p!=null&&(d=p.elGridBorders)!==null&&d!==void 0&&d.node&&n.globals.dom.elGraphical.add(p.elGridBorders)),n.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),n.config.chart.type!=="treemap"&&i.axes.drawAxis(n.config.chart.type,p);var x=new km(e.ctx,p),w=new h1(e.ctx,p);if(p!==null&&(x.xAxisLabelCorrections(p.xAxisTickWidth),w.setYAxisTextAlignments(),n.config.yaxis.map((function(E,M){n.globals.ignoreYAxisIndexes.indexOf(M)===-1&&w.yAxisTitleRotate(M,E.opposite)}))),i.annotations.drawAxesAnnotations(),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),n.globals.axisCharts&&(n.globals.isXNumeric||n.config.xaxis.convertedCatToNumeric||n.globals.isRangeBar))(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var S=n.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(E){S[E]=!1}))}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(E){E.method(E.params,!1,E.context)})),n.globals.axisCharts||n.globals.noData||i.core.resizeNonAxisCharts(),r(i)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,i){var n=Db.get(i);n&&(n.disconnect(),Db.delete(i))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,i){t.id===De.escapeString(e)&&Apex._chartInstances.splice(i,1)})),new y2(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w;return a.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(d,p){return t.updateHelpers._extendSeries(d,p)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,n,r,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var n=this.w.config.series.slice();return n.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.data.resetParsingFlags(),i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var n=i.w.config.series.slice(),r=0;r<n.length;r++)if(e[r]!==null&&e[r]!==void 0)for(var o=0;o<e[r].data.length;o++)n[r].data.push(e[r].data[o]);return i.w.config.series=n,t&&(i.w.globals.initialSeries=De.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(i,n){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return i(t);t.lastUpdateOptions=De.clone(e),new y2(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return i(t);t.mount(r).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)})).catch((function(o){n(o)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(i){t.push(i)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addXaxisAnnotationExternal(e,t,n)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addYaxisAnnotationExternal(e,t,n)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addPointAnnotationExternal(e,t,n)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new D0(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new D0(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Qp(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Qp(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Qp(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=De.escapeString(e);if(Apex._chartInstances){var i=Apex._chartInstances.filter((function(n){return n.id===t}))[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new s(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var n=null;if(i.publicMethods.indexOf(t)!==-1){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];n=i[t].apply(i,o)}return n}}},{key:"merge",value:function(e,t){return De.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),s})();const Vs={blue:"#3b82f6",emerald:"#10b981",amber:"#f59e0b",red:"#ef4444",violet:"#8b5cf6",pink:"#ec4899",teal:"#14b8a6"},k3=[Vs.blue,Vs.emerald,Vs.amber,Vs.red,Vs.violet,Vs.pink,Vs.teal];function hy(s){return s>=1e9?"Rp "+(s/1e9).toFixed(1)+"M":s>=1e6?"Rp "+(s/1e6).toFixed(1)+"jt":s>=1e3?"Rp "+(s/1e3).toFixed(0)+"rb":"Rp "+s}function uy(s){return"Rp "+Number(s).toLocaleString("id-ID")}const eL={"1H":1,"1M":7,"1B":30,"1T":365},tL={"1H":"Hari ini","1M":"7 hari terakhir","1B":"30 hari terakhir","1T":"1 tahun terakhir"};let By=null,jy=null,x2=null,Ny=[],j0=[],N0=[];function v2(){const s=window.__financialData;s&&(Ny=s.chartLabels||s.dailyLabels||[],j0=(s.chartRevenue||s.dailyRevenue||[]).map(Number),N0=(s.chartTickets||s.dailyCounts||[]).map(Number),console.log("Financial Charts Init:",{labelsLen:Ny.length,revLen:j0.length,txLen:N0.length}),S3(),T3(),C3(s),A3(s))}function ox(s){const e=Ny.length,t=Math.max(0,e-s);return{labels:Ny.slice(t),revenue:j0.slice(t),tickets:N0.slice(t)}}function iL({seriesName:s,data:e,labels:t,color:i,yFormatter:n,tooltipFormatter:r,height:o}){return{series:[{name:s,data:e}],chart:{type:"area",height:o||260,fontFamily:"'Inter', 'Segoe UI', sans-serif",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,easing:"easeinout",speed:700,animateGradually:{enabled:!0,delay:80},dynamicAnimation:{enabled:!0,speed:350}},dropShadow:{enabled:!0,top:2,left:0,blur:5,color:i,opacity:.1}},colors:[i],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,85,100]}},stroke:{curve:"smooth",width:2.5},markers:{size:0,hover:{size:5,sizeOffset:3},strokeWidth:3,strokeColors:"#fff"},xaxis:{categories:t,axisBorder:{show:!1},axisTicks:{show:!1},tickAmount:15,labels:{style:{colors:"#9ca3af",fontSize:"10px"},hideOverlappingLabels:!0}},yaxis:{labels:{style:{colors:"#9ca3af",fontSize:"10px"},formatter:n},min:0},grid:{borderColor:"#f3f4f6",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:-8,right:0,bottom:0,left:6}},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:r}},legend:{show:!1},dataLabels:{enabled:!1}}}function S3(){const s=document.getElementById("revenueChart");if(!s)return;const e=ox(30),t=iL({seriesName:"Pendapatan",data:e.revenue,labels:e.labels,color:Vs.blue,yFormatter:hy,tooltipFormatter:uy});By=new Ku(s,t),By.render(),nL(e)}function nL(s){const e=s.revenue.reduce((o,a)=>o+a,0),t=s.labels.length||1,i=s.tickets.reduce((o,a)=>o+a,0),n=Math.max(...s.revenue),r=o=>document.getElementById(o);r("revTotal")&&(r("revTotal").textContent=hy(e)),r("revAvg")&&(r("revAvg").textContent=hy(Math.round(e/t))),r("revTx")&&(r("revTx").textContent=i.toLocaleString("id-ID")),r("revMax")&&(r("revMax").textContent=hy(n))}window.filterFinancialRevenue=function(s){if(!By)return;const e=eL[s]||30,t=ox(e);By.updateOptions({series:[{name:"Pendapatan",data:t.revenue}],xaxis:{categories:t.labels}},!0,!0),nL(t);const i=document.getElementById("revenuePeriodLabel");i&&(i.textContent=tL[s]||"")};function T3(){const s=document.getElementById("ticketChart");if(!s)return;const e=ox(30),t=iL({seriesName:"Transaksi",data:e.tickets,labels:e.labels,color:Vs.emerald,yFormatter:i=>Math.round(i).toString(),tooltipFormatter:i=>i.toLocaleString("id-ID")+" transaksi"});jy=new Ku(s,t),jy.render(),aL(e)}function aL(s){const e=s.tickets.reduce((o,a)=>o+a,0),t=s.labels.length||1,i=s.tickets.filter(o=>o>0).length,n=Math.max(...s.tickets),r=o=>document.getElementById(o);r("txTotal")&&(r("txTotal").textContent=e.toLocaleString("id-ID")),r("txAvg")&&(r("txAvg").textContent=Math.round(e/t).toLocaleString("id-ID")),r("txDays")&&(r("txDays").textContent=i+"/"+t),r("txMax")&&(r("txMax").textContent=n.toLocaleString("id-ID"))}window.filterFinancialTickets=function(s){if(!jy)return;const e=eL[s]||30,t=ox(e);jy.updateOptions({series:[{name:"Transaksi",data:t.tickets}],xaxis:{categories:t.labels}},!0,!0),aL(t);const i=document.getElementById("ticketPeriodLabel");i&&(i.textContent=tL[s]||"")};function C3(s){const e=document.getElementById("paymentMethodChart");if(!e||!s.paymentLabels||s.paymentLabels.length===0)return;const t=(s.paymentData||[]).map(Number),i={series:t,labels:s.paymentLabels,chart:{type:"donut",height:220,fontFamily:"'Inter', 'Segoe UI', sans-serif",animations:{enabled:!0}},colors:k3.slice(0,t.length),plotOptions:{pie:{donut:{size:"72%",labels:{show:!0,name:{show:!0,fontSize:"12px",fontWeight:600,color:"#6b7280",offsetY:-4},value:{show:!0,fontSize:"18px",fontWeight:800,color:"#1f2937",offsetY:4,formatter:uy},total:{show:!0,showAlways:!0,label:"Total",fontSize:"12px",fontWeight:600,color:"#6b7280",formatter:n=>{const r=n.globals.seriesTotals.reduce((o,a)=>o+a,0);return uy(r)}}}}}},stroke:{width:2,colors:["#fff"]},dataLabels:{enabled:!1},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:uy}},legend:{show:!1}};x2=new Ku(e,i),x2.render()}function b2(s,e,t){const i=document.getElementById(s);if(!i||!e||e.length<2)return null;const n={series:[{data:e}],chart:{type:"area",height:36,sparkline:{enabled:!0},animations:{enabled:!0}},stroke:{curve:"smooth",width:2},colors:[t],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.3,opacityTo:.05,stops:[0,90,100]}},tooltip:{enabled:!1}},r=new Ku(i,n);return r.render(),r}function A3(s){const e=(s.sparkRevenue||[]).map(Number),t=(s.sparkTickets||[]).map(Number);b2("sparkGross",e,Vs.blue),b2("sparkTickets",t,Vs.violet)}function w2(){window.__financialData?v2():setTimeout(()=>{window.__financialData&&v2()},100)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",w2):w2();const qo={blue:"#3b82f6",emerald:"#10b981",amber:"#f59e0b",red:"#ef4444",violet:"#8b5cf6",pink:"#ec4899",teal:"#14b8a6"},M3=[qo.blue,qo.emerald,qo.amber,qo.red,qo.violet,qo.pink,qo.teal];function cy(s){return s>=1e9?"Rp "+(s/1e9).toFixed(1)+"M":s>=1e6?"Rp "+(s/1e6).toFixed(1)+"jt":s>=1e3?"Rp "+(s/1e3).toFixed(0)+"rb":"Rp "+s}function P3(s){return"Rp "+Number(s).toLocaleString("id-ID")}const rL={"1H":1,"1M":7,"1B":30,"1T":365},sL={"1H":"Hari ini","1M":"7 hari terakhir","1B":"30 hari terakhir","1T":"1 tahun terakhir"};let $y=null,Vy=null,k2=null,$0=[],oL=[],lL=[];function lx(s){const e=$0.length,t=Math.max(0,e-s);return{labels:$0.slice(t),revenue:oL.slice(t),tickets:lL.slice(t)}}function hL({seriesName:s,data:e,labels:t,color:i,yFormatter:n,tooltipFormatter:r,height:o}){return{series:[{name:s,data:e}],chart:{type:"area",height:o||260,fontFamily:"'Inter', 'Segoe UI', sans-serif",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,easing:"easeinout",speed:700,animateGradually:{enabled:!0,delay:80},dynamicAnimation:{enabled:!0,speed:350}},dropShadow:{enabled:!0,top:2,left:0,blur:5,color:i,opacity:.1}},colors:[i],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,85,100]}},stroke:{curve:"smooth",width:2.5},markers:{size:0,hover:{size:5,sizeOffset:3},strokeWidth:3,strokeColors:"#fff"},xaxis:{categories:t,axisBorder:{show:!1},axisTicks:{show:!1},tickAmount:15,labels:{style:{colors:"#9ca3af",fontSize:"10px"},rotate:0,hideOverlappingLabels:!0}},yaxis:{title:{text:""},labels:{style:{colors:"#9ca3af",fontSize:"10px"},formatter:n},min:0},grid:{borderColor:"#f3f4f6",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:-8,right:0,bottom:0,left:6}},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:r}},legend:{show:!1},dataLabels:{enabled:!1}}}function L3(){const s=document.getElementById("revenueChart");if(!s)return;const e=lx(30),t=hL({seriesName:"Pendapatan",data:e.revenue,labels:e.labels,color:qo.blue,yFormatter:cy,tooltipFormatter:i=>P3(i)});$y=new Ku(s,t),$y.render(),uL(e)}function uL(s){const e=s.revenue.reduce((o,a)=>o+a,0),t=s.labels.length||1,i=s.tickets.reduce((o,a)=>o+a,0),n=Math.max(...s.revenue),r=o=>document.getElementById(o);r("revTotal")&&(r("revTotal").textContent=cy(e)),r("revAvg")&&(r("revAvg").textContent=cy(Math.round(e/t))),r("revTx")&&(r("revTx").textContent=i.toLocaleString("id-ID")),r("revMax")&&(r("revMax").textContent=cy(n))}window.filterRevenueChart=function(s){if(!$y)return;const e=rL[s]||30,t=lx(e);$y.updateOptions({series:[{name:"Pendapatan",data:t.revenue}],xaxis:{categories:t.labels}},!0,!0),uL(t);const i=document.getElementById("revenuePeriodLabel");i&&(i.textContent=sL[s]||"")};function E3(){const s=document.getElementById("ticketChart");if(!s)return;const e=lx(30),t=hL({seriesName:"Tiket Terjual",data:e.tickets,labels:e.labels,color:qo.emerald,yFormatter:i=>Math.round(i).toString(),tooltipFormatter:i=>i.toLocaleString("id-ID")+" tiket"});Vy=new Ku(s,t),Vy.render(),cL(e)}function cL(s){const e=s.tickets.reduce((o,a)=>o+a,0),t=s.labels.length||1,i=s.tickets.filter(o=>o>0).length,n=Math.max(...s.tickets),r=o=>document.getElementById(o);r("txTotal")&&(r("txTotal").textContent=e.toLocaleString("id-ID")),r("txAvg")&&(r("txAvg").textContent=Math.round(e/t).toLocaleString("id-ID")),r("txDays")&&(r("txDays").textContent=i+"/"+t),r("txMax")&&(r("txMax").textContent=n.toLocaleString("id-ID"))}window.filterTicketChart=function(s){if(!Vy)return;const e=rL[s]||30,t=lx(e);Vy.updateOptions({series:[{name:"Tiket Terjual",data:t.tickets}],xaxis:{categories:t.labels}},!0,!0),cL(t);const i=document.getElementById("ticketPeriodLabel");i&&(i.textContent=sL[s]||"")};function I3(s){const e=document.getElementById("ticketTypeChart");if(!e||!s.ticketTypeLabels||s.ticketTypeLabels.length===0)return;const t=(s.ticketTypeData||[]).map(Number),i={series:t,labels:s.ticketTypeLabels,chart:{type:"donut",height:220,fontFamily:"'Inter', 'Segoe UI', sans-serif",animations:{enabled:!0,easing:"easeinout",speed:800}},colors:M3.slice(0,t.length),plotOptions:{pie:{donut:{size:"72%",labels:{show:!0,name:{show:!0,fontSize:"12px",fontWeight:600,color:"#6b7280",offsetY:-4},value:{show:!0,fontSize:"20px",fontWeight:800,color:"#1f2937",offsetY:4,formatter:n=>Number(n).toLocaleString("id-ID")},total:{show:!0,showAlways:!0,label:"Total",fontSize:"12px",fontWeight:600,color:"#6b7280",formatter:n=>n.globals.seriesTotals.reduce((r,o)=>r+o,0).toLocaleString("id-ID")}}}}},stroke:{width:2,colors:["#fff"]},dataLabels:{enabled:!1},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:n=>n.toLocaleString("id-ID")+" tiket"}},legend:{show:!1},states:{hover:{filter:{type:"darken",value:.1}},active:{filter:{type:"none"}}}};k2=new Ku(e,i),k2.render()}function S2(){const s=window.__dashboardData;s&&($0=s.labels||[],oL=(s.revenue||[]).map(Number),lL=(s.tickets||[]).map(Number),L3(),E3(),I3(s))}function T2(){window.__dashboardData?S2():setTimeout(()=>{window.__dashboardData&&S2()},100)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T2):T2();var V0=!1,H0=!1,Fu=[],G0=-1;function D3(s){z3(s)}function z3(s){Fu.includes(s)||Fu.push(s),F3()}function R3(s){let e=Fu.indexOf(s);e!==-1&&e>G0&&Fu.splice(e,1)}function F3(){!H0&&!V0&&(V0=!0,queueMicrotask(O3))}function O3(){V0=!1,H0=!0;for(let s=0;s<Fu.length;s++)Fu[s](),G0=s;Fu.length=0,G0=-1,H0=!1}var Vd,Ju,Hd,dL,U0=!0;function B3(s){U0=!1,s(),U0=!0}function j3(s){Vd=s.reactive,Hd=s.release,Ju=e=>s.effect(e,{scheduler:t=>{U0?D3(t):t()}}),dL=s.raw}function C2(s){Ju=s}function N3(s){let e=()=>{};return[i=>{let n=Ju(i);return s._x_effects||(s._x_effects=new Set,s._x_runEffects=()=>{s._x_effects.forEach(r=>r())}),s._x_effects.add(n),e=()=>{n!==void 0&&(s._x_effects.delete(n),Hd(n))},n},()=>{e()}]}function fL(s,e){let t=!0,i,n=Ju(()=>{let r=s();JSON.stringify(r),t?i=r:queueMicrotask(()=>{e(r,i),i=r}),t=!1});return()=>Hd(n)}var pL=[],mL=[],gL=[];function $3(s){gL.push(s)}function u1(s,e){typeof e=="function"?(s._x_cleanups||(s._x_cleanups=[]),s._x_cleanups.push(e)):(e=s,mL.push(e))}function _L(s){pL.push(s)}function yL(s,e,t){s._x_attributeCleanups||(s._x_attributeCleanups={}),s._x_attributeCleanups[e]||(s._x_attributeCleanups[e]=[]),s._x_attributeCleanups[e].push(t)}function xL(s,e){s._x_attributeCleanups&&Object.entries(s._x_attributeCleanups).forEach(([t,i])=>{(e===void 0||e.includes(t))&&(i.forEach(n=>n()),delete s._x_attributeCleanups[t])})}function V3(s){for(s._x_effects?.forEach(R3);s._x_cleanups?.length;)s._x_cleanups.pop()()}var c1=new MutationObserver(m1),d1=!1;function f1(){c1.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),d1=!0}function vL(){H3(),c1.disconnect(),d1=!1}var yp=[];function H3(){let s=c1.takeRecords();yp.push(()=>s.length>0&&m1(s));let e=yp.length;queueMicrotask(()=>{if(yp.length===e)for(;yp.length>0;)yp.shift()()})}function Wn(s){if(!d1)return s();vL();let e=s();return f1(),e}var p1=!1,Hy=[];function G3(){p1=!0}function U3(){p1=!1,m1(Hy),Hy=[]}function m1(s){if(p1){Hy=Hy.concat(s);return}let e=[],t=new Set,i=new Map,n=new Map;for(let r=0;r<s.length;r++)if(!s[r].target._x_ignoreMutationObserver&&(s[r].type==="childList"&&(s[r].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&t.add(o)}),s[r].addedNodes.forEach(o=>{if(o.nodeType===1){if(t.has(o)){t.delete(o);return}o._x_marker||e.push(o)}})),s[r].type==="attributes")){let o=s[r].target,a=s[r].attributeName,d=s[r].oldValue,p=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},g=()=>{n.has(o)||n.set(o,[]),n.get(o).push(a)};o.hasAttribute(a)&&d===null?p():o.hasAttribute(a)?(g(),p()):g()}n.forEach((r,o)=>{xL(o,r)}),i.forEach((r,o)=>{pL.forEach(a=>a(o,r))});for(let r of t)e.some(o=>o.contains(r))||mL.forEach(o=>o(r));for(let r of e)r.isConnected&&gL.forEach(o=>o(r));e=null,t=null,i=null,n=null}function bL(s){return Rm(Rd(s))}function zm(s,e,t){return s._x_dataStack=[e,...Rd(t||s)],()=>{s._x_dataStack=s._x_dataStack.filter(i=>i!==e)}}function Rd(s){return s._x_dataStack?s._x_dataStack:typeof ShadowRoot=="function"&&s instanceof ShadowRoot?Rd(s.host):s.parentNode?Rd(s.parentNode):[]}function Rm(s){return new Proxy({objects:s},W3)}var W3={ownKeys({objects:s}){return Array.from(new Set(s.flatMap(e=>Object.keys(e))))},has({objects:s},e){return e==Symbol.unscopables?!1:s.some(t=>Object.prototype.hasOwnProperty.call(t,e)||Reflect.has(t,e))},get({objects:s},e,t){return e=="toJSON"?X3:Reflect.get(s.find(i=>Reflect.has(i,e))||{},e,t)},set({objects:s},e,t,i){const n=s.find(o=>Object.prototype.hasOwnProperty.call(o,e))||s[s.length-1],r=Object.getOwnPropertyDescriptor(n,e);return r?.set&&r?.get?r.set.call(i,t)||!0:Reflect.set(n,e,t)}};function X3(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function wL(s){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,t=(i,n="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([r,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let d=n===""?r:`${n}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[r]=o.initialize(s,d,r):e(o)&&o!==i&&!(o instanceof Element)&&t(o,d)})};return t(s)}function kL(s,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(i,n,r){return s(this.initialValue,()=>q3(i,n),o=>W0(i,n,o),n,r)}};return e(t),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let n=t.initialize.bind(t);t.initialize=(r,o,a)=>{let d=i.initialize(r,o,a);return t.initialValue=d,n(r,o,a)}}else t.initialValue=i;return t}}function q3(s,e){return e.split(".").reduce((t,i)=>t[i],s)}function W0(s,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)s[e[0]]=t;else{if(e.length===0)throw error;return s[e[0]]||(s[e[0]]={}),W0(s[e[0]],e.slice(1),t)}}var SL={};function qs(s,e){SL[s]=e}function X0(s,e){let t=Y3(e);return Object.entries(SL).forEach(([i,n])=>{Object.defineProperty(s,`$${i}`,{get(){return n(e,t)},enumerable:!1})}),s}function Y3(s){let[e,t]=EL(s),i={interceptor:kL,...e};return u1(s,t),i}function Z3(s,e,t,...i){try{return t(...i)}catch(n){Sm(n,s,e)}}function Sm(...s){return TL(...s)}var TL=J3;function K3(s){TL=s}function J3(s,e,t=void 0){s=Object.assign(s??{message:"No error message given."},{el:e,expression:t}),console.warn(`Alpine Expression Error: ${s.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw s},0)}var dy=!0;function CL(s){let e=dy;dy=!1;let t=s();return dy=e,t}function Ou(s,e,t={}){let i;return Sr(s,e)(n=>i=n,t),i}function Sr(...s){return AL(...s)}var AL=ML;function Q3(s){AL=s}function ML(s,e){let t={};X0(t,s);let i=[t,...Rd(s)],n=typeof e=="function"?e$(i,e):i$(i,e,s);return Z3.bind(null,s,e,n)}function e$(s,e){return(t=()=>{},{scope:i={},params:n=[],context:r}={})=>{let o=e.apply(Rm([i,...s]),n);Gy(t,o)}}var zb={};function t$(s,e){if(zb[s])return zb[s];let t=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(s.trim())||/^(let|const)\s/.test(s.trim())?`(async()=>{ ${s} })()`:s,r=(()=>{try{let o=new t(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${s}`}),o}catch(o){return Sm(o,e,s),Promise.resolve()}})();return zb[s]=r,r}function i$(s,e,t){let i=t$(e,t);return(n=()=>{},{scope:r={},params:o=[],context:a}={})=>{i.result=void 0,i.finished=!1;let d=Rm([r,...s]);if(typeof i=="function"){let p=i.call(a,i,d).catch(g=>Sm(g,t,e));i.finished?(Gy(n,i.result,d,o,t),i.result=void 0):p.then(g=>{Gy(n,g,d,o,t)}).catch(g=>Sm(g,t,e)).finally(()=>i.result=void 0)}}}function Gy(s,e,t,i,n){if(dy&&typeof e=="function"){let r=e.apply(t,i);r instanceof Promise?r.then(o=>Gy(s,o,t,i)).catch(o=>Sm(o,n,e)):s(r)}else typeof e=="object"&&e instanceof Promise?e.then(r=>s(r)):s(e)}var g1="x-";function Gd(s=""){return g1+s}function n$(s){g1=s}var Uy={};function ya(s,e){return Uy[s]=e,{before(t){if(!Uy[t]){console.warn(String.raw`Cannot find directive \`${t}\`. \`${s}\` will use the default order of execution`);return}const i=Tu.indexOf(t);Tu.splice(i>=0?i:Tu.indexOf("DEFAULT"),0,s)}}}function a$(s){return Object.keys(Uy).includes(s)}function _1(s,e,t){if(e=Array.from(e),s._x_virtualDirectives){let r=Object.entries(s._x_virtualDirectives).map(([a,d])=>({name:a,value:d})),o=PL(r);r=r.map(a=>o.find(d=>d.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(r)}let i={};return e.map(zL((r,o)=>i[r]=o)).filter(FL).map(o$(i,t)).sort(l$).map(r=>s$(s,r))}function PL(s){return Array.from(s).map(zL()).filter(e=>!FL(e))}var q0=!1,zp=new Map,LL=Symbol();function r$(s){q0=!0;let e=Symbol();LL=e,zp.set(e,[]);let t=()=>{for(;zp.get(e).length;)zp.get(e).shift()();zp.delete(e)},i=()=>{q0=!1,t()};s(t),i()}function EL(s){let e=[],t=a=>e.push(a),[i,n]=N3(s);return e.push(n),[{Alpine:Fm,effect:i,cleanup:t,evaluateLater:Sr.bind(Sr,s),evaluate:Ou.bind(Ou,s)},()=>e.forEach(a=>a())]}function s$(s,e){let t=()=>{},i=Uy[e.type]||t,[n,r]=EL(s);yL(s,e.original,r);let o=()=>{s._x_ignore||s._x_ignoreSelf||(i.inline&&i.inline(s,e,n),i=i.bind(i,s,e,n),q0?zp.get(LL).push(i):i())};return o.runCleanups=r,o}var IL=(s,e)=>({name:t,value:i})=>(t.startsWith(s)&&(t=t.replace(s,e)),{name:t,value:i}),DL=s=>s;function zL(s=()=>{}){return({name:e,value:t})=>{let{name:i,value:n}=RL.reduce((r,o)=>o(r),{name:e,value:t});return i!==e&&s(i,e),{name:i,value:n}}}var RL=[];function y1(s){RL.push(s)}function FL({name:s}){return OL().test(s)}var OL=()=>new RegExp(`^${g1}([^:^.]+)\\b`);function o$(s,e){return({name:t,value:i})=>{let n=t.match(OL()),r=t.match(/:([a-zA-Z0-9\-_:]+)/),o=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||s[t]||t;return{type:n?n[1]:null,value:r?r[1]:null,modifiers:o.map(d=>d.replace(".","")),expression:i,original:a}}}var Y0="DEFAULT",Tu=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Y0,"teleport"];function l$(s,e){let t=Tu.indexOf(s.type)===-1?Y0:s.type,i=Tu.indexOf(e.type)===-1?Y0:e.type;return Tu.indexOf(t)-Tu.indexOf(i)}function em(s,e,t={}){s.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function Xu(s,e){if(typeof ShadowRoot=="function"&&s instanceof ShadowRoot){Array.from(s.children).forEach(n=>Xu(n,e));return}let t=!1;if(e(s,()=>t=!0),t)return;let i=s.firstElementChild;for(;i;)Xu(i,e),i=i.nextElementSibling}function Ls(s,...e){console.warn(`Alpine Warning: ${s}`,...e)}var A2=!1;function h$(){A2&&Ls("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),A2=!0,document.body||Ls("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),em(document,"alpine:init"),em(document,"alpine:initializing"),f1(),$3(e=>sl(e,Xu)),u1(e=>Wd(e)),_L((e,t)=>{_1(e,t).forEach(i=>i())});let s=e=>!hx(e.parentElement,!0);Array.from(document.querySelectorAll(NL().join(","))).filter(s).forEach(e=>{sl(e)}),em(document,"alpine:initialized"),setTimeout(()=>{f$()})}var x1=[],BL=[];function jL(){return x1.map(s=>s())}function NL(){return x1.concat(BL).map(s=>s())}function $L(s){x1.push(s)}function VL(s){BL.push(s)}function hx(s,e=!1){return Ud(s,t=>{if((e?NL():jL()).some(n=>t.matches(n)))return!0})}function Ud(s,e){if(s){if(e(s))return s;if(s._x_teleportBack&&(s=s._x_teleportBack),!!s.parentElement)return Ud(s.parentElement,e)}}function u$(s){return jL().some(e=>s.matches(e))}var HL=[];function c$(s){HL.push(s)}var d$=1;function sl(s,e=Xu,t=()=>{}){Ud(s,i=>i._x_ignore)||r$(()=>{e(s,(i,n)=>{i._x_marker||(t(i,n),HL.forEach(r=>r(i,n)),_1(i,i.attributes).forEach(r=>r()),i._x_ignore||(i._x_marker=d$++),i._x_ignore&&n())})})}function Wd(s,e=Xu){e(s,t=>{V3(t),xL(t),delete t._x_marker})}function f$(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,t,i])=>{a$(t)||i.some(n=>{if(document.querySelector(n))return Ls(`found "${n}", but missing ${e} plugin`),!0})})}var Z0=[],v1=!1;function b1(s=()=>{}){return queueMicrotask(()=>{v1||setTimeout(()=>{K0()})}),new Promise(e=>{Z0.push(()=>{s(),e()})})}function K0(){for(v1=!1;Z0.length;)Z0.shift()()}function p$(){v1=!0}function w1(s,e){return Array.isArray(e)?M2(s,e.join(" ")):typeof e=="object"&&e!==null?m$(s,e):typeof e=="function"?w1(s,e()):M2(s,e)}function M2(s,e){let t=n=>n.split(" ").filter(r=>!s.classList.contains(r)).filter(Boolean),i=n=>(s.classList.add(...n),()=>{s.classList.remove(...n)});return e=e===!0?e="":e||"",i(t(e))}function m$(s,e){let t=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,d])=>d?t(a):!1).filter(Boolean),n=Object.entries(e).flatMap(([a,d])=>d?!1:t(a)).filter(Boolean),r=[],o=[];return n.forEach(a=>{s.classList.contains(a)&&(s.classList.remove(a),o.push(a))}),i.forEach(a=>{s.classList.contains(a)||(s.classList.add(a),r.push(a))}),()=>{o.forEach(a=>s.classList.add(a)),r.forEach(a=>s.classList.remove(a))}}function ux(s,e){return typeof e=="object"&&e!==null?g$(s,e):_$(s,e)}function g$(s,e){let t={};return Object.entries(e).forEach(([i,n])=>{t[i]=s.style[i],i.startsWith("--")||(i=y$(i)),s.style.setProperty(i,n)}),setTimeout(()=>{s.style.length===0&&s.removeAttribute("style")}),()=>{ux(s,t)}}function _$(s,e){let t=s.getAttribute("style",e);return s.setAttribute("style",e),()=>{s.setAttribute("style",t||"")}}function y$(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function J0(s,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,s.apply(this,arguments))}}ya("transition",(s,{value:e,modifiers:t,expression:i},{evaluate:n})=>{typeof i=="function"&&(i=n(i)),i!==!1&&(!i||typeof i=="boolean"?v$(s,t,e):x$(s,i,e))});function x$(s,e,t){GL(s,w1,""),{enter:n=>{s._x_transition.enter.during=n},"enter-start":n=>{s._x_transition.enter.start=n},"enter-end":n=>{s._x_transition.enter.end=n},leave:n=>{s._x_transition.leave.during=n},"leave-start":n=>{s._x_transition.leave.start=n},"leave-end":n=>{s._x_transition.leave.end=n}}[t](e)}function v$(s,e,t){GL(s,ux);let i=!e.includes("in")&&!e.includes("out")&&!t,n=i||e.includes("in")||["enter"].includes(t),r=i||e.includes("out")||["leave"].includes(t);e.includes("in")&&!i&&(e=e.filter((O,N)=>N<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((O,N)=>N>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),d=o||e.includes("scale"),p=a?0:1,g=d?xp(e,"scale",95)/100:1,x=xp(e,"delay",0)/1e3,w=xp(e,"origin","center"),S="opacity, transform",E=xp(e,"duration",150)/1e3,M=xp(e,"duration",75)/1e3,D="cubic-bezier(0.4, 0.0, 0.2, 1)";n&&(s._x_transition.enter.during={transformOrigin:w,transitionDelay:`${x}s`,transitionProperty:S,transitionDuration:`${E}s`,transitionTimingFunction:D},s._x_transition.enter.start={opacity:p,transform:`scale(${g})`},s._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(s._x_transition.leave.during={transformOrigin:w,transitionDelay:`${x}s`,transitionProperty:S,transitionDuration:`${M}s`,transitionTimingFunction:D},s._x_transition.leave.start={opacity:1,transform:"scale(1)"},s._x_transition.leave.end={opacity:p,transform:`scale(${g})`})}function GL(s,e,t={}){s._x_transition||(s._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(i=()=>{},n=()=>{}){Q0(s,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,n)},out(i=()=>{},n=()=>{}){Q0(s,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,n)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(s,e,t,i){const n=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let r=()=>n(t);if(e){s._x_transition&&(s._x_transition.enter||s._x_transition.leave)?s._x_transition.enter&&(Object.entries(s._x_transition.enter.during).length||Object.entries(s._x_transition.enter.start).length||Object.entries(s._x_transition.enter.end).length)?s._x_transition.in(t):r():s._x_transition?s._x_transition.in(t):r();return}s._x_hidePromise=s._x_transition?new Promise((o,a)=>{s._x_transition.out(()=>{},()=>o(i)),s._x_transitioning&&s._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=UL(s);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(s)):n(()=>{let a=d=>{let p=Promise.all([d._x_hidePromise,...(d._x_hideChildren||[]).map(a)]).then(([g])=>g?.());return delete d._x_hidePromise,delete d._x_hideChildren,p};a(s).catch(d=>{if(!d.isFromCancelledTransition)throw d})})})};function UL(s){let e=s.parentNode;if(e)return e._x_hidePromise?e:UL(e)}function Q0(s,e,{during:t,start:i,end:n}={},r=()=>{},o=()=>{}){if(s._x_transitioning&&s._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(i).length===0&&Object.keys(n).length===0){r(),o();return}let a,d,p;b$(s,{start(){a=e(s,i)},during(){d=e(s,t)},before:r,end(){a(),p=e(s,n)},after:o,cleanup(){d(),p()}})}function b$(s,e){let t,i,n,r=J0(()=>{Wn(()=>{t=!0,i||e.before(),n||(e.end(),K0()),e.after(),s.isConnected&&e.cleanup(),delete s._x_transitioning})});s._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:J0(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},Wn(()=>{e.start(),e.during()}),p$(),requestAnimationFrame(()=>{if(t)return;let o=Number(getComputedStyle(s).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(s).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(s).animationDuration.replace("s",""))*1e3),Wn(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{t||(Wn(()=>{e.end()}),K0(),setTimeout(s._x_transitioning.finish,o+a),n=!0)})})}function xp(s,e,t){if(s.indexOf(e)===-1)return t;const i=s[s.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return t;if(e==="duration"||e==="delay"){let n=i.match(/([0-9]+)ms/);if(n)return n[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(s[s.indexOf(e)+2])?[i,s[s.indexOf(e)+2]].join(" "):i}var uh=!1;function mh(s,e=()=>{}){return(...t)=>uh?e(...t):s(...t)}function w$(s){return(...e)=>uh&&s(...e)}var WL=[];function cx(s){WL.push(s)}function k$(s,e){WL.forEach(t=>t(s,e)),uh=!0,XL(()=>{sl(e,(t,i)=>{i(t,()=>{})})}),uh=!1}var ew=!1;function S$(s,e){e._x_dataStack||(e._x_dataStack=s._x_dataStack),uh=!0,ew=!0,XL(()=>{T$(e)}),uh=!1,ew=!1}function T$(s){let e=!1;sl(s,(i,n)=>{Xu(i,(r,o)=>{if(e&&u$(r))return o();e=!0,n(r,o)})})}function XL(s){let e=Ju;C2((t,i)=>{let n=e(t);return Hd(n),()=>{}}),s(),C2(e)}function qL(s,e,t,i=[]){switch(s._x_bindings||(s._x_bindings=Vd({})),s._x_bindings[e]=t,e=i.includes("camel")?D$(e):e,e){case"value":C$(s,t);break;case"style":M$(s,t);break;case"class":A$(s,t);break;case"selected":case"checked":P$(s,e,t);break;default:YL(s,e,t);break}}function C$(s,e){if(JL(s))s.attributes.value===void 0&&(s.value=e),window.fromModel&&(typeof e=="boolean"?s.checked=fy(s.value)===e:s.checked=P2(s.value,e));else if(k1(s))Number.isInteger(e)?s.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?s.value=String(e):Array.isArray(e)?s.checked=e.some(t=>P2(t,s.value)):s.checked=!!e;else if(s.tagName==="SELECT")I$(s,e);else{if(s.value===e)return;s.value=e===void 0?"":e}}function A$(s,e){s._x_undoAddedClasses&&s._x_undoAddedClasses(),s._x_undoAddedClasses=w1(s,e)}function M$(s,e){s._x_undoAddedStyles&&s._x_undoAddedStyles(),s._x_undoAddedStyles=ux(s,e)}function P$(s,e,t){YL(s,e,t),E$(s,e,t)}function YL(s,e,t){[null,void 0,!1].includes(t)&&R$(e)?s.removeAttribute(e):(ZL(e)&&(t=e),L$(s,e,t))}function L$(s,e,t){s.getAttribute(e)!=t&&s.setAttribute(e,t)}function E$(s,e,t){s[e]!==t&&(s[e]=t)}function I$(s,e){const t=[].concat(e).map(i=>i+"");Array.from(s.options).forEach(i=>{i.selected=t.includes(i.value)})}function D$(s){return s.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function P2(s,e){return s==e}function fy(s){return[1,"1","true","on","yes",!0].includes(s)?!0:[0,"0","false","off","no",!1].includes(s)?!1:s?!!s:null}var z$=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function ZL(s){return z$.has(s)}function R$(s){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(s)}function F$(s,e,t){return s._x_bindings&&s._x_bindings[e]!==void 0?s._x_bindings[e]:KL(s,e,t)}function O$(s,e,t,i=!0){if(s._x_bindings&&s._x_bindings[e]!==void 0)return s._x_bindings[e];if(s._x_inlineBindings&&s._x_inlineBindings[e]!==void 0){let n=s._x_inlineBindings[e];return n.extract=i,CL(()=>Ou(s,n.expression))}return KL(s,e,t)}function KL(s,e,t){let i=s.getAttribute(e);return i===null?typeof t=="function"?t():t:i===""?!0:ZL(e)?!![e,"true"].includes(i):i}function k1(s){return s.type==="checkbox"||s.localName==="ui-checkbox"||s.localName==="ui-switch"}function JL(s){return s.type==="radio"||s.localName==="ui-radio"}function QL(s,e){let t;return function(){const i=this,n=arguments,r=function(){t=null,s.apply(i,n)};clearTimeout(t),t=setTimeout(r,e)}}function eE(s,e){let t;return function(){let i=this,n=arguments;t||(s.apply(i,n),t=!0,setTimeout(()=>t=!1,e))}}function tE({get:s,set:e},{get:t,set:i}){let n=!0,r,o=Ju(()=>{let a=s(),d=t();if(n)i(Rb(a)),n=!1;else{let p=JSON.stringify(a),g=JSON.stringify(d);p!==r?i(Rb(a)):p!==g&&e(Rb(d))}r=JSON.stringify(s()),JSON.stringify(t())});return()=>{Hd(o)}}function Rb(s){return typeof s=="object"?JSON.parse(JSON.stringify(s)):s}function B$(s){(Array.isArray(s)?s:[s]).forEach(t=>t(Fm))}var yu={},L2=!1;function j$(s,e){if(L2||(yu=Vd(yu),L2=!0),e===void 0)return yu[s];yu[s]=e,wL(yu[s]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&yu[s].init()}function N$(){return yu}var iE={};function $$(s,e){let t=typeof e!="function"?()=>e:e;return s instanceof Element?nE(s,t()):(iE[s]=t,()=>{})}function V$(s){return Object.entries(iE).forEach(([e,t])=>{Object.defineProperty(s,e,{get(){return(...i)=>t(...i)}})}),s}function nE(s,e,t){let i=[];for(;i.length;)i.pop()();let n=Object.entries(e).map(([o,a])=>({name:o,value:a})),r=PL(n);return n=n.map(o=>r.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),_1(s,n,t).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var aE={};function H$(s,e){aE[s]=e}function G$(s,e){return Object.entries(aE).forEach(([t,i])=>{Object.defineProperty(s,t,{get(){return(...n)=>i.bind(e)(...n)},enumerable:!1})}),s}var U$={get reactive(){return Vd},get release(){return Hd},get effect(){return Ju},get raw(){return dL},version:"3.15.2",flushAndStopDeferringMutations:U3,dontAutoEvaluateFunctions:CL,disableEffectScheduling:B3,startObservingMutations:f1,stopObservingMutations:vL,setReactivityEngine:j3,onAttributeRemoved:yL,onAttributesAdded:_L,closestDataStack:Rd,skipDuringClone:mh,onlyDuringClone:w$,addRootSelector:$L,addInitSelector:VL,setErrorHandler:K3,interceptClone:cx,addScopeToNode:zm,deferMutations:G3,mapAttributes:y1,evaluateLater:Sr,interceptInit:c$,setEvaluator:Q3,mergeProxies:Rm,extractProp:O$,findClosest:Ud,onElRemoved:u1,closestRoot:hx,destroyTree:Wd,interceptor:kL,transition:Q0,setStyles:ux,mutateDom:Wn,directive:ya,entangle:tE,throttle:eE,debounce:QL,evaluate:Ou,initTree:sl,nextTick:b1,prefixed:Gd,prefix:n$,plugin:B$,magic:qs,store:j$,start:h$,clone:S$,cloneNode:k$,bound:F$,$data:bL,watch:fL,walk:Xu,data:H$,bind:$$},Fm=U$;function W$(s,e){const t=Object.create(null),i=s.split(",");for(let n=0;n<i.length;n++)t[i[n]]=!0;return n=>!!t[n]}var X$=Object.freeze({}),q$=Object.prototype.hasOwnProperty,dx=(s,e)=>q$.call(s,e),Bu=Array.isArray,tm=s=>rE(s)==="[object Map]",Y$=s=>typeof s=="string",S1=s=>typeof s=="symbol",fx=s=>s!==null&&typeof s=="object",Z$=Object.prototype.toString,rE=s=>Z$.call(s),sE=s=>rE(s).slice(8,-1),T1=s=>Y$(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,K$=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},J$=K$(s=>s.charAt(0).toUpperCase()+s.slice(1)),oE=(s,e)=>s!==e&&(s===s||e===e),tw=new WeakMap,vp=[],po,ju=Symbol("iterate"),iw=Symbol("Map key iterate");function Q$(s){return s&&s._isEffect===!0}function eV(s,e=X$){Q$(s)&&(s=s.raw);const t=nV(s,e);return e.lazy||t(),t}function tV(s){s.active&&(lE(s),s.options.onStop&&s.options.onStop(),s.active=!1)}var iV=0;function nV(s,e){const t=function(){if(!t.active)return s();if(!vp.includes(t)){lE(t);try{return rV(),vp.push(t),po=t,s()}finally{vp.pop(),hE(),po=vp[vp.length-1]}}};return t.id=iV++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=s,t.deps=[],t.options=e,t}function lE(s){const{deps:e}=s;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(s);e.length=0}}var Fd=!0,C1=[];function aV(){C1.push(Fd),Fd=!1}function rV(){C1.push(Fd),Fd=!0}function hE(){const s=C1.pop();Fd=s===void 0?!0:s}function Xs(s,e,t){if(!Fd||po===void 0)return;let i=tw.get(s);i||tw.set(s,i=new Map);let n=i.get(t);n||i.set(t,n=new Set),n.has(po)||(n.add(po),po.deps.push(n),po.options.onTrack&&po.options.onTrack({effect:po,target:s,type:e,key:t}))}function ch(s,e,t,i,n,r){const o=tw.get(s);if(!o)return;const a=new Set,d=g=>{g&&g.forEach(x=>{(x!==po||x.allowRecurse)&&a.add(x)})};if(e==="clear")o.forEach(d);else if(t==="length"&&Bu(s))o.forEach((g,x)=>{(x==="length"||x>=i)&&d(g)});else switch(t!==void 0&&d(o.get(t)),e){case"add":Bu(s)?T1(t)&&d(o.get("length")):(d(o.get(ju)),tm(s)&&d(o.get(iw)));break;case"delete":Bu(s)||(d(o.get(ju)),tm(s)&&d(o.get(iw)));break;case"set":tm(s)&&d(o.get(ju));break}const p=g=>{g.options.onTrigger&&g.options.onTrigger({effect:g,target:s,key:t,type:e,newValue:i,oldValue:n,oldTarget:r}),g.options.scheduler?g.options.scheduler(g):g()};a.forEach(p)}var sV=W$("__proto__,__v_isRef,__isVue"),uE=new Set(Object.getOwnPropertyNames(Symbol).map(s=>Symbol[s]).filter(S1)),oV=cE(),lV=cE(!0),E2=hV();function hV(){const s={};return["includes","indexOf","lastIndexOf"].forEach(e=>{s[e]=function(...t){const i=An(this);for(let r=0,o=this.length;r<o;r++)Xs(i,"get",r+"");const n=i[e](...t);return n===-1||n===!1?i[e](...t.map(An)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{s[e]=function(...t){aV();const i=An(this)[e].apply(this,t);return hE(),i}}),s}function cE(s=!1,e=!1){return function(i,n,r){if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_raw"&&r===(s?e?kV:mE:e?wV:pE).get(i))return i;const o=Bu(i);if(!s&&o&&dx(E2,n))return Reflect.get(E2,n,r);const a=Reflect.get(i,n,r);return(S1(n)?uE.has(n):sV(n))||(s||Xs(i,"get",n),e)?a:nw(a)?!o||!T1(n)?a.value:a:fx(a)?s?gE(a):L1(a):a}}var uV=cV();function cV(s=!1){return function(t,i,n,r){let o=t[i];if(!s&&(n=An(n),o=An(o),!Bu(t)&&nw(o)&&!nw(n)))return o.value=n,!0;const a=Bu(t)&&T1(i)?Number(i)<t.length:dx(t,i),d=Reflect.set(t,i,n,r);return t===An(r)&&(a?oE(n,o)&&ch(t,"set",i,n,o):ch(t,"add",i,n)),d}}function dV(s,e){const t=dx(s,e),i=s[e],n=Reflect.deleteProperty(s,e);return n&&t&&ch(s,"delete",e,void 0,i),n}function fV(s,e){const t=Reflect.has(s,e);return(!S1(e)||!uE.has(e))&&Xs(s,"has",e),t}function pV(s){return Xs(s,"iterate",Bu(s)?"length":ju),Reflect.ownKeys(s)}var mV={get:oV,set:uV,deleteProperty:dV,has:fV,ownKeys:pV},gV={get:lV,set(s,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,s),!0},deleteProperty(s,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,s),!0}},A1=s=>fx(s)?L1(s):s,M1=s=>fx(s)?gE(s):s,P1=s=>s,px=s=>Reflect.getPrototypeOf(s);function $_(s,e,t=!1,i=!1){s=s.__v_raw;const n=An(s),r=An(e);e!==r&&!t&&Xs(n,"get",e),!t&&Xs(n,"get",r);const{has:o}=px(n),a=i?P1:t?M1:A1;if(o.call(n,e))return a(s.get(e));if(o.call(n,r))return a(s.get(r));s!==n&&s.get(e)}function V_(s,e=!1){const t=this.__v_raw,i=An(t),n=An(s);return s!==n&&!e&&Xs(i,"has",s),!e&&Xs(i,"has",n),s===n?t.has(s):t.has(s)||t.has(n)}function H_(s,e=!1){return s=s.__v_raw,!e&&Xs(An(s),"iterate",ju),Reflect.get(s,"size",s)}function I2(s){s=An(s);const e=An(this);return px(e).has.call(e,s)||(e.add(s),ch(e,"add",s,s)),this}function D2(s,e){e=An(e);const t=An(this),{has:i,get:n}=px(t);let r=i.call(t,s);r?fE(t,i,s):(s=An(s),r=i.call(t,s));const o=n.call(t,s);return t.set(s,e),r?oE(e,o)&&ch(t,"set",s,e,o):ch(t,"add",s,e),this}function z2(s){const e=An(this),{has:t,get:i}=px(e);let n=t.call(e,s);n?fE(e,t,s):(s=An(s),n=t.call(e,s));const r=i?i.call(e,s):void 0,o=e.delete(s);return n&&ch(e,"delete",s,void 0,r),o}function R2(){const s=An(this),e=s.size!==0,t=tm(s)?new Map(s):new Set(s),i=s.clear();return e&&ch(s,"clear",void 0,void 0,t),i}function G_(s,e){return function(i,n){const r=this,o=r.__v_raw,a=An(o),d=e?P1:s?M1:A1;return!s&&Xs(a,"iterate",ju),o.forEach((p,g)=>i.call(n,d(p),d(g),r))}}function U_(s,e,t){return function(...i){const n=this.__v_raw,r=An(n),o=tm(r),a=s==="entries"||s===Symbol.iterator&&o,d=s==="keys"&&o,p=n[s](...i),g=t?P1:e?M1:A1;return!e&&Xs(r,"iterate",d?iw:ju),{next(){const{value:x,done:w}=p.next();return w?{value:x,done:w}:{value:a?[g(x[0]),g(x[1])]:g(x),done:w}},[Symbol.iterator](){return this}}}}function Bl(s){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${J$(s)} operation ${t}failed: target is readonly.`,An(this))}return s==="delete"?!1:this}}function _V(){const s={get(r){return $_(this,r)},get size(){return H_(this)},has:V_,add:I2,set:D2,delete:z2,clear:R2,forEach:G_(!1,!1)},e={get(r){return $_(this,r,!1,!0)},get size(){return H_(this)},has:V_,add:I2,set:D2,delete:z2,clear:R2,forEach:G_(!1,!0)},t={get(r){return $_(this,r,!0)},get size(){return H_(this,!0)},has(r){return V_.call(this,r,!0)},add:Bl("add"),set:Bl("set"),delete:Bl("delete"),clear:Bl("clear"),forEach:G_(!0,!1)},i={get(r){return $_(this,r,!0,!0)},get size(){return H_(this,!0)},has(r){return V_.call(this,r,!0)},add:Bl("add"),set:Bl("set"),delete:Bl("delete"),clear:Bl("clear"),forEach:G_(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=U_(r,!1,!1),t[r]=U_(r,!0,!1),e[r]=U_(r,!1,!0),i[r]=U_(r,!0,!0)}),[s,t,e,i]}var[yV,xV]=_V();function dE(s,e){const t=s?xV:yV;return(i,n,r)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(dx(t,n)&&n in i?t:i,n,r)}var vV={get:dE(!1)},bV={get:dE(!0)};function fE(s,e,t){const i=An(t);if(i!==t&&e.call(s,i)){const n=sE(s);console.warn(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var pE=new WeakMap,wV=new WeakMap,mE=new WeakMap,kV=new WeakMap;function SV(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TV(s){return s.__v_skip||!Object.isExtensible(s)?0:SV(sE(s))}function L1(s){return s&&s.__v_isReadonly?s:_E(s,!1,mV,vV,pE)}function gE(s){return _E(s,!0,gV,bV,mE)}function _E(s,e,t,i,n){if(!fx(s))return console.warn(`value cannot be made reactive: ${String(s)}`),s;if(s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=n.get(s);if(r)return r;const o=TV(s);if(o===0)return s;const a=new Proxy(s,o===2?i:t);return n.set(s,a),a}function An(s){return s&&An(s.__v_raw)||s}function nw(s){return!!(s&&s.__v_isRef===!0)}qs("nextTick",()=>b1);qs("dispatch",s=>em.bind(em,s));qs("watch",(s,{evaluateLater:e,cleanup:t})=>(i,n)=>{let r=e(i),a=fL(()=>{let d;return r(p=>d=p),d},n);t(a)});qs("store",N$);qs("data",s=>bL(s));qs("root",s=>hx(s));qs("refs",s=>(s._x_refs_proxy||(s._x_refs_proxy=Rm(CV(s))),s._x_refs_proxy));function CV(s){let e=[];return Ud(s,t=>{t._x_refs&&e.push(t._x_refs)}),e}var Fb={};function yE(s){return Fb[s]||(Fb[s]=0),++Fb[s]}function AV(s,e){return Ud(s,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function MV(s,e){s._x_ids||(s._x_ids={}),s._x_ids[e]||(s._x_ids[e]=yE(e))}qs("id",(s,{cleanup:e})=>(t,i=null)=>{let n=`${t}${i?`-${i}`:""}`;return PV(s,n,e,()=>{let r=AV(s,t),o=r?r._x_ids[t]:yE(t);return i?`${t}-${o}-${i}`:`${t}-${o}`})});cx((s,e)=>{s._x_id&&(e._x_id=s._x_id)});function PV(s,e,t,i){if(s._x_id||(s._x_id={}),s._x_id[e])return s._x_id[e];let n=i();return s._x_id[e]=n,t(()=>{delete s._x_id[e]}),n}qs("el",s=>s);xE("Focus","focus","focus");xE("Persist","persist","persist");function xE(s,e,t){qs(e,i=>Ls(`You can't use [$${e}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}ya("modelable",(s,{expression:e},{effect:t,evaluateLater:i,cleanup:n})=>{let r=i(e),o=()=>{let g;return r(x=>g=x),g},a=i(`${e} = __placeholder`),d=g=>a(()=>{},{scope:{__placeholder:g}}),p=o();d(p),queueMicrotask(()=>{if(!s._x_model)return;s._x_removeModelListeners.default();let g=s._x_model.get,x=s._x_model.set,w=tE({get(){return g()},set(S){x(S)}},{get(){return o()},set(S){d(S)}});n(w)})});ya("teleport",(s,{modifiers:e,expression:t},{cleanup:i})=>{s.tagName.toLowerCase()!=="template"&&Ls("x-teleport can only be used on a <template> tag",s);let n=F2(t),r=s.content.cloneNode(!0).firstElementChild;s._x_teleport=r,r._x_teleportBack=s,s.setAttribute("data-teleport-template",!0),r.setAttribute("data-teleport-target",!0),s._x_forwardEvents&&s._x_forwardEvents.forEach(a=>{r.addEventListener(a,d=>{d.stopPropagation(),s.dispatchEvent(new d.constructor(d.type,d))})}),zm(r,{},s);let o=(a,d,p)=>{p.includes("prepend")?d.parentNode.insertBefore(a,d):p.includes("append")?d.parentNode.insertBefore(a,d.nextSibling):d.appendChild(a)};Wn(()=>{o(r,n,e),mh(()=>{sl(r)})()}),s._x_teleportPutBack=()=>{let a=F2(t);Wn(()=>{o(s._x_teleport,a,e)})},i(()=>Wn(()=>{r.remove(),Wd(r)}))});var LV=document.createElement("div");function F2(s){let e=mh(()=>document.querySelector(s),()=>LV)();return e||Ls(`Cannot find x-teleport element for selector: "${s}"`),e}var vE=()=>{};vE.inline=(s,{modifiers:e},{cleanup:t})=>{e.includes("self")?s._x_ignoreSelf=!0:s._x_ignore=!0,t(()=>{e.includes("self")?delete s._x_ignoreSelf:delete s._x_ignore})};ya("ignore",vE);ya("effect",mh((s,{expression:e},{effect:t})=>{t(Sr(s,e))}));function aw(s,e,t,i){let n=s,r=d=>i(d),o={},a=(d,p)=>g=>p(d,g);if(t.includes("dot")&&(e=EV(e)),t.includes("camel")&&(e=IV(e)),t.includes("passive")&&(o.passive=!0),t.includes("capture")&&(o.capture=!0),t.includes("window")&&(n=window),t.includes("document")&&(n=document),t.includes("debounce")){let d=t[t.indexOf("debounce")+1]||"invalid-wait",p=Wy(d.split("ms")[0])?Number(d.split("ms")[0]):250;r=QL(r,p)}if(t.includes("throttle")){let d=t[t.indexOf("throttle")+1]||"invalid-wait",p=Wy(d.split("ms")[0])?Number(d.split("ms")[0]):250;r=eE(r,p)}return t.includes("prevent")&&(r=a(r,(d,p)=>{p.preventDefault(),d(p)})),t.includes("stop")&&(r=a(r,(d,p)=>{p.stopPropagation(),d(p)})),t.includes("once")&&(r=a(r,(d,p)=>{d(p),n.removeEventListener(e,r,o)})),(t.includes("away")||t.includes("outside"))&&(n=document,r=a(r,(d,p)=>{s.contains(p.target)||p.target.isConnected!==!1&&(s.offsetWidth<1&&s.offsetHeight<1||s._x_isShown!==!1&&d(p))})),t.includes("self")&&(r=a(r,(d,p)=>{p.target===s&&d(p)})),(zV(e)||bE(e))&&(r=a(r,(d,p)=>{RV(p,t)||d(p)})),n.addEventListener(e,r,o),()=>{n.removeEventListener(e,r,o)}}function EV(s){return s.replace(/-/g,".")}function IV(s){return s.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Wy(s){return!Array.isArray(s)&&!isNaN(s)}function DV(s){return[" ","_"].includes(s)?s:s.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function zV(s){return["keydown","keyup"].includes(s)}function bE(s){return["contextmenu","click","mouse"].some(e=>s.includes(e))}function RV(s,e){let t=e.filter(r=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll"].includes(r));if(t.includes("debounce")){let r=t.indexOf("debounce");t.splice(r,Wy((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.includes("throttle")){let r=t.indexOf("throttle");t.splice(r,Wy((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&O2(s.key).includes(t[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter(r=>t.includes(r));return t=t.filter(r=>!n.includes(r)),!(n.length>0&&n.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),s[`${o}Key`])).length===n.length&&(bE(s.type)||O2(s.key).includes(t[0])))}function O2(s){if(!s)return[];s=DV(s);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[s]=s,Object.keys(e).map(t=>{if(e[t]===s)return t}).filter(t=>t)}ya("model",(s,{modifiers:e,expression:t},{effect:i,cleanup:n})=>{let r=s;e.includes("parent")&&(r=s.parentNode);let o=Sr(r,t),a;typeof t=="string"?a=Sr(r,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?a=Sr(r,`${t()} = __placeholder`):a=()=>{};let d=()=>{let w;return o(S=>w=S),B2(w)?w.get():w},p=w=>{let S;o(E=>S=E),B2(S)?S.set(w):a(()=>{},{scope:{__placeholder:w}})};typeof t=="string"&&s.type==="radio"&&Wn(()=>{s.hasAttribute("name")||s.setAttribute("name",t)});let g=s.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(s.type)||e.includes("lazy")?"change":"input",x=uh?()=>{}:aw(s,g,e,w=>{p(Ob(s,e,w,d()))});if(e.includes("fill")&&([void 0,null,""].includes(d())||k1(s)&&Array.isArray(d())||s.tagName.toLowerCase()==="select"&&s.multiple)&&p(Ob(s,e,{target:s},d())),s._x_removeModelListeners||(s._x_removeModelListeners={}),s._x_removeModelListeners.default=x,n(()=>s._x_removeModelListeners.default()),s.form){let w=aw(s.form,"reset",[],S=>{b1(()=>s._x_model&&s._x_model.set(Ob(s,e,{target:s},d())))});n(()=>w())}s._x_model={get(){return d()},set(w){p(w)}},s._x_forceModelUpdate=w=>{w===void 0&&typeof t=="string"&&t.match(/\./)&&(w=""),window.fromModel=!0,Wn(()=>qL(s,"value",w)),delete window.fromModel},i(()=>{let w=d();e.includes("unintrusive")&&document.activeElement.isSameNode(s)||s._x_forceModelUpdate(w)})});function Ob(s,e,t,i){return Wn(()=>{if(t instanceof CustomEvent&&t.detail!==void 0)return t.detail!==null&&t.detail!==void 0?t.detail:t.target.value;if(k1(s))if(Array.isArray(i)){let n=null;return e.includes("number")?n=Bb(t.target.value):e.includes("boolean")?n=fy(t.target.value):n=t.target.value,t.target.checked?i.includes(n)?i:i.concat([n]):i.filter(r=>!FV(r,n))}else return t.target.checked;else{if(s.tagName.toLowerCase()==="select"&&s.multiple)return e.includes("number")?Array.from(t.target.selectedOptions).map(n=>{let r=n.value||n.text;return Bb(r)}):e.includes("boolean")?Array.from(t.target.selectedOptions).map(n=>{let r=n.value||n.text;return fy(r)}):Array.from(t.target.selectedOptions).map(n=>n.value||n.text);{let n;return JL(s)?t.target.checked?n=t.target.value:n=i:n=t.target.value,e.includes("number")?Bb(n):e.includes("boolean")?fy(n):e.includes("trim")?n.trim():n}}})}function Bb(s){let e=s?parseFloat(s):null;return OV(e)?e:s}function FV(s,e){return s==e}function OV(s){return!Array.isArray(s)&&!isNaN(s)}function B2(s){return s!==null&&typeof s=="object"&&typeof s.get=="function"&&typeof s.set=="function"}ya("cloak",s=>queueMicrotask(()=>Wn(()=>s.removeAttribute(Gd("cloak")))));VL(()=>`[${Gd("init")}]`);ya("init",mh((s,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));ya("text",(s,{expression:e},{effect:t,evaluateLater:i})=>{let n=i(e);t(()=>{n(r=>{Wn(()=>{s.textContent=r})})})});ya("html",(s,{expression:e},{effect:t,evaluateLater:i})=>{let n=i(e);t(()=>{n(r=>{Wn(()=>{s.innerHTML=r,s._x_ignoreSelf=!0,sl(s),delete s._x_ignoreSelf})})})});y1(IL(":",DL(Gd("bind:"))));var wE=(s,{value:e,modifiers:t,expression:i,original:n},{effect:r,cleanup:o})=>{if(!e){let d={};V$(d),Sr(s,i)(g=>{nE(s,g,n)},{scope:d});return}if(e==="key")return BV(s,i);if(s._x_inlineBindings&&s._x_inlineBindings[e]&&s._x_inlineBindings[e].extract)return;let a=Sr(s,i);r(()=>a(d=>{d===void 0&&typeof i=="string"&&i.match(/\./)&&(d=""),Wn(()=>qL(s,e,d,t))})),o(()=>{s._x_undoAddedClasses&&s._x_undoAddedClasses(),s._x_undoAddedStyles&&s._x_undoAddedStyles()})};wE.inline=(s,{value:e,modifiers:t,expression:i})=>{e&&(s._x_inlineBindings||(s._x_inlineBindings={}),s._x_inlineBindings[e]={expression:i,extract:!1})};ya("bind",wE);function BV(s,e){s._x_keyExpression=e}$L(()=>`[${Gd("data")}]`);ya("data",(s,{expression:e},{cleanup:t})=>{if(jV(s))return;e=e===""?"{}":e;let i={};X0(i,s);let n={};G$(n,i);let r=Ou(s,e,{scope:n});(r===void 0||r===!0)&&(r={}),X0(r,s);let o=Vd(r);wL(o);let a=zm(s,o);o.init&&Ou(s,o.init),t(()=>{o.destroy&&Ou(s,o.destroy),a()})});cx((s,e)=>{s._x_dataStack&&(e._x_dataStack=s._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function jV(s){return uh?ew?!0:s.hasAttribute("data-has-alpine-state"):!1}ya("show",(s,{modifiers:e,expression:t},{effect:i})=>{let n=Sr(s,t);s._x_doHide||(s._x_doHide=()=>{Wn(()=>{s.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),s._x_doShow||(s._x_doShow=()=>{Wn(()=>{s.style.length===1&&s.style.display==="none"?s.removeAttribute("style"):s.style.removeProperty("display")})});let r=()=>{s._x_doHide(),s._x_isShown=!1},o=()=>{s._x_doShow(),s._x_isShown=!0},a=()=>setTimeout(o),d=J0(x=>x?o():r(),x=>{typeof s._x_toggleAndCascadeWithTransitions=="function"?s._x_toggleAndCascadeWithTransitions(s,x,o,r):x?a():r()}),p,g=!0;i(()=>n(x=>{!g&&x===p||(e.includes("immediate")&&(x?a():r()),d(x),p=x,g=!1)}))});ya("for",(s,{expression:e},{effect:t,cleanup:i})=>{let n=$V(e),r=Sr(s,n.items),o=Sr(s,s._x_keyExpression||"index");s._x_prevKeys=[],s._x_lookup={},t(()=>NV(s,n,r,o)),i(()=>{Object.values(s._x_lookup).forEach(a=>Wn(()=>{Wd(a),a.remove()})),delete s._x_prevKeys,delete s._x_lookup})});function NV(s,e,t,i){let n=o=>typeof o=="object"&&!Array.isArray(o),r=s;t(o=>{VV(o)&&o>=0&&(o=Array.from(Array(o).keys(),D=>D+1)),o===void 0&&(o=[]);let a=s._x_lookup,d=s._x_prevKeys,p=[],g=[];if(n(o))o=Object.entries(o).map(([D,O])=>{let N=j2(e,O,D,o);i(H=>{g.includes(H)&&Ls("Duplicate key on x-for",s),g.push(H)},{scope:{index:D,...N}}),p.push(N)});else for(let D=0;D<o.length;D++){let O=j2(e,o[D],D,o);i(N=>{g.includes(N)&&Ls("Duplicate key on x-for",s),g.push(N)},{scope:{index:D,...O}}),p.push(O)}let x=[],w=[],S=[],E=[];for(let D=0;D<d.length;D++){let O=d[D];g.indexOf(O)===-1&&S.push(O)}d=d.filter(D=>!S.includes(D));let M="template";for(let D=0;D<g.length;D++){let O=g[D],N=d.indexOf(O);if(N===-1)d.splice(D,0,O),x.push([M,D]);else if(N!==D){let H=d.splice(D,1)[0],X=d.splice(N-1,1)[0];d.splice(D,0,X),d.splice(N,0,H),w.push([H,X])}else E.push(O);M=O}for(let D=0;D<S.length;D++){let O=S[D];O in a&&(Wn(()=>{Wd(a[O]),a[O].remove()}),delete a[O])}for(let D=0;D<w.length;D++){let[O,N]=w[D],H=a[O],X=a[N],U=document.createElement("div");Wn(()=>{X||Ls('x-for ":key" is undefined or invalid',r,N,a),X.after(U),H.after(X),X._x_currentIfEl&&X.after(X._x_currentIfEl),U.before(H),H._x_currentIfEl&&H.after(H._x_currentIfEl),U.remove()}),X._x_refreshXForScope(p[g.indexOf(N)])}for(let D=0;D<x.length;D++){let[O,N]=x[D],H=O==="template"?r:a[O];H._x_currentIfEl&&(H=H._x_currentIfEl);let X=p[N],U=g[N],Q=document.importNode(r.content,!0).firstElementChild,Y=Vd(X);zm(Q,Y,r),Q._x_refreshXForScope=te=>{Object.entries(te).forEach(([se,ce])=>{Y[se]=ce})},Wn(()=>{H.after(Q),mh(()=>sl(Q))()}),typeof U=="object"&&Ls("x-for key cannot be an object, it must be a string or an integer",r),a[U]=Q}for(let D=0;D<E.length;D++)a[E[D]]._x_refreshXForScope(p[g.indexOf(E[D])]);r._x_prevKeys=g})}function $V(s){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,n=s.match(i);if(!n)return;let r={};r.items=n[2].trim();let o=n[1].replace(t,"").trim(),a=o.match(e);return a?(r.item=o.replace(e,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=o,r}function j2(s,e,t,i){let n={};return/^\[.*\]$/.test(s.item)&&Array.isArray(e)?s.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{n[o]=e[a]}):/^\{.*\}$/.test(s.item)&&!Array.isArray(e)&&typeof e=="object"?s.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{n[o]=e[o]}):n[s.item]=e,s.index&&(n[s.index]=t),s.collection&&(n[s.collection]=i),n}function VV(s){return!Array.isArray(s)&&!isNaN(s)}function kE(){}kE.inline=(s,{expression:e},{cleanup:t})=>{let i=hx(s);i._x_refs||(i._x_refs={}),i._x_refs[e]=s,t(()=>delete i._x_refs[e])};ya("ref",kE);ya("if",(s,{expression:e},{effect:t,cleanup:i})=>{s.tagName.toLowerCase()!=="template"&&Ls("x-if can only be used on a <template> tag",s);let n=Sr(s,e),r=()=>{if(s._x_currentIfEl)return s._x_currentIfEl;let a=s.content.cloneNode(!0).firstElementChild;return zm(a,{},s),Wn(()=>{s.after(a),mh(()=>sl(a))()}),s._x_currentIfEl=a,s._x_undoIf=()=>{Wn(()=>{Wd(a),a.remove()}),delete s._x_currentIfEl},a},o=()=>{s._x_undoIf&&(s._x_undoIf(),delete s._x_undoIf)};t(()=>n(a=>{a?r():o()})),i(()=>s._x_undoIf&&s._x_undoIf())});ya("id",(s,{expression:e},{evaluate:t})=>{t(e).forEach(n=>MV(s,n))});cx((s,e)=>{s._x_ids&&(e._x_ids=s._x_ids)});y1(IL("@",DL(Gd("on:"))));ya("on",mh((s,{value:e,modifiers:t,expression:i},{cleanup:n})=>{let r=i?Sr(s,i):()=>{};s.tagName.toLowerCase()==="template"&&(s._x_forwardEvents||(s._x_forwardEvents=[]),s._x_forwardEvents.includes(e)||s._x_forwardEvents.push(e));let o=aw(s,e,t,a=>{r(()=>{},{scope:{$event:a},params:[a]})});n(()=>o())}));mx("Collapse","collapse","collapse");mx("Intersect","intersect","intersect");mx("Focus","trap","focus");mx("Mask","mask","mask");function mx(s,e,t){ya(e,i=>Ls(`You can't use [x-${e}] without first installing the "${s}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}Fm.setEvaluator(ML);Fm.setReactivityEngine({reactive:L1,effect:eV,release:tV,raw:An});var HV=Fm,gx=HV;function GV(s){s.directive("intersect",s.skipDuringClone((e,{value:t,expression:i,modifiers:n},{evaluateLater:r,cleanup:o})=>{let a=r(i),d={rootMargin:XV(n),threshold:UV(n)},p=new IntersectionObserver(g=>{g.forEach(x=>{x.isIntersecting!==(t==="leave")&&(a(),n.includes("once")&&p.disconnect())})},d);p.observe(e),o(()=>{p.disconnect()})}))}function UV(s){if(s.includes("full"))return .99;if(s.includes("half"))return .5;if(!s.includes("threshold"))return 0;let e=s[s.indexOf("threshold")+1];return e==="100"?1:e==="0"?0:+`.${e}`}function WV(s){let e=s.match(/^(-?[0-9]+)(px|%)?$/);return e?e[1]+(e[2]||"px"):void 0}function XV(s){const e="margin",t="0px 0px 0px 0px",i=s.indexOf(e);if(i===-1)return t;let n=[];for(let r=1;r<5;r++)n.push(WV(s[i+r]||""));return n=n.filter(r=>r!==void 0),n.length?n.join(" ").trim():t}var qV=GV;const YV=()=>({active:0,shown:!1,init(){},setActive(s){this.active=s},reveal(){this.shown=!0}});window.L=YD;kw.registerPlugin(ki);window.gsap=kw;window.ScrollTrigger=ki;window.maplibregl=QD;window.Chart=qw;gx.plugin(qV);gx.data("cultureSection",YV);window.Alpine=gx;gx.start();
