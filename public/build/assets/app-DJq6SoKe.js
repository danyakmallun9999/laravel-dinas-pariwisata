const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/editorjs-CmR3fKEd.js","assets/leaflet-src-eHmD5uJa.js"])))=>i.map(i=>d[i]);
import{g as TS,c as xr,L as oh}from"./leaflet-src-eHmD5uJa.js";function QN(a,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in a)){const r=Object.getOwnPropertyDescriptor(i,n);r&&Object.defineProperty(a,n,r.get?r:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}const jN="modulepreload",VN=function(a){return"/build/"+a},Sk={},GN=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");n=u(t.map(d=>{if(d=VN(d),d in Sk)return;Sk[d]=!0;const g=d.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":jN,g||(b.as="script"),b.crossOrigin="",b.href=d,s&&b.setAttribute("nonce",s),document.head.appendChild(b),g)return new Promise((S,P)=>{b.addEventListener("load",S),b.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return n.then(o=>{for(const s of o||[])s.status==="rejected"&&r(s.reason);return e().catch(r)})};var Gx={exports:{}};var WN=Gx.exports,Bk;function $N(){return Bk||(Bk=1,(function(a,e){(function(t,i){a.exports=i()})(WN,(function(){var t={},i={};function n(o,s,u){if(i[o]=u,o==="index"){var d="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",g={};return i.shared(g),i.index(t,g),typeof window<"u"&&t.setWorkerUrl(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"}))),t}}n("shared",["exports"],(function(o){function s(f,l,h,m){return new(h||(h=Promise))((function(v,B){function E(G){try{N(m.next(G))}catch(K){B(K)}}function D(G){try{N(m.throw(G))}catch(K){B(K)}}function N(G){var K;G.done?v(G.value):(K=G.value,K instanceof h?K:new h((function(ae){ae(K)}))).then(E,D)}N((m=m.apply(f,l||[])).next())}))}function u(f,l){this.x=f,this.y=l}function d(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var g,x;typeof SuppressedError=="function"&&SuppressedError,u.prototype={clone(){return new u(this.x,this.y)},add(f){return this.clone()._add(f)},sub(f){return this.clone()._sub(f)},multByPoint(f){return this.clone()._multByPoint(f)},divByPoint(f){return this.clone()._divByPoint(f)},mult(f){return this.clone()._mult(f)},div(f){return this.clone()._div(f)},rotate(f){return this.clone()._rotate(f)},rotateAround(f,l){return this.clone()._rotateAround(f,l)},matMult(f){return this.clone()._matMult(f)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(f){return this.x===f.x&&this.y===f.y},dist(f){return Math.sqrt(this.distSqr(f))},distSqr(f){const l=f.x-this.x,h=f.y-this.y;return l*l+h*h},angle(){return Math.atan2(this.y,this.x)},angleTo(f){return Math.atan2(this.y-f.y,this.x-f.x)},angleWith(f){return this.angleWithSep(f.x,f.y)},angleWithSep(f,l){return Math.atan2(this.x*l-this.y*f,this.x*f+this.y*l)},_matMult(f){const l=f[2]*this.x+f[3]*this.y;return this.x=f[0]*this.x+f[1]*this.y,this.y=l,this},_add(f){return this.x+=f.x,this.y+=f.y,this},_sub(f){return this.x-=f.x,this.y-=f.y,this},_mult(f){return this.x*=f,this.y*=f,this},_div(f){return this.x/=f,this.y/=f,this},_multByPoint(f){return this.x*=f.x,this.y*=f.y,this},_divByPoint(f){return this.x/=f.x,this.y/=f.y,this},_unit(){return this._div(this.mag()),this},_perp(){const f=this.y;return this.y=this.x,this.x=-f,this},_rotate(f){const l=Math.cos(f),h=Math.sin(f),m=h*this.x+l*this.y;return this.x=l*this.x-h*this.y,this.y=m,this},_rotateAround(f,l){const h=Math.cos(f),m=Math.sin(f),v=l.y+m*(this.x-l.x)+h*(this.y-l.y);return this.x=l.x+h*(this.x-l.x)-m*(this.y-l.y),this.y=v,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:u},u.convert=function(f){if(f instanceof u)return f;if(Array.isArray(f))return new u(+f[0],+f[1]);if(f.x!==void 0&&f.y!==void 0)return new u(+f.x,+f.y);throw new Error("Expected [x, y] or {x, y} point format")};var b=(function(){if(x)return g;function f(l,h,m,v){this.cx=3*l,this.bx=3*(m-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(v-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=m,this.p2y=v}return x=1,g=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var m=l,v=0;v<8;v++){var B=this.sampleCurveX(m)-l;if(Math.abs(B)<h)return m;var E=this.sampleCurveDerivativeX(m);if(Math.abs(E)<1e-6)break;m-=B/E}var D=0,N=1;for(m=l,v=0;v<20&&(B=this.sampleCurveX(m),!(Math.abs(B-l)<h));v++)l>B?D=m:N=m,m=.5*(N-D)+D;return m},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},g})(),S=d(b);let P,I;function O(){return P==null&&(P=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),P}function H(){if(I==null&&(I=!1,O())){const l=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(l){for(let m=0;m<25;m++){const v=4*m;l.fillStyle=`rgb(${v},${v+1},${v+2})`,l.fillRect(m%5,Math.floor(m/5),1,1)}const h=l.getImageData(0,0,5,5).data;for(let m=0;m<100;m++)if(m%4!=3&&h[m]!==m){I=!0;break}}}return I||!1}var Q=1e-6,Y=typeof Float32Array<"u"?Float32Array:Array;function Z(){var f=new Y(9);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function J(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f}function re(){var f=new Y(3);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f}function q(f){var l=f[0],h=f[1],m=f[2];return Math.sqrt(l*l+h*h+m*m)}function ne(f,l,h){var m=new Y(3);return m[0]=f,m[1]=l,m[2]=h,m}function te(f,l,h){return f[0]=l[0]+h[0],f[1]=l[1]+h[1],f[2]=l[2]+h[2],f}function he(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f}function ve(f,l,h){var m=l[0],v=l[1],B=l[2],E=h[0],D=h[1],N=h[2];return f[0]=v*N-B*D,f[1]=B*E-m*N,f[2]=m*D-v*E,f}var de,be=q;function De(f,l,h){var m=l[0],v=l[1],B=l[2],E=l[3];return f[0]=h[0]*m+h[4]*v+h[8]*B+h[12]*E,f[1]=h[1]*m+h[5]*v+h[9]*B+h[13]*E,f[2]=h[2]*m+h[6]*v+h[10]*B+h[14]*E,f[3]=h[3]*m+h[7]*v+h[11]*B+h[15]*E,f}function Ie(){var f=new Y(4);return Y!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0),f[3]=1,f}function nt(f,l,h,m){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",B=Math.PI/360;l*=B,m*=B,h*=B;var E=Math.sin(l),D=Math.cos(l),N=Math.sin(h),G=Math.cos(h),K=Math.sin(m),ae=Math.cos(m);switch(v){case"xyz":f[0]=E*G*ae+D*N*K,f[1]=D*N*ae-E*G*K,f[2]=D*G*K+E*N*ae,f[3]=D*G*ae-E*N*K;break;case"xzy":f[0]=E*G*ae-D*N*K,f[1]=D*N*ae-E*G*K,f[2]=D*G*K+E*N*ae,f[3]=D*G*ae+E*N*K;break;case"yxz":f[0]=E*G*ae+D*N*K,f[1]=D*N*ae-E*G*K,f[2]=D*G*K-E*N*ae,f[3]=D*G*ae+E*N*K;break;case"yzx":f[0]=E*G*ae+D*N*K,f[1]=D*N*ae+E*G*K,f[2]=D*G*K-E*N*ae,f[3]=D*G*ae-E*N*K;break;case"zxy":f[0]=E*G*ae-D*N*K,f[1]=D*N*ae+E*G*K,f[2]=D*G*K+E*N*ae,f[3]=D*G*ae-E*N*K;break;case"zyx":f[0]=E*G*ae-D*N*K,f[1]=D*N*ae+E*G*K,f[2]=D*G*K-E*N*ae,f[3]=D*G*ae+E*N*K;break;default:throw new Error("Unknown angle order "+v)}return f}function je(){var f=new Y(2);return Y!=Float32Array&&(f[0]=0,f[1]=0),f}function dt(f,l){var h=new Y(2);return h[0]=f,h[1]=l,h}re(),de=new Y(4),Y!=Float32Array&&(de[0]=0,de[1]=0,de[2]=0,de[3]=0),re(),ne(1,0,0),ne(0,1,0),Ie(),Ie(),Z(),je();const Mt=8192;function We(f,l,h){return l*(Mt/(f.tileSize*Math.pow(2,h-f.tileID.overscaledZ)))}function Pt(f,l){return(f%l+l)%l}function Kt(f,l,h){return f*(1-h)+l*h}function di(f){if(f<=0)return 0;if(f>=1)return 1;const l=f*f,h=l*f;return 4*(f<.5?h:3*(f-l)+h-.75)}function It(f,l,h,m){const v=new S(f,l,h,m);return B=>v.solve(B)}const bt=It(.25,.1,.25,1);function mt(f,l,h){return Math.min(h,Math.max(l,f))}function si(f,l,h){const m=h-l,v=((f-l)%m+m)%m+l;return v===l?h:v}function gi(f,...l){for(const h of l)for(const m in h)f[m]=h[m];return f}let Vi=1;function Ii(f,l,h){const m={};for(const v in f)m[v]=l.call(this,f[v],v,f);return m}function oi(f,l,h){const m={};for(const v in f)l.call(this,f[v],v,f)&&(m[v]=f[v]);return m}function fn(f){return Array.isArray(f)?f.map(fn):typeof f=="object"&&f?Ii(f,fn):f}const Mi={};function Ji(f){Mi[f]||(typeof console<"u"&&console.warn(f),Mi[f]=!0)}function rn(f,l,h){return(h.y-f.y)*(l.x-f.x)>(l.y-f.y)*(h.x-f.x)}function xn(f){return typeof WorkerGlobalScope<"u"&&f!==void 0&&f instanceof WorkerGlobalScope}let Ye=null;function Yt(f){return typeof ImageBitmap<"u"&&f instanceof ImageBitmap}const ci="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Oi(f,l,h,m,v){return s(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const B=new VideoFrame(f,{timestamp:0});try{const E=B?.format;if(!E||!E.startsWith("BGR")&&!E.startsWith("RGB"))throw new Error(`Unrecognized format ${E}`);const D=E.startsWith("BGR"),N=new Uint8ClampedArray(m*v*4);if(yield B.copyTo(N,(function(G,K,ae,le,ce){const pe=4*Math.max(-K,0),me=(Math.max(0,ae)-ae)*le*4+pe,_e=4*le,Le=Math.max(0,K),Je=Math.max(0,ae);return{rect:{x:Le,y:Je,width:Math.min(G.width,K+le)-Le,height:Math.min(G.height,ae+ce)-Je},layout:[{offset:me,stride:_e}]}})(f,l,h,m,v)),D)for(let G=0;G<N.length;G+=4){const K=N[G];N[G]=N[G+2],N[G+2]=K}return N}finally{B.close()}}))}let ui,$i;function wi(f,l,h,m){return f.addEventListener(l,h,m),{unsubscribe:()=>{f.removeEventListener(l,h,m)}}}function Ei(f){return f*Math.PI/180}function Fi(f){return f/Math.PI*180}const ft={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},xe={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},we="AbortError";class Ee extends Error{constructor(l=we){super(l instanceof Error?l.message:l),this.name=we,l instanceof Error&&l.stack&&(this.stack=l.stack)}}function tt(f){return f.name===we}const st={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ct(f){return st.REGISTERED_PROTOCOLS[f.substring(0,f.indexOf("://"))]}const yt="global-dispatcher";class Ve extends Error{constructor(l,h,m,v){super(`AJAXError: ${h} (${l}): ${m}`),this.status=l,this.statusText=h,this.url=m,this.body=v}}const xt=()=>xn(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,jt=function(f,l){if(/:\/\//.test(f.url)&&!/^https?:|^file:/.test(f.url)){const m=Ct(f.url);if(m)return m(f,l);if(xn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,targetMapId:yt},l)}if(!(/^file:/.test(h=f.url)||/^file:/.test(xt())&&!/^\w+:/.test(h))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(m,v){return s(this,void 0,void 0,(function*(){const B=new Request(m.url,{method:m.method||"GET",body:m.body,credentials:m.credentials,headers:m.headers,cache:m.cache,referrer:xt(),signal:v.signal});let E,D;m.type!=="json"||B.headers.has("Accept")||B.headers.set("Accept","application/json");try{E=yield fetch(B)}catch(G){throw tt(G)?G:new Ve(0,G.message,m.url,new Blob)}if(!E.ok){const G=yield E.blob();throw new Ve(E.status,E.statusText,m.url,G)}D=m.type==="arrayBuffer"||m.type==="image"?E.arrayBuffer():m.type==="json"?E.json():E.text();const N=yield D;return v.signal.throwIfAborted(),{data:N,cacheControl:E.headers.get("Cache-Control"),expires:E.headers.get("Expires")}}))})(f,l);if(xn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:f,mustQueue:!0,targetMapId:yt},l)}var h;return(function(m,v){return new Promise(((B,E)=>{var D;const N=new XMLHttpRequest;N.open(m.method||"GET",m.url,!0),m.type!=="arrayBuffer"&&m.type!=="image"||(N.responseType="arraybuffer");for(const G in m.headers)N.setRequestHeader(G,m.headers[G]);m.type==="json"&&(N.responseType="text",!((D=m.headers)===null||D===void 0)&&D.Accept||N.setRequestHeader("Accept","application/json")),N.withCredentials=m.credentials==="include",N.onerror=()=>{E(new Error(N.statusText))},N.onload=()=>{if(!v.signal.aborted)if((N.status>=200&&N.status<300||N.status===0)&&N.response!==null){let G=N.response;if(m.type==="json")try{G=JSON.parse(N.response)}catch(K){return void E(K)}B({data:G,cacheControl:N.getResponseHeader("Cache-Control"),expires:N.getResponseHeader("Expires")})}else{const G=new Blob([N.response],{type:N.getResponseHeader("Content-Type")});E(new Ve(N.status,N.statusText,m.url,G))}},v.signal.addEventListener("abort",(()=>{N.abort(),E(new Ee(v.signal.reason))})),N.send(m.body)}))})(f,l)};function kt(f){if(!f||f.indexOf("://")<=0||f.indexOf("data:image/")===0||f.indexOf("blob:")===0)return!0;const l=new URL(f),h=window.location;return l.protocol===h.protocol&&l.host===h.host}function Lt(f,l,h){h[f]&&h[f].indexOf(l)!==-1||(h[f]=h[f]||[],h[f].push(l))}function ai(f,l,h){if(h&&h[f]){const m=h[f].indexOf(l);m!==-1&&h[f].splice(m,1)}}class bi{constructor(l,h={}){gi(this,h),this.type=l}}class Bi extends bi{constructor(l,h={}){super("error",gi({error:l},h))}}class In{on(l,h){return this._listeners=this._listeners||{},Lt(l,h,this._listeners),{unsubscribe:()=>{this.off(l,h)}}}off(l,h){return ai(l,h,this._listeners),ai(l,h,this._oneTimeListeners),this}once(l,h){return h?(this._oneTimeListeners=this._oneTimeListeners||{},Lt(l,h,this._oneTimeListeners),this):new Promise((m=>this.once(l,m)))}fire(l,h){typeof l=="string"&&(l=new bi(l,h||{}));const m=l.type;if(this.listens(m)){l.target=this;const v=this._listeners&&this._listeners[m]?this._listeners[m].slice():[];for(const D of v)D.call(this,l);const B=this._oneTimeListeners&&this._oneTimeListeners[m]?this._oneTimeListeners[m].slice():[];for(const D of B)ai(m,D,this._oneTimeListeners),D.call(this,l);const E=this._eventedParent;E&&(gi(l,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),E.fire(l))}else l instanceof Bi&&console.error(l.error);return this}listens(l){return this._listeners&&this._listeners[l]&&this._listeners[l].length>0||this._oneTimeListeners&&this._oneTimeListeners[l]&&this._oneTimeListeners[l].length>0||this._eventedParent&&this._eventedParent.listens(l)}setEventedParent(l,h){return this._eventedParent=l,this._eventedParentData=h,this}}var Tt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};const Dn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Kn(f,l){const h={};for(const m in f)m!=="ref"&&(h[m]=f[m]);return Dn.forEach((m=>{m in l&&(h[m]=l[m])})),h}function yn(f,l){if(Array.isArray(f)){if(!Array.isArray(l)||f.length!==l.length)return!1;for(let h=0;h<f.length;h++)if(!yn(f[h],l[h]))return!1;return!0}if(typeof f=="object"&&f!==null&&l!==null){if(typeof l!="object"||Object.keys(f).length!==Object.keys(l).length)return!1;for(const h in f)if(!yn(f[h],l[h]))return!1;return!0}return f===l}function An(f,l){f.push(l)}function Ni(f,l,h){An(h,{command:"addSource",args:[f,l[f]]})}function Di(f,l,h){An(l,{command:"removeSource",args:[f]}),h[f]=!0}function gn(f,l,h,m){Di(f,h,m),Ni(f,l,h)}function fi(f,l,h){let m;for(m in f[h])if(Object.prototype.hasOwnProperty.call(f[h],m)&&m!=="data"&&!yn(f[h][m],l[h][m]))return!1;for(m in l[h])if(Object.prototype.hasOwnProperty.call(l[h],m)&&m!=="data"&&!yn(f[h][m],l[h][m]))return!1;return!0}function Xi(f,l,h,m,v,B){f=f||{},l=l||{};for(const E in f)Object.prototype.hasOwnProperty.call(f,E)&&(yn(f[E],l[E])||h.push({command:B,args:[m,E,l[E],v]}));for(const E in l)Object.prototype.hasOwnProperty.call(l,E)&&!Object.prototype.hasOwnProperty.call(f,E)&&(yn(f[E],l[E])||h.push({command:B,args:[m,E,l[E],v]}))}function sn(f){return f.id}function Ue(f,l){return f[l.id]=l,f}class Re{constructor(l,h,m,v){this.message=(l?`${l}: `:"")+m,v&&(this.identifier=v),h!=null&&h.__line__&&(this.line=h.__line__)}}function _t(f,...l){for(const h of l)for(const m in h)f[m]=h[m];return f}class ut extends Error{constructor(l,h){super(h),this.message=h,this.key=l}}class Jt{constructor(l,h=[]){this.parent=l,this.bindings={};for(const[m,v]of h)this.bindings[m]=v}concat(l){return new Jt(this,l)}get(l){if(this.bindings[l])return this.bindings[l];if(this.parent)return this.parent.get(l);throw new Error(`${l} not found in scope.`)}has(l){return!!this.bindings[l]||!!this.parent&&this.parent.has(l)}}const ni={kind:"null"},pt={kind:"number"},Gt={kind:"string"},ti={kind:"boolean"},Ci={kind:"color"},pn={kind:"projectionDefinition"},Gi={kind:"object"},ki={kind:"value"},Hi={kind:"collator"},Yi={kind:"formatted"},on={kind:"padding"},ha={kind:"colorArray"},_n={kind:"numberArray"},Wn={kind:"resolvedImage"},qt={kind:"variableAnchorOffsetCollection"};function Ma(f,l){return{kind:"array",itemType:f,N:l}}function nn(f){if(f.kind==="array"){const l=nn(f.itemType);return typeof f.N=="number"?`array<${l}, ${f.N}>`:f.itemType.kind==="value"?"array":`array<${l}>`}return f.kind}const Ja=[ni,pt,Gt,ti,Ci,pn,Yi,Gi,Ma(ki),on,_n,ha,Wn,qt];function nr(f,l){if(l.kind==="error")return null;if(f.kind==="array"){if(l.kind==="array"&&(l.N===0&&l.itemType.kind==="value"||!nr(f.itemType,l.itemType))&&(typeof f.N!="number"||f.N===l.N))return null}else{if(f.kind===l.kind)return null;if(f.kind==="value"){for(const h of Ja)if(!nr(h,l))return null}}return`Expected ${nn(f)} but found ${nn(l)} instead.`}function qn(f,l){return l.some((h=>h.kind===f.kind))}function Zn(f,l){return l.some((h=>h==="null"?f===null:h==="array"?Array.isArray(f):h==="object"?f&&!Array.isArray(f)&&typeof f=="object":h===typeof f))}function Cn(f,l){return f.kind==="array"&&l.kind==="array"?f.itemType.kind===l.itemType.kind&&typeof f.N=="number":f.kind===l.kind}const Xo=.96422,vn=.82521,Is=4/29,Hn=6/29,ds=3*Hn*Hn,fs=Hn*Hn*Hn,fa=Math.PI/180,Xa=180/Math.PI;function nc(f){return(f%=360)<0&&(f+=360),f}function Po([f,l,h,m]){let v,B;const E=dr((.2225045*(f=Ea(f))+.7168786*(l=Ea(l))+.0606169*(h=Ea(h)))/1);f===l&&l===h?v=B=E:(v=dr((.4360747*f+.3850649*l+.1430804*h)/Xo),B=dr((.0139322*f+.0971045*l+.7141733*h)/vn));const D=116*E-16;return[D<0?0:D,500*(v-E),200*(E-B),m]}function Ea(f){return f<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function dr(f){return f>fs?Math.pow(f,1/3):f/ds+Is}function Dt([f,l,h,m]){let v=(f+16)/116,B=isNaN(l)?v:v+l/500,E=isNaN(h)?v:v-h/200;return v=1*Mn(v),B=Xo*Mn(B),E=vn*Mn(E),[ze(3.1338561*B-1.6168667*v-.4906146*E),ze(-.9787684*B+1.9161415*v+.033454*E),ze(.0719453*B-.2289914*v+1.4052427*E),m]}function ze(f){return(f=f<=.00304?12.92*f:1.055*Math.pow(f,1/2.4)-.055)<0?0:f>1?1:f}function Mn(f){return f>Hn?f*f*f:ds*(f-Is)}const fr=Object.hasOwn||function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};function Lr(f,l){return fr(f,l)?f[l]:void 0}function Fr(f){return parseInt(f.padEnd(2,f),16)/255}function Fl(f,l){return Ar(l?f/100:f,0,1)}function Ar(f,l,h){return Math.min(Math.max(l,f),h)}function Nn(f){return!f.some(Number.isNaN)}const Ua={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function br(f,l,h){return f+h*(l-f)}function Cr(f,l,h){return f.map(((m,v)=>br(m,l[v],h)))}class mn{constructor(l,h,m,v=1,B=!0){this.r=l,this.g=h,this.b=m,this.a=v,B||(this.r*=v,this.g*=v,this.b*=v,v||this.overwriteGetter("rgb",[l,h,m,v]))}static parse(l){if(l instanceof mn)return l;if(typeof l!="string")return;const h=(function(m){if((m=m.toLowerCase().trim())==="transparent")return[0,0,0,0];const v=Lr(Ua,m);if(v){const[E,D,N]=v;return[E/255,D/255,N/255,1]}if(m.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(m)){const E=m.length<6?1:2;let D=1;return[Fr(m.slice(D,D+=E)),Fr(m.slice(D,D+=E)),Fr(m.slice(D,D+=E)),Fr(m.slice(D,D+E)||"ff")]}if(m.startsWith("rgb")){const E=m.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(E){const[D,N,G,K,ae,le,ce,pe,me,_e,Le,Je]=E,Pe=[K||" ",ce||" ",_e].join("");if(Pe==="  "||Pe==="  /"||Pe===",,"||Pe===",,,"){const Oe=[G,le,me].join(""),it=Oe==="%%%"?100:Oe===""?255:0;if(it){const lt=[Ar(+N/it,0,1),Ar(+ae/it,0,1),Ar(+pe/it,0,1),Le?Fl(+Le,Je):1];if(Nn(lt))return lt}}return}}const B=m.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(B){const[E,D,N,G,K,ae,le,ce,pe]=B,me=[N||" ",K||" ",le].join("");if(me==="  "||me==="  /"||me===",,"||me===",,,"){const _e=[+D,Ar(+G,0,100),Ar(+ae,0,100),ce?Fl(+ce,pe):1];if(Nn(_e))return(function([Le,Je,Pe,Oe]){function it(lt){const Rt=(lt+Le/30)%12,ri=Je*Math.min(Pe,1-Pe);return Pe-ri*Math.max(-1,Math.min(Rt-3,9-Rt,1))}return Le=nc(Le),Je/=100,Pe/=100,[it(0),it(8),it(4),Oe]})(_e)}}})(l);return h?new mn(...h,!1):void 0}get rgb(){const{r:l,g:h,b:m,a:v}=this,B=v||1/0;return this.overwriteGetter("rgb",[l/B,h/B,m/B,v])}get hcl(){return this.overwriteGetter("hcl",(function(l){const[h,m,v,B]=Po(l),E=Math.sqrt(m*m+v*v);return[Math.round(1e4*E)?nc(Math.atan2(v,m)*Xa):NaN,E,h,B]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Po(this.rgb))}overwriteGetter(l,h){return Object.defineProperty(this,l,{value:h}),h}toString(){const[l,h,m,v]=this.rgb;return`rgba(${[l,h,m].map((B=>Math.round(255*B))).join(",")},${v})`}static interpolate(l,h,m,v="rgb"){switch(v){case"rgb":{const[B,E,D,N]=Cr(l.rgb,h.rgb,m);return new mn(B,E,D,N,!1)}case"hcl":{const[B,E,D,N]=l.hcl,[G,K,ae,le]=h.hcl;let ce,pe;if(isNaN(B)||isNaN(G))isNaN(B)?isNaN(G)?ce=NaN:(ce=G,D!==1&&D!==0||(pe=K)):(ce=B,ae!==1&&ae!==0||(pe=E));else{let Pe=G-B;G>B&&Pe>180?Pe-=360:G<B&&B-G>180&&(Pe+=360),ce=B+m*Pe}const[me,_e,Le,Je]=(function([Pe,Oe,it,lt]){return Pe=isNaN(Pe)?0:Pe*fa,Dt([it,Math.cos(Pe)*Oe,Math.sin(Pe)*Oe,lt])})([ce,pe??br(E,K,m),br(D,ae,m),br(N,le,m)]);return new mn(me,_e,Le,Je,!1)}case"lab":{const[B,E,D,N]=Dt(Cr(l.lab,h.lab,m));return new mn(B,E,D,N,!1)}}}}mn.black=new mn(0,0,0,1),mn.white=new mn(1,1,1,1),mn.transparent=new mn(0,0,0,0),mn.red=new mn(1,0,0,1);class eo{constructor(l,h,m){this.sensitivity=l?h?"variant":"case":h?"accent":"base",this.locale=m,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(l,h){return this.collator.compare(l,h)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Yo=["bottom","center","top"];class Jn{constructor(l,h,m,v,B,E){this.text=l,this.image=h,this.scale=m,this.fontStack=v,this.textColor=B,this.verticalAlign=E}}class na{constructor(l){this.sections=l}static fromString(l){return new na([new Jn(l,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((l=>l.text.length!==0||l.image&&l.image.name.length!==0))}static factory(l){return l instanceof na?l:na.fromString(l)}toString(){return this.sections.length===0?"":this.sections.map((l=>l.text)).join("")}}class ar{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ar)return l;if(typeof l=="number")return new ar([l,l,l,l]);if(Array.isArray(l)&&!(l.length<1||l.length>4)){for(const h of l)if(typeof h!="number")return;switch(l.length){case 1:l=[l[0],l[0],l[0],l[0]];break;case 2:l=[l[0],l[1],l[0],l[1]];break;case 3:l=[l[0],l[1],l[2],l[1]]}return new ar(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,m){return new ar(Cr(l.values,h.values,m))}}class ia{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ia)return l;if(typeof l=="number")return new ia([l]);if(Array.isArray(l)){for(const h of l)if(typeof h!="number")return;return new ia(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,m){return new ia(Cr(l.values,h.values,m))}}class _i{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof _i)return l;if(typeof l=="string"){const m=mn.parse(l);return m?new _i([m]):void 0}if(!Array.isArray(l))return;const h=[];for(const m of l){if(typeof m!="string")return;const v=mn.parse(m);if(!v)return;h.push(v)}return new _i(h)}toString(){return JSON.stringify(this.values)}static interpolate(l,h,m,v="rgb"){const B=[];if(l.values.length!=h.values.length)throw new Error(`colorArray: Arrays have mismatched length (${l.values.length} vs. ${h.values.length}), cannot interpolate.`);for(let E=0;E<l.values.length;E++)B.push(mn.interpolate(l.values[E],h.values[E],m,v));return new _i(B)}}class Na extends Error{constructor(l){super(l),this.name="RuntimeError"}toJSON(){return this.message}}const $n=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ge{constructor(l){this.values=l.slice()}static parse(l){if(l instanceof ge)return l;if(Array.isArray(l)&&!(l.length<1)&&l.length%2==0){for(let h=0;h<l.length;h+=2){const m=l[h],v=l[h+1];if(typeof m!="string"||!$n.has(m)||!Array.isArray(v)||v.length!==2||typeof v[0]!="number"||typeof v[1]!="number")return}return new ge(l)}}toString(){return JSON.stringify(this.values)}static interpolate(l,h,m){const v=l.values,B=h.values;if(v.length!==B.length)throw new Na(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${h.toString()}`);const E=[];for(let D=0;D<v.length;D+=2){if(v[D]!==B[D])throw new Na(`Cannot interpolate values containing mismatched anchors. from[${D}]: ${v[D]}, to[${D}]: ${B[D]}`);E.push(v[D]);const[N,G]=v[D+1],[K,ae]=B[D+1];E.push([br(N,K,m),br(G,ae,m)])}return new ge(E)}}class Ce{constructor(l){this.name=l.name,this.available=l.available}toString(){return this.name}static fromString(l){return l?new Ce({name:l,available:!1}):null}}class Me{constructor(l,h,m){this.from=l,this.to=h,this.transition=m}static interpolate(l,h,m){return new Me(l,h,m)}static parse(l){return l instanceof Me?l:Array.isArray(l)&&l.length===3&&typeof l[0]=="string"&&typeof l[1]=="string"&&typeof l[2]=="number"?new Me(l[0],l[1],l[2]):typeof l=="object"&&typeof l.from=="string"&&typeof l.to=="string"&&typeof l.transition=="number"?new Me(l.from,l.to,l.transition):typeof l=="string"?new Me(l,l,1):void 0}}function qe(f,l,h,m){return typeof f=="number"&&f>=0&&f<=255&&typeof l=="number"&&l>=0&&l<=255&&typeof h=="number"&&h>=0&&h<=255?m===void 0||typeof m=="number"&&m>=0&&m<=1?null:`Invalid rgba value [${[f,l,h,m].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof m=="number"?[f,l,h,m]:[f,l,h]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function $e(f){if(f===null||typeof f=="string"||typeof f=="boolean"||typeof f=="number"||f instanceof Me||f instanceof mn||f instanceof eo||f instanceof na||f instanceof ar||f instanceof ia||f instanceof _i||f instanceof ge||f instanceof Ce)return!0;if(Array.isArray(f)){for(const l of f)if(!$e(l))return!1;return!0}if(typeof f=="object"){for(const l in f)if(!$e(f[l]))return!1;return!0}return!1}function Bt(f){if(f===null)return ni;if(typeof f=="string")return Gt;if(typeof f=="boolean")return ti;if(typeof f=="number")return pt;if(f instanceof mn)return Ci;if(f instanceof Me)return pn;if(f instanceof eo)return Hi;if(f instanceof na)return Yi;if(f instanceof ar)return on;if(f instanceof ia)return _n;if(f instanceof _i)return ha;if(f instanceof ge)return qt;if(f instanceof Ce)return Wn;if(Array.isArray(f)){const l=f.length;let h;for(const m of f){const v=Bt(m);if(h){if(h===v)continue;h=ki;break}h=v}return Ma(h||ki,l)}return Gi}function Qt(f){const l=typeof f;return f===null?"":l==="string"||l==="number"||l==="boolean"?String(f):f instanceof mn||f instanceof Me||f instanceof na||f instanceof ar||f instanceof ia||f instanceof _i||f instanceof ge||f instanceof Ce?f.toString():JSON.stringify(f)}class Ft{constructor(l,h){this.type=l,this.value=h}static parse(l,h){if(l.length!==2)return h.error(`'literal' expression requires exactly one argument, but found ${l.length-1} instead.`);if(!$e(l[1]))return h.error("invalid value");const m=l[1];let v=Bt(m);const B=h.expectedType;return v.kind!=="array"||v.N!==0||!B||B.kind!=="array"||typeof B.N=="number"&&B.N!==0||(v=B),new Ft(v,m)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const li={string:Gt,number:pt,boolean:ti,object:Gi};class Qi{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let m,v=1;const B=l[0];if(B==="array"){let D,N;if(l.length>2){const G=l[1];if(typeof G!="string"||!(G in li)||G==="object")return h.error('The item type argument of "array" must be one of string, number, boolean',1);D=li[G],v++}else D=ki;if(l.length>3){if(l[2]!==null&&(typeof l[2]!="number"||l[2]<0||l[2]!==Math.floor(l[2])))return h.error('The length argument to "array" must be a positive integer literal',2);N=l[2],v++}m=Ma(D,N)}else{if(!li[B])throw new Error(`Types doesn't contain name = ${B}`);m=li[B]}const E=[];for(;v<l.length;v++){const D=h.parse(l[v],v,ki);if(!D)return null;E.push(D)}return new Qi(m,E)}evaluate(l){for(let h=0;h<this.args.length;h++){const m=this.args[h].evaluate(l);if(!nr(this.type,Bt(m)))return m;if(h===this.args.length-1)throw new Na(`Expected value to be of type ${nn(this.type)}, but found ${nn(Bt(m))} instead.`)}throw new Error}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const cn={"to-boolean":ti,"to-color":Ci,"to-number":pt,"to-string":Gt};class Ln{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const m=l[0];if(!cn[m])throw new Error(`Can't parse ${m} as it is not part of the known types`);if((m==="to-boolean"||m==="to-string")&&l.length!==2)return h.error("Expected one argument.");const v=cn[m],B=[];for(let E=1;E<l.length;E++){const D=h.parse(l[E],E,ki);if(!D)return null;B.push(D)}return new Ln(v,B)}evaluate(l){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(l);case"color":{let h,m;for(const v of this.args){if(h=v.evaluate(l),m=null,h instanceof mn)return h;if(typeof h=="string"){const B=l.parseColor(h);if(B)return B}else if(Array.isArray(h)&&(m=h.length<3||h.length>4?`Invalid rgba value ${JSON.stringify(h)}: expected an array containing either three or four numeric values.`:qe(h[0],h[1],h[2],h[3]),!m))return new mn(h[0]/255,h[1]/255,h[2]/255,h[3])}throw new Na(m||`Could not parse color from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"padding":{let h;for(const m of this.args){h=m.evaluate(l);const v=ar.parse(h);if(v)return v}throw new Na(`Could not parse padding from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"numberArray":{let h;for(const m of this.args){h=m.evaluate(l);const v=ia.parse(h);if(v)return v}throw new Na(`Could not parse numberArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"colorArray":{let h;for(const m of this.args){h=m.evaluate(l);const v=_i.parse(h);if(v)return v}throw new Na(`Could not parse colorArray from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"variableAnchorOffsetCollection":{let h;for(const m of this.args){h=m.evaluate(l);const v=ge.parse(h);if(v)return v}throw new Na(`Could not parse variableAnchorOffsetCollection from value '${typeof h=="string"?h:JSON.stringify(h)}'`)}case"number":{let h=null;for(const m of this.args){if(h=m.evaluate(l),h===null)return 0;const v=Number(h);if(!isNaN(v))return v}throw new Na(`Could not convert ${JSON.stringify(h)} to number.`)}case"formatted":return na.fromString(Qt(this.args[0].evaluate(l)));case"resolvedImage":return Ce.fromString(Qt(this.args[0].evaluate(l)));case"projectionDefinition":return this.args[0].evaluate(l);default:return Qt(this.args[0].evaluate(l))}}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}const ra=["Unknown","Point","LineString","Polygon"];class pa{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ra[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(l){let h=this._parseColorCache.get(l);return h||(h=mn.parse(l),this._parseColorCache.set(l,h)),h}}class sa{constructor(l,h,m=[],v,B=new Jt,E=[]){this.registry=l,this.path=m,this.key=m.map((D=>`[${D}]`)).join(""),this.scope=B,this.errors=E,this.expectedType=v,this._isConstant=h}parse(l,h,m,v,B={}){return h?this.concat(h,m,v)._parse(l,B):this._parse(l,B)}_parse(l,h){function m(v,B,E){return E==="assert"?new Qi(B,[v]):E==="coerce"?new Ln(B,[v]):v}if(l!==null&&typeof l!="string"&&typeof l!="boolean"&&typeof l!="number"||(l=["literal",l]),Array.isArray(l)){if(l.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const v=l[0];if(typeof v!="string")return this.error(`Expression name must be a string, but found ${typeof v} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const B=this.registry[v];if(B){let E=B.parse(l,this);if(!E)return null;if(this.expectedType){const D=this.expectedType,N=E.type;if(D.kind!=="string"&&D.kind!=="number"&&D.kind!=="boolean"&&D.kind!=="object"&&D.kind!=="array"||N.kind!=="value"){if(D.kind==="projectionDefinition"&&["string","array"].includes(N.kind)||["color","formatted","resolvedImage"].includes(D.kind)&&["value","string"].includes(N.kind)||["padding","numberArray"].includes(D.kind)&&["value","number","array"].includes(N.kind)||D.kind==="colorArray"&&["value","string","array"].includes(N.kind)||D.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(N.kind))E=m(E,D,h.typeAnnotation||"coerce");else if(this.checkSubtype(D,N))return null}else E=m(E,D,h.typeAnnotation||"assert")}if(!(E instanceof Ft)&&E.type.kind!=="resolvedImage"&&this._isConstant(E)){const D=new pa;try{E=new Ft(E.type,E.evaluate(D))}catch(N){return this.error(N.message),null}}return E}return this.error(`Unknown expression "${v}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(l===void 0?"'undefined' value invalid. Use null instead.":typeof l=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof l} instead.`)}concat(l,h,m){const v=typeof l=="number"?this.path.concat(l):this.path,B=m?this.scope.concat(m):this.scope;return new sa(this.registry,this._isConstant,v,h||null,B,this.errors)}error(l,...h){const m=`${this.key}${h.map((v=>`[${v}]`)).join("")}`;this.errors.push(new ut(m,l))}checkSubtype(l,h){const m=nr(l,h);return m&&this.error(m),m}}class Un{constructor(l,h){this.type=h.type,this.bindings=[].concat(l),this.result=h}evaluate(l){return this.result.evaluate(l)}eachChild(l){for(const h of this.bindings)l(h[1]);l(this.result)}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found ${l.length-1} instead.`);const m=[];for(let B=1;B<l.length-1;B+=2){const E=l[B];if(typeof E!="string")return h.error(`Expected string, but found ${typeof E} instead.`,B);if(/[^a-zA-Z0-9_]/.test(E))return h.error("Variable names must contain only alphanumeric characters or '_'.",B);const D=h.parse(l[B+1],B+1);if(!D)return null;m.push([E,D])}const v=h.parse(l[l.length-1],l.length-1,h.expectedType,m);return v?new Un(m,v):null}outputDefined(){return this.result.outputDefined()}}class ja{constructor(l,h){this.type=h.type,this.name=l,this.boundExpression=h}static parse(l,h){if(l.length!==2||typeof l[1]!="string")return h.error("'var' expression requires exactly one string literal argument.");const m=l[1];return h.scope.has(m)?new ja(m,h.scope.get(m)):h.error(`Unknown variable "${m}". Make sure "${m}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(l){return this.boundExpression.evaluate(l)}eachChild(){}outputDefined(){return!1}}class Vn{constructor(l,h,m){this.type=l,this.index=h,this.input=m}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=h.parse(l[1],1,pt),v=h.parse(l[2],2,Ma(h.expectedType||ki));return m&&v?new Vn(v.type.itemType,m,v):null}evaluate(l){const h=this.index.evaluate(l),m=this.input.evaluate(l);if(h<0)throw new Na(`Array index out of bounds: ${h} < 0.`);if(h>=m.length)throw new Na(`Array index out of bounds: ${h} > ${m.length-1}.`);if(h!==Math.floor(h))throw new Na(`Array index must be an integer, but found ${h} instead.`);return m[h]}eachChild(l){l(this.index),l(this.input)}outputDefined(){return!1}}class an{constructor(l,h){this.type=ti,this.needle=l,this.haystack=h}static parse(l,h){if(l.length!==3)return h.error(`Expected 2 arguments, but found ${l.length-1} instead.`);const m=h.parse(l[1],1,ki),v=h.parse(l[2],2,ki);return m&&v?qn(m.type,[ti,Gt,pt,ni,ki])?new an(m,v):h.error(`Expected first argument to be of type boolean, string, number or null, but found ${nn(m.type)} instead`):null}evaluate(l){const h=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!m)return!1;if(!Zn(h,["boolean","string","number","null"]))throw new Na(`Expected first argument to be of type boolean, string, number or null, but found ${nn(Bt(h))} instead.`);if(!Zn(m,["string","array"]))throw new Na(`Expected second argument to be of type array or string, but found ${nn(Bt(m))} instead.`);return m.indexOf(h)>=0}eachChild(l){l(this.needle),l(this.haystack)}outputDefined(){return!0}}class ca{constructor(l,h,m){this.type=pt,this.needle=l,this.haystack=h,this.fromIndex=m}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const m=h.parse(l[1],1,ki),v=h.parse(l[2],2,ki);if(!m||!v)return null;if(!qn(m.type,[ti,Gt,pt,ni,ki]))return h.error(`Expected first argument to be of type boolean, string, number or null, but found ${nn(m.type)} instead`);if(l.length===4){const B=h.parse(l[3],3,pt);return B?new ca(m,v,B):null}return new ca(m,v)}evaluate(l){const h=this.needle.evaluate(l),m=this.haystack.evaluate(l);if(!Zn(h,["boolean","string","number","null"]))throw new Na(`Expected first argument to be of type boolean, string, number or null, but found ${nn(Bt(h))} instead.`);let v;if(this.fromIndex&&(v=this.fromIndex.evaluate(l)),Zn(m,["string"])){const B=m.indexOf(h,v);return B===-1?-1:[...m.slice(0,B)].length}if(Zn(m,["array"]))return m.indexOf(h,v);throw new Na(`Expected second argument to be of type array or string, but found ${nn(Bt(m))} instead.`)}eachChild(l){l(this.needle),l(this.haystack),this.fromIndex&&l(this.fromIndex)}outputDefined(){return!1}}class aa{constructor(l,h,m,v,B,E){this.inputType=l,this.type=h,this.input=m,this.cases=v,this.outputs=B,this.otherwise=E}static parse(l,h){if(l.length<5)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if(l.length%2!=1)return h.error("Expected an even number of arguments.");let m,v;h.expectedType&&h.expectedType.kind!=="value"&&(v=h.expectedType);const B={},E=[];for(let G=2;G<l.length-1;G+=2){let K=l[G];const ae=l[G+1];Array.isArray(K)||(K=[K]);const le=h.concat(G);if(K.length===0)return le.error("Expected at least one branch label.");for(const pe of K){if(typeof pe!="number"&&typeof pe!="string")return le.error("Branch labels must be numbers or strings.");if(typeof pe=="number"&&Math.abs(pe)>Number.MAX_SAFE_INTEGER)return le.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof pe=="number"&&Math.floor(pe)!==pe)return le.error("Numeric branch labels must be integer values.");if(m){if(le.checkSubtype(m,Bt(pe)))return null}else m=Bt(pe);if(B[String(pe)]!==void 0)return le.error("Branch labels must be unique.");B[String(pe)]=E.length}const ce=h.parse(ae,G,v);if(!ce)return null;v=v||ce.type,E.push(ce)}const D=h.parse(l[1],1,ki);if(!D)return null;const N=h.parse(l[l.length-1],l.length-1,v);return N?D.type.kind!=="value"&&h.concat(1).checkSubtype(m,D.type)?null:new aa(m,v,D,B,E,N):null}evaluate(l){const h=this.input.evaluate(l);return(Bt(h)===this.inputType&&this.outputs[this.cases[h]]||this.otherwise).evaluate(l)}eachChild(l){l(this.input),this.outputs.forEach(l),l(this.otherwise)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))&&this.otherwise.outputDefined()}}class Sr{constructor(l,h,m){this.type=l,this.branches=h,this.otherwise=m}static parse(l,h){if(l.length<4)return h.error(`Expected at least 3 arguments, but found only ${l.length-1}.`);if(l.length%2!=0)return h.error("Expected an odd number of arguments.");let m;h.expectedType&&h.expectedType.kind!=="value"&&(m=h.expectedType);const v=[];for(let E=1;E<l.length-1;E+=2){const D=h.parse(l[E],E,ti);if(!D)return null;const N=h.parse(l[E+1],E+1,m);if(!N)return null;v.push([D,N]),m=m||N.type}const B=h.parse(l[l.length-1],l.length-1,m);if(!B)return null;if(!m)throw new Error("Can't infer output type");return new Sr(m,v,B)}evaluate(l){for(const[h,m]of this.branches)if(h.evaluate(l))return m.evaluate(l);return this.otherwise.evaluate(l)}eachChild(l){for(const[h,m]of this.branches)l(h),l(m);l(this.otherwise)}outputDefined(){return this.branches.every((([l,h])=>h.outputDefined()))&&this.otherwise.outputDefined()}}class wa{constructor(l,h,m,v){this.type=l,this.input=h,this.beginIndex=m,this.endIndex=v}static parse(l,h){if(l.length<=2||l.length>=5)return h.error(`Expected 2 or 3 arguments, but found ${l.length-1} instead.`);const m=h.parse(l[1],1,ki),v=h.parse(l[2],2,pt);if(!m||!v)return null;if(!qn(m.type,[Ma(ki),Gt,ki]))return h.error(`Expected first argument to be of type array or string, but found ${nn(m.type)} instead`);if(l.length===4){const B=h.parse(l[3],3,pt);return B?new wa(m.type,m,v,B):null}return new wa(m.type,m,v)}evaluate(l){const h=this.input.evaluate(l),m=this.beginIndex.evaluate(l);let v;if(this.endIndex&&(v=this.endIndex.evaluate(l)),Zn(h,["string"]))return[...h].slice(m,v).join("");if(Zn(h,["array"]))return h.slice(m,v);throw new Na(`Expected first argument to be of type array or string, but found ${nn(Bt(h))} instead.`)}eachChild(l){l(this.input),l(this.beginIndex),this.endIndex&&l(this.endIndex)}outputDefined(){return!1}}function Va(f,l){const h=f.length-1;let m,v,B=0,E=h,D=0;for(;B<=E;)if(D=Math.floor((B+E)/2),m=f[D],v=f[D+1],m<=l){if(D===h||l<v)return D;B=D+1}else{if(!(m>l))throw new Na("Input is not a number.");E=D-1}return 0}class Wt{constructor(l,h,m){this.type=l,this.input=h,this.labels=[],this.outputs=[];for(const[v,B]of m)this.labels.push(v),this.outputs.push(B)}static parse(l,h){if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");const m=h.parse(l[1],1,pt);if(!m)return null;const v=[];let B=null;h.expectedType&&h.expectedType.kind!=="value"&&(B=h.expectedType);for(let E=1;E<l.length;E+=2){const D=E===1?-1/0:l[E],N=l[E+1],G=E,K=E+1;if(typeof D!="number")return h.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',G);if(v.length&&v[v.length-1][0]>=D)return h.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',G);const ae=h.parse(N,K,B);if(!ae)return null;B=B||ae.type,v.push([D,ae])}return new Wt(B,m,v)}evaluate(l){const h=this.labels,m=this.outputs;if(h.length===1)return m[0].evaluate(l);const v=this.input.evaluate(l);if(v<=h[0])return m[0].evaluate(l);const B=h.length;return v>=h[B-1]?m[B-1].evaluate(l):m[Va(h,v)].evaluate(l)}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Tn(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var ea,ka,xo=(function(){if(ka)return ea;function f(l,h,m,v){this.cx=3*l,this.bx=3*(m-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(v-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=h,this.p2x=m,this.p2y=v}return ka=1,ea=f,f.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,h){if(h===void 0&&(h=1e-6),l<0)return 0;if(l>1)return 1;for(var m=l,v=0;v<8;v++){var B=this.sampleCurveX(m)-l;if(Math.abs(B)<h)return m;var E=this.sampleCurveDerivativeX(m);if(Math.abs(E)<1e-6)break;m-=B/E}var D=0,N=1;for(m=l,v=0;v<20&&(B=this.sampleCurveX(m),!(Math.abs(B-l)<h));v++)l>B?D=m:N=m,m=.5*(N-D)+D;return m},solve:function(l,h){return this.sampleCurveY(this.solveCurveX(l,h))}},ea})(),Ko=Tn(xo);class rr{constructor(l,h,m,v,B){this.type=l,this.operator=h,this.interpolation=m,this.input=v,this.labels=[],this.outputs=[];for(const[E,D]of B)this.labels.push(E),this.outputs.push(D)}static interpolationFactor(l,h,m,v){let B=0;if(l.name==="exponential")B=Ms(h,l.base,m,v);else if(l.name==="linear")B=Ms(h,1,m,v);else if(l.name==="cubic-bezier"){const E=l.controlPoints;B=new Ko(E[0],E[1],E[2],E[3]).solve(Ms(h,1,m,v))}return B}static parse(l,h){let[m,v,B,...E]=l;if(!Array.isArray(v)||v.length===0)return h.error("Expected an interpolation type expression.",1);if(v[0]==="linear")v={name:"linear"};else if(v[0]==="exponential"){const G=v[1];if(typeof G!="number")return h.error("Exponential interpolation requires a numeric base.",1,1);v={name:"exponential",base:G}}else{if(v[0]!=="cubic-bezier")return h.error(`Unknown interpolation type ${String(v[0])}`,1,0);{const G=v.slice(1);if(G.length!==4||G.some((K=>typeof K!="number"||K<0||K>1)))return h.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);v={name:"cubic-bezier",controlPoints:G}}}if(l.length-1<4)return h.error(`Expected at least 4 arguments, but found only ${l.length-1}.`);if((l.length-1)%2!=0)return h.error("Expected an even number of arguments.");if(B=h.parse(B,2,pt),!B)return null;const D=[];let N=null;m!=="interpolate-hcl"&&m!=="interpolate-lab"||h.expectedType==ha?h.expectedType&&h.expectedType.kind!=="value"&&(N=h.expectedType):N=Ci;for(let G=0;G<E.length;G+=2){const K=E[G],ae=E[G+1],le=G+3,ce=G+4;if(typeof K!="number")return h.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',le);if(D.length&&D[D.length-1][0]>=K)return h.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',le);const pe=h.parse(ae,ce,N);if(!pe)return null;N=N||pe.type,D.push([K,pe])}return Cn(N,pt)||Cn(N,pn)||Cn(N,Ci)||Cn(N,on)||Cn(N,_n)||Cn(N,ha)||Cn(N,qt)||Cn(N,Ma(pt))?new rr(N,m,v,B,D):h.error(`Type ${nn(N)} is not interpolatable.`)}evaluate(l){const h=this.labels,m=this.outputs;if(h.length===1)return m[0].evaluate(l);const v=this.input.evaluate(l);if(v<=h[0])return m[0].evaluate(l);const B=h.length;if(v>=h[B-1])return m[B-1].evaluate(l);const E=Va(h,v),D=rr.interpolationFactor(this.interpolation,v,h[E],h[E+1]),N=m[E].evaluate(l),G=m[E+1].evaluate(l);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return br(N,G,D);case"color":return mn.interpolate(N,G,D);case"padding":return ar.interpolate(N,G,D);case"colorArray":return _i.interpolate(N,G,D);case"numberArray":return ia.interpolate(N,G,D);case"variableAnchorOffsetCollection":return ge.interpolate(N,G,D);case"array":return Cr(N,G,D);case"projectionDefinition":return Me.interpolate(N,G,D)}case"interpolate-hcl":switch(this.type.kind){case"color":return mn.interpolate(N,G,D,"hcl");case"colorArray":return _i.interpolate(N,G,D,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return mn.interpolate(N,G,D,"lab");case"colorArray":return _i.interpolate(N,G,D,"lab")}}}eachChild(l){l(this.input);for(const h of this.outputs)l(h)}outputDefined(){return this.outputs.every((l=>l.outputDefined()))}}function Ms(f,l,h,m){const v=m-h,B=f-h;return v===0?0:l===1?B/v:(Math.pow(l,B)-1)/(Math.pow(l,v)-1)}const ba={color:mn.interpolate,number:br,padding:ar.interpolate,numberArray:ia.interpolate,colorArray:_i.interpolate,variableAnchorOffsetCollection:ge.interpolate,array:Cr};class er{constructor(l,h){this.type=l,this.args=h}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");let m=null;const v=h.expectedType;v&&v.kind!=="value"&&(m=v);const B=[];for(const D of l.slice(1)){const N=h.parse(D,1+B.length,m,void 0,{typeAnnotation:"omit"});if(!N)return null;m=m||N.type,B.push(N)}if(!m)throw new Error("No output type");const E=v&&B.some((D=>nr(v,D.type)));return new er(E?ki:m,B)}evaluate(l){let h,m=null,v=0;for(const B of this.args)if(v++,m=B.evaluate(l),m&&m instanceof Ce&&!m.available&&(h||(h=m.name),m=null,v===this.args.length&&(m=h)),m!==null)break;return m}eachChild(l){this.args.forEach(l)}outputDefined(){return this.args.every((l=>l.outputDefined()))}}function Do(f,l){return f==="=="||f==="!="?l.kind==="boolean"||l.kind==="string"||l.kind==="number"||l.kind==="null"||l.kind==="value":l.kind==="string"||l.kind==="number"||l.kind==="value"}function Ya(f,l,h,m){return m.compare(l,h)===0}function sr(f,l,h){const m=f!=="=="&&f!=="!=";return class MF{constructor(B,E,D){this.type=ti,this.lhs=B,this.rhs=E,this.collator=D,this.hasUntypedArgument=B.type.kind==="value"||E.type.kind==="value"}static parse(B,E){if(B.length!==3&&B.length!==4)return E.error("Expected two or three arguments.");const D=B[0];let N=E.parse(B[1],1,ki);if(!N)return null;if(!Do(D,N.type))return E.concat(1).error(`"${D}" comparisons are not supported for type '${nn(N.type)}'.`);let G=E.parse(B[2],2,ki);if(!G)return null;if(!Do(D,G.type))return E.concat(2).error(`"${D}" comparisons are not supported for type '${nn(G.type)}'.`);if(N.type.kind!==G.type.kind&&N.type.kind!=="value"&&G.type.kind!=="value")return E.error(`Cannot compare types '${nn(N.type)}' and '${nn(G.type)}'.`);m&&(N.type.kind==="value"&&G.type.kind!=="value"?N=new Qi(G.type,[N]):N.type.kind!=="value"&&G.type.kind==="value"&&(G=new Qi(N.type,[G])));let K=null;if(B.length===4){if(N.type.kind!=="string"&&G.type.kind!=="string"&&N.type.kind!=="value"&&G.type.kind!=="value")return E.error("Cannot use collator to compare non-string types.");if(K=E.parse(B[3],3,Hi),!K)return null}return new MF(N,G,K)}evaluate(B){const E=this.lhs.evaluate(B),D=this.rhs.evaluate(B);if(m&&this.hasUntypedArgument){const N=Bt(E),G=Bt(D);if(N.kind!==G.kind||N.kind!=="string"&&N.kind!=="number")throw new Na(`Expected arguments for "${f}" to be (string, string) or (number, number), but found (${N.kind}, ${G.kind}) instead.`)}if(this.collator&&!m&&this.hasUntypedArgument){const N=Bt(E),G=Bt(D);if(N.kind!=="string"||G.kind!=="string")return l(B,E,D)}return this.collator?h(B,E,D,this.collator.evaluate(B)):l(B,E,D)}eachChild(B){B(this.lhs),B(this.rhs),this.collator&&B(this.collator)}outputDefined(){return!0}}}const _o=sr("==",(function(f,l,h){return l===h}),Ya),Ta=sr("!=",(function(f,l,h){return l!==h}),(function(f,l,h,m){return!Ya(0,l,h,m)})),Qn=sr("<",(function(f,l,h){return l<h}),(function(f,l,h,m){return m.compare(l,h)<0})),Lu=sr(">",(function(f,l,h){return l>h}),(function(f,l,h,m){return m.compare(l,h)>0})),Aa=sr("<=",(function(f,l,h){return l<=h}),(function(f,l,h,m){return m.compare(l,h)<=0})),Xr=sr(">=",(function(f,l,h){return l>=h}),(function(f,l,h,m){return m.compare(l,h)>=0}));class Hr{constructor(l,h,m){this.type=Hi,this.locale=m,this.caseSensitive=l,this.diacriticSensitive=h}static parse(l,h){if(l.length!==2)return h.error("Expected one argument.");const m=l[1];if(typeof m!="object"||Array.isArray(m))return h.error("Collator options argument must be an object.");const v=h.parse(m["case-sensitive"]!==void 0&&m["case-sensitive"],1,ti);if(!v)return null;const B=h.parse(m["diacritic-sensitive"]!==void 0&&m["diacritic-sensitive"],1,ti);if(!B)return null;let E=null;return m.locale&&(E=h.parse(m.locale,1,Gt),!E)?null:new Hr(v,B,E)}evaluate(l){return new eo(this.caseSensitive.evaluate(l),this.diacriticSensitive.evaluate(l),this.locale?this.locale.evaluate(l):null)}eachChild(l){l(this.caseSensitive),l(this.diacriticSensitive),this.locale&&l(this.locale)}outputDefined(){return!1}}class Vs{constructor(l,h,m,v,B){this.type=Gt,this.number=l,this.locale=h,this.currency=m,this.minFractionDigits=v,this.maxFractionDigits=B}static parse(l,h){if(l.length!==3)return h.error("Expected two arguments.");const m=h.parse(l[1],1,pt);if(!m)return null;const v=l[2];if(typeof v!="object"||Array.isArray(v))return h.error("NumberFormat options argument must be an object.");let B=null;if(v.locale&&(B=h.parse(v.locale,1,Gt),!B))return null;let E=null;if(v.currency&&(E=h.parse(v.currency,1,Gt),!E))return null;let D=null;if(v["min-fraction-digits"]&&(D=h.parse(v["min-fraction-digits"],1,pt),!D))return null;let N=null;return v["max-fraction-digits"]&&(N=h.parse(v["max-fraction-digits"],1,pt),!N)?null:new Vs(m,B,E,D,N)}evaluate(l){return new Intl.NumberFormat(this.locale?this.locale.evaluate(l):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(l):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(l):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(l):void 0}).format(this.number.evaluate(l))}eachChild(l){l(this.number),this.locale&&l(this.locale),this.currency&&l(this.currency),this.minFractionDigits&&l(this.minFractionDigits),this.maxFractionDigits&&l(this.maxFractionDigits)}outputDefined(){return!1}}class lr{constructor(l){this.type=Yi,this.sections=l}static parse(l,h){if(l.length<2)return h.error("Expected at least one argument.");const m=l[1];if(!Array.isArray(m)&&typeof m=="object")return h.error("First argument must be an image or text section.");const v=[];let B=!1;for(let E=1;E<=l.length-1;++E){const D=l[E];if(B&&typeof D=="object"&&!Array.isArray(D)){B=!1;let N=null;if(D["font-scale"]&&(N=h.parse(D["font-scale"],1,pt),!N))return null;let G=null;if(D["text-font"]&&(G=h.parse(D["text-font"],1,Ma(Gt)),!G))return null;let K=null;if(D["text-color"]&&(K=h.parse(D["text-color"],1,Ci),!K))return null;let ae=null;if(D["vertical-align"]){if(typeof D["vertical-align"]=="string"&&!Yo.includes(D["vertical-align"]))return h.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${D["vertical-align"]}' instead.`);if(ae=h.parse(D["vertical-align"],1,Gt),!ae)return null}const le=v[v.length-1];le.scale=N,le.font=G,le.textColor=K,le.verticalAlign=ae}else{const N=h.parse(l[E],1,ki);if(!N)return null;const G=N.type.kind;if(G!=="string"&&G!=="value"&&G!=="null"&&G!=="resolvedImage")return h.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");B=!0,v.push({content:N,scale:null,font:null,textColor:null,verticalAlign:null})}}return new lr(v)}evaluate(l){return new na(this.sections.map((h=>{const m=h.content.evaluate(l);return Bt(m)===Wn?new Jn("",m,null,null,null,h.verticalAlign?h.verticalAlign.evaluate(l):null):new Jn(Qt(m),null,h.scale?h.scale.evaluate(l):null,h.font?h.font.evaluate(l).join(","):null,h.textColor?h.textColor.evaluate(l):null,h.verticalAlign?h.verticalAlign.evaluate(l):null)})))}eachChild(l){for(const h of this.sections)l(h.content),h.scale&&l(h.scale),h.font&&l(h.font),h.textColor&&l(h.textColor),h.verticalAlign&&l(h.verticalAlign)}outputDefined(){return!1}}class Ls{constructor(l){this.type=Wn,this.input=l}static parse(l,h){if(l.length!==2)return h.error("Expected two arguments.");const m=h.parse(l[1],1,Gt);return m?new Ls(m):h.error("No image name provided.")}evaluate(l){const h=this.input.evaluate(l),m=Ce.fromString(h);return m&&l.availableImages&&(m.available=l.availableImages.indexOf(h)>-1),m}eachChild(l){l(this.input)}outputDefined(){return!1}}class Pl{constructor(l){this.type=pt,this.input=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=h.parse(l[1],1);return m?m.type.kind!=="array"&&m.type.kind!=="string"&&m.type.kind!=="value"?h.error(`Expected argument of type string or array, but found ${nn(m.type)} instead.`):new Pl(m):null}evaluate(l){const h=this.input.evaluate(l);if(typeof h=="string")return[...h].length;if(Array.isArray(h))return h.length;throw new Na(`Expected value to be of type string or array, but found ${nn(Bt(h))} instead.`)}eachChild(l){l(this.input)}outputDefined(){return!1}}const Pr=8192;function bh(f,l){const h=(180+f[0])/360,m=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f[1]*Math.PI/360)))/360,v=Math.pow(2,l.z);return[Math.round(h*v*Pr),Math.round(m*v*Pr)]}function Dl(f,l){const h=Math.pow(2,l.z);return[(v=(f[0]/Pr+l.x)/h,360*v-180),(m=(f[1]/Pr+l.y)/h,360/Math.PI*Math.atan(Math.exp((180-360*m)*Math.PI/180))-90)];var m,v}function ru(f,l){f[0]=Math.min(f[0],l[0]),f[1]=Math.min(f[1],l[1]),f[2]=Math.max(f[2],l[0]),f[3]=Math.max(f[3],l[1])}function vo(f,l){return!(f[0]<=l[0]||f[2]>=l[2]||f[1]<=l[1]||f[3]>=l[3])}function Fu(f,l,h){const m=f[0]-l[0],v=f[1]-l[1],B=f[0]-h[0],E=f[1]-h[1];return m*E-B*v==0&&m*B<=0&&v*E<=0}function su(f,l,h,m){return(v=[m[0]-h[0],m[1]-h[1]])[0]*(B=[l[0]-f[0],l[1]-f[1]])[1]-v[1]*B[0]!=0&&!(!Pu(f,l,h,m)||!Pu(h,m,f,l));var v,B}function ou(f,l,h){for(const m of h)for(let v=0;v<m.length-1;++v)if(su(f,l,m[v],m[v+1]))return!0;return!1}function Fc(f,l,h=!1){let m=!1;for(const D of l)for(let N=0;N<D.length-1;N++){if(Fu(f,D[N],D[N+1]))return h;(B=D[N])[1]>(v=f)[1]!=(E=D[N+1])[1]>v[1]&&v[0]<(E[0]-B[0])*(v[1]-B[1])/(E[1]-B[1])+B[0]&&(m=!m)}var v,B,E;return m}function Ro(f,l){for(const h of l)if(Fc(f,h))return!0;return!1}function qo(f,l){for(const h of f)if(!Fc(h,l))return!1;for(let h=0;h<f.length-1;++h)if(ou(f[h],f[h+1],l))return!1;return!0}function Fs(f,l){for(const h of l)if(qo(f,h))return!0;return!1}function Pu(f,l,h,m){const v=m[0]-h[0],B=m[1]-h[1],E=(f[0]-h[0])*B-v*(f[1]-h[1]),D=(l[0]-h[0])*B-v*(l[1]-h[1]);return E>0&&D<0||E<0&&D>0}function to(f,l,h){const m=[];for(let v=0;v<f.length;v++){const B=[];for(let E=0;E<f[v].length;E++){const D=bh(f[v][E],h);ru(l,D),B.push(D)}m.push(B)}return m}function Du(f,l,h){const m=[];for(let v=0;v<f.length;v++){const B=to(f[v],l,h);m.push(B)}return m}function Ru(f,l,h,m){if(f[0]<h[0]||f[0]>h[2]){const v=.5*m;let B=f[0]-h[0]>v?-m:h[0]-f[0]>v?m:0;B===0&&(B=f[0]-h[2]>v?-m:h[2]-f[0]>v?m:0),f[0]+=B}ru(l,f)}function xd(f,l,h,m){const v=Math.pow(2,m.z)*Pr,B=[m.x*Pr,m.y*Pr],E=[];for(const D of f)for(const N of D){const G=[N.x+B[0],N.y+B[1]];Ru(G,l,h,v),E.push(G)}return E}function Ch(f,l,h,m){const v=Math.pow(2,m.z)*Pr,B=[m.x*Pr,m.y*Pr],E=[];for(const N of f){const G=[];for(const K of N){const ae=[K.x+B[0],K.y+B[1]];ru(l,ae),G.push(ae)}E.push(G)}if(l[2]-l[0]<=v/2){(D=l)[0]=D[1]=1/0,D[2]=D[3]=-1/0;for(const N of E)for(const G of N)Ru(G,l,h,v)}var D;return E}class vs{constructor(l,h){this.type=ti,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'within' expression requires exactly one argument, but found ${l.length-1} instead.`);if($e(l[1])){const m=l[1];if(m.type==="FeatureCollection"){const v=[];for(const B of m.features){const{type:E,coordinates:D}=B.geometry;E==="Polygon"&&v.push(D),E==="MultiPolygon"&&v.push(...D)}if(v.length)return new vs(m,{type:"MultiPolygon",coordinates:v})}else if(m.type==="Feature"){const v=m.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new vs(m,m.geometry)}else if(m.type==="Polygon"||m.type==="MultiPolygon")return new vs(m,m)}return h.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,m){const v=[1/0,1/0,-1/0,-1/0],B=[1/0,1/0,-1/0,-1/0],E=h.canonicalID();if(m.type==="Polygon"){const D=to(m.coordinates,B,E),N=xd(h.geometry(),v,B,E);if(!vo(v,B))return!1;for(const G of N)if(!Fc(G,D))return!1}if(m.type==="MultiPolygon"){const D=Du(m.coordinates,B,E),N=xd(h.geometry(),v,B,E);if(!vo(v,B))return!1;for(const G of N)if(!Ro(G,D))return!1}return!0})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,m){const v=[1/0,1/0,-1/0,-1/0],B=[1/0,1/0,-1/0,-1/0],E=h.canonicalID();if(m.type==="Polygon"){const D=to(m.coordinates,B,E),N=Ch(h.geometry(),v,B,E);if(!vo(v,B))return!1;for(const G of N)if(!qo(G,D))return!1}if(m.type==="MultiPolygon"){const D=Du(m.coordinates,B,E),N=Ch(h.geometry(),v,B,E);if(!vo(v,B))return!1;for(const G of N)if(!Fs(G,D))return!1}return!0})(l,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let _d=class{constructor(f=[],l=(h,m)=>h<m?-1:h>m?1:0){if(this.data=f,this.length=this.data.length,this.compare=l,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(f){this.data.push(f),this._up(this.length++)}pop(){if(this.length===0)return;const f=this.data[0],l=this.data.pop();return--this.length>0&&(this.data[0]=l,this._down(0)),f}peek(){return this.data[0]}_up(f){const{data:l,compare:h}=this,m=l[f];for(;f>0;){const v=f-1>>1,B=l[v];if(h(m,B)>=0)break;l[f]=B,f=v}l[f]=m}_down(f){const{data:l,compare:h}=this,m=this.length>>1,v=l[f];for(;f<m;){let B=1+(f<<1);const E=B+1;if(E<this.length&&h(l[E],l[B])<0&&(B=E),h(l[B],v)>=0)break;l[f]=l[B],f=B}l[f]=v}};function Pc(f,l,h=0,m=f.length-1,v=ga){for(;m>h;){if(m-h>600){const N=m-h+1,G=l-h+1,K=Math.log(N),ae=.5*Math.exp(2*K/3),le=.5*Math.sqrt(K*ae*(N-ae)/N)*(G-N/2<0?-1:1);Pc(f,l,Math.max(h,Math.floor(l-G*ae/N+le)),Math.min(m,Math.floor(l+(N-G)*ae/N+le)),v)}const B=f[l];let E=h,D=m;for(Oo(f,h,l),v(f[m],B)>0&&Oo(f,h,m);E<D;){for(Oo(f,E,D),E++,D--;v(f[E],B)<0;)E++;for(;v(f[D],B)>0;)D--}v(f[h],B)===0?Oo(f,h,D):(D++,Oo(f,D,m)),D<=l&&(h=D+1),l<=D&&(m=D-1)}}function Oo(f,l,h){const m=f[l];f[l]=f[h],f[h]=m}function ga(f,l){return f<l?-1:f>l?1:0}function ac(f,l){if(f.length<=1)return[f];const h=[];let m,v;for(const B of f){const E=p(B);E!==0&&(B.area=Math.abs(E),v===void 0&&(v=E<0),v===E<0?(m&&h.push(m),m=[B]):m.push(B))}if(m&&h.push(m),l>1)for(let B=0;B<h.length;B++)h[B].length<=l||(Pc(h[B],l,1,h[B].length-1,Se),h[B]=h[B].slice(0,l));return h}function Se(f,l){return l.area-f.area}function p(f){let l=0;for(let h,m,v=0,B=f.length,E=B-1;v<B;E=v++)h=f[v],m=f[E],l+=(m.x-h.x)*(h.y+m.y);return l}const y=1/298.257223563,w=y*(2-y),k=Math.PI/180;class T{constructor(l){const h=6378.137*k*1e3,m=Math.cos(l*k),v=1/(1-w*(1-m*m)),B=Math.sqrt(v);this.kx=h*B*m,this.ky=h*B*v*(1-w)}distance(l,h){const m=this.wrap(l[0]-h[0])*this.kx,v=(l[1]-h[1])*this.ky;return Math.sqrt(m*m+v*v)}pointOnLine(l,h){let m,v,B,E,D=1/0;for(let N=0;N<l.length-1;N++){let G=l[N][0],K=l[N][1],ae=this.wrap(l[N+1][0]-G)*this.kx,le=(l[N+1][1]-K)*this.ky,ce=0;ae===0&&le===0||(ce=(this.wrap(h[0]-G)*this.kx*ae+(h[1]-K)*this.ky*le)/(ae*ae+le*le),ce>1?(G=l[N+1][0],K=l[N+1][1]):ce>0&&(G+=ae/this.kx*ce,K+=le/this.ky*ce)),ae=this.wrap(h[0]-G)*this.kx,le=(h[1]-K)*this.ky;const pe=ae*ae+le*le;pe<D&&(D=pe,m=G,v=K,B=N,E=ce)}return{point:[m,v],index:B,t:Math.max(0,Math.min(1,E))}}wrap(l){for(;l<-180;)l+=360;for(;l>180;)l-=360;return l}}function R(f,l){return l[0]-f[0]}function z(f){return f[1]-f[0]+1}function W(f,l){return f[1]>=f[0]&&f[1]<l}function ee(f,l){if(f[0]>f[1])return[null,null];const h=z(f);if(l){if(h===2)return[f,null];const v=Math.floor(h/2);return[[f[0],f[0]+v],[f[0]+v,f[1]]]}if(h===1)return[f,null];const m=Math.floor(h/2)-1;return[[f[0],f[0]+m],[f[0]+m+1,f[1]]]}function Ae(f,l){if(!W(l,f.length))return[1/0,1/0,-1/0,-1/0];const h=[1/0,1/0,-1/0,-1/0];for(let m=l[0];m<=l[1];++m)ru(h,f[m]);return h}function Be(f){const l=[1/0,1/0,-1/0,-1/0];for(const h of f)for(const m of h)ru(l,m);return l}function Fe(f){return f[0]!==-1/0&&f[1]!==-1/0&&f[2]!==1/0&&f[3]!==1/0}function Ke(f,l,h){if(!Fe(f)||!Fe(l))return NaN;let m=0,v=0;return f[2]<l[0]&&(m=l[0]-f[2]),f[0]>l[2]&&(m=f[0]-l[2]),f[1]>l[3]&&(v=f[1]-l[3]),f[3]<l[1]&&(v=l[1]-f[3]),h.distance([0,0],[m,v])}function gt(f,l,h){const m=h.pointOnLine(l,f);return h.distance(f,m.point)}function vt(f,l,h,m,v){const B=Math.min(gt(f,[h,m],v),gt(l,[h,m],v)),E=Math.min(gt(h,[f,l],v),gt(m,[f,l],v));return Math.min(B,E)}function Ot(f,l,h,m,v){if(!W(l,f.length)||!W(m,h.length))return 1/0;let B=1/0;for(let E=l[0];E<l[1];++E){const D=f[E],N=f[E+1];for(let G=m[0];G<m[1];++G){const K=h[G],ae=h[G+1];if(su(D,N,K,ae))return 0;B=Math.min(B,vt(D,N,K,ae,v))}}return B}function Zt(f,l,h,m,v){if(!W(l,f.length)||!W(m,h.length))return NaN;let B=1/0;for(let E=l[0];E<=l[1];++E)for(let D=m[0];D<=m[1];++D)if(B=Math.min(B,v.distance(f[E],h[D])),B===0)return B;return B}function Pi(f,l,h){if(Fc(f,l,!0))return 0;let m=1/0;for(const v of l){const B=v[0],E=v[v.length-1];if(B!==E&&(m=Math.min(m,gt(f,[E,B],h)),m===0))return m;const D=h.pointOnLine(v,f);if(m=Math.min(m,h.distance(f,D.point)),m===0)return m}return m}function Ri(f,l,h,m){if(!W(l,f.length))return NaN;for(let B=l[0];B<=l[1];++B)if(Fc(f[B],h,!0))return 0;let v=1/0;for(let B=l[0];B<l[1];++B){const E=f[B],D=f[B+1];for(const N of h)for(let G=0,K=N.length,ae=K-1;G<K;ae=G++){const le=N[ae],ce=N[G];if(su(E,D,le,ce))return 0;v=Math.min(v,vt(E,D,le,ce,m))}}return v}function Si(f,l){for(const h of f)for(const m of h)if(Fc(m,l,!0))return!0;return!1}function _a(f,l,h,m=1/0){const v=Be(f),B=Be(l);if(m!==1/0&&Ke(v,B,h)>=m)return m;if(vo(v,B)){if(Si(f,l))return 0}else if(Si(l,f))return 0;let E=1/0;for(const D of f)for(let N=0,G=D.length,K=G-1;N<G;K=N++){const ae=D[K],le=D[N];for(const ce of l)for(let pe=0,me=ce.length,_e=me-1;pe<me;_e=pe++){const Le=ce[_e],Je=ce[pe];if(su(ae,le,Le,Je))return 0;E=Math.min(E,vt(ae,le,Le,Je,h))}}return E}function un(f,l,h,m,v,B){if(!B)return;const E=Ke(Ae(m,B),v,h);E<l&&f.push([E,B,[0,0]])}function $(f,l,h,m,v,B,E){if(!B||!E)return;const D=Ke(Ae(m,B),Ae(v,E),h);D<l&&f.push([D,B,E])}function oe(f,l,h,m,v=1/0){let B=Math.min(m.distance(f[0],h[0][0]),v);if(B===0)return B;const E=new _d([[0,[0,f.length-1],[0,0]]],R),D=Be(h);for(;E.length>0;){const N=E.pop();if(N[0]>=B)continue;const G=N[1],K=l?50:100;if(z(G)<=K){if(!W(G,f.length))return NaN;if(l){const ae=Ri(f,G,h,m);if(isNaN(ae)||ae===0)return ae;B=Math.min(B,ae)}else for(let ae=G[0];ae<=G[1];++ae){const le=Pi(f[ae],h,m);if(B=Math.min(B,le),B===0)return 0}}else{const ae=ee(G,l);un(E,B,m,f,D,ae[0]),un(E,B,m,f,D,ae[1])}}return B}function ke(f,l,h,m,v,B=1/0){let E=Math.min(B,v.distance(f[0],h[0]));if(E===0)return E;const D=new _d([[0,[0,f.length-1],[0,h.length-1]]],R);for(;D.length>0;){const N=D.pop();if(N[0]>=E)continue;const G=N[1],K=N[2],ae=l?50:100,le=m?50:100;if(z(G)<=ae&&z(K)<=le){if(!W(G,f.length)&&W(K,h.length))return NaN;let ce;if(l&&m)ce=Ot(f,G,h,K,v),E=Math.min(E,ce);else if(l&&!m){const pe=f.slice(G[0],G[1]+1);for(let me=K[0];me<=K[1];++me)if(ce=gt(h[me],pe,v),E=Math.min(E,ce),E===0)return E}else if(!l&&m){const pe=h.slice(K[0],K[1]+1);for(let me=G[0];me<=G[1];++me)if(ce=gt(f[me],pe,v),E=Math.min(E,ce),E===0)return E}else ce=Zt(f,G,h,K,v),E=Math.min(E,ce)}else{const ce=ee(G,l),pe=ee(K,m);$(D,E,v,f,h,ce[0],pe[0]),$(D,E,v,f,h,ce[0],pe[1]),$(D,E,v,f,h,ce[1],pe[0]),$(D,E,v,f,h,ce[1],pe[1])}}return E}function Qe(f){return f.type==="MultiPolygon"?f.coordinates.map((l=>({type:"Polygon",coordinates:l}))):f.type==="MultiLineString"?f.coordinates.map((l=>({type:"LineString",coordinates:l}))):f.type==="MultiPoint"?f.coordinates.map((l=>({type:"Point",coordinates:l}))):[f]}class at{constructor(l,h){this.type=pt,this.geojson=l,this.geometries=h}static parse(l,h){if(l.length!==2)return h.error(`'distance' expression requires exactly one argument, but found ${l.length-1} instead.`);if($e(l[1])){const m=l[1];if(m.type==="FeatureCollection")return new at(m,m.features.map((v=>Qe(v.geometry))).flat());if(m.type==="Feature")return new at(m,Qe(m.geometry));if("type"in m&&"coordinates"in m)return new at(m,Qe(m))}return h.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(l){if(l.geometry()!=null&&l.canonicalID()!=null){if(l.geometryType()==="Point")return(function(h,m){const v=h.geometry(),B=v.flat().map((N=>Dl([N.x,N.y],h.canonical)));if(v.length===0)return NaN;const E=new T(B[0][1]);let D=1/0;for(const N of m){switch(N.type){case"Point":D=Math.min(D,ke(B,!1,[N.coordinates],!1,E,D));break;case"LineString":D=Math.min(D,ke(B,!1,N.coordinates,!0,E,D));break;case"Polygon":D=Math.min(D,oe(B,!1,N.coordinates,E,D))}if(D===0)return D}return D})(l,this.geometries);if(l.geometryType()==="LineString")return(function(h,m){const v=h.geometry(),B=v.flat().map((N=>Dl([N.x,N.y],h.canonical)));if(v.length===0)return NaN;const E=new T(B[0][1]);let D=1/0;for(const N of m){switch(N.type){case"Point":D=Math.min(D,ke(B,!0,[N.coordinates],!1,E,D));break;case"LineString":D=Math.min(D,ke(B,!0,N.coordinates,!0,E,D));break;case"Polygon":D=Math.min(D,oe(B,!0,N.coordinates,E,D))}if(D===0)return D}return D})(l,this.geometries);if(l.geometryType()==="Polygon")return(function(h,m){const v=h.geometry();if(v.length===0||v[0].length===0)return NaN;const B=ac(v,0).map((N=>N.map((G=>G.map((K=>Dl([K.x,K.y],h.canonical))))))),E=new T(B[0][0][0][1]);let D=1/0;for(const N of m)for(const G of B){switch(N.type){case"Point":D=Math.min(D,oe([N.coordinates],!1,G,E,D));break;case"LineString":D=Math.min(D,oe(N.coordinates,!0,G,E,D));break;case"Polygon":D=Math.min(D,_a(G,N.coordinates,E,D))}if(D===0)return D}return D})(l,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class ht{constructor(l){this.type=ki,this.key=l}static parse(l,h){if(l.length!==2)return h.error(`Expected 1 argument, but found ${l.length-1} instead.`);const m=l[1];return m==null?h.error("Global state property must be defined."):typeof m!="string"?h.error(`Global state property must be string, but found ${typeof l[1]} instead.`):new ht(m)}evaluate(l){var h;const m=(h=l.globals)===null||h===void 0?void 0:h.globalState;return m&&Object.keys(m).length!==0?Lr(m,this.key):null}eachChild(){}outputDefined(){return!1}}const wt={"==":_o,"!=":Ta,">":Lu,"<":Qn,">=":Xr,"<=":Aa,array:Qi,at:Vn,boolean:Qi,case:Sr,coalesce:er,collator:Hr,format:lr,image:Ls,in:an,"index-of":ca,interpolate:rr,"interpolate-hcl":rr,"interpolate-lab":rr,length:Pl,let:Un,literal:Ft,match:aa,number:Qi,"number-format":Vs,object:Qi,slice:wa,step:Wt,string:Qi,"to-boolean":Ln,"to-color":Ln,"to-number":Ln,"to-string":Ln,var:ja,within:vs,distance:at,"global-state":ht};class $t{constructor(l,h,m,v){this.name=l,this.type=h,this._evaluate=m,this.args=v}evaluate(l){return this._evaluate(l,this.args)}eachChild(l){this.args.forEach(l)}outputDefined(){return!1}static parse(l,h){const m=l[0],v=$t.definitions[m];if(!v)return h.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0);const B=Array.isArray(v)?v[0]:v.type,E=Array.isArray(v)?[[v[1],v[2]]]:v.overloads,D=E.filter((([G])=>!Array.isArray(G)||G.length===l.length-1));let N=null;for(const[G,K]of D){N=new sa(h.registry,Yr,h.path,null,h.scope);const ae=[];let le=!1;for(let ce=1;ce<l.length;ce++){const pe=l[ce],me=Array.isArray(G)?G[ce-1]:G.type,_e=N.parse(pe,1+ae.length,me);if(!_e){le=!0;break}ae.push(_e)}if(!le)if(Array.isArray(G)&&G.length!==ae.length)N.error(`Expected ${G.length} arguments, but found ${ae.length} instead.`);else{for(let ce=0;ce<ae.length;ce++){const pe=Array.isArray(G)?G[ce]:G.type,me=ae[ce];N.concat(ce+1).checkSubtype(pe,me.type)}if(N.errors.length===0)return new $t(m,B,K,ae)}}if(D.length===1)h.errors.push(...N.errors);else{const G=(D.length?D:E).map((([ae])=>{return le=ae,Array.isArray(le)?`(${le.map(nn).join(", ")})`:`(${nn(le.type)}...)`;var le})).join(" | "),K=[];for(let ae=1;ae<l.length;ae++){const le=h.parse(l[ae],1+K.length);if(!le)return null;K.push(nn(le.type))}h.error(`Expected arguments of type ${G}, but found (${K.join(", ")}) instead.`)}return null}static register(l,h){$t.definitions=h;for(const m in h)l[m]=$t}}function mi(f,[l,h,m,v]){l=l.evaluate(f),h=h.evaluate(f),m=m.evaluate(f);const B=v?v.evaluate(f):1,E=qe(l,h,m,B);if(E)throw new Na(E);return new mn(l/255,h/255,m/255,B,!1)}function hn(f,l){return f in l}function Xn(f,l){const h=l[f];return h===void 0?null:h}function Ca(f){return{type:f}}function Yr(f){if(f instanceof ja)return Yr(f.boundExpression);if(f instanceof $t&&f.name==="error"||f instanceof Hr||f instanceof vs||f instanceof at||f instanceof ht)return!1;const l=f instanceof Ln||f instanceof Qi;let h=!0;return f.eachChild((m=>{h=l?h&&Yr(m):h&&m instanceof Ft})),!!h&&Br(f)&&Sa(f,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Br(f){if(f instanceof $t&&(f.name==="get"&&f.args.length===1||f.name==="feature-state"||f.name==="has"&&f.args.length===1||f.name==="properties"||f.name==="geometry-type"||f.name==="id"||/^filter-/.test(f.name))||f instanceof vs||f instanceof at)return!1;let l=!0;return f.eachChild((h=>{l&&!Br(h)&&(l=!1)})),l}function as(f){if(f instanceof $t&&f.name==="feature-state")return!1;let l=!0;return f.eachChild((h=>{l&&!as(h)&&(l=!1)})),l}function Sa(f,l){if(f instanceof $t&&l.indexOf(f.name)>=0)return!1;let h=!0;return f.eachChild((m=>{h&&!Sa(m,l)&&(h=!1)})),h}function Fn(f){return{result:"success",value:f}}function oa(f){return{result:"error",value:f}}function da(f){return f["property-type"]==="data-driven"||f["property-type"]==="cross-faded-data-driven"}function za(f){return!!f.expression&&f.expression.parameters.indexOf("zoom")>-1}function ws(f){return!!f.expression&&f.expression.interpolated}function ta(f){return f instanceof Number?"number":f instanceof String?"string":f instanceof Boolean?"boolean":Array.isArray(f)?"array":f===null?"null":typeof f}function Uo(f){return typeof f=="object"&&f!==null&&!Array.isArray(f)&&Bt(f)===Gi}function Ou(f){return f}function Uu(f,l){const h=f.stops&&typeof f.stops[0][0]=="object",m=h||!(h||f.property!==void 0),v=f.type||(ws(l)?"exponential":"interval"),B=(function(K){switch(K.type){case"color":return mn.parse;case"padding":return ar.parse;case"numberArray":return ia.parse;case"colorArray":return _i.parse;default:return null}})(l);if(B&&((f=_t({},f)).stops&&(f.stops=f.stops.map((K=>[K[0],B(K[1])]))),f.default=B(f.default?f.default:l.default)),f.colorSpace&&(E=f.colorSpace)!=="rgb"&&E!=="hcl"&&E!=="lab")throw new Error(`Unknown color space: "${f.colorSpace}"`);var E;const D=(function(K){switch(K){case"exponential":return lu;case"interval":return yf;case"categorical":return Nu;case"identity":return xf;default:throw new Error(`Unknown function type "${K}"`)}})(v);let N,G;if(v==="categorical"){N=Object.create(null);for(const K of f.stops)N[K[0]]=K[1];G=typeof f.stops[0][0]}if(h){const K={},ae=[];for(let pe=0;pe<f.stops.length;pe++){const me=f.stops[pe],_e=me[0].zoom;K[_e]===void 0&&(K[_e]={zoom:_e,type:f.type,property:f.property,default:f.default,stops:[]},ae.push(_e)),K[_e].stops.push([me[0].value,me[1]])}const le=[];for(const pe of ae)le.push([K[pe].zoom,Uu(K[pe],l)]);const ce={name:"linear"};return{kind:"composite",interpolationType:ce,interpolationFactor:rr.interpolationFactor.bind(void 0,ce),zoomStops:le.map((pe=>pe[0])),evaluate:({zoom:pe},me)=>lu({stops:le,base:f.base},l,pe).evaluate(pe,me)}}if(m){const K=v==="exponential"?{name:"exponential",base:f.base!==void 0?f.base:1}:null;return{kind:"camera",interpolationType:K,interpolationFactor:rr.interpolationFactor.bind(void 0,K),zoomStops:f.stops.map((ae=>ae[0])),evaluate:({zoom:ae})=>D(f,l,ae,N,G)}}return{kind:"source",evaluate(K,ae){const le=ae&&ae.properties?ae.properties[f.property]:void 0;return le===void 0?rc(f.default,l.default):D(f,l,le,N,G)}}}function rc(f,l,h){return f!==void 0?f:l!==void 0?l:h!==void 0?h:void 0}function Nu(f,l,h,m,v){return rc(typeof h===v?m[h]:void 0,f.default,l.default)}function yf(f,l,h){if(ta(h)!=="number")return rc(f.default,l.default);const m=f.stops.length;if(m===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[m-1][0])return f.stops[m-1][1];const v=Va(f.stops.map((B=>B[0])),h);return f.stops[v][1]}function lu(f,l,h){const m=f.base!==void 0?f.base:1;if(ta(h)!=="number")return rc(f.default,l.default);const v=f.stops.length;if(v===1||h<=f.stops[0][0])return f.stops[0][1];if(h>=f.stops[v-1][0])return f.stops[v-1][1];const B=Va(f.stops.map((K=>K[0])),h),E=(function(K,ae,le,ce){const pe=ce-le,me=K-le;return pe===0?0:ae===1?me/pe:(Math.pow(ae,me)-1)/(Math.pow(ae,pe)-1)})(h,m,f.stops[B][0],f.stops[B+1][0]),D=f.stops[B][1],N=f.stops[B+1][1],G=ba[l.type]||Ou;return typeof D.evaluate=="function"?{evaluate(...K){const ae=D.evaluate.apply(void 0,K),le=N.evaluate.apply(void 0,K);if(ae!==void 0&&le!==void 0)return G(ae,le,E,f.colorSpace)}}:G(D,N,E,f.colorSpace)}function xf(f,l,h){switch(l.type){case"color":h=mn.parse(h);break;case"formatted":h=na.fromString(h.toString());break;case"resolvedImage":h=Ce.fromString(h.toString());break;case"padding":h=ar.parse(h);break;case"colorArray":h=_i.parse(h);break;case"numberArray":h=ia.parse(h);break;default:ta(h)===l.type||l.type==="enum"&&l.values[h]||(h=void 0)}return rc(h,f.default,l.default)}$t.register(wt,{error:[{kind:"error"},[Gt],(f,[l])=>{throw new Na(l.evaluate(f))}],typeof:[Gt,[ki],(f,[l])=>nn(Bt(l.evaluate(f)))],"to-rgba":[Ma(pt,4),[Ci],(f,[l])=>{const[h,m,v,B]=l.evaluate(f).rgb;return[255*h,255*m,255*v,B]}],rgb:[Ci,[pt,pt,pt],mi],rgba:[Ci,[pt,pt,pt,pt],mi],has:{type:ti,overloads:[[[Gt],(f,[l])=>hn(l.evaluate(f),f.properties())],[[Gt,Gi],(f,[l,h])=>hn(l.evaluate(f),h.evaluate(f))]]},get:{type:ki,overloads:[[[Gt],(f,[l])=>Xn(l.evaluate(f),f.properties())],[[Gt,Gi],(f,[l,h])=>Xn(l.evaluate(f),h.evaluate(f))]]},"feature-state":[ki,[Gt],(f,[l])=>Xn(l.evaluate(f),f.featureState||{})],properties:[Gi,[],f=>f.properties()],"geometry-type":[Gt,[],f=>f.geometryType()],id:[ki,[],f=>f.id()],zoom:[pt,[],f=>f.globals.zoom],"heatmap-density":[pt,[],f=>f.globals.heatmapDensity||0],elevation:[pt,[],f=>f.globals.elevation||0],"line-progress":[pt,[],f=>f.globals.lineProgress||0],accumulated:[ki,[],f=>f.globals.accumulated===void 0?null:f.globals.accumulated],"+":[pt,Ca(pt),(f,l)=>{let h=0;for(const m of l)h+=m.evaluate(f);return h}],"*":[pt,Ca(pt),(f,l)=>{let h=1;for(const m of l)h*=m.evaluate(f);return h}],"-":{type:pt,overloads:[[[pt,pt],(f,[l,h])=>l.evaluate(f)-h.evaluate(f)],[[pt],(f,[l])=>-l.evaluate(f)]]},"/":[pt,[pt,pt],(f,[l,h])=>l.evaluate(f)/h.evaluate(f)],"%":[pt,[pt,pt],(f,[l,h])=>l.evaluate(f)%h.evaluate(f)],ln2:[pt,[],()=>Math.LN2],pi:[pt,[],()=>Math.PI],e:[pt,[],()=>Math.E],"^":[pt,[pt,pt],(f,[l,h])=>Math.pow(l.evaluate(f),h.evaluate(f))],sqrt:[pt,[pt],(f,[l])=>Math.sqrt(l.evaluate(f))],log10:[pt,[pt],(f,[l])=>Math.log(l.evaluate(f))/Math.LN10],ln:[pt,[pt],(f,[l])=>Math.log(l.evaluate(f))],log2:[pt,[pt],(f,[l])=>Math.log(l.evaluate(f))/Math.LN2],sin:[pt,[pt],(f,[l])=>Math.sin(l.evaluate(f))],cos:[pt,[pt],(f,[l])=>Math.cos(l.evaluate(f))],tan:[pt,[pt],(f,[l])=>Math.tan(l.evaluate(f))],asin:[pt,[pt],(f,[l])=>Math.asin(l.evaluate(f))],acos:[pt,[pt],(f,[l])=>Math.acos(l.evaluate(f))],atan:[pt,[pt],(f,[l])=>Math.atan(l.evaluate(f))],min:[pt,Ca(pt),(f,l)=>Math.min(...l.map((h=>h.evaluate(f))))],max:[pt,Ca(pt),(f,l)=>Math.max(...l.map((h=>h.evaluate(f))))],abs:[pt,[pt],(f,[l])=>Math.abs(l.evaluate(f))],round:[pt,[pt],(f,[l])=>{const h=l.evaluate(f);return h<0?-Math.round(-h):Math.round(h)}],floor:[pt,[pt],(f,[l])=>Math.floor(l.evaluate(f))],ceil:[pt,[pt],(f,[l])=>Math.ceil(l.evaluate(f))],"filter-==":[ti,[Gt,ki],(f,[l,h])=>f.properties()[l.value]===h.value],"filter-id-==":[ti,[ki],(f,[l])=>f.id()===l.value],"filter-type-==":[ti,[Gt],(f,[l])=>f.geometryType()===l.value],"filter-<":[ti,[Gt,ki],(f,[l,h])=>{const m=f.properties()[l.value],v=h.value;return typeof m==typeof v&&m<v}],"filter-id-<":[ti,[ki],(f,[l])=>{const h=f.id(),m=l.value;return typeof h==typeof m&&h<m}],"filter->":[ti,[Gt,ki],(f,[l,h])=>{const m=f.properties()[l.value],v=h.value;return typeof m==typeof v&&m>v}],"filter-id->":[ti,[ki],(f,[l])=>{const h=f.id(),m=l.value;return typeof h==typeof m&&h>m}],"filter-<=":[ti,[Gt,ki],(f,[l,h])=>{const m=f.properties()[l.value],v=h.value;return typeof m==typeof v&&m<=v}],"filter-id-<=":[ti,[ki],(f,[l])=>{const h=f.id(),m=l.value;return typeof h==typeof m&&h<=m}],"filter->=":[ti,[Gt,ki],(f,[l,h])=>{const m=f.properties()[l.value],v=h.value;return typeof m==typeof v&&m>=v}],"filter-id->=":[ti,[ki],(f,[l])=>{const h=f.id(),m=l.value;return typeof h==typeof m&&h>=m}],"filter-has":[ti,[ki],(f,[l])=>l.value in f.properties()],"filter-has-id":[ti,[],f=>f.id()!==null&&f.id()!==void 0],"filter-type-in":[ti,[Ma(Gt)],(f,[l])=>l.value.indexOf(f.geometryType())>=0],"filter-id-in":[ti,[Ma(ki)],(f,[l])=>l.value.indexOf(f.id())>=0],"filter-in-small":[ti,[Gt,Ma(ki)],(f,[l,h])=>h.value.indexOf(f.properties()[l.value])>=0],"filter-in-large":[ti,[Gt,Ma(ki)],(f,[l,h])=>(function(m,v,B,E){for(;B<=E;){const D=B+E>>1;if(v[D]===m)return!0;v[D]>m?E=D-1:B=D+1}return!1})(f.properties()[l.value],h.value,0,h.value.length-1)],all:{type:ti,overloads:[[[ti,ti],(f,[l,h])=>l.evaluate(f)&&h.evaluate(f)],[Ca(ti),(f,l)=>{for(const h of l)if(!h.evaluate(f))return!1;return!0}]]},any:{type:ti,overloads:[[[ti,ti],(f,[l,h])=>l.evaluate(f)||h.evaluate(f)],[Ca(ti),(f,l)=>{for(const h of l)if(h.evaluate(f))return!0;return!1}]]},"!":[ti,[ti],(f,[l])=>!l.evaluate(f)],"is-supported-script":[ti,[Gt],(f,[l])=>{const h=f.globals&&f.globals.isSupportedScript;return!h||h(l.evaluate(f))}],upcase:[Gt,[Gt],(f,[l])=>l.evaluate(f).toUpperCase()],downcase:[Gt,[Gt],(f,[l])=>l.evaluate(f).toLowerCase()],concat:[Gt,Ca(ki),(f,l)=>l.map((h=>Qt(h.evaluate(f)))).join("")],"resolved-locale":[Gt,[Hi],(f,[l])=>l.evaluate(f).resolvedLocale()]});class Sh{constructor(l,h,m){this.expression=l,this._warningHistory={},this._evaluator=new pa,this._defaultValue=h?(function(v){if(v.type==="color"&&Uo(v.default))return new mn(0,0,0,0);switch(v.type){case"color":return mn.parse(v.default)||null;case"padding":return ar.parse(v.default)||null;case"numberArray":return ia.parse(v.default)||null;case"colorArray":return _i.parse(v.default)||null;case"variableAnchorOffsetCollection":return ge.parse(v.default)||null;case"projectionDefinition":return Me.parse(v.default)||null;default:return v.default===void 0?null:v.default}})(h):null,this._enumValues=h&&h.type==="enum"?h.values:null,this._globalState=m}evaluateWithoutErrorHandling(l,h,m,v,B,E){return this._globalState&&(l=Al(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=h,this._evaluator.featureState=m,this._evaluator.canonical=v,this._evaluator.availableImages=B||null,this._evaluator.formattedSection=E,this.expression.evaluate(this._evaluator)}evaluate(l,h,m,v,B,E){this._globalState&&(l=Al(l,this._globalState)),this._evaluator.globals=l,this._evaluator.feature=h||null,this._evaluator.featureState=m||null,this._evaluator.canonical=v,this._evaluator.availableImages=B||null,this._evaluator.formattedSection=E||null;try{const D=this.expression.evaluate(this._evaluator);if(D==null||typeof D=="number"&&D!=D)return this._defaultValue;if(this._enumValues&&!(D in this._enumValues))throw new Na(`Expected value to be one of ${Object.keys(this._enumValues).map((N=>JSON.stringify(N))).join(", ")}, but found ${JSON.stringify(D)} instead.`);return D}catch(D){return this._warningHistory[D.message]||(this._warningHistory[D.message]=!0,typeof console<"u"&&console.warn(D.message)),this._defaultValue}}}function sc(f){return Array.isArray(f)&&f.length>0&&typeof f[0]=="string"&&f[0]in wt}function cu(f,l,h){const m=new sa(wt,Yr,[],l?(function(B){const E={color:Ci,string:Gt,number:pt,enum:Gt,boolean:ti,formatted:Yi,padding:on,numberArray:_n,colorArray:ha,projectionDefinition:pn,resolvedImage:Wn,variableAnchorOffsetCollection:qt};return B.type==="array"?Ma(E[B.value]||ki,B.length):E[B.type]})(l):void 0),v=m.parse(f,void 0,void 0,void 0,l&&l.type==="string"?{typeAnnotation:"coerce"}:void 0);return v?Fn(new Sh(v,l,h)):oa(m.errors)}class zu{constructor(l,h,m){this.kind=l,this._styleExpression=h,this.isStateDependent=l!=="constant"&&!as(h.expression),this.globalStateRefs=Rl(h.expression),this._globalState=m}evaluateWithoutErrorHandling(l,h,m,v,B,E){return this._globalState&&(l=Al(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,h,m,v,B,E)}evaluate(l,h,m,v,B,E){return this._globalState&&(l=Al(l,this._globalState)),this._styleExpression.evaluate(l,h,m,v,B,E)}}class Dc{constructor(l,h,m,v,B){this.kind=l,this.zoomStops=m,this._styleExpression=h,this.isStateDependent=l!=="camera"&&!as(h.expression),this.globalStateRefs=Rl(h.expression),this.interpolationType=v,this._globalState=B}evaluateWithoutErrorHandling(l,h,m,v,B,E){return this._globalState&&(l=Al(l,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(l,h,m,v,B,E)}evaluate(l,h,m,v,B,E){return this._globalState&&(l=Al(l,this._globalState)),this._styleExpression.evaluate(l,h,m,v,B,E)}interpolationFactor(l,h,m){return this.interpolationType?rr.interpolationFactor(this.interpolationType,l,h,m):0}}function Hu(f,l,h){const m=cu(f,l,h);if(m.result==="error")return m;const v=m.value.expression,B=Br(v);if(!B&&!da(l))return oa([new ut("","data expressions not supported")]);const E=Sa(v,["zoom"]);if(!E&&!za(l))return oa([new ut("","zoom expressions not supported")]);const D=Qu(v);return D||E?D instanceof ut?oa([D]):D instanceof rr&&!ws(l)?oa([new ut("",'"interpolate" expressions cannot be used with this property')]):Fn(D?new Dc(B?"camera":"composite",m.value,D.labels,D instanceof rr?D.interpolation:void 0,h):new zu(B?"constant":"source",m.value,h)):oa([new ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class uu{constructor(l,h){this._parameters=l,this._specification=h,_t(this,Uu(this._parameters,this._specification))}static deserialize(l){return new uu(l._parameters,l._specification)}static serialize(l){return{_parameters:l._parameters,_specification:l._specification}}}function Qu(f){let l=null;if(f instanceof Un)l=Qu(f.result);else if(f instanceof er){for(const h of f.args)if(l=Qu(h),l)break}else(f instanceof Wt||f instanceof rr)&&f.input instanceof $t&&f.input.name==="zoom"&&(l=f);return l instanceof ut||f.eachChild((h=>{const m=Qu(h);m instanceof ut?l=m:!l&&m?l=new ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):l&&m&&l!==m&&(l=new ut("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),l}function Rl(f,l=new Set){return f instanceof ht&&l.add(f.key),f.eachChild((h=>{Rl(h,l)})),l}function Al(f,l){const{zoom:h,heatmapDensity:m,elevation:v,lineProgress:B,isSupportedScript:E,accumulated:D}=f??{};return{zoom:h,heatmapDensity:m,elevation:v,lineProgress:B,isSupportedScript:E,accumulated:D,globalState:l}}function hu(f){if(f===!0||f===!1)return!0;if(!Array.isArray(f)||f.length===0)return!1;switch(f[0]){case"has":return f.length>=2&&f[1]!=="$id"&&f[1]!=="$type";case"in":return f.length>=3&&(typeof f[1]!="string"||Array.isArray(f[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return f.length!==3||Array.isArray(f[1])||Array.isArray(f[2]);case"any":case"all":for(const l of f.slice(1))if(!hu(l)&&typeof l!="boolean")return!1;return!0;default:return!0}}const Bh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ol(f,l){if(f==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};hu(f)||(f=Ul(f));const h=cu(f,Bh,l);if(h.result==="error")throw new Error(h.value.map((m=>`${m.key}: ${m.message}`)).join(", "));return{filter:(m,v,B)=>h.value.evaluate(m,v,{},B),needGeometry:du(f),getGlobalStateRefs:()=>Rl(h.value.expression)}}function ju(f,l){return f<l?-1:f>l?1:0}function du(f){if(!Array.isArray(f))return!1;if(f[0]==="within"||f[0]==="distance")return!0;for(let l=1;l<f.length;l++)if(du(f[l]))return!0;return!1}function Ul(f){if(!f)return!0;const l=f[0];return f.length<=1?l!=="any":l==="=="?fu(f[1],f[2],"=="):l==="!="?Rc(fu(f[1],f[2],"==")):l==="<"||l===">"||l==="<="||l===">="?fu(f[1],f[2],l):l==="any"?(h=f.slice(1),["any"].concat(h.map(Ul))):l==="all"?["all"].concat(f.slice(1).map(Ul)):l==="none"?["all"].concat(f.slice(1).map(Ul).map(Rc)):l==="in"?Eh(f[1],f.slice(2)):l==="!in"?Rc(Eh(f[1],f.slice(2))):l==="has"?kh(f[1]):l!=="!has"||Rc(kh(f[1]));var h}function fu(f,l,h){switch(f){case"$type":return[`filter-type-${h}`,l];case"$id":return[`filter-id-${h}`,l];default:return[`filter-${h}`,f,l]}}function Eh(f,l){if(l.length===0)return!1;switch(f){case"$type":return["filter-type-in",["literal",l]];case"$id":return["filter-id-in",["literal",l]];default:return l.length>200&&!l.some((h=>typeof h!=typeof l[0]))?["filter-in-large",f,["literal",l.sort(ju)]]:["filter-in-small",f,["literal",l]]}}function kh(f){switch(f){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",f]}}function Rc(f){return["!",f]}function wo(f){const l=typeof f;if(l==="number"||l==="boolean"||l==="string"||f==null)return JSON.stringify(f);if(Array.isArray(f)){let v="[";for(const B of f)v+=`${wo(B)},`;return`${v}]`}const h=Object.keys(f).sort();let m="{";for(let v=0;v<h.length;v++)m+=`${JSON.stringify(h[v])}:${wo(f[h[v]])},`;return`${m}}`}function Oc(f){let l="";for(const h of Dn)l+=`/${wo(f[h])}`;return l}function Zo(f){const l=f.value;return l?[new Re(f.key,l,"constants have been deprecated as of v8")]:[]}function pr(f){return f instanceof Number||f instanceof String||f instanceof Boolean?f.valueOf():f}function pl(f){if(Array.isArray(f))return f.map(pl);if(f instanceof Object&&!(f instanceof Number||f instanceof String||f instanceof Boolean)){const l={};for(const h in f)l[h]=pl(f[h]);return l}return pr(f)}function bs(f){const l=f.key,h=f.value,m=f.valueSpec||{},v=f.objectElementValidators||{},B=f.style,E=f.styleSpec,D=f.validateSpec;let N=[];const G=ta(h);if(G!=="object")return[new Re(l,h,`object expected, ${G} found`)];for(const K in h){const ae=K.split(".")[0],le=Lr(m,ae)||m["*"];let ce;if(Lr(v,ae))ce=v[ae];else if(Lr(m,ae)){if(h[K]===void 0)continue;ce=D}else if(v["*"])ce=v["*"];else{if(!m["*"]){N.push(new Re(l,h[K],`unknown property "${K}"`));continue}ce=D}N=N.concat(ce({key:(l&&`${l}.`)+K,value:h[K],valueSpec:le,style:B,styleSpec:E,object:h,objectKey:K,validateSpec:D},h))}for(const K in m)v[K]||m[K].required&&m[K].default===void 0&&h[K]===void 0&&N.push(new Re(l,h,`missing required property "${K}"`));return N}function Vu(f){const l=f.value,h=f.valueSpec,m=f.style,v=f.styleSpec,B=f.key,E=f.arrayElementValidator||f.validateSpec;if(ta(l)!=="array")return[new Re(B,l,`array expected, ${ta(l)} found`)];if(h.length&&l.length!==h.length)return[new Re(B,l,`array length ${h.length} expected, length ${l.length} found`)];let D={type:h.value,values:h.values};v.$version<7&&(D.function=h.function),ta(h.value)==="object"&&(D=h.value);let N=[];for(let G=0;G<l.length;G++)N=N.concat(E({array:l,arrayIndex:G,value:l[G],valueSpec:D,validateSpec:f.validateSpec,style:m,styleSpec:v,key:`${B}[${G}]`}));return N}function bo(f){const l=f.key,h=f.value,m=f.valueSpec;let v=ta(h);return v==="number"&&h!=h&&(v="NaN"),v!=="number"?[new Re(l,h,`number expected, ${v} found`)]:"minimum"in m&&h<m.minimum?[new Re(l,h,`${h} is less than the minimum value ${m.minimum}`)]:"maximum"in m&&h>m.maximum?[new Re(l,h,`${h} is greater than the maximum value ${m.maximum}`)]:[]}function oc(f){const l=f.valueSpec,h=pr(f.value.type);let m,v,B,E={};const D=h!=="categorical"&&f.value.property===void 0,N=!D,G=ta(f.value.stops)==="array"&&ta(f.value.stops[0])==="array"&&ta(f.value.stops[0][0])==="object",K=bs({key:f.key,value:f.value,valueSpec:f.styleSpec.function,validateSpec:f.validateSpec,style:f.style,styleSpec:f.styleSpec,objectElementValidators:{stops:function(ce){if(h==="identity")return[new Re(ce.key,ce.value,'identity function may not have a "stops" property')];let pe=[];const me=ce.value;return pe=pe.concat(Vu({key:ce.key,value:me,valueSpec:ce.valueSpec,validateSpec:ce.validateSpec,style:ce.style,styleSpec:ce.styleSpec,arrayElementValidator:ae})),ta(me)==="array"&&me.length===0&&pe.push(new Re(ce.key,me,"array must have at least one stop")),pe},default:function(ce){return ce.validateSpec({key:ce.key,value:ce.value,valueSpec:l,validateSpec:ce.validateSpec,style:ce.style,styleSpec:ce.styleSpec})}}});return h==="identity"&&D&&K.push(new Re(f.key,f.value,'missing required property "property"')),h==="identity"||f.value.stops||K.push(new Re(f.key,f.value,'missing required property "stops"')),h==="exponential"&&f.valueSpec.expression&&!ws(f.valueSpec)&&K.push(new Re(f.key,f.value,"exponential functions not supported")),f.styleSpec.$version>=8&&(N&&!da(f.valueSpec)?K.push(new Re(f.key,f.value,"property functions not supported")):D&&!za(f.valueSpec)&&K.push(new Re(f.key,f.value,"zoom functions not supported"))),h!=="categorical"&&!G||f.value.property!==void 0||K.push(new Re(f.key,f.value,'"property" property is required')),K;function ae(ce){let pe=[];const me=ce.value,_e=ce.key;if(ta(me)!=="array")return[new Re(_e,me,`array expected, ${ta(me)} found`)];if(me.length!==2)return[new Re(_e,me,`array length 2 expected, length ${me.length} found`)];if(G){if(ta(me[0])!=="object")return[new Re(_e,me,`object expected, ${ta(me[0])} found`)];if(me[0].zoom===void 0)return[new Re(_e,me,"object stop key must have zoom")];if(me[0].value===void 0)return[new Re(_e,me,"object stop key must have value")];if(B&&B>pr(me[0].zoom))return[new Re(_e,me[0].zoom,"stop zoom values must appear in ascending order")];pr(me[0].zoom)!==B&&(B=pr(me[0].zoom),v=void 0,E={}),pe=pe.concat(bs({key:`${_e}[0]`,value:me[0],valueSpec:{zoom:{}},validateSpec:ce.validateSpec,style:ce.style,styleSpec:ce.styleSpec,objectElementValidators:{zoom:bo,value:le}}))}else pe=pe.concat(le({key:`${_e}[0]`,value:me[0],validateSpec:ce.validateSpec,style:ce.style,styleSpec:ce.styleSpec},me));return sc(pl(me[1]))?pe.concat([new Re(`${_e}[1]`,me[1],"expressions are not allowed in function stops.")]):pe.concat(ce.validateSpec({key:`${_e}[1]`,value:me[1],valueSpec:l,validateSpec:ce.validateSpec,style:ce.style,styleSpec:ce.styleSpec}))}function le(ce,pe){const me=ta(ce.value),_e=pr(ce.value),Le=ce.value!==null?ce.value:pe;if(m){if(me!==m)return[new Re(ce.key,Le,`${me} stop domain type must match previous stop domain type ${m}`)]}else m=me;if(me!=="number"&&me!=="string"&&me!=="boolean")return[new Re(ce.key,Le,"stop domain value must be a number, string, or boolean")];if(me!=="number"&&h!=="categorical"){let Je=`number expected, ${me} found`;return da(l)&&h===void 0&&(Je+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Re(ce.key,Le,Je)]}return h!=="categorical"||me!=="number"||isFinite(_e)&&Math.floor(_e)===_e?h!=="categorical"&&me==="number"&&v!==void 0&&_e<v?[new Re(ce.key,Le,"stop domain values must appear in ascending order")]:(v=_e,h==="categorical"&&_e in E?[new Re(ce.key,Le,"stop domain values must be unique")]:(E[_e]=!0,[])):[new Re(ce.key,Le,`integer expected, found ${_e}`)]}}function gl(f){const l=(f.expressionContext==="property"?Hu:cu)(pl(f.value),f.valueSpec);if(l.result==="error")return l.value.map((m=>new Re(`${f.key}${m.key}`,f.value,m.message)));const h=l.value.expression||l.value._styleExpression.expression;if(f.expressionContext==="property"&&f.propertyKey==="text-font"&&!h.outputDefined())return[new Re(f.key,f.value,`Invalid data expression for "${f.propertyKey}". Output values must be contained as literals within the expression.`)];if(f.expressionContext==="property"&&f.propertyType==="layout"&&!as(h))return[new Re(f.key,f.value,'"feature-state" data expressions are not supported with layout properties.')];if(f.expressionContext==="filter"&&!as(h))return[new Re(f.key,f.value,'"feature-state" data expressions are not supported with filters.')];if(f.expressionContext&&f.expressionContext.indexOf("cluster")===0){if(!Sa(h,["zoom","feature-state"]))return[new Re(f.key,f.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(f.expressionContext==="cluster-initial"&&!Br(h))return[new Re(f.key,f.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ml(f){const l=f.key,h=f.value,m=ta(h);return m!=="string"?[new Re(l,h,`color expected, ${m} found`)]:mn.parse(String(h))?[]:[new Re(l,h,`color expected, "${h}" found`)]}function lc(f){const l=f.key,h=f.value,m=f.valueSpec,v=[];return Array.isArray(m.values)?m.values.indexOf(pr(h))===-1&&v.push(new Re(l,h,`expected one of [${m.values.join(", ")}], ${JSON.stringify(h)} found`)):Object.keys(m.values).indexOf(pr(h))===-1&&v.push(new Re(l,h,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(h)} found`)),v}function cc(f){return hu(pl(f.value))?gl(_t({},f,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Th(f)}function Th(f){const l=f.value,h=f.key;if(ta(l)!=="array")return[new Re(h,l,`array expected, ${ta(l)} found`)];const m=f.styleSpec;let v,B=[];if(l.length<1)return[new Re(h,l,"filter array must have at least 1 element")];switch(B=B.concat(lc({key:`${h}[0]`,value:l[0],valueSpec:m.filter_operator,style:f.style,styleSpec:f.styleSpec})),pr(l[0])){case"<":case"<=":case">":case">=":l.length>=2&&pr(l[1])==="$type"&&B.push(new Re(h,l,`"$type" cannot be use with operator "${l[0]}"`));case"==":case"!=":l.length!==3&&B.push(new Re(h,l,`filter array for operator "${l[0]}" must have 3 elements`));case"in":case"!in":l.length>=2&&(v=ta(l[1]),v!=="string"&&B.push(new Re(`${h}[1]`,l[1],`string expected, ${v} found`)));for(let E=2;E<l.length;E++)v=ta(l[E]),pr(l[1])==="$type"?B=B.concat(lc({key:`${h}[${E}]`,value:l[E],valueSpec:m.geometry_type,style:f.style,styleSpec:f.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&B.push(new Re(`${h}[${E}]`,l[E],`string, number, or boolean expected, ${v} found`));break;case"any":case"all":case"none":for(let E=1;E<l.length;E++)B=B.concat(Th({key:`${h}[${E}]`,value:l[E],style:f.style,styleSpec:f.styleSpec}));break;case"has":case"!has":v=ta(l[1]),l.length!==2?B.push(new Re(h,l,`filter array for "${l[0]}" operator must have 2 elements`)):v!=="string"&&B.push(new Re(`${h}[1]`,l[1],`string expected, ${v} found`))}return B}function Ih(f,l){const h=f.key,m=f.validateSpec,v=f.style,B=f.styleSpec,E=f.value,D=f.objectKey,N=B[`${l}_${f.layerType}`];if(!N)return[];const G=D.match(/^(.*)-transition$/);if(l==="paint"&&G&&N[G[1]]&&N[G[1]].transition)return m({key:h,value:E,valueSpec:B.transition,style:v,styleSpec:B});const K=f.valueSpec||N[D];if(!K)return[new Re(h,E,`unknown property "${D}"`)];let ae;if(ta(E)==="string"&&da(K)&&!K.tokens&&(ae=/^{([^}]+)}$/.exec(E)))return[new Re(h,E,`"${D}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ae[1])} }\`.`)];const le=[];return f.layerType==="symbol"&&D==="text-font"&&Uo(pl(E))&&pr(E.type)==="identity"&&le.push(new Re(h,E,'"text-font" does not support identity functions')),le.concat(m({key:f.key,value:E,valueSpec:K,style:v,styleSpec:B,expressionContext:"property",propertyType:l,propertyKey:D}))}function Uc(f){return Ih(f,"paint")}function Mh(f){return Ih(f,"layout")}function Lh(f){let l=[];const h=f.value,m=f.key,v=f.style,B=f.styleSpec;if(ta(h)!=="object")return[new Re(m,h,`object expected, ${ta(h)} found`)];h.type||h.ref||l.push(new Re(m,h,'either "type" or "ref" is required'));let E=pr(h.type);const D=pr(h.ref);if(h.id){const N=pr(h.id);for(let G=0;G<f.arrayIndex;G++){const K=v.layers[G];pr(K.id)===N&&l.push(new Re(m,h.id,`duplicate layer id "${h.id}", previously used at line ${K.id.__line__}`))}}if("ref"in h){let N;["type","source","source-layer","filter","layout"].forEach((G=>{G in h&&l.push(new Re(m,h[G],`"${G}" is prohibited for ref layers`))})),v.layers.forEach((G=>{pr(G.id)===D&&(N=G)})),N?N.ref?l.push(new Re(m,h.ref,"ref cannot reference another ref layer")):E=pr(N.type):l.push(new Re(m,h.ref,`ref layer "${D}" not found`))}else if(E!=="background")if(h.source){const N=v.sources&&v.sources[h.source],G=N&&pr(N.type);N?G==="vector"&&E==="raster"?l.push(new Re(m,h.source,`layer "${h.id}" requires a raster source`)):G!=="raster-dem"&&E==="hillshade"||G!=="raster-dem"&&E==="color-relief"?l.push(new Re(m,h.source,`layer "${h.id}" requires a raster-dem source`)):G==="raster"&&E!=="raster"?l.push(new Re(m,h.source,`layer "${h.id}" requires a vector source`)):G!=="vector"||h["source-layer"]?G==="raster-dem"&&E!=="hillshade"&&E!=="color-relief"?l.push(new Re(m,h.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):E!=="line"||!h.paint||!h.paint["line-gradient"]||G==="geojson"&&N.lineMetrics||l.push(new Re(m,h,`layer "${h.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):l.push(new Re(m,h,`layer "${h.id}" must specify a "source-layer"`)):l.push(new Re(m,h.source,`source "${h.source}" not found`))}else l.push(new Re(m,h,'missing required property "source"'));return l=l.concat(bs({key:m,value:h,valueSpec:B.layer,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,objectElementValidators:{"*":()=>[],type:()=>f.validateSpec({key:`${m}.type`,value:h.type,valueSpec:B.layer.type,style:f.style,styleSpec:f.styleSpec,validateSpec:f.validateSpec,object:h,objectKey:"type"}),filter:cc,layout:N=>bs({layer:h,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":G=>Mh(_t({layerType:E},G))}}),paint:N=>bs({layer:h,key:N.key,value:N.value,style:N.style,styleSpec:N.styleSpec,validateSpec:N.validateSpec,objectElementValidators:{"*":G=>Uc(_t({layerType:E},G))}})}})),l}function Nl(f){const l=f.value,h=f.key,m=ta(l);return m!=="string"?[new Re(h,l,`string expected, ${m} found`)]:[]}const Gu={promoteId:function({key:f,value:l}){if(ta(l)==="string")return Nl({key:f,value:l});{const h=[];for(const m in l)h.push(...Nl({key:`${f}.${m}`,value:l[m]}));return h}}};function uc(f){const l=f.value,h=f.key,m=f.styleSpec,v=f.style,B=f.validateSpec;if(!l.type)return[new Re(h,l,'"type" is required')];const E=pr(l.type);let D;switch(E){case"vector":case"raster":return D=bs({key:h,value:l,valueSpec:m[`source_${E.replace("-","_")}`],style:f.style,styleSpec:m,objectElementValidators:Gu,validateSpec:B}),D;case"raster-dem":return D=(function(N){var G;const K=(G=N.sourceName)!==null&&G!==void 0?G:"",ae=N.value,le=N.styleSpec,ce=le.source_raster_dem,pe=N.style;let me=[];const _e=ta(ae);if(ae===void 0)return me;if(_e!=="object")return me.push(new Re("source_raster_dem",ae,`object expected, ${_e} found`)),me;const Le=pr(ae.encoding)==="custom",Je=["redFactor","greenFactor","blueFactor","baseShift"],Pe=N.value.encoding?`"${N.value.encoding}"`:"Default";for(const Oe in ae)!Le&&Je.includes(Oe)?me.push(new Re(Oe,ae[Oe],`In "${K}": "${Oe}" is only valid when "encoding" is set to "custom". ${Pe} encoding found`)):ce[Oe]?me=me.concat(N.validateSpec({key:Oe,value:ae[Oe],valueSpec:ce[Oe],validateSpec:N.validateSpec,style:pe,styleSpec:le})):me.push(new Re(Oe,ae[Oe],`unknown property "${Oe}"`));return me})({sourceName:h,value:l,style:f.style,styleSpec:m,validateSpec:B}),D;case"geojson":if(D=bs({key:h,value:l,valueSpec:m.source_geojson,style:v,styleSpec:m,validateSpec:B,objectElementValidators:Gu}),l.cluster)for(const N in l.clusterProperties){const[G,K]=l.clusterProperties[N],ae=typeof G=="string"?[G,["accumulated"],["get",N]]:G;D.push(...gl({key:`${h}.${N}.map`,value:K,expressionContext:"cluster-map"})),D.push(...gl({key:`${h}.${N}.reduce`,value:ae,expressionContext:"cluster-reduce"}))}return D;case"video":return bs({key:h,value:l,valueSpec:m.source_video,style:v,validateSpec:B,styleSpec:m});case"image":return bs({key:h,value:l,valueSpec:m.source_image,style:v,validateSpec:B,styleSpec:m});case"canvas":return[new Re(h,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return lc({key:`${h}.type`,value:l.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Au(f){const l=f.value,h=f.styleSpec,m=h.light,v=f.style;let B=[];const E=ta(l);if(l===void 0)return B;if(E!=="object")return B=B.concat([new Re("light",l,`object expected, ${E} found`)]),B;for(const D in l){const N=D.match(/^(.*)-transition$/);B=B.concat(N&&m[N[1]]&&m[N[1]].transition?f.validateSpec({key:D,value:l[D],valueSpec:h.transition,validateSpec:f.validateSpec,style:v,styleSpec:h}):m[D]?f.validateSpec({key:D,value:l[D],valueSpec:m[D],validateSpec:f.validateSpec,style:v,styleSpec:h}):[new Re(D,l[D],`unknown property "${D}"`)])}return B}function Wu(f){const l=f.value,h=f.styleSpec,m=h.sky,v=f.style,B=ta(l);if(l===void 0)return[];if(B!=="object")return[new Re("sky",l,`object expected, ${B} found`)];let E=[];for(const D in l)E=E.concat(m[D]?f.validateSpec({key:D,value:l[D],valueSpec:m[D],style:v,styleSpec:h}):[new Re(D,l[D],`unknown property "${D}"`)]);return E}function Fh(f){const l=f.value,h=f.styleSpec,m=h.terrain,v=f.style;let B=[];const E=ta(l);if(l===void 0)return B;if(E!=="object")return B=B.concat([new Re("terrain",l,`object expected, ${E} found`)]),B;for(const D in l)B=B.concat(m[D]?f.validateSpec({key:D,value:l[D],valueSpec:m[D],validateSpec:f.validateSpec,style:v,styleSpec:h}):[new Re(D,l[D],`unknown property "${D}"`)]);return B}function Nc(f){let l=[];const h=f.value,m=f.key;if(Array.isArray(h)){const v=[],B=[];for(const E in h)h[E].id&&v.includes(h[E].id)&&l.push(new Re(m,h,`all the sprites' ids must be unique, but ${h[E].id} is duplicated`)),v.push(h[E].id),h[E].url&&B.includes(h[E].url)&&l.push(new Re(m,h,`all the sprites' URLs must be unique, but ${h[E].url} is duplicated`)),B.push(h[E].url),l=l.concat(bs({key:`${m}[${E}]`,value:h[E],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:f.validateSpec}));return l}return Nl({key:m,value:h})}function pu(f){return!!f&&f.constructor===Object}function zc(f){return pu(f.value)?[]:[new Re(f.key,f.value,`object expected, ${ta(f.value)} found`)]}const $u={"*":()=>[],array:Vu,boolean:function(f){const l=f.value,h=f.key,m=ta(l);return m!=="boolean"?[new Re(h,l,`boolean expected, ${m} found`)]:[]},number:bo,color:ml,constants:Zo,enum:lc,filter:cc,function:oc,layer:Lh,object:bs,source:uc,light:Au,sky:Wu,terrain:Fh,projection:function(f){const l=f.value,h=f.styleSpec,m=h.projection,v=f.style,B=ta(l);if(l===void 0)return[];if(B!=="object")return[new Re("projection",l,`object expected, ${B} found`)];let E=[];for(const D in l)E=E.concat(m[D]?f.validateSpec({key:D,value:l[D],valueSpec:m[D],style:v,styleSpec:h}):[new Re(D,l[D],`unknown property "${D}"`)]);return E},projectionDefinition:function(f){const l=f.key;let h=f.value;h=h instanceof String?h.valueOf():h;const m=ta(h);return m!=="array"||(function(v){return Array.isArray(v)&&v.length===3&&typeof v[0]=="string"&&typeof v[1]=="string"&&typeof v[2]=="number"})(h)||(function(v){return!!["interpolate","step","literal"].includes(v[0])})(h)?["array","string"].includes(m)?[]:[new Re(l,h,`projection expected, invalid type "${m}" found`)]:[new Re(l,h,`projection expected, invalid array ${JSON.stringify(h)} found`)]},string:Nl,formatted:function(f){return Nl(f).length===0?[]:gl(f)},resolvedImage:function(f){return Nl(f).length===0?[]:gl(f)},padding:function(f){const l=f.key,h=f.value;if(ta(h)==="array"){if(h.length<1||h.length>4)return[new Re(l,h,`padding requires 1 to 4 values; ${h.length} values found`)];const m={type:"number"};let v=[];for(let B=0;B<h.length;B++)v=v.concat(f.validateSpec({key:`${l}[${B}]`,value:h[B],validateSpec:f.validateSpec,valueSpec:m}));return v}return bo({key:l,value:h,valueSpec:{}})},numberArray:function(f){const l=f.key,h=f.value;if(ta(h)==="array"){const m={type:"number"};if(h.length<1)return[new Re(l,h,"array length at least 1 expected, length 0 found")];let v=[];for(let B=0;B<h.length;B++)v=v.concat(f.validateSpec({key:`${l}[${B}]`,value:h[B],validateSpec:f.validateSpec,valueSpec:m}));return v}return bo({key:l,value:h,valueSpec:{}})},colorArray:function(f){const l=f.key,h=f.value;if(ta(h)==="array"){if(h.length<1)return[new Re(l,h,"array length at least 1 expected, length 0 found")];let m=[];for(let v=0;v<h.length;v++)m=m.concat(ml({key:`${l}[${v}]`,value:h[v]}));return m}return ml({key:l,value:h})},variableAnchorOffsetCollection:function(f){const l=f.key,h=f.value,m=ta(h),v=f.styleSpec;if(m!=="array"||h.length<1||h.length%2!=0)return[new Re(l,h,"variableAnchorOffsetCollection requires a non-empty array of even length")];let B=[];for(let E=0;E<h.length;E+=2)B=B.concat(lc({key:`${l}[${E}]`,value:h[E],valueSpec:v.layout_symbol["text-anchor"]})),B=B.concat(Vu({key:`${l}[${E+1}]`,value:h[E+1],valueSpec:{length:2,value:"number"},validateSpec:f.validateSpec,style:f.style,styleSpec:v}));return B},sprite:Nc,state:zc,fontFaces:function(f){const l=f.key,h=f.value,m=f.validateSpec,v=f.styleSpec,B=f.style;if(!pu(h))return[new Re(l,h,`object expected, ${ta(h)} found`)];const E=[];for(const D in h){const N=h[D],G=ta(N);if(G==="string")E.push(...Nl({key:`${l}.${D}`,value:N}));else if(G==="array"){const K={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(const[ae,le]of N.entries())E.push(...bs({key:`${l}.${D}[${ae}]`,value:le,valueSpec:K,styleSpec:v,style:B,validateSpec:m}))}else E.push(new Re(`${l}.${D}`,N,`string or array expected, ${G} found`))}return E}};function Nt(f){const l=f.value,h=f.valueSpec,m=f.styleSpec;return f.validateSpec=Nt,h.expression&&Uo(pr(l))?oc(f):h.expression&&sc(pl(l))?gl(f):h.type&&$u[h.type]?$u[h.type](f):bs(_t({},f,{valueSpec:h.type?m[h.type]:h}))}function qi(f){const l=f.value,h=f.key,m=Nl(f);return m.length||(l.indexOf("{fontstack}")===-1&&m.push(new Re(h,l,'"glyphs" url must include a "{fontstack}" token')),l.indexOf("{range}")===-1&&m.push(new Re(h,l,'"glyphs" url must include a "{range}" token'))),m}function en(f,l=Tt){let h=[];return h=h.concat(Nt({key:"",value:f,valueSpec:l.$root,styleSpec:l,style:f,validateSpec:Nt,objectElementValidators:{glyphs:qi,"*":()=>[]}})),f.constants&&(h=h.concat(Zo({key:"constants",value:f.constants}))),Ha(h)}function Sn(f){return function(l){return f(Object.assign({},l,{validateSpec:Nt}))}}function Ha(f){return[].concat(f).sort(((l,h)=>l.line-h.line))}function La(f){return function(...l){return Ha(f.apply(this,l))}}en.source=La(Sn(uc)),en.sprite=La(Sn(Nc)),en.glyphs=La(Sn(qi)),en.light=La(Sn(Au)),en.sky=La(Sn(Wu)),en.terrain=La(Sn(Fh)),en.state=La(Sn(zc)),en.layer=La(Sn(Lh)),en.filter=La(Sn(cc)),en.paintProperty=La(Sn(Uc)),en.layoutProperty=La(Sn(Mh));const Gs={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class rs{constructor(l,h){this._globalState=h,this.setValue(l)}evaluate(){var l;return(l=this._literalValue)!==null&&l!==void 0?l:this._compiledValue.evaluate({})}setValue(l){if(l==null||l==="visible"||l==="none")return this._literalValue=l==="none"?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);const h=cu(l,Gs,this._globalState);if(h.result==="error")throw this._literalValue="visible",this._compiledValue=void 0,new Error(h.value.map((m=>`${m.key}: ${m.message}`)).join(", "));this._literalValue=void 0,this._compiledValue=h.value,this._globalStateRefs=Rl(h.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}const Dr=Tt,Kr=en,zl=Kr.light,Ph=Kr.sky,Xu=Kr.paintProperty,_f=Kr.layoutProperty;function Yu(f,l){let h=!1;if(l&&l.length)for(const m of l)f.fire(new Bi(new Error(m.message))),h=!0;return h}class Ku{constructor(l,h,m){const v=this.cells=[];if(l instanceof ArrayBuffer){this.arrayBuffer=l;const E=new Int32Array(this.arrayBuffer);l=E[0],this.d=(h=E[1])+2*(m=E[2]);for(let N=0;N<this.d*this.d;N++){const G=E[3+N],K=E[3+N+1];v.push(G===K?null:E.subarray(G,K))}const D=E[3+v.length+1];this.keys=E.subarray(E[3+v.length],D),this.bboxes=E.subarray(D),this.insert=this._insertReadonly}else{this.d=h+2*m;for(let E=0;E<this.d*this.d;E++)v.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=l,this.padding=m,this.scale=h/l,this.uid=0;const B=m/h*l;this.min=-B,this.max=l+B}insert(l,h,m,v,B){this._forEachCell(h,m,v,B,this._insertCell,this.uid++,void 0,void 0),this.keys.push(l),this.bboxes.push(h),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(B)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(l,h,m,v,B,E){this.cells[B].push(E)}query(l,h,m,v,B){const E=this.min,D=this.max;if(l<=E&&h<=E&&D<=m&&D<=v&&!B)return Array.prototype.slice.call(this.keys);{const N=[];return this._forEachCell(l,h,m,v,this._queryCell,N,{},B),N}}_queryCell(l,h,m,v,B,E,D,N){const G=this.cells[B];if(G!==null){const K=this.keys,ae=this.bboxes;for(let le=0;le<G.length;le++){const ce=G[le];if(D[ce]===void 0){const pe=4*ce;(N?N(ae[pe+0],ae[pe+1],ae[pe+2],ae[pe+3]):l<=ae[pe+2]&&h<=ae[pe+3]&&m>=ae[pe+0]&&v>=ae[pe+1])?(D[ce]=!0,E.push(K[ce])):D[ce]=!1}}}}_forEachCell(l,h,m,v,B,E,D,N){const G=this._convertToCellCoord(l),K=this._convertToCellCoord(h),ae=this._convertToCellCoord(m),le=this._convertToCellCoord(v);for(let ce=G;ce<=ae;ce++)for(let pe=K;pe<=le;pe++){const me=this.d*pe+ce;if((!N||N(this._convertFromCellCoord(ce),this._convertFromCellCoord(pe),this._convertFromCellCoord(ce+1),this._convertFromCellCoord(pe+1)))&&B.call(this,l,h,m,v,me,E,D,N))return}}_convertFromCellCoord(l){return(l-this.padding)/this.scale}_convertToCellCoord(l){return Math.max(0,Math.min(this.d-1,Math.floor(l*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const l=this.cells,h=3+this.cells.length+1+1;let m=0;for(let E=0;E<this.cells.length;E++)m+=this.cells[E].length;const v=new Int32Array(h+m+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;let B=h;for(let E=0;E<l.length;E++){const D=l[E];v[3+E]=B,v.set(D,B),B+=D.length}return v[3+l.length]=B,v.set(this.keys,B),B+=this.keys.length,v[3+l.length+1]=B,v.set(this.bboxes,B),B+=this.bboxes.length,v.buffer}static serialize(l,h){const m=l.toArrayBuffer();return h&&h.push(m),{buffer:m}}static deserialize(l){return new Ku(l.buffer)}}const Jo={};function Zi(f,l,h={}){if(Jo[f])throw new Error(`${f} is already registered.`);Object.defineProperty(l,"_classRegistryKey",{value:f,writeable:!1}),Jo[f]={klass:l,omit:h.omit||[],shallow:h.shallow||[]}}Zi("Object",Object),Zi("Set",Set),Zi("TransferableGridIndex",Ku),Zi("Color",mn),Zi("Error",Error),Zi("AJAXError",Ve),Zi("ResolvedImage",Ce),Zi("StylePropertyFunction",uu),Zi("StyleExpression",Sh,{omit:["_evaluator"]}),Zi("ZoomDependentExpression",Dc),Zi("ZoomConstantExpression",zu),Zi("CompoundExpression",$t,{omit:["_evaluate"]});for(const f in wt)wt[f]._classRegistryKey||Zi(`Expression_${f}`,wt[f]);function vd(f){return f&&typeof ArrayBuffer<"u"&&(f instanceof ArrayBuffer||f.constructor&&f.constructor.name==="ArrayBuffer")}function Xe(f){return f.$name||f.constructor._classRegistryKey}function hi(f){return!(function(l){if(l===null||typeof l!="object")return!1;const h=Xe(l);return!(!h||h==="Object")})(f)&&(f==null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||f instanceof Boolean||f instanceof Number||f instanceof String||f instanceof Date||f instanceof RegExp||f instanceof Blob||f instanceof Error||vd(f)||Yt(f)||ArrayBuffer.isView(f)||f instanceof ImageData)}function xi(f,l){if(hi(f))return(vd(f)||Yt(f))&&l&&l.push(f),ArrayBuffer.isView(f)&&l&&l.push(f.buffer),f instanceof ImageData&&l&&l.push(f.data.buffer),f;if(Array.isArray(f)){const B=[];for(const E of f)B.push(xi(E,l));return B}if(typeof f!="object")throw new Error("can't serialize object of type "+typeof f);const h=Xe(f);if(!h)throw new Error(`can't serialize object of unregistered class ${f.constructor.name}`);if(!Jo[h])throw new Error(`${h} is not registered.`);const{klass:m}=Jo[h],v=m.serialize?m.serialize(f,l):{};if(m.serialize){if(l&&v===l[l.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const B in f){if(!f.hasOwnProperty(B)||Jo[h].omit.indexOf(B)>=0)continue;const E=f[B];v[B]=Jo[h].shallow.indexOf(B)>=0?E:xi(E,l)}f instanceof Error&&(v.message=f.message)}if(v.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(v.$name=h),v}function En(f){if(hi(f))return f;if(Array.isArray(f))return f.map(En);if(typeof f!="object")throw new Error("can't deserialize object of type "+typeof f);const l=Xe(f)||"Object";if(!Jo[l])throw new Error(`can't deserialize unregistered class ${l}`);const{klass:h}=Jo[l];if(!h)throw new Error(`can't deserialize unregistered class ${l}`);if(h.deserialize)return h.deserialize(f);const m=Object.create(h.prototype);for(const v of Object.keys(f)){if(v==="$name")continue;const B=f[v];m[v]=Jo[l].shallow.indexOf(v)>=0?B:En(B)}return m}class ln{constructor(){this.first=!0}update(l,h){const m=Math.floor(l);return this.first?(this.first=!1,this.lastIntegerZoom=m,this.lastIntegerZoomTime=0,this.lastZoom=l,this.lastFloorZoom=m,!0):(this.lastFloorZoom>m?(this.lastIntegerZoom=m+1,this.lastIntegerZoomTime=h):this.lastFloorZoom<m&&(this.lastIntegerZoom=m,this.lastIntegerZoomTime=h),l!==this.lastZoom&&(this.lastZoom=l,this.lastFloorZoom=m,!0))}}function jn(f){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))}function ma(f){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))}function Er(f){return/\s/u.test(String.fromCodePoint(f))}function qr(f){for(const l of f)if(ma(l.codePointAt(0)))return!0;return!1}function Dh(f){for(const l of f)if(!wd(l.codePointAt(0)))return!1;return!0}function ss(f){const l=f.map((h=>{try{return new RegExp(`\\p{sc=${h}}`,"u").source}catch{return null}})).filter((h=>h));return new RegExp(l.join("|"),"u")}const Co=ss(["Arab","Dupl","Mong","Ougr","Syrc"]);function wd(f){return!Co.test(String.fromCodePoint(f))}function Fg(f){return!(ma(f)||(l=f,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(l))));var l}const ly=ss(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Pg(f){return ly.test(String.fromCodePoint(f))}function Dg(f,l){return!(!l&&Pg(f)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(f)))}function cy(f){for(const l of f)if(Pg(l.codePointAt(0)))return!0;return!1}const qu=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(f){this.pluginStatus=f.pluginStatus,this.pluginURL=f.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(f){if(qu.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=f.applyArabicShaping,this.processBidirectionalText=f.processBidirectionalText,this.processStyledBidirectionalText=f.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(f,l){return s(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(f.pluginStatus!=="loading")return this.setState(f),f;const h=f.pluginURL,m=new Promise((B=>{this.loadScriptResolve=B}));l(h);const v=new Promise((B=>setTimeout((()=>B()),this.TIMEOUT)));if(yield Promise.race([m,v]),this.isParsed()){const B={pluginStatus:"loaded",pluginURL:h};return this.setState(B),B}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${h}`)}))}};class cr{constructor(l,h){this.isSupportedScript=Qv,this.zoom=l,h?(this.now=h.now||0,this.fadeDuration=h.fadeDuration||0,this.zoomHistory=h.zoomHistory||new ln,this.transition=h.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ln,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const l=this.zoom,h=l-Math.floor(l),m=this.crossFadingFactor();return l>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:h+(1-h)*m}:{fromScale:.5,toScale:1,t:1-(1-m)*h}}}function Qv(f){return(function(l,h){for(const m of l)if(!Dg(m.codePointAt(0),h))return!1;return!0})(f,qu.getRTLTextPluginStatus()==="loaded")}const vf="-transition";class jA{constructor(l,h,m){this.property=l,this.value=h,this.expression=(function(v,B,E){if(Uo(v))return new uu(v,B);if(sc(v)){const D=Hu(v,B,E);if(D.result==="error")throw new Error(D.value.map((N=>`${N.key}: ${N.message}`)).join(", "));return D.value}{let D=v;return B.type==="color"&&typeof v=="string"?D=mn.parse(v):B.type!=="padding"||typeof v!="number"&&!Array.isArray(v)?B.type!=="numberArray"||typeof v!="number"&&!Array.isArray(v)?B.type!=="colorArray"||typeof v!="string"&&!Array.isArray(v)?B.type==="variableAnchorOffsetCollection"&&Array.isArray(v)?D=ge.parse(v):B.type==="projectionDefinition"&&typeof v=="string"&&(D=Me.parse(v)):D=_i.parse(v):D=ia.parse(v):D=ar.parse(v),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>D}}})(h===void 0?l.specification.default:h,l.specification,m)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(l,h,m){return this.property.possiblyEvaluate(this,l,h,m)}}class VA{constructor(l,h){this.property=l,this.value=new jA(l,void 0,h)}transitioned(l,h){return new uy(this.property,this.value,h,gi({},l.transition,this.transition),l.now)}untransitioned(){return new uy(this.property,this.value,null,{},0)}}class Rg{constructor(l,h){this._properties=l,this._values=Object.create(l.defaultTransitionablePropertyValues),this._globalState=h}getValue(l){return fn(this._values[l].value.value)}setValue(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new VA(this._values[l].property,this._globalState)),this._values[l].value=new jA(this._values[l].property,h===null?void 0:fn(h),this._globalState)}getTransition(l){return fn(this._values[l].transition)}setTransition(l,h){Object.prototype.hasOwnProperty.call(this._values,l)||(this._values[l]=new VA(this._values[l].property,this._globalState)),this._values[l].transition=fn(h)||void 0}serialize(){const l={};for(const h of Object.keys(this._values)){const m=this.getValue(h);m!==void 0&&(l[h]=m);const v=this.getTransition(h);v!==void 0&&(l[`${h}${vf}`]=v)}return l}transitioned(l,h){const m=new hy(this._properties);for(const v of Object.keys(this._values))m._values[v]=this._values[v].transitioned(l,h._values[v]);return m}untransitioned(){const l=new hy(this._properties);for(const h of Object.keys(this._values))l._values[h]=this._values[h].untransitioned();return l}}class uy{constructor(l,h,m,v,B){this.property=l,this.value=h,this.begin=B+v.delay||0,this.end=this.begin+v.duration||0,l.specification.transition&&(v.delay||v.duration)&&(this.prior=m)}possiblyEvaluate(l,h,m){const v=l.now||0,B=this.value.possiblyEvaluate(l,h,m),E=this.prior;if(E){if(v>this.end)return this.prior=null,B;if(this.value.isDataDriven())return this.prior=null,B;if(v<this.begin)return E.possiblyEvaluate(l,h,m);{const D=(v-this.begin)/(this.end-this.begin);return this.property.interpolate(E.possiblyEvaluate(l,h,m),B,di(D))}}return B}}class hy{constructor(l){this._properties=l,this._values=Object.create(l.defaultTransitioningPropertyValues)}possiblyEvaluate(l,h,m){const v=new wf(this._properties);for(const B of Object.keys(this._values))v._values[B]=this._values[B].possiblyEvaluate(l,h,m);return v}hasTransition(){for(const l of Object.keys(this._values))if(this._values[l].prior)return!0;return!1}}class dy{constructor(l,h){this._properties=l,this._values=Object.create(l.defaultPropertyValues),this._globalState=h}hasValue(l){return this._values[l].value!==void 0}getValue(l){return fn(this._values[l].value)}setValue(l,h){this._values[l]=new jA(this._values[l].property,h===null?void 0:fn(h),this._globalState)}serialize(){const l={};for(const h of Object.keys(this._values)){const m=this.getValue(h);m!==void 0&&(l[h]=m)}return l}possiblyEvaluate(l,h,m){const v=new wf(this._properties);for(const B of Object.keys(this._values))v._values[B]=this._values[B].possiblyEvaluate(l,h,m);return v}}class hc{constructor(l,h,m){this.property=l,this.value=h,this.parameters=m}isConstant(){return this.value.kind==="constant"}constantOr(l){return this.value.kind==="constant"?this.value.value:l}evaluate(l,h,m,v){return this.property.evaluate(this.value,this.parameters,l,h,m,v)}}class wf{constructor(l){this._properties=l,this._values=Object.create(l.defaultPossiblyEvaluatedValues)}get(l){return this._values[l]}}class kn{constructor(l){this.specification=l}possiblyEvaluate(l,h){if(l.isDataDriven())throw new Error("Value should not be data driven");return l.expression.evaluate(h)}interpolate(l,h,m){const v=ba[this.specification.type];return v?v(l,h,m):l}}class Gn{constructor(l,h){this.specification=l,this.overrides=h}possiblyEvaluate(l,h,m,v){return new hc(this,l.expression.kind==="constant"||l.expression.kind==="camera"?{kind:"constant",value:l.expression.evaluate(h,null,{},m,v)}:l.expression,h)}interpolate(l,h,m){if(l.value.kind!=="constant"||h.value.kind!=="constant")return l;if(l.value.value===void 0||h.value.value===void 0)return new hc(this,{kind:"constant",value:void 0},l.parameters);const v=ba[this.specification.type];if(v){const B=v(l.value.value,h.value.value,m);return new hc(this,{kind:"constant",value:B},l.parameters)}return l}evaluate(l,h,m,v,B,E){return l.kind==="constant"?l.value:l.evaluate(h,m,v,B,E)}}class bf extends Gn{possiblyEvaluate(l,h,m,v){if(l.value===void 0)return new hc(this,{kind:"constant",value:void 0},h);if(l.expression.kind==="constant"){const B=l.expression.evaluate(h,null,{},m,v),E=l.property.specification.type==="resolvedImage"&&typeof B!="string"?B.name:B,D=this._calculate(E,E,E,h);return new hc(this,{kind:"constant",value:D},h)}if(l.expression.kind==="camera"){const B=this._calculate(l.expression.evaluate({zoom:h.zoom-1}),l.expression.evaluate({zoom:h.zoom}),l.expression.evaluate({zoom:h.zoom+1}),h);return new hc(this,{kind:"constant",value:B},h)}return new hc(this,l.expression,h)}evaluate(l,h,m,v,B,E){if(l.kind==="source"){const D=l.evaluate(h,m,v,B,E);return this._calculate(D,D,D,h)}return l.kind==="composite"?this._calculate(l.evaluate({zoom:Math.floor(h.zoom)-1},m,v),l.evaluate({zoom:Math.floor(h.zoom)},m,v),l.evaluate({zoom:Math.floor(h.zoom)+1},m,v),h):l.value}_calculate(l,h,m,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:m,to:h}}interpolate(l){return l}}class GA{constructor(l){this.specification=l}possiblyEvaluate(l,h,m,v){if(l.value!==void 0){if(l.expression.kind==="constant"){const B=l.expression.evaluate(h,null,{},m,v);return this._calculate(B,B,B,h)}return this._calculate(l.expression.evaluate(new cr(Math.floor(h.zoom-1),h)),l.expression.evaluate(new cr(Math.floor(h.zoom),h)),l.expression.evaluate(new cr(Math.floor(h.zoom+1),h)),h)}}_calculate(l,h,m,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:l,to:h}:{from:m,to:h}}interpolate(l){return l}}class WA{constructor(l){this.specification=l}possiblyEvaluate(l,h,m,v){return!!l.expression.evaluate(h,null,{},m,v)}interpolate(){return!1}}class No{constructor(l){this.properties=l,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const h in l){const m=l[h];m.specification.overridable&&this.overridableProperties.push(h);const v=this.defaultPropertyValues[h]=new jA(m,void 0,void 0),B=this.defaultTransitionablePropertyValues[h]=new VA(m,void 0);this.defaultTransitioningPropertyValues[h]=B.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=v.possiblyEvaluate({})}}}Zi("DataDrivenProperty",Gn),Zi("DataConstantProperty",kn),Zi("CrossFadedDataDrivenProperty",bf),Zi("CrossFadedProperty",GA),Zi("ColorRampProperty",WA);class Hl extends In{constructor(l,h,m){if(super(),this.id=l.id,this.type=l.type,this._globalState=m,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},l.type!=="custom"&&(this.metadata=l.metadata,this.minzoom=l.minzoom,this.maxzoom=l.maxzoom,this._visibilityExpression=(function(v,B){return new rs(v,B)})(this.visibility,m),l.type!=="background"&&(this.source=l.source,this.sourceLayer=l["source-layer"],this.filter=l.filter,this._featureFilter=Ol(l.filter,m)),h.layout&&(this._unevaluatedLayout=new dy(h.layout,m)),h.paint)){this._transitionablePaint=new Rg(h.paint,m);for(const v in l.paint)this.setPaintProperty(v,l.paint[v],{validate:!1});for(const v in l.layout)this.setLayoutProperty(v,l.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new wf(h.paint)}}setFilter(l){this.filter=l,this._featureFilter=Ol(l,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(l){return l==="visibility"?this.visibility:this._unevaluatedLayout.getValue(l)}getLayoutAffectingGlobalStateRefs(){const l=new Set;for(const h of this._visibilityExpression.getGlobalStateRefs())l.add(h);if(this._unevaluatedLayout)for(const h in this._unevaluatedLayout._values){const m=this._unevaluatedLayout._values[h];for(const v of m.getGlobalStateRefs())l.add(v)}for(const h of this._featureFilter.getGlobalStateRefs())l.add(h);return l}getPaintAffectingGlobalStateRefs(){var l;const h=new globalThis.Map;if(this._transitionablePaint)for(const m in this._transitionablePaint._values){const v=this._transitionablePaint._values[m].value;for(const B of v.getGlobalStateRefs()){const E=(l=h.get(B))!==null&&l!==void 0?l:[];E.push({name:m,value:v.value}),h.set(B,E)}}return h}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(l,h,m={}){if(h==null||!this._validate(_f,`layers.${this.id}.layout.${l}`,l,h,m))return l==="visibility"?(this.visibility=h,this._visibilityExpression.setValue(h),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(l,h)}getPaintProperty(l){return l.endsWith(vf)?this._transitionablePaint.getTransition(l.slice(0,-11)):this._transitionablePaint.getValue(l)}setPaintProperty(l,h,m={}){if(h!=null&&this._validate(Xu,`layers.${this.id}.paint.${l}`,l,h,m))return!1;if(l.endsWith(vf))return this._transitionablePaint.setTransition(l.slice(0,-11),h||void 0),!1;{const v=this._transitionablePaint._values[l],B=v.property.specification["property-type"]==="cross-faded-data-driven",E=v.value.isDataDriven(),D=v.value;this._transitionablePaint.setValue(l,h),this._handleSpecialPaintPropertyUpdate(l);const N=this._transitionablePaint._values[l].value;return N.isDataDriven()||E||B||this._handleOverridablePaintPropertyUpdate(l,D,N)}}_handleSpecialPaintPropertyUpdate(l){}_handleOverridablePaintPropertyUpdate(l,h,m){return!1}isHidden(l=this.minzoom,h=!1){return!!(this.minzoom&&l<(h?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&l>=this.maxzoom)||this._evaluatedVisibility==="none"}updateTransitions(l){this._transitioningPaint=this._transitionablePaint.transitioned(l,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(l,h){l.getCrossfadeParameters&&(this._crossfadeParameters=l.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(l,void 0,h)),this.paint=this._transitioningPaint.possiblyEvaluate(l,void 0,h)}serialize(){const l={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(l.layout=l.layout||{},l.layout.visibility=this.visibility),oi(l,((h,m)=>!(h===void 0||m==="layout"&&!Object.keys(h).length||m==="paint"&&!Object.keys(h).length)))}_validate(l,h,m,v,B={}){return(!B||B.validate!==!1)&&Yu(this,l.call(Kr,{key:h,layerType:this.type,objectKey:m,value:v,styleSpec:Tt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const l in this.paint._values){const h=this.paint.get(l);if(h instanceof hc&&da(h.property.specification)&&(h.value.kind==="source"||h.value.kind==="composite")&&h.value.isStateDependent)return!0}return!1}}let Og;var fy={get paint(){return Og=Og||new No({"raster-opacity":new kn(Tt.paint_raster["raster-opacity"]),"raster-hue-rotate":new kn(Tt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new kn(Tt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new kn(Tt.paint_raster["raster-brightness-max"]),"raster-saturation":new kn(Tt.paint_raster["raster-saturation"]),"raster-contrast":new kn(Tt.paint_raster["raster-contrast"]),"raster-resampling":new kn(Tt.paint_raster["raster-resampling"]),"raster-fade-duration":new kn(Tt.paint_raster["raster-fade-duration"])})}};class jv extends Hl{constructor(l,h){super(l,fy,h)}}const Vv={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Cf{constructor(l,h){this._structArray=l,this._pos1=h*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Zr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(l,h){return l._trim(),h&&(l.isTransferred=!0,h.push(l.arrayBuffer)),{length:l.length,arrayBuffer:l.arrayBuffer}}static deserialize(l){const h=Object.create(this.prototype);return h.arrayBuffer=l.arrayBuffer,h.length=l.length,h.capacity=l.arrayBuffer.byteLength/h.bytesPerElement,h._refreshViews(),h}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(l){this.reserve(l),this.length=l}reserve(l){if(l>this.capacity){this.capacity=Math.max(l,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const h=this.uint8;this._refreshViews(),h&&this.uint8.set(h)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function As(f,l=1){let h=0,m=0;return{members:f.map((v=>{const B=Vv[v.type].BYTES_PER_ELEMENT,E=h=Rh(h,Math.max(l,B)),D=v.components||1;return m=Math.max(m,B),h+=B*D,{name:v.name,type:v.type,components:D,offset:E}})),size:Rh(h,Math.max(m,l)),alignment:l}}function Rh(f,l){return Math.ceil(f/l)*l}class Sf extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h){const m=this.length;return this.resize(m+1),this.emplace(m,l,h)}emplace(l,h,m){const v=2*l;return this.int16[v+0]=h,this.int16[v+1]=m,l}}Sf.prototype.bytesPerElement=4,Zi("StructArrayLayout2i4",Sf);class $A extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m){const v=this.length;return this.resize(v+1),this.emplace(v,l,h,m)}emplace(l,h,m,v){const B=3*l;return this.int16[B+0]=h,this.int16[B+1]=m,this.int16[B+2]=v,l}}$A.prototype.bytesPerElement=6,Zi("StructArrayLayout3i6",$A);class Ug extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v){const B=this.length;return this.resize(B+1),this.emplace(B,l,h,m,v)}emplace(l,h,m,v,B){const E=4*l;return this.int16[E+0]=h,this.int16[E+1]=m,this.int16[E+2]=v,this.int16[E+3]=B,l}}Ug.prototype.bytesPerElement=8,Zi("StructArrayLayout4i8",Ug);class XA extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,m,v,B,E)}emplace(l,h,m,v,B,E,D){const N=6*l;return this.int16[N+0]=h,this.int16[N+1]=m,this.int16[N+2]=v,this.int16[N+3]=B,this.int16[N+4]=E,this.int16[N+5]=D,l}}XA.prototype.bytesPerElement=12,Zi("StructArrayLayout2i4i12",XA);class Ng extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,m,v,B,E)}emplace(l,h,m,v,B,E,D){const N=4*l,G=8*l;return this.int16[N+0]=h,this.int16[N+1]=m,this.uint8[G+4]=v,this.uint8[G+5]=B,this.uint8[G+6]=E,this.uint8[G+7]=D,l}}Ng.prototype.bytesPerElement=8,Zi("StructArrayLayout2i4ub8",Ng);class Bf extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h){const m=this.length;return this.resize(m+1),this.emplace(m,l,h)}emplace(l,h,m){const v=2*l;return this.float32[v+0]=h,this.float32[v+1]=m,l}}Bf.prototype.bytesPerElement=8,Zi("StructArrayLayout2f8",Bf);class gu extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N,G,K){const ae=this.length;return this.resize(ae+1),this.emplace(ae,l,h,m,v,B,E,D,N,G,K)}emplace(l,h,m,v,B,E,D,N,G,K,ae){const le=10*l;return this.uint16[le+0]=h,this.uint16[le+1]=m,this.uint16[le+2]=v,this.uint16[le+3]=B,this.uint16[le+4]=E,this.uint16[le+5]=D,this.uint16[le+6]=N,this.uint16[le+7]=G,this.uint16[le+8]=K,this.uint16[le+9]=ae,l}}gu.prototype.bytesPerElement=20,Zi("StructArrayLayout10ui20",gu);class YA extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N){const G=this.length;return this.resize(G+1),this.emplace(G,l,h,m,v,B,E,D,N)}emplace(l,h,m,v,B,E,D,N,G){const K=8*l;return this.uint16[K+0]=h,this.uint16[K+1]=m,this.uint16[K+2]=v,this.uint16[K+3]=B,this.uint16[K+4]=E,this.uint16[K+5]=D,this.uint16[K+6]=N,this.uint16[K+7]=G,l}}YA.prototype.bytesPerElement=16,Zi("StructArrayLayout8ui16",YA);class Ef extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N,G,K,ae,le){const ce=this.length;return this.resize(ce+1),this.emplace(ce,l,h,m,v,B,E,D,N,G,K,ae,le)}emplace(l,h,m,v,B,E,D,N,G,K,ae,le,ce){const pe=12*l;return this.int16[pe+0]=h,this.int16[pe+1]=m,this.int16[pe+2]=v,this.int16[pe+3]=B,this.uint16[pe+4]=E,this.uint16[pe+5]=D,this.uint16[pe+6]=N,this.uint16[pe+7]=G,this.int16[pe+8]=K,this.int16[pe+9]=ae,this.int16[pe+10]=le,this.int16[pe+11]=ce,l}}Ef.prototype.bytesPerElement=24,Zi("StructArrayLayout4i4ui4i24",Ef);class KA extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,m){const v=this.length;return this.resize(v+1),this.emplace(v,l,h,m)}emplace(l,h,m,v){const B=3*l;return this.float32[B+0]=h,this.float32[B+1]=m,this.float32[B+2]=v,l}}KA.prototype.bytesPerElement=12,Zi("StructArrayLayout3f12",KA);class kf extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint32[1*l+0]=h,l}}kf.prototype.bytesPerElement=4,Zi("StructArrayLayout1ul4",kf);class zg extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N,G){const K=this.length;return this.resize(K+1),this.emplace(K,l,h,m,v,B,E,D,N,G)}emplace(l,h,m,v,B,E,D,N,G,K){const ae=10*l,le=5*l;return this.int16[ae+0]=h,this.int16[ae+1]=m,this.int16[ae+2]=v,this.int16[ae+3]=B,this.int16[ae+4]=E,this.int16[ae+5]=D,this.uint32[le+3]=N,this.uint16[ae+8]=G,this.uint16[ae+9]=K,l}}zg.prototype.bytesPerElement=20,Zi("StructArrayLayout6i1ul2ui20",zg);class bd extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,m,v,B,E)}emplace(l,h,m,v,B,E,D){const N=6*l;return this.int16[N+0]=h,this.int16[N+1]=m,this.int16[N+2]=v,this.int16[N+3]=B,this.int16[N+4]=E,this.int16[N+5]=D,l}}bd.prototype.bytesPerElement=12,Zi("StructArrayLayout2i2i2i12",bd);class Oh extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B){const E=this.length;return this.resize(E+1),this.emplace(E,l,h,m,v,B)}emplace(l,h,m,v,B,E){const D=4*l,N=8*l;return this.float32[D+0]=h,this.float32[D+1]=m,this.float32[D+2]=v,this.int16[N+6]=B,this.int16[N+7]=E,l}}Oh.prototype.bytesPerElement=16,Zi("StructArrayLayout2f1f2i16",Oh);class Hg extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E){const D=this.length;return this.resize(D+1),this.emplace(D,l,h,m,v,B,E)}emplace(l,h,m,v,B,E,D){const N=16*l,G=4*l,K=8*l;return this.uint8[N+0]=h,this.uint8[N+1]=m,this.float32[G+1]=v,this.float32[G+2]=B,this.int16[K+6]=E,this.int16[K+7]=D,l}}Hg.prototype.bytesPerElement=16,Zi("StructArrayLayout2ub2f2i16",Hg);class Tf extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m){const v=this.length;return this.resize(v+1),this.emplace(v,l,h,m)}emplace(l,h,m,v){const B=3*l;return this.uint16[B+0]=h,this.uint16[B+1]=m,this.uint16[B+2]=v,l}}Tf.prototype.bytesPerElement=6,Zi("StructArrayLayout3ui6",Tf);class Uh extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le){const Je=this.length;return this.resize(Je+1),this.emplace(Je,l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le)}emplace(l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le,Je){const Pe=24*l,Oe=12*l,it=48*l;return this.int16[Pe+0]=h,this.int16[Pe+1]=m,this.uint16[Pe+2]=v,this.uint16[Pe+3]=B,this.uint32[Oe+2]=E,this.uint32[Oe+3]=D,this.uint32[Oe+4]=N,this.uint16[Pe+10]=G,this.uint16[Pe+11]=K,this.uint16[Pe+12]=ae,this.float32[Oe+7]=le,this.float32[Oe+8]=ce,this.uint8[it+36]=pe,this.uint8[it+37]=me,this.uint8[it+38]=_e,this.uint32[Oe+10]=Le,this.int16[Pe+22]=Je,l}}Uh.prototype.bytesPerElement=48,Zi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Uh);class Qg extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le,Je,Pe,Oe,it,lt,Rt,ri,ei,Ai,Ui,yi){const ii=this.length;return this.resize(ii+1),this.emplace(ii,l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le,Je,Pe,Oe,it,lt,Rt,ri,ei,Ai,Ui,yi)}emplace(l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe,me,_e,Le,Je,Pe,Oe,it,lt,Rt,ri,ei,Ai,Ui,yi,ii){const Vt=32*l,tn=16*l;return this.int16[Vt+0]=h,this.int16[Vt+1]=m,this.int16[Vt+2]=v,this.int16[Vt+3]=B,this.int16[Vt+4]=E,this.int16[Vt+5]=D,this.int16[Vt+6]=N,this.int16[Vt+7]=G,this.uint16[Vt+8]=K,this.uint16[Vt+9]=ae,this.uint16[Vt+10]=le,this.uint16[Vt+11]=ce,this.uint16[Vt+12]=pe,this.uint16[Vt+13]=me,this.uint16[Vt+14]=_e,this.uint16[Vt+15]=Le,this.uint16[Vt+16]=Je,this.uint16[Vt+17]=Pe,this.uint16[Vt+18]=Oe,this.uint16[Vt+19]=it,this.uint16[Vt+20]=lt,this.uint16[Vt+21]=Rt,this.uint16[Vt+22]=ri,this.uint32[tn+12]=ei,this.float32[tn+13]=Ai,this.float32[tn+14]=Ui,this.uint16[Vt+30]=yi,this.uint16[Vt+31]=ii,l}}Qg.prototype.bytesPerElement=64,Zi("StructArrayLayout8i15ui1ul2f2ui64",Qg);class qA extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.float32[1*l+0]=h,l}}qA.prototype.bytesPerElement=4,Zi("StructArrayLayout1f4",qA);class ZA extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,m){const v=this.length;return this.resize(v+1),this.emplace(v,l,h,m)}emplace(l,h,m,v){const B=3*l;return this.uint16[6*l+0]=h,this.float32[B+1]=m,this.float32[B+2]=v,l}}ZA.prototype.bytesPerElement=12,Zi("StructArrayLayout1ui2f12",ZA);class jg extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h,m){const v=this.length;return this.resize(v+1),this.emplace(v,l,h,m)}emplace(l,h,m,v){const B=4*l;return this.uint32[2*l+0]=h,this.uint16[B+2]=m,this.uint16[B+3]=v,l}}jg.prototype.bytesPerElement=8,Zi("StructArrayLayout1ul2ui8",jg);class M extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l,h){const m=this.length;return this.resize(m+1),this.emplace(m,l,h)}emplace(l,h,m){const v=2*l;return this.uint16[v+0]=h,this.uint16[v+1]=m,l}}M.prototype.bytesPerElement=4,Zi("StructArrayLayout2ui4",M);class c extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(l){const h=this.length;return this.resize(h+1),this.emplace(h,l)}emplace(l,h){return this.uint16[1*l+0]=h,l}}c.prototype.bytesPerElement=2,Zi("StructArrayLayout1ui2",c);class A extends Zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(l,h,m,v){const B=this.length;return this.resize(B+1),this.emplace(B,l,h,m,v)}emplace(l,h,m,v,B){const E=4*l;return this.float32[E+0]=h,this.float32[E+1]=m,this.float32[E+2]=v,this.float32[E+3]=B,l}}A.prototype.bytesPerElement=16,Zi("StructArrayLayout4f16",A);class _ extends Cf{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new u(this.anchorPointX,this.anchorPointY)}}_.prototype.size=20;class C extends zg{get(l){return new _(this,l)}}Zi("CollisionBoxArray",C);class F extends Cf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(l){this._structArray.uint8[this._pos1+37]=l}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(l){this._structArray.uint8[this._pos1+38]=l}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(l){this._structArray.uint32[this._pos4+10]=l}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}F.prototype.size=48;class U extends Uh{get(l){return new F(this,l)}}Zi("PlacedSymbolArray",U);class V extends Cf{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(l){this._structArray.uint32[this._pos4+12]=l}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}V.prototype.size=64;class X extends Qg{get(l){return new V(this,l)}}Zi("SymbolInstanceArray",X);class ie extends qA{getoffsetX(l){return this.float32[1*l+0]}}Zi("GlyphOffsetArray",ie);class se extends $A{getx(l){return this.int16[3*l+0]}gety(l){return this.int16[3*l+1]}gettileUnitDistanceFromAnchor(l){return this.int16[3*l+2]}}Zi("SymbolLineVertexArray",se);class fe extends Cf{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}fe.prototype.size=12;class ue extends ZA{get(l){return new fe(this,l)}}Zi("TextAnchorOffsetArray",ue);class ye extends Cf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}ye.prototype.size=8;class Te extends jg{get(l){return new ye(this,l)}}Zi("FeatureIndexArray",Te);class Ne extends Sf{}class Ge extends Sf{}class He extends Sf{}class et extends XA{}class ct extends Ng{}class Ze extends Bf{}class ot extends gu{}class At extends YA{}class rt extends Ef{}class St extends KA{}class Xt extends kf{}class Ut extends bd{}class zt extends Hg{}class Ht extends Tf{}class Ti extends M{}const Li=As([{name:"a_pos",components:2,type:"Int16"}],4),{members:pi}=Li;class zi{constructor(l=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=l}prepareSegment(l,h,m,v){const B=this.segments[this.segments.length-1];return l>zi.MAX_VERTEX_ARRAY_LENGTH&&Ji(`Max vertices per segment is ${zi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${l}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${zi.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!B||B.vertexLength+l>zi.MAX_VERTEX_ARRAY_LENGTH||B.sortKey!==v?this.createNewSegment(h,m,v):B}createNewSegment(l,h,m){const v={vertexOffset:l.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0,vaos:{}};return m!==void 0&&(v.sortKey=m),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(v),v}getOrCreateLatestSegment(l,h,m){return this.prepareSegment(0,l,h,m)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const l of this.segments)for(const h in l.vaos)l.vaos[h].destroy()}static simpleSegment(l,h,m,v){return new zi([{vertexOffset:l,primitiveOffset:h,vertexLength:m,primitiveLength:v,vaos:{},sortKey:0}])}}function ua(f,l){return 256*(f=mt(Math.floor(f),0,255))+mt(Math.floor(l),0,255)}zi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zi("SegmentVector",zi);const tr=As([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Rr=As([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var gr,Qr,mr,os={exports:{}},jr={exports:{}},io={exports:{}},Cs=(function(){if(mr)return os.exports;mr=1;var f=(gr||(gr=1,jr.exports=function(h,m){var v,B,E,D,N,G,K,ae;for(B=h.length-(v=3&h.length),E=m,N=3432918353,G=461845907,ae=0;ae<B;)K=255&h.charCodeAt(ae)|(255&h.charCodeAt(++ae))<<8|(255&h.charCodeAt(++ae))<<16|(255&h.charCodeAt(++ae))<<24,++ae,E=27492+(65535&(D=5*(65535&(E=(E^=K=(65535&(K=(K=(65535&K)*N+(((K>>>16)*N&65535)<<16)&4294967295)<<15|K>>>17))*G+(((K>>>16)*G&65535)<<16)&4294967295)<<13|E>>>19))+((5*(E>>>16)&65535)<<16)&4294967295))+((58964+(D>>>16)&65535)<<16);switch(K=0,v){case 3:K^=(255&h.charCodeAt(ae+2))<<16;case 2:K^=(255&h.charCodeAt(ae+1))<<8;case 1:E^=K=(65535&(K=(K=(65535&(K^=255&h.charCodeAt(ae)))*N+(((K>>>16)*N&65535)<<16)&4294967295)<<15|K>>>17))*G+(((K>>>16)*G&65535)<<16)&4294967295}return E^=h.length,E=2246822507*(65535&(E^=E>>>16))+((2246822507*(E>>>16)&65535)<<16)&4294967295,E=3266489909*(65535&(E^=E>>>13))+((3266489909*(E>>>16)&65535)<<16)&4294967295,(E^=E>>>16)>>>0}),jr.exports),l=(Qr||(Qr=1,io.exports=function(h,m){for(var v,B=h.length,E=m^B,D=0;B>=4;)v=1540483477*(65535&(v=255&h.charCodeAt(D)|(255&h.charCodeAt(++D))<<8|(255&h.charCodeAt(++D))<<16|(255&h.charCodeAt(++D))<<24))+((1540483477*(v>>>16)&65535)<<16),E=1540483477*(65535&E)+((1540483477*(E>>>16)&65535)<<16)^(v=1540483477*(65535&(v^=v>>>24))+((1540483477*(v>>>16)&65535)<<16)),B-=4,++D;switch(B){case 3:E^=(255&h.charCodeAt(D+2))<<16;case 2:E^=(255&h.charCodeAt(D+1))<<8;case 1:E=1540483477*(65535&(E^=255&h.charCodeAt(D)))+((1540483477*(E>>>16)&65535)<<16)}return E=1540483477*(65535&(E^=E>>>13))+((1540483477*(E>>>16)&65535)<<16),(E^=E>>>15)>>>0}),io.exports);return os.exports=f,os.exports.murmur3=f,os.exports.murmur2=l,os.exports})(),ps=d(Cs);class ho{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(l,h,m,v){this.ids.push(Zu(l)),this.positions.push(h,m,v)}getPositions(l){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const h=Zu(l);let m=0,v=this.ids.length-1;for(;m<v;){const E=m+v>>1;this.ids[E]>=h?v=E:m=E+1}const B=[];for(;this.ids[m]===h;)B.push({index:this.positions[3*m],start:this.positions[3*m+1],end:this.positions[3*m+2]}),m++;return B}static serialize(l,h){const m=new Float64Array(l.ids),v=new Uint32Array(l.positions);return mu(m,v,0,m.length-1),h&&h.push(m.buffer,v.buffer),{ids:m,positions:v}}static deserialize(l){const h=new ho;return h.ids=l.ids,h.positions=l.positions,h.indexed=!0,h}}function Zu(f){const l=+f;return!isNaN(l)&&l<=Number.MAX_SAFE_INTEGER?l:ps(String(f))}function mu(f,l,h,m){for(;h<m;){const v=f[h+m>>1];let B=h-1,E=m+1;for(;;){do B++;while(f[B]<v);do E--;while(f[E]>v);if(B>=E)break;Hc(f,B,E),Hc(l,3*B,3*E),Hc(l,3*B+1,3*E+1),Hc(l,3*B+2,3*E+2)}E-h<m-E?(mu(f,l,h,E),h=E+1):(mu(f,l,E+1,m),m=E)}}function Hc(f,l,h){const m=f[l];f[l]=f[h],f[h]=m}Zi("FeaturePositionMap",ho);class el{constructor(l,h){this.gl=l.gl,this.location=h}}class Nh extends el{constructor(l,h){super(l,h),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1f(this.location,l))}}class If extends el{constructor(l,h){super(l,h),this.current=[0,0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]&&l[3]===this.current[3]||(this.current=l,this.gl.uniform4f(this.location,l[0],l[1],l[2],l[3]))}}class zh extends el{constructor(l,h){super(l,h),this.current=mn.transparent}set(l){l.r===this.current.r&&l.g===this.current.g&&l.b===this.current.b&&l.a===this.current.a||(this.current=l,this.gl.uniform4f(this.location,l.r,l.g,l.b,l.a))}}const Ql=new Float32Array(16);function Qc(f){return[ua(255*f.r,255*f.g),ua(255*f.b,255*f.a)]}class dc{constructor(l,h,m){this.value=l,this.uniformNames=h.map((v=>`u_${v}`)),this.type=m}setUniform(l,h,m){l.set(m.constantOr(this.value))}getBinding(l,h,m){return this.type==="color"?new zh(l,h):new Nh(l,h)}}class fc{constructor(l,h){this.uniformNames=h.map((m=>`u_${m}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(l,h){this.pixelRatioFrom=h.pixelRatio,this.pixelRatioTo=l.pixelRatio,this.patternFrom=h.tlbr,this.patternTo=l.tlbr}setConstantDashPositions(l,h){this.dashTo=[0,l.y,l.height,l.width],this.dashFrom=[0,h.y,h.height,h.width]}setUniform(l,h,m,v){let B=null;v==="u_pattern_to"?B=this.patternTo:v==="u_pattern_from"?B=this.patternFrom:v==="u_dasharray_to"?B=this.dashTo:v==="u_dasharray_from"?B=this.dashFrom:v==="u_pixel_ratio_to"?B=this.pixelRatioTo:v==="u_pixel_ratio_from"&&(B=this.pixelRatioFrom),B!==null&&l.set(B)}getBinding(l,h,m){return m.substr(0,9)==="u_pattern"||m.substr(0,12)==="u_dasharray_"?new If(l,h):new Nh(l,h)}}class kr{constructor(l,h,m,v){this.expression=l,this.type=m,this.maxValue=0,this.paintVertexAttributes=h.map((B=>({name:`a_${B}`,type:"Float32",components:m==="color"?2:1,offset:0}))),this.paintVertexArray=new v}populatePaintArray(l,h,m){const v=this.paintVertexArray.length,B=this.expression.evaluate(new cr(0,m),h,{},m.canonical,[],m.formattedSection);this.paintVertexArray.resize(l),this._setPaintValue(v,l,B)}updatePaintArray(l,h,m,v,B){const E=this.expression.evaluate(new cr(0,B),m,v);this._setPaintValue(l,h,E)}_setPaintValue(l,h,m){if(this.type==="color"){const v=Qc(m);for(let B=l;B<h;B++)this.paintVertexArray.emplace(B,v[0],v[1])}else{for(let v=l;v<h;v++)this.paintVertexArray.emplace(v,m);this.maxValue=Math.max(this.maxValue,Math.abs(m))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class yr{constructor(l,h,m,v,B,E){this.expression=l,this.uniformNames=h.map((D=>`u_${D}_t`)),this.type=m,this.useIntegerZoom=v,this.zoom=B,this.maxValue=0,this.paintVertexAttributes=h.map((D=>({name:`a_${D}`,type:"Float32",components:m==="color"?4:2,offset:0}))),this.paintVertexArray=new E}populatePaintArray(l,h,m){const v=this.expression.evaluate(new cr(this.zoom,m),h,{},m.canonical,[],m.formattedSection),B=this.expression.evaluate(new cr(this.zoom+1,m),h,{},m.canonical,[],m.formattedSection),E=this.paintVertexArray.length;this.paintVertexArray.resize(l),this._setPaintValue(E,l,v,B)}updatePaintArray(l,h,m,v,B){const E=this.expression.evaluate(new cr(this.zoom,B),m,v),D=this.expression.evaluate(new cr(this.zoom+1,B),m,v);this._setPaintValue(l,h,E,D)}_setPaintValue(l,h,m,v){if(this.type==="color"){const B=Qc(m),E=Qc(v);for(let D=l;D<h;D++)this.paintVertexArray.emplace(D,B[0],B[1],E[0],E[1])}else{for(let B=l;B<h;B++)this.paintVertexArray.emplace(B,m,v);this.maxValue=Math.max(this.maxValue,Math.abs(m),Math.abs(v))}}upload(l){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=l.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(l,h){const m=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,v=mt(this.expression.interpolationFactor(m,this.zoom,this.zoom+1),0,1);l.set(v)}getBinding(l,h,m){return new Nh(l,h)}}class Ws{constructor(l,h,m,v,B,E){this.expression=l,this.type=h,this.useIntegerZoom=m,this.zoom=v,this.layerId=E,this.zoomInPaintVertexArray=new B,this.zoomOutPaintVertexArray=new B}populatePaintArray(l,h,m){const v=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(l),this.zoomOutPaintVertexArray.resize(l),this._setPaintValues(v,l,this.getPositionIds(h),m)}updatePaintArray(l,h,m,v,B){this._setPaintValues(l,h,this.getPositionIds(m),B)}_setPaintValues(l,h,m,v){const B=this.getPositions(v);if(!B||!m)return;const E=B[m.min],D=B[m.mid],N=B[m.max];if(E&&D&&N)for(let G=l;G<h;G++)this.emplace(this.zoomInPaintVertexArray,G,D,E),this.emplace(this.zoomOutPaintVertexArray,G,D,N)}upload(l){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const h=this.getVertexAttributes();this.zoomInPaintVertexBuffer=l.createVertexBuffer(this.zoomInPaintVertexArray,h,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=l.createVertexBuffer(this.zoomOutPaintVertexArray,h,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $s extends Ws{getPositions(l){return l.imagePositions}getPositionIds(l){return l.patterns&&l.patterns[this.layerId]}getVertexAttributes(){return tr.members}emplace(l,h,m,v){l.emplace(h,m.tlbr[0],m.tlbr[1],m.tlbr[2],m.tlbr[3],v.tlbr[0],v.tlbr[1],v.tlbr[2],v.tlbr[3],m.pixelRatio,v.pixelRatio)}}class Ay extends Ws{getPositions(l){return l.dashPositions}getPositionIds(l){return l.dashes&&l.dashes[this.layerId]}getVertexAttributes(){return Rr.members}emplace(l,h,m,v){l.emplace(h,0,m.y,m.height,m.width,0,v.y,v.height,v.width)}}class py{constructor(l,h,m){this.binders={},this._buffers=[];const v=[];for(const B in l.paint._values){if(!m(B))continue;const E=l.paint.get(B);if(!(E instanceof hc&&da(E.property.specification)))continue;const D=Gv(B,l.type),N=E.value,G=E.property.specification.type,K=E.property.useIntegerZoom,ae=E.property.specification["property-type"],le=ae==="cross-faded"||ae==="cross-faded-data-driven";if(N.kind==="constant")this.binders[B]=le?new fc(N.value,D):new dc(N.value,D,G),v.push(`/u_${B}`);else if(N.kind==="source"||le){const ce=gy(B,G,"source");this.binders[B]=le?B==="line-dasharray"?new Ay(N,G,K,h,ce,l.id):new $s(N,G,K,h,ce,l.id):new kr(N,D,G,ce),v.push(`/a_${B}`)}else{const ce=gy(B,G,"composite");this.binders[B]=new yr(N,D,G,K,h,ce),v.push(`/z_${B}`)}}this.cacheKey=v.sort().join("")}getMaxValue(l){const h=this.binders[l];return h instanceof kr||h instanceof yr?h.maxValue:0}populatePaintArrays(l,h,m){for(const v in this.binders){const B=this.binders[v];(B instanceof kr||B instanceof yr||B instanceof Ws)&&B.populatePaintArray(l,h,m)}}setConstantPatternPositions(l,h){for(const m in this.binders){const v=this.binders[m];v instanceof fc&&v.setConstantPatternPositions(l,h)}}setConstantDashPositions(l,h){for(const m in this.binders){const v=this.binders[m];v instanceof fc&&v.setConstantDashPositions(l,h)}}updatePaintArrays(l,h,m,v,B){let E=!1;for(const D in l){const N=h.getPositions(D);for(const G of N){const K=m.feature(G.index);for(const ae in this.binders){const le=this.binders[ae];if((le instanceof kr||le instanceof yr||le instanceof Ws)&&le.expression.isStateDependent===!0){const ce=v.paint.get(ae);le.expression=ce.value,le.updatePaintArray(G.start,G.end,K,l[D],B),E=!0}}}}return E}defines(){const l=[];for(const h in this.binders){const m=this.binders[h];(m instanceof dc||m instanceof fc)&&l.push(...m.uniformNames.map((v=>`#define HAS_UNIFORM_${v}`)))}return l}getBinderAttributes(){const l=[];for(const h in this.binders){const m=this.binders[h];if(m instanceof kr||m instanceof yr)for(let v=0;v<m.paintVertexAttributes.length;v++)l.push(m.paintVertexAttributes[v].name);else if(m instanceof Ws){const v=m.getVertexAttributes();for(const B of v)l.push(B.name)}}return l}getBinderUniforms(){const l=[];for(const h in this.binders){const m=this.binders[h];if(m instanceof dc||m instanceof fc||m instanceof yr)for(const v of m.uniformNames)l.push(v)}return l}getPaintVertexBuffers(){return this._buffers}getUniforms(l,h){const m=[];for(const v in this.binders){const B=this.binders[v];if(B instanceof dc||B instanceof fc||B instanceof yr){for(const E of B.uniformNames)if(h[E]){const D=B.getBinding(l,h[E],E);m.push({name:E,property:v,binding:D})}}}return m}setUniforms(l,h,m,v){for(const{name:B,property:E,binding:D}of h)this.binders[E].setUniform(D,v,m.get(E),B)}updatePaintBuffers(l){this._buffers=[];for(const h in this.binders){const m=this.binders[h];if(l&&m instanceof Ws){const v=l.fromScale===2?m.zoomInPaintVertexBuffer:m.zoomOutPaintVertexBuffer;v&&this._buffers.push(v)}else(m instanceof kr||m instanceof yr)&&m.paintVertexBuffer&&this._buffers.push(m.paintVertexBuffer)}}upload(l){for(const h in this.binders){const m=this.binders[h];(m instanceof kr||m instanceof yr||m instanceof Ws)&&m.upload(l)}this.updatePaintBuffers()}destroy(){for(const l in this.binders){const h=this.binders[l];(h instanceof kr||h instanceof yr||h instanceof Ws)&&h.destroy()}}}class Hh{constructor(l,h,m=()=>!0){this.programConfigurations={};for(const v of l)this.programConfigurations[v.id]=new py(v,h,m);this.needsUpload=!1,this._featureMap=new ho,this._bufferOffset=0}populatePaintArrays(l,h,m,v){for(const B in this.programConfigurations)this.programConfigurations[B].populatePaintArrays(l,h,v);h.id!==void 0&&this._featureMap.add(h.id,m,this._bufferOffset,l),this._bufferOffset=l,this.needsUpload=!0}updatePaintArrays(l,h,m,v){for(const B of m)this.needsUpload=this.programConfigurations[B.id].updatePaintArrays(l,this._featureMap,h,B,v)||this.needsUpload}get(l){return this.programConfigurations[l]}upload(l){if(this.needsUpload){for(const h in this.programConfigurations)this.programConfigurations[h].upload(l);this.needsUpload=!1}}destroy(){for(const l in this.programConfigurations)this.programConfigurations[l].destroy()}}function Gv(f,l){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[f]||[f.replace(`${l}-`,"").replace(/-/g,"_")]}function gy(f,l,h){const m={color:{source:Bf,composite:A},number:{source:qA,composite:Bf}},v=(function(B){return{"line-pattern":{source:ot,composite:ot},"fill-pattern":{source:ot,composite:ot},"fill-extrusion-pattern":{source:ot,composite:ot},"line-dasharray":{source:At,composite:At}}[B]})(f);return v&&v[h]||m[l][h]}Zi("ConstantBinder",dc),Zi("CrossFadedConstantBinder",fc),Zi("SourceExpressionBinder",kr),Zi("CrossFadedPatternBinder",$s),Zi("CrossFadedDasharrayBinder",Ay),Zi("CompositeExpressionBinder",yr),Zi("ProgramConfiguration",py,{omit:["_buffers"]}),Zi("ProgramConfigurationSet",Hh);const Vg=Math.pow(2,14)-1,Ju=-Vg-1;function eh(f){const l=Mt/f.extent,h=f.loadGeometry();for(let m=0;m<h.length;m++){const v=h[m];for(let B=0;B<v.length;B++){const E=v[B],D=Math.round(E.x*l),N=Math.round(E.y*l);E.x=mt(D,Ju,Vg),E.y=mt(N,Ju,Vg),(D<E.x||D>E.x+1||N<E.y||N>E.y+1)&&Ji("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return h}function th(f,l){return{type:f.type,id:f.id,properties:f.properties,geometry:l?eh(f):[]}}const Gg=-32768;function Wg(f,l,h,m,v){f.emplaceBack(Gg+8*l+m,Gg+8*h+v)}class JA{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new Ge,this.indexArray=new Ht,this.segments=new zi,this.programConfigurations=new Hh(l.layers,l.zoom),this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,m){const v=this.layers[0],B=[];let E=null,D=!1,N=v.type==="heatmap";if(v.type==="circle"){const K=v;E=K.layout.get("circle-sort-key"),D=!E.isConstant(),N=N||K.paint.get("circle-pitch-alignment")==="map"}const G=N?h.subdivisionGranularity.circle:1;for(const{feature:K,id:ae,index:le,sourceLayerIndex:ce}of l){const pe=this.layers[0]._featureFilter.needGeometry,me=th(K,pe);if(!this.layers[0]._featureFilter.filter(new cr(this.zoom),me,m))continue;const _e=D?E.evaluate(me,{},m):void 0,Le={id:ae,properties:K.properties,type:K.type,sourceLayerIndex:ce,index:le,geometry:pe?me.geometry:eh(K),patterns:{},sortKey:_e};B.push(Le)}D&&B.sort(((K,ae)=>K.sortKey-ae.sortKey));for(const K of B){const{geometry:ae,index:le,sourceLayerIndex:ce}=K,pe=l[le].feature;this.addFeature(K,ae,le,m,G),h.featureIndex.insert(pe,ae,le,ce,this.index)}}update(l,h,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:m})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,pi),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(l,h,m,v,B=1){let E;switch(B){case 1:E=[0,7];break;case 3:E=[0,2,5,7];break;case 5:E=[0,1,3,4,6,7];break;case 7:E=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${B}; valid values are 1, 3, 5, 7.`)}const D=E.length;for(const N of h)for(const G of N){const K=G.x,ae=G.y;if(K<0||K>=Mt||ae<0||ae>=Mt)continue;const le=this.segments.prepareSegment(D*D,this.layoutVertexArray,this.indexArray,l.sortKey),ce=le.vertexLength;for(let pe=0;pe<D;pe++)for(let me=0;me<D;me++)Wg(this.layoutVertexArray,K,ae,E[me],E[pe]);for(let pe=0;pe<D-1;pe++)for(let me=0;me<D-1;me++){const _e=ce+pe*D+me,Le=ce+(pe+1)*D+me;this.indexArray.emplaceBack(_e,Le+1,_e+1),this.indexArray.emplaceBack(_e,Le,Le+1)}le.vertexLength+=D*D,le.primitiveLength+=(D-1)*(D-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:{},canonical:v})}}function ep(f,l){for(let h=0;h<f.length;h++)if(tp(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(tp(f,l[h]))return!0;return!!Wv(f,l)}function my(f,l,h){return!!tp(f,l)||!!$v(l,f,h)}function AB(f,l){if(f.length===1)return gB(l,f[0]);for(let h=0;h<l.length;h++){const m=l[h];for(let v=0;v<m.length;v++)if(tp(f,m[v]))return!0}for(let h=0;h<f.length;h++)if(gB(l,f[h]))return!0;for(let h=0;h<l.length;h++)if(Wv(f,l[h]))return!0;return!1}function y4(f,l,h){if(f.length>1){if(Wv(f,l))return!0;for(let m=0;m<l.length;m++)if($v(l[m],f,h))return!0}for(let m=0;m<f.length;m++)if($v(f[m],l,h))return!0;return!1}function Wv(f,l){if(f.length===0||l.length===0)return!1;for(let h=0;h<f.length-1;h++){const m=f[h],v=f[h+1];for(let B=0;B<l.length-1;B++)if(x4(m,v,l[B],l[B+1]))return!0}return!1}function x4(f,l,h,m){return rn(f,h,m)!==rn(l,h,m)&&rn(f,l,h)!==rn(f,l,m)}function $v(f,l,h){const m=h*h;if(l.length===1)return f.distSqr(l[0])<m;for(let v=1;v<l.length;v++)if(pB(f,l[v-1],l[v])<m)return!0;return!1}function pB(f,l,h){const m=l.distSqr(h);if(m===0)return f.distSqr(l);const v=((f.x-l.x)*(h.x-l.x)+(f.y-l.y)*(h.y-l.y))/m;return f.distSqr(v<0?l:v>1?h:h.sub(l)._mult(v)._add(l))}function gB(f,l){let h,m,v,B=!1;for(let E=0;E<f.length;E++){h=f[E];for(let D=0,N=h.length-1;D<h.length;N=D++)m=h[D],v=h[N],m.y>l.y!=v.y>l.y&&l.x<(v.x-m.x)*(l.y-m.y)/(v.y-m.y)+m.x&&(B=!B)}return B}function tp(f,l){let h=!1;for(let m=0,v=f.length-1;m<f.length;v=m++){const B=f[m],E=f[v];B.y>l.y!=E.y>l.y&&l.x<(E.x-B.x)*(l.y-B.y)/(E.y-B.y)+B.x&&(h=!h)}return h}function _4(f,l,h){const m=h[0],v=h[2];if(f.x<m.x&&l.x<m.x||f.x>v.x&&l.x>v.x||f.y<m.y&&l.y<m.y||f.y>v.y&&l.y>v.y)return!1;const B=rn(f,l,h[0]);return B!==rn(f,l,h[1])||B!==rn(f,l,h[2])||B!==rn(f,l,h[3])}function ip(f,l,h){const m=l.paint.get(f).value;return m.kind==="constant"?m.value:h.programConfigurations.get(l.id).getMaxValue(f)}function yy(f){return Math.sqrt(f[0]*f[0]+f[1]*f[1])}function xy(f,l,h,m,v){if(!l[0]&&!l[1])return f;const B=u.convert(l)._mult(v);h==="viewport"&&B._rotate(-m);const E=[];for(let D=0;D<f.length;D++)E.push(f[D].sub(B));return E}function v4(f){const l=[];for(let h=0;h<f.length;h++){const m=f[h],v=l.at(-1);(h===0||v&&!m.equals(v))&&l.push(m)}return l}function w4({queryGeometry:f,size:l},h){return my(f,h,l)}function b4({queryGeometry:f,size:l,transform:h,unwrappedTileID:m,getElevation:v},B){return my(f,B,l*(h.projectTileCoordinates(B.x,B.y,m,v).signedDistanceFromCamera/h.cameraToCenterDistance))}function C4({queryGeometry:f,size:l,transform:h,unwrappedTileID:m,getElevation:v},B){const E=h.projectTileCoordinates(B.x,B.y,m,v).signedDistanceFromCamera,D=l*(h.cameraToCenterDistance/E);return my(f,Xv(B,h,m,v),D)}function S4({queryGeometry:f,size:l,transform:h,unwrappedTileID:m,getElevation:v},B){return my(f,Xv(B,h,m,v),l)}function mB({queryGeometry:f,size:l,transform:h,unwrappedTileID:m,getElevation:v,pitchAlignment:B="map",pitchScale:E="map"},D){const N=B==="map"?E==="map"?w4:b4:E==="map"?C4:S4,G={queryGeometry:f,size:l,transform:h,unwrappedTileID:m,getElevation:v};for(const K of D)for(const ae of K)if(N(G,ae))return!0;return!1}function Xv(f,l,h,m){const v=l.projectTileCoordinates(f.x,f.y,h,m).point;return new u((.5*v.x+.5)*l.width,(.5*-v.y+.5)*l.height)}let yB,xB;Zi("CircleBucket",JA,{omit:["layers"]});var B4={get paint(){return xB=xB||new No({"circle-radius":new Gn(Tt.paint_circle["circle-radius"]),"circle-color":new Gn(Tt.paint_circle["circle-color"]),"circle-blur":new Gn(Tt.paint_circle["circle-blur"]),"circle-opacity":new Gn(Tt.paint_circle["circle-opacity"]),"circle-translate":new kn(Tt.paint_circle["circle-translate"]),"circle-translate-anchor":new kn(Tt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new kn(Tt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new kn(Tt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Gn(Tt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Gn(Tt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Gn(Tt.paint_circle["circle-stroke-opacity"])})},get layout(){return yB=yB||new No({"circle-sort-key":new Gn(Tt.layout_circle["circle-sort-key"])})}};class E4 extends Hl{constructor(l,h){super(l,B4,h)}createBucket(l){return new JA(l)}queryRadius(l){const h=l;return ip("circle-radius",this,h)+ip("circle-stroke-width",this,h)+yy(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:m,geometry:v,transform:B,pixelsToTileUnits:E,unwrappedTileID:D,getElevation:N}){const G=xy(l,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-B.bearingInRadians,E),K=this.paint.get("circle-radius").evaluate(h,m)+this.paint.get("circle-stroke-width").evaluate(h,m),ae=this.paint.get("circle-pitch-scale"),le=this.paint.get("circle-pitch-alignment");let ce,pe;return le==="map"?(ce=G,pe=K*E):(ce=(function(me,_e,Le,Je){return me.map((Pe=>Xv(Pe,_e,Le,Je)))})(G,B,D,N),pe=K),mB({queryGeometry:ce,size:pe,transform:B,unwrappedTileID:D,getElevation:N,pitchAlignment:le,pitchScale:ae},v)}}class _B extends JA{}let vB;Zi("HeatmapBucket",_B,{omit:["layers"]});var k4={get paint(){return vB=vB||new No({"heatmap-radius":new Gn(Tt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Gn(Tt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new kn(Tt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new WA(Tt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new kn(Tt.paint_heatmap["heatmap-opacity"])})}};function Yv(f,{width:l,height:h},m,v){if(v){if(v instanceof Uint8ClampedArray)v=new Uint8Array(v.buffer);else if(v.length!==l*h*m)throw new RangeError(`mismatched image size. expected: ${v.length} but got: ${l*h*m}`)}else v=new Uint8Array(l*h*m);return f.width=l,f.height=h,f.data=v,f}function wB(f,{width:l,height:h},m){if(l===f.width&&h===f.height)return;const v=Yv({},{width:l,height:h},m);Kv(f,v,{x:0,y:0},{x:0,y:0},{width:Math.min(f.width,l),height:Math.min(f.height,h)},m),f.width=l,f.height=h,f.data=v.data}function Kv(f,l,h,m,v,B){if(v.width===0||v.height===0)return l;if(v.width>f.width||v.height>f.height||h.x>f.width-v.width||h.y>f.height-v.height)throw new RangeError("out of range source coordinates for image copy");if(v.width>l.width||v.height>l.height||m.x>l.width-v.width||m.y>l.height-v.height)throw new RangeError("out of range destination coordinates for image copy");const E=f.data,D=l.data;if(E===D)throw new Error("srcData equals dstData, so image is already copied");for(let N=0;N<v.height;N++){const G=((h.y+N)*f.width+h.x)*B,K=((m.y+N)*l.width+m.x)*B;for(let ae=0;ae<v.width*B;ae++)D[K+ae]=E[G+ae]}return l}class $g{constructor(l,h){Yv(this,l,1,h)}resize(l){wB(this,l,1)}clone(){return new $g({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,m,v,B){Kv(l,h,m,v,B,1)}}class yl{constructor(l,h){Yv(this,l,4,h)}resize(l){wB(this,l,4)}replace(l,h){h?this.data.set(l):this.data=l instanceof Uint8ClampedArray?new Uint8Array(l.buffer):l}clone(){return new yl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(l,h,m,v,B){Kv(l,h,m,v,B,4)}setPixel(l,h,m){const v=4*(l*this.width+h);this.data[v+0]=Math.round(255*m.r/m.a),this.data[v+1]=Math.round(255*m.g/m.a),this.data[v+2]=Math.round(255*m.b/m.a),this.data[v+3]=Math.round(255*m.a)}}function bB(f){const l={},h=f.resolution||256,m=f.clips?f.clips.length:1,v=f.image||new yl({width:h,height:m});if(Math.log(h)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${h}`);const B=(E,D,N)=>{l[f.evaluationKey]=N;const G=f.expression.evaluate(l);v.setPixel(E/4/h,D/4,G)};if(f.clips)for(let E=0,D=0;E<m;++E,D+=4*h)for(let N=0,G=0;N<h;N++,G+=4){const K=N/(h-1),{start:ae,end:le}=f.clips[E];B(D,G,ae*(1-K)+le*K)}else for(let E=0,D=0;E<h;E++,D+=4)B(0,D,E/(h-1));return v}Zi("AlphaImage",$g),Zi("RGBAImage",yl);const qv="big-fb";class T4 extends Hl{createBucket(l){return new _B(l)}constructor(l,h){super(l,k4,h),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(l){l==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=bB({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(qv)&&this.heatmapFbos.delete(qv)}queryRadius(l){return ip("heatmap-radius",this,l)}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:m,geometry:v,transform:B,pixelsToTileUnits:E,unwrappedTileID:D,getElevation:N}){return mB({queryGeometry:l,size:this.paint.get("heatmap-radius").evaluate(h,m)*E,transform:B,unwrappedTileID:D,getElevation:N},v)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&!this.isHidden()}}let CB;var I4={get paint(){return CB=CB||new No({"hillshade-illumination-direction":new kn(Tt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new kn(Tt.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new kn(Tt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new kn(Tt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new kn(Tt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new kn(Tt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new kn(Tt.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new kn(Tt.paint_hillshade["hillshade-method"])})}};class M4 extends Hl{constructor(l,h){super(l,I4,h),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let l=this.paint.get("hillshade-illumination-direction").values,h=this.paint.get("hillshade-illumination-altitude").values,m=this.paint.get("hillshade-highlight-color").values,v=this.paint.get("hillshade-shadow-color").values;const B=Math.max(l.length,h.length,m.length,v.length);l=l.concat(Array(B-l.length).fill(l.at(-1))),h=h.concat(Array(B-h.length).fill(h.at(-1))),m=m.concat(Array(B-m.length).fill(m.at(-1))),v=v.concat(Array(B-v.length).fill(v.at(-1)));const E=h.map(Ei);return{directionRadians:l.map(Ei),altitudeRadians:E,shadowColor:v,highlightColor:m}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&!this.isHidden()}}let SB;var L4={get paint(){return SB=SB||new No({"color-relief-opacity":new kn(Tt["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new WA(Tt["paint_color-relief"]["color-relief-color"])})}};class Zv{constructor(l,h,m,v){this.context=l,this.format=m,this.texture=l.gl.createTexture(),this.update(h,v)}update(l,h,m){const{width:v,height:B}=l,E=!(this.size&&this.size[0]===v&&this.size[1]===B||m),{context:D}=this,{gl:N}=D;if(this.useMipmap=!!(h&&h.useMipmap),N.bindTexture(N.TEXTURE_2D,this.texture),D.pixelStoreUnpackFlipY.set(!1),D.pixelStoreUnpack.set(1),D.pixelStoreUnpackPremultiplyAlpha.set(this.format===N.RGBA&&(!h||h.premultiply!==!1)),E)this.size=[v,B],l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Yt(l)?N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,N.UNSIGNED_BYTE,l):N.texImage2D(N.TEXTURE_2D,0,this.format,v,B,0,this.format,N.UNSIGNED_BYTE,l.data);else{const{x:G,y:K}=m||{x:0,y:0};l instanceof HTMLImageElement||l instanceof HTMLCanvasElement||l instanceof HTMLVideoElement||l instanceof ImageData||Yt(l)?N.texSubImage2D(N.TEXTURE_2D,0,G,K,N.RGBA,N.UNSIGNED_BYTE,l):N.texSubImage2D(N.TEXTURE_2D,0,G,K,v,B,N.RGBA,N.UNSIGNED_BYTE,l.data)}this.useMipmap&&this.isSizePowerOfTwo()&&N.generateMipmap(N.TEXTURE_2D),D.pixelStoreUnpackFlipY.setDefault(),D.pixelStoreUnpack.setDefault(),D.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(l,h,m){const{context:v}=this,{gl:B}=v;B.bindTexture(B.TEXTURE_2D,this.texture),m!==B.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=B.LINEAR),l!==this.filter&&(B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,l),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,m||l),this.filter=l),h!==this.wrap&&(B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,h),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:l}=this.context;l.deleteTexture(this.texture),this.texture=null}}class BB{constructor(l,h,m,v=1,B=1,E=1,D=0){if(this.uid=l,h.height!==h.width)throw new RangeError("DEM tiles must be square");if(m&&!["mapbox","terrarium","custom"].includes(m))return void Ji(`"${m}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=h.height;const N=this.dim=h.height-2;switch(this.data=new Uint32Array(h.data.buffer),m){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=v,this.greenFactor=B,this.blueFactor=E,this.baseShift=D;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let G=0;G<N;G++)this.data[this._idx(-1,G)]=this.data[this._idx(0,G)],this.data[this._idx(N,G)]=this.data[this._idx(N-1,G)],this.data[this._idx(G,-1)]=this.data[this._idx(G,0)],this.data[this._idx(G,N)]=this.data[this._idx(G,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let G=0;G<N;G++)for(let K=0;K<N;K++){const ae=this.get(G,K);ae>this.max&&(this.max=ae),ae<this.min&&(this.min=ae)}}get(l,h){const m=new Uint8Array(this.data.buffer),v=4*this._idx(l,h);return this.unpack(m[v],m[v+1],m[v+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(l,h){if(l<-1||l>=this.dim+1||h<-1||h>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${l}, y: ${h}, dim: ${this.dim}`);return(h+1)*this.stride+(l+1)}unpack(l,h,m){return l*this.redFactor+h*this.greenFactor+m*this.blueFactor-this.baseShift}pack(l){return EB(l,this.getUnpackVector())}getPixels(){return new yl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(l,h,m){if(this.dim!==l.dim)throw new Error("dem dimension mismatch");let v=h*this.dim,B=h*this.dim+this.dim,E=m*this.dim,D=m*this.dim+this.dim;switch(h){case-1:v=B-1;break;case 1:B=v+1}switch(m){case-1:E=D-1;break;case 1:D=E+1}const N=-h*this.dim,G=-m*this.dim;for(let K=E;K<D;K++)for(let ae=v;ae<B;ae++)this.data[this._idx(ae,K)]=l.data[this._idx(ae+N,K+G)]}}function EB(f,l){const h=l[0],m=l[1],v=l[2],B=l[3],E=Math.min(h,m,v),D=Math.round((f+B)/E);return{r:Math.floor(D*E/h)%256,g:Math.floor(D*E/m)%256,b:Math.floor(D*E/v)%256}}Zi("DEMData",BB);class F4 extends Hl{constructor(l,h){super(l,L4,h)}_createColorRamp(l){const h={elevationStops:[],colorStops:[]},m=this._transitionablePaint._values["color-relief-color"].value.expression;if(m instanceof zu&&m._styleExpression.expression instanceof rr){this.colorRampExpression=m;const E=m._styleExpression.expression;h.elevationStops=E.labels,h.colorStops=[];for(const D of h.elevationStops)h.colorStops.push(E.evaluate({globals:{elevation:D}}))}if(h.elevationStops.length<1&&(h.elevationStops=[0],h.colorStops=[mn.transparent]),h.elevationStops.length<2&&(h.elevationStops.push(h.elevationStops[0]+1),h.colorStops.push(h.colorStops[0])),h.elevationStops.length<=l)return h;const v={elevationStops:[],colorStops:[]},B=(h.elevationStops.length-1)/(l-1);for(let E=0;E<h.elevationStops.length-.5;E+=B)v.elevationStops.push(h.elevationStops[Math.round(E)]),v.colorStops.push(h.colorStops[Math.round(E)]);return Ji(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${l}, provided: ${h.elevationStops.length}`),v}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(l,h,m){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const v=this._createColorRamp(h),B=new yl({width:v.colorStops.length,height:1}),E=new yl({width:v.colorStops.length,height:1});for(let D=0;D<v.elevationStops.length;D++){const N=EB(v.elevationStops[D],m);E.setPixel(0,D,new mn(N.r/255,N.g/255,N.b/255,1)),B.setPixel(0,D,v.colorStops[D])}return this.colorRampTextures={elevationTexture:new Zv(l,E,l.gl.RGBA),colorTexture:new Zv(l,B,l.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}const P4=As([{name:"a_pos",components:2,type:"Int16"}],4),{members:D4}=P4;function _y(f,l,h){const m=h.patternDependencies;let v=!1;for(const B of l){const E=B.paint.get(`${f}-pattern`);E.isConstant()||(v=!0);const D=E.constantOr(null);D&&(v=!0,m[D.to]=!0,m[D.from]=!0)}return v}function Jv(f,l,h,m,v){const{zoom:B}=m,E=v.patternDependencies;for(const D of l){const N=D.paint.get(`${f}-pattern`).value;if(N.kind!=="constant"){let G=N.evaluate({zoom:B-1},h,{},v.availableImages),K=N.evaluate({zoom:B},h,{},v.availableImages),ae=N.evaluate({zoom:B+1},h,{},v.availableImages);G=G&&G.name?G.name:G,K=K&&K.name?K.name:K,ae=ae&&ae.name?ae.name:ae,E[G]=!0,E[K]=!0,E[ae]=!0,h.patterns[D.id]={min:G,mid:K,max:ae}}}return h}function kB(f,l,h,m,v){let B;if(v===(function(E,D,N,G){let K=0;for(let ae=D,le=N-G;ae<N;ae+=G)K+=(E[le]-E[ae])*(E[ae+1]+E[le+1]),le=ae;return K})(f,l,h,m)>0)for(let E=l;E<h;E+=m)B=LB(E/m|0,f[E],f[E+1],B);else for(let E=h-m;E>=l;E-=m)B=LB(E/m|0,f[E],f[E+1],B);return B&&np(B,B.next)&&(qg(B),B=B.next),B}function Mf(f,l){if(!f)return f;l||(l=f);let h,m=f;do if(h=!1,m.steiner||!np(m,m.next)&&Ss(m.prev,m,m.next)!==0)m=m.next;else{if(qg(m),m=l=m.prev,m===m.next)break;h=!0}while(h||m!==l);return l}function Xg(f,l,h,m,v,B,E){if(!f)return;!E&&B&&(function(N,G,K,ae){let le=N;do le.z===0&&(le.z=ew(le.x,le.y,G,K,ae)),le.prevZ=le.prev,le.nextZ=le.next,le=le.next;while(le!==N);le.prevZ.nextZ=null,le.prevZ=null,(function(ce){let pe,me=1;do{let _e,Le=ce;ce=null;let Je=null;for(pe=0;Le;){pe++;let Pe=Le,Oe=0;for(let lt=0;lt<me&&(Oe++,Pe=Pe.nextZ,Pe);lt++);let it=me;for(;Oe>0||it>0&&Pe;)Oe!==0&&(it===0||!Pe||Le.z<=Pe.z)?(_e=Le,Le=Le.nextZ,Oe--):(_e=Pe,Pe=Pe.nextZ,it--),Je?Je.nextZ=_e:ce=_e,_e.prevZ=Je,Je=_e;Le=Pe}Je.nextZ=null,me*=2}while(pe>1)})(le)})(f,m,v,B);let D=f;for(;f.prev!==f.next;){const N=f.prev,G=f.next;if(B?O4(f,m,v,B):R4(f))l.push(N.i,f.i,G.i),qg(f),f=G.next,D=G.next;else if((f=G)===D){E?E===1?Xg(f=U4(Mf(f),l),l,h,m,v,B,2):E===2&&N4(f,l,h,m,v,B):Xg(Mf(f),l,h,m,v,B,1);break}}}function R4(f){const l=f.prev,h=f,m=f.next;if(Ss(l,h,m)>=0)return!1;const v=l.x,B=h.x,E=m.x,D=l.y,N=h.y,G=m.y,K=Math.min(v,B,E),ae=Math.min(D,N,G),le=Math.max(v,B,E),ce=Math.max(D,N,G);let pe=m.next;for(;pe!==l;){if(pe.x>=K&&pe.x<=le&&pe.y>=ae&&pe.y<=ce&&Yg(v,D,B,N,E,G,pe.x,pe.y)&&Ss(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function O4(f,l,h,m){const v=f.prev,B=f,E=f.next;if(Ss(v,B,E)>=0)return!1;const D=v.x,N=B.x,G=E.x,K=v.y,ae=B.y,le=E.y,ce=Math.min(D,N,G),pe=Math.min(K,ae,le),me=Math.max(D,N,G),_e=Math.max(K,ae,le),Le=ew(ce,pe,l,h,m),Je=ew(me,_e,l,h,m);let Pe=f.prevZ,Oe=f.nextZ;for(;Pe&&Pe.z>=Le&&Oe&&Oe.z<=Je;){if(Pe.x>=ce&&Pe.x<=me&&Pe.y>=pe&&Pe.y<=_e&&Pe!==v&&Pe!==E&&Yg(D,K,N,ae,G,le,Pe.x,Pe.y)&&Ss(Pe.prev,Pe,Pe.next)>=0||(Pe=Pe.prevZ,Oe.x>=ce&&Oe.x<=me&&Oe.y>=pe&&Oe.y<=_e&&Oe!==v&&Oe!==E&&Yg(D,K,N,ae,G,le,Oe.x,Oe.y)&&Ss(Oe.prev,Oe,Oe.next)>=0))return!1;Oe=Oe.nextZ}for(;Pe&&Pe.z>=Le;){if(Pe.x>=ce&&Pe.x<=me&&Pe.y>=pe&&Pe.y<=_e&&Pe!==v&&Pe!==E&&Yg(D,K,N,ae,G,le,Pe.x,Pe.y)&&Ss(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.prevZ}for(;Oe&&Oe.z<=Je;){if(Oe.x>=ce&&Oe.x<=me&&Oe.y>=pe&&Oe.y<=_e&&Oe!==v&&Oe!==E&&Yg(D,K,N,ae,G,le,Oe.x,Oe.y)&&Ss(Oe.prev,Oe,Oe.next)>=0)return!1;Oe=Oe.nextZ}return!0}function U4(f,l){let h=f;do{const m=h.prev,v=h.next.next;!np(m,v)&&IB(m,h,h.next,v)&&Kg(m,v)&&Kg(v,m)&&(l.push(m.i,h.i,v.i),qg(h),qg(h.next),h=f=v),h=h.next}while(h!==f);return Mf(h)}function N4(f,l,h,m,v,B){let E=f;do{let D=E.next.next;for(;D!==E.prev;){if(E.i!==D.i&&V4(E,D)){let N=MB(E,D);return E=Mf(E,E.next),N=Mf(N,N.next),Xg(E,l,h,m,v,B,0),void Xg(N,l,h,m,v,B,0)}D=D.next}E=E.next}while(E!==f)}function z4(f,l){let h=f.x-l.x;return h===0&&(h=f.y-l.y,h===0)&&(h=(f.next.y-f.y)/(f.next.x-f.x)-(l.next.y-l.y)/(l.next.x-l.x)),h}function H4(f,l){const h=(function(v,B){let E=B;const D=v.x,N=v.y;let G,K=-1/0;if(np(v,E))return E;do{if(np(v,E.next))return E.next;if(N<=E.y&&N>=E.next.y&&E.next.y!==E.y){const me=E.x+(N-E.y)*(E.next.x-E.x)/(E.next.y-E.y);if(me<=D&&me>K&&(K=me,G=E.x<E.next.x?E:E.next,me===D))return G}E=E.next}while(E!==B);if(!G)return null;const ae=G,le=G.x,ce=G.y;let pe=1/0;E=G;do{if(D>=E.x&&E.x>=le&&D!==E.x&&TB(N<ce?D:K,N,le,ce,N<ce?K:D,N,E.x,E.y)){const me=Math.abs(N-E.y)/(D-E.x);Kg(E,v)&&(me<pe||me===pe&&(E.x>G.x||E.x===G.x&&Q4(G,E)))&&(G=E,pe=me)}E=E.next}while(E!==ae);return G})(f,l);if(!h)return l;const m=MB(h,f);return Mf(m,m.next),Mf(h,h.next)}function Q4(f,l){return Ss(f.prev,f,l.prev)<0&&Ss(l.next,f,f.next)<0}function ew(f,l,h,m,v){return(f=1431655765&((f=858993459&((f=252645135&((f=16711935&((f=(f-h)*v|0)|f<<8))|f<<4))|f<<2))|f<<1))|(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-m)*v|0)|l<<8))|l<<4))|l<<2))|l<<1))<<1}function j4(f){let l=f,h=f;do(l.x<h.x||l.x===h.x&&l.y<h.y)&&(h=l),l=l.next;while(l!==f);return h}function TB(f,l,h,m,v,B,E,D){return(v-E)*(l-D)>=(f-E)*(B-D)&&(f-E)*(m-D)>=(h-E)*(l-D)&&(h-E)*(B-D)>=(v-E)*(m-D)}function Yg(f,l,h,m,v,B,E,D){return!(f===E&&l===D)&&TB(f,l,h,m,v,B,E,D)}function V4(f,l){return f.next.i!==l.i&&f.prev.i!==l.i&&!(function(h,m){let v=h;do{if(v.i!==h.i&&v.next.i!==h.i&&v.i!==m.i&&v.next.i!==m.i&&IB(v,v.next,h,m))return!0;v=v.next}while(v!==h);return!1})(f,l)&&(Kg(f,l)&&Kg(l,f)&&(function(h,m){let v=h,B=!1;const E=(h.x+m.x)/2,D=(h.y+m.y)/2;do v.y>D!=v.next.y>D&&v.next.y!==v.y&&E<(v.next.x-v.x)*(D-v.y)/(v.next.y-v.y)+v.x&&(B=!B),v=v.next;while(v!==h);return B})(f,l)&&(Ss(f.prev,f,l.prev)||Ss(f,l.prev,l))||np(f,l)&&Ss(f.prev,f,f.next)>0&&Ss(l.prev,l,l.next)>0)}function Ss(f,l,h){return(l.y-f.y)*(h.x-l.x)-(l.x-f.x)*(h.y-l.y)}function np(f,l){return f.x===l.x&&f.y===l.y}function IB(f,l,h,m){const v=wy(Ss(f,l,h)),B=wy(Ss(f,l,m)),E=wy(Ss(h,m,f)),D=wy(Ss(h,m,l));return v!==B&&E!==D||!(v!==0||!vy(f,h,l))||!(B!==0||!vy(f,m,l))||!(E!==0||!vy(h,f,m))||!(D!==0||!vy(h,l,m))}function vy(f,l,h){return l.x<=Math.max(f.x,h.x)&&l.x>=Math.min(f.x,h.x)&&l.y<=Math.max(f.y,h.y)&&l.y>=Math.min(f.y,h.y)}function wy(f){return f>0?1:f<0?-1:0}function Kg(f,l){return Ss(f.prev,f,f.next)<0?Ss(f,l,f.next)>=0&&Ss(f,f.prev,l)>=0:Ss(f,l,f.prev)<0||Ss(f,f.next,l)<0}function MB(f,l){const h=tw(f.i,f.x,f.y),m=tw(l.i,l.x,l.y),v=f.next,B=l.prev;return f.next=l,l.prev=f,h.next=v,v.prev=h,m.next=h,h.prev=m,B.next=m,m.prev=B,m}function LB(f,l,h,m){const v=tw(f,l,h);return m?(v.next=m.next,v.prev=m,m.next.prev=v,m.next=v):(v.prev=v,v.next=v),v}function qg(f){f.next.prev=f.prev,f.prev.next=f.next,f.prevZ&&(f.prevZ.nextZ=f.nextZ),f.nextZ&&(f.nextZ.prevZ=f.prevZ)}function tw(f,l,h){return{i:f,x:l,y:h,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class ap{constructor(l,h){if(h>l)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=l,this._minGranularity=h}getGranularityForZoomLevel(l){return Math.max(Math.floor(this._baseZoomGranularity/(1<<l)),this._minGranularity,1)}}class by{constructor(l){this.fill=l.fill,this.line=l.line,this.tile=l.tile,this.stencil=l.stencil,this.circle=l.circle}}by.noSubdivision=new by({fill:new ap(0,0),line:new ap(0,0),tile:new ap(0,0),stencil:new ap(0,0),circle:1}),Zi("SubdivisionGranularityExpression",ap),Zi("SubdivisionGranularitySetting",by);const rp=-32768,Zg=32767;class G4{constructor(l,h){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=l,this._granularityCellSize=Mt/l,this._canonical=h}_getKey(l,h){return(l+=32768)<<16|h+32768}_vertexToIndex(l,h){if(l<-32768||h<-32768||l>32767||h>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const m=0|Math.round(l),v=0|Math.round(h),B=this._getKey(m,v);if(this._vertexDictionary.has(B))return this._vertexDictionary.get(B);const E=this._vertexBuffer.length/2;return this._vertexDictionary.set(B,E),this._vertexBuffer.push(m,v),E}_subdivideTrianglesScanline(l){if(this._granularity<2)return(function(v,B){const E=[];for(let D=0;D<B.length;D+=3){const N=B[D],G=B[D+1],K=B[D+2],ae=v[2*N],le=v[2*N+1];(v[2*G]-ae)*(v[2*K+1]-le)-(v[2*G+1]-le)*(v[2*K]-ae)>0?(E.push(N),E.push(K),E.push(G)):(E.push(N),E.push(G),E.push(K))}return E})(this._vertexBuffer,l);const h=[],m=l.length;for(let v=0;v<m;v+=3){const B=[l[v+0],l[v+1],l[v+2]],E=[this._vertexBuffer[2*l[v+0]+0],this._vertexBuffer[2*l[v+0]+1],this._vertexBuffer[2*l[v+1]+0],this._vertexBuffer[2*l[v+1]+1],this._vertexBuffer[2*l[v+2]+0],this._vertexBuffer[2*l[v+2]+1]];let D=1/0,N=1/0,G=-1/0,K=-1/0;for(let me=0;me<3;me++){const _e=E[2*me],Le=E[2*me+1];D=Math.min(D,_e),G=Math.max(G,_e),N=Math.min(N,Le),K=Math.max(K,Le)}if(D===G||N===K)continue;const ae=Math.floor(D/this._granularityCellSize),le=Math.ceil(G/this._granularityCellSize),ce=Math.floor(N/this._granularityCellSize),pe=Math.ceil(K/this._granularityCellSize);if(ae!==le||ce!==pe)for(let me=ce;me<pe;me++){const _e=this._scanlineGenerateVertexRingForCellRow(me,E,B);W4(this._vertexBuffer,_e,h)}else h.push(...B)}return h}_scanlineGenerateVertexRingForCellRow(l,h,m){const v=l*this._granularityCellSize,B=v+this._granularityCellSize,E=[];for(let D=0;D<3;D++){const N=h[2*D],G=h[2*D+1],K=h[2*(D+1)%6],ae=h[(2*(D+1)+1)%6],le=h[2*(D+2)%6],ce=h[(2*(D+2)+1)%6],pe=K-N,me=ae-G,_e=pe===0,Le=me===0,Je=(v-G)/me,Pe=(B-G)/me,Oe=Math.min(Je,Pe),it=Math.max(Je,Pe);if(!Le&&(Oe>=1||it<=0)||Le&&(G<v||G>B)){ae>=v&&ae<=B&&E.push(m[(D+1)%3]);continue}!Le&&Oe>0&&E.push(this._vertexToIndex(N+pe*Oe,G+me*Oe));const lt=N+pe*Math.max(Oe,0),Rt=N+pe*Math.min(it,1);_e||this._generateIntraEdgeVertices(E,N,G,K,ae,lt,Rt),!Le&&it<1&&E.push(this._vertexToIndex(N+pe*it,G+me*it)),(Le||ae>=v&&ae<=B)&&E.push(m[(D+1)%3]),!Le&&(ae<=v||ae>=B)&&this._generateInterEdgeVertices(E,N,G,K,ae,le,ce,Rt,v,B)}return E}_generateIntraEdgeVertices(l,h,m,v,B,E,D){const N=v-h,G=B-m,K=G===0,ae=K?Math.min(h,v):Math.min(E,D),le=K?Math.max(h,v):Math.max(E,D),ce=Math.floor(ae/this._granularityCellSize)+1,pe=Math.ceil(le/this._granularityCellSize)-1;if(K?h<v:E<D)for(let me=ce;me<=pe;me++){const _e=me*this._granularityCellSize;l.push(this._vertexToIndex(_e,m+G*(_e-h)/N))}else for(let me=pe;me>=ce;me--){const _e=me*this._granularityCellSize;l.push(this._vertexToIndex(_e,m+G*(_e-h)/N))}}_generateInterEdgeVertices(l,h,m,v,B,E,D,N,G,K){const ae=B-m,le=E-v,ce=D-B,pe=(G-B)/ce,me=(K-B)/ce,_e=Math.min(pe,me),Le=Math.max(pe,me),Je=v+le*_e;let Pe=Math.floor(Math.min(Je,N)/this._granularityCellSize)+1,Oe=Math.ceil(Math.max(Je,N)/this._granularityCellSize)-1,it=N<Je;const lt=ce===0;if(lt&&(D===G||D===K))return;if(lt||_e>=1||Le<=0){const ri=m-D,ei=E+(h-E)*Math.min((G-D)/ri,(K-D)/ri);Pe=Math.floor(Math.min(ei,N)/this._granularityCellSize)+1,Oe=Math.ceil(Math.max(ei,N)/this._granularityCellSize)-1,it=N<ei}const Rt=ae>0?K:G;if(it)for(let ri=Pe;ri<=Oe;ri++)l.push(this._vertexToIndex(ri*this._granularityCellSize,Rt));else for(let ri=Oe;ri>=Pe;ri--)l.push(this._vertexToIndex(ri*this._granularityCellSize,Rt))}_generateOutline(l){const h=[];for(const m of l){const v=Lf(m,this._granularity,!0),B=this._pointArrayToIndices(v),E=[];for(let D=1;D<B.length;D++)E.push(B[D-1]),E.push(B[D]);h.push(E)}return h}_handlePoles(l){let h=!1,m=!1;this._canonical&&(this._canonical.y===0&&(h=!0),this._canonical.y===(1<<this._canonical.z)-1&&(m=!0)),(h||m)&&this._fillPoles(l,h,m)}_ensureNoPoleVertices(){const l=this._vertexBuffer;for(let h=0;h<l.length;h+=2){const m=l[h+1];m===rp&&(l[h+1]=-32767),m===Zg&&(l[h+1]=32766)}}_generatePoleQuad(l,h,m,v,B,E){v>B!=(E===rp)?(l.push(h),l.push(m),l.push(this._vertexToIndex(v,E)),l.push(m),l.push(this._vertexToIndex(B,E)),l.push(this._vertexToIndex(v,E))):(l.push(m),l.push(h),l.push(this._vertexToIndex(v,E)),l.push(this._vertexToIndex(B,E)),l.push(m),l.push(this._vertexToIndex(v,E)))}_fillPoles(l,h,m){const v=this._vertexBuffer,B=Mt,E=l.length;for(let D=2;D<E;D+=3){const N=l[D-2],G=l[D-1],K=l[D],ae=v[2*N],le=v[2*N+1],ce=v[2*G],pe=v[2*G+1],me=v[2*K],_e=v[2*K+1];h&&(le===0&&pe===0&&this._generatePoleQuad(l,N,G,ae,ce,rp),pe===0&&_e===0&&this._generatePoleQuad(l,G,K,ce,me,rp),_e===0&&le===0&&this._generatePoleQuad(l,K,N,me,ae,rp)),m&&(le===B&&pe===B&&this._generatePoleQuad(l,N,G,ae,ce,Zg),pe===B&&_e===B&&this._generatePoleQuad(l,G,K,ce,me,Zg),_e===B&&le===B&&this._generatePoleQuad(l,K,N,me,ae,Zg))}}_initializeVertices(l){for(let h=0;h<l.length;h+=2)this._vertexToIndex(l[h],l[h+1])}subdividePolygonInternal(l,h){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:m,holeIndices:v}=(function(D){const N=[],G=[];for(const K of D)if(K.length!==0){K!==D[0]&&N.push(G.length/2);for(let ae=0;ae<K.length;ae++)G.push(K[ae].x),G.push(K[ae].y)}return{flattened:G,holeIndices:N}})(l);let B;this._initializeVertices(m);try{const D=(function(G,K,ae=2){const le=K&&K.length,ce=le?K[0]*ae:G.length;let pe=kB(G,0,ce,ae,!0);const me=[];if(!pe||pe.next===pe.prev)return me;let _e,Le,Je;if(le&&(pe=(function(Pe,Oe,it,lt){const Rt=[];for(let ri=0,ei=Oe.length;ri<ei;ri++){const Ai=kB(Pe,Oe[ri]*lt,ri<ei-1?Oe[ri+1]*lt:Pe.length,lt,!1);Ai===Ai.next&&(Ai.steiner=!0),Rt.push(j4(Ai))}Rt.sort(z4);for(let ri=0;ri<Rt.length;ri++)it=H4(Rt[ri],it);return it})(G,K,pe,ae)),G.length>80*ae){_e=G[0],Le=G[1];let Pe=_e,Oe=Le;for(let it=ae;it<ce;it+=ae){const lt=G[it],Rt=G[it+1];lt<_e&&(_e=lt),Rt<Le&&(Le=Rt),lt>Pe&&(Pe=lt),Rt>Oe&&(Oe=Rt)}Je=Math.max(Pe-_e,Oe-Le),Je=Je!==0?32767/Je:0}return Xg(pe,me,ae,_e,Le,Je,0),me})(m,v),N=this._convertIndices(m,D);B=this._subdivideTrianglesScanline(N)}catch(D){console.error(D)}let E=[];return h&&(E=this._generateOutline(l)),this._ensureNoPoleVertices(),this._handlePoles(B),{verticesFlattened:this._vertexBuffer,indicesTriangles:B,indicesLineList:E}}_convertIndices(l,h){const m=[];for(let v=0;v<h.length;v++)m.push(this._vertexToIndex(l[2*h[v]],l[2*h[v]+1]));return m}_pointArrayToIndices(l){const h=[];for(let m=0;m<l.length;m++){const v=l[m];h.push(this._vertexToIndex(v.x,v.y))}return h}}function FB(f,l,h,m=!0){return new G4(h,l).subdividePolygonInternal(f,m)}function Lf(f,l,h=!1){if(!f||f.length<1)return[];if(f.length<2)return[];const m=f[0],v=f[f.length-1],B=h&&(m.x!==v.x||m.y!==v.y);if(l<2)return B?[...f,f[0]]:[...f];const E=Math.floor(Mt/l),D=[];D.push(new u(f[0].x,f[0].y));const N=f.length,G=B?N:N-1;for(let K=0;K<G;K++){const ae=f[K],le=K<N-1?f[K+1]:f[0],ce=ae.x,pe=ae.y,me=le.x,_e=le.y,Le=ce!==me,Je=pe!==_e;if(!Le&&!Je)continue;const Pe=me-ce,Oe=_e-pe,it=Math.abs(Pe),lt=Math.abs(Oe);let Rt=ce,ri=pe;for(;;){const Ai=Pe>0?(Math.floor(Rt/E)+1)*E:(Math.ceil(Rt/E)-1)*E,Ui=Oe>0?(Math.floor(ri/E)+1)*E:(Math.ceil(ri/E)-1)*E,yi=Math.abs(Rt-Ai),ii=Math.abs(ri-Ui),Vt=Math.abs(Rt-me),tn=Math.abs(ri-_e),Ki=Le?yi/it:Number.POSITIVE_INFINITY,dn=Je?ii/lt:Number.POSITIVE_INFINITY;if((Vt<=yi||!Le)&&(tn<=ii||!Je))break;if(Ki<dn&&Le||!Je){Rt=Ai,ri+=Oe*Ki;const Wi=new u(Rt,Math.round(ri));D[D.length-1].x===Wi.x&&D[D.length-1].y===Wi.y||D.push(Wi)}else{Rt+=Pe*dn,ri=Ui;const Wi=new u(Math.round(Rt),ri);D[D.length-1].x===Wi.x&&D[D.length-1].y===Wi.y||D.push(Wi)}}const ei=new u(me,_e);D[D.length-1].x===ei.x&&D[D.length-1].y===ei.y||D.push(ei)}return D}function W4(f,l,h){if(l.length===0)throw new Error("Subdivision vertex ring is empty.");let m=0,v=f[2*l[0]];for(let N=1;N<l.length;N++){const G=f[2*l[N]];G<v&&(v=G,m=N)}const B=l.length;let E=m,D=(E+1)%B;for(;;){const N=E-1>=0?E-1:B-1,G=(D+1)%B,K=f[2*l[N]],ae=f[2*l[G]],le=f[2*l[E]],ce=f[2*l[E]+1],pe=f[2*l[D]+1];let me=!1;if(K<ae)me=!0;else if(K>ae)me=!1;else{const _e=pe-ce,Le=-(f[2*l[D]]-le),Je=ce<pe?1:-1;((K-le)*_e+(f[2*l[N]+1]-ce)*Le)*Je>((ae-le)*_e+(f[2*l[G]+1]-ce)*Le)*Je&&(me=!0)}if(me){const _e=l[N],Le=l[E],Je=l[D];_e!==Le&&_e!==Je&&Le!==Je&&h.push(Je,Le,_e),E--,E<0&&(E=B-1)}else{const _e=l[G],Le=l[E],Je=l[D];_e!==Le&&_e!==Je&&Le!==Je&&h.push(Je,Le,_e),D++,D>=B&&(D=0)}if(N===G)break}}function PB(f,l,h,m,v,B,E,D,N){const G=v.length/2,K=E&&D&&N;if(G<zi.MAX_VERTEX_ARRAY_LENGTH){const ae=l.prepareSegment(G,h,m),le=ae.vertexLength;for(let me=0;me<B.length;me+=3)m.emplaceBack(le+B[me],le+B[me+1],le+B[me+2]);let ce,pe;ae.vertexLength+=G,ae.primitiveLength+=B.length/3,K&&(pe=E.prepareSegment(G,h,D),ce=pe.vertexLength,pe.vertexLength+=G);for(let me=0;me<v.length;me+=2)f(v[me],v[me+1]);if(K)for(let me=0;me<N.length;me++){const _e=N[me];for(let Le=1;Le<_e.length;Le+=2)D.emplaceBack(ce+_e[Le-1],ce+_e[Le]);pe.primitiveLength+=_e.length/2}}else(function(ae,le,ce,pe,me,_e){const Le=[];for(let lt=0;lt<pe.length/2;lt++)Le.push(-1);const Je={count:0};let Pe=0,Oe=ae.getOrCreateLatestSegment(le,ce),it=Oe.vertexLength;for(let lt=2;lt<me.length;lt+=3){const Rt=me[lt-2],ri=me[lt-1],ei=me[lt];let Ai=Le[Rt]<Pe,Ui=Le[ri]<Pe,yi=Le[ei]<Pe;Oe.vertexLength+((Ai?1:0)+(Ui?1:0)+(yi?1:0))>zi.MAX_VERTEX_ARRAY_LENGTH&&(Oe=ae.createNewSegment(le,ce),Pe=Je.count,Ai=!0,Ui=!0,yi=!0,it=0);const ii=Jg(Le,pe,_e,Je,Rt,Ai,Oe),Vt=Jg(Le,pe,_e,Je,ri,Ui,Oe),tn=Jg(Le,pe,_e,Je,ei,yi,Oe);ce.emplaceBack(it+ii-Pe,it+Vt-Pe,it+tn-Pe),Oe.primitiveLength++}})(l,h,m,v,B,f),K&&(function(ae,le,ce,pe,me,_e){const Le=[];for(let lt=0;lt<pe.length/2;lt++)Le.push(-1);const Je={count:0};let Pe=0,Oe=ae.getOrCreateLatestSegment(le,ce),it=Oe.vertexLength;for(let lt=0;lt<me.length;lt++){const Rt=me[lt];for(let ri=1;ri<me[lt].length;ri+=2){const ei=Rt[ri-1],Ai=Rt[ri];let Ui=Le[ei]<Pe,yi=Le[Ai]<Pe;Oe.vertexLength+((Ui?1:0)+(yi?1:0))>zi.MAX_VERTEX_ARRAY_LENGTH&&(Oe=ae.createNewSegment(le,ce),Pe=Je.count,Ui=!0,yi=!0,it=0);const ii=Jg(Le,pe,_e,Je,ei,Ui,Oe),Vt=Jg(Le,pe,_e,Je,Ai,yi,Oe);ce.emplaceBack(it+ii-Pe,it+Vt-Pe),Oe.primitiveLength++}}})(E,h,D,v,N,f),l.forceNewSegmentOnNextPrepare(),E?.forceNewSegmentOnNextPrepare()}function Jg(f,l,h,m,v,B,E){if(B){const D=m.count;return h(l[2*v],l[2*v+1]),f[v]=m.count,m.count++,E.vertexLength++,D}return f[v]}class iw{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new He,this.indexArray=new Ht,this.indexArray2=new Ti,this.programConfigurations=new Hh(l.layers,l.zoom),this.segments=new zi,this.segments2=new zi,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,m){this.hasDependencies=_y("fill",this.layers,h);const v=this.layers[0].layout.get("fill-sort-key"),B=!v.isConstant(),E=[];for(const{feature:D,id:N,index:G,sourceLayerIndex:K}of l){const ae=this.layers[0]._featureFilter.needGeometry,le=th(D,ae);if(!this.layers[0]._featureFilter.filter(new cr(this.zoom),le,m))continue;const ce=B?v.evaluate(le,{},m,h.availableImages):void 0,pe={id:N,properties:D.properties,type:D.type,sourceLayerIndex:K,index:G,geometry:ae?le.geometry:eh(D),patterns:{},sortKey:ce};E.push(pe)}B&&E.sort(((D,N)=>D.sortKey-N.sortKey));for(const D of E){const{geometry:N,index:G,sourceLayerIndex:K}=D;if(this.hasDependencies){const ae=Jv("fill",this.layers,D,{zoom:this.zoom},h);this.patternFeatures.push(ae)}else this.addFeature(D,N,G,m,{},h.subdivisionGranularity);h.featureIndex.insert(l[G].feature,N,G,K,this.index)}}update(l,h,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:m})}addFeatures(l,h,m){for(const v of this.patternFeatures)this.addFeature(v,v.geometry,v.index,h,m,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,D4),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.indexBuffer2=l.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(l,h,m,v,B,E){for(const D of ac(h,500)){const N=FB(D,v,E.fill.getGranularityForZoomLevel(v.z)),G=this.layoutVertexArray;PB(((K,ae)=>{G.emplaceBack(K,ae)}),this.segments,this.layoutVertexArray,this.indexArray,N.verticesFlattened,N.indicesTriangles,this.segments2,this.indexArray2,N.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:B,canonical:v})}}let DB,RB;Zi("FillBucket",iw,{omit:["layers","patternFeatures"]});var $4={get paint(){return RB=RB||new No({"fill-antialias":new kn(Tt.paint_fill["fill-antialias"]),"fill-opacity":new Gn(Tt.paint_fill["fill-opacity"]),"fill-color":new Gn(Tt.paint_fill["fill-color"]),"fill-outline-color":new Gn(Tt.paint_fill["fill-outline-color"]),"fill-translate":new kn(Tt.paint_fill["fill-translate"]),"fill-translate-anchor":new kn(Tt.paint_fill["fill-translate-anchor"]),"fill-pattern":new bf(Tt.paint_fill["fill-pattern"])})},get layout(){return DB=DB||new No({"fill-sort-key":new Gn(Tt.layout_fill["fill-sort-key"])})}};class X4 extends Hl{constructor(l,h){super(l,$4,h)}recalculate(l,h){super.recalculate(l,h);const m=this.paint._values["fill-outline-color"];m.value.kind==="constant"&&m.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(l){return new iw(l)}queryRadius(){return yy(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:l,geometry:h,transform:m,pixelsToTileUnits:v}){return AB(xy(l,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-m.bearingInRadians,v),h)}isTileClipped(){return!0}}const Y4=As([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),K4=As([{name:"a_centroid",components:2,type:"Int16"}],4),{members:q4}=Y4;class em{constructor(l,h,m,v,B){this.properties={},this.extent=m,this.type=0,this.id=void 0,this._pbf=l,this._geometry=-1,this._keys=v,this._values=B,l.readFields(Z4,this,h)}loadGeometry(){const l=this._pbf;l.pos=this._geometry;const h=l.readVarint()+l.pos,m=[];let v,B=1,E=0,D=0,N=0;for(;l.pos<h;){if(E<=0){const G=l.readVarint();B=7&G,E=G>>3}if(E--,B===1||B===2)D+=l.readSVarint(),N+=l.readSVarint(),B===1&&(v&&m.push(v),v=[]),v&&v.push(new u(D,N));else{if(B!==7)throw new Error(`unknown command ${B}`);v&&v.push(v[0].clone())}}return v&&m.push(v),m}bbox(){const l=this._pbf;l.pos=this._geometry;const h=l.readVarint()+l.pos;let m=1,v=0,B=0,E=0,D=1/0,N=-1/0,G=1/0,K=-1/0;for(;l.pos<h;){if(v<=0){const ae=l.readVarint();m=7&ae,v=ae>>3}if(v--,m===1||m===2)B+=l.readSVarint(),E+=l.readSVarint(),B<D&&(D=B),B>N&&(N=B),E<G&&(G=E),E>K&&(K=E);else if(m!==7)throw new Error(`unknown command ${m}`)}return[D,G,N,K]}toGeoJSON(l,h,m){const v=this.extent*Math.pow(2,m),B=this.extent*l,E=this.extent*h,D=this.loadGeometry();function N(le){return[360*(le.x+B)/v-180,360/Math.PI*Math.atan(Math.exp((1-2*(le.y+E)/v)*Math.PI))-90]}function G(le){return le.map(N)}let K;if(this.type===1){const le=[];for(const pe of D)le.push(pe[0]);const ce=G(le);K=le.length===1?{type:"Point",coordinates:ce[0]}:{type:"MultiPoint",coordinates:ce}}else if(this.type===2){const le=D.map(G);K=le.length===1?{type:"LineString",coordinates:le[0]}:{type:"MultiLineString",coordinates:le}}else{if(this.type!==3)throw new Error("unknown feature type");{const le=OB(D),ce=[];for(const pe of le)ce.push(pe.map(G));K=ce.length===1?{type:"Polygon",coordinates:ce[0]}:{type:"MultiPolygon",coordinates:ce}}}const ae={type:"Feature",geometry:K,properties:this.properties};return this.id!=null&&(ae.id=this.id),ae}}function Z4(f,l,h){f===1?l.id=h.readVarint():f===2?(function(m,v){const B=m.readVarint()+m.pos;for(;m.pos<B;){const E=v._keys[m.readVarint()],D=v._values[m.readVarint()];v.properties[E]=D}})(h,l):f===3?l.type=h.readVarint():f===4&&(l._geometry=h.pos)}function OB(f){const l=f.length;if(l<=1)return[f];const h=[];let m,v;for(let B=0;B<l;B++){const E=J4(f[B]);E!==0&&(v===void 0&&(v=E<0),v===E<0?(m&&h.push(m),m=[f[B]]):m&&m.push(f[B]))}return m&&h.push(m),h}function J4(f){let l=0;for(let h,m,v=0,B=f.length,E=B-1;v<B;E=v++)h=f[v],m=f[E],l+=(m.x-h.x)*(h.y+m.y);return l}em.types=["Unknown","Point","LineString","Polygon"];class eU{constructor(l,h){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(tU,this,h),this.length=this._features.length}feature(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];const h=this._pbf.readVarint()+this._pbf.pos;return new em(this._pbf,h,this.extent,this._keys,this._values)}}function tU(f,l,h){f===15?l.version=h.readVarint():f===1?l.name=h.readString():f===5?l.extent=h.readVarint():f===2?l._features.push(h.pos):f===3?l._keys.push(h.readString()):f===4&&l._values.push((function(m){let v=null;const B=m.readVarint()+m.pos;for(;m.pos<B;){const E=m.readVarint()>>3;v=E===1?m.readString():E===2?m.readFloat():E===3?m.readDouble():E===4?m.readVarint64():E===5?m.readVarint():E===6?m.readSVarint():E===7?m.readBoolean():null}if(v==null)throw new Error("unknown feature value");return v})(h))}class UB{constructor(l,h){this.layers=l.readFields(iU,{},h)}}function iU(f,l,h){if(f===3){const m=new eU(h,h.readVarint()+h.pos);m.length&&(l[m.name]=m)}}const nw=Math.pow(2,13);function tm(f,l,h,m,v,B,E,D){f.emplaceBack(l,h,2*Math.floor(m*nw)+E,v*nw*2,B*nw*2,Math.round(D))}class aw{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.layoutVertexArray=new et,this.centroidVertexArray=new Ne,this.indexArray=new Ht,this.programConfigurations=new Hh(l.layers,l.zoom),this.segments=new zi,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,m){this.features=[],this.hasDependencies=_y("fill-extrusion",this.layers,h);for(const{feature:v,id:B,index:E,sourceLayerIndex:D}of l){const N=this.layers[0]._featureFilter.needGeometry,G=th(v,N);if(!this.layers[0]._featureFilter.filter(new cr(this.zoom),G,m))continue;const K={id:B,sourceLayerIndex:D,index:E,geometry:N?G.geometry:eh(v),properties:v.properties,type:v.type,patterns:{}};this.hasDependencies?this.features.push(Jv("fill-extrusion",this.layers,K,{zoom:this.zoom},h)):this.addFeature(K,K.geometry,E,m,{},h.subdivisionGranularity),h.featureIndex.insert(v,K.geometry,E,D,this.index,!0)}}addFeatures(l,h,m){for(const v of this.features){const{geometry:B}=v;this.addFeature(v,B,v.index,h,m,l.subdivisionGranularity)}}update(l,h,m){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:m})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,q4),this.centroidVertexBuffer=l.createVertexBuffer(this.centroidVertexArray,K4.members,!0),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(l,h,m,v,B,E){for(const D of ac(h,500)){const N={x:0,y:0,sampleCount:0},G=this.layoutVertexArray.length;this.processPolygon(N,v,l,D,E);const K=this.layoutVertexArray.length-G,ae=Math.floor(N.x/N.sampleCount),le=Math.floor(N.y/N.sampleCount);for(let ce=0;ce<K;ce++)this.centroidVertexArray.emplaceBack(ae,le)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:B,canonical:v})}processPolygon(l,h,m,v,B){if(v.length<1||NB(v[0]))return;for(const ae of v)ae.length!==0&&nU(l,ae);const E={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},D=B.fill.getGranularityForZoomLevel(h.z),N=em.types[m.type]==="Polygon";for(const ae of v){if(ae.length===0||NB(ae))continue;const le=Lf(ae,D,N);this._generateSideFaces(le,E)}if(!N)return;const G=FB(v,h,D,!1),K=this.layoutVertexArray;PB(((ae,le)=>{tm(K,ae,le,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,G.verticesFlattened,G.indicesTriangles)}_generateSideFaces(l,h){let m=0;for(let v=1;v<l.length;v++){const B=l[v],E=l[v-1];if(aU(B,E))continue;h.segment.vertexLength+4>zi.MAX_VERTEX_ARRAY_LENGTH&&(h.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const D=B.sub(E)._perp()._unit(),N=E.dist(B);m+N>32768&&(m=0),tm(this.layoutVertexArray,B.x,B.y,D.x,D.y,0,0,m),tm(this.layoutVertexArray,B.x,B.y,D.x,D.y,0,1,m),m+=N,tm(this.layoutVertexArray,E.x,E.y,D.x,D.y,0,0,m),tm(this.layoutVertexArray,E.x,E.y,D.x,D.y,0,1,m);const G=h.segment.vertexLength;this.indexArray.emplaceBack(G,G+2,G+1),this.indexArray.emplaceBack(G+1,G+2,G+3),h.segment.vertexLength+=4,h.segment.primitiveLength+=2}}}function nU(f,l){for(let h=0;h<l.length;h++){const m=l[h];h===l.length-1&&l[0].x===m.x&&l[0].y===m.y||(f.x+=m.x,f.y+=m.y,f.sampleCount++)}}function aU(f,l){return f.x===l.x&&(f.x<0||f.x>Mt)||f.y===l.y&&(f.y<0||f.y>Mt)}function NB(f){return f.every((l=>l.x<0))||f.every((l=>l.x>Mt))||f.every((l=>l.y<0))||f.every((l=>l.y>Mt))}let zB;Zi("FillExtrusionBucket",aw,{omit:["layers","features"]});var rU={get paint(){return zB=zB||new No({"fill-extrusion-opacity":new kn(Tt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Gn(Tt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new kn(Tt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new kn(Tt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new bf(Tt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Gn(Tt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Gn(Tt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new kn(Tt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class sU extends Hl{constructor(l,h){super(l,rU,h)}createBucket(l){return new aw(l)}queryRadius(){return yy(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:m,geometry:v,transform:B,pixelsToTileUnits:E,pixelPosMatrix:D}){const N=xy(l,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-B.bearingInRadians,E),G=this.paint.get("fill-extrusion-height").evaluate(h,m),K=this.paint.get("fill-extrusion-base").evaluate(h,m),ae=(function(ce,pe){const me=[];for(const _e of ce){const Le=[_e.x,_e.y,0,1];De(Le,Le,pe),me.push(new u(Le[0]/Le[3],Le[1]/Le[3]))}return me})(N,D),le=(function(ce,pe,me,_e){const Le=[],Je=[],Pe=_e[8]*pe,Oe=_e[9]*pe,it=_e[10]*pe,lt=_e[11]*pe,Rt=_e[8]*me,ri=_e[9]*me,ei=_e[10]*me,Ai=_e[11]*me;for(const Ui of ce){const yi=[],ii=[];for(const Vt of Ui){const tn=Vt.x,Ki=Vt.y,dn=_e[0]*tn+_e[4]*Ki+_e[12],Wi=_e[1]*tn+_e[5]*Ki+_e[13],Rn=_e[2]*tn+_e[6]*Ki+_e[14],Pa=_e[3]*tn+_e[7]*Ki+_e[15],va=Rn+it,Vr=Pa+lt,Eo=dn+Rt,Ps=Wi+ri,Gr=Rn+ei,Or=Pa+Ai,Ka=new u((dn+Pe)/Vr,(Wi+Oe)/Vr);Ka.z=va/Vr,yi.push(Ka);const ls=new u(Eo/Or,Ps/Or);ls.z=Gr/Or,ii.push(ls)}Le.push(yi),Je.push(ii)}return[Le,Je]})(v,K,G,D);return(function(ce,pe,me){let _e=1/0;AB(me,pe)&&(_e=HB(me,pe[0]));for(let Le=0;Le<pe.length;Le++){const Je=pe[Le],Pe=ce[Le];for(let Oe=0;Oe<Je.length-1;Oe++){const it=Je[Oe],lt=[it,Je[Oe+1],Pe[Oe+1],Pe[Oe],it];ep(me,lt)&&(_e=Math.min(_e,HB(me,lt)))}}return _e!==1/0&&_e})(le[0],le[1],ae)}}function im(f,l){return f.x*l.x+f.y*l.y}function HB(f,l){if(f.length===1){let h=0;const m=l[h++];let v;for(;!v||m.equals(v);)if(v=l[h++],!v)return 1/0;for(;h<l.length;h++){const B=l[h],E=f[0],D=v.sub(m),N=B.sub(m),G=E.sub(m),K=im(D,D),ae=im(D,N),le=im(N,N),ce=im(G,D),pe=im(G,N),me=K*le-ae*ae,_e=(le*ce-ae*pe)/me,Le=(K*pe-ae*ce)/me,Je=m.z*(1-_e-Le)+v.z*_e+B.z*Le;if(isFinite(Je))return Je}return 1/0}{let h=1/0;for(const m of l)h=Math.min(h,m.z);return h}}const oU=As([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:lU}=oU,cU=As([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:uU}=cU,hU=Math.cos(Math.PI/180*37.5),QB=Math.pow(2,14)/.5;class rw{constructor(l){this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((h=>h.id)),this.index=l.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((h=>{this.gradients[h.id]={}})),this.layoutVertexArray=new ct,this.layoutVertexArray2=new Ze,this.indexArray=new Ht,this.programConfigurations=new Hh(l.layers,l.zoom),this.segments=new zi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((h=>h.isStateDependent())).map((h=>h.id))}populate(l,h,m){this.hasDependencies=_y("line",this.layers,h)||this.hasLineDasharray(this.layers);const v=this.layers[0].layout.get("line-sort-key"),B=!v.isConstant(),E=[];for(const{feature:D,id:N,index:G,sourceLayerIndex:K}of l){const ae=this.layers[0]._featureFilter.needGeometry,le=th(D,ae);if(!this.layers[0]._featureFilter.filter(new cr(this.zoom),le,m))continue;const ce=B?v.evaluate(le,{},m):void 0,pe={id:N,properties:D.properties,type:D.type,sourceLayerIndex:K,index:G,geometry:ae?le.geometry:eh(D),patterns:{},dashes:{},sortKey:ce};E.push(pe)}B&&E.sort(((D,N)=>D.sortKey-N.sortKey));for(const D of E){const{geometry:N,index:G,sourceLayerIndex:K}=D;this.hasDependencies?(_y("line",this.layers,h)?Jv("line",this.layers,D,{zoom:this.zoom},h):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,D,this.zoom,h),this.patternFeatures.push(D)):this.addFeature(D,N,G,m,{},{},h.subdivisionGranularity),h.featureIndex.insert(l[G].feature,N,G,K,this.index)}}update(l,h,m,v){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(l,h,this.stateDependentLayers,{imagePositions:m,dashPositions:v})}addFeatures(l,h,m,v){for(const B of this.patternFeatures)this.addFeature(B,B.geometry,B.index,h,m,v,l.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(l){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=l.createVertexBuffer(this.layoutVertexArray2,uU)),this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,lU),this.indexBuffer=l.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(l),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(l){if(l.properties&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(l.properties,"mapbox_clip_end"))return{start:+l.properties.mapbox_clip_start,end:+l.properties.mapbox_clip_end}}addFeature(l,h,m,v,B,E,D){const N=this.layers[0].layout,G=N.get("line-join").evaluate(l,{}),K=N.get("line-cap"),ae=N.get("line-miter-limit"),le=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(l);for(const ce of h)this.addLine(ce,l,G,K,ae,le,v,D);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,l,m,{imagePositions:B,dashPositions:E,canonical:v})}addLine(l,h,m,v,B,E,D,N){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,l=Lf(l,D?N.line.getGranularityForZoomLevel(D.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Pe=0;Pe<l.length-1;Pe++)this.totalDistance+=l[Pe].dist(l[Pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const G=em.types[h.type]==="Polygon";let K=l.length;for(;K>=2&&l[K-1].equals(l[K-2]);)K--;let ae=0;for(;ae<K-1&&l[ae].equals(l[ae+1]);)ae++;if(K<(G?3:2))return;m==="bevel"&&(B=1.05);const le=this.overscaling<=16?122880/(512*this.overscaling):0,ce=this.segments.prepareSegment(10*K,this.layoutVertexArray,this.indexArray);let pe,me,_e,Le,Je;this.e1=this.e2=-1,G&&(pe=l[K-2],Je=l[ae].sub(pe)._unit()._perp());for(let Pe=ae;Pe<K;Pe++){if(_e=Pe===K-1?G?l[ae+1]:void 0:l[Pe+1],_e&&l[Pe].equals(_e))continue;Je&&(Le=Je),pe&&(me=pe),pe=l[Pe],Je=_e?_e.sub(pe)._unit()._perp():Le,Le=Le||Je;let Oe=Le.add(Je);Oe.x===0&&Oe.y===0||Oe._unit();const it=Le.x*Je.x+Le.y*Je.y,lt=Oe.x*Je.x+Oe.y*Je.y,Rt=lt!==0?1/lt:1/0,ri=2*Math.sqrt(2-2*lt),ei=lt<hU&&me&&_e,Ai=Le.x*Je.y-Le.y*Je.x>0;if(ei&&Pe>ae){const ii=pe.dist(me);if(ii>2*le){const Vt=pe.sub(pe.sub(me)._mult(le/ii)._round());this.updateDistance(me,Vt),this.addCurrentVertex(Vt,Le,0,0,ce),me=Vt}}const Ui=me&&_e;let yi=Ui?m:G?"butt":v;if(Ui&&yi==="round"&&(Rt<E?yi="miter":Rt<=2&&(yi="fakeround")),yi==="miter"&&Rt>B&&(yi="bevel"),yi==="bevel"&&(Rt>2&&(yi="flipbevel"),Rt<B&&(yi="miter")),me&&this.updateDistance(me,pe),yi==="miter")Oe._mult(Rt),this.addCurrentVertex(pe,Oe,0,0,ce);else if(yi==="flipbevel"){if(Rt>100)Oe=Je.mult(-1);else{const ii=Rt*Le.add(Je).mag()/Le.sub(Je).mag();Oe._perp()._mult(ii*(Ai?-1:1))}this.addCurrentVertex(pe,Oe,0,0,ce),this.addCurrentVertex(pe,Oe.mult(-1),0,0,ce)}else if(yi==="bevel"||yi==="fakeround"){const ii=-Math.sqrt(Rt*Rt-1),Vt=Ai?ii:0,tn=Ai?0:ii;if(me&&this.addCurrentVertex(pe,Le,Vt,tn,ce),yi==="fakeround"){const Ki=Math.round(180*ri/Math.PI/20);for(let dn=1;dn<Ki;dn++){let Wi=dn/Ki;if(Wi!==.5){const Pa=Wi-.5;Wi+=Wi*Pa*(Wi-1)*((1.0904+it*(it*(3.55645-1.43519*it)-3.2452))*Pa*Pa+(.848013+it*(.215638*it-1.06021)))}const Rn=Je.sub(Le)._mult(Wi)._add(Le)._unit()._mult(Ai?-1:1);this.addHalfVertex(pe,Rn.x,Rn.y,!1,Ai,0,ce)}}_e&&this.addCurrentVertex(pe,Je,-Vt,-tn,ce)}else if(yi==="butt")this.addCurrentVertex(pe,Oe,0,0,ce);else if(yi==="square"){const ii=me?1:-1;this.addCurrentVertex(pe,Oe,ii,ii,ce)}else yi==="round"&&(me&&(this.addCurrentVertex(pe,Le,0,0,ce),this.addCurrentVertex(pe,Le,1,1,ce,!0)),_e&&(this.addCurrentVertex(pe,Je,-1,-1,ce,!0),this.addCurrentVertex(pe,Je,0,0,ce)));if(ei&&Pe<K-1){const ii=pe.dist(_e);if(ii>2*le){const Vt=pe.add(_e.sub(pe)._mult(le/ii)._round());this.updateDistance(pe,Vt),this.addCurrentVertex(Vt,Je,0,0,ce),pe=Vt}}}}addCurrentVertex(l,h,m,v,B,E=!1){const D=h.y*v-h.x,N=-h.y-h.x*v;this.addHalfVertex(l,h.x+h.y*m,h.y-h.x*m,E,!1,m,B),this.addHalfVertex(l,D,N,E,!0,-v,B),this.distance>QB/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(l,h,m,v,B,E))}addHalfVertex({x:l,y:h},m,v,B,E,D,N){const G=.5*(this.lineClips?this.scaledDistance*(QB-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((l<<1)+(B?1:0),(h<<1)+(E?1:0),Math.round(63*m)+128,Math.round(63*v)+128,1+(D===0?0:D<0?-1:1)|(63&G)<<2,G>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const K=N.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,K,this.e2),N.primitiveLength++),E?this.e2=K:this.e1=K}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(l,h){this.distance+=l.dist(h),this.updateScaledDistance()}hasLineDasharray(l){for(const h of l){const m=h.paint.get("line-dasharray");if(m&&!m.isConstant())return!0}return!1}addLineDashDependencies(l,h,m,v){for(const B of l){const E=B.paint.get("line-dasharray");if(!E||E.value.kind==="constant")continue;const D=B.layout.get("line-cap")==="round",N={dasharray:E.value.evaluate({zoom:m-1},h,{}),round:D},G={dasharray:E.value.evaluate({zoom:m},h,{}),round:D},K={dasharray:E.value.evaluate({zoom:m+1},h,{}),round:D},ae=`${N.dasharray.join(",")},${N.round}`,le=`${G.dasharray.join(",")},${G.round}`,ce=`${K.dasharray.join(",")},${K.round}`;v.dashDependencies[ae]=N,v.dashDependencies[le]=G,v.dashDependencies[ce]=K,h.dashes[B.id]={min:ae,mid:le,max:ce}}}}let jB,VB;Zi("LineBucket",rw,{omit:["layers","patternFeatures"]});var GB={get paint(){return VB=VB||new No({"line-opacity":new Gn(Tt.paint_line["line-opacity"]),"line-color":new Gn(Tt.paint_line["line-color"]),"line-translate":new kn(Tt.paint_line["line-translate"]),"line-translate-anchor":new kn(Tt.paint_line["line-translate-anchor"]),"line-width":new Gn(Tt.paint_line["line-width"]),"line-gap-width":new Gn(Tt.paint_line["line-gap-width"]),"line-offset":new Gn(Tt.paint_line["line-offset"]),"line-blur":new Gn(Tt.paint_line["line-blur"]),"line-dasharray":new bf(Tt.paint_line["line-dasharray"]),"line-pattern":new bf(Tt.paint_line["line-pattern"]),"line-gradient":new WA(Tt.paint_line["line-gradient"])})},get layout(){return jB=jB||new No({"line-cap":new kn(Tt.layout_line["line-cap"]),"line-join":new Gn(Tt.layout_line["line-join"]),"line-miter-limit":new kn(Tt.layout_line["line-miter-limit"]),"line-round-limit":new kn(Tt.layout_line["line-round-limit"]),"line-sort-key":new Gn(Tt.layout_line["line-sort-key"])})}};class dU extends Gn{possiblyEvaluate(l,h){return h=new cr(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(l,h)}evaluate(l,h,m,v){return h=gi({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(l,h,m,v)}}let Cy;class fU extends Hl{constructor(l,h){super(l,GB,h),this.gradientVersion=0,Cy||(Cy=new dU(GB.paint.properties["line-width"].specification),Cy.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(l){if(l==="line-gradient"){const h=this.gradientExpression();this.stepInterpolant=!!(function(m){return m._styleExpression!==void 0})(h)&&h._styleExpression.expression instanceof Wt,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(l,h){super.recalculate(l,h),this.paint._values["line-floorwidth"]=Cy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,l)}createBucket(l){return new rw(l)}queryRadius(l){const h=l,m=WB(ip("line-width",this,h),ip("line-gap-width",this,h)),v=ip("line-offset",this,h);return m/2+Math.abs(v)+yy(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:l,feature:h,featureState:m,geometry:v,transform:B,pixelsToTileUnits:E}){const D=xy(l,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-B.bearingInRadians,E),N=E/2*WB(this.paint.get("line-width").evaluate(h,m),this.paint.get("line-gap-width").evaluate(h,m)),G=this.paint.get("line-offset").evaluate(h,m);return G&&(v=(function(K,ae){const le=[];for(let ce=0;ce<K.length;ce++){const pe=v4(K[ce]),me=[];for(let _e=0;_e<pe.length;_e++){const Le=pe[_e],Je=pe[_e-1],Pe=pe[_e+1],Oe=_e===0?new u(0,0):Le.sub(Je)._unit()._perp(),it=_e===pe.length-1?new u(0,0):Pe.sub(Le)._unit()._perp(),lt=Oe._add(it)._unit(),Rt=lt.x*it.x+lt.y*it.y;Rt!==0&&lt._mult(1/Rt),me.push(lt._mult(ae)._add(Le))}le.push(me)}return le})(v,G*E)),(function(K,ae,le){for(let ce=0;ce<ae.length;ce++){const pe=ae[ce];if(K.length>=3){for(let me=0;me<pe.length;me++)if(tp(K,pe[me]))return!0}if(y4(K,pe,le))return!0}return!1})(D,v,N)}isTileClipped(){return!0}}function WB(f,l){return l>0?l+2*f:f}const AU=As([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),pU=As([{name:"a_projected_pos",components:3,type:"Float32"}],4);As([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const gU=As([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);As([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const $B=As([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),mU=As([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function yU(f,l,h){return f.sections.forEach((m=>{m.text=(function(v,B,E){const D=B.layout.get("text-transform").evaluate(E,{});return D==="uppercase"?v=v.toLocaleUpperCase():D==="lowercase"&&(v=v.toLocaleLowerCase()),qu.applyArabicShaping&&(v=qu.applyArabicShaping(v)),v})(m.text,l,h)})),f}As([{name:"triangle",components:3,type:"Uint16"}]),As([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),As([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),As([{type:"Float32",name:"offsetX"}]),As([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),As([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var no=24;const nm={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},xU={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},_U={40:!0};function XB(f,l,h,m,v,B){if("fontStack"in l){const E=h[l.fontStack],D=E&&E[f];return D?D.metrics.advance*l.scale+v:0}{const E=m[l.imageName];return E?E.displaySize[0]*l.scale*no/B+v:0}}function YB(f,l,h,m){const v=Math.pow(f-l,2);return m?f<l?v/2:2*v:v+Math.abs(h)*h}function vU(f,l,h){let m=0;return f===10&&(m-=1e4),h&&(m+=150),f!==40&&f!==65288||(m+=50),l!==41&&l!==65289||(m+=50),m}function KB(f,l,h,m,v,B){let E=null,D=YB(l,h,v,B);for(const N of m){const G=YB(l-N.x,h,v,B)+N.badness;G<=D&&(E=N,D=G)}return{index:f,x:l,priorBreak:E,badness:D}}function qB(f){return f?qB(f.priorBreak).concat(f.index):[]}class sp{constructor(l="",h=[],m=[]){this.text=l,this.sections=h,this.sectionIndex=m,this.imageSectionID=null}static fromFeature(l,h){const m=new sp;for(let v=0;v<l.sections.length;v++){const B=l.sections[v];B.image?m.addImageSection(B):m.addTextSection(B,h)}return m}length(){return[...this.text].length}getSection(l){return this.sections[this.sectionIndex[l]]}getSectionIndex(l){return this.sectionIndex[l]}verticalizePunctuation(){this.text=(function(l){let h="",m={premature:!0,value:void 0};const v=l[Symbol.iterator]();let B=v.next();const E=l[Symbol.iterator]();E.next();let D=E.next();for(;!B.done;)h+=!D.done&&Fg(D.value.codePointAt(0))&&!nm[D.value]||!m.premature&&Fg(m.value.codePointAt(0))&&!nm[m.value]||!nm[B.value]?B.value:nm[B.value],m={value:B.value,premature:!1},B=v.next(),D=E.next();return h})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const l=this.text.match(/^\s*/),h=l?l[0].length:0,m=this.text.match(/\S\s*$/),v=m?m[0].length-1:0;this.text=this.text.substring(h,this.text.length-v),this.sectionIndex=this.sectionIndex.slice(h,this.sectionIndex.length-v)}substring(l,h){const m=[...this.text].slice(l,h).join(""),v=this.sectionIndex.slice(l,h);return new sp(m,this.sections,v)}toCodeUnitIndex(l){return[...this.text].slice(0,l).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((l,h)=>Math.max(l,this.sections[h].scale)),0)}getMaxImageSize(l){let h=0,m=0;for(let v=0;v<this.length();v++){const B=this.getSection(v);if("imageName"in B){const E=l[B.imageName];if(!E)continue;const D=E.displaySize;h=Math.max(h,D[0]),m=Math.max(m,D[1])}}return{maxImageWidth:h,maxImageHeight:m}}addTextSection(l,h){this.text+=l.text,this.sections.push({scale:l.scale||1,verticalAlign:l.verticalAlign||"bottom",fontStack:l.fontStack||h});const m=this.sections.length-1;this.sectionIndex.push(...[...l.text].map((()=>m)))}addImageSection(l){const h=l.image?l.image.name:"";if(h.length===0)return void Ji("Can't add FormattedSection with an empty image.");const m=this.getNextImageSectionCharCode();m?(this.text+=String.fromCharCode(m),this.sections.push({scale:1,verticalAlign:l.verticalAlign||"bottom",imageName:h}),this.sectionIndex.push(this.sections.length-1)):Ji("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(l,h,m,v,B){const E=[],D=this.determineAverageLineWidth(l,h,m,v,B),N=this.hasZeroWidthSpaces();let G=0,K=0;const ae=this.text[Symbol.iterator]();let le=ae.next();const ce=this.text[Symbol.iterator]();ce.next();let pe=ce.next();const me=this.text[Symbol.iterator]();me.next(),me.next();let _e=me.next();for(;!le.done;){const Le=this.getSection(K),Je=le.value.codePointAt(0);if(Er(Je)||(G+=XB(Je,Le,m,v,l,B)),!pe.done){const Pe=jn(Je),Oe=pe.value.codePointAt(0);(xU[Je]||Pe||"imageName"in Le||!_e.done&&_U[Oe])&&E.push(KB(K+1,G,D,E,vU(Je,Oe,Pe&&N),!1))}K++,le=ae.next(),pe=ce.next(),_e=me.next()}return qB(KB(this.length(),G,D,E,0,!0))}determineAverageLineWidth(l,h,m,v,B){let E=0,D=0;for(const N of this.text){const G=this.getSection(D);E+=XB(N.codePointAt(0),G,m,v,l,B),D++}return E/Math.max(1,Math.ceil(E/h))}}const sw=4294967296,ZB=1/sw,JB=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class Sy{constructor(l=new Uint8Array(16)){this.buf=ArrayBuffer.isView(l)?l:new Uint8Array(l),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(l,h,m=this.length){for(;this.pos<m;){const v=this.readVarint(),B=v>>3,E=this.pos;this.type=7&v,l(B,h,this),this.pos===E&&this.skip(v)}return h}readMessage(l,h){return this.readFields(l,h,this.readVarint()+this.pos)}readFixed32(){const l=this.dataView.getUint32(this.pos,!0);return this.pos+=4,l}readSFixed32(){const l=this.dataView.getInt32(this.pos,!0);return this.pos+=4,l}readFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*sw;return this.pos+=8,l}readSFixed64(){const l=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*sw;return this.pos+=8,l}readFloat(){const l=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,l}readDouble(){const l=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,l}readVarint(l){const h=this.buf;let m,v;return v=h[this.pos++],m=127&v,v<128?m:(v=h[this.pos++],m|=(127&v)<<7,v<128?m:(v=h[this.pos++],m|=(127&v)<<14,v<128?m:(v=h[this.pos++],m|=(127&v)<<21,v<128?m:(v=h[this.pos],m|=(15&v)<<28,(function(B,E,D){const N=D.buf;let G,K;if(K=N[D.pos++],G=(112&K)>>4,K<128||(K=N[D.pos++],G|=(127&K)<<3,K<128)||(K=N[D.pos++],G|=(127&K)<<10,K<128)||(K=N[D.pos++],G|=(127&K)<<17,K<128)||(K=N[D.pos++],G|=(127&K)<<24,K<128)||(K=N[D.pos++],G|=(1&K)<<31,K<128))return op(B,G,E);throw new Error("Expected varint not more than 10 bytes")})(m,l,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const l=this.readVarint();return l%2==1?(l+1)/-2:l/2}readBoolean(){return!!this.readVarint()}readString(){const l=this.readVarint()+this.pos,h=this.pos;return this.pos=l,l-h>=12&&JB?JB.decode(this.buf.subarray(h,l)):(function(m,v,B){let E="",D=v;for(;D<B;){const N=m[D];let G,K,ae,le=null,ce=N>239?4:N>223?3:N>191?2:1;if(D+ce>B)break;ce===1?N<128&&(le=N):ce===2?(G=m[D+1],(192&G)==128&&(le=(31&N)<<6|63&G,le<=127&&(le=null))):ce===3?(G=m[D+1],K=m[D+2],(192&G)==128&&(192&K)==128&&(le=(15&N)<<12|(63&G)<<6|63&K,(le<=2047||le>=55296&&le<=57343)&&(le=null))):ce===4&&(G=m[D+1],K=m[D+2],ae=m[D+3],(192&G)==128&&(192&K)==128&&(192&ae)==128&&(le=(15&N)<<18|(63&G)<<12|(63&K)<<6|63&ae,(le<=65535||le>=1114112)&&(le=null))),le===null?(le=65533,ce=1):le>65535&&(le-=65536,E+=String.fromCharCode(le>>>10&1023|55296),le=56320|1023&le),E+=String.fromCharCode(le),D+=ce}return E})(this.buf,h,l)}readBytes(){const l=this.readVarint()+this.pos,h=this.buf.subarray(this.pos,l);return this.pos=l,h}readPackedVarint(l=[],h){const m=this.readPackedEnd();for(;this.pos<m;)l.push(this.readVarint(h));return l}readPackedSVarint(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSVarint());return l}readPackedBoolean(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readBoolean());return l}readPackedFloat(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFloat());return l}readPackedDouble(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readDouble());return l}readPackedFixed32(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFixed32());return l}readPackedSFixed32(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSFixed32());return l}readPackedFixed64(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readFixed64());return l}readPackedSFixed64(l=[]){const h=this.readPackedEnd();for(;this.pos<h;)l.push(this.readSFixed64());return l}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(l){const h=7&l;if(h===0)for(;this.buf[this.pos++]>127;);else if(h===2)this.pos=this.readVarint()+this.pos;else if(h===5)this.pos+=4;else{if(h!==1)throw new Error(`Unimplemented type: ${h}`);this.pos+=8}}writeTag(l,h){this.writeVarint(l<<3|h)}realloc(l){let h=this.length||16;for(;h<this.pos+l;)h*=2;if(h!==this.length){const m=new Uint8Array(h);m.set(this.buf),this.buf=m,this.dataView=new DataView(m.buffer),this.length=h}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeSFixed32(l){this.realloc(4),this.dataView.setInt32(this.pos,l,!0),this.pos+=4}writeFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*ZB),!0),this.pos+=8}writeSFixed64(l){this.realloc(8),this.dataView.setInt32(this.pos,-1&l,!0),this.dataView.setInt32(this.pos+4,Math.floor(l*ZB),!0),this.pos+=8}writeVarint(l){(l=+l||0)>268435455||l<0?(function(h,m){let v,B;if(h>=0?(v=h%4294967296|0,B=h/4294967296|0):(v=~(-h%4294967296),B=~(-h/4294967296),4294967295^v?v=v+1|0:(v=0,B=B+1|0)),h>=18446744073709552e3||h<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");m.realloc(10),(function(E,D,N){N.buf[N.pos++]=127&E|128,E>>>=7,N.buf[N.pos++]=127&E|128,E>>>=7,N.buf[N.pos++]=127&E|128,E>>>=7,N.buf[N.pos++]=127&E|128,N.buf[N.pos]=127&(E>>>=7)})(v,0,m),(function(E,D){const N=(7&E)<<4;D.buf[D.pos++]|=N|((E>>>=3)?128:0),E&&(D.buf[D.pos++]=127&E|((E>>>=7)?128:0),E&&(D.buf[D.pos++]=127&E|((E>>>=7)?128:0),E&&(D.buf[D.pos++]=127&E|((E>>>=7)?128:0),E&&(D.buf[D.pos++]=127&E|((E>>>=7)?128:0),E&&(D.buf[D.pos++]=127&E)))))})(B,m)})(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))}writeSVarint(l){this.writeVarint(l<0?2*-l-1:2*l)}writeBoolean(l){this.writeVarint(+l)}writeString(l){l=String(l),this.realloc(4*l.length),this.pos++;const h=this.pos;this.pos=(function(v,B,E){for(let D,N,G=0;G<B.length;G++){if(D=B.charCodeAt(G),D>55295&&D<57344){if(!N){D>56319||G+1===B.length?(v[E++]=239,v[E++]=191,v[E++]=189):N=D;continue}if(D<56320){v[E++]=239,v[E++]=191,v[E++]=189,N=D;continue}D=N-55296<<10|D-56320|65536,N=null}else N&&(v[E++]=239,v[E++]=191,v[E++]=189,N=null);D<128?v[E++]=D:(D<2048?v[E++]=D>>6|192:(D<65536?v[E++]=D>>12|224:(v[E++]=D>>18|240,v[E++]=D>>12&63|128),v[E++]=D>>6&63|128),v[E++]=63&D|128)}return E})(this.buf,l,this.pos);const m=this.pos-h;m>=128&&eE(h,m,this),this.pos=h-1,this.writeVarint(m),this.pos+=m}writeFloat(l){this.realloc(4),this.dataView.setFloat32(this.pos,l,!0),this.pos+=4}writeDouble(l){this.realloc(8),this.dataView.setFloat64(this.pos,l,!0),this.pos+=8}writeBytes(l){const h=l.length;this.writeVarint(h),this.realloc(h);for(let m=0;m<h;m++)this.buf[this.pos++]=l[m]}writeRawMessage(l,h){this.pos++;const m=this.pos;l(h,this);const v=this.pos-m;v>=128&&eE(m,v,this),this.pos=m-1,this.writeVarint(v),this.pos+=v}writeMessage(l,h,m){this.writeTag(l,2),this.writeRawMessage(h,m)}writePackedVarint(l,h){h.length&&this.writeMessage(l,wU,h)}writePackedSVarint(l,h){h.length&&this.writeMessage(l,bU,h)}writePackedBoolean(l,h){h.length&&this.writeMessage(l,BU,h)}writePackedFloat(l,h){h.length&&this.writeMessage(l,CU,h)}writePackedDouble(l,h){h.length&&this.writeMessage(l,SU,h)}writePackedFixed32(l,h){h.length&&this.writeMessage(l,EU,h)}writePackedSFixed32(l,h){h.length&&this.writeMessage(l,kU,h)}writePackedFixed64(l,h){h.length&&this.writeMessage(l,TU,h)}writePackedSFixed64(l,h){h.length&&this.writeMessage(l,IU,h)}writeBytesField(l,h){this.writeTag(l,2),this.writeBytes(h)}writeFixed32Field(l,h){this.writeTag(l,5),this.writeFixed32(h)}writeSFixed32Field(l,h){this.writeTag(l,5),this.writeSFixed32(h)}writeFixed64Field(l,h){this.writeTag(l,1),this.writeFixed64(h)}writeSFixed64Field(l,h){this.writeTag(l,1),this.writeSFixed64(h)}writeVarintField(l,h){this.writeTag(l,0),this.writeVarint(h)}writeSVarintField(l,h){this.writeTag(l,0),this.writeSVarint(h)}writeStringField(l,h){this.writeTag(l,2),this.writeString(h)}writeFloatField(l,h){this.writeTag(l,5),this.writeFloat(h)}writeDoubleField(l,h){this.writeTag(l,1),this.writeDouble(h)}writeBooleanField(l,h){this.writeVarintField(l,+h)}}function op(f,l,h){return h?4294967296*l+(f>>>0):4294967296*(l>>>0)+(f>>>0)}function eE(f,l,h){const m=l<=16383?1:l<=2097151?2:l<=268435455?3:Math.floor(Math.log(l)/(7*Math.LN2));h.realloc(m);for(let v=h.pos-1;v>=f;v--)h.buf[v+m]=h.buf[v]}function wU(f,l){for(let h=0;h<f.length;h++)l.writeVarint(f[h])}function bU(f,l){for(let h=0;h<f.length;h++)l.writeSVarint(f[h])}function CU(f,l){for(let h=0;h<f.length;h++)l.writeFloat(f[h])}function SU(f,l){for(let h=0;h<f.length;h++)l.writeDouble(f[h])}function BU(f,l){for(let h=0;h<f.length;h++)l.writeBoolean(f[h])}function EU(f,l){for(let h=0;h<f.length;h++)l.writeFixed32(f[h])}function kU(f,l){for(let h=0;h<f.length;h++)l.writeSFixed32(f[h])}function TU(f,l){for(let h=0;h<f.length;h++)l.writeFixed64(f[h])}function IU(f,l){for(let h=0;h<f.length;h++)l.writeSFixed64(f[h])}function MU(f,l,h){f===1&&h.readMessage(LU,l)}function LU(f,l,h){if(f===3){const{id:m,bitmap:v,width:B,height:E,left:D,top:N,advance:G}=h.readMessage(FU,{});l.push({id:m,bitmap:new $g({width:B+6,height:E+6},v),metrics:{width:B,height:E,left:D,top:N,advance:G}})}}function FU(f,l,h){f===1?l.id=h.readVarint():f===2?l.bitmap=h.readBytes():f===3?l.width=h.readVarint():f===4?l.height=h.readVarint():f===5?l.left=h.readSVarint():f===6?l.top=h.readSVarint():f===7&&(l.advance=h.readVarint())}function tE(f){let l=0,h=0;for(const E of f)l+=E.w*E.h,h=Math.max(h,E.w);f.sort(((E,D)=>D.h-E.h));const m=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(l/.95)),h),h:1/0}];let v=0,B=0;for(const E of f)for(let D=m.length-1;D>=0;D--){const N=m[D];if(!(E.w>N.w||E.h>N.h)){if(E.x=N.x,E.y=N.y,B=Math.max(B,E.y+E.h),v=Math.max(v,E.x+E.w),E.w===N.w&&E.h===N.h){const G=m.pop();G&&D<m.length&&(m[D]=G)}else E.h===N.h?(N.x+=E.w,N.w-=E.w):E.w===N.w?(N.y+=E.h,N.h-=E.h):(m.push({x:N.x+E.w,y:N.y,w:N.w-E.w,h:E.h}),N.y+=E.h,N.h-=E.h);break}}return{w:v,h:B,fill:l/(v*B)||0}}class ow{constructor(l,{pixelRatio:h,version:m,stretchX:v,stretchY:B,content:E,textFitWidth:D,textFitHeight:N}){this.paddedRect=l,this.pixelRatio=h,this.stretchX=v,this.stretchY=B,this.content=E,this.version=m,this.textFitWidth=D,this.textFitHeight=N}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class iE{constructor(l,h){const m={},v={};this.haveRenderCallbacks=[];const B=[];this.addImages(l,m,B),this.addImages(h,v,B);const{w:E,h:D}=tE(B),N=new yl({width:E||1,height:D||1});for(const G in l){const K=l[G],ae=m[G].paddedRect;yl.copy(K.data,N,{x:0,y:0},{x:ae.x+1,y:ae.y+1},K.data)}for(const G in h){const K=h[G],ae=v[G].paddedRect,le=ae.x+1,ce=ae.y+1,pe=K.data.width,me=K.data.height;yl.copy(K.data,N,{x:0,y:0},{x:le,y:ce},K.data),yl.copy(K.data,N,{x:0,y:me-1},{x:le,y:ce-1},{width:pe,height:1}),yl.copy(K.data,N,{x:0,y:0},{x:le,y:ce+me},{width:pe,height:1}),yl.copy(K.data,N,{x:pe-1,y:0},{x:le-1,y:ce},{width:1,height:me}),yl.copy(K.data,N,{x:0,y:0},{x:le+pe,y:ce},{width:1,height:me})}this.image=N,this.iconPositions=m,this.patternPositions=v}addImages(l,h,m){for(const v in l){const B=l[v],E={x:0,y:0,w:B.data.width+2,h:B.data.height+2};m.push(E),h[v]=new ow(E,B),B.hasRenderCallback&&this.haveRenderCallbacks.push(v)}}patchUpdatedImages(l,h){l.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const m in l.updatedImages)this.patchUpdatedImage(this.iconPositions[m],l.getImage(m),h),this.patchUpdatedImage(this.patternPositions[m],l.getImage(m),h)}patchUpdatedImage(l,h,m){if(!l||!h||l.version===h.version)return;l.version=h.version;const[v,B]=l.tl;m.update(h.data,void 0,{x:v,y:B})}}var Cd;function By(f,l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe){const me=sp.fromFeature(f,v);let _e;ae===o.az.vertical&&me.verticalizePunctuation();let Le=me.determineLineBreaks(G,B,l,m,ce);const{processBidirectionalText:Je,processStyledBidirectionalText:Pe}=qu;if(Je&&me.sections.length===1){_e=[],Le=Le.map((Rt=>me.toCodeUnitIndex(Rt)));const lt=Je(me.toString(),Le);for(const Rt of lt){const ri=[...Rt].map((()=>0));_e.push(new sp(Rt,me.sections,ri))}}else if(Pe){_e=[],Le=Le.map((ei=>me.toCodeUnitIndex(ei)));let lt=0;const Rt=[];for(const ei of me.text)Rt.push(...Array(ei.length).fill(me.sectionIndex[lt])),lt++;const ri=Pe(me.text,Rt,Le);for(const ei of ri){const Ai=[];let Ui="";for(const yi of ei[0])Ai.push(ei[1][Ui.length]),Ui+=yi;_e.push(new sp(ei[0],me.sections,Ai))}}else _e=(function(lt,Rt){const ri=[];let ei=0;for(const Ai of Rt)ri.push(lt.substring(ei,Ai)),ei=Ai;return ei<lt.length()&&ri.push(lt.substring(ei,lt.length())),ri})(me,Le);const Oe=[],it={positionedLines:Oe,text:me.toString(),top:K[1],bottom:K[1],left:K[0],right:K[0],writingMode:ae,iconsInText:!1,verticalizable:!1};return(function(lt,Rt,ri,ei,Ai,Ui,yi,ii,Vt,tn,Ki,dn){let Wi=0,Rn=0,Pa=0,va=0;const Vr=ii==="right"?1:ii==="left"?0:.5,Eo=no/dn;let Ps=0;for(const Ka of Ai){Ka.trim();const ls=Ka.getMaxScale(),gs={positionedGlyphs:[],lineOffset:0};lt.positionedLines[Ps]=gs;const Tr=gs.positionedGlyphs;let xl=0;if(!Ka.length()){Rn+=Ui,++Ps;continue}const ko=PU(ei,Ka,Eo);let _l=0;for(const so of Ka.text){const Jr=Ka.getSection(_l),Ds=so.codePointAt(0),cs=DU(Vt,Ki,Ds),oo={glyph:Ds,imageName:null,x:Wi,y:Rn+-17,vertical:cs,scale:1,fontStack:"",sectionIndex:Ka.getSectionIndex(_l),metrics:null,rect:null};let Vh;if("fontStack"in Jr){if(Vh=RU(Jr,Ds,cs,ko,Rt,ri),!Vh)continue;oo.fontStack=Jr.fontStack}else{if(lt.iconsInText=!0,Jr.scale*=Eo,Vh=OU(Jr,cs,ls,ko,ei),!Vh)continue;xl=Math.max(xl,Vh.imageOffset),oo.imageName=Jr.imageName}const{rect:_u,metrics:um,baselineOffset:Td}=Vh;oo.y+=Td,oo.scale=Jr.scale,oo.metrics=um,oo.rect=_u,Tr.push(oo),cs?(lt.verticalizable=!0,Wi+=("imageName"in Jr?um.advance:no)*Jr.scale+tn):Wi+=um.advance*Jr.scale+tn,_l++}Tr.length!==0&&(Pa=Math.max(Wi-tn,Pa),UU(Tr,0,Tr.length-1,Vr)),Wi=0,gs.lineOffset=Math.max(xl,(ls-1)*no);const jc=Ui*ls+xl;Rn+=jc,va=Math.max(jc,va),++Ps}const{horizontalAlign:Gr,verticalAlign:Or}=lw(yi);(function(Ka,ls,gs,Tr,xl,ko,_l,jc,so){const Jr=(ls-gs)*xl;let Ds=0;Ds=ko!==_l?-jc*Tr- -17:-Tr*so*_l+.5*_l;for(const cs of Ka)for(const oo of cs.positionedGlyphs)oo.x+=Jr,oo.y+=Ds})(lt.positionedLines,Vr,Gr,Or,Pa,va,Ui,Rn,Ai.length),lt.top+=-Or*Rn,lt.bottom=lt.top+Rn,lt.left+=-Gr*Pa,lt.right=lt.left+Pa})(it,l,h,m,_e,E,D,N,ae,G,le,pe),!(function(lt){for(const Rt of lt)if(Rt.positionedGlyphs.length!==0)return!1;return!0})(Oe)&&it}function lw(f){let l=.5,h=.5;switch(f){case"right":case"top-right":case"bottom-right":l=1;break;case"left":case"top-left":case"bottom-left":l=0}switch(f){case"bottom":case"bottom-right":case"bottom-left":h=1;break;case"top":case"top-right":case"top-left":h=0}return{horizontalAlign:l,verticalAlign:h}}function PU(f,l,h){const m=l.getMaxScale()*no,{maxImageWidth:v,maxImageHeight:B}=l.getMaxImageSize(f),E=Math.max(m,B*h);return{verticalLineContentWidth:Math.max(m,v*h),horizontalLineContentHeight:E}}function nE(f){switch(f){case"top":return 0;case"center":return .5;default:return 1}}function DU(f,l,h){return!(f===o.az.horizontal||!l&&!ma(h)||l&&(Er(h)||(m=h,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(m)))));var m}function RU(f,l,h,m,v,B){const E=B[f.fontStack],D=(function(G,K,ae,le){if(G&&G.rect)return G;const ce=K[ae.fontStack],pe=ce&&ce[le];return pe?{rect:null,metrics:pe.metrics}:null})(E&&E[l],v,f,l);if(D===null)return null;let N;if(h)N=m.verticalLineContentWidth-f.scale*no;else{const G=nE(f.verticalAlign);N=(m.horizontalLineContentHeight-f.scale*no)*G}return{rect:D.rect,metrics:D.metrics,baselineOffset:N}}function OU(f,l,h,m,v){const B=v[f.imageName];if(!B)return null;const E=B.paddedRect,D=B.displaySize,N={width:D[0],height:D[1],left:1,top:-3,advance:l?D[1]:D[0]};let G;if(l)G=m.verticalLineContentWidth-D[1]*f.scale;else{const K=nE(f.verticalAlign);G=(m.horizontalLineContentHeight-D[1]*f.scale)*K}return{rect:E,metrics:N,baselineOffset:G,imageOffset:(l?D[0]:D[1])*f.scale-no*h}}function UU(f,l,h,m){if(m===0)return;const v=f[h],B=(f[h].x+v.metrics.advance*v.scale)*m;for(let E=l;E<=h;E++)f[E].x-=B}function NU(f,l,h){const{horizontalAlign:m,verticalAlign:v}=lw(h),B=l[0]-f.displaySize[0]*m,E=l[1]-f.displaySize[1]*v;return{image:f,top:E,bottom:E+f.displaySize[1],left:B,right:B+f.displaySize[0]}}function aE(f){var l,h;let m=f.left,v=f.top,B=f.right-m,E=f.bottom-v;const D=(l=f.image.textFitWidth)!==null&&l!==void 0?l:"stretchOrShrink",N=(h=f.image.textFitHeight)!==null&&h!==void 0?h:"stretchOrShrink",G=(f.image.content[2]-f.image.content[0])/(f.image.content[3]-f.image.content[1]);if(N==="proportional"){if(D==="stretchOnly"&&B/E<G||D==="proportional"){const K=Math.ceil(E*G);m*=K/B,B=K}}else if(D==="proportional"&&N==="stretchOnly"&&G!==0&&B/E>G){const K=Math.ceil(B/G);v*=K/E,E=K}return{x1:m,y1:v,x2:m+B,y2:v+E}}function rE(f,l,h,m,v,B){const E=f.image;let D;if(E.content){const _e=E.content,Le=E.pixelRatio||1;D=[_e[0]/Le,_e[1]/Le,E.displaySize[0]-_e[2]/Le,E.displaySize[1]-_e[3]/Le]}const N=l.left*B,G=l.right*B;let K,ae,le,ce;h==="width"||h==="both"?(ce=v[0]+N-m[3],ae=v[0]+G+m[1]):(ce=v[0]+(N+G-E.displaySize[0])/2,ae=ce+E.displaySize[0]);const pe=l.top*B,me=l.bottom*B;return h==="height"||h==="both"?(K=v[1]+pe-m[0],le=v[1]+me+m[2]):(K=v[1]+(pe+me-E.displaySize[1])/2,le=K+E.displaySize[1]),{image:E,top:K,right:ae,bottom:le,left:ce,collisionPadding:D}}Zi("ImagePosition",ow),Zi("ImageAtlas",iE),o.az=void 0,(Cd=o.az||(o.az={}))[Cd.none=0]="none",Cd[Cd.horizontal=1]="horizontal",Cd[Cd.vertical=2]="vertical",Cd[Cd.horizontalOnly=3]="horizontalOnly";const Qh=128,Sd=32640;function sE(f,l){const{expression:h}=l;if(h.kind==="constant")return{kind:"constant",layoutSize:h.evaluate(new cr(f+1))};if(h.kind==="source")return{kind:"source"};{const{zoomStops:m,interpolationType:v}=h;let B=0;for(;B<m.length&&m[B]<=f;)B++;B=Math.max(0,B-1);let E=B;for(;E<m.length&&m[E]<f+1;)E++;E=Math.min(m.length-1,E);const D=m[B],N=m[E];return h.kind==="composite"?{kind:"composite",minZoom:D,maxZoom:N,interpolationType:v}:{kind:"camera",minZoom:D,maxZoom:N,minSize:h.evaluate(new cr(D)),maxSize:h.evaluate(new cr(N)),interpolationType:v}}}function cw(f,l,h){let m="never";const v=f.get(l);return v?m=v:f.get(h)&&(m="always"),m}const zU=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ey(f,l,h,m,v,B,E,D,N,G,K,ae,le){const ce=D?Math.min(Sd,Math.round(D[0])):0,pe=D?Math.min(Sd,Math.round(D[1])):0;f.emplaceBack(l,h,Math.round(32*m),Math.round(32*v),B,E,(ce<<1)+(N?1:0),pe,16*G,16*K,256*ae,256*le)}function uw(f,l,h){f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h),f.emplaceBack(l.x,l.y,h)}function HU(f){for(const l of f.sections)if(cy(l.text))return!0;return!1}class hw{constructor(l){this.layoutVertexArray=new rt,this.indexArray=new Ht,this.programConfigurations=l,this.segments=new zi,this.dynamicLayoutVertexArray=new St,this.opacityVertexArray=new Xt,this.hasVisibleVertices=!1,this.placedSymbolArray=new U}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(l,h,m,v){this.isEmpty()||(m&&(this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,AU.members),this.indexBuffer=l.createIndexBuffer(this.indexArray,h),this.dynamicLayoutVertexBuffer=l.createVertexBuffer(this.dynamicLayoutVertexArray,pU.members,!0),this.opacityVertexBuffer=l.createVertexBuffer(this.opacityVertexArray,zU,!0),this.opacityVertexBuffer.itemSize=1),(m||v)&&this.programConfigurations.upload(l))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Zi("SymbolBuffers",hw);class dw{constructor(l,h,m){this.layoutVertexArray=new l,this.layoutAttributes=h,this.indexArray=new m,this.segments=new zi,this.collisionVertexArray=new zt}upload(l){this.layoutVertexBuffer=l.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=l.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=l.createVertexBuffer(this.collisionVertexArray,gU.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Zi("CollisionBuffers",dw);class lp{constructor(l){this.collisionBoxArray=l.collisionBoxArray,this.zoom=l.zoom,this.overscaling=l.overscaling,this.layers=l.layers,this.layerIds=this.layers.map((E=>E.id)),this.index=l.index,this.pixelRatio=l.pixelRatio,this.sourceLayerIndex=l.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const h=this.layers[0]._unevaluatedLayout._values;this.textSizeData=sE(this.zoom,h["text-size"]),this.iconSizeData=sE(this.zoom,h["icon-size"]);const m=this.layers[0].layout,v=m.get("symbol-sort-key"),B=m.get("symbol-z-order");this.canOverlap=cw(m,"text-overlap","text-allow-overlap")!=="never"||cw(m,"icon-overlap","icon-allow-overlap")!=="never"||m.get("text-ignore-placement")||m.get("icon-ignore-placement"),this.sortFeaturesByKey=B!=="viewport-y"&&!v.isConstant(),this.sortFeaturesByY=(B==="viewport-y"||B==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,m.get("symbol-placement")==="point"&&(this.writingModes=m.get("text-writing-mode").map((E=>o.az[E]))),this.stateDependentLayerIds=this.layers.filter((E=>E.isStateDependent())).map((E=>E.id)),this.sourceID=l.sourceID}createArrays(){this.text=new hw(new Hh(this.layers,this.zoom,(l=>/^text/.test(l)))),this.icon=new hw(new Hh(this.layers,this.zoom,(l=>/^icon/.test(l)))),this.glyphOffsetArray=new ie,this.lineVertexArray=new se,this.symbolInstances=new X,this.textAnchorOffsets=new ue}calculateGlyphDependencies(l,h,m,v,B){for(const E of l)if(h[E.codePointAt(0)]=!0,(m||v)&&B){const D=nm[E];D&&(h[D.codePointAt(0)]=!0)}}populate(l,h,m){const v=this.layers[0],B=v.layout,E=B.get("text-font"),D=B.get("text-field"),N=B.get("icon-image"),G=(D.value.kind!=="constant"||D.value.value instanceof na&&!D.value.value.isEmpty()||D.value.value.toString().length>0)&&(E.value.kind!=="constant"||E.value.value.length>0),K=N.value.kind!=="constant"||!!N.value.value||Object.keys(N.parameters).length>0,ae=B.get("symbol-sort-key");if(this.features=[],!G&&!K)return;const le=h.iconDependencies,ce=h.glyphDependencies,pe=h.availableImages,me=new cr(this.zoom);for(const{feature:_e,id:Le,index:Je,sourceLayerIndex:Pe}of l){const Oe=v._featureFilter.needGeometry,it=th(_e,Oe);if(!v._featureFilter.filter(me,it,m))continue;let lt,Rt;if(Oe||(it.geometry=eh(_e)),G){const ei=v.getValueAndResolveTokens("text-field",it,m,pe),Ai=na.factory(ei),Ui=this.hasRTLText=this.hasRTLText||HU(Ai);(!Ui||qu.getRTLTextPluginStatus()==="unavailable"||Ui&&qu.isParsed())&&(lt=yU(Ai,v,it))}if(K){const ei=v.getValueAndResolveTokens("icon-image",it,m,pe);Rt=ei instanceof Ce?ei:Ce.fromString(ei)}if(!lt&&!Rt)continue;const ri=this.sortFeaturesByKey?ae.evaluate(it,{},m):void 0;if(this.features.push({id:Le,text:lt,icon:Rt,index:Je,sourceLayerIndex:Pe,geometry:it.geometry,properties:_e.properties,type:em.types[_e.type],sortKey:ri}),Rt&&(le[Rt.name]=!0),lt){const ei=E.evaluate(it,{},m).join(","),Ai=B.get("text-rotation-alignment")!=="viewport"&&B.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.az.vertical)>=0;for(const Ui of lt.sections)if(Ui.image)le[Ui.image.name]=!0;else{const yi=qr(lt.toString()),ii=Ui.fontStack||ei,Vt=ce[ii]=ce[ii]||{};this.calculateGlyphDependencies(Ui.text,Vt,Ai,this.allowVerticalPlacement,yi)}}}B.get("symbol-placement")==="line"&&(this.features=(function(_e){const Le={},Je={},Pe=[];let Oe=0;function it(ei){Pe.push(_e[ei]),Oe++}function lt(ei,Ai,Ui){const yi=Je[ei];return delete Je[ei],Je[Ai]=yi,Pe[yi].geometry[0].pop(),Pe[yi].geometry[0]=Pe[yi].geometry[0].concat(Ui[0]),yi}function Rt(ei,Ai,Ui){const yi=Le[Ai];return delete Le[Ai],Le[ei]=yi,Pe[yi].geometry[0].shift(),Pe[yi].geometry[0]=Ui[0].concat(Pe[yi].geometry[0]),yi}function ri(ei,Ai,Ui){const yi=Ui?Ai[0][Ai[0].length-1]:Ai[0][0];return`${ei}:${yi.x}:${yi.y}`}for(let ei=0;ei<_e.length;ei++){const Ai=_e[ei],Ui=Ai.geometry,yi=Ai.text?Ai.text.toString():null;if(!yi){it(ei);continue}const ii=ri(yi,Ui),Vt=ri(yi,Ui,!0);if(ii in Je&&Vt in Le&&Je[ii]!==Le[Vt]){const tn=Rt(ii,Vt,Ui),Ki=lt(ii,Vt,Pe[tn].geometry);delete Le[ii],delete Je[Vt],Je[ri(yi,Pe[Ki].geometry,!0)]=Ki,Pe[tn].geometry=null}else ii in Je?lt(ii,Vt,Ui):Vt in Le?Rt(ii,Vt,Ui):(it(ei),Le[ii]=Oe-1,Je[Vt]=Oe-1)}return Pe.filter((ei=>ei.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((_e,Le)=>_e.sortKey-Le.sortKey))}update(l,h,m){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(l,h,this.layers,{imagePositions:m}),this.icon.programConfigurations.updatePaintArrays(l,h,this.layers,{imagePositions:m}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(l){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(l),this.iconCollisionBox.upload(l)),this.text.upload(l,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(l,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(l,h){const m=this.lineVertexArray.length;if(l.segment!==void 0){let v=l.dist(h[l.segment+1]),B=l.dist(h[l.segment]);const E={};for(let D=l.segment+1;D<h.length;D++)E[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:v},D<h.length-1&&(v+=h[D+1].dist(h[D]));for(let D=l.segment||0;D>=0;D--)E[D]={x:h[D].x,y:h[D].y,tileUnitDistanceFromAnchor:B},D>0&&(B+=h[D-1].dist(h[D]));for(let D=0;D<h.length;D++){const N=E[D];this.lineVertexArray.emplaceBack(N.x,N.y,N.tileUnitDistanceFromAnchor)}}return{lineStartIndex:m,lineLength:this.lineVertexArray.length-m}}addSymbols(l,h,m,v,B,E,D,N,G,K,ae,le){const ce=l.indexArray,pe=l.layoutVertexArray,me=l.segments.prepareSegment(4*h.length,pe,ce,this.canOverlap?E.sortKey:void 0),_e=this.glyphOffsetArray.length,Le=me.vertexLength,Je=this.allowVerticalPlacement&&D===o.az.vertical?Math.PI/2:0,Pe=E.text&&E.text.sections;for(let Oe=0;Oe<h.length;Oe++){const{tl:it,tr:lt,bl:Rt,br:ri,tex:ei,pixelOffsetTL:Ai,pixelOffsetBR:Ui,minFontScaleX:yi,minFontScaleY:ii,glyphOffset:Vt,isSDF:tn,sectionIndex:Ki}=h[Oe],dn=me.vertexLength,Wi=Vt[1];Ey(pe,N.x,N.y,it.x,Wi+it.y,ei.x,ei.y,m,tn,Ai.x,Ai.y,yi,ii),Ey(pe,N.x,N.y,lt.x,Wi+lt.y,ei.x+ei.w,ei.y,m,tn,Ui.x,Ai.y,yi,ii),Ey(pe,N.x,N.y,Rt.x,Wi+Rt.y,ei.x,ei.y+ei.h,m,tn,Ai.x,Ui.y,yi,ii),Ey(pe,N.x,N.y,ri.x,Wi+ri.y,ei.x+ei.w,ei.y+ei.h,m,tn,Ui.x,Ui.y,yi,ii),uw(l.dynamicLayoutVertexArray,N,Je),ce.emplaceBack(dn,dn+2,dn+1),ce.emplaceBack(dn+1,dn+2,dn+3),me.vertexLength+=4,me.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Vt[0]),Oe!==h.length-1&&Ki===h[Oe+1].sectionIndex||l.programConfigurations.populatePaintArrays(pe.length,E,E.index,{imagePositions:{},canonical:le,formattedSection:Pe&&Pe[Ki]})}l.placedSymbolArray.emplaceBack(N.x,N.y,_e,this.glyphOffsetArray.length-_e,Le,G,K,N.segment,m?m[0]:0,m?m[1]:0,v[0],v[1],D,0,!1,0,ae)}_addCollisionDebugVertex(l,h,m,v,B,E){return h.emplaceBack(0,0),l.emplaceBack(m.x,m.y,v,B,Math.round(E.x),Math.round(E.y))}addCollisionDebugVertices(l,h,m,v,B,E,D){const N=B.segments.prepareSegment(4,B.layoutVertexArray,B.indexArray),G=N.vertexLength,K=B.layoutVertexArray,ae=B.collisionVertexArray,le=D.anchorX,ce=D.anchorY;this._addCollisionDebugVertex(K,ae,E,le,ce,new u(l,h)),this._addCollisionDebugVertex(K,ae,E,le,ce,new u(m,h)),this._addCollisionDebugVertex(K,ae,E,le,ce,new u(m,v)),this._addCollisionDebugVertex(K,ae,E,le,ce,new u(l,v)),N.vertexLength+=4;const pe=B.indexArray;pe.emplaceBack(G,G+1),pe.emplaceBack(G+1,G+2),pe.emplaceBack(G+2,G+3),pe.emplaceBack(G+3,G),N.primitiveLength+=4}addDebugCollisionBoxes(l,h,m,v){for(let B=l;B<h;B++){const E=this.collisionBoxArray.get(B);this.addCollisionDebugVertices(E.x1,E.y1,E.x2,E.y2,v?this.textCollisionBox:this.iconCollisionBox,E.anchorPoint,m)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dw(Ut,$B.members,Ti),this.iconCollisionBox=new dw(Ut,$B.members,Ti);for(let l=0;l<this.symbolInstances.length;l++){const h=this.symbolInstances.get(l);this.addDebugCollisionBoxes(h.textBoxStartIndex,h.textBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h,!0),this.addDebugCollisionBoxes(h.iconBoxStartIndex,h.iconBoxEndIndex,h,!1),this.addDebugCollisionBoxes(h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex,h,!1)}}_deserializeCollisionBoxesForSymbol(l,h,m,v,B,E,D,N,G){const K={};for(let ae=h;ae<m;ae++){const le=l.get(ae);K.textBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.textFeatureIndex=le.featureIndex;break}for(let ae=v;ae<B;ae++){const le=l.get(ae);K.verticalTextBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.verticalTextFeatureIndex=le.featureIndex;break}for(let ae=E;ae<D;ae++){const le=l.get(ae);K.iconBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.iconFeatureIndex=le.featureIndex;break}for(let ae=N;ae<G;ae++){const le=l.get(ae);K.verticalIconBox={x1:le.x1,y1:le.y1,x2:le.x2,y2:le.y2,anchorPointX:le.anchorPointX,anchorPointY:le.anchorPointY},K.verticalIconFeatureIndex=le.featureIndex;break}return K}deserializeCollisionBoxes(l){this.collisionArrays=[];for(let h=0;h<this.symbolInstances.length;h++){const m=this.symbolInstances.get(h);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(l,m.textBoxStartIndex,m.textBoxEndIndex,m.verticalTextBoxStartIndex,m.verticalTextBoxEndIndex,m.iconBoxStartIndex,m.iconBoxEndIndex,m.verticalIconBoxStartIndex,m.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(l,h){const m=l.placedSymbolArray.get(h),v=m.vertexStartIndex+4*m.numGlyphs;for(let B=m.vertexStartIndex;B<v;B+=4)l.indexArray.emplaceBack(B,B+2,B+1),l.indexArray.emplaceBack(B+1,B+2,B+3)}getSortedSymbolIndexes(l){if(this.sortedAngle===l&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const h=Math.sin(l),m=Math.cos(l),v=[],B=[],E=[];for(let D=0;D<this.symbolInstances.length;++D){E.push(D);const N=this.symbolInstances.get(D);v.push(0|Math.round(h*N.anchorX+m*N.anchorY)),B.push(N.featureIndex)}return E.sort(((D,N)=>v[D]-v[N]||B[N]-B[D])),E}addToSortKeyRanges(l,h){const m=this.sortKeyRanges[this.sortKeyRanges.length-1];m&&m.sortKey===h?m.symbolInstanceEnd=l+1:this.sortKeyRanges.push({sortKey:h,symbolInstanceStart:l,symbolInstanceEnd:l+1})}sortFeatures(l){if(this.sortFeaturesByY&&this.sortedAngle!==l&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(l),this.sortedAngle=l,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const h of this.symbolInstanceIndexes){const m=this.symbolInstances.get(h);this.featureSortOrder.push(m.featureIndex),[m.rightJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.leftJustifiedTextSymbolIndex].forEach(((v,B,E)=>{v>=0&&E.indexOf(v)===B&&this.addIndicesForPlacedSymbol(this.text,v)})),m.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,m.verticalPlacedTextSymbolIndex),m.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.placedIconSymbolIndex),m.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,m.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let oE,lE;Zi("SymbolBucket",lp,{omit:["layers","collisionBoxArray","features","compareText"]}),lp.MAX_GLYPHS=65535,lp.addDynamicAttributes=uw;var fw={get paint(){return lE=lE||new No({"icon-opacity":new Gn(Tt.paint_symbol["icon-opacity"]),"icon-color":new Gn(Tt.paint_symbol["icon-color"]),"icon-halo-color":new Gn(Tt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Gn(Tt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Gn(Tt.paint_symbol["icon-halo-blur"]),"icon-translate":new kn(Tt.paint_symbol["icon-translate"]),"icon-translate-anchor":new kn(Tt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Gn(Tt.paint_symbol["text-opacity"]),"text-color":new Gn(Tt.paint_symbol["text-color"],{runtimeType:Ci,getOverride:f=>f.textColor,hasOverride:f=>!!f.textColor}),"text-halo-color":new Gn(Tt.paint_symbol["text-halo-color"]),"text-halo-width":new Gn(Tt.paint_symbol["text-halo-width"]),"text-halo-blur":new Gn(Tt.paint_symbol["text-halo-blur"]),"text-translate":new kn(Tt.paint_symbol["text-translate"]),"text-translate-anchor":new kn(Tt.paint_symbol["text-translate-anchor"])})},get layout(){return oE=oE||new No({"symbol-placement":new kn(Tt.layout_symbol["symbol-placement"]),"symbol-spacing":new kn(Tt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new kn(Tt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Gn(Tt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new kn(Tt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new kn(Tt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new kn(Tt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new kn(Tt.layout_symbol["icon-ignore-placement"]),"icon-optional":new kn(Tt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new kn(Tt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Gn(Tt.layout_symbol["icon-size"]),"icon-text-fit":new kn(Tt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new kn(Tt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Gn(Tt.layout_symbol["icon-image"]),"icon-rotate":new Gn(Tt.layout_symbol["icon-rotate"]),"icon-padding":new Gn(Tt.layout_symbol["icon-padding"]),"icon-keep-upright":new kn(Tt.layout_symbol["icon-keep-upright"]),"icon-offset":new Gn(Tt.layout_symbol["icon-offset"]),"icon-anchor":new Gn(Tt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new kn(Tt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new kn(Tt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new kn(Tt.layout_symbol["text-rotation-alignment"]),"text-field":new Gn(Tt.layout_symbol["text-field"]),"text-font":new Gn(Tt.layout_symbol["text-font"]),"text-size":new Gn(Tt.layout_symbol["text-size"]),"text-max-width":new Gn(Tt.layout_symbol["text-max-width"]),"text-line-height":new kn(Tt.layout_symbol["text-line-height"]),"text-letter-spacing":new Gn(Tt.layout_symbol["text-letter-spacing"]),"text-justify":new Gn(Tt.layout_symbol["text-justify"]),"text-radial-offset":new Gn(Tt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new kn(Tt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Gn(Tt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Gn(Tt.layout_symbol["text-anchor"]),"text-max-angle":new kn(Tt.layout_symbol["text-max-angle"]),"text-writing-mode":new kn(Tt.layout_symbol["text-writing-mode"]),"text-rotate":new Gn(Tt.layout_symbol["text-rotate"]),"text-padding":new kn(Tt.layout_symbol["text-padding"]),"text-keep-upright":new kn(Tt.layout_symbol["text-keep-upright"]),"text-transform":new Gn(Tt.layout_symbol["text-transform"]),"text-offset":new Gn(Tt.layout_symbol["text-offset"]),"text-allow-overlap":new kn(Tt.layout_symbol["text-allow-overlap"]),"text-overlap":new kn(Tt.layout_symbol["text-overlap"]),"text-ignore-placement":new kn(Tt.layout_symbol["text-ignore-placement"]),"text-optional":new kn(Tt.layout_symbol["text-optional"])})}};class cE{constructor(l){if(l.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=l.property.overrides?l.property.overrides.runtimeType:ni,this.defaultValue=l}evaluate(l){if(l.formattedSection){const h=this.defaultValue.property.overrides;if(h&&h.hasOverride(l.formattedSection))return h.getOverride(l.formattedSection)}return l.feature&&l.featureState?this.defaultValue.evaluate(l.feature,l.featureState):this.defaultValue.property.specification.default}eachChild(l){this.defaultValue.isConstant()||l(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Zi("FormatSectionOverride",cE,{omit:["defaultValue"]});class ky extends Hl{constructor(l,h){super(l,fw,h)}recalculate(l,h){if(super.recalculate(l,h),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const m=this.layout.get("text-writing-mode");if(m){const v=[];for(const B of m)v.indexOf(B)<0&&v.push(B);this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(l,h,m,v){const B=this.layout.get(l).evaluate(h,{},m,v),E=this._unevaluatedLayout._values[l];return E.isDataDriven()||sc(E.value)||!B?B:(function(D,N){return N.replace(/{([^{}]+)}/g,((G,K)=>D&&K in D?String(D[K]):""))})(h.properties,B)}createBucket(l){return new lp(l)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const l of fw.paint.overridableProperties){if(!ky.hasPaintOverride(this.layout,l))continue;const h=this.paint.get(l),m=new cE(h),v=new Sh(m,h.property.specification);let B=null;B=h.value.kind==="constant"||h.value.kind==="source"?new zu("source",v):new Dc("composite",v,h.value.zoomStops),this.paint._values[l]=new hc(h.property,B,h.parameters)}}_handleOverridablePaintPropertyUpdate(l,h,m){return!(!this.layout||h.isDataDriven()||m.isDataDriven())&&ky.hasPaintOverride(this.layout,l)}static hasPaintOverride(l,h){const m=l.get("text-field"),v=fw.paint.properties[h];let B=!1;const E=D=>{for(const N of D)if(v.overrides&&v.overrides.hasOverride(N))return void(B=!0)};if(m.value.kind==="constant"&&m.value.value instanceof na)E(m.value.value.sections);else if(m.value.kind==="source"||m.value.kind==="composite"){const D=G=>{B||(G instanceof Ft&&Bt(G.value)===Yi?E(G.value.sections):G instanceof lr?E(G.sections):G.eachChild(D))},N=m.value;N._styleExpression&&D(N._styleExpression.expression)}return B}}let uE;var QU={get paint(){return uE=uE||new No({"background-color":new kn(Tt.paint_background["background-color"]),"background-pattern":new GA(Tt.paint_background["background-pattern"]),"background-opacity":new kn(Tt.paint_background["background-opacity"])})}};class jU extends Hl{constructor(l,h){super(l,QU,h)}}class VU extends Hl{constructor(l,h){super(l,{},h),this.onAdd=m=>{this.implementation.onAdd&&this.implementation.onAdd(m,m.painter.context.gl)},this.onRemove=m=>{this.implementation.onRemove&&this.implementation.onRemove(m,m.painter.context.gl)},this.implementation=l}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class GU{constructor(l){this._methodToThrottle=l,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const WU={once:!0},Aw=63710088e-1;class Bd{constructor(l,h){if(isNaN(l)||isNaN(h))throw new Error(`Invalid LngLat object: (${l}, ${h})`);if(this.lng=+l,this.lat=+h,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Bd(si(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(l){const h=Math.PI/180,m=this.lat*h,v=l.lat*h,B=Math.sin(m)*Math.sin(v)+Math.cos(m)*Math.cos(v)*Math.cos((l.lng-this.lng)*h);return Aw*Math.acos(Math.min(B,1))}static convert(l){if(l instanceof Bd)return l;if(Array.isArray(l)&&(l.length===2||l.length===3))return new Bd(Number(l[0]),Number(l[1]));if(!Array.isArray(l)&&typeof l=="object"&&l!==null)return new Bd(Number("lng"in l?l.lng:l.lon),Number(l.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const hE=2*Math.PI*Aw;function dE(f){return hE*Math.cos(f*Math.PI/180)}function fE(f){return(180+f)/360}function AE(f){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+f*Math.PI/360)))/360}function pE(f,l){return f/dE(l)}function gE(f){return 360*f-180}function Ty(f){return 360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90}function mE(f,l){return f*dE(Ty(l))}class am{constructor(l,h,m=0){this.x=+l,this.y=+h,this.z=+m}static fromLngLat(l,h=0){const m=Bd.convert(l);return new am(fE(m.lng),AE(m.lat),pE(h,m.lat))}toLngLat(){return new Bd(gE(this.x),Ty(this.y))}toAltitude(){return mE(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/hE*(l=Ty(this.y),1/Math.cos(l*Math.PI/180));var l}}function yE(f,l,h){var m=2*Math.PI*6378137/256/Math.pow(2,h);return[f*m-2*Math.PI*6378137/2,l*m-2*Math.PI*6378137/2]}class pw{constructor(l,h,m){if(!(function(v,B,E){return!(v<0||v>25||E<0||E>=Math.pow(2,v)||B<0||B>=Math.pow(2,v))})(l,h,m))throw new Error(`x=${h}, y=${m}, z=${l} outside of bounds. 0<=x<${Math.pow(2,l)}, 0<=y<${Math.pow(2,l)} 0<=z<=25 `);this.z=l,this.x=h,this.y=m,this.key=cp(0,l,l,h,m)}equals(l){return this.z===l.z&&this.x===l.x&&this.y===l.y}url(l,h,m){const v=(function(E,D,N){var G=yE(256*E,256*(D=Math.pow(2,N)-D-1),N),K=yE(256*(E+1),256*(D+1),N);return G[0]+","+G[1]+","+K[0]+","+K[1]})(this.x,this.y,this.z),B=(function(E,D,N){let G,K="";for(let ae=E;ae>0;ae--)G=1<<ae-1,K+=(D&G?1:0)+(N&G?2:0);return K})(this.z,this.x,this.y);return l[(this.x+this.y)%l.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(m==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,h>1?"@2x":"").replace(/{quadkey}/g,B).replace(/{bbox-epsg-3857}/g,v)}isChildOf(l){const h=this.z-l.z;return h>0&&l.x===this.x>>h&&l.y===this.y>>h}getTilePoint(l){const h=Math.pow(2,this.z);return new u((l.x*h-this.x)*Mt,(l.y*h-this.y)*Mt)}toString(){return`${this.z}/${this.x}/${this.y}`}}class xE{constructor(l,h){this.wrap=l,this.canonical=h,this.key=cp(l,h.z,h.z,h.x,h.y)}}class Ac{constructor(l,h,m,v,B){if(this.terrainRttPosMatrix32f=null,l<m)throw new Error(`overscaledZ should be >= z; overscaledZ = ${l}; z = ${m}`);this.overscaledZ=l,this.wrap=h,this.canonical=new pw(m,+v,+B),this.key=cp(h,l,m,v,B)}clone(){return new Ac(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(l){return this.overscaledZ===l.overscaledZ&&this.wrap===l.wrap&&this.canonical.equals(l.canonical)}scaledTo(l){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const h=this.canonical.z-l;return l>this.canonical.z?new Ac(l,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ac(l,this.wrap,l,this.canonical.x>>h,this.canonical.y>>h)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(l,h){if(l>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${l}; overscaledZ = ${this.overscaledZ}`);const m=this.canonical.z-l;return l>this.canonical.z?cp(this.wrap*+h,l,this.canonical.z,this.canonical.x,this.canonical.y):cp(this.wrap*+h,l,l,this.canonical.x>>m,this.canonical.y>>m)}isChildOf(l){if(l.wrap!==this.wrap||this.overscaledZ-l.overscaledZ<=0)return!1;if(l.overscaledZ===0)return this.overscaledZ>0;const h=this.canonical.z-l.canonical.z;return!(h<0)&&l.canonical.x===this.canonical.x>>h&&l.canonical.y===this.canonical.y>>h}children(l){if(this.overscaledZ>=l)return[new Ac(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const h=this.canonical.z+1,m=2*this.canonical.x,v=2*this.canonical.y;return[new Ac(h,this.wrap,h,m,v),new Ac(h,this.wrap,h,m+1,v),new Ac(h,this.wrap,h,m,v+1),new Ac(h,this.wrap,h,m+1,v+1)]}isLessThan(l){return this.wrap<l.wrap||!(this.wrap>l.wrap)&&(this.overscaledZ<l.overscaledZ||!(this.overscaledZ>l.overscaledZ)&&(this.canonical.x<l.canonical.x||!(this.canonical.x>l.canonical.x)&&this.canonical.y<l.canonical.y))}wrapped(){return new Ac(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(l){return new Ac(this.overscaledZ,l,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new xE(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(l){return this.canonical.getTilePoint(new am(l.x-this.wrap,l.y))}}function cp(f,l,h,m,v){(f*=2)<0&&(f=-1*f-1);const B=1<<h;return(B*B*f+B*v+m).toString(36)+h.toString(36)+l.toString(36)}function gw(f,l){return l?f.properties[l]:f.id}function $U(f,l){const h={id:f.id};if(l.removeAllProperties&&(delete f.removeProperties,delete f.addOrUpdateProperties,delete l.removeProperties),l.removeProperties)for(const m of l.removeProperties){const v=f.addOrUpdateProperties.findIndex((B=>B.key===m));v>-1&&f.addOrUpdateProperties.splice(v,1)}return(f.removeAllProperties||l.removeAllProperties)&&(h.removeAllProperties=!0),(f.removeProperties||l.removeProperties)&&(h.removeProperties=[...f.removeProperties||[],...l.removeProperties||[]]),(f.addOrUpdateProperties||l.addOrUpdateProperties)&&(h.addOrUpdateProperties=[...f.addOrUpdateProperties||[],...l.addOrUpdateProperties||[]]),(f.newGeometry||l.newGeometry)&&(h.newGeometry=l.newGeometry||f.newGeometry),h}function _E(f){var l,h;if(!f)return{};const m={};return m.removeAll=f.removeAll,m.remove=new Set(f.remove||[]),m.add=new Map((l=f.add)===null||l===void 0?void 0:l.map((v=>[v.id,v]))),m.update=new Map((h=f.update)===null||h===void 0?void 0:h.map((v=>[v.id,v]))),m}Zi("CanonicalTileID",pw),Zi("OverscaledTileID",Ac,{omit:["terrainRttPosMatrix32f"]});class Ff{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(l){return this.minX=Math.min(this.minX,l.x),this.minY=Math.min(this.minY,l.y),this.maxX=Math.max(this.maxX,l.x),this.maxY=Math.max(this.maxY,l.y),this}expandBy(l){return this.minX-=l,this.minY-=l,this.maxX+=l,this.maxY+=l,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(l){return this.expandBy(-l)}map(l){const h=new Ff;return h.extend(l(new u(this.minX,this.minY))),h.extend(l(new u(this.maxX,this.minY))),h.extend(l(new u(this.minX,this.maxY))),h.extend(l(new u(this.maxX,this.maxY))),h}static fromPoints(l){const h=new Ff;for(const m of l)h.extend(m);return h}contains(l){return l.x>=this.minX&&l.x<=this.maxX&&l.y>=this.minY&&l.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(l){return!this.empty()&&!l.empty()&&l.minX>=this.minX&&l.maxX<=this.maxX&&l.minY>=this.minY&&l.maxY<=this.maxY}intersects(l){return!this.empty()&&!l.empty()&&l.minX<=this.maxX&&l.maxX>=this.minX&&l.minY<=this.maxY&&l.maxY>=this.minY}}class vE{constructor(l){this._stringToNumber={},this._numberToString=[];for(let h=0;h<l.length;h++){const m=l[h];this._stringToNumber[m]=h,this._numberToString[h]=m}}encode(l){return this._stringToNumber[l]}decode(l){if(l>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${l} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[l]}}class wE{constructor(l,h,m,v,B){this.type="Feature",this._vectorTileFeature=l,this._x=m,this._y=v,this._z=h,this.properties=l.properties,this.id=B}projectPoint(l,h,m,v){return[360*(l.x+h)/v-180,360/Math.PI*Math.atan(Math.exp((1-2*(l.y+m)/v)*Math.PI))-90]}projectLine(l,h,m,v){return l.map((B=>this.projectPoint(B,h,m,v)))}get geometry(){if(this._geometry)return this._geometry;const l=this._vectorTileFeature,h=l.extent*Math.pow(2,this._z),m=l.extent*this._x,v=l.extent*this._y,B=l.loadGeometry();switch(l.type){case 1:{const E=[];for(const N of B)E.push(N[0]);const D=this.projectLine(E,m,v,h);this._geometry=E.length===1?{type:"Point",coordinates:D[0]}:{type:"MultiPoint",coordinates:D};break}case 2:{const E=B.map((D=>this.projectLine(D,m,v,h)));this._geometry=E.length===1?{type:"LineString",coordinates:E[0]}:{type:"MultiLineString",coordinates:E};break}case 3:{const E=OB(B),D=[];for(const N of E)D.push(N.map((G=>this.projectLine(G,m,v,h))));this._geometry=D.length===1?{type:"Polygon",coordinates:D[0]}:{type:"MultiPolygon",coordinates:D};break}default:throw new Error(`unknown feature type: ${l.type}`)}return this._geometry}set geometry(l){this._geometry=l}toJSON(){const l={geometry:this.geometry};for(const h in this)h!=="_geometry"&&h!=="_vectorTileFeature"&&h!=="_x"&&h!=="_y"&&h!=="_z"&&(l[h]=this[h]);return l}}class up{_name;dataBuffer;nullabilityBuffer;_size;constructor(l,h,m){this._name=l,this.dataBuffer=h,typeof m=="number"?this._size=m:(this.nullabilityBuffer=m,this._size=m.size())}getValue(l){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(l)?null:this.getValueFromBuffer(l)}has(l){return this.nullabilityBuffer&&this.nullabilityBuffer.get(l)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class Iy extends up{}class mw extends Iy{getValueFromBuffer(l){return this.dataBuffer[l]}}class yw extends Iy{getValueFromBuffer(l){return this.dataBuffer[l]}}class bE extends up{delta;constructor(l,h,m,v){super(l,h,v),this.delta=m}}class xw extends bE{constructor(l,h,m,v){super(l,Int32Array.of(h),m,v)}getValueFromBuffer(l){return this.dataBuffer[0]+l*this.delta}}class _w extends up{constructor(l,h,m){super(l,Int32Array.of(h),m)}getValueFromBuffer(l){return this.dataBuffer[0]}}class XU{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(l,h,m,v,B=4096){this._name=l,this._geometryVector=h,this._idVector=m,this._propertyVectors=v,this._extent=B}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(l){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((h=>[h.name,h])))),this.propertyVectorsMap.get(l)}*[Symbol.iterator](){const l=this.geometryVector[Symbol.iterator]();let h=0;for(;h<this.numFeatures;){let m;this.idVector&&(m=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(h)):this.idVector.getValue(h));const v=l?.next().value,B={};for(const E of this.propertyVectors){if(!E)continue;const D=E.name,N=E.getValue(h);N!==null&&(B[D]=N)}h++,yield{id:m,geometry:v,properties:B}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const l=[],h=this.geometryVector.getGeometries();for(let m=0;m<this.numFeatures;m++){let v;this.idVector&&(v=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(m)):this.idVector.getValue(m));const B={coordinates:h[m],type:this.geometryVector.geometryType(m)},E={};for(const D of this.propertyVectors){if(!D)continue;const N=D.name,G=D.getValue(m);G!==null&&(E[N]=G)}l.push({id:v,geometry:B,properties:E})}return l}containsMaxSaveIntegerValues(l){return l instanceof mw||l instanceof _w&&l instanceof xw||l instanceof yw}}class YU{value;constructor(l){this.value=l}get(){return this.value}set(l){this.value=l}increment(){return this.value++}add(l){this.value+=l}}var Ba,jh,So,yu,Pf,jl,ao,ro,CE,pc;function fo(f,l,h){const m=new Int32Array(h);let v=0,B=l.get();for(let E=0;E<m.length;E++){let D=f[B++],N=127&D;D<128||(D=f[B++],N|=(127&D)<<7,D<128||(D=f[B++],N|=(127&D)<<14,D<128||(D=f[B++],N|=(127&D)<<21,D<128||(D=f[B++],N|=(15&D)<<28)))),m[v++]=N}return l.set(B),m}function My(f,l,h){const m=new BigInt64Array(h);for(let v=0;v<m.length;v++)m[v]=qU(f,l);return m}function KU(f,l){let h,m;return m=f[l.get()],l.increment(),h=127&m,m<128?h:(m=f[l.get()],l.increment(),h|=(127&m)<<7,m<128?h:(m=f[l.get()],l.increment(),h|=(127&m)<<14,m<128?h:(m=f[l.get()],l.increment(),h|=(127&m)<<21,m<128?h:(m=f[l.get()],h|=(15&m)<<28,(function(v,B,E){let D,N;if(N=B[E.get()],E.increment(),D=(112&N)>>4,N<128||(N=B[E.get()],E.increment(),D|=(127&N)<<3,N<128)||(N=B[E.get()],E.increment(),D|=(127&N)<<10,N<128)||(N=B[E.get()],E.increment(),D|=(127&N)<<17,N<128)||(N=B[E.get()],E.increment(),D|=(127&N)<<24,N<128)||(N=B[E.get()],E.increment(),D|=(1&N)<<31,N<128))return 4294967296*D+(v>>>0);throw new Error("Expected varint not more than 10 bytes")})(h,f,l)))))}function SE(f,l,h,m){throw new Error("FastPFor is not implemented yet.")}function Df(f){return f>>>1^-(1&f)}function hp(f){return f>>1n^-(1n&f)}function qU(f,l){let h=0n,m=0,v=l.get();for(;v<f.length;){const B=f[v++];if(h|=BigInt(127&B)<<BigInt(m),!(128&B))break;if(m+=7,m>=64)throw new Error("Varint too long")}return l.set(v),h}function BE(f,l,h){const m=new Int32Array(h);let v=0;for(let B=0;B<l;B++){const E=f[B];m.fill(f[B+l],v,v+E),v+=E}return m}function EE(f,l,h){const m=new BigInt64Array(h);let v=0;for(let B=0;B<l;B++){const E=Number(f[B]);m.fill(f[B+l],v,v+E),v+=E}return m}function kE(f,l,h){const m=new Float64Array(h);let v=0;for(let B=0;B<l;B++){const E=f[B];m.fill(f[B+l],v,v+E),v+=E}return m}function vw(f){const l=f.length/4*4;let h=1;if(l>=4)for(let m=f[0];h<l-4;h+=4)m=f[h]+=m,m=f[h+1]+=m,m=f[h+2]+=m,m=f[h+3]+=m;for(;h!=f.length;)f[h]+=f[h-1],++h}function TE(f){f[0]=f[0]>>>1^-(1&f[0]),f[1]=f[1]>>>1^-(1&f[1]);const l=f.length/4*4;let h=2;if(l>=4)for(;h<l-4;h+=4){const m=f[h],v=f[h+1],B=f[h+2],E=f[h+3];f[h]=(m>>>1^-(1&m))+f[h-2],f[h+1]=(v>>>1^-(1&v))+f[h-1],f[h+2]=(B>>>1^-(1&B))+f[h],f[h+3]=(E>>>1^-(1&E))+f[h+1]}for(;h!=f.length;h+=2)f[h]=(f[h]>>>1^-(1&f[h]))+f[h-2],f[h+1]=(f[h+1]>>>1^-(1&f[h+1]))+f[h-1]}(function(f){f.NONE="NONE",f.DELTA="DELTA",f.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",f.RLE="RLE",f.MORTON="MORTON",f.PDE="PDE"})(Ba||(Ba={})),(function(f){f.NONE="NONE",f.FAST_PFOR="FAST_PFOR",f.VARINT="VARINT",f.ALP="ALP"})(jh||(jh={})),(function(f){f.PRESENT="PRESENT",f.DATA="DATA",f.OFFSET="OFFSET",f.LENGTH="LENGTH"})(So||(So={}));class ww{_dictionaryType;_offsetType;_lengthType;constructor(l,h,m){this._dictionaryType=l,this._offsetType=h,this._lengthType=m}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function tl(f,l){const h=(function(m,v){const B=m[v.get()],E=Object.values(So)[B>>4];let D=null;switch(E){case So.DATA:D=new ww(Object.values(yu)[15&B]);break;case So.OFFSET:D=new ww(null,Object.values(Pf)[15&B]);break;case So.LENGTH:D=new ww(null,null,Object.values(jl)[15&B])}v.increment();const N=m[v.get()],G=Object.values(Ba)[N>>5],K=Object.values(Ba)[N>>2&7],ae=Object.values(jh)[3&N];v.increment();const le=fo(m,v,2),ce=le[0];return{physicalStreamType:E,logicalStreamType:D,logicalLevelTechnique1:G,logicalLevelTechnique2:K,physicalLevelTechnique:ae,numValues:ce,byteLength:le[1],decompressedCount:ce}})(f,l);return h.logicalLevelTechnique1===Ba.MORTON?(function(m,v,B){const E=fo(v,B,2);return{physicalStreamType:m.physicalStreamType,logicalStreamType:m.logicalStreamType,logicalLevelTechnique1:m.logicalLevelTechnique1,logicalLevelTechnique2:m.logicalLevelTechnique2,physicalLevelTechnique:m.physicalLevelTechnique,numValues:m.numValues,byteLength:m.byteLength,decompressedCount:m.decompressedCount,numBits:E[0],coordinateShift:E[1]}})(h,f,l):Ba.RLE!==h.logicalLevelTechnique1&&Ba.RLE!==h.logicalLevelTechnique2||jh.NONE===h.physicalLevelTechnique?h:(function(m,v,B){const E=fo(v,B,2);return{physicalStreamType:m.physicalStreamType,logicalStreamType:m.logicalStreamType,logicalLevelTechnique1:m.logicalLevelTechnique1,logicalLevelTechnique2:m.logicalLevelTechnique2,physicalLevelTechnique:m.physicalLevelTechnique,numValues:m.numValues,byteLength:m.byteLength,decompressedCount:E[1],runs:E[0],numRleValues:E[1]}})(h,f,l)}(function(f){f.NONE="NONE",f.SINGLE="SINGLE",f.SHARED="SHARED",f.VERTEX="VERTEX",f.MORTON="MORTON",f.FSST="FSST"})(yu||(yu={})),(function(f){f.VERTEX="VERTEX",f.INDEX="INDEX",f.STRING="STRING",f.KEY="KEY"})(Pf||(Pf={})),(function(f){f.VAR_BINARY="VAR_BINARY",f.GEOMETRIES="GEOMETRIES",f.PARTS="PARTS",f.RINGS="RINGS",f.TRIANGLES="TRIANGLES",f.SYMBOL="SYMBOL",f.DICTIONARY="DICTIONARY"})(jl||(jl={})),(function(f){f[f.FLAT=0]="FLAT",f[f.CONST=1]="CONST",f[f.SEQUENCE=2]="SEQUENCE",f[f.DICTIONARY=3]="DICTIONARY",f[f.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(ao||(ao={}));class xu{values;_size;constructor(l,h){this.values=l,this._size=h}get(l){const h=Math.floor(l/8);return(this.values[h]>>l%8&1)==1}set(l,h){const m=Math.floor(l/8);this.values[m]=this.values[m]|(h?1:0)<<l%8}getInt(l){const h=Math.floor(l/8);return this.values[h]>>l%8&1}size(){return this._size}getBuffer(){return this.values}}function il(f,l,h,m,v){return(function(B,E,D){switch(E.logicalLevelTechnique1){case Ba.DELTA:return E.logicalLevelTechnique2===Ba.RLE?(function(N,G,K){const ae=new Int32Array(K);let le=0,ce=0;for(let pe=0;pe<G;pe++){const me=N[pe],_e=Df(N[pe+G]);for(let Le=0;Le<me;Le++)ce+=_e,ae[le++]=ce}return ae})(B,E.runs,E.numRleValues):((function(N){N[0]=N[0]>>>1^-(1&N[0]);const G=N.length/4*4;let K=1;if(G>=4)for(;K<G-4;K+=4){const ae=N[K],le=N[K+1],ce=N[K+2],pe=N[K+3];N[K]=(ae>>>1^-(1&ae))+N[K-1],N[K+1]=(le>>>1^-(1&le))+N[K],N[K+2]=(ce>>>1^-(1&ce))+N[K+1],N[K+3]=(pe>>>1^-(1&pe))+N[K+2]}for(;K!=N.length;++K)N[K]=(N[K]>>>1^-(1&N[K]))+N[K-1]})(B),B);case Ba.RLE:return(function(N,G,K){return K?(function(ae,le,ce){const pe=new Int32Array(ce);let me=0;for(let _e=0;_e<le;_e++){const Le=ae[_e];let Je=ae[_e+le];Je=Je>>>1^-(1&Je),pe.fill(Je,me,me+Le),me+=Le}return pe})(N,G.runs,G.numRleValues):BE(N,G.runs,G.numRleValues)})(B,E,D);case Ba.MORTON:return vw(B),B;case Ba.COMPONENTWISE_DELTA:return TE(B),B;case Ba.NONE:return D&&(function(N){for(let G=0;G<N.length;G++){const K=N[G];N[G]=K>>>1^-(1&K)}})(B),B;default:throw new Error(`The specified Logical level technique is not supported: ${E.logicalLevelTechnique1}`)}})(Ly(f,l,h),h,m)}function Ed(f,l,h){return(function(m,v){if(v.logicalLevelTechnique1===Ba.DELTA&&v.logicalLevelTechnique2===Ba.NONE)return(function(E){const D=new Int32Array(E.length+1);D[0]=0,D[1]=Df(E[0]);let N=D[1],G=2;for(;G!=D.length;++G){const K=E[G-1];N+=K>>>1^-(1&K),D[G]=D[G-1]+N}return D})(m);if(v.logicalLevelTechnique1===Ba.RLE&&v.logicalLevelTechnique2===Ba.NONE)return(function(E,D,N){const G=new Int32Array(N+1);G[0]=0;let K=1,ae=G[0];for(let le=0;le<D;le++){const ce=E[le],pe=E[le+D];for(let me=K;me<K+ce;me++)G[me]=pe+ae,ae=G[me];K+=ce}return G})(m,v.runs,v.numRleValues);if(v.logicalLevelTechnique1===Ba.NONE&&v.logicalLevelTechnique2===Ba.NONE){(function(E){let D=0;for(let N=0;N<E.length;N++)E[N]+=D,D=E[N]})(m);const B=new Int32Array(v.numValues+1);return B[0]=0,B.set(m,1),B}if(v.logicalLevelTechnique1===Ba.DELTA&&v.logicalLevelTechnique2===Ba.RLE){const B=(function(E,D,N){const G=new Int32Array(N+1);G[0]=0;let K=1,ae=G[0];for(let le=0;le<D;le++){const ce=E[le];let pe=E[le+D];pe=pe>>>1^-(1&pe);for(let me=K;me<K+ce;me++)G[me]=pe+ae,ae=G[me];K+=ce}return G})(m,v.runs,v.numRleValues);return vw(B),B}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")})(Ly(f,l,h),h)}function Ly(f,l,h){const m=h.physicalLevelTechnique;if(m===jh.FAST_PFOR)return SE();if(m===jh.VARINT)return fo(f,l,h.numValues);if(m===jh.NONE){const v=l.get();l.add(h.byteLength);const B=f.subarray(v,l.get());return new Int32Array(B)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function bw(f,l,h,m){const v=Ly(f,l,h);if(v.length===1){const B=v[0];return m?Df(B):B}return m?(function(B){return Df(B[1])})(v):(function(B){return B[1]})(v)}function IE(f,l,h){return(function(m){if(m.length==2){const v=Df(m[1]);return[v,v]}return[Df(m[2]),Df(m[3])]})(Ly(f,l,h))}function ME(f,l,h){return(function(m){if(m.length==2){const v=hp(m[1]);return[v,v]}return[hp(m[2]),hp(m[3])]})(My(f,l,h.numValues))}function LE(f,l,h,m){return(function(v,B,E){switch(B.logicalLevelTechnique1){case Ba.DELTA:return B.logicalLevelTechnique2===Ba.RLE?(function(D,N,G){const K=new BigInt64Array(G);let ae=0,le=0n;for(let ce=0;ce<N;ce++){const pe=Number(D[ce]),me=hp(D[ce+N]);for(let _e=0;_e<pe;_e++)le+=me,K[ae++]=le}return K})(v,B.runs,B.numRleValues):((function(D){D[0]=D[0]>>1n^-(1n&D[0]);const N=D.length/4*4;let G=1;if(N>=4)for(;G<N-4;G+=4){const K=D[G],ae=D[G+1],le=D[G+2],ce=D[G+3];D[G]=(K>>1n^-(1n&K))+D[G-1],D[G+1]=(ae>>1n^-(1n&ae))+D[G],D[G+2]=(le>>1n^-(1n&le))+D[G+1],D[G+3]=(ce>>1n^-(1n&ce))+D[G+2]}for(;G!=D.length;++G)D[G]=(D[G]>>1n^-(1n&D[G]))+D[G-1]})(v),v);case Ba.RLE:return(function(D,N,G){return G?(function(K,ae,le){const ce=new BigInt64Array(le);let pe=0;for(let me=0;me<ae;me++){const _e=Number(K[me]);let Le=K[me+ae];Le=Le>>1n^-(1n&Le),ce.fill(Le,pe,pe+_e),pe+=_e}return ce})(D,N.runs,N.numRleValues):EE(D,N.runs,N.numRleValues)})(v,B,E);case Ba.NONE:return E&&(function(D){for(let N=0;N<D.length;N++){const G=D[N];D[N]=G>>1n^-(1n&G)}})(v),v;default:throw new Error(`The specified Logical level technique is not supported: ${B.logicalLevelTechnique1}`)}})(My(f,l,h.numValues),h,m)}function FE(f,l,h,m){const v=My(f,l,h.numValues);if(v.length===1){const B=v[0];return m?hp(B):B}return m?(function(B){return hp(B[1])})(v):(function(B){return B[1]})(v)}function Cw(f,l,h,m,v){return(function(B,E,D,N){switch(E.logicalLevelTechnique1){case Ba.DELTA:return E.logicalLevelTechnique2===Ba.RLE&&(B=BE(B,E.runs,E.numRleValues)),(function(G,K){const ae=new Int32Array(G.size());let le=0;G.get(0)?(ae[0]=G.get(0)?K[0]>>>1^-(1&K[0]):0,le=1):ae[0]=0;let ce=1;for(;ce!=ae.length;++ce)ae[ce]=G.get(ce)?ae[ce-1]+(K[le]>>>1^-(1&K[le++])):ae[ce-1];return ae})(N,B);case Ba.RLE:return(function(G,K,ae,le){const ce=K;return ae?(function(pe,me,_e){const Le=new Int32Array(pe.size());let Je=0;for(let Pe=0;Pe<_e;Pe++){const Oe=me[Pe];let it=me[Pe+_e];it=it>>>1^-(1&it);for(let lt=Je;lt<Je+Oe;lt++)pe.get(lt)?Le[lt]=it:(Le[lt]=0,Je++);Je+=Oe}return Le})(le,G,ce.runs):(function(pe,me,_e){const Le=new Int32Array(pe.size());let Je=0;for(let Pe=0;Pe<_e;Pe++){const Oe=me[Pe],it=me[Pe+_e];for(let lt=Je;lt<Je+Oe;lt++)pe.get(lt)?Le[lt]=it:(Le[lt]=0,Je++);Je+=Oe}return Le})(le,G,ce.runs)})(B,E,D,N);case Ba.MORTON:return vw(B),B;case Ba.COMPONENTWISE_DELTA:return TE(B),B;case Ba.NONE:return B=D?(function(G,K){const ae=new Int32Array(G.size());let le=0,ce=0;for(;ce!=ae.length;++ce)if(G.get(ce)){const pe=K[le++];ae[ce]=pe>>>1^-(1&pe)}else ae[ce]=0;return ae})(N,B):(function(G,K){const ae=new Int32Array(G.size());let le=0,ce=0;for(;ce!=ae.length;++ce)ae[ce]=G.get(ce)?K[le++]:0;return ae})(N,B),B;default:throw new Error("The specified Logical level technique is not supported")}})(h.physicalLevelTechnique===jh.FAST_PFOR?SE():fo(f,l,h.numValues),h,m,v)}function Fy(f,l,h,m){const v=f.logicalLevelTechnique1;if(v===Ba.RLE)return f.runs===1?ao.CONST:ao.FLAT;const B=l instanceof xu?l.size():l;if(v===Ba.DELTA&&f.logicalLevelTechnique2===Ba.RLE){const E=f.runs,D=2;if(f.numRleValues!==B)return ao.FLAT;if(E===1)return ao.SEQUENCE;if(E===2){const N=m.get();let G;if(f.physicalLevelTechnique===jh.VARINT)G=fo(h,m,4);else{const K=m.get();G=new Int32Array(h.buffer,h.byteOffset+K,4)}if(m.set(N),G[2]===D&&G[3]===D)return ao.SEQUENCE}}return f.numValues===1?ao.CONST:ao.FLAT}class PE extends Iy{getValueFromBuffer(l){return this.dataBuffer[l]}}class DE extends bE{constructor(l,h,m,v){super(l,BigInt64Array.of(h),m,v)}getValueFromBuffer(l){return this.dataBuffer[0]+BigInt(l)*this.delta}}class dp{_geometryOffsets;_partOffsets;_ringOffsets;constructor(l,h,m){this._geometryOffsets=l,this._partOffsets=h,this._ringOffsets=m}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function Sw(f,l,h){return{x:RE(f,l)-h,y:RE(f>>1,l)-h}}function RE(f,l){let h=0;for(let m=0;m<l;m++)h|=(f&1<<2*m)>>m;return h}(function(f){f[f.POINT=0]="POINT",f[f.LINESTRING=1]="LINESTRING",f[f.POLYGON=2]="POLYGON",f[f.MULTIPOINT=3]="MULTIPOINT",f[f.MULTILINESTRING=4]="MULTILINESTRING",f[f.MULTIPOLYGON=5]="MULTIPOLYGON"})(ro||(ro={})),(function(f){f[f.POINT=0]="POINT",f[f.LINESTRING=1]="LINESTRING",f[f.POLYGON=2]="POLYGON"})(CE||(CE={})),(function(f){f[f.MORTON=0]="MORTON",f[f.VEC_2=1]="VEC_2",f[f.VEC_3=2]="VEC_3"})(pc||(pc={}));class ZU{createPoint(l){return[[l]]}createMultiPoint(l){return l.map((h=>[h]))}createLineString(l){return[l]}createMultiLineString(l){return l}createPolygon(l,h){return[l].concat(h)}createMultiPolygon(l){return l.flat()}}function OE(f){const l=new Array(f.numGeometries);let h=1,m=1,v=1,B=0;const E=new ZU;let D=0,N=0;const G=f.mortonSettings,K=f.topologyVector,ae=K.geometryOffsets,le=K.partOffsets,ce=K.ringOffsets,pe=f.vertexOffsets,me=f.containsPolygonGeometry(),_e=f.vertexBuffer;for(let Le=0;Le<f.numGeometries;Le++){const Je=f.geometryType(Le);if(Je===ro.POINT){if(pe&&pe.length!==0)if(f.vertexBufferType===pc.VEC_2){const Pe=2*pe[N++],Oe=new u(_e[Pe],_e[Pe+1]);l[B++]=E.createPoint(Oe)}else{const Pe=Sw(_e[pe[N++]],G.numBits,G.coordinateShift),Oe=new u(Pe.x,Pe.y);l[B++]=E.createPoint(Oe)}else{const Pe=new u(_e[D++],_e[D++]);l[B++]=E.createPoint(Pe)}ae&&v++,le&&h++,ce&&m++}else if(Je===ro.MULTIPOINT){const Pe=ae[v]-ae[v-1];v++;const Oe=new Array(Pe);if(pe&&pe.length!==0){for(let it=0;it<Pe;it++){const lt=2*pe[N++];Oe[it]=new u(_e[lt],_e[lt+1])}l[B++]=E.createMultiPoint(Oe)}else{for(let it=0;it<Pe;it++){const lt=_e[D++],Rt=_e[D++];Oe[it]=new u(lt,Rt)}l[B++]=E.createMultiPoint(Oe)}}else if(Je===ro.LINESTRING){let Pe,Oe=0;me?(Oe=ce[m]-ce[m-1],m++):Oe=le[h]-le[h-1],h++,pe&&pe.length!==0?(Pe=f.vertexBufferType===pc.VEC_2?Ew(_e,pe,N,Oe,!1):kw(_e,pe,N,Oe,!1,G),N+=Oe):(Pe=Bw(_e,D,Oe,!1),D+=2*Oe),l[B++]=E.createLineString(Pe),ae&&v++}else if(Je===ro.POLYGON){const Pe=le[h]-le[h-1];h++;const Oe=new Array(Pe-1);let it=ce[m]-ce[m-1];if(m++,pe&&pe.length!==0){const lt=f.vertexBufferType===pc.VEC_2?Dy(_e,pe,N,it):Ry(_e,pe,N,it,0,G);N+=it;for(let Rt=0;Rt<Oe.length;Rt++)it=ce[m]-ce[m-1],m++,Oe[Rt]=f.vertexBufferType===pc.VEC_2?Dy(_e,pe,N,it):Ry(_e,pe,N,it,0,G),N+=it;l[B++]=E.createPolygon(lt,Oe)}else{const lt=Py(_e,D,it);D+=2*it;for(let Rt=0;Rt<Oe.length;Rt++)it=ce[m]-ce[m-1],m++,Oe[Rt]=Py(_e,D,it),D+=2*it;l[B++]=E.createPolygon(lt,Oe)}ae&&v++}else if(Je===ro.MULTILINESTRING){const Pe=ae[v]-ae[v-1];v++;const Oe=new Array(Pe);if(pe&&pe.length!==0){for(let it=0;it<Pe;it++){let lt=0;me?(lt=ce[m]-ce[m-1],m++):lt=le[h]-le[h-1],h++;const Rt=f.vertexBufferType===pc.VEC_2?Ew(_e,pe,N,lt,!1):kw(_e,pe,N,lt,!1,G);Oe[it]=Rt,N+=lt}l[B++]=E.createMultiLineString(Oe)}else{for(let it=0;it<Pe;it++){let lt=0;me?(lt=ce[m]-ce[m-1],m++):lt=le[h]-le[h-1],h++,Oe[it]=Bw(_e,D,lt,!1),D+=2*lt}l[B++]=E.createMultiLineString(Oe)}}else{if(Je!==ro.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const Pe=ae[v]-ae[v-1];v++;const Oe=new Array(Pe);let it=0;if(pe&&pe.length!==0){for(let lt=0;lt<Pe;lt++){const Rt=le[h]-le[h-1];h++;const ri=new Array(Rt-1);it=ce[m]-ce[m-1],m++;const ei=f.vertexBufferType===pc.VEC_2?Dy(_e,pe,N,it):Ry(_e,pe,N,it,0,G);N+=it;for(let Ai=0;Ai<ri.length;Ai++)it=ce[m]-ce[m-1],m++,ri[Ai]=f.vertexBufferType===pc.VEC_2?Dy(_e,pe,N,it):Ry(_e,pe,N,it,0,G),N+=it;Oe[lt]=E.createPolygon(ei,ri)}l[B++]=E.createMultiPolygon(Oe)}else{for(let lt=0;lt<Pe;lt++){const Rt=le[h]-le[h-1];h++;const ri=new Array(Rt-1);it=ce[m]-ce[m-1],m++;const ei=Py(_e,D,it);D+=2*it;for(let Ai=0;Ai<ri.length;Ai++){const Ui=ce[m]-ce[m-1];m++,ri[Ai]=Py(_e,D,Ui),D+=2*Ui}Oe[lt]=E.createPolygon(ei,ri)}l[B++]=E.createMultiPolygon(Oe)}}}}return l}function Py(f,l,h){return Bw(f,l,h,!0)}function Dy(f,l,h,m){return Ew(f,l,h,m,!0)}function Ry(f,l,h,m,v,B){return kw(f,l,h,m,!0,B)}function Bw(f,l,h,m){const v=new Array(m?h+1:h);for(let B=0;B<2*h;B+=2)v[B/2]=new u(f[l+B],f[l+B+1]);return m&&(v[v.length-1]=v[0]),v}function Ew(f,l,h,m,v){const B=new Array(v?m+1:m);for(let E=0;E<2*m;E+=2){const D=2*l[h+E/2];B[E/2]=new u(f[D],f[D+1])}return v&&(B[B.length-1]=B[0]),B}function kw(f,l,h,m,v,B){const E=new Array(v?m+1:m);for(let D=0;D<m;D++){const N=Sw(f[l[h+D]],B.numBits,B.coordinateShift);E[D]=new u(N.x,N.y)}return v&&(E[E.length-1]=E[0]),E}class UE{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(l,h,m,v,B){this._vertexBufferType=l,this._topologyVector=h,this._vertexOffsets=m,this._vertexBuffer=v,this._mortonSettings=B}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const l=OE(this);let h=0;for(;h<this.numGeometries;)yield{coordinates:l[h],type:this.geometryType(h)},h++}getSimpleEncodedVertex(l){const h=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[h],this.vertexBuffer[h+1]]}getVertex(l){if(this.vertexOffsets&&this.mortonSettings){const m=Sw(this.vertexBuffer[this.vertexOffsets[l]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[m.x,m.y]}const h=this.vertexOffsets?2*this.vertexOffsets[l]:2*l;return[this.vertexBuffer[h],this.vertexBuffer[h+1]]}getGeometries(){return OE(this)}get mortonSettings(){return this._mortonSettings}}class NE extends UE{_numGeometries;_geometryType;constructor(l,h,m,v,B,E,D){super(m,v,B,E,D),this._numGeometries=l,this._geometryType=h}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===ro.POLYGON||this._geometryType===ro.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class zE extends UE{_geometryTypes;constructor(l,h,m,v,B,E){super(l,m,v,B,E),this._geometryTypes=h}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let l=0;l<this.numGeometries;l++)if(this.geometryType(l)===ro.POLYGON||this.geometryType(l)===ro.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class HE{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(l,h,m,v){this._triangleOffsets=l,this._indexBuffer=h,this._vertexBuffer=m,this._topologyVector=v}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const l=new Array(this.numGeometries),h=this._topologyVector,m=h.partOffsets,v=h.ringOffsets,B=h.geometryOffsets;let E=0,D=1,N=1,G=1;for(let K=0;K<this.numGeometries;K++)switch(this.geometryType(K)){case ro.POLYGON:{const ae=m[D]-m[D-1];D++;const le=[];for(let ce=0;ce<ae;ce++){const pe=v[N]-v[N-1];N++;const me=[];for(let _e=0;_e<pe;_e++){const Le=this._vertexBuffer[E++],Je=this._vertexBuffer[E++];me.push(new u(Le,Je))}me.length>0&&me.push(me[0]),le.push(me)}l[K]=le,B&&G++}break;case ro.MULTIPOLYGON:{const ae=B[G]-B[G-1];G++;const le=[];for(let ce=0;ce<ae;ce++){const pe=m[D]-m[D-1];D++;for(let me=0;me<pe;me++){const _e=v[N]-v[N-1];N++;const Le=[];for(let Je=0;Je<_e;Je++){const Pe=this._vertexBuffer[E++],Oe=this._vertexBuffer[E++];Le.push(new u(Pe,Oe))}Le.length>0&&Le.push(Le[0]),le.push(Le)}}l[K]=le}}return l}[Symbol.iterator](){return null}}function QE(f,l,h,m,v,B){return new JU(f,l,h,m,v,B)}class JU extends HE{_numGeometries;_geometryType;constructor(l,h,m,v,B,E){super(m,v,B,E),this._numGeometries=l,this._geometryType=h}geometryType(l){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function jE(f,l,h,m,v){return new eN(f,l,h,m,v)}class eN extends HE{_geometryTypes;constructor(l,h,m,v,B){super(h,m,v,B),this._geometryTypes=l}geometryType(l){return this._geometryTypes[l]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function tN(f,l,h,m,v){const B=tl(f,h);let E=null,D=null,N=null,G=null,K=null,ae=null,le=null,ce=null;if(Fy(B,m,f,h)===ao.CONST){const me=bw(f,h,B,!1);for(let _e=0;_e<l-1;_e++){const Le=tl(f,h);switch(Le.physicalStreamType){case So.LENGTH:switch(Le.logicalStreamType.lengthType){case jl.GEOMETRIES:E=Ed(f,h,Le);break;case jl.PARTS:D=Ed(f,h,Le);break;case jl.RINGS:N=Ed(f,h,Le);break;case jl.TRIANGLES:le=Ed(f,h,Le)}break;case So.OFFSET:switch(Le.logicalStreamType.offsetType){case Pf.VERTEX:G=il(f,h,Le,!1);break;case Pf.INDEX:ce=il(f,h,Le,!1)}break;case So.DATA:yu.VERTEX===Le.logicalStreamType.dictionaryType?K=il(f,h,Le,!0):(ae={numBits:Le.numBits,coordinateShift:Le.coordinateShift},K=il(f,h,Le,!1))}}return ce!==null?E!=null||D!=null?QE(m,me,le,ce,K,new dp(E,D,N)):QE(m,me,le,ce,K):ae===null?(function(_e,Le,Je,Pe,Oe){return new NE(_e,Le,pc.VEC_2,Je,Pe,Oe)})(m,me,new dp(E,D,N),G,K):(function(_e,Le,Je,Pe,Oe,it){return new NE(_e,Le,pc.MORTON,Je,Pe,Oe,it)})(m,me,new dp(E,D,N),G,K,ae)}const pe=il(f,h,B,!1);for(let me=0;me<l-1;me++){const _e=tl(f,h);switch(_e.physicalStreamType){case So.LENGTH:switch(_e.logicalStreamType.lengthType){case jl.GEOMETRIES:E=il(f,h,_e,!1);break;case jl.PARTS:D=il(f,h,_e,!1);break;case jl.RINGS:N=il(f,h,_e,!1);break;case jl.TRIANGLES:le=Ed(f,h,_e)}break;case So.OFFSET:switch(_e.logicalStreamType.offsetType){case Pf.VERTEX:G=il(f,h,_e,!1);break;case Pf.INDEX:ce=il(f,h,_e,!1)}break;case So.DATA:yu.VERTEX===_e.logicalStreamType.dictionaryType?K=il(f,h,_e,!0):(ae={numBits:_e.numBits,coordinateShift:_e.coordinateShift},K=il(f,h,_e,!1))}}return ce!==null&&D===null?jE(pe,le,ce,K):(E!==null?(E=Tw(pe,E,2),D!==null&&N!==null?(D=VE(pe,E,D,!1),N=(function(me,_e,Le,Je){const Pe=new Int32Array(Le[Le.length-1]+1);let Oe=0;Pe[0]=Oe;let it=1,lt=1,Rt=0;for(let ri=0;ri<me.length;ri++){const ei=me[ri],Ai=_e[ri+1]-_e[ri];if(ei!==0&&ei!==3)for(let Ui=0;Ui<Ai;Ui++){const yi=Le[it]-Le[it-1];it++;for(let ii=0;ii<yi;ii++)Oe=Pe[lt++]=Oe+Je[Rt++]}else for(let Ui=0;Ui<Ai;Ui++)Pe[lt++]=++Oe,it++}return Pe})(pe,E,D,N)):D!==null&&(D=(function(me,_e,Le){const Je=new Int32Array(_e[_e.length-1]+1);let Pe=0;Je[0]=Pe;let Oe=1,it=0;for(let lt=0;lt<me.length;lt++){const Rt=me[lt],ri=_e[lt+1]-_e[lt];if(Rt===4||Rt===1)for(let ei=0;ei<ri;ei++)Pe=Je[Oe++]=Pe+Le[it++];else for(let ei=0;ei<ri;ei++)Je[Oe++]=++Pe}return Je})(pe,E,D))):D!==null&&N!==null?(D=Tw(pe,D,1),N=VE(pe,D,N,!0)):D!==null&&(D=Tw(pe,D,0)),ce!==null?jE(pe,le,ce,K,new dp(E,D,N)):ae===null?(function(me,_e,Le,Je){return new zE(pc.VEC_2,me,_e,Le,Je)})(pe,new dp(E,D,N),G,K):(function(me,_e,Le,Je,Pe){return new zE(pc.MORTON,me,_e,Le,Je,Pe)})(pe,new dp(E,D,N),G,K,ae))}function Tw(f,l,h){const m=new Int32Array(f.length+1);let v=0;m[0]=v;let B=0;for(let E=0;E<f.length;E++)v=m[E+1]=v+(f[E]>h?l[B++]:1);return m}function VE(f,l,h,m){const v=new Int32Array(l[l.length-1]+1);let B=0;v[0]=B;let E=1,D=0;for(let N=0;N<f.length;N++){const G=f[N],K=l[N+1]-l[N];if(G===5||G===2||m&&(G===4||G===1))for(let ae=0;ae<K;ae++)B=v[E++]=B+h[D++];else for(let ae=0;ae<K;ae++)v[E++]=++B}return v}class iN extends up{dataVector;constructor(l,h,m){super(l,h.getBuffer(),m),this.dataVector=h}getValueFromBuffer(l){return this.dataVector.get(l)}}class nN extends Iy{getValueFromBuffer(l){return this.dataBuffer[l]}}class GE extends up{constructor(l,h,m){super(l,BigInt64Array.of(h),m)}getValueFromBuffer(l){return this.dataBuffer[0]}}function rm(f,l,h){return WE(f,Math.ceil(l/8),h)}function WE(f,l,h){const m=new Uint8Array(l);let v=0;for(;v<l;){const B=f[h.increment()];if(B<=127){const E=B+3,D=f[h.increment()],N=v+E;m.fill(D,v,N),v=N}else{const E=256-B;for(let D=0;D<E;D++)m[v++]=f[h.increment()]}}return m}const aN=new TextDecoder;function Iw(f,l,h){return h-l>=12?aN.decode(f.subarray(l,h)):(function(m,v,B){let E="",D=v;for(;D<B;){const N=m[D];let G,K,ae,le=null,ce=N>239?4:N>223?3:N>191?2:1;if(D+ce>B)break;ce===1?N<128&&(le=N):ce===2?(G=m[D+1],(192&G)==128&&(le=(31&N)<<6|63&G,le<=127&&(le=null))):ce===3?(G=m[D+1],K=m[D+2],(192&G)==128&&(192&K)==128&&(le=(15&N)<<12|(63&G)<<6|63&K,(le<=2047||le>=55296&&le<=57343)&&(le=null))):ce===4&&(G=m[D+1],K=m[D+2],ae=m[D+3],(192&G)==128&&(192&K)==128&&(192&ae)==128&&(le=(15&N)<<18|(63&G)<<12|(63&K)<<6|63&ae,(le<=65535||le>=1114112)&&(le=null))),le===null?(le=65533,ce=1):le>65535&&(le-=65536,E+=String.fromCharCode(le>>>10&1023|55296),le=56320|1023&le),E+=String.fromCharCode(le),D+=ce}return E})(f,l,h)}class Mw extends up{offsetBuffer;constructor(l,h,m,v){super(l,m,v),this.offsetBuffer=h}}class $E extends Mw{textEncoder;constructor(l,h,m,v){super(l,h,m,v??h.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(l){return Iw(this.dataBuffer,this.offsetBuffer[l],this.offsetBuffer[l+1])}}class fp extends Mw{indexBuffer;textEncoder;constructor(l,h,m,v,B){super(l,m,v,B??h.length),this.indexBuffer=h,this.indexBuffer=h,this.textEncoder=new TextEncoder}getValueFromBuffer(l){const h=this.indexBuffer[l];return Iw(this.dataBuffer,this.offsetBuffer[h],this.offsetBuffer[h+1])}}class XE extends Mw{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(l,h,m,v,B,E,D){super(l,m,v,D),this.indexBuffer=h,this.symbolOffsetBuffer=B,this.symbolTableBuffer=E,this.textEncoder=new TextEncoder}getValueFromBuffer(l){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(m,v,B){const E=[],D=new Array(v.length).fill(0);for(let N=1;N<v.length;N++)D[N]=D[N-1]+v[N-1];for(let N=0;N<B.length;N++)if(B[N]===255)E.push(B[++N]);else{const G=v[B[N]],K=D[B[N]];for(let ae=0;ae<G;ae++)E.push(m[K+ae])}return new Uint8Array(E)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const h=this.indexBuffer[l];return Iw(this.decodedDictionary,this.offsetBuffer[h],this.offsetBuffer[h+1])}offsetToLengthBuffer(l){const h=new Uint32Array(l.length-1);let m=l[0];for(let v=1;v<l.length;v++){const B=l[v];h[v-1]=B-m,m=B}return h}}function rN(f,l,h,m,v,B){return h.type==="scalarType"?(function(E,D,N,G,K,ae){let le=null,ce=0;if(E===0)return null;if(ae.nullable){const me=tl(D,N);ce=me.numValues;const _e=N.get(),Le=rm(D,ce,N);N.set(_e+me.byteLength),le=new xu(Le,me.numValues)}const pe=le??G;switch(K.physicalType){case 4:case 3:return(function(me,_e,Le,Je,Pe){const Oe=tl(me,_e),it=Fy(Oe,Pe,me,_e),lt=Je.physicalType===3;if(it===ao.FLAT){const Rt=sm(Pe)?Cw(me,_e,Oe,lt,Pe):il(me,_e,Oe,lt);return new mw(Le.name,Rt,Pe)}if(it===ao.SEQUENCE){const Rt=IE(me,_e,Oe);return new xw(Le.name,Rt[0],Rt[1],Oe.numRleValues)}{const Rt=bw(me,_e,Oe,lt);return new _w(Le.name,Rt,Pe)}})(D,N,ae,K,pe);case 9:return(function(me,_e,Le,Je,Pe){let Oe=null,it=null,lt=null,Rt=null,ri=null,ei=null,Ai=null,Ui=null;for(let yi=0;yi<Je;yi++){const ii=tl(_e,Le);if(ii.byteLength!==0)switch(ii.physicalStreamType){case So.PRESENT:{const Vt=rm(_e,ii.numValues,Le);ei=new xu(Vt,ii.numValues);break}case So.OFFSET:it=Pe!=null||ei!=null?Cw(_e,Le,ii,!1,Pe??ei):il(_e,Le,ii,!1);break;case So.LENGTH:{const Vt=Ed(_e,Le,ii);jl.DICTIONARY===ii.logicalStreamType.lengthType?Oe=Vt:jl.SYMBOL===ii.logicalStreamType.lengthType?Rt=Vt:Ai=Vt;break}case So.DATA:{const Vt=_e.subarray(Le.get(),Le.get()+ii.byteLength);Le.add(ii.byteLength);const tn=ii.logicalStreamType.dictionaryType;yu.FSST===tn?ri=Vt:yu.SINGLE===tn||yu.SHARED===tn?lt=Vt:yu.NONE===tn&&(Ui=Vt);break}}}return(function(yi,ii,Vt,tn,Ki,dn,Wi){return ii?new XE(yi,Vt,tn,Ki,dn,ii,Wi):null})(me,ri,it,Oe,lt,Rt,Pe??ei)??(function(yi,ii,Vt,tn,Ki){return ii?Ki?new fp(yi,Vt,tn,ii,Ki):new fp(yi,Vt,tn,ii):null})(me,lt,it,Oe,Pe??ei)??(function(yi,ii,Vt,tn,Ki){if(!ii||!Vt)return null;if(tn)return Ki?new fp(yi,tn,ii,Vt,Ki):new fp(yi,tn,ii,Vt);if(Ki&&Ki.size()!==ii.length-1){const dn=new Int32Array(Ki.size());let Wi=0;for(let Rn=0;Rn<Ki.size();Rn++)dn[Rn]=Ki.get(Rn)?Wi++:0;return new fp(yi,dn,ii,Vt,Ki)}return Ki?new $E(yi,ii,Vt,Ki):new $E(yi,ii,Vt)})(me,Ai,Ui,it,Pe??ei)})(ae.name,D,N,ae.nullable?E-1:E,le);case 0:return(function(me,_e,Le,Je,Pe){const Oe=tl(me,_e),it=Oe.numValues,lt=_e.get(),Rt=sm(Pe)?(function(ei,Ai,Ui,yi){const ii=WE(ei,Math.ceil(Ai/8),Ui),Vt=new xu(ii,Ai),tn=yi.size(),Ki=new xu(new Uint8Array(tn),tn);let dn=0;for(let Wi=0;Wi<yi.size();Wi++){const Rn=!!yi.get(Wi)&&Vt.get(dn++);Ki.set(Wi,Rn)}return Ki.getBuffer()})(me,it,_e,Pe):rm(me,it,_e);_e.set(lt+Oe.byteLength);const ri=new xu(Rt,it);return new iN(Le.name,ri,Pe)})(D,N,ae,0,pe);case 6:case 5:return(function(me,_e,Le,Je,Pe){const Oe=tl(me,_e),it=Fy(Oe,Je,me,_e),lt=Pe.physicalType===5;if(it===ao.FLAT){const Rt=sm(Je)?(function(ri,ei,Ai,Ui,yi){return(function(ii,Vt,tn,Ki){switch(Vt.logicalLevelTechnique1){case Ba.DELTA:return Vt.logicalLevelTechnique2===Ba.RLE&&(ii=EE(ii,Vt.runs,Vt.numRleValues)),(function(dn,Wi){const Rn=new BigInt64Array(dn.size());let Pa=0;dn.get(0)?(Rn[0]=dn.get(0)?Wi[0]>>1n^-(1n&Wi[0]):0n,Pa=1):Rn[0]=0n;let va=1;for(;va!=Rn.length;++va)Rn[va]=dn.get(va)?Rn[va-1]+(Wi[Pa]>>1n^-(1n&Wi[Pa++])):Rn[va-1];return Rn})(Ki,ii);case Ba.RLE:return(function(dn,Wi,Rn,Pa){const va=Wi;return Rn?(function(Vr,Eo,Ps){const Gr=new BigInt64Array(Vr.size());let Or=0;for(let Ka=0;Ka<Ps;Ka++){const ls=Number(Eo[Ka]);let gs=Eo[Ka+Ps];gs=gs>>1n^-(1n&gs);for(let Tr=Or;Tr<Or+ls;Tr++)Vr.get(Tr)?Gr[Tr]=gs:(Gr[Tr]=0n,Or++);Or+=ls}return Gr})(Pa,dn,va.runs):(function(Vr,Eo,Ps){const Gr=new BigInt64Array(Vr.size());let Or=0;for(let Ka=0;Ka<Ps;Ka++){const ls=Number(Eo[Ka]),gs=Eo[Ka+Ps];for(let Tr=Or;Tr<Or+ls;Tr++)Vr.get(Tr)?Gr[Tr]=gs:(Gr[Tr]=0n,Or++);Or+=ls}return Gr})(Pa,dn,va.runs)})(ii,Vt,tn,Ki);case Ba.NONE:return ii=tn?(function(dn,Wi){const Rn=new BigInt64Array(dn.size());let Pa=0,va=0;for(;va!=Rn.length;++va)if(dn.get(va)){const Vr=Wi[Pa++];Rn[va]=Vr>>1n^-(1n&Vr)}else Rn[va]=0n;return Rn})(Ki,ii):(function(dn,Wi){const Rn=new BigInt64Array(dn.size());let Pa=0,va=0;for(;va!=Rn.length;++va)Rn[va]=dn.get(va)?Wi[Pa++]:0n;return Rn})(Ki,ii),ii;default:throw new Error("The specified Logical level technique is not supported")}})(My(ri,ei,Ai.numValues),Ai,Ui,yi)})(me,_e,Oe,lt,Je):LE(me,_e,Oe,lt);return new PE(Le.name,Rt,Je)}if(it===ao.SEQUENCE){const Rt=ME(me,_e,Oe);return new DE(Le.name,Rt[0],Rt[1],Oe.numRleValues)}{const Rt=FE(me,_e,Oe,lt);return new GE(Le.name,Rt,Je)}})(D,N,ae,pe,K);case 7:return(function(me,_e,Le,Je){const Pe=tl(me,_e),Oe=sm(Je)?(function(it,lt,Rt,ri){const ei=lt.get(),Ai=ei+ri*Float32Array.BYTES_PER_ELEMENT,Ui=new Uint8Array(it.subarray(ei,Ai)).buffer,yi=new Float32Array(Ui);lt.set(Ai);const ii=Rt.size(),Vt=new Float32Array(ii);let tn=0;for(let Ki=0;Ki<ii;Ki++)Vt[Ki]=Rt.get(Ki)?yi[tn++]:0;return Vt})(me,_e,Je,Pe.numValues):(function(it,lt,Rt){const ri=lt.get(),ei=ri+Rt*Float32Array.BYTES_PER_ELEMENT,Ai=new Uint8Array(it.subarray(ri,ei)).buffer,Ui=new Float32Array(Ai);return lt.set(ei),Ui})(me,_e,Pe.numValues);return new nN(Le.name,Oe,Je)})(D,N,ae,pe);case 8:return(function(me,_e,Le,Je){const Pe=tl(me,_e),Oe=sm(Je)?(function(it,lt,Rt,ri){const ei=lt.get(),Ai=ei+ri*Float64Array.BYTES_PER_ELEMENT,Ui=new Uint8Array(it.subarray(ei,Ai)).buffer,yi=new Float64Array(Ui);lt.set(Ai);const ii=Rt.size(),Vt=new Float64Array(ii);let tn=0;for(let Ki=0;Ki<ii;Ki++)Vt[Ki]=Rt.get(Ki)?yi[tn++]:0;return Vt})(me,_e,Je,Pe.numValues):(function(it,lt,Rt){const ri=lt.get(),ei=ri+Rt*Float64Array.BYTES_PER_ELEMENT,Ai=new Uint8Array(it.subarray(ri,ei)).buffer,Ui=new Float64Array(Ai);return lt.set(ei),Ui})(me,_e,Pe.numValues);return new yw(Le.name,Oe,Je)})(D,N,ae,pe);default:throw new Error(`The specified data type for the field is currently not supported: ${K}`)}})(m,f,l,v,h.scalarType,h):m!=1?null:(function(E,D,N,G){let K=null,ae=null,le=null,ce=null,pe=!1;for(;!pe;){const Je=tl(E,D);switch(Je.physicalStreamType){case So.LENGTH:jl.DICTIONARY===Je.logicalStreamType.lengthType?K=Ed(E,D,Je):le=Ed(E,D,Je);break;case So.DATA:yu.SINGLE===Je.logicalStreamType.dictionaryType||yu.SHARED===Je.logicalStreamType.dictionaryType?(ae=E.subarray(D.get(),D.get()+Je.byteLength),pe=!0):ce=E.subarray(D.get(),D.get()+Je.byteLength),D.add(Je.byteLength)}}const me=N.complexType.children,_e=[];let Le=0;for(const Je of me){const Pe=fo(E,D,1)[0];if(Pe==0)continue;const Oe=`${N.name}${Je.name==="default"?"":":"+Je.name}`;if(Pe!==2||Je.type!=="scalarField"||Je.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const it=tl(E,D),lt=rm(E,it.numValues,D),Rt=tl(E,D),ri=Rt.decompressedCount!==G?Cw(E,D,Rt,!1,new xu(lt,it.numValues)):il(E,D,Rt,!1);_e[Le++]=ce?new XE(Oe,ri,K,ae,le,ce,new xu(lt,it.numValues)):new fp(Oe,ri,K,ae,new xu(lt,it.numValues))}return _e})(f,l,h,v)}function sm(f){return f instanceof xu}function sN(f){if(f.name==="id")return!1;if(f.type==="scalarType"){const l=f.scalarType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(l.type==="logicalType")return!1}else if(f.type==="complexType"){const l=f.complexType;if(l.type==="physicalType")switch(l.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",f),!1}const oN=new TextDecoder;function YE(f,l){const h=fo(f,l,1)[0];if(h===0)return"";const m=l.get(),v=f.subarray(m,m+h);return l.add(h),oN.decode(v)}function KE(f,l){const h=fo(f,l,1)[0]>>>0,m=!!(4&h),v=!!(2&h),B=fo(f,l,1)[0]>>>0,E={};if(1&h&&(E.nullable=!0),v){const D={};if(m?(D.type="logicalType",D.logicalType=B):(D.type="physicalType",D.physicalType=B),8&h){const N=fo(f,l,1)[0]>>>0;D.children=new Array(N);for(let G=0;G<N;G++)D.children[G]=KE(f,l)}E.type="complexField",E.complexField=D}else{const D={};m?(D.type="logicalType",D.logicalType=B):(D.type="physicalType",D.physicalType=B),E.type="scalarField",E.scalarField=D}return E}function lN(f,l){const h=fo(f,l,1)[0]>>>0,m=(function(v){switch(v){case 0:case 1:case 2:case 3:{const B={};B.nullable=!!(1&v),B.columnScope=0;const E={};return E.physicalType=v>1?6:4,E.type="physicalType",B.scalarType=E,B.type="scalarType",B}case 4:{const B={nullable:!1,columnScope:0},E={type:"physicalType",physicalType:0};return B.type="complexType",B.complexType=E,B}case 30:{const B={nullable:!1,columnScope:0},E={type:"physicalType",physicalType:1};return B.type="complexType",B.complexType=E,B}default:return(function(B){let E=null;switch(B){case 10:case 11:E=0;break;case 12:case 13:E=1;break;case 14:case 15:E=2;break;case 16:case 17:E=3;break;case 18:case 19:E=4;break;case 20:case 21:E=5;break;case 22:case 23:E=6;break;case 24:case 25:E=7;break;case 26:case 27:E=8;break;case 28:case 29:E=9;break;default:return null}const D={};D.nullable=!!(1&B),D.columnScope=0;const N={type:"physicalType"};return N.physicalType=E,D.type="scalarType",D.scalarType=N,D})(v)}})(h);if(!m)throw new Error(`Unsupported column type code: ${h}`);if((function(v){return v>=10})(h)?m.name=YE(f,l):h>=0&&h<=3?m.name="id":h===4&&(m.name="geometry"),(function(v){return v===30})(h)){const v=fo(f,l,1)[0]>>>0,B=m.complexType;B.children=new Array(v);for(let E=0;E<v;E++)B.children[E]=KE(f,l)}return m}function cN(f,l){const h={featureTables:[]},m={};m.name=YE(f,l);const v=fo(f,l,1)[0]>>>0,B=fo(f,l,1)[0]>>>0;m.columns=new Array(B);for(let E=0;E<B;E++)m.columns[E]=lN(f,l);return h.featureTables.push(m),[h,v]}function uN(f,l,h,m,v,B,E=!1){const D=l.scalarType.physicalType,N=Fy(v,B,f,h);if(D===4)switch(N){case ao.FLAT:{const G=il(f,h,v,!1);return new mw(m,G,B)}case ao.SEQUENCE:{const G=IE(f,h,v);return new xw(m,G[0],G[1],v.numRleValues)}case ao.CONST:{const G=bw(f,h,v,!1);return new _w(m,G,B)}}else switch(N){case ao.FLAT:{if(E){const K=(function(ae,le,ce,pe){const me=(function(_e,Le,Je){const Pe=new Float64Array(Le);for(let Oe=0;Oe<Le;Oe++)Pe[Oe]=KU(_e,Je);return Pe})(ae,ce.numValues,le);return(function(_e,Le,Je){switch(Le.logicalLevelTechnique1){case Ba.DELTA:return Le.logicalLevelTechnique2===Ba.RLE&&(_e=kE(_e,Le.runs,Le.numRleValues)),(function(Pe){Pe[0]=Pe[0]%2==1?(Pe[0]+1)/-2:Pe[0]/2;const Oe=Pe.length/4*4;let it=1;if(Oe>=4)for(;it<Oe-4;it+=4){const lt=Pe[it],Rt=Pe[it+1],ri=Pe[it+2],ei=Pe[it+3];Pe[it]=(lt%2==1?(lt+1)/-2:lt/2)+Pe[it-1],Pe[it+1]=(Rt%2==1?(Rt+1)/-2:Rt/2)+Pe[it],Pe[it+2]=(ri%2==1?(ri+1)/-2:ri/2)+Pe[it+1],Pe[it+3]=(ei%2==1?(ei+1)/-2:ei/2)+Pe[it+2]}for(;it!=Pe.length;++it)Pe[it]=(Pe[it]%2==1?(Pe[it]+1)/-2:Pe[it]/2)+Pe[it-1]})(_e),_e;case Ba.RLE:return(function(Pe,Oe,it){return kE(Pe,Oe.runs,Oe.numRleValues)})(_e,Le);case Ba.NONE:return _e;default:throw new Error(`The specified Logical level technique is not supported: ${Le.logicalLevelTechnique1}`)}})(me,ce)})(f,h,v);return new yw(m,K,B)}const G=LE(f,h,v,!1);return new PE(m,G,B)}case ao.SEQUENCE:{const G=ME(f,h,v);return new DE(m,G[0],G[1],v.numRleValues)}case ao.CONST:{const G=FE(f,h,v,!1);return new GE(m,G,B)}}throw new Error("Vector type not supported for id column.")}class hN{constructor(l,h){var m;switch(this._featureData=l,this.properties=this._featureData.properties||{},(m=this._featureData.geometry)===null||m===void 0?void 0:m.type){case ro.POINT:case ro.MULTIPOINT:this.type=1;break;case ro.LINESTRING:case ro.MULTILINESTRING:this.type=2;break;case ro.POLYGON:case ro.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=h,this.id=Number(this._featureData.id)}loadGeometry(){const l=[];for(const h of this._featureData.geometry.coordinates){const m=[];for(const v of h)m.push(new u(v.x,v.y));l.push(m)}return l}}class dN{constructor(l){this.features=[],this.featureTable=l,this.name=l.name,this.extent=l.extent,this.version=2,this.features=l.getFeatures(),this.length=this.features.length}feature(l){return new hN(this.features[l],this.extent)}}class qE{constructor(l){this.layers={};const h=(function(m,v,B=!0){const E=new YU(0),D=[];for(;E.get()<m.length;){const N=fo(m,E,1)[0]>>>0,G=E.get()+N;if(G>m.length)throw new Error(`Block overruns tile: ${G} > ${m.length}`);if(fo(m,E,1)[0]>>>0!=1){E.set(G);continue}const K=cN(m,E),ae=K[1],le=K[0].featureTables[0];let ce=null,pe=null;const me=[];let _e=0;for(const Je of le.columns){const Pe=Je.name;if(Pe==="id"){let Oe=null;if(Je.nullable){const lt=tl(m,E),Rt=E.get(),ri=rm(m,lt.numValues,E);E.set(Rt+lt.byteLength),Oe=new xu(ri,lt.numValues)}const it=tl(m,E);_e=it.decompressedCount,ce=uN(m,Je,E,Pe,it,Oe??_e,B)}else if(Pe==="geometry"){const Oe=fo(m,E,1)[0];if(_e===0){const it=E.get();_e=tl(m,E).decompressedCount,E.set(it)}pe=tN(m,Oe,E,_e)}else{const Oe=sN(Je)?fo(m,E,1)[0]:1;if(Oe===0&&Je.type==="scalarType")continue;const it=rN(m,E,Je,Oe,_e);if(it)if(Array.isArray(it))for(const lt of it)me.push(lt);else me.push(it)}}const Le=new XU(le.name,pe,ce,me,ae);D.push(Le),E.set(G)}return D})(new Uint8Array(l));this.layers=h.reduce(((m,v)=>Object.assign(Object.assign({},m),{[v.name]:new dN(v)})),{})}}class fN{constructor(l,h){this.feature=l,this.type=l.type,this.properties=l.tags?l.tags:{},this.extent=h,"id"in l&&(typeof l.id=="string"?this.id=parseInt(l.id,10):typeof l.id!="number"||isNaN(l.id)||(this.id=l.id))}loadGeometry(){const l=[],h=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const m of h){const v=[];for(const B of m)v.push(new u(B[0],B[1]));l.push(v)}return l}}const om="_geojsonTileLayer";function AN(f,l){l.writeVarintField(15,f.version||1),l.writeStringField(1,f.name||""),l.writeVarintField(5,f.extent||4096);const h={keys:[],values:[],keycache:{},valuecache:{}};for(let B=0;B<f.length;B++)h.feature=f.feature(B),l.writeMessage(2,pN,h);const m=h.keys;for(const B of m)l.writeStringField(3,B);const v=h.values;for(const B of v)l.writeMessage(4,yN,B)}function pN(f,l){if(!f.feature)return;const h=f.feature;h.id!==void 0&&l.writeVarintField(1,h.id),l.writeMessage(2,gN,f),l.writeVarintField(3,h.type),l.writeMessage(4,mN,h)}function gN(f,l){for(const h in f.feature?.properties){let m=f.feature.properties[h],v=f.keycache[h];if(m==null)continue;v===void 0&&(f.keys.push(h),v=f.keys.length-1,f.keycache[h]=v),l.writeVarint(v),typeof m!="string"&&typeof m!="boolean"&&typeof m!="number"&&(m=JSON.stringify(m));const B=typeof m+":"+m;let E=f.valuecache[B];E===void 0&&(f.values.push(m),E=f.values.length-1,f.valuecache[B]=E),l.writeVarint(E)}}function Lw(f,l){return(l<<3)+(7&f)}function ZE(f){return f<<1^f>>31}function mN(f,l){const h=f.loadGeometry(),m=f.type;let v=0,B=0;for(const E of h){let D=1;m===1&&(D=E.length),l.writeVarint(Lw(1,D));const N=m===3?E.length-1:E.length;for(let G=0;G<N;G++){G===1&&m!==1&&l.writeVarint(Lw(2,N-1));const K=E[G].x-v,ae=E[G].y-B;l.writeVarint(ZE(K)),l.writeVarint(ZE(ae)),v+=K,B+=ae}f.type===3&&l.writeVarint(Lw(7,1))}}function yN(f,l){const h=typeof f;h==="string"?l.writeStringField(1,f):h==="boolean"?l.writeBooleanField(7,f):h==="number"&&(f%1!=0?l.writeDoubleField(3,f):f<0?l.writeSVarintField(6,f):l.writeVarintField(5,f))}class JE{constructor(l,h){this.tileID=l,this.x=l.canonical.x,this.y=l.canonical.y,this.z=l.canonical.z,this.grid=new Ku(Mt,16,0),this.grid3D=new Ku(Mt,16,0),this.featureIndexArray=new Te,this.promoteId=h}insert(l,h,m,v,B,E){const D=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(m,v,B);const N=E?this.grid3D:this.grid;for(let G=0;G<h.length;G++){const K=h[G],ae=[1/0,1/0,-1/0,-1/0];for(let le=0;le<K.length;le++){const ce=K[le];ae[0]=Math.min(ae[0],ce.x),ae[1]=Math.min(ae[1],ce.y),ae[2]=Math.max(ae[2],ce.x),ae[3]=Math.max(ae[3],ce.y)}ae[0]<Mt&&ae[1]<Mt&&ae[2]>=0&&ae[3]>=0&&N.insert(D,ae[0],ae[1],ae[2],ae[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new UB(new Sy(this.rawTileData)).layers:new qE(this.rawTileData).layers,this.sourceLayerCoder=new vE(this.vtLayers?Object.keys(this.vtLayers).sort():[om])),this.vtLayers}query(l,h,m,v){this.loadVTLayers();const B=l.params,E=Mt/l.tileSize/l.scale,D=Ol(B.filter,B.globalState),N=l.queryGeometry,G=l.queryPadding*E,K=Ff.fromPoints(N),ae=this.grid.query(K.minX-G,K.minY-G,K.maxX+G,K.maxY+G),le=Ff.fromPoints(l.cameraQueryGeometry).expandBy(G),ce=this.grid3D.query(le.minX,le.minY,le.maxX,le.maxY,((_e,Le,Je,Pe)=>(function(Oe,it,lt,Rt,ri){for(const Ai of Oe)if(it<=Ai.x&&lt<=Ai.y&&Rt>=Ai.x&&ri>=Ai.y)return!0;const ei=[new u(it,lt),new u(it,ri),new u(Rt,ri),new u(Rt,lt)];if(Oe.length>2){for(const Ai of ei)if(tp(Oe,Ai))return!0}for(let Ai=0;Ai<Oe.length-1;Ai++)if(_4(Oe[Ai],Oe[Ai+1],ei))return!0;return!1})(l.cameraQueryGeometry,_e-G,Le-G,Je+G,Pe+G)));for(const _e of ce)ae.push(_e);ae.sort(xN);const pe={};let me;for(let _e=0;_e<ae.length;_e++){const Le=ae[_e];if(Le===me)continue;me=Le;const Je=this.featureIndexArray.get(Le);let Pe=null;this.loadMatchingFeature(pe,Je.bucketIndex,Je.sourceLayerIndex,Je.featureIndex,D,B.layers,B.availableImages,h,m,v,((Oe,it,lt)=>(Pe||(Pe=eh(Oe)),it.queryIntersectsFeature({queryGeometry:N,feature:Oe,featureState:lt,geometry:Pe,zoom:this.z,transform:l.transform,pixelsToTileUnits:E,pixelPosMatrix:l.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:l.getElevation}))))}return pe}loadMatchingFeature(l,h,m,v,B,E,D,N,G,K,ae){const le=this.bucketLayerIDs[h];if(E&&!le.some((_e=>E.has(_e))))return;const ce=this.sourceLayerCoder.decode(m),pe=this.vtLayers[ce].feature(v);if(B.needGeometry){const _e=th(pe,!0);if(!B.filter(new cr(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!B.filter(new cr(this.tileID.overscaledZ),pe))return;const me=this.getId(pe,ce);for(let _e=0;_e<le.length;_e++){const Le=le[_e];if(E&&!E.has(Le))continue;const Je=N[Le];if(!Je)continue;let Pe={};me&&K&&(Pe=K.getState(Je.sourceLayer||om,me));const Oe=gi({},G[Le]);Oe.paint=ek(Oe.paint,Je.paint,pe,Pe,D),Oe.layout=ek(Oe.layout,Je.layout,pe,Pe,D);const it=!ae||ae(pe,Je,Pe);if(!it)continue;const lt=new wE(pe,this.z,this.x,this.y,me);lt.layer=Oe;let Rt=l[Le];Rt===void 0&&(Rt=l[Le]=[]),Rt.push({featureIndex:v,feature:lt,intersectionZ:it})}}lookupSymbolFeatures(l,h,m,v,B,E,D,N){const G={};this.loadVTLayers();const K=Ol(B.filterSpec,B.globalState);for(const ae of l)this.loadMatchingFeature(G,m,v,ae,K,E,D,N,h);return G}hasLayer(l){for(const h of this.bucketLayerIDs)for(const m of h)if(l===m)return!0;return!1}getId(l,h){var m;let v=l.id;return this.promoteId&&(v=l.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[h]],typeof v=="boolean"&&(v=Number(v)),v===void 0&&(!((m=l.properties)===null||m===void 0)&&m.cluster)&&this.promoteId&&(v=Number(l.properties.cluster_id))),v}}function ek(f,l,h,m,v){return Ii(f,((B,E)=>{const D=l instanceof wf?l.get(E):null;return D&&D.evaluate?D.evaluate(h,m,v):D}))}function xN(f,l){return l-f}function tk(f,l,h,m,v){const B=[];for(let E=0;E<f.length;E++){const D=f[E];let N;for(let G=0;G<D.length-1;G++){let K=D[G],ae=D[G+1];K.x<l&&ae.x<l||(K.x<l?K=new u(l,K.y+(l-K.x)/(ae.x-K.x)*(ae.y-K.y))._round():ae.x<l&&(ae=new u(l,K.y+(l-K.x)/(ae.x-K.x)*(ae.y-K.y))._round()),K.y<h&&ae.y<h||(K.y<h?K=new u(K.x+(h-K.y)/(ae.y-K.y)*(ae.x-K.x),h)._round():ae.y<h&&(ae=new u(K.x+(h-K.y)/(ae.y-K.y)*(ae.x-K.x),h)._round()),K.x>=m&&ae.x>=m||(K.x>=m?K=new u(m,K.y+(m-K.x)/(ae.x-K.x)*(ae.y-K.y))._round():ae.x>=m&&(ae=new u(m,K.y+(m-K.x)/(ae.x-K.x)*(ae.y-K.y))._round()),K.y>=v&&ae.y>=v||(K.y>=v?K=new u(K.x+(v-K.y)/(ae.y-K.y)*(ae.x-K.x),v)._round():ae.y>=v&&(ae=new u(K.x+(v-K.y)/(ae.y-K.y)*(ae.x-K.x),v)._round()),N&&K.equals(N[N.length-1])||(N=[K],B.push(N)),N.push(ae)))))}}return B}function ik(f,l,h,m,v){switch(l){case 1:return(function(B,E,D,N){const G=[];for(const K of B)for(const ae of K){const le=N===0?ae.x:ae.y;le>=E&&le<=D&&G.push([ae])}return G})(f,h,m,v);case 2:return nk(f,h,m,v,!1);case 3:return nk(f,h,m,v,!0)}return[]}function _N(f,l,h,m,v){const B=m===0?vN:wN;let E=[];const D=[];for(let K=0;K<f.length-1;K++){const ae=f[K],le=f[K+1],ce=m===0?ae.x:ae.y,pe=m===0?le.x:le.y;let me=!1;ce<l?pe>l&&E.push(B(ae,le,l)):ce>h?pe<h&&E.push(B(ae,le,h)):E.push(ae),pe<l&&ce>=l&&(E.push(B(ae,le,l)),me=!0),pe>h&&ce<=h&&(E.push(B(ae,le,h)),me=!0),!v&&me&&(D.push(E),E=[])}const N=f.length-1,G=m===0?f[N].x:f[N].y;return G>=l&&G<=h&&E.push(f[N]),v&&E.length>0&&!E[0].equals(E[E.length-1])&&E.push(new u(E[0].x,E[0].y)),E.length>0&&D.push(E),D}function nk(f,l,h,m,v){const B=[];for(const E of f){const D=_N(E,l,h,m,v);D.length>0&&B.push(...D)}return B}function vN(f,l,h){return new u(h,f.y+(h-f.x)/(l.x-f.x)*(l.y-f.y))}function wN(f,l,h){return new u(f.x+(h-f.y)/(l.y-f.y)*(l.x-f.x),h)}Zi("FeatureIndex",JE,{omit:["rawTileData","sourceLayerCoder"]});class kd extends u{constructor(l,h,m,v){super(l,h),this.angle=m,v!==void 0&&(this.segment=v)}clone(){return new kd(this.x,this.y,this.angle,this.segment)}}function ak(f,l,h,m,v){if(l.segment===void 0||h===0)return!0;let B=l,E=l.segment+1,D=0;for(;D>-h/2;){if(E--,E<0)return!1;D-=f[E].dist(B),B=f[E]}D+=f[E].dist(f[E+1]),E++;const N=[];let G=0;for(;D<h/2;){const K=f[E],ae=f[E+1];if(!ae)return!1;let le=f[E-1].angleTo(K)-K.angleTo(ae);for(le=Math.abs((le+3*Math.PI)%(2*Math.PI)-Math.PI),N.push({distance:D,angleDelta:le}),G+=le;D-N[0].distance>m;)G-=N.shift().angleDelta;if(G>v)return!1;E++,D+=K.dist(ae)}return!0}function rk(f){let l=0;for(let h=0;h<f.length-1;h++)l+=f[h].dist(f[h+1]);return l}function sk(f,l,h){return f?.6*l*h:0}function ok(f,l){return Math.max(f?f.right-f.left:0,l?l.right-l.left:0)}function bN(f,l,h,m,v,B){const E=sk(h,v,B),D=ok(h,m)*B;let N=0;const G=rk(f)/2;for(let K=0;K<f.length-1;K++){const ae=f[K],le=f[K+1],ce=ae.dist(le);if(N+ce>G){const pe=(G-N)/ce,me=ba.number(ae.x,le.x,pe),_e=ba.number(ae.y,le.y,pe),Le=new kd(me,_e,le.angleTo(ae),K);return Le._round(),!E||ak(f,Le,D,E,l)?Le:void 0}N+=ce}}function CN(f,l,h,m,v,B,E,D,N){const G=sk(m,B,E),K=ok(m,v),ae=K*E,le=f[0].x===0||f[0].x===N||f[0].y===0||f[0].y===N;return l-ae<l/4&&(l=ae+l/4),lk(f,le?l/2*D%l:(K/2+2*B)*E*D%l,l,G,h,ae,le,!1,N)}function lk(f,l,h,m,v,B,E,D,N){const G=B/2,K=rk(f);let ae=0,le=l-h,ce=[];for(let pe=0;pe<f.length-1;pe++){const me=f[pe],_e=f[pe+1],Le=me.dist(_e),Je=_e.angleTo(me);for(;le+h<ae+Le;){le+=h;const Pe=(le-ae)/Le,Oe=ba.number(me.x,_e.x,Pe),it=ba.number(me.y,_e.y,Pe);if(Oe>=0&&Oe<N&&it>=0&&it<N&&le-G>=0&&le+G<=K){const lt=new kd(Oe,it,Je,pe);lt._round(),m&&!ak(f,lt,B,m,v)||ce.push(lt)}}ae+=Le}return D||ce.length||E||(ce=lk(f,ae/2,h,m,v,B,E,!0,N)),ce}function ck(f,l,h,m){const v=[],B=f.image,E=B.pixelRatio,D=B.paddedRect.w-2,N=B.paddedRect.h-2;let G={x1:f.left,y1:f.top,x2:f.right,y2:f.bottom};const K=B.stretchX||[[0,D]],ae=B.stretchY||[[0,N]],le=(Vt,tn)=>Vt+tn[1]-tn[0],ce=K.reduce(le,0),pe=ae.reduce(le,0),me=D-ce,_e=N-pe;let Le=0,Je=ce,Pe=0,Oe=pe,it=0,lt=me,Rt=0,ri=_e;if(B.content&&m){const Vt=B.content,tn=Vt[2]-Vt[0],Ki=Vt[3]-Vt[1];(B.textFitWidth||B.textFitHeight)&&(G=aE(f)),Le=Oy(K,0,Vt[0]),Pe=Oy(ae,0,Vt[1]),Je=Oy(K,Vt[0],Vt[2]),Oe=Oy(ae,Vt[1],Vt[3]),it=Vt[0]-Le,Rt=Vt[1]-Pe,lt=tn-Je,ri=Ki-Oe}const ei=G.x1,Ai=G.y1,Ui=G.x2-ei,yi=G.y2-Ai,ii=(Vt,tn,Ki,dn)=>{const Wi=Uy(Vt.stretch-Le,Je,Ui,ei),Rn=Ny(Vt.fixed-it,lt,Vt.stretch,ce),Pa=Uy(tn.stretch-Pe,Oe,yi,Ai),va=Ny(tn.fixed-Rt,ri,tn.stretch,pe),Vr=Uy(Ki.stretch-Le,Je,Ui,ei),Eo=Ny(Ki.fixed-it,lt,Ki.stretch,ce),Ps=Uy(dn.stretch-Pe,Oe,yi,Ai),Gr=Ny(dn.fixed-Rt,ri,dn.stretch,pe),Or=new u(Wi,Pa),Ka=new u(Vr,Pa),ls=new u(Vr,Ps),gs=new u(Wi,Ps),Tr=new u(Rn/E,va/E),xl=new u(Eo/E,Gr/E),ko=l*Math.PI/180;if(ko){const so=Math.sin(ko),Jr=Math.cos(ko),Ds=[Jr,-so,so,Jr];Or._matMult(Ds),Ka._matMult(Ds),gs._matMult(Ds),ls._matMult(Ds)}const _l=Vt.stretch+Vt.fixed,jc=tn.stretch+tn.fixed;return{tl:Or,tr:Ka,bl:gs,br:ls,tex:{x:B.paddedRect.x+1+_l,y:B.paddedRect.y+1+jc,w:Ki.stretch+Ki.fixed-_l,h:dn.stretch+dn.fixed-jc},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Tr,pixelOffsetBR:xl,minFontScaleX:lt/E/Ui,minFontScaleY:ri/E/yi,isSDF:h}};if(m&&(B.stretchX||B.stretchY)){const Vt=uk(K,me,ce),tn=uk(ae,_e,pe);for(let Ki=0;Ki<Vt.length-1;Ki++){const dn=Vt[Ki],Wi=Vt[Ki+1];for(let Rn=0;Rn<tn.length-1;Rn++)v.push(ii(dn,tn[Rn],Wi,tn[Rn+1]))}}else v.push(ii({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:D+1},{fixed:0,stretch:N+1}));return v}function Oy(f,l,h){let m=0;for(const v of f)m+=Math.max(l,Math.min(h,v[1]))-Math.max(l,Math.min(h,v[0]));return m}function uk(f,l,h){const m=[{fixed:-1,stretch:0}];for(const[v,B]of f){const E=m[m.length-1];m.push({fixed:v-E.stretch,stretch:E.stretch}),m.push({fixed:v-E.stretch,stretch:E.stretch+(B-v)})}return m.push({fixed:l+1,stretch:h}),m}function Uy(f,l,h,m){return f/l*h+m}function Ny(f,l,h,m){return f-l*h/m}Zi("Anchor",kd);class zy{constructor(l,h,m,v,B,E,D,N,G,K){var ae;if(this.boxStartIndex=l.length,G){let le=E.top,ce=E.bottom;const pe=E.collisionPadding;pe&&(le-=pe[1],ce+=pe[3]);let me=ce-le;me>0&&(me=Math.max(10,me),this.circleDiameter=me)}else{const le=!((ae=E.image)===null||ae===void 0)&&ae.content&&(E.image.textFitWidth||E.image.textFitHeight)?aE(E):{x1:E.left,y1:E.top,x2:E.right,y2:E.bottom};le.y1=le.y1*D-N[0],le.y2=le.y2*D+N[2],le.x1=le.x1*D-N[3],le.x2=le.x2*D+N[1];const ce=E.collisionPadding;if(ce&&(le.x1-=ce[0]*D,le.y1-=ce[1]*D,le.x2+=ce[2]*D,le.y2+=ce[3]*D),K){const pe=new u(le.x1,le.y1),me=new u(le.x2,le.y1),_e=new u(le.x1,le.y2),Le=new u(le.x2,le.y2),Je=K*Math.PI/180;pe._rotate(Je),me._rotate(Je),_e._rotate(Je),Le._rotate(Je),le.x1=Math.min(pe.x,me.x,_e.x,Le.x),le.x2=Math.max(pe.x,me.x,_e.x,Le.x),le.y1=Math.min(pe.y,me.y,_e.y,Le.y),le.y2=Math.max(pe.y,me.y,_e.y,Le.y)}l.emplaceBack(h.x,h.y,le.x1,le.y1,le.x2,le.y2,m,v,B)}this.boxEndIndex=l.length}}class SN{constructor(l=[],h=(m,v)=>m<v?-1:m>v?1:0){if(this.data=l,this.length=this.data.length,this.compare=h,this.length>0)for(let m=(this.length>>1)-1;m>=0;m--)this._down(m)}push(l){this.data.push(l),this._up(this.length++)}pop(){if(this.length===0)return;const l=this.data[0],h=this.data.pop();return--this.length>0&&(this.data[0]=h,this._down(0)),l}peek(){return this.data[0]}_up(l){const{data:h,compare:m}=this,v=h[l];for(;l>0;){const B=l-1>>1,E=h[B];if(m(v,E)>=0)break;h[l]=E,l=B}h[l]=v}_down(l){const{data:h,compare:m}=this,v=this.length>>1,B=h[l];for(;l<v;){let E=1+(l<<1);const D=E+1;if(D<this.length&&m(h[D],h[E])<0&&(E=D),m(h[E],B)>=0)break;h[l]=h[E],l=E}h[l]=B}}function BN(f,l=1,h=!1){const m=Ff.fromPoints(f[0]),v=Math.min(m.width(),m.height());let B=v/2;const E=new SN([],EN),{minX:D,minY:N,maxX:G,maxY:K}=m;if(v===0)return new u(D,N);for(let ce=D;ce<G;ce+=v)for(let pe=N;pe<K;pe+=v)E.push(new Ap(ce+B,pe+B,B,f));let ae=(function(ce){let pe=0,me=0,_e=0;const Le=ce[0];for(let Je=0,Pe=Le.length,Oe=Pe-1;Je<Pe;Oe=Je++){const it=Le[Je],lt=Le[Oe],Rt=it.x*lt.y-lt.x*it.y;me+=(it.x+lt.x)*Rt,_e+=(it.y+lt.y)*Rt,pe+=3*Rt}return new Ap(me/pe,_e/pe,0,ce)})(f),le=E.length;for(;E.length;){const ce=E.pop();(ce.d>ae.d||!ae.d)&&(ae=ce,h&&console.log("found best %d after %d probes",Math.round(1e4*ce.d)/1e4,le)),ce.max-ae.d<=l||(B=ce.h/2,E.push(new Ap(ce.p.x-B,ce.p.y-B,B,f)),E.push(new Ap(ce.p.x+B,ce.p.y-B,B,f)),E.push(new Ap(ce.p.x-B,ce.p.y+B,B,f)),E.push(new Ap(ce.p.x+B,ce.p.y+B,B,f)),le+=4)}return h&&(console.log(`num probes: ${le}`),console.log(`best distance: ${ae.d}`)),ae.p}function EN(f,l){return l.max-f.max}function Ap(f,l,h,m){this.p=new u(f,l),this.h=h,this.d=(function(v,B){let E=!1,D=1/0;for(let N=0;N<B.length;N++){const G=B[N];for(let K=0,ae=G.length,le=ae-1;K<ae;le=K++){const ce=G[K],pe=G[le];ce.y>v.y!=pe.y>v.y&&v.x<(pe.x-ce.x)*(v.y-ce.y)/(pe.y-ce.y)+ce.x&&(E=!E),D=Math.min(D,pB(v,ce,pe))}}return(E?1:-1)*Math.sqrt(D)})(this.p,m),this.max=this.d+this.h*Math.SQRT2}var Bo;o.aP=void 0,(Bo=o.aP||(o.aP={}))[Bo.center=1]="center",Bo[Bo.left=2]="left",Bo[Bo.right=3]="right",Bo[Bo.top=4]="top",Bo[Bo.bottom=5]="bottom",Bo[Bo["top-left"]=6]="top-left",Bo[Bo["top-right"]=7]="top-right",Bo[Bo["bottom-left"]=8]="bottom-left",Bo[Bo["bottom-right"]=9]="bottom-right";const Fw=Number.POSITIVE_INFINITY;function hk(f,l){return l[1]!==Fw?(function(h,m,v){let B=0,E=0;switch(m=Math.abs(m),v=Math.abs(v),h){case"top-right":case"top-left":case"top":E=v-7;break;case"bottom-right":case"bottom-left":case"bottom":E=7-v}switch(h){case"top-right":case"bottom-right":case"right":B=-m;break;case"top-left":case"bottom-left":case"left":B=m}return[B,E]})(f,l[0],l[1]):(function(h,m){let v=0,B=0;m<0&&(m=0);const E=m/Math.SQRT2;switch(h){case"top-right":case"top-left":B=E-7;break;case"bottom-right":case"bottom-left":B=7-E;break;case"bottom":B=7-m;break;case"top":B=m-7}switch(h){case"top-right":case"bottom-right":v=-E;break;case"top-left":case"bottom-left":v=E;break;case"left":v=m;break;case"right":v=-m}return[v,B]})(f,l[0])}function dk(f,l,h){var m;const v=f.layout,B=(m=v.get("text-variable-anchor-offset"))===null||m===void 0?void 0:m.evaluate(l,{},h);if(B){const D=B.values,N=[];for(let G=0;G<D.length;G+=2){const K=N[G]=D[G],ae=D[G+1].map((le=>le*no));K.startsWith("top")?ae[1]-=7:K.startsWith("bottom")&&(ae[1]+=7),N[G+1]=ae}return new ge(N)}const E=v.get("text-variable-anchor");if(E){let D;D=f._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[v.get("text-radial-offset").evaluate(l,{},h)*no,Fw]:v.get("text-offset").evaluate(l,{},h).map((G=>G*no));const N=[];for(const G of E)N.push(G,hk(G,D));return new ge(N)}return null}function Pw(f){switch(f){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kN(f,l,h,m,v,B,E,D,N,G,K,ae){let le=B.textMaxSize.evaluate(l,{});le===void 0&&(le=E);const ce=f.layers[0].layout,pe=ce.get("icon-offset").evaluate(l,{},K),me=Ak(h.horizontal),_e=E/24,Le=f.tilePixelRatio*_e,Je=f.tilePixelRatio*le/24,Pe=f.tilePixelRatio*D,Oe=f.tilePixelRatio*ce.get("symbol-spacing"),it=ce.get("text-padding")*f.tilePixelRatio,lt=(function(Ki,dn,Wi,Rn=1){const Pa=Ki.get("icon-padding").evaluate(dn,{},Wi),va=Pa&&Pa.values;return[va[0]*Rn,va[1]*Rn,va[2]*Rn,va[3]*Rn]})(ce,l,K,f.tilePixelRatio),Rt=ce.get("text-max-angle")/180*Math.PI,ri=ce.get("text-rotation-alignment")!=="viewport"&&ce.get("symbol-placement")!=="point",ei=ce.get("icon-rotation-alignment")==="map"&&ce.get("symbol-placement")!=="point",Ai=ce.get("symbol-placement"),Ui=Oe/2,yi=ce.get("icon-text-fit");let ii;m&&yi!=="none"&&(f.allowVerticalPlacement&&h.vertical&&(ii=rE(m,h.vertical,yi,ce.get("icon-text-fit-padding"),pe,_e)),me&&(m=rE(m,me,yi,ce.get("icon-text-fit-padding"),pe,_e)));const Vt=K?ae.line.getGranularityForZoomLevel(K.z):1,tn=(Ki,dn)=>{dn.x<0||dn.x>=Mt||dn.y<0||dn.y>=Mt||(function(Wi,Rn,Pa,va,Vr,Eo,Ps,Gr,Or,Ka,ls,gs,Tr,xl,ko,_l,jc,so,Jr,Ds,cs,oo,Vh,_u,um){const Td=Wi.addToLineVertexArray(Rn,Pa);let Rf,pp,gp,mp,yk=0,xk=0,_k=0,vk=0,Qw=-1,jw=-1;const Gh={};let wk=ps("");if(Wi.allowVerticalPlacement&&va.vertical){const zo=Gr.layout.get("text-rotate").evaluate(cs,{},_u)+90;gp=new zy(Or,Rn,Ka,ls,gs,va.vertical,Tr,xl,ko,zo),Ps&&(mp=new zy(Or,Rn,Ka,ls,gs,Ps,jc,so,ko,zo))}if(Vr){const zo=Gr.layout.get("icon-rotate").evaluate(cs,{}),gc=Gr.layout.get("icon-text-fit")!=="none",Of=ck(Vr,zo,Vh,gc),wu=Ps?ck(Ps,zo,Vh,gc):void 0;pp=new zy(Or,Rn,Ka,ls,gs,Vr,jc,so,!1,zo),yk=4*Of.length;const Uf=Wi.iconSizeData;let ih=null;Uf.kind==="source"?(ih=[Qh*Gr.layout.get("icon-size").evaluate(cs,{})],ih[0]>Sd&&Ji(`${Wi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Uf.kind==="composite"&&(ih=[Qh*oo.compositeIconSizes[0].evaluate(cs,{},_u),Qh*oo.compositeIconSizes[1].evaluate(cs,{},_u)],(ih[0]>Sd||ih[1]>Sd)&&Ji(`${Wi.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Wi.addSymbols(Wi.icon,Of,ih,Ds,Jr,cs,o.az.none,Rn,Td.lineStartIndex,Td.lineLength,-1,_u),Qw=Wi.icon.placedSymbolArray.length-1,wu&&(xk=4*wu.length,Wi.addSymbols(Wi.icon,wu,ih,Ds,Jr,cs,o.az.vertical,Rn,Td.lineStartIndex,Td.lineLength,-1,_u),jw=Wi.icon.placedSymbolArray.length-1)}const bk=Object.keys(va.horizontal);for(const zo of bk){const gc=va.horizontal[zo];if(!Rf){wk=ps(gc.text);const wu=Gr.layout.get("text-rotate").evaluate(cs,{},_u);Rf=new zy(Or,Rn,Ka,ls,gs,gc,Tr,xl,ko,wu)}const Of=gc.positionedLines.length===1;if(_k+=fk(Wi,Rn,gc,Eo,Gr,ko,cs,_l,Td,va.vertical?o.az.horizontal:o.az.horizontalOnly,Of?bk:[zo],Gh,Qw,oo,_u),Of)break}va.vertical&&(vk+=fk(Wi,Rn,va.vertical,Eo,Gr,ko,cs,_l,Td,o.az.vertical,["vertical"],Gh,jw,oo,_u));const MN=Rf?Rf.boxStartIndex:Wi.collisionBoxArray.length,LN=Rf?Rf.boxEndIndex:Wi.collisionBoxArray.length,FN=gp?gp.boxStartIndex:Wi.collisionBoxArray.length,PN=gp?gp.boxEndIndex:Wi.collisionBoxArray.length,DN=pp?pp.boxStartIndex:Wi.collisionBoxArray.length,RN=pp?pp.boxEndIndex:Wi.collisionBoxArray.length,ON=mp?mp.boxStartIndex:Wi.collisionBoxArray.length,UN=mp?mp.boxEndIndex:Wi.collisionBoxArray.length;let vu=-1;const Qy=(zo,gc)=>zo&&zo.circleDiameter?Math.max(zo.circleDiameter,gc):gc;vu=Qy(Rf,vu),vu=Qy(gp,vu),vu=Qy(pp,vu),vu=Qy(mp,vu);const Ck=vu>-1?1:0;Ck&&(vu*=um/no),Wi.glyphOffsetArray.length>=lp.MAX_GLYPHS&&Ji("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),cs.sortKey!==void 0&&Wi.addToSortKeyRanges(Wi.symbolInstances.length,cs.sortKey);const NN=dk(Gr,cs,_u),[zN,HN]=(function(zo,gc){const Of=zo.length,wu=gc?.values;if(wu?.length>0)for(let Uf=0;Uf<wu.length;Uf+=2){const ih=wu[Uf+1];zo.emplaceBack(o.aP[wu[Uf]],ih[0],ih[1])}return[Of,zo.length]})(Wi.textAnchorOffsets,NN);Wi.symbolInstances.emplaceBack(Rn.x,Rn.y,Gh.right>=0?Gh.right:-1,Gh.center>=0?Gh.center:-1,Gh.left>=0?Gh.left:-1,Gh.vertical||-1,Qw,jw,wk,MN,LN,FN,PN,DN,RN,ON,UN,Ka,_k,vk,yk,xk,Ck,0,Tr,vu,zN,HN)})(f,dn,Ki,h,m,v,ii,f.layers[0],f.collisionBoxArray,l.index,l.sourceLayerIndex,f.index,Le,[it,it,it,it],ri,N,Pe,lt,ei,pe,l,B,G,K,E)};if(Ai==="line")for(const Ki of tk(l.geometry,0,0,Mt,Mt)){const dn=Lf(Ki,Vt),Wi=CN(dn,Oe,Rt,h.vertical||me,m,24,Je,f.overscaling,Mt);for(const Rn of Wi)me&&TN(f,me.text,Ui,Rn)||tn(dn,Rn)}else if(Ai==="line-center"){for(const Ki of l.geometry)if(Ki.length>1){const dn=Lf(Ki,Vt),Wi=bN(dn,Rt,h.vertical||me,m,24,Je);Wi&&tn(dn,Wi)}}else if(l.type==="Polygon")for(const Ki of ac(l.geometry,0)){const dn=BN(Ki,16);tn(Lf(Ki[0],Vt,!0),new kd(dn.x,dn.y,0))}else if(l.type==="LineString")for(const Ki of l.geometry){const dn=Lf(Ki,Vt);tn(dn,new kd(dn[0].x,dn[0].y,0))}else if(l.type==="Point")for(const Ki of l.geometry)for(const dn of Ki)tn([dn],new kd(dn.x,dn.y,0))}function fk(f,l,h,m,v,B,E,D,N,G,K,ae,le,ce,pe){const me=(function(Je,Pe,Oe,it,lt,Rt,ri,ei){const Ai=it.layout.get("text-rotate").evaluate(Rt,{})*Math.PI/180,Ui=[];for(const yi of Pe.positionedLines)for(const ii of yi.positionedGlyphs){if(!ii.rect)continue;const Vt=ii.rect||{};let tn=4,Ki=!0,dn=1,Wi=0;const Rn=(lt||ei)&&ii.vertical,Pa=ii.metrics.advance*ii.scale/2;if(ei&&Pe.verticalizable&&(Wi=yi.lineOffset/2-(ii.imageName?-(no-ii.metrics.width*ii.scale)/2:(ii.scale-1)*no)),ii.imageName){const so=ri[ii.imageName];Ki=so.sdf,dn=so.pixelRatio,tn=1/dn}const va=lt?[ii.x+Pa,ii.y]:[0,0];let Vr=lt?[0,0]:[ii.x+Pa+Oe[0],ii.y+Oe[1]-Wi],Eo=[0,0];Rn&&(Eo=Vr,Vr=[0,0]);const Ps=ii.metrics.isDoubleResolution?2:1,Gr=(ii.metrics.left-tn)*ii.scale-Pa+Vr[0],Or=(-ii.metrics.top-tn)*ii.scale+Vr[1],Ka=Gr+Vt.w/Ps*ii.scale/dn,ls=Or+Vt.h/Ps*ii.scale/dn,gs=new u(Gr,Or),Tr=new u(Ka,Or),xl=new u(Gr,ls),ko=new u(Ka,ls);if(Rn){const so=new u(-Pa,Pa- -17),Jr=-Math.PI/2,Ds=12-Pa,cs=new u(22-Ds,-(ii.imageName?Ds:0)),oo=new u(...Eo);gs._rotateAround(Jr,so)._add(cs)._add(oo),Tr._rotateAround(Jr,so)._add(cs)._add(oo),xl._rotateAround(Jr,so)._add(cs)._add(oo),ko._rotateAround(Jr,so)._add(cs)._add(oo)}if(Ai){const so=Math.sin(Ai),Jr=Math.cos(Ai),Ds=[Jr,-so,so,Jr];gs._matMult(Ds),Tr._matMult(Ds),xl._matMult(Ds),ko._matMult(Ds)}const _l=new u(0,0),jc=new u(0,0);Ui.push({tl:gs,tr:Tr,bl:xl,br:ko,tex:Vt,writingMode:Pe.writingMode,glyphOffset:va,sectionIndex:ii.sectionIndex,isSDF:Ki,pixelOffsetTL:_l,pixelOffsetBR:jc,minFontScaleX:0,minFontScaleY:0})}return Ui})(0,h,D,v,B,E,m,f.allowVerticalPlacement),_e=f.textSizeData;let Le=null;_e.kind==="source"?(Le=[Qh*v.layout.get("text-size").evaluate(E,{})],Le[0]>Sd&&Ji(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):_e.kind==="composite"&&(Le=[Qh*ce.compositeTextSizes[0].evaluate(E,{},pe),Qh*ce.compositeTextSizes[1].evaluate(E,{},pe)],(Le[0]>Sd||Le[1]>Sd)&&Ji(`${f.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),f.addSymbols(f.text,me,Le,D,B,E,G,l,N.lineStartIndex,N.lineLength,le,pe);for(const Je of K)ae[Je]=f.text.placedSymbolArray.length-1;return 4*me.length}function Ak(f){for(const l in f)return f[l];return null}function TN(f,l,h,m){const v=f.compareText;if(l in v){const B=v[l];for(let E=B.length-1;E>=0;E--)if(m.dist(B[E])<h)return!0}else v[l]=[];return v[l].push(m),!1}const pk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Dw{static from(l){if(!(l instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[h,m]=new Uint8Array(l,0,2);if(h!==219)throw new Error("Data does not appear to be in a KDBush format.");const v=m>>4;if(v!==1)throw new Error(`Got v${v} data when expected v1.`);const B=pk[15&m];if(!B)throw new Error("Unrecognized array type.");const[E]=new Uint16Array(l,2,1),[D]=new Uint32Array(l,4,1);return new Dw(D,E,B,l)}constructor(l,h=64,m=Float64Array,v){if(isNaN(l)||l<0)throw new Error(`Unpexpected numItems value: ${l}.`);this.numItems=+l,this.nodeSize=Math.min(Math.max(+h,2),65535),this.ArrayType=m,this.IndexArrayType=l<65536?Uint16Array:Uint32Array;const B=pk.indexOf(this.ArrayType),E=2*l*this.ArrayType.BYTES_PER_ELEMENT,D=l*this.IndexArrayType.BYTES_PER_ELEMENT,N=(8-D%8)%8;if(B<0)throw new Error(`Unexpected typed array class: ${m}.`);v&&v instanceof ArrayBuffer?(this.data=v,this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+N,2*l),this._pos=2*l,this._finished=!0):(this.data=new ArrayBuffer(8+E+D+N),this.ids=new this.IndexArrayType(this.data,8,l),this.coords=new this.ArrayType(this.data,8+D+N,2*l),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+B]),new Uint16Array(this.data,2,1)[0]=h,new Uint32Array(this.data,4,1)[0]=l)}add(l,h){const m=this._pos>>1;return this.ids[m]=m,this.coords[this._pos++]=l,this.coords[this._pos++]=h,m}finish(){const l=this._pos>>1;if(l!==this.numItems)throw new Error(`Added ${l} items when expected ${this.numItems}.`);return Rw(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(l,h,m,v){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:B,coords:E,nodeSize:D}=this,N=[0,B.length-1,0],G=[];for(;N.length;){const K=N.pop()||0,ae=N.pop()||0,le=N.pop()||0;if(ae-le<=D){for(let _e=le;_e<=ae;_e++){const Le=E[2*_e],Je=E[2*_e+1];Le>=l&&Le<=m&&Je>=h&&Je<=v&&G.push(B[_e])}continue}const ce=le+ae>>1,pe=E[2*ce],me=E[2*ce+1];pe>=l&&pe<=m&&me>=h&&me<=v&&G.push(B[ce]),(K===0?l<=pe:h<=me)&&(N.push(le),N.push(ce-1),N.push(1-K)),(K===0?m>=pe:v>=me)&&(N.push(ce+1),N.push(ae),N.push(1-K))}return G}within(l,h,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:v,coords:B,nodeSize:E}=this,D=[0,v.length-1,0],N=[],G=m*m;for(;D.length;){const K=D.pop()||0,ae=D.pop()||0,le=D.pop()||0;if(ae-le<=E){for(let _e=le;_e<=ae;_e++)mk(B[2*_e],B[2*_e+1],l,h)<=G&&N.push(v[_e]);continue}const ce=le+ae>>1,pe=B[2*ce],me=B[2*ce+1];mk(pe,me,l,h)<=G&&N.push(v[ce]),(K===0?l-m<=pe:h-m<=me)&&(D.push(le),D.push(ce-1),D.push(1-K)),(K===0?l+m>=pe:h+m>=me)&&(D.push(ce+1),D.push(ae),D.push(1-K))}return N}}function Rw(f,l,h,m,v,B){if(v-m<=h)return;const E=m+v>>1;gk(f,l,E,m,v,B),Rw(f,l,h,m,E-1,1-B),Rw(f,l,h,E+1,v,1-B)}function gk(f,l,h,m,v,B){for(;v>m;){if(v-m>600){const G=v-m+1,K=h-m+1,ae=Math.log(G),le=.5*Math.exp(2*ae/3),ce=.5*Math.sqrt(ae*le*(G-le)/G)*(K-G/2<0?-1:1);gk(f,l,h,Math.max(m,Math.floor(h-K*le/G+ce)),Math.min(v,Math.floor(h+(G-K)*le/G+ce)),B)}const E=l[2*h+B];let D=m,N=v;for(lm(f,l,m,h),l[2*v+B]>E&&lm(f,l,m,v);D<N;){for(lm(f,l,D,N),D++,N--;l[2*D+B]<E;)D++;for(;l[2*N+B]>E;)N--}l[2*m+B]===E?lm(f,l,m,N):(N++,lm(f,l,N,v)),N<=h&&(m=N+1),h<=N&&(v=N-1)}}function lm(f,l,h,m){Ow(f,h,m),Ow(l,2*h,2*m),Ow(l,2*h+1,2*m+1)}function Ow(f,l,h){const m=f[l];f[l]=f[h],f[h]=m}function mk(f,l,h,m){const v=f-h,B=l-m;return v*v+B*B}var Uw;o.cH=void 0,(Uw=o.cH||(o.cH={})).create="create",Uw.load="load",Uw.fullLoad="fullLoad";let Hy=null,cm=[];const Nw=1e3/60,zw="loadTime",Hw="fullLoadTime",IN={mark(f){performance.mark(f)},frame(f){const l=f;Hy!=null&&cm.push(l-Hy),Hy=l},clearMetrics(){Hy=null,cm=[],performance.clearMeasures(zw),performance.clearMeasures(Hw);for(const f in o.cH)performance.clearMarks(o.cH[f])},getPerformanceMetrics(){performance.measure(zw,o.cH.create,o.cH.load),performance.measure(Hw,o.cH.create,o.cH.fullLoad);const f=performance.getEntriesByName(zw)[0].duration,l=performance.getEntriesByName(Hw)[0].duration,h=cm.length,m=1/(cm.reduce(((B,E)=>B+E),0)/h/1e3),v=cm.filter((B=>B>Nw)).reduce(((B,E)=>B+(E-Nw)/Nw),0);return{loadTime:f,fullLoadTime:l,fps:m,percentDroppedFrames:v/(h+v)*100,totalFrames:h}}};o.$=O,o.A=Y,o.B=Yu,o.C=Kr,o.D=kn,o.E=In,o.F=function([f,l,h]){return l+=90,l*=Math.PI/180,h*=Math.PI/180,{x:f*Math.cos(l)*Math.sin(h),y:f*Math.sin(l)*Math.sin(h),z:f*Math.cos(h)}},o.G=ba,o.H=cr,o.I=ow,o.J=Ph,o.K=function(f){if(Ye==null){const l=f.navigator?f.navigator.userAgent:null;Ye=!!f.safari||!(!l||!(/\b(iPad|iPhone|iPod)\b/.test(l)||l.match("Safari")&&!l.match("Chrome")))}return Ye},o.L=class{constructor(f,l){this.target=f,this.mapId=l,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new GU((()=>this.process())),this.subscription=wi(this.target,"message",(h=>this.receive(h)),!1),this.globalScope=xn(self)?f:window}registerMessageHandler(f,l){this.messageHandlers[f]=l}unregisterMessageHandler(f){delete this.messageHandlers[f]}sendAsync(f,l){return new Promise(((h,m)=>{const v=Math.round(1e18*Math.random()).toString(36).substring(0,10),B=l?wi(l.signal,"abort",(()=>{B?.unsubscribe(),delete this.resolveRejects[v];const N={id:v,type:"<cancel>",origin:location.origin,targetMapId:f.targetMapId,sourceMapId:this.mapId};this.target.postMessage(N)}),WU):null;this.resolveRejects[v]={resolve:N=>{B?.unsubscribe(),h(N)},reject:N=>{B?.unsubscribe(),m(N)}};const E=[],D=Object.assign(Object.assign({},f),{id:v,sourceMapId:this.mapId,origin:location.origin,data:xi(f.data,E)});this.target.postMessage(D,{transfer:E})}))}receive(f){const l=f.data,h=l.id;if(!(l.origin!=="file://"&&location.origin!=="file://"&&l.origin!=="resource://android"&&location.origin!=="resource://android"&&l.origin!==location.origin||l.targetMapId&&this.mapId!==l.targetMapId)){if(l.type==="<cancel>"){delete this.tasks[h];const m=this.abortControllers[h];return delete this.abortControllers[h],void(m&&m.abort())}if(xn(self)||l.mustQueue)return this.tasks[h]=l,this.taskQueue.push(h),void this.invoker.trigger();this.processTask(h,l)}}process(){if(this.taskQueue.length===0)return;const f=this.taskQueue.shift(),l=this.tasks[f];delete this.tasks[f],this.taskQueue.length>0&&this.invoker.trigger(),l&&this.processTask(f,l)}processTask(f,l){return s(this,void 0,void 0,(function*(){if(l.type==="<response>"){const v=this.resolveRejects[f];return delete this.resolveRejects[f],v?void(l.error?v.reject(En(l.error)):v.resolve(En(l.data))):void 0}if(!this.messageHandlers[l.type])return void this.completeTask(f,new Error(`Could not find a registered handler for ${l.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const h=En(l.data),m=new AbortController;this.abortControllers[f]=m;try{const v=yield this.messageHandlers[l.type](l.sourceMapId,h,m);this.completeTask(f,null,v)}catch(v){this.completeTask(f,v)}}))}completeTask(f,l,h){const m=[];delete this.abortControllers[f];const v={id:f,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:l?xi(l):null,data:xi(h,m)};this.target.postMessage(v,{transfer:m})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},o.M=yt,o.N=function(){var f=new Y(16);return Y!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=0,f[12]=0,f[13]=0,f[14]=0),f[0]=1,f[5]=1,f[10]=1,f[15]=1,f},o.O=function(f,l,h){var m,v,B,E,D,N,G,K,ae,le,ce,pe,me=h[0],_e=h[1],Le=h[2];return l===f?(f[12]=l[0]*me+l[4]*_e+l[8]*Le+l[12],f[13]=l[1]*me+l[5]*_e+l[9]*Le+l[13],f[14]=l[2]*me+l[6]*_e+l[10]*Le+l[14],f[15]=l[3]*me+l[7]*_e+l[11]*Le+l[15]):(v=l[1],B=l[2],E=l[3],D=l[4],N=l[5],G=l[6],K=l[7],ae=l[8],le=l[9],ce=l[10],pe=l[11],f[0]=m=l[0],f[1]=v,f[2]=B,f[3]=E,f[4]=D,f[5]=N,f[6]=G,f[7]=K,f[8]=ae,f[9]=le,f[10]=ce,f[11]=pe,f[12]=m*me+D*_e+ae*Le+l[12],f[13]=v*me+N*_e+le*Le+l[13],f[14]=B*me+G*_e+ce*Le+l[14],f[15]=E*me+K*_e+pe*Le+l[15]),f},o.P=u,o.Q=function(f,l,h){var m=h[0],v=h[1],B=h[2];return f[0]=l[0]*m,f[1]=l[1]*m,f[2]=l[2]*m,f[3]=l[3]*m,f[4]=l[4]*v,f[5]=l[5]*v,f[6]=l[6]*v,f[7]=l[7]*v,f[8]=l[8]*B,f[9]=l[9]*B,f[10]=l[10]*B,f[11]=l[11]*B,f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},o.R=yl,o.S=function(f,l,h){var m=l[0],v=l[1],B=l[2],E=l[3],D=l[4],N=l[5],G=l[6],K=l[7],ae=l[8],le=l[9],ce=l[10],pe=l[11],me=l[12],_e=l[13],Le=l[14],Je=l[15],Pe=h[0],Oe=h[1],it=h[2],lt=h[3];return f[0]=Pe*m+Oe*D+it*ae+lt*me,f[1]=Pe*v+Oe*N+it*le+lt*_e,f[2]=Pe*B+Oe*G+it*ce+lt*Le,f[3]=Pe*E+Oe*K+it*pe+lt*Je,f[4]=(Pe=h[4])*m+(Oe=h[5])*D+(it=h[6])*ae+(lt=h[7])*me,f[5]=Pe*v+Oe*N+it*le+lt*_e,f[6]=Pe*B+Oe*G+it*ce+lt*Le,f[7]=Pe*E+Oe*K+it*pe+lt*Je,f[8]=(Pe=h[8])*m+(Oe=h[9])*D+(it=h[10])*ae+(lt=h[11])*me,f[9]=Pe*v+Oe*N+it*le+lt*_e,f[10]=Pe*B+Oe*G+it*ce+lt*Le,f[11]=Pe*E+Oe*K+it*pe+lt*Je,f[12]=(Pe=h[12])*m+(Oe=h[13])*D+(it=h[14])*ae+(lt=h[15])*me,f[13]=Pe*v+Oe*N+it*le+lt*_e,f[14]=Pe*B+Oe*G+it*ce+lt*Le,f[15]=Pe*E+Oe*K+it*pe+lt*Je,f},o.T=Zv,o.U=function(f,l){const h={};for(let m=0;m<l.length;m++){const v=l[m];v in f&&(h[v]=f[v])}return h},o.V=Bd,o.W=si,o.X=AE,o.Y=fE,o.Z=tt,o._=s,o.a=Ee,o.a$=he,o.a0=H,o.a1=Oi,o.a2=Ac,o.a3=gE,o.a4=Ty,o.a5=Mt,o.a6=function(f,l,h){if(!f)return l||{};if(!l)return f||{};const m=_E(f),v=_E(l);(function(E,D){D.removeAll&&(E.add.clear(),E.update.clear(),E.remove.clear(),D.remove.clear());for(const N of D.remove)E.add.delete(N),E.update.delete(N);for(const[N,G]of D.update){const K=E.update.get(N);K&&(D.update.set(N,$U(K,G)),E.update.delete(N))}})(m,v);const B={};if((m.removeAll||v.removeAll)&&(B.removeAll=!0),B.remove=new Set([...m.remove,...v.remove]),B.add=new Map([...m.add,...v.add]),B.update=new Map([...m.update,...v.update]),B.remove.size&&B.add.size)for(const E of B.add.keys())B.remove.delete(E);return(function(E){const D={};return E.removeAll&&(D.removeAll=E.removeAll),E.remove&&(D.remove=Array.from(E.remove)),E.add&&(D.add=Array.from(E.add.values())),E.update&&(D.update=Array.from(E.update.values())),D})(B)},o.a7=function(f,l){const h=new Map;if(f==null||f.type==null)return h;if(f.type==="Feature"){const m=gw(f,l);return m==null?void 0:(h.set(m,f),h)}if(f.type==="FeatureCollection"){const m=new Set;for(const v of f.features){const B=gw(v,l);if(B==null||m.has(B))return;m.add(B),h.set(B,v)}return h}},o.a8=function(f,l,h){var m,v;const B=[];if(l.removeAll)f.clear();else if(l.remove)for(const E of l.remove){const D=f.get(E);D&&(B.push(D.geometry),f.delete(E))}if(l.add)for(const E of l.add){const D=gw(E,h);if(D==null)continue;const N=f.get(D);N&&B.push(N.geometry),B.push(E.geometry),f.set(D,E)}if(l.update)for(const E of l.update){const D=f.get(E.id);if(!D)continue;const N=!!E.newGeometry,G=E.removeAllProperties||((m=E.removeProperties)===null||m===void 0?void 0:m.length)>0||((v=E.addOrUpdateProperties)===null||v===void 0?void 0:v.length)>0;if(!N&&!G)continue;B.push(D.geometry);const K=Object.assign({},D);if(f.set(E.id,K),N&&(B.push(E.newGeometry),K.geometry=E.newGeometry),G){if(K.properties=E.removeAllProperties?{}:Object.assign({},K.properties||{}),E.removeProperties)for(const ae of E.removeProperties)delete K.properties[ae];if(E.addOrUpdateProperties)for(const{key:ae,value:le}of E.addOrUpdateProperties)K.properties[ae]=le}}return B},o.a9=am,o.aA=function(f,{uSize:l,uSizeT:h},{lowerSize:m,upperSize:v}){return f.kind==="source"?m/Qh:f.kind==="composite"?ba.number(m/Qh,v/Qh,h):l},o.aB=function(f,l){var h=l[0],m=l[1],v=l[2],B=l[3],E=l[4],D=l[5],N=l[6],G=l[7],K=l[8],ae=l[9],le=l[10],ce=l[11],pe=l[12],me=l[13],_e=l[14],Le=l[15],Je=h*D-m*E,Pe=h*N-v*E,Oe=h*G-B*E,it=m*N-v*D,lt=m*G-B*D,Rt=v*G-B*N,ri=K*me-ae*pe,ei=K*_e-le*pe,Ai=K*Le-ce*pe,Ui=ae*_e-le*me,yi=ae*Le-ce*me,ii=le*Le-ce*_e,Vt=Je*ii-Pe*yi+Oe*Ui+it*Ai-lt*ei+Rt*ri;return Vt?(f[0]=(D*ii-N*yi+G*Ui)*(Vt=1/Vt),f[1]=(v*yi-m*ii-B*Ui)*Vt,f[2]=(me*Rt-_e*lt+Le*it)*Vt,f[3]=(le*lt-ae*Rt-ce*it)*Vt,f[4]=(N*Ai-E*ii-G*ei)*Vt,f[5]=(h*ii-v*Ai+B*ei)*Vt,f[6]=(_e*Oe-pe*Rt-Le*Pe)*Vt,f[7]=(K*Rt-le*Oe+ce*Pe)*Vt,f[8]=(E*yi-D*Ai+G*ri)*Vt,f[9]=(m*Ai-h*yi-B*ri)*Vt,f[10]=(pe*lt-me*Oe+Le*Je)*Vt,f[11]=(ae*Oe-K*lt-ce*Je)*Vt,f[12]=(D*ei-E*Ui-N*ri)*Vt,f[13]=(h*Ui-m*ei+v*ri)*Vt,f[14]=(me*Pe-pe*it-_e*Je)*Vt,f[15]=(K*it-ae*Pe+le*Je)*Vt,f):null},o.aC=je,o.aD=function(f){var l=f[0],h=f[1];return Math.sqrt(l*l+h*h)},o.aE=function(f){return f[0]=0,f[1]=0,f},o.aF=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f},o.aG=uw,o.aH=De,o.aI=function(f,l,h,m){const v=l.y-f.y,B=l.x-f.x,E=m.y-h.y,D=m.x-h.x,N=E*B-D*v;if(N===0)return null;const G=(D*(f.y-h.y)-E*(f.x-h.x))/N;return new u(f.x+G*B,f.y+G*v)},o.aJ=tk,o.aK=ep,o.aL=function(f){let l=1/0,h=1/0,m=-1/0,v=-1/0;for(const B of f)l=Math.min(l,B.x),h=Math.min(h,B.y),m=Math.max(m,B.x),v=Math.max(v,B.y);return[l,h,m,v]},o.aM=no,o.aN=We,o.aO=function(f,l,h,m,v=!1){if(!h[0]&&!h[1])return[0,0];const B=v?m==="map"?-f.bearingInRadians:0:m==="viewport"?f.bearingInRadians:0;if(B){const E=Math.sin(B),D=Math.cos(B);h=[h[0]*D-h[1]*E,h[0]*E+h[1]*D]}return[v?h[0]:We(l,h[0],f.zoom),v?h[1]:We(l,h[1],f.zoom)]},o.aQ=cw,o.aR=Pw,o.aS=lw,o.aT=Dw,o.aU=As,o.aV=by,o.aW=Ne,o.aX=zi,o.aY=Ht,o.aZ=Fi,o.a_=mE,o.aa=Ff,o.ab=25,o.ac=pw,o.ad=f=>{const l=window.document.createElement("video");return l.muted=!0,new Promise((h=>{l.onloadstart=()=>{h(l)};for(const m of f){const v=window.document.createElement("source");kt(m)||(l.crossOrigin="Anonymous"),v.src=m,l.appendChild(v)}}))},o.ae=Re,o.af=function(){return Vi++},o.ag=C,o.ah=lp,o.ai=om,o.aj=Ol,o.ak=th,o.al=wE,o.am=function(f){const l={};if(f.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((h,m,v,B)=>{const E=v||B;return l[m]=!E||E.toLowerCase(),""})),l["max-age"]){const h=parseInt(l["max-age"],10);isNaN(h)?delete l["max-age"]:l["max-age"]=h}return l},o.an=mt,o.ao=85.051129,o.ap=Ei,o.aq=function(f){return Math.pow(2,f)},o.ar=J,o.as=pE,o.at=function(f){return Math.log(f)/Math.LN2},o.au=function(f){var l=f[0],h=f[1];return l*l+h*h},o.av=function(f){if(!f.length)return new Set;const l=Math.max(...f.map((N=>N.canonical.z)));let h=1/0,m=-1/0,v=1/0,B=-1/0;const E=[];for(const N of f){const{x:G,y:K,z:ae}=N.canonical,le=Math.pow(2,l-ae),ce=G*le,pe=K*le;E.push({id:N,x:ce,y:pe}),ce<h&&(h=ce),ce>m&&(m=ce),pe<v&&(v=pe),pe>B&&(B=pe)}const D=new Set;for(const N of E)N.x!==h&&N.x!==m&&N.y!==v&&N.y!==B||D.add(N.id);return D},o.aw=function(f,l){const h=Math.abs(2*f.wrap)-+(f.wrap<0),m=Math.abs(2*l.wrap)-+(l.wrap<0);return f.overscaledZ-l.overscaledZ||m-h||l.canonical.y-f.canonical.y||l.canonical.x-f.canonical.x},o.ax=class{constructor(f,l){this.max=f,this.onRemove=l,this.reset()}reset(){for(const f in this.data)for(const l of this.data[f])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(f,l,h){const m=f.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const v={value:l,timeout:void 0};if(h!==void 0&&(v.timeout=setTimeout((()=>{this.remove(f,v)}),h)),this.data[m].push(v),this.order.push(m),this.order.length>this.max){const B=this._getAndRemoveByKey(this.order[0]);B&&this.onRemove(B)}return this}has(f){return f.wrapped().key in this.data}getAndRemove(f){return this.has(f)?this._getAndRemoveByKey(f.wrapped().key):null}_getAndRemoveByKey(f){const l=this.data[f].shift();return l.timeout&&clearTimeout(l.timeout),this.data[f].length===0&&delete this.data[f],this.order.splice(this.order.indexOf(f),1),l.value}getByKey(f){const l=this.data[f];return l?l[0].value:null}get(f){return this.has(f)?this.data[f.wrapped().key][0].value:null}remove(f,l){if(!this.has(f))return this;const h=f.wrapped().key,m=l===void 0?0:this.data[h].indexOf(l),v=this.data[h][m];return this.data[h].splice(m,1),v.timeout&&clearTimeout(v.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(v.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(f){for(this.max=f;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(f){const l=[];for(const h in this.data)for(const m of this.data[h])f(m.value)||l.push(m);for(const h of l)this.remove(h.value.tileID,h)}},o.ay=function(f,l){let h=0,m=0;if(f.kind==="constant")m=f.layoutSize;else if(f.kind!=="source"){const{interpolationType:v,minZoom:B,maxZoom:E}=f,D=v?mt(rr.interpolationFactor(v,l,B,E),0,1):0;f.kind==="camera"?m=ba.number(f.minSize,f.maxSize,D):h=D}return{uSizeT:h,uSize:m}},o.b=Yt,o.b$=zh,o.b0=te,o.b1=function(f){var l=new Y(3);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l},o.b2=function(f,l,h){return f[0]=l[0]-h[0],f[1]=l[1]-h[1],f[2]=l[2]-h[2],f},o.b3=function(f,l){var h=l[0],m=l[1],v=l[2],B=h*h+m*m+v*v;return B>0&&(B=1/Math.sqrt(B)),f[0]=l[0]*B,f[1]=l[1]*B,f[2]=l[2]*B,f},o.b4=ve,o.b5=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]},o.b6=function(f,l,h){return f[0]=l[0]*h[0],f[1]=l[1]*h[1],f[2]=l[2]*h[2],f[3]=l[3]*h[3],f},o.b7=q,o.b8=function(f,l,h){const m=l[0]*h[0]+l[1]*h[1]+l[2]*h[2];return m===0?null:(-(f[0]*h[0]+f[1]*h[1]+f[2]*h[2])-h[3])/m},o.b9=be,o.bA=function(f,l,h,m){return f[0]=l[0]+h[0]*m,f[1]=l[1]+h[1]*m,f[2]=l[2]+h[2]*m,f},o.bB=nt,o.bC=function(f,l,h){var m=h[0],v=h[1],B=h[2],E=h[3],D=l[0],N=l[1],G=l[2],K=v*G-B*N,ae=B*D-m*G,le=m*N-v*D;return f[0]=D+E*(K+=K)+v*(le+=le)-B*(ae+=ae),f[1]=N+E*ae+B*K-m*le,f[2]=G+E*le+m*ae-v*K,f},o.bD=function(f,l,h){const m=(function(N){var G=N[3],K=N[4],ae=N[5],le=N[6],ce=N[7],pe=N[8];return N[0]*(pe*K-ae*ce)+N[1]*(-pe*G+ae*le)+N[2]*(ce*G-K*le)})([f[0],f[1],f[2],l[0],l[1],l[2],h[0],h[1],h[2]]);if(m===0)return null;const v=ve([],[l[0],l[1],l[2]],[h[0],h[1],h[2]]),B=ve([],[h[0],h[1],h[2]],[f[0],f[1],f[2]]),E=ve([],[f[0],f[1],f[2]],[l[0],l[1],l[2]]),D=he([],v,-f[3]);return te(D,D,he([],B,-l[3])),te(D,D,he([],E,-h[3])),he(D,D,1/m),D},o.bE=Aw,o.bF=function(){return new Float64Array(4)},o.bG=function(f,l,h,m){var v=[],B=[];return v[0]=l[0]-h[0],v[1]=l[1]-h[1],v[2]=l[2]-h[2],B[0]=v[0]*Math.cos(m)-v[1]*Math.sin(m),B[1]=v[0]*Math.sin(m)+v[1]*Math.cos(m),B[2]=v[2],f[0]=B[0]+h[0],f[1]=B[1]+h[1],f[2]=B[2]+h[2],f},o.bH=function(f,l,h,m){var v=[],B=[];return v[0]=l[0]-h[0],v[1]=l[1]-h[1],v[2]=l[2]-h[2],B[0]=v[0],B[1]=v[1]*Math.cos(m)-v[2]*Math.sin(m),B[2]=v[1]*Math.sin(m)+v[2]*Math.cos(m),f[0]=B[0]+h[0],f[1]=B[1]+h[1],f[2]=B[2]+h[2],f},o.bI=function(f,l,h,m){var v=[],B=[];return v[0]=l[0]-h[0],v[1]=l[1]-h[1],v[2]=l[2]-h[2],B[0]=v[2]*Math.sin(m)+v[0]*Math.cos(m),B[1]=v[1],B[2]=v[2]*Math.cos(m)-v[0]*Math.sin(m),f[0]=B[0]+h[0],f[1]=B[1]+h[1],f[2]=B[2]+h[2],f},o.bJ=function(f,l,h){var m=Math.sin(h),v=Math.cos(h),B=l[0],E=l[1],D=l[2],N=l[3],G=l[8],K=l[9],ae=l[10],le=l[11];return l!==f&&(f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=B*v-G*m,f[1]=E*v-K*m,f[2]=D*v-ae*m,f[3]=N*v-le*m,f[8]=B*m+G*v,f[9]=E*m+K*v,f[10]=D*m+ae*v,f[11]=N*m+le*v,f},o.bK=function(f,l){const h=Pt(f,360),m=Pt(l,360),v=m-h,B=m>h?v-360:v+360;return Math.abs(v)<Math.abs(B)?v:B},o.bL=function(f){return f[0]=0,f[1]=0,f[2]=0,f},o.bM=function(f,l,h,m){const v=Math.sqrt(f*f+l*l),B=Math.sqrt(h*h+m*m);f/=v,l/=v,h/=B,m/=B;const E=Math.acos(f*h+l*m);return-l*h+f*m>0?E:-E},o.bN=function(f,l){const h=Pt(f,2*Math.PI),m=Pt(l,2*Math.PI);return Math.min(Math.abs(h-m),Math.abs(h-m+2*Math.PI),Math.abs(h-m-2*Math.PI))},o.bO=function(){const f={},l=Tt.$version;for(const h in Tt.$root){const m=Tt.$root[h];if(m.required){let v=null;v=h==="version"?l:m.type==="array"?[]:{},v!=null&&(f[h]=v)}}return f},o.bP=xt,o.bQ=ln,o.bR=function f(l,h){if(Array.isArray(l)){if(!Array.isArray(h)||l.length!==h.length)return!1;for(let m=0;m<l.length;m++)if(!f(l[m],h[m]))return!1;return!0}if(typeof l=="object"&&l!==null&&h!==null){if(typeof h!="object"||Object.keys(l).length!==Object.keys(h).length)return!1;for(const m in l)if(!f(l[m],h[m]))return!1;return!0}return l===h},o.bS=function(f){f=f.slice();const l=Object.create(null);for(let h=0;h<f.length;h++)l[f[h].id]=f[h];for(let h=0;h<f.length;h++)"ref"in f[h]&&(f[h]=Kn(f[h],l[f[h].ref]));return f},o.bT=function(f,l){if(f.type==="custom")return new VU(f,l);switch(f.type){case"background":return new jU(f,l);case"circle":return new E4(f,l);case"color-relief":return new F4(f,l);case"fill":return new X4(f,l);case"fill-extrusion":return new sU(f,l);case"heatmap":return new T4(f,l);case"hillshade":return new M4(f,l);case"line":return new fU(f,l);case"raster":return new jv(f,l);case"symbol":return new ky(f,l)}},o.bU=f=>f.type==="raster",o.bV=fn,o.bW=function(f,l){if(!f)return[{command:"setStyle",args:[l]}];let h=[];try{if(!yn(f.version,l.version))return[{command:"setStyle",args:[l]}];yn(f.center,l.center)||h.push({command:"setCenter",args:[l.center]}),yn(f.state,l.state)||h.push({command:"setGlobalState",args:[l.state]}),yn(f.centerAltitude,l.centerAltitude)||h.push({command:"setCenterAltitude",args:[l.centerAltitude]}),yn(f.zoom,l.zoom)||h.push({command:"setZoom",args:[l.zoom]}),yn(f.bearing,l.bearing)||h.push({command:"setBearing",args:[l.bearing]}),yn(f.pitch,l.pitch)||h.push({command:"setPitch",args:[l.pitch]}),yn(f.roll,l.roll)||h.push({command:"setRoll",args:[l.roll]}),yn(f.sprite,l.sprite)||h.push({command:"setSprite",args:[l.sprite]}),yn(f.glyphs,l.glyphs)||h.push({command:"setGlyphs",args:[l.glyphs]}),yn(f.transition,l.transition)||h.push({command:"setTransition",args:[l.transition]}),yn(f.light,l.light)||h.push({command:"setLight",args:[l.light]}),yn(f.terrain,l.terrain)||h.push({command:"setTerrain",args:[l.terrain]}),yn(f.sky,l.sky)||h.push({command:"setSky",args:[l.sky]}),yn(f.projection,l.projection)||h.push({command:"setProjection",args:[l.projection]});const m={},v=[];(function(E,D,N,G){let K;for(K in D=D||{},E=E||{})Object.prototype.hasOwnProperty.call(E,K)&&(Object.prototype.hasOwnProperty.call(D,K)||Di(K,N,G));for(K in D)Object.prototype.hasOwnProperty.call(D,K)&&(Object.prototype.hasOwnProperty.call(E,K)?yn(E[K],D[K])||(E[K].type==="geojson"&&D[K].type==="geojson"&&fi(E,D,K)?An(N,{command:"setGeoJSONSourceData",args:[K,D[K].data]}):gn(K,D,N,G)):Ni(K,D,N))})(f.sources,l.sources,v,m);const B=[];f.layers&&f.layers.forEach((E=>{"source"in E&&m[E.source]?h.push({command:"removeLayer",args:[E.id]}):B.push(E)})),h=h.concat(v),(function(E,D,N){D=D||[];const G=(E=E||[]).map(sn),K=D.map(sn),ae=E.reduce(Ue,{}),le=D.reduce(Ue,{}),ce=G.slice(),pe=Object.create(null);let me,_e,Le,Je,Pe;for(let Oe=0,it=0;Oe<G.length;Oe++)me=G[Oe],Object.prototype.hasOwnProperty.call(le,me)?it++:(An(N,{command:"removeLayer",args:[me]}),ce.splice(ce.indexOf(me,it),1));for(let Oe=0,it=0;Oe<K.length;Oe++)me=K[K.length-1-Oe],ce[ce.length-1-Oe]!==me&&(Object.prototype.hasOwnProperty.call(ae,me)?(An(N,{command:"removeLayer",args:[me]}),ce.splice(ce.lastIndexOf(me,ce.length-it),1)):it++,Je=ce[ce.length-Oe],An(N,{command:"addLayer",args:[le[me],Je]}),ce.splice(ce.length-Oe,0,me),pe[me]=!0);for(let Oe=0;Oe<K.length;Oe++)if(me=K[Oe],_e=ae[me],Le=le[me],!pe[me]&&!yn(_e,Le))if(yn(_e.source,Le.source)&&yn(_e["source-layer"],Le["source-layer"])&&yn(_e.type,Le.type)){for(Pe in Xi(_e.layout,Le.layout,N,me,null,"setLayoutProperty"),Xi(_e.paint,Le.paint,N,me,null,"setPaintProperty"),yn(_e.filter,Le.filter)||An(N,{command:"setFilter",args:[me,Le.filter]}),yn(_e.minzoom,Le.minzoom)&&yn(_e.maxzoom,Le.maxzoom)||An(N,{command:"setLayerZoomRange",args:[me,Le.minzoom,Le.maxzoom]}),_e)Object.prototype.hasOwnProperty.call(_e,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?Xi(_e[Pe],Le[Pe],N,me,Pe.slice(6),"setPaintProperty"):yn(_e[Pe],Le[Pe])||An(N,{command:"setLayerProperty",args:[me,Pe,Le[Pe]]}));for(Pe in Le)Object.prototype.hasOwnProperty.call(Le,Pe)&&!Object.prototype.hasOwnProperty.call(_e,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?Xi(_e[Pe],Le[Pe],N,me,Pe.slice(6),"setPaintProperty"):yn(_e[Pe],Le[Pe])||An(N,{command:"setLayerProperty",args:[me,Pe,Le[Pe]]}))}else An(N,{command:"removeLayer",args:[me]}),Je=ce[ce.lastIndexOf(me)+1],An(N,{command:"addLayer",args:[Le,Je]})})(B,l.layers,h)}catch(m){console.warn("Unable to compute style diff:",m),h=[{command:"setStyle",args:[l]}]}return h},o.bX=function(f){const l=[],h=f.id;return h===void 0&&l.push({message:`layers.${h}: missing required property "id"`}),f.render===void 0&&l.push({message:`layers.${h}: missing required method "render"`}),f.renderingMode&&f.renderingMode!=="2d"&&f.renderingMode!=="3d"&&l.push({message:`layers.${h}: property "renderingMode" must be either "2d" or "3d"`}),l},o.bY=Ii,o.bZ=oi,o.b_=class extends el{constructor(f,l){super(f,l),this.current=0}set(f){this.current!==f&&(this.current=f,this.gl.uniform1i(this.location,f))}},o.ba=function(f,l,h){return f[0]=l[0]*h,f[1]=l[1]*h,f[2]=l[2]*h,f[3]=l[3]*h,f},o.bb=function(f,l){return f[0]*l[0]+f[1]*l[1]+f[2]*l[2]+f[3]},o.bc=xE,o.bd=cp,o.be=function(f,l,h,m,v){var B=1/Math.tan(l/2);if(f[0]=B/h,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=B,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[11]=-1,f[12]=0,f[13]=0,f[15]=0,v!=null&&v!==1/0){var E=1/(m-v);f[10]=(v+m)*E,f[14]=2*v*m*E}else f[10]=-1,f[14]=-2*m;return f},o.bf=function(f){var l=new Y(16);return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],l[9]=f[9],l[10]=f[10],l[11]=f[11],l[12]=f[12],l[13]=f[13],l[14]=f[14],l[15]=f[15],l},o.bg=function(f,l,h){var m=Math.sin(h),v=Math.cos(h),B=l[0],E=l[1],D=l[2],N=l[3],G=l[4],K=l[5],ae=l[6],le=l[7];return l!==f&&(f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[0]=B*v+G*m,f[1]=E*v+K*m,f[2]=D*v+ae*m,f[3]=N*v+le*m,f[4]=G*v-B*m,f[5]=K*v-E*m,f[6]=ae*v-D*m,f[7]=le*v-N*m,f},o.bh=function(f,l,h){var m=Math.sin(h),v=Math.cos(h),B=l[4],E=l[5],D=l[6],N=l[7],G=l[8],K=l[9],ae=l[10],le=l[11];return l!==f&&(f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15]),f[4]=B*v+G*m,f[5]=E*v+K*m,f[6]=D*v+ae*m,f[7]=N*v+le*m,f[8]=G*v-B*m,f[9]=K*v-E*m,f[10]=ae*v-D*m,f[11]=le*v-N*m,f},o.bi=function(){const f=new Float32Array(16);return J(f),f},o.bj=function(){const f=new Float64Array(16);return J(f),f},o.bk=function(){return new Float64Array(16)},o.bl=function(f,l,h){const m=new Float64Array(4);return nt(m,f,l-90,h),m},o.bm=function(f,l,h,m){var v,B,E,D,N,G=l[0],K=l[1],ae=l[2],le=l[3],ce=h[0],pe=h[1],me=h[2],_e=h[3];return(B=G*ce+K*pe+ae*me+le*_e)<0&&(B=-B,ce=-ce,pe=-pe,me=-me,_e=-_e),1-B>Q?(v=Math.acos(B),E=Math.sin(v),D=Math.sin((1-m)*v)/E,N=Math.sin(m*v)/E):(D=1-m,N=m),f[0]=D*G+N*ce,f[1]=D*K+N*pe,f[2]=D*ae+N*me,f[3]=D*le+N*_e,f},o.bn=function(f){const l=new Float64Array(9);(function(B,E){var D=E[0],N=E[1],G=E[2],K=E[3],ae=D+D,le=N+N,ce=G+G,pe=D*ae,me=N*ae,_e=N*le,Le=G*ae,Je=G*le,Pe=G*ce,Oe=K*ae,it=K*le,lt=K*ce;B[0]=1-_e-Pe,B[3]=me-lt,B[6]=Le+it,B[1]=me+lt,B[4]=1-pe-Pe,B[7]=Je-Oe,B[2]=Le-it,B[5]=Je+Oe,B[8]=1-pe-_e})(l,f);const h=Fi(-Math.asin(mt(l[2],-1,1)));let m,v;return Math.hypot(l[5],l[8])<.001?(m=0,v=-Fi(Math.atan2(l[3],l[4]))):(m=Fi(l[5]===0&&l[8]===0?0:Math.atan2(l[5],l[8])),v=Fi(l[1]===0&&l[0]===0?0:Math.atan2(l[1],l[0]))),{roll:m,pitch:h+90,bearing:v}},o.bo=function(f,l){return f.roll==l.roll&&f.pitch==l.pitch&&f.bearing==l.bearing},o.bp=mn,o.bq=Nh,o.br=rp,o.bs=Zg,o.bt=ap,o.bu=Kt,o.bv=di,o.bw=Me,o.bx=function(f,l,h,m,v){return Kt(m,v,mt((f-l)/(h-l),0,1))},o.by=Pt,o.bz=function(){return new Float64Array(3)},o.c=st,o.c$=function(f,l,h,m,v){return s(this,void 0,void 0,(function*(){if(H())try{return yield Oi(f,l,h,m,v)}catch{}return(function(B,E,D,N,G){const K=B.width,ae=B.height;ui&&$i||(ui=new OffscreenCanvas(K,ae),$i=ui.getContext("2d",{willReadFrequently:!0})),ui.width=K,ui.height=ae,$i.drawImage(B,0,0,K,ae);const le=$i.getImageData(E,D,N,G);return $i.clearRect(0,0,K,ae),le.data})(f,l,h,m,v)}))},o.c0=class extends el{constructor(f,l){super(f,l),this.current=Ql}set(f){if(f[12]!==this.current[12]||f[0]!==this.current[0])return this.current=f,void this.gl.uniformMatrix4fv(this.location,!1,f);for(let l=1;l<16;l++)if(f[l]!==this.current[l]){this.current=f,this.gl.uniformMatrix4fv(this.location,!1,f);break}}},o.c1=If,o.c2=class extends el{constructor(f,l){super(f,l),this.current=[0,0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]&&f[2]===this.current[2]||(this.current=f,this.gl.uniform3f(this.location,f[0],f[1],f[2]))}},o.c3=class extends el{constructor(f,l){super(f,l),this.current=[0,0]}set(f){f[0]===this.current[0]&&f[1]===this.current[1]||(this.current=f,this.gl.uniform2f(this.location,f[0],f[1]))}},o.c4=Z,o.c5=function(f,l){var h=Math.sin(l),m=Math.cos(l);return f[0]=m,f[1]=h,f[2]=0,f[3]=-h,f[4]=m,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f},o.c6=function(f,l,h){var m=l[0],v=l[1],B=l[2];return f[0]=m*h[0]+v*h[3]+B*h[6],f[1]=m*h[1]+v*h[4]+B*h[7],f[2]=m*h[2]+v*h[5]+B*h[8],f},o.c7=function(f,l,h,m,v,B,E){var D=1/(l-h),N=1/(m-v),G=1/(B-E);return f[0]=-2*D,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=-2*N,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=2*G,f[11]=0,f[12]=(l+h)*D,f[13]=(v+m)*N,f[14]=(E+B)*G,f[15]=1,f},o.c8=class extends el{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(4*f.length);for(let h=0;h<f.length;h++)l[4*h]=f[h].r,l[4*h+1]=f[h].g,l[4*h+2]=f[h].b,l[4*h+3]=f[h].a;this.gl.uniform4fv(this.location,l)}}},o.c9=class extends el{constructor(f,l){super(f,l),this.current=new Array}set(f){if(f!=this.current){this.current=f;const l=new Float32Array(f);this.gl.uniform1fv(this.location,l)}}},o.cA=function(f,l){return ft[l]&&"touches"in f},o.cB=function(f){return ft[f]||xe[f]},o.cC=function(f,l,h){var m=l[0],v=l[1];return f[0]=h[0]*m+h[4]*v+h[12],f[1]=h[1]*m+h[5]*v+h[13],f},o.cD=function(f,l){const{x:h,y:m}=am.fromLngLat(l);return!(f<0||f>25||m<0||m>=1||h<0||h>=1)},o.cE=function(f,l){return f[0]=l[0],f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=l[1],f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=l[2],f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f},o.cF=class extends $A{},o.cG=IN,o.cI=Ve,o.cJ=function(f,l){st.REGISTERED_PROTOCOLS[f]=l},o.cK=function(f){delete st.REGISTERED_PROTOCOLS[f]},o.cL=function(f,l){const h={};for(let v=0;v<f.length;v++){const B=l&&l[f[v].id]||Oc(f[v]);l&&(l[f[v].id]=B);let E=h[B];E||(E=h[B]=[]),E.push(f[v])}const m=[];for(const v in h)m.push(h[v]);return m},o.cM=Zi,o.cN=vE,o.cO=JE,o.cP=iE,o.cQ=function(f){f.bucket.createArrays(),f.bucket.tilePixelRatio=Mt/(512*f.bucket.overscaling),f.bucket.compareText={},f.bucket.iconsNeedLinear=!1;const l=f.bucket.layers[0],h=l.layout,m=l._unevaluatedLayout._values,v={layoutIconSize:m["icon-size"].possiblyEvaluate(new cr(f.bucket.zoom+1),f.canonical),layoutTextSize:m["text-size"].possiblyEvaluate(new cr(f.bucket.zoom+1),f.canonical),textMaxSize:m["text-size"].possiblyEvaluate(new cr(18))};if(f.bucket.textSizeData.kind==="composite"){const{minZoom:G,maxZoom:K}=f.bucket.textSizeData;v.compositeTextSizes=[m["text-size"].possiblyEvaluate(new cr(G),f.canonical),m["text-size"].possiblyEvaluate(new cr(K),f.canonical)]}if(f.bucket.iconSizeData.kind==="composite"){const{minZoom:G,maxZoom:K}=f.bucket.iconSizeData;v.compositeIconSizes=[m["icon-size"].possiblyEvaluate(new cr(G),f.canonical),m["icon-size"].possiblyEvaluate(new cr(K),f.canonical)]}const B=h.get("text-line-height")*no,E=h.get("text-rotation-alignment")!=="viewport"&&h.get("symbol-placement")!=="point",D=h.get("text-keep-upright"),N=h.get("text-size");for(const G of f.bucket.features){const K=h.get("text-font").evaluate(G,{},f.canonical).join(","),ae=N.evaluate(G,{},f.canonical),le=v.layoutTextSize.evaluate(G,{},f.canonical),ce=v.layoutIconSize.evaluate(G,{},f.canonical),pe={horizontal:{},vertical:void 0},me=G.text;let _e,Le=[0,0];if(me){const Oe=me.toString(),it=h.get("text-letter-spacing").evaluate(G,{},f.canonical)*no,lt=Dh(Oe)?it:0,Rt=h.get("text-anchor").evaluate(G,{},f.canonical),ri=dk(l,G,f.canonical);if(!ri){const yi=h.get("text-radial-offset").evaluate(G,{},f.canonical);Le=yi?hk(Rt,[yi*no,Fw]):h.get("text-offset").evaluate(G,{},f.canonical).map((ii=>ii*no))}let ei=E?"center":h.get("text-justify").evaluate(G,{},f.canonical);const Ai=h.get("symbol-placement")==="point"?h.get("text-max-width").evaluate(G,{},f.canonical)*no:1/0,Ui=()=>{f.bucket.allowVerticalPlacement&&qr(Oe)&&(pe.vertical=By(me,f.glyphMap,f.glyphPositions,f.imagePositions,K,Ai,B,Rt,"left",lt,Le,o.az.vertical,!0,le,ae))};if(!E&&ri){const yi=new Set;if(ei==="auto")for(let Vt=0;Vt<ri.values.length;Vt+=2)yi.add(Pw(ri.values[Vt]));else yi.add(ei);let ii=!1;for(const Vt of yi)if(!pe.horizontal[Vt])if(ii)pe.horizontal[Vt]=pe.horizontal[0];else{const tn=By(me,f.glyphMap,f.glyphPositions,f.imagePositions,K,Ai,B,"center",Vt,lt,Le,o.az.horizontal,!1,le,ae);tn&&(pe.horizontal[Vt]=tn,ii=tn.positionedLines.length===1)}Ui()}else{ei==="auto"&&(ei=Pw(Rt));const yi=By(me,f.glyphMap,f.glyphPositions,f.imagePositions,K,Ai,B,Rt,ei,lt,Le,o.az.horizontal,!1,le,ae);yi&&(pe.horizontal[ei]=yi),Ui(),qr(Oe)&&E&&D&&(pe.vertical=By(me,f.glyphMap,f.glyphPositions,f.imagePositions,K,Ai,B,Rt,ei,lt,Le,o.az.vertical,!1,le,ae))}}let Je=!1;if(G.icon&&G.icon.name){const Oe=f.imageMap[G.icon.name];Oe&&(_e=NU(f.imagePositions[G.icon.name],h.get("icon-offset").evaluate(G,{},f.canonical),h.get("icon-anchor").evaluate(G,{},f.canonical)),Je=!!Oe.sdf,f.bucket.sdfIcons===void 0?f.bucket.sdfIcons=Je:f.bucket.sdfIcons!==Je&&Ji("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Oe.pixelRatio!==f.bucket.pixelRatio||h.get("icon-rotate").constantOr(1)!==0)&&(f.bucket.iconsNeedLinear=!0))}const Pe=Ak(pe.horizontal)||pe.vertical;f.bucket.iconsInText=!!Pe&&Pe.iconsInText,(Pe||_e)&&kN(f.bucket,G,pe,_e,f.imageMap,v,le,ce,Le,Je,f.canonical,f.subdivisionGranularity)}f.showCollisionBoxes&&f.bucket.generateCollisionDebugBuffers()},o.cR=iw,o.cS=aw,o.cT=rw,o.cU=function(f){const l=new Sy;return(function(h,m){for(const v in h.layers)m.writeMessage(3,AN,h.layers[v])})(f,l),l.finish()},o.cV=function(f,l,h,m,v,B){let E=ik(f,l,h,v,0);return E=ik(E,l,m,B,1),E},o.cW=class{constructor(f){this.maxEntries=f,this.map=new Map}get(f){const l=this.map.get(f);return l!==void 0&&(this.map.delete(f),this.map.set(f,l)),l}set(f,l){if(this.map.has(f))this.map.delete(f);else if(this.map.size>=this.maxEntries){const h=this.map.keys().next().value;this.map.delete(h)}this.map.set(f,l)}clear(){this.map.clear()}},o.cX=UB,o.cY=Sy,o.cZ=qE,o.c_=class{constructor(f){this._marks={start:[f.url,"start"].join("#"),end:[f.url,"end"].join("#"),measure:f.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let f=performance.getEntriesByName(this._marks.measure);return f.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),f=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),f}},o.ca=class extends Oh{},o.cb=mU,o.cc=class extends Tf{},o.cd=qv,o.ce=function(f){return f<=1?1:Math.pow(2,Math.ceil(Math.log(f)/Math.LN2))},o.cf=bB,o.cg=function(f,l,h){var m=l[0],v=l[1],B=l[2],E=h[3]*m+h[7]*v+h[11]*B+h[15];return f[0]=(h[0]*m+h[4]*v+h[8]*B+h[12])/(E=E||1),f[1]=(h[1]*m+h[5]*v+h[9]*B+h[13])/E,f[2]=(h[2]*m+h[6]*v+h[10]*B+h[14])/E,f},o.ch=class extends Ug{},o.ci=class extends c{},o.cj=function(f,l){return f[0]===l[0]&&f[1]===l[1]&&f[2]===l[2]&&f[3]===l[3]&&f[4]===l[4]&&f[5]===l[5]&&f[6]===l[6]&&f[7]===l[7]&&f[8]===l[8]&&f[9]===l[9]&&f[10]===l[10]&&f[11]===l[11]&&f[12]===l[12]&&f[13]===l[13]&&f[14]===l[14]&&f[15]===l[15]},o.ck=function(f,l){var h=f[0],m=f[1],v=f[2],B=f[3],E=f[4],D=f[5],N=f[6],G=f[7],K=f[8],ae=f[9],le=f[10],ce=f[11],pe=f[12],me=f[13],_e=f[14],Le=f[15],Je=l[0],Pe=l[1],Oe=l[2],it=l[3],lt=l[4],Rt=l[5],ri=l[6],ei=l[7],Ai=l[8],Ui=l[9],yi=l[10],ii=l[11],Vt=l[12],tn=l[13],Ki=l[14],dn=l[15];return Math.abs(h-Je)<=Q*Math.max(1,Math.abs(h),Math.abs(Je))&&Math.abs(m-Pe)<=Q*Math.max(1,Math.abs(m),Math.abs(Pe))&&Math.abs(v-Oe)<=Q*Math.max(1,Math.abs(v),Math.abs(Oe))&&Math.abs(B-it)<=Q*Math.max(1,Math.abs(B),Math.abs(it))&&Math.abs(E-lt)<=Q*Math.max(1,Math.abs(E),Math.abs(lt))&&Math.abs(D-Rt)<=Q*Math.max(1,Math.abs(D),Math.abs(Rt))&&Math.abs(N-ri)<=Q*Math.max(1,Math.abs(N),Math.abs(ri))&&Math.abs(G-ei)<=Q*Math.max(1,Math.abs(G),Math.abs(ei))&&Math.abs(K-Ai)<=Q*Math.max(1,Math.abs(K),Math.abs(Ai))&&Math.abs(ae-Ui)<=Q*Math.max(1,Math.abs(ae),Math.abs(Ui))&&Math.abs(le-yi)<=Q*Math.max(1,Math.abs(le),Math.abs(yi))&&Math.abs(ce-ii)<=Q*Math.max(1,Math.abs(ce),Math.abs(ii))&&Math.abs(pe-Vt)<=Q*Math.max(1,Math.abs(pe),Math.abs(Vt))&&Math.abs(me-tn)<=Q*Math.max(1,Math.abs(me),Math.abs(tn))&&Math.abs(_e-Ki)<=Q*Math.max(1,Math.abs(_e),Math.abs(Ki))&&Math.abs(Le-dn)<=Q*Math.max(1,Math.abs(Le),Math.abs(dn))},o.cl=function(f,l){return f[0]=l[0],f[1]=l[1],f[2]=l[2],f[3]=l[3],f[4]=l[4],f[5]=l[5],f[6]=l[6],f[7]=l[7],f[8]=l[8],f[9]=l[9],f[10]=l[10],f[11]=l[11],f[12]=l[12],f[13]=l[13],f[14]=l[14],f[15]=l[15],f},o.cm=f=>f.type==="symbol",o.cn=f=>f.type==="circle",o.co=f=>f.type==="heatmap",o.cp=f=>f.type==="line",o.cq=f=>f.type==="fill",o.cr=f=>f.type==="fill-extrusion",o.cs=f=>f.type==="hillshade",o.ct=f=>f.type==="color-relief",o.cu=f=>f.type==="background",o.cv=f=>f.type==="custom",o.cw=It,o.cx=function(f,l,h){const m=dt(l.x-h.x,l.y-h.y),v=dt(f.x-h.x,f.y-h.y),B=Math.atan2(m[0]*v[1]-m[1]*v[0],(function(E,D){return E[0]*D[0]+E[1]*D[1]})(m,v));return Fi(B)},o.cy=bt,o.cz=function(f,l){return xe[l]&&(f instanceof MouseEvent||f instanceof WheelEvent)},o.d=kt,o.d0=BB,o.d1=d,o.d2=class{constructor(f,l){this.layers={[om]:this},this.name=om,this.version=l?l.version:1,this.extent=l?l.extent:4096,this.length=f.length,this.features=f}feature(f){return new fN(this.features[f],this.extent)}},o.d3=cu,o.d4=qu,o.e=gi,o.f=f=>s(void 0,void 0,void 0,(function*(){if(f.byteLength===0)return createImageBitmap(new ImageData(1,1));const l=new Blob([new Uint8Array(f)],{type:"image/png"});try{return createImageBitmap(l)}catch(h){throw new Error(`Could not load image because of ${h.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),o.g=Ct,o.h=f=>new Promise(((l,h)=>{const m=new Image;m.onload=()=>{l(m),URL.revokeObjectURL(m.src),m.onload=null,window.requestAnimationFrame((()=>{m.src=ci}))},m.onerror=()=>h(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const v=new Blob([new Uint8Array(f)],{type:"image/png"});m.src=f.byteLength?URL.createObjectURL(v):ci})),o.i=xn,o.j=(f,l)=>jt(gi(f,{type:"json"}),l),o.k=Bi,o.l=bi,o.m=jt,o.n=(f,l)=>jt(gi(f,{type:"arrayBuffer"}),l),o.o=function(f){return new Sy(f).readFields(MU,[])},o.p=tE,o.q=function(f){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(f))},o.r=$g,o.s=wi,o.t=No,o.u=Tt,o.v=Dr,o.w=Ji,o.x=Rg,o.y=zl,o.z=vf})),n("worker",["./shared"],(function(o){class s{constructor(xe,we){this.keyCache={},xe&&this.replace(xe,we)}replace(xe,we){this._layerConfigs={},this._layers={},this.update(xe,[],we)}update(xe,we,Ee){for(const st of xe){this._layerConfigs[st.id]=st;const Ct=this._layers[st.id]=o.bT(st,Ee);Ct._featureFilter=o.aj(Ct.filter,Ee),this.keyCache[st.id]&&delete this.keyCache[st.id]}for(const st of we)delete this.keyCache[st],delete this._layerConfigs[st],delete this._layers[st];this.familiesBySource={};const tt=o.cL(Object.values(this._layerConfigs),this.keyCache);for(const st of tt){const Ct=st.map((Lt=>this._layers[Lt.id])),yt=Ct[0];if(yt.isHidden())continue;const Ve=yt.source||"";let xt=this.familiesBySource[Ve];xt||(xt=this.familiesBySource[Ve]={});const jt=yt.sourceLayer||o.ai;let kt=xt[jt];kt||(kt=xt[jt]=[]),kt.push(Ct)}}}class u{constructor(xe){const we={},Ee=[];for(const yt in xe){const Ve=xe[yt],xt=we[yt]={};for(const jt in Ve){const kt=Ve[+jt];if(!kt||kt.bitmap.width===0||kt.bitmap.height===0)continue;const Lt={x:0,y:0,w:kt.bitmap.width+2,h:kt.bitmap.height+2};Ee.push(Lt),xt[jt]={rect:Lt,metrics:kt.metrics}}}const{w:tt,h:st}=o.p(Ee),Ct=new o.r({width:tt||1,height:st||1});for(const yt in xe){const Ve=xe[yt];for(const xt in Ve){const jt=Ve[+xt];if(!jt||jt.bitmap.width===0||jt.bitmap.height===0)continue;const kt=we[yt][xt].rect;o.r.copy(jt.bitmap,Ct,{x:0,y:0},{x:kt.x+1,y:kt.y+1},jt.bitmap)}}this.image=Ct,this.positions=we}}o.cM("GlyphAtlas",u);class d{constructor(xe){this.tileID=new o.a2(xe.tileID.overscaledZ,xe.tileID.wrap,xe.tileID.canonical.z,xe.tileID.canonical.x,xe.tileID.canonical.y),this.uid=xe.uid,this.zoom=xe.zoom,this.pixelRatio=xe.pixelRatio,this.tileSize=xe.tileSize,this.source=xe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=xe.showCollisionBoxes,this.collectResourceTiming=!!xe.collectResourceTiming,this.returnDependencies=!!xe.returnDependencies,this.promoteId=xe.promoteId,this.inFlightDependencies=[]}parse(xe,we,Ee,tt,st){return o._(this,void 0,void 0,(function*(){this.status="parsing",this.data=xe,this.collisionBoxArray=new o.ag;const Ct=new o.cN(Object.keys(xe.layers).sort()),yt=new o.cO(this.tileID,this.promoteId);yt.bucketLayerIDs=[];const Ve={},xt={featureIndex:yt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:Ee,subdivisionGranularity:st},jt=we.familiesBySource[this.source];for(const fi in jt){const Xi=xe.layers[fi];if(!Xi)continue;Xi.version===1&&o.w(`Vector tile source "${this.source}" layer "${fi}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const sn=Ct.encode(fi),Ue=[];for(let Re=0;Re<Xi.length;Re++){const _t=Xi.feature(Re),ut=yt.getId(_t,fi);Ue.push({feature:_t,id:ut,index:Re,sourceLayerIndex:sn})}for(const Re of jt[fi]){const _t=Re[0];_t.source!==this.source&&o.w(`layer.source = ${_t.source} does not equal this.source = ${this.source}`),_t.isHidden(this.zoom,!0)||(g(Re,this.zoom,Ee),(Ve[_t.id]=_t.createBucket({index:yt.bucketLayerIDs.length,layers:Re,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:sn,sourceID:this.source})).populate(Ue,xt,this.tileID.canonical),yt.bucketLayerIDs.push(Re.map((ut=>ut.id))))}}const kt=o.bY(xt.glyphDependencies,(fi=>Object.keys(fi).map(Number)));this.inFlightDependencies.forEach((fi=>fi?.abort())),this.inFlightDependencies=[];let Lt=Promise.resolve({});if(Object.keys(kt).length){const fi=new AbortController;this.inFlightDependencies.push(fi),Lt=tt.sendAsync({type:"GG",data:{stacks:kt,source:this.source,tileID:this.tileID,type:"glyphs"}},fi)}const ai=Object.keys(xt.iconDependencies);let bi=Promise.resolve({});if(ai.length){const fi=new AbortController;this.inFlightDependencies.push(fi),bi=tt.sendAsync({type:"GI",data:{icons:ai,source:this.source,tileID:this.tileID,type:"icons"}},fi)}const Bi=Object.keys(xt.patternDependencies);let In=Promise.resolve({});if(Bi.length){const fi=new AbortController;this.inFlightDependencies.push(fi),In=tt.sendAsync({type:"GI",data:{icons:Bi,source:this.source,tileID:this.tileID,type:"patterns"}},fi)}const Tt=xt.dashDependencies;let Dn=Promise.resolve({});if(Object.keys(Tt).length){const fi=new AbortController;this.inFlightDependencies.push(fi),Dn=tt.sendAsync({type:"GDA",data:{dashes:Tt}},fi)}const[Kn,yn,An,Ni]=yield Promise.all([Lt,bi,In,Dn]),Di=new u(Kn),gn=new o.cP(yn,An);for(const fi in Ve){const Xi=Ve[fi];Xi instanceof o.ah?(g(Xi.layers,this.zoom,Ee),o.cQ({bucket:Xi,glyphMap:Kn,glyphPositions:Di.positions,imageMap:yn,imagePositions:gn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:xt.subdivisionGranularity})):Xi.hasDependencies&&(Xi instanceof o.cR||Xi instanceof o.cS||Xi instanceof o.cT)&&(g(Xi.layers,this.zoom,Ee),Xi.addFeatures(xt,this.tileID.canonical,gn.patternPositions,Ni))}return this.status="done",{buckets:Object.values(Ve).filter((fi=>!fi.isEmpty())),featureIndex:yt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Di.image,imageAtlas:gn,dashPositions:Ni,glyphMap:this.returnDependencies?Kn:null,iconMap:this.returnDependencies?yn:null,glyphPositions:this.returnDependencies?Di.positions:null}}))}}function g(ft,xe,we){const Ee=new o.H(xe);for(const tt of ft)tt.recalculate(Ee,we)}class x{constructor(xe,we,Ee,tt,st){this.type=xe,this.properties=Ee||{},this.extent=st,this.pointsArray=we,this.id=tt}loadGeometry(){return this.pointsArray.map((xe=>xe.map((we=>new o.P(we.x,we.y)))))}}class b{constructor(xe,we,Ee){this.version=2,this._myFeatures=xe,this.name=we,this.length=xe.length,this.extent=Ee}feature(xe){return this._myFeatures[xe]}}class S{constructor(){this.layers={}}addLayer(xe){this.layers[xe.name]=xe}}function P(ft){let xe=o.cU(ft);return xe.byteOffset===0&&xe.byteLength===xe.buffer.byteLength||(xe=new Uint8Array(xe)),{vectorTile:ft,rawData:xe.buffer}}function I(ft,xe,we){const{extent:Ee}=ft,tt=Math.pow(2,we.z-xe.z),st=(we.x-xe.x*tt)*Ee,Ct=(we.y-xe.y*tt)*Ee,yt=[];for(let Ve=0;Ve<ft.length;Ve++){const xt=ft.feature(Ve);let jt=xt.loadGeometry();for(const Lt of jt)for(const ai of Lt)ai.x=ai.x*tt-st,ai.y=ai.y*tt-Ct;const kt=128;jt=o.cV(jt,xt.type,-kt,-kt,Ee+kt,Ee+kt),jt.length!==0&&yt.push(new x(xt.type,jt,xt.properties,xt.id,Ee))}return new b(yt,ft.name,Ee)}class O{constructor(xe,we,Ee){this.actor=xe,this.layerIndex=we,this.availableImages=Ee,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new o.cW(1e3)}loadVectorTile(xe,we){return o._(this,void 0,void 0,(function*(){const Ee=yield o.n(xe.request,we);try{return{vectorTile:xe.encoding!=="mlt"?new o.cX(new o.cY(Ee.data)):new o.cZ(Ee.data),rawData:Ee.data,cacheControl:Ee.cacheControl,expires:Ee.expires}}catch(tt){const st=new Uint8Array(Ee.data);let Ct=`Unable to parse the tile at ${xe.request.url}, `;throw Ct+=st[0]===31&&st[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${tt.message}`,new Error(Ct)}}))}loadTile(xe){return o._(this,void 0,void 0,(function*(){const{uid:we,overzoomParameters:Ee}=xe;Ee&&(xe.request=Ee.overzoomRequest);const tt=!!(xe&&xe.request&&xe.request.collectResourceTiming)&&new o.c_(xe.request),st=new d(xe);this.loading[we]=st;const Ct=new AbortController;st.abort=Ct;try{const yt=yield this.loadVectorTile(xe,Ct);if(delete this.loading[we],!yt)return null;if(Ee){const Lt=this._getOverzoomTile(xe,yt.vectorTile);yt.rawData=Lt.rawData,yt.vectorTile=Lt.vectorTile}const Ve=yt.rawData,xt={};yt.expires&&(xt.expires=yt.expires),yt.cacheControl&&(xt.cacheControl=yt.cacheControl);const jt={};if(tt){const Lt=tt.finish();Lt&&(jt.resourceTiming=JSON.parse(JSON.stringify(Lt)))}st.vectorTile=yt.vectorTile;const kt=st.parse(yt.vectorTile,this.layerIndex,this.availableImages,this.actor,xe.subdivisionGranularity);this.loaded[we]=st,this.fetching[we]={rawTileData:Ve,cacheControl:xt,resourceTiming:jt};try{const Lt=yield kt;return o.e({rawTileData:Ve.slice(0),encoding:xe.encoding},Lt,xt,jt)}finally{delete this.fetching[we]}}catch(yt){throw delete this.loading[we],st.status="done",this.loaded[we]=st,yt}}))}_getOverzoomTile(xe,we){const{tileID:Ee,source:tt,overzoomParameters:st}=xe,{maxZoomTileID:Ct}=st,yt=`${Ct.key}_${Ee.key}`,Ve=this.overzoomedTileResultCache.get(yt);if(Ve)return Ve;const xt=new S,jt=this.layerIndex.familiesBySource[tt];for(const Lt in jt){const ai=we.layers[Lt];if(!ai)continue;const bi=I(ai,Ct,Ee.canonical);bi.length>0&&xt.addLayer(bi)}const kt=P(xt);return this.overzoomedTileResultCache.set(yt,kt),kt}reloadTile(xe){return o._(this,void 0,void 0,(function*(){const we=xe.uid;if(!this.loaded||!this.loaded[we])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Ee=this.loaded[we];if(Ee.showCollisionBoxes=xe.showCollisionBoxes,Ee.status==="parsing"){const tt=yield Ee.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,xe.subdivisionGranularity);let st;if(this.fetching[we]){const{rawTileData:Ct,cacheControl:yt,resourceTiming:Ve}=this.fetching[we];delete this.fetching[we],st=o.e({rawTileData:Ct.slice(0),encoding:xe.encoding},tt,yt,Ve)}else st=tt;return st}if(Ee.status==="done"&&Ee.vectorTile)return Ee.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,xe.subdivisionGranularity)}))}abortTile(xe){return o._(this,void 0,void 0,(function*(){const we=this.loading,Ee=xe.uid;we&&we[Ee]&&we[Ee].abort&&(we[Ee].abort.abort(),delete we[Ee])}))}removeTile(xe){return o._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[xe.uid]&&delete this.loaded[xe.uid]}))}}class H{constructor(){this.loaded={}}loadTile(xe){return o._(this,void 0,void 0,(function*(){const{uid:we,encoding:Ee,rawImageData:tt,redFactor:st,greenFactor:Ct,blueFactor:yt,baseShift:Ve}=xe,xt=tt.width+2,jt=tt.height+2,kt=o.b(tt)?new o.R({width:xt,height:jt},yield o.c$(tt,-1,-1,xt,jt)):tt,Lt=new o.d0(we,kt,Ee,st,Ct,yt,Ve);return this.loaded=this.loaded||{},this.loaded[we]=Lt,Lt}))}removeTile(xe){const we=this.loaded,Ee=xe.uid;we&&we[Ee]&&delete we[Ee]}}var Q,Y,Z=(function(){if(Y)return Q;function ft(we,Ee){if(we.length!==0){xe(we[0],Ee);for(var tt=1;tt<we.length;tt++)xe(we[tt],!Ee)}}function xe(we,Ee){for(var tt=0,st=0,Ct=0,yt=we.length,Ve=yt-1;Ct<yt;Ve=Ct++){var xt=(we[Ct][0]-we[Ve][0])*(we[Ve][1]+we[Ct][1]),jt=tt+xt;st+=Math.abs(tt)>=Math.abs(xt)?tt-jt+xt:xt-jt+tt,tt=jt}tt+st>=0!=!!Ee&&we.reverse()}return Y=1,Q=function we(Ee,tt){var st,Ct=Ee&&Ee.type;if(Ct==="FeatureCollection")for(st=0;st<Ee.features.length;st++)we(Ee.features[st],tt);else if(Ct==="GeometryCollection")for(st=0;st<Ee.geometries.length;st++)we(Ee.geometries[st],tt);else if(Ct==="Feature")we(Ee.geometry,tt);else if(Ct==="Polygon")ft(Ee.coordinates,tt);else if(Ct==="MultiPolygon")for(st=0;st<Ee.coordinates.length;st++)ft(Ee.coordinates[st],tt);return Ee}})(),J=o.d1(Z);const re={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ft=>ft},q=Math.fround||(ne=new Float32Array(1),ft=>(ne[0]=+ft,ne[0]));var ne;class te{constructor(xe){this.options=Object.assign(Object.create(re),xe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(xe){const{log:we,minZoom:Ee,maxZoom:tt}=this.options;we&&console.time("total time");const st=`prepare ${xe.length} points`;we&&console.time(st),this.points=xe;const Ct=[];for(let Ve=0;Ve<xe.length;Ve++){const xt=xe[Ve];if(!xt.geometry)continue;const[jt,kt]=xt.geometry.coordinates,Lt=q(de(jt)),ai=q(be(kt));Ct.push(Lt,ai,1/0,Ve,-1,1),this.options.reduce&&Ct.push(0)}let yt=this.trees[tt+1]=this._createTree(Ct);we&&console.timeEnd(st);for(let Ve=tt;Ve>=Ee;Ve--){const xt=+Date.now();yt=this.trees[Ve]=this._createTree(this._cluster(yt,Ve)),we&&console.log("z%d: %d clusters in %dms",Ve,yt.numItems,+Date.now()-xt)}return we&&console.timeEnd("total time"),this}getClusters(xe,we){let Ee=((xe[0]+180)%360+360)%360-180;const tt=Math.max(-90,Math.min(90,xe[1]));let st=xe[2]===180?180:((xe[2]+180)%360+360)%360-180;const Ct=Math.max(-90,Math.min(90,xe[3]));if(xe[2]-xe[0]>=360)Ee=-180,st=180;else if(Ee>st){const kt=this.getClusters([Ee,tt,180,Ct],we),Lt=this.getClusters([-180,tt,st,Ct],we);return kt.concat(Lt)}const yt=this.trees[this._limitZoom(we)],Ve=yt.range(de(Ee),be(Ct),de(st),be(tt)),xt=yt.data,jt=[];for(const kt of Ve){const Lt=this.stride*kt;jt.push(xt[Lt+5]>1?he(xt,Lt,this.clusterProps):this.points[xt[Lt+3]])}return jt}getChildren(xe){const we=this._getOriginId(xe),Ee=this._getOriginZoom(xe),tt="No cluster with the specified id.",st=this.trees[Ee];if(!st)throw new Error(tt);const Ct=st.data;if(we*this.stride>=Ct.length)throw new Error(tt);const yt=this.options.radius/(this.options.extent*Math.pow(2,Ee-1)),Ve=st.within(Ct[we*this.stride],Ct[we*this.stride+1],yt),xt=[];for(const jt of Ve){const kt=jt*this.stride;Ct[kt+4]===xe&&xt.push(Ct[kt+5]>1?he(Ct,kt,this.clusterProps):this.points[Ct[kt+3]])}if(xt.length===0)throw new Error(tt);return xt}getLeaves(xe,we,Ee){const tt=[];return this._appendLeaves(tt,xe,we=we||10,Ee=Ee||0,0),tt}getTile(xe,we,Ee){const tt=this.trees[this._limitZoom(xe)],st=Math.pow(2,xe),{extent:Ct,radius:yt}=this.options,Ve=yt/Ct,xt=(Ee-Ve)/st,jt=(Ee+1+Ve)/st,kt={features:[]};return this._addTileFeatures(tt.range((we-Ve)/st,xt,(we+1+Ve)/st,jt),tt.data,we,Ee,st,kt),we===0&&this._addTileFeatures(tt.range(1-Ve/st,xt,1,jt),tt.data,st,Ee,st,kt),we===st-1&&this._addTileFeatures(tt.range(0,xt,Ve/st,jt),tt.data,-1,Ee,st,kt),kt.features.length?kt:null}getClusterExpansionZoom(xe){let we=this._getOriginZoom(xe)-1;for(;we<=this.options.maxZoom;){const Ee=this.getChildren(xe);if(we++,Ee.length!==1)break;xe=Ee[0].properties.cluster_id}return we}_appendLeaves(xe,we,Ee,tt,st){const Ct=this.getChildren(we);for(const yt of Ct){const Ve=yt.properties;if(Ve&&Ve.cluster?st+Ve.point_count<=tt?st+=Ve.point_count:st=this._appendLeaves(xe,Ve.cluster_id,Ee,tt,st):st<tt?st++:xe.push(yt),xe.length===Ee)break}return st}_createTree(xe){const we=new o.aT(xe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ee=0;Ee<xe.length;Ee+=this.stride)we.add(xe[Ee],xe[Ee+1]);return we.finish(),we.data=xe,we}_addTileFeatures(xe,we,Ee,tt,st,Ct){for(const yt of xe){const Ve=yt*this.stride,xt=we[Ve+5]>1;let jt,kt,Lt;if(xt)jt=ve(we,Ve,this.clusterProps),kt=we[Ve],Lt=we[Ve+1];else{const Bi=this.points[we[Ve+3]];jt=Bi.properties;const[In,Tt]=Bi.geometry.coordinates;kt=de(In),Lt=be(Tt)}const ai={type:1,geometry:[[Math.round(this.options.extent*(kt*st-Ee)),Math.round(this.options.extent*(Lt*st-tt))]],tags:jt};let bi;bi=xt||this.options.generateId?we[Ve+3]:this.points[we[Ve+3]].id,bi!==void 0&&(ai.id=bi),Ct.features.push(ai)}}_limitZoom(xe){return Math.max(this.options.minZoom,Math.min(Math.floor(+xe),this.options.maxZoom+1))}_cluster(xe,we){const{radius:Ee,extent:tt,reduce:st,minPoints:Ct}=this.options,yt=Ee/(tt*Math.pow(2,we)),Ve=xe.data,xt=[],jt=this.stride;for(let kt=0;kt<Ve.length;kt+=jt){if(Ve[kt+2]<=we)continue;Ve[kt+2]=we;const Lt=Ve[kt],ai=Ve[kt+1],bi=xe.within(Ve[kt],Ve[kt+1],yt),Bi=Ve[kt+5];let In=Bi;for(const Tt of bi){const Dn=Tt*jt;Ve[Dn+2]>we&&(In+=Ve[Dn+5])}if(In>Bi&&In>=Ct){let Tt,Dn=Lt*Bi,Kn=ai*Bi,yn=-1;const An=(kt/jt<<5)+(we+1)+this.points.length;for(const Ni of bi){const Di=Ni*jt;if(Ve[Di+2]<=we)continue;Ve[Di+2]=we;const gn=Ve[Di+5];Dn+=Ve[Di]*gn,Kn+=Ve[Di+1]*gn,Ve[Di+4]=An,st&&(Tt||(Tt=this._map(Ve,kt,!0),yn=this.clusterProps.length,this.clusterProps.push(Tt)),st(Tt,this._map(Ve,Di)))}Ve[kt+4]=An,xt.push(Dn/In,Kn/In,1/0,An,-1,In),st&&xt.push(yn)}else{for(let Tt=0;Tt<jt;Tt++)xt.push(Ve[kt+Tt]);if(In>1)for(const Tt of bi){const Dn=Tt*jt;if(!(Ve[Dn+2]<=we)){Ve[Dn+2]=we;for(let Kn=0;Kn<jt;Kn++)xt.push(Ve[Dn+Kn])}}}}return xt}_getOriginId(xe){return xe-this.points.length>>5}_getOriginZoom(xe){return(xe-this.points.length)%32}_map(xe,we,Ee){if(xe[we+5]>1){const Ct=this.clusterProps[xe[we+6]];return Ee?Object.assign({},Ct):Ct}const tt=this.points[xe[we+3]].properties,st=this.options.map(tt);return Ee&&st===tt?Object.assign({},st):st}}function he(ft,xe,we){return{type:"Feature",id:ft[xe+3],properties:ve(ft,xe,we),geometry:{type:"Point",coordinates:[(Ee=ft[xe],360*(Ee-.5)),De(ft[xe+1])]}};var Ee}function ve(ft,xe,we){const Ee=ft[xe+5],tt=Ee>=1e4?`${Math.round(Ee/1e3)}k`:Ee>=1e3?Math.round(Ee/100)/10+"k":Ee,st=ft[xe+6],Ct=st===-1?{}:Object.assign({},we[st]);return Object.assign(Ct,{cluster:!0,cluster_id:ft[xe+3],point_count:Ee,point_count_abbreviated:tt})}function de(ft){return ft/360+.5}function be(ft){const xe=Math.sin(ft*Math.PI/180),we=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return we<0?0:we>1?1:we}function De(ft){const xe=(180-360*ft)*Math.PI/180;return 360*Math.atan(Math.exp(xe))/Math.PI-90}function Ie(ft,xe,we,Ee){let tt=Ee;const st=xe+(we-xe>>1);let Ct,yt=we-xe;const Ve=ft[xe],xt=ft[xe+1],jt=ft[we],kt=ft[we+1];for(let Lt=xe+3;Lt<we;Lt+=3){const ai=nt(ft[Lt],ft[Lt+1],Ve,xt,jt,kt);if(ai>tt)Ct=Lt,tt=ai;else if(ai===tt){const bi=Math.abs(Lt-st);bi<yt&&(Ct=Lt,yt=bi)}}tt>Ee&&(Ct-xe>3&&Ie(ft,xe,Ct,Ee),ft[Ct+2]=tt,we-Ct>3&&Ie(ft,Ct,we,Ee))}function nt(ft,xe,we,Ee,tt,st){let Ct=tt-we,yt=st-Ee;if(Ct!==0||yt!==0){const Ve=((ft-we)*Ct+(xe-Ee)*yt)/(Ct*Ct+yt*yt);Ve>1?(we=tt,Ee=st):Ve>0&&(we+=Ct*Ve,Ee+=yt*Ve)}return Ct=ft-we,yt=xe-Ee,Ct*Ct+yt*yt}function je(ft,xe,we,Ee){const tt={id:ft??null,type:xe,geometry:we,tags:Ee,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(xe==="Point"||xe==="MultiPoint"||xe==="LineString")dt(tt,we);else if(xe==="Polygon")dt(tt,we[0]);else if(xe==="MultiLineString")for(const st of we)dt(tt,st);else if(xe==="MultiPolygon")for(const st of we)dt(tt,st[0]);return tt}function dt(ft,xe){for(let we=0;we<xe.length;we+=3)ft.minX=Math.min(ft.minX,xe[we]),ft.minY=Math.min(ft.minY,xe[we+1]),ft.maxX=Math.max(ft.maxX,xe[we]),ft.maxY=Math.max(ft.maxY,xe[we+1])}function Mt(ft,xe,we,Ee){if(!xe.geometry)return;const tt=xe.geometry.coordinates;if(tt&&tt.length===0)return;const st=xe.geometry.type,Ct=Math.pow(we.tolerance/((1<<we.maxZoom)*we.extent),2);let yt=[],Ve=xe.id;if(we.promoteId?Ve=xe.properties[we.promoteId]:we.generateId&&(Ve=Ee||0),st==="Point")We(tt,yt);else if(st==="MultiPoint")for(const xt of tt)We(xt,yt);else if(st==="LineString")Pt(tt,yt,Ct,!1);else if(st==="MultiLineString"){if(we.lineMetrics){for(const xt of tt)yt=[],Pt(xt,yt,Ct,!1),ft.push(je(Ve,"LineString",yt,xe.properties));return}Kt(tt,yt,Ct,!1)}else if(st==="Polygon")Kt(tt,yt,Ct,!0);else{if(st!=="MultiPolygon"){if(st==="GeometryCollection"){for(const xt of xe.geometry.geometries)Mt(ft,{id:Ve,geometry:xt,properties:xe.properties},we,Ee);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const xt of tt){const jt=[];Kt(xt,jt,Ct,!0),yt.push(jt)}}ft.push(je(Ve,st,yt,xe.properties))}function We(ft,xe){xe.push(di(ft[0]),It(ft[1]),0)}function Pt(ft,xe,we,Ee){let tt,st,Ct=0;for(let Ve=0;Ve<ft.length;Ve++){const xt=di(ft[Ve][0]),jt=It(ft[Ve][1]);xe.push(xt,jt,0),Ve>0&&(Ct+=Ee?(tt*jt-xt*st)/2:Math.sqrt(Math.pow(xt-tt,2)+Math.pow(jt-st,2))),tt=xt,st=jt}const yt=xe.length-3;xe[2]=1,Ie(xe,0,yt,we),xe[yt+2]=1,xe.size=Math.abs(Ct),xe.start=0,xe.end=xe.size}function Kt(ft,xe,we,Ee){for(let tt=0;tt<ft.length;tt++){const st=[];Pt(ft[tt],st,we,Ee),xe.push(st)}}function di(ft){return ft/360+.5}function It(ft){const xe=Math.sin(ft*Math.PI/180),we=.5-.25*Math.log((1+xe)/(1-xe))/Math.PI;return we<0?0:we>1?1:we}function bt(ft,xe,we,Ee,tt,st,Ct,yt){if(Ee/=xe,st>=(we/=xe)&&Ct<Ee)return ft;if(Ct<we||st>=Ee)return null;const Ve=[];for(const xt of ft){const jt=xt.geometry;let kt=xt.type;const Lt=tt===0?xt.minX:xt.minY,ai=tt===0?xt.maxX:xt.maxY;if(Lt>=we&&ai<Ee){Ve.push(xt);continue}if(ai<we||Lt>=Ee)continue;let bi=[];if(kt==="Point"||kt==="MultiPoint")mt(jt,bi,we,Ee,tt);else if(kt==="LineString")si(jt,bi,we,Ee,tt,!1,yt.lineMetrics);else if(kt==="MultiLineString")Vi(jt,bi,we,Ee,tt,!1);else if(kt==="Polygon")Vi(jt,bi,we,Ee,tt,!0);else if(kt==="MultiPolygon")for(const Bi of jt){const In=[];Vi(Bi,In,we,Ee,tt,!0),In.length&&bi.push(In)}if(bi.length){if(yt.lineMetrics&&kt==="LineString"){for(const Bi of bi)Ve.push(je(xt.id,kt,Bi,xt.tags));continue}kt!=="LineString"&&kt!=="MultiLineString"||(bi.length===1?(kt="LineString",bi=bi[0]):kt="MultiLineString"),kt!=="Point"&&kt!=="MultiPoint"||(kt=bi.length===3?"Point":"MultiPoint"),Ve.push(je(xt.id,kt,bi,xt.tags))}}return Ve.length?Ve:null}function mt(ft,xe,we,Ee,tt){for(let st=0;st<ft.length;st+=3){const Ct=ft[st+tt];Ct>=we&&Ct<=Ee&&Ii(xe,ft[st],ft[st+1],ft[st+2])}}function si(ft,xe,we,Ee,tt,st,Ct){let yt=gi(ft);const Ve=tt===0?oi:fn;let xt,jt,kt=ft.start;for(let In=0;In<ft.length-3;In+=3){const Tt=ft[In],Dn=ft[In+1],Kn=ft[In+2],yn=ft[In+3],An=ft[In+4],Ni=tt===0?Tt:Dn,Di=tt===0?yn:An;let gn=!1;Ct&&(xt=Math.sqrt(Math.pow(Tt-yn,2)+Math.pow(Dn-An,2))),Ni<we?Di>we&&(jt=Ve(yt,Tt,Dn,yn,An,we),Ct&&(yt.start=kt+xt*jt)):Ni>Ee?Di<Ee&&(jt=Ve(yt,Tt,Dn,yn,An,Ee),Ct&&(yt.start=kt+xt*jt)):Ii(yt,Tt,Dn,Kn),Di<we&&Ni>=we&&(jt=Ve(yt,Tt,Dn,yn,An,we),gn=!0),Di>Ee&&Ni<=Ee&&(jt=Ve(yt,Tt,Dn,yn,An,Ee),gn=!0),!st&&gn&&(Ct&&(yt.end=kt+xt*jt),xe.push(yt),yt=gi(ft)),Ct&&(kt+=xt)}let Lt=ft.length-3;const ai=ft[Lt],bi=ft[Lt+1],Bi=tt===0?ai:bi;Bi>=we&&Bi<=Ee&&Ii(yt,ai,bi,ft[Lt+2]),Lt=yt.length-3,st&&Lt>=3&&(yt[Lt]!==yt[0]||yt[Lt+1]!==yt[1])&&Ii(yt,yt[0],yt[1],yt[2]),yt.length&&xe.push(yt)}function gi(ft){const xe=[];return xe.size=ft.size,xe.start=ft.start,xe.end=ft.end,xe}function Vi(ft,xe,we,Ee,tt,st){for(const Ct of ft)si(Ct,xe,we,Ee,tt,st,!1)}function Ii(ft,xe,we,Ee){ft.push(xe,we,Ee)}function oi(ft,xe,we,Ee,tt,st){const Ct=(st-xe)/(Ee-xe);return Ii(ft,st,we+(tt-we)*Ct,1),Ct}function fn(ft,xe,we,Ee,tt,st){const Ct=(st-we)/(tt-we);return Ii(ft,xe+(Ee-xe)*Ct,st,1),Ct}function Mi(ft,xe){const we=[];for(let Ee=0;Ee<ft.length;Ee++){const tt=ft[Ee],st=tt.type;let Ct;if(st==="Point"||st==="MultiPoint"||st==="LineString")Ct=Ji(tt.geometry,xe);else if(st==="MultiLineString"||st==="Polygon"){Ct=[];for(const yt of tt.geometry)Ct.push(Ji(yt,xe))}else if(st==="MultiPolygon"){Ct=[];for(const yt of tt.geometry){const Ve=[];for(const xt of yt)Ve.push(Ji(xt,xe));Ct.push(Ve)}}we.push(je(tt.id,st,Ct,tt.tags))}return we}function Ji(ft,xe){const we=[];we.size=ft.size,ft.start!==void 0&&(we.start=ft.start,we.end=ft.end);for(let Ee=0;Ee<ft.length;Ee+=3)we.push(ft[Ee]+xe,ft[Ee+1],ft[Ee+2]);return we}function rn(ft,xe){if(ft.transformed)return ft;const we=1<<ft.z,Ee=ft.x,tt=ft.y;for(const st of ft.features){const Ct=st.geometry,yt=st.type;if(st.geometry=[],yt===1)for(let Ve=0;Ve<Ct.length;Ve+=2)st.geometry.push(xn(Ct[Ve],Ct[Ve+1],xe,we,Ee,tt));else for(let Ve=0;Ve<Ct.length;Ve++){const xt=[];for(let jt=0;jt<Ct[Ve].length;jt+=2)xt.push(xn(Ct[Ve][jt],Ct[Ve][jt+1],xe,we,Ee,tt));st.geometry.push(xt)}}return ft.transformed=!0,ft}function xn(ft,xe,we,Ee,tt,st){return[Math.round(we*(ft*Ee-tt)),Math.round(we*(xe*Ee-st))]}function Ye(ft,xe,we,Ee,tt){const st=xe===tt.maxZoom?0:tt.tolerance/((1<<xe)*tt.extent),Ct={features:[],numPoints:0,numSimplified:0,numFeatures:ft.length,source:null,x:we,y:Ee,z:xe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const yt of ft)Yt(Ct,yt,st,tt);return Ct}function Yt(ft,xe,we,Ee){const tt=xe.geometry,st=xe.type,Ct=[];if(ft.minX=Math.min(ft.minX,xe.minX),ft.minY=Math.min(ft.minY,xe.minY),ft.maxX=Math.max(ft.maxX,xe.maxX),ft.maxY=Math.max(ft.maxY,xe.maxY),st==="Point"||st==="MultiPoint")for(let yt=0;yt<tt.length;yt+=3)Ct.push(tt[yt],tt[yt+1]),ft.numPoints++,ft.numSimplified++;else if(st==="LineString")ci(Ct,tt,ft,we,!1,!1);else if(st==="MultiLineString"||st==="Polygon")for(let yt=0;yt<tt.length;yt++)ci(Ct,tt[yt],ft,we,st==="Polygon",yt===0);else if(st==="MultiPolygon")for(let yt=0;yt<tt.length;yt++){const Ve=tt[yt];for(let xt=0;xt<Ve.length;xt++)ci(Ct,Ve[xt],ft,we,!0,xt===0)}if(Ct.length){let yt=xe.tags||null;if(st==="LineString"&&Ee.lineMetrics){yt={};for(const xt in xe.tags)yt[xt]=xe.tags[xt];yt.mapbox_clip_start=tt.start/tt.size,yt.mapbox_clip_end=tt.end/tt.size}const Ve={geometry:Ct,type:st==="Polygon"||st==="MultiPolygon"?3:st==="LineString"||st==="MultiLineString"?2:1,tags:yt};xe.id!==null&&(Ve.id=xe.id),ft.features.push(Ve)}}function ci(ft,xe,we,Ee,tt,st){const Ct=Ee*Ee;if(Ee>0&&xe.size<(tt?Ct:Ee))return void(we.numPoints+=xe.length/3);const yt=[];for(let Ve=0;Ve<xe.length;Ve+=3)(Ee===0||xe[Ve+2]>Ct)&&(we.numSimplified++,yt.push(xe[Ve],xe[Ve+1])),we.numPoints++;tt&&(function(Ve,xt){let jt=0;for(let kt=0,Lt=Ve.length,ai=Lt-2;kt<Lt;ai=kt,kt+=2)jt+=(Ve[kt]-Ve[ai])*(Ve[kt+1]+Ve[ai+1]);if(jt>0===xt)for(let kt=0,Lt=Ve.length;kt<Lt/2;kt+=2){const ai=Ve[kt],bi=Ve[kt+1];Ve[kt]=Ve[Lt-2-kt],Ve[kt+1]=Ve[Lt-1-kt],Ve[Lt-2-kt]=ai,Ve[Lt-1-kt]=bi}})(yt,st),ft.push(yt)}const Oi={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class ui{constructor(xe,we){const Ee=(we=this.options=(function(st,Ct){for(const yt in Ct)st[yt]=Ct[yt];return st})(Object.create(Oi),we)).debug;if(Ee&&console.time("preprocess data"),we.maxZoom<0||we.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(we.promoteId&&we.generateId)throw new Error("promoteId and generateId cannot be used together.");let tt=(function(st,Ct){const yt=[];if(st.type==="FeatureCollection")for(let Ve=0;Ve<st.features.length;Ve++)Mt(yt,st.features[Ve],Ct,Ve);else Mt(yt,st.type==="Feature"?st:{geometry:st},Ct);return yt})(xe,we);this.tiles={},this.tileCoords=[],Ee&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",we.indexMaxZoom,we.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),tt=(function(st,Ct){const yt=Ct.buffer/Ct.extent;let Ve=st;const xt=bt(st,1,-1-yt,yt,0,-1,2,Ct),jt=bt(st,1,1-yt,2+yt,0,-1,2,Ct);return(xt||jt)&&(Ve=bt(st,1,-yt,1+yt,0,-1,2,Ct)||[],xt&&(Ve=Mi(xt,1).concat(Ve)),jt&&(Ve=Ve.concat(Mi(jt,-1)))),Ve})(tt,we),tt.length&&this.splitTile(tt,0,0,0),Ee&&(tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(xe,we,Ee,tt,st,Ct,yt){const Ve=[xe,we,Ee,tt],xt=this.options,jt=xt.debug;for(;Ve.length;){tt=Ve.pop(),Ee=Ve.pop(),we=Ve.pop(),xe=Ve.pop();const kt=1<<we,Lt=$i(we,Ee,tt);let ai=this.tiles[Lt];if(!ai&&(jt>1&&console.time("creation"),ai=this.tiles[Lt]=Ye(xe,we,Ee,tt,xt),this.tileCoords.push({z:we,x:Ee,y:tt}),jt)){jt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",we,Ee,tt,ai.numFeatures,ai.numPoints,ai.numSimplified),console.timeEnd("creation"));const gn=`z${we}`;this.stats[gn]=(this.stats[gn]||0)+1,this.total++}if(ai.source=xe,st==null){if(we===xt.indexMaxZoom||ai.numPoints<=xt.indexMaxPoints)continue}else{if(we===xt.maxZoom||we===st)continue;if(st!=null){const gn=st-we;if(Ee!==Ct>>gn||tt!==yt>>gn)continue}}if(ai.source=null,xe.length===0)continue;jt>1&&console.time("clipping");const bi=.5*xt.buffer/xt.extent,Bi=.5-bi,In=.5+bi,Tt=1+bi;let Dn=null,Kn=null,yn=null,An=null,Ni=bt(xe,kt,Ee-bi,Ee+In,0,ai.minX,ai.maxX,xt),Di=bt(xe,kt,Ee+Bi,Ee+Tt,0,ai.minX,ai.maxX,xt);xe=null,Ni&&(Dn=bt(Ni,kt,tt-bi,tt+In,1,ai.minY,ai.maxY,xt),Kn=bt(Ni,kt,tt+Bi,tt+Tt,1,ai.minY,ai.maxY,xt),Ni=null),Di&&(yn=bt(Di,kt,tt-bi,tt+In,1,ai.minY,ai.maxY,xt),An=bt(Di,kt,tt+Bi,tt+Tt,1,ai.minY,ai.maxY,xt),Di=null),jt>1&&console.timeEnd("clipping"),Ve.push(Dn||[],we+1,2*Ee,2*tt),Ve.push(Kn||[],we+1,2*Ee,2*tt+1),Ve.push(yn||[],we+1,2*Ee+1,2*tt),Ve.push(An||[],we+1,2*Ee+1,2*tt+1)}}getTile(xe,we,Ee){xe=+xe,we=+we,Ee=+Ee;const tt=this.options,{extent:st,debug:Ct}=tt;if(xe<0||xe>24)return null;const yt=1<<xe,Ve=$i(xe,we=we+yt&yt-1,Ee);if(this.tiles[Ve])return rn(this.tiles[Ve],st);Ct>1&&console.log("drilling down to z%d-%d-%d",xe,we,Ee);let xt,jt=xe,kt=we,Lt=Ee;for(;!xt&&jt>0;)jt--,kt>>=1,Lt>>=1,xt=this.tiles[$i(jt,kt,Lt)];return xt&&xt.source?(Ct>1&&(console.log("found parent tile z%d-%d-%d",jt,kt,Lt),console.time("drilling down")),this.splitTile(xt.source,jt,kt,Lt,xe,we,Ee),Ct>1&&console.timeEnd("drilling down"),this.tiles[Ve]?rn(this.tiles[Ve],st):null):null}}function $i(ft,xe,we){return 32*((1<<ft)*we+xe)+ft}class wi extends O{constructor(xe,we,Ee,tt=Ei){super(xe,we,Ee),this._dataUpdateable=new Map,this._createGeoJSONIndex=tt}loadVectorTile(xe,we){return o._(this,void 0,void 0,(function*(){const Ee=xe.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const tt=this._geoJSONIndex.getTile(Ee.z,Ee.x,Ee.y);return tt?P(new o.d2(tt.features,{version:2,extent:o.a5})):null}))}loadData(xe){return o._(this,void 0,void 0,(function*(){var we;(we=this._pendingRequest)===null||we===void 0||we.abort();const Ee=this._startPerformance(xe);this._pendingRequest=new AbortController;try{(!this._pendingData||xe.request||xe.data||xe.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(xe,this._pendingRequest));const tt=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(tt,xe),this.loaded={};const st={};return xe.request&&(st.data=tt),this._finishPerformance(Ee,xe,st),st}catch(tt){if(delete this._pendingRequest,o.Z(tt))return{abandoned:!0};throw tt}}))}_startPerformance(xe){var we;if(!((we=xe?.request)===null||we===void 0)&&we.collectResourceTiming)return new o.c_(xe.request)}_finishPerformance(xe,we,Ee){if(!xe)return;const tt=xe.finish();tt&&(Ee.resourceTiming={},Ee.resourceTiming[we.source]=JSON.parse(JSON.stringify(tt)))}getData(){return o._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(xe){const we=this.loaded;return we&&we[xe.uid]?super.reloadTile(xe):this.loadTile(xe)}loadAndProcessGeoJSON(xe,we){return o._(this,void 0,void 0,(function*(){let Ee;if(xe.request?Ee=yield this.loadGeoJSONFromUrl(xe.request,xe.promoteId,we):xe.data?Ee=this._loadGeoJSONFromObject(xe.data,xe.promoteId):xe.dataDiff&&(Ee=this._loadGeoJSONFromDiff(xe.dataDiff,xe.promoteId,xe.source)),delete this._pendingRequest,typeof Ee!="object")throw new Error(`Input data given to '${xe.source}' is not a valid GeoJSON object.`);return J(Ee,!0),xe.filter&&(Ee=this._filterGeoJSON(Ee,xe.filter)),Ee}))}loadGeoJSONFromUrl(xe,we,Ee){return o._(this,void 0,void 0,(function*(){const tt=yield o.j(xe,Ee);return this._dataUpdateable=o.a7(tt.data,we),tt.data}))}_loadGeoJSONFromObject(xe,we){return this._dataUpdateable=o.a7(xe,we),xe}_loadGeoJSONFromDiff(xe,we,Ee){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${Ee}`);o.a8(this._dataUpdateable,xe,we);const tt=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(tt)}_filterGeoJSON(xe,we){const Ee=o.d3(we,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ee.result==="error")throw new Error(Ee.value.map((st=>`${st.key}: ${st.message}`)).join(", "));const tt=xe.features.filter((st=>Ee.value.evaluate({zoom:0},st)));return this._toFeatureCollection(tt)}_toFeatureCollection(xe){return{type:"FeatureCollection",features:xe}}removeSource(xe){return o._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(xe){return this._geoJSONIndex.getClusterExpansionZoom(xe.clusterId)}getClusterChildren(xe){return this._geoJSONIndex.getChildren(xe.clusterId)}getClusterLeaves(xe){return this._geoJSONIndex.getLeaves(xe.clusterId,xe.limit,xe.offset)}}function Ei(ft,xe){return xe.cluster?new te((function({superclusterOptions:we,clusterProperties:Ee}){if(!Ee||!we)return we;const tt={},st={},Ct={accumulated:null,zoom:0},yt={properties:null},Ve=Object.keys(Ee);for(const xt of Ve){const[jt,kt]=Ee[xt],Lt=o.d3(kt),ai=o.d3(typeof jt=="string"?[jt,["accumulated"],["get",xt]]:jt);tt[xt]=Lt.value,st[xt]=ai.value}return we.map=xt=>{yt.properties=xt;const jt={};for(const kt of Ve)jt[kt]=tt[kt].evaluate(Ct,yt);return jt},we.reduce=(xt,jt)=>{yt.properties=jt;for(const kt of Ve)Ct.accumulated=xt[kt],xt[kt]=st[kt].evaluate(Ct,yt)},we})(xe)).load(ft.features):(function(we,Ee){return new ui(we,Ee)})(ft,xe.geojsonVtOptions)}class Fi{constructor(xe){this.self=xe,this.actor=new o.L(xe),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(we,Ee)=>{if(this.externalWorkerSourceTypes[we])throw new Error(`Worker source with name "${we}" already registered.`);this.externalWorkerSourceTypes[we]=Ee},this.self.addProtocol=o.cJ,this.self.removeProtocol=o.cK,this.self.registerRTLTextPlugin=we=>{o.d4.setMethods(we)},this.actor.registerMessageHandler("LDT",((we,Ee)=>this._getDEMWorkerSource(we,Ee.source).loadTile(Ee))),this.actor.registerMessageHandler("RDT",((we,Ee)=>o._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(we,Ee.source).removeTile(Ee)})))),this.actor.registerMessageHandler("GCEZ",((we,Ee)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(we,Ee.type,Ee.source).getClusterExpansionZoom(Ee)})))),this.actor.registerMessageHandler("GCC",((we,Ee)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(we,Ee.type,Ee.source).getClusterChildren(Ee)})))),this.actor.registerMessageHandler("GCL",((we,Ee)=>o._(this,void 0,void 0,(function*(){return this._getWorkerSource(we,Ee.type,Ee.source).getClusterLeaves(Ee)})))),this.actor.registerMessageHandler("LD",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).loadData(Ee))),this.actor.registerMessageHandler("GD",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).getData())),this.actor.registerMessageHandler("LT",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).loadTile(Ee))),this.actor.registerMessageHandler("RT",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).reloadTile(Ee))),this.actor.registerMessageHandler("AT",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).abortTile(Ee))),this.actor.registerMessageHandler("RMT",((we,Ee)=>this._getWorkerSource(we,Ee.type,Ee.source).removeTile(Ee))),this.actor.registerMessageHandler("RS",((we,Ee)=>o._(this,void 0,void 0,(function*(){if(!this.workerSources[we]||!this.workerSources[we][Ee.type]||!this.workerSources[we][Ee.type][Ee.source])return;const tt=this.workerSources[we][Ee.type][Ee.source];delete this.workerSources[we][Ee.type][Ee.source],tt.removeSource!==void 0&&tt.removeSource(Ee)})))),this.actor.registerMessageHandler("RM",(we=>o._(this,void 0,void 0,(function*(){delete this.layerIndexes[we],delete this.availableImages[we],delete this.workerSources[we],delete this.demWorkerSources[we],this.globalStates.delete(we)})))),this.actor.registerMessageHandler("SR",((we,Ee)=>o._(this,void 0,void 0,(function*(){this.referrer=Ee})))),this.actor.registerMessageHandler("SRPS",((we,Ee)=>this._syncRTLPluginState(we,Ee))),this.actor.registerMessageHandler("IS",((we,Ee)=>o._(this,void 0,void 0,(function*(){this.self.importScripts(Ee)})))),this.actor.registerMessageHandler("SI",((we,Ee)=>this._setImages(we,Ee))),this.actor.registerMessageHandler("UL",((we,Ee)=>o._(this,void 0,void 0,(function*(){this._getLayerIndex(we).update(Ee.layers,Ee.removedIds,this._getGlobalState(we))})))),this.actor.registerMessageHandler("UGS",((we,Ee)=>o._(this,void 0,void 0,(function*(){const tt=this._getGlobalState(we);for(const st in Ee)tt[st]=Ee[st]})))),this.actor.registerMessageHandler("SL",((we,Ee)=>o._(this,void 0,void 0,(function*(){this._getLayerIndex(we).replace(Ee,this._getGlobalState(we))}))))}_getGlobalState(xe){let we=this.globalStates.get(xe);return we||(we={},this.globalStates.set(xe,we)),we}_setImages(xe,we){return o._(this,void 0,void 0,(function*(){this.availableImages[xe]=we;for(const Ee in this.workerSources[xe]){const tt=this.workerSources[xe][Ee];for(const st in tt)tt[st].availableImages=we}}))}_syncRTLPluginState(xe,we){return o._(this,void 0,void 0,(function*(){return yield o.d4.syncState(we,this.self.importScripts)}))}_getAvailableImages(xe){let we=this.availableImages[xe];return we||(we=[]),we}_getLayerIndex(xe){let we=this.layerIndexes[xe];return we||(we=this.layerIndexes[xe]=new s),we}_getWorkerSource(xe,we,Ee){if(this.workerSources[xe]||(this.workerSources[xe]={}),this.workerSources[xe][we]||(this.workerSources[xe][we]={}),!this.workerSources[xe][we][Ee]){const tt={sendAsync:(st,Ct)=>(st.targetMapId=xe,this.actor.sendAsync(st,Ct))};switch(we){case"vector":this.workerSources[xe][we][Ee]=new O(tt,this._getLayerIndex(xe),this._getAvailableImages(xe));break;case"geojson":this.workerSources[xe][we][Ee]=new wi(tt,this._getLayerIndex(xe),this._getAvailableImages(xe));break;default:this.workerSources[xe][we][Ee]=new this.externalWorkerSourceTypes[we](tt,this._getLayerIndex(xe),this._getAvailableImages(xe))}}return this.workerSources[xe][we][Ee]}_getDEMWorkerSource(xe,we){return this.demWorkerSources[xe]||(this.demWorkerSources[xe]={}),this.demWorkerSources[xe][we]||(this.demWorkerSources[xe][we]=new H),this.demWorkerSources[xe][we]}}return o.i(self)&&(self.worker=new Fi(self)),Fi})),n("index",["exports","./shared"],(function(o,s){var u="5.15.0";function d(){var M=new s.A(4);return s.A!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M}let g,x,b;const S={frame(M,c,A){const _=requestAnimationFrame((F=>{C(),c(F)})),{unsubscribe:C}=s.s(M.signal,"abort",(()=>{C(),cancelAnimationFrame(_),A(new s.a(M.signal.reason))}),!1)},frameAsync(M){return new Promise(((c,A)=>{this.frame(M,c,A)}))},getImageData(M,c=0){return this.getImageCanvasContext(M).getImageData(-c,-c,M.width+2*c,M.height+2*c)},getImageCanvasContext(M){const c=window.document.createElement("canvas"),A=c.getContext("2d",{willReadFrequently:!0});if(!A)throw new Error("failed to create canvas 2d context");return c.width=M.width,c.height=M.height,A.drawImage(M,0,0,M.width,M.height),A},resolveURL:M=>(g||(g=document.createElement("a")),g.href=M,g.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return b!==void 0?b:!!matchMedia&&(x==null&&(x=matchMedia("(prefers-reduced-motion: reduce)")),x.matches)},set prefersReducedMotion(M){b=M}},P=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(M){this._frozenAt=M}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function I(){return P.getCurrentTime()}class O{static testProp(c){if(!O.docStyle)return c[0];for(let A=0;A<c.length;A++)if(c[A]in O.docStyle)return c[A];return c[0]}static create(c,A,_){const C=window.document.createElement(c);return A!==void 0&&(C.className=A),_&&_.appendChild(C),C}static createNS(c,A){return window.document.createElementNS(c,A)}static disableDrag(){O.docStyle&&O.selectProp&&(O.userSelect=O.docStyle[O.selectProp],O.docStyle[O.selectProp]="none")}static enableDrag(){O.docStyle&&O.selectProp&&(O.docStyle[O.selectProp]=O.userSelect)}static setTransform(c,A){c.style[O.transformProp]=A}static addEventListener(c,A,_,C={}){c.addEventListener(A,_,"passive"in C?C:C.capture)}static removeEventListener(c,A,_,C={}){c.removeEventListener(A,_,"passive"in C?C:C.capture)}static suppressClickInternal(c){c.preventDefault(),c.stopPropagation(),window.removeEventListener("click",O.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",O.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",O.suppressClickInternal,!0)}),0)}static getScale(c){const A=c.getBoundingClientRect();return{x:A.width/c.offsetWidth||1,y:A.height/c.offsetHeight||1,boundingClientRect:A}}static getPoint(c,A,_){const C=A.boundingClientRect;return new s.P((_.clientX-C.left)/A.x-c.clientLeft,(_.clientY-C.top)/A.y-c.clientTop)}static mousePos(c,A){const _=O.getScale(c);return O.getPoint(c,_,A)}static touchPos(c,A){const _=[],C=O.getScale(c);for(let F=0;F<A.length;F++)_.push(O.getPoint(c,C,A[F]));return _}static mouseButton(c){return c.button}static remove(c){c.parentNode&&c.parentNode.removeChild(c)}static sanitize(c){const A=new DOMParser().parseFromString(c,"text/html").body||document.createElement("body"),_=A.querySelectorAll("script");for(const C of _)C.remove();return O.clean(A),A.innerHTML}static isPossiblyDangerous(c,A){const _=A.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(c)||!_.includes("javascript:")&&!_.includes("data:"))||!!c.startsWith("on")||void 0}static clean(c){const A=c.children;for(const _ of A)O.removeAttributes(_),O.clean(_)}static removeAttributes(c){for(const{name:A,value:_}of c.attributes)O.isPossiblyDangerous(A,_)&&c.removeAttribute(A)}}O.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,O.selectProp=O.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),O.transformProp=O.testProp(["transform","WebkitTransform"]);const H={supported:!1,testSupport:function(M){!Z&&Y&&(J?re(M):Q=M)}};let Q,Y,Z=!1,J=!1;function re(M){const c=M.createTexture();M.bindTexture(M.TEXTURE_2D,c);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,Y),M.isContextLost())return;H.supported=!0}catch{}M.deleteTexture(c),Z=!0}var q;typeof document<"u"&&(Y=document.createElement("img"),Y.onload=()=>{Q&&re(Q),Q=null,J=!0},Y.onerror=()=>{Z=!0,Q=null},Y.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(M){let c,A,_,C;M.resetRequestQueue=()=>{c=[],A=0,_=0,C={}},M.addThrottleControl=X=>{const ie=_++;return C[ie]=X,ie},M.removeThrottleControl=X=>{delete C[X],U()},M.getImage=(X,ie,se=!0)=>new Promise(((fe,ue)=>{H.supported&&(X.headers||(X.headers={}),X.headers.accept="image/webp,*/*"),s.e(X,{type:"image"}),c.push({abortController:ie,requestParameters:X,supportImageRefresh:se,state:"queued",onError:ye=>{ue(ye)},onSuccess:ye=>{fe(ye)}}),U()}));const F=X=>s._(this,void 0,void 0,(function*(){X.state="running";const{requestParameters:ie,supportImageRefresh:se,onError:fe,onSuccess:ue,abortController:ye}=X,Te=se===!1&&!s.i(self)&&!s.g(ie.url)&&(!ie.headers||Object.keys(ie.headers).reduce(((He,et)=>He&&et==="accept"),!0));A++;const Ne=Te?V(ie,ye):s.m(ie,ye);try{const He=yield Ne;delete X.abortController,X.state="completed",He.data instanceof HTMLImageElement||s.b(He.data)?ue(He):He.data&&ue({data:yield(Ge=He.data,typeof createImageBitmap=="function"?s.f(Ge):s.h(Ge)),cacheControl:He.cacheControl,expires:He.expires})}catch(He){delete X.abortController,fe(He)}finally{A--,U()}var Ge})),U=()=>{const X=(()=>{for(const ie of Object.keys(C))if(C[ie]())return!0;return!1})()?s.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:s.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let ie=A;ie<X&&c.length>0;ie++){const se=c.shift();se.abortController.signal.aborted?ie--:F(se)}},V=(X,ie)=>new Promise(((se,fe)=>{const ue=new Image,ye=X.url,Te=X.credentials;Te&&Te==="include"?ue.crossOrigin="use-credentials":(Te&&Te==="same-origin"||!s.d(ye))&&(ue.crossOrigin="anonymous"),ie.signal.addEventListener("abort",(()=>{ue.src="",fe(new s.a(ie.signal.reason))})),ue.fetchPriority="high",ue.onload=()=>{ue.onerror=ue.onload=null,se({data:ue})},ue.onerror=()=>{ue.onerror=ue.onload=null,ie.signal.aborted||fe(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},ue.src=ye}))})(q||(q={})),q.resetRequestQueue();class ne{constructor(c){this._transformRequestFn=c??null}transformRequest(c,A){return this._transformRequestFn&&this._transformRequestFn(c,A)||{url:c}}setTransformRequest(c){this._transformRequestFn=c}}function te(M){const c=[];if(typeof M=="string")c.push({id:"default",url:M});else if(M&&M.length>0){const A=[];for(const{id:_,url:C}of M){const F=`${_}${C}`;A.indexOf(F)===-1&&(A.push(F),c.push({id:_,url:C}))}}return c}function he(M,c,A){try{const _=new URL(M);return _.pathname+=`${c}${A}`,_.toString()}catch{throw new Error(`Invalid sprite URL "${M}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function ve(M){const{userImage:c}=M;return!!(c&&c.render&&c.render())&&(M.data.replace(new Uint8Array(c.data.buffer)),!0)}class de extends s.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const c of Object.keys(this.images))this.removeImage(c);this.patterns={},this.atlasImage=new s.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(c){if(this.loaded!==c&&(this.loaded=c,c)){for(const{ids:A,promiseResolve:_}of this.requestors)_(this._getImagesForIds(A));this.requestors=[]}}getImage(c){const A=this.images[c];if(A&&!A.data&&A.spriteData){const _=A.spriteData;A.data=new s.R({width:_.width,height:_.height},_.context.getImageData(_.x,_.y,_.width,_.height).data),A.spriteData=null}return A}addImage(c,A){if(this.images[c])throw new Error(`Image id ${c} already exist, use updateImage instead`);this._validate(c,A)&&(this.images[c]=A)}_validate(c,A){let _=!0;const C=A.data||A.spriteData;return this._validateStretch(A.stretchX,C&&C.width)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "stretchX" value`))),_=!1),this._validateStretch(A.stretchY,C&&C.height)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "stretchY" value`))),_=!1),this._validateContent(A.content,A)||(this.fire(new s.k(new Error(`Image "${c}" has invalid "content" value`))),_=!1),_}_validateStretch(c,A){if(!c)return!0;let _=0;for(const C of c){if(C[0]<_||C[1]<C[0]||A<C[1])return!1;_=C[1]}return!0}_validateContent(c,A){if(!c)return!0;if(c.length!==4)return!1;const _=A.spriteData,C=_&&_.width||A.data.width,F=_&&_.height||A.data.height;return!(c[0]<0||C<c[0]||c[1]<0||F<c[1]||c[2]<0||C<c[2]||c[3]<0||F<c[3]||c[2]<c[0]||c[3]<c[1])}updateImage(c,A,_=!0){const C=this.getImage(c);if(_&&(C.data.width!==A.data.width||C.data.height!==A.data.height))throw new Error(`size mismatch between old image (${C.data.width}x${C.data.height}) and new image (${A.data.width}x${A.data.height}).`);A.version=C.version+1,this.images[c]=A,this.updatedImages[c]=!0}removeImage(c){const A=this.images[c];delete this.images[c],delete this.patterns[c],A.userImage&&A.userImage.onRemove&&A.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(c){return new Promise(((A,_)=>{let C=!0;if(!this.isLoaded())for(const F of c)this.images[F]||(C=!1);this.isLoaded()||C?A(this._getImagesForIds(c)):this.requestors.push({ids:c,promiseResolve:A})}))}_getImagesForIds(c){const A={};for(const _ of c){let C=this.getImage(_);C||(this.fire(new s.l("styleimagemissing",{id:_})),C=this.getImage(_)),C?A[_]={data:C.data.clone(),pixelRatio:C.pixelRatio,sdf:C.sdf,version:C.version,stretchX:C.stretchX,stretchY:C.stretchY,content:C.content,textFitWidth:C.textFitWidth,textFitHeight:C.textFitHeight,hasRenderCallback:!!(C.userImage&&C.userImage.render)}:s.w(`Image "${_}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return A}getPixelSize(){const{width:c,height:A}=this.atlasImage;return{width:c,height:A}}getPattern(c){const A=this.patterns[c],_=this.getImage(c);if(!_)return null;if(A&&A.position.version===_.version)return A.position;if(A)A.position.version=_.version;else{const C={w:_.data.width+2,h:_.data.height+2,x:0,y:0},F=new s.I(C,_);this.patterns[c]={bin:C,position:F}}return this._updatePatternAtlas(),this.patterns[c].position}bind(c){const A=c.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.T(c,this.atlasImage,A.RGBA),this.atlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE)}_updatePatternAtlas(){const c=[];for(const F in this.patterns)c.push(this.patterns[F].bin);const{w:A,h:_}=s.p(c),C=this.atlasImage;C.resize({width:A||1,height:_||1});for(const F in this.patterns){const{bin:U}=this.patterns[F],V=U.x+1,X=U.y+1,ie=this.getImage(F).data,se=ie.width,fe=ie.height;s.R.copy(ie,C,{x:0,y:0},{x:V,y:X},{width:se,height:fe}),s.R.copy(ie,C,{x:0,y:fe-1},{x:V,y:X-1},{width:se,height:1}),s.R.copy(ie,C,{x:0,y:0},{x:V,y:X+fe},{width:se,height:1}),s.R.copy(ie,C,{x:se-1,y:0},{x:V-1,y:X},{width:1,height:fe}),s.R.copy(ie,C,{x:0,y:0},{x:V+se,y:X},{width:1,height:fe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(c){for(const A of c){if(this.callbackDispatchedThisFrame[A])continue;this.callbackDispatchedThisFrame[A]=!0;const _=this.getImage(A);_||s.w(`Image with ID: "${A}" was not found`),ve(_)&&this.updateImage(A,_)}}cloneImages(){const c={};for(const A in this.images){const _=this.images[A];c[A]=Object.assign(Object.assign({},_),{data:_.data?_.data.clone():null})}return c}}const be=1e20;function De(M,c,A,_,C,F,U,V,X){for(let ie=c;ie<c+_;ie++)Ie(M,A*F+ie,F,C,U,V,X);for(let ie=A;ie<A+C;ie++)Ie(M,ie*F+c,1,_,U,V,X)}function Ie(M,c,A,_,C,F,U){F[0]=0,U[0]=-be,U[1]=be,C[0]=M[c];for(let V=1,X=0,ie=0;V<_;V++){C[V]=M[c+V*A];const se=V*V;do{const fe=F[X];ie=(C[V]-C[fe]+se-fe*fe)/(V-fe)/2}while(ie<=U[X]&&--X>-1);X++,F[X]=V,U[X]=ie,U[X+1]=be}for(let V=0,X=0;V<_;V++){for(;U[X+1]<V;)X++;const ie=F[X],se=V-ie;M[c+V*A]=C[ie]+se*se}}const nt=s.v.layout_symbol["text-font"].default.join(",");class je{constructor(c,A,_){this.requestManager=c,this.localIdeographFontFamily=A,this.entries={},this.lang=_}setURL(c){this.url=c}getGlyphs(c){return s._(this,void 0,void 0,(function*(){const A=[];for(const F in c)for(const U of c[F])A.push(this._getAndCacheGlyphsPromise(F,U));const _=yield Promise.all(A),C={};for(const{stack:F,id:U,glyph:V}of _)C[F]||(C[F]={}),C[F][U]=V&&{id:V.id,bitmap:V.bitmap.clone(),metrics:V.metrics};return C}))}_getAndCacheGlyphsPromise(c,A){return s._(this,void 0,void 0,(function*(){let _=this.entries[c];_||(_=this.entries[c]={glyphs:{},requests:{},ranges:{}});let C=_.glyphs[A];return C!==void 0?{stack:c,id:A,glyph:C}:!this.url||this._charUsesLocalIdeographFontFamily(A)?(C=_.glyphs[A]=this._drawGlyph(_,c,A),{stack:c,id:A,glyph:C}):yield this._downloadAndCacheRangePromise(c,A)}))}_downloadAndCacheRangePromise(c,A){return s._(this,void 0,void 0,(function*(){const _=this.entries[c],C=Math.floor(A/256);if(_.ranges[C])return{stack:c,id:A,glyph:null};if(!_.requests[C]){const F=je.loadGlyphRange(c,C,this.url,this.requestManager);_.requests[C]=F}try{const F=yield _.requests[C];for(const U in F)_.glyphs[+U]=F[+U];return _.ranges[C]=!0,{stack:c,id:A,glyph:F[A]||null}}catch(F){const U=_.glyphs[A]=this._drawGlyph(_,c,A);return this._warnOnMissingGlyphRange(U,C,A,F),{stack:c,id:A,glyph:U}}}))}_warnOnMissingGlyphRange(c,A,_,C){const F=256*A,U=F+255,V=_.toString(16).padStart(4,"0").toUpperCase();s.w(`Unable to load glyph range ${A}, ${F}-${U}. Rendering codepoint U+${V} locally instead. ${C}`)}_charUsesLocalIdeographFontFamily(c){return!!this.localIdeographFontFamily&&s.q(c)}_drawGlyph(c,A,_){const C=A===nt&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(_),F=C?"ideographTinySDF":"tinySDF";c[F]||(c[F]=this._createTinySDF(C?this.localIdeographFontFamily:A));const U=c[F].draw(String.fromCodePoint(_));return{id:_,bitmap:new s.r({width:U.width||60,height:U.height||60},U.data),metrics:{width:U.glyphWidth/2||24,height:U.glyphHeight/2||24,left:U.glyphLeft/2+.5||0,top:U.glyphTop/2-27.5||-8,advance:U.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(c){const A=c?c.split(","):[];A.push("sans-serif");const _=A.map((C=>/[-\w]+/.test(C)?C:`'${CSS.escape(C)}'`)).join(",");return new je.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:_,fontWeight:this._fontWeight(A[0]),fontStyle:this._fontStyle(A[0]),lang:this.lang})}_fontStyle(c){return/italic/i.test(c)?"italic":/oblique/i.test(c)?"oblique":"normal"}_fontWeight(c){const A={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let _;for(const[C,F]of Object.entries(A))new RegExp(`\\b${C}\\b`,"i").test(c)&&(_=`${F}`);return _}destroy(){for(const c in this.entries){const A=this.entries[c];A.tinySDF&&(A.tinySDF=null),A.ideographTinySDF&&(A.ideographTinySDF=null),A.glyphs={},A.requests={},A.ranges={}}this.entries={}}}je.loadGlyphRange=function(M,c,A,_){return s._(this,void 0,void 0,(function*(){const C=256*c,F=C+255,U=_.transformRequest(A.replace("{fontstack}",M).replace("{range}",`${C}-${F}`),"Glyphs"),V=yield s.n(U,new AbortController);if(!V||!V.data)throw new Error(`Could not load glyph range. range: ${c}, ${C}-${F}`);const X={};for(const ie of s.o(V.data))X[ie.id]=ie;return X}))},je.TinySDF=class{constructor({fontSize:M=24,buffer:c=3,radius:A=8,cutoff:_=.25,fontFamily:C="sans-serif",fontWeight:F="normal",fontStyle:U="normal",lang:V=null}={}){this.buffer=c,this.cutoff=_,this.radius=A,this.lang=V;const X=this.size=M+4*c,ie=this._createCanvas(X),se=this.ctx=ie.getContext("2d",{willReadFrequently:!0});se.font=`${U} ${F} ${M}px ${C}`,se.textBaseline="alphabetic",se.textAlign="left",se.fillStyle="black",this.gridOuter=new Float64Array(X*X),this.gridInner=new Float64Array(X*X),this.f=new Float64Array(X),this.z=new Float64Array(X+1),this.v=new Uint16Array(X)}_createCanvas(M){const c=document.createElement("canvas");return c.width=c.height=M,c}draw(M){const{width:c,actualBoundingBoxAscent:A,actualBoundingBoxDescent:_,actualBoundingBoxLeft:C,actualBoundingBoxRight:F}=this.ctx.measureText(M),U=Math.ceil(A),V=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(F-C))),X=Math.min(this.size-this.buffer,U+Math.ceil(_)),ie=V+2*this.buffer,se=X+2*this.buffer,fe=Math.max(ie*se,0),ue=new Uint8ClampedArray(fe),ye={data:ue,width:ie,height:se,glyphWidth:V,glyphHeight:X,glyphTop:U,glyphLeft:0,glyphAdvance:c};if(V===0||X===0)return ye;const{ctx:Te,buffer:Ne,gridInner:Ge,gridOuter:He}=this;this.lang&&(Te.lang=this.lang),Te.clearRect(Ne,Ne,V,X),Te.fillText(M,Ne,Ne+U);const et=Te.getImageData(Ne,Ne,V,X);He.fill(be,0,fe),Ge.fill(0,0,fe);for(let ct=0;ct<X;ct++)for(let Ze=0;Ze<V;Ze++){const ot=et.data[4*(ct*V+Ze)+3]/255;if(ot===0)continue;const At=(ct+Ne)*ie+Ze+Ne;if(ot===1)He[At]=0,Ge[At]=be;else{const rt=.5-ot;He[At]=rt>0?rt*rt:0,Ge[At]=rt<0?rt*rt:0}}De(He,0,0,ie,se,ie,this.f,this.v,this.z),De(Ge,Ne,Ne,V,X,ie,this.f,this.v,this.z);for(let ct=0;ct<fe;ct++){const Ze=Math.sqrt(He[ct])-Math.sqrt(Ge[ct]);ue[ct]=Math.round(255-255*(Ze/this.radius+this.cutoff))}return ye}};class dt{constructor(){this.specification=s.u.light.position}possiblyEvaluate(c,A){return s.F(c.expression.evaluate(A))}interpolate(c,A,_){return{x:s.G.number(c.x,A.x,_),y:s.G.number(c.y,A.y,_),z:s.G.number(c.z,A.z,_)}}}let Mt;class We extends s.E{constructor(c){super(),Mt=Mt||new s.t({anchor:new s.D(s.u.light.anchor),position:new dt,color:new s.D(s.u.light.color),intensity:new s.D(s.u.light.intensity)}),this._transitionable=new s.x(Mt,void 0),this.setLight(c),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(c,A={}){if(!this._validate(s.y,c,A))for(const _ in c){const C=c[_];_.endsWith(s.z)?this._transitionable.setTransition(_.slice(0,-s.z.length),C):this._transitionable.setValue(_,C)}}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,A,_){return(!_||_.validate!==!1)&&s.B(this,c.call(s.C,{value:A,style:{glyphs:!0,sprite:!0},styleSpec:s.u}))}}const Pt=new s.t({"sky-color":new s.D(s.u.sky["sky-color"]),"horizon-color":new s.D(s.u.sky["horizon-color"]),"fog-color":new s.D(s.u.sky["fog-color"]),"fog-ground-blend":new s.D(s.u.sky["fog-ground-blend"]),"horizon-fog-blend":new s.D(s.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new s.D(s.u.sky["sky-horizon-blend"]),"atmosphere-blend":new s.D(s.u.sky["atmosphere-blend"])});class Kt extends s.E{constructor(c){super(),this._transitionable=new s.x(Pt,void 0),this.setSky(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.H(0))}setSky(c,A={}){if(!this._validate(s.J,c,A)){c||(c={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const _ in c){const C=c[_];_.endsWith(s.z)?this._transitionable.setTransition(_.slice(0,-s.z.length),C):this._transitionable.setValue(_,C)}}}getSky(){return this._transitionable.serialize()}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}_validate(c,A,_={}){return _?.validate!==!1&&s.B(this,c.call(s.C,s.e({value:A,style:{glyphs:!0,sprite:!0},styleSpec:s.u})))}calculateFogBlendOpacity(c){return c<60?0:c<70?(c-60)/10:1}}class di{constructor(c,A){this.width=c,this.height=A,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(c,A){const _=c.join(",")+String(A);return this.dashEntry[_]||(this.dashEntry[_]=this.addDash(c,A)),this.dashEntry[_]}getDashRanges(c,A,_){const C=[];let F=c.length%2==1?-c[c.length-1]*_:0,U=c[0]*_,V=!0;C.push({left:F,right:U,isDash:V,zeroLength:c[0]===0});let X=c[0];for(let ie=1;ie<c.length;ie++){V=!V;const se=c[ie];F=X*_,X+=se,U=X*_,C.push({left:F,right:U,isDash:V,zeroLength:se===0})}return C}addRoundDash(c,A,_){const C=A/2;for(let F=-_;F<=_;F++){const U=this.width*(this.nextRow+_+F);let V=0,X=c[V];for(let ie=0;ie<this.width;ie++){ie/X.right>1&&(X=c[++V]);const se=Math.abs(ie-X.left),fe=Math.abs(ie-X.right),ue=Math.min(se,fe);let ye;const Te=F/_*(C+1);if(X.isDash){const Ne=C-Math.abs(Te);ye=Math.sqrt(ue*ue+Ne*Ne)}else ye=C-Math.sqrt(ue*ue+Te*Te);this.data[U+ie]=Math.max(0,Math.min(255,ye+128))}}}addRegularDash(c){for(let V=c.length-1;V>=0;--V){const X=c[V],ie=c[V+1];X.zeroLength?c.splice(V,1):ie&&ie.isDash===X.isDash&&(ie.left=X.left,c.splice(V,1))}const A=c[0],_=c[c.length-1];A.isDash===_.isDash&&(A.left=_.left-this.width,_.right=A.right+this.width);const C=this.width*this.nextRow;let F=0,U=c[F];for(let V=0;V<this.width;V++){V/U.right>1&&(U=c[++F]);const X=Math.abs(V-U.left),ie=Math.abs(V-U.right),se=Math.min(X,ie);this.data[C+V]=Math.max(0,Math.min(255,(U.isDash?se:-se)+128))}}addDash(c,A){const _=A?7:0,C=2*_+1;if(this.nextRow+C>this.height)return s.w("LineAtlas out of space"),null;let F=0;for(let V=0;V<c.length;V++)F+=c[V];if(F!==0){const V=this.width/F,X=this.getDashRanges(c,this.width,V);A?this.addRoundDash(X,V,_):this.addRegularDash(X)}const U={y:this.nextRow+_,height:2*_,width:F};return this.nextRow+=C,this.dirty=!0,U}bind(c){const A=c.gl;this.texture?(A.bindTexture(A.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,A.texSubImage2D(A.TEXTURE_2D,0,0,0,this.width,this.height,A.ALPHA,A.UNSIGNED_BYTE,this.data))):(this.texture=A.createTexture(),A.bindTexture(A.TEXTURE_2D,this.texture),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.REPEAT),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.REPEAT),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR),A.texImage2D(A.TEXTURE_2D,0,A.ALPHA,this.width,this.height,0,A.ALPHA,A.UNSIGNED_BYTE,this.data))}}const It="maplibre_preloaded_worker_pool";class bt{constructor(){this.active={}}acquire(c){if(!this.workers)for(this.workers=[];this.workers.length<bt.workerCount;)this.workers.push(new Worker(s.c.WORKER_URL));return this.active[c]=!0,this.workers.slice()}release(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach((A=>{A.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[It]}numActive(){return Object.keys(this.active).length}}const mt=Math.floor(S.hardwareConcurrency/2);let si,gi;function Vi(){return si||(si=new bt),si}bt.workerCount=s.K(globalThis)?Math.max(Math.min(mt,3),1):1;class Ii{constructor(c,A){this.workerPool=c,this.actors=[],this.currentActor=0,this.id=A;const _=this.workerPool.acquire(A);for(let C=0;C<_.length;C++){const F=new s.L(_[C],A);F.name=`Worker ${C}`,this.actors.push(F)}if(!this.actors.length)throw new Error("No actors found")}broadcast(c,A){const _=[];for(const C of this.actors)_.push(C.sendAsync({type:c,data:A}));return Promise.all(_)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(c=!0){this.actors.forEach((A=>{A.remove()})),this.actors=[],c&&this.workerPool.release(this.id)}registerMessageHandler(c,A){for(const _ of this.actors)_.registerMessageHandler(c,A)}unregisterMessageHandler(c){for(const A of this.actors)A.unregisterMessageHandler(c)}}function oi(){return gi||(gi=new Ii(Vi(),s.M),gi.registerMessageHandler("GR",((M,c,A)=>s.m(c,A)))),gi}function fn(M,c){const A=s.N();return s.O(A,A,[1,1,0]),s.Q(A,A,[.5*M.width,.5*M.height,1]),M.calculatePosMatrix?s.S(A,A,M.calculatePosMatrix(c.toUnwrapped())):A}function Mi(M,c,A,_,C,F,U){var V;const X=(function(ue,ye,Te){if(ue)for(const Ne of ue){const Ge=ye[Ne];if(Ge&&Ge.source===Te&&Ge.type==="fill-extrusion")return!0}else for(const Ne in ye){const Ge=ye[Ne];if(Ge.source===Te&&Ge.type==="fill-extrusion")return!0}return!1})((V=C?.layers)!==null&&V!==void 0?V:null,c,M.id),ie=F.maxPitchScaleFactor(),se=M.tilesIn(_,ie,X);se.sort(Ji);const fe=[];for(const ue of se)fe.push({wrappedTileID:ue.tileID.wrapped().key,queryResults:ue.tile.queryRenderedFeatures(c,A,M.getState(),ue.queryGeometry,ue.cameraQueryGeometry,ue.scale,C,F,ie,fn(F,ue.tileID),U?(ye,Te)=>U(ue.tileID,ye,Te):void 0)});return(function(ue,ye){for(const Te in ue)for(const Ne of ue[Te])rn(Ne,ye);return ue})((function(ue){const ye={},Te={};for(const Ne of ue){const Ge=Ne.queryResults,He=Ne.wrappedTileID,et=Te[He]=Te[He]||{};for(const ct in Ge){const Ze=Ge[ct],ot=et[ct]=et[ct]||{},At=ye[ct]=ye[ct]||[];for(const rt of Ze)ot[rt.featureIndex]||(ot[rt.featureIndex]=!0,At.push(rt))}}return ye})(fe),M)}function Ji(M,c){const A=M.tileID,_=c.tileID;return A.overscaledZ-_.overscaledZ||A.canonical.y-_.canonical.y||A.wrap-_.wrap||A.canonical.x-_.canonical.x}function rn(M,c){const A=M.feature,_=c.getFeatureState(A.layer["source-layer"],A.id);A.source=A.layer.source,A.layer["source-layer"]&&(A.sourceLayer=A.layer["source-layer"]),A.state=_}function xn(M,c,A){return s._(this,void 0,void 0,(function*(){let _=M;if(M.url?_=(yield s.j(c.transformRequest(M.url,"Source"),A)).data:yield S.frameAsync(A),!_)return null;const C=s.U(s.e(_,M),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in _&&_.vector_layers&&(C.vectorLayerIds=_.vector_layers.map((F=>F.id))),C}))}class Ye{constructor(c,A){c&&(A?this.setSouthWest(c).setNorthEast(A):Array.isArray(c)&&(c.length===4?this.setSouthWest([c[0],c[1]]).setNorthEast([c[2],c[3]]):this.setSouthWest(c[0]).setNorthEast(c[1])))}setNorthEast(c){return this._ne=c instanceof s.V?new s.V(c.lng,c.lat):s.V.convert(c),this}setSouthWest(c){return this._sw=c instanceof s.V?new s.V(c.lng,c.lat):s.V.convert(c),this}extend(c){const A=this._sw,_=this._ne;let C,F;if(c instanceof s.V)C=c,F=c;else{if(!(c instanceof Ye))return Array.isArray(c)?c.length===4||c.every(Array.isArray)?this.extend(Ye.convert(c)):this.extend(s.V.convert(c)):c&&("lng"in c||"lon"in c)&&"lat"in c?this.extend(s.V.convert(c)):this;if(C=c._sw,F=c._ne,!C||!F)return this}return A||_?(A.lng=Math.min(C.lng,A.lng),A.lat=Math.min(C.lat,A.lat),_.lng=Math.max(F.lng,_.lng),_.lat=Math.max(F.lat,_.lat)):(this._sw=new s.V(C.lng,C.lat),this._ne=new s.V(F.lng,F.lat)),this}getCenter(){return new s.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new s.V(this.getWest(),this.getNorth())}getSouthEast(){return new s.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(c){const{lng:A,lat:_}=s.V.convert(c);let C=this._sw.lng<=A&&A<=this._ne.lng;return this._sw.lng>this._ne.lng&&(C=this._sw.lng>=A&&A>=this._ne.lng),this._sw.lat<=_&&_<=this._ne.lat&&C}intersects(c){if(!((c=Ye.convert(c)).getNorth()>=this.getSouth()&&c.getSouth()<=this.getNorth()))return!1;const A=Math.abs(this.getEast()-this.getWest()),_=Math.abs(c.getEast()-c.getWest());if(A>=360||_>=360)return!0;const C=s.W(this.getWest(),-180,180),F=s.W(this.getEast(),-180,180),U=s.W(c.getWest(),-180,180),V=s.W(c.getEast(),-180,180),X=C>=F,ie=U>=V;return!(!X||!ie)||(X?V>=C||U<=F:ie?F>=U||C<=V:U<=F&&V>=C)}static convert(c){return c instanceof Ye?c:c&&new Ye(c)}static fromLngLat(c,A=0){const _=360*A/40075017,C=_/Math.cos(Math.PI/180*c.lat);return new Ye(new s.V(c.lng-C,c.lat-_),new s.V(c.lng+C,c.lat+_))}adjustAntiMeridian(){const c=new s.V(this._sw.lng,this._sw.lat),A=new s.V(this._ne.lng,this._ne.lat);return new Ye(c,c.lng>A.lng?new s.V(A.lng+360,A.lat):A)}}class Yt{constructor(c,A,_){this.bounds=Ye.convert(this.validateBounds(c)),this.minzoom=A||0,this.maxzoom=_||24}validateBounds(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]}contains(c){const A=Math.pow(2,c.z),_=Math.floor(s.Y(this.bounds.getWest())*A),C=Math.floor(s.X(this.bounds.getNorth())*A),F=Math.ceil(s.Y(this.bounds.getEast())*A),U=Math.ceil(s.X(this.bounds.getSouth())*A);return c.x>=_&&c.x<F&&c.y>=C&&c.y<U}}class ci extends s.E{constructor(c,A,_,C){if(super(),this.id=c,this.dispatcher=_,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.e(this,s.U(A,["url","scheme","tileSize","promoteId","encoding"])),this._options=s.e({type:"vector"},A),this._collectResourceTiming=A.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(C)}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const c=yield xn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),c&&(s.e(this,c),c.bounds&&(this.tileBounds=new Yt(c.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})))}catch(c){this._tileJSONRequest=null,this._loaded=!0,s.Z(c)||this.fire(new s.k(c))}}))}loaded(){return this._loaded}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}onAdd(c){this.map=c,this.load()}setSourceProperty(c){this._tileJSONRequest&&this._tileJSONRequest.abort(),c(),this.load()}setTiles(c){return this.setSourceProperty((()=>{this._options.tiles=c})),this}setUrl(c){return this.setSourceProperty((()=>{this.url=c,this._options.url=c})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return s.e({},this._options)}loadTile(c){return s._(this,void 0,void 0,(function*(){const A=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_={request:this.map._requestManager.transformRequest(A,"Tile"),uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,tileSize:this.tileSize*c.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(c)};_.request.collectResourceTiming=this._collectResourceTiming;let C="RT";if(c.actor&&c.state!=="expired"){if(c.state==="loading")return new Promise(((F,U)=>{c.reloadPromise={resolve:F,reject:U}}))}else c.actor=this.dispatcher.getActor(),C="LT";c.abortController=new AbortController;try{const F=yield c.actor.sendAsync({type:C,data:_},c.abortController);if(delete c.abortController,c.aborted)return;this._afterTileLoadWorkerResponse(c,F)}catch(F){if(delete c.abortController,c.aborted)return;if(F&&F.status!==404)throw F;this._afterTileLoadWorkerResponse(c,null)}}))}_getOverzoomParameters(c){if(c.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const A=c.tileID.scaledTo(this.maxzoom).canonical,_=A.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:A,overzoomRequest:this.map._requestManager.transformRequest(_,"Tile")}}_afterTileLoadWorkerResponse(c,A){if(A&&A.resourceTiming&&(c.resourceTiming=A.resourceTiming),A&&this.map._refreshExpiredTiles&&c.setExpiryData(A),c.loadVectorData(A,this.map.painter),c.reloadPromise){const _=c.reloadPromise;c.reloadPromise=null,this.loadTile(c).then(_.resolve).catch(_.reject)}}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.actor&&(yield c.actor.sendAsync({type:"AT",data:{uid:c.uid,type:this.type,source:this.id}}))}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.unloadVectorData(),c.actor&&(yield c.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class Oi extends s.E{constructor(c,A,_,C){super(),this.id=c,this.dispatcher=_,this.setEventedParent(C),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.e({type:"raster"},A),s.e(this,s.U(A,["url","scheme","tileSize"]))}load(){return s._(this,arguments,void 0,(function*(c=!1){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const A=yield xn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,A&&(s.e(this,A),A.bounds&&(this.tileBounds=new Yt(A.bounds,this.minzoom,this.maxzoom)),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:c})))}catch(A){this._tileJSONRequest=null,this._loaded=!0,s.Z(A)||this.fire(new s.k(A))}}))}loaded(){return this._loaded}onAdd(c){this.map=c,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(c){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),c(),this.load(!0)}setTiles(c){return this.setSourceProperty((()=>{this._options.tiles=c})),this}setUrl(c){return this.setSourceProperty((()=>{this.url=c,this._options.url=c})),this}serialize(){return s.e({},this._options)}hasTile(c){return!this.tileBounds||this.tileBounds.contains(c.canonical)}loadTile(c){return s._(this,void 0,void 0,(function*(){const A=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);c.abortController=new AbortController;try{const _=yield q.getImage(this.map._requestManager.transformRequest(A,"Tile"),c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(_&&_.data){this.map._refreshExpiredTiles&&(_.cacheControl||_.expires)&&c.setExpiryData({cacheControl:_.cacheControl,expires:_.expires});const C=this.map.painter.context,F=C.gl,U=_.data;c.texture=this.map.painter.getTileTexture(U.width),c.texture?c.texture.update(U,{useMipmap:!0}):(c.texture=new s.T(C,U,F.RGBA,{useMipmap:!0}),c.texture.bind(F.LINEAR,F.CLAMP_TO_EDGE,F.LINEAR_MIPMAP_NEAREST)),c.state="loaded"}}catch(_){if(delete c.abortController,c.aborted)c.state="unloaded";else if(_)throw c.state="errored",_}}))}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController)}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.texture&&this.map.painter.saveTileTexture(c.texture)}))}hasTransition(){return!1}}class ui extends Oi{constructor(c,A,_,C){super(c,A,_,C),this.type="raster-dem",this.maxzoom=22,this._options=s.e({type:"raster-dem"},A),this.encoding=A.encoding||"mapbox",this.redFactor=A.redFactor,this.greenFactor=A.greenFactor,this.blueFactor=A.blueFactor,this.baseShift=A.baseShift}loadTile(c){return s._(this,void 0,void 0,(function*(){const A=c.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),_=this.map._requestManager.transformRequest(A,"Tile");c.neighboringTiles=this._getNeighboringTiles(c.tileID),c.abortController=new AbortController;try{const C=yield q.getImage(_,c.abortController,this.map._refreshExpiredTiles);if(delete c.abortController,c.aborted)return void(c.state="unloaded");if(C&&C.data){const F=C.data;this.map._refreshExpiredTiles&&(C.cacheControl||C.expires)&&c.setExpiryData({cacheControl:C.cacheControl,expires:C.expires});const U=s.b(F)&&s.$()?F:yield this.readImageNow(F),V={type:this.type,uid:c.uid,source:this.id,rawImageData:U,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!c.actor||c.state==="expired"){c.actor=this.dispatcher.getActor();const X=yield c.actor.sendAsync({type:"LDT",data:V});c.dem=X,c.needsHillshadePrepare=!0,c.needsTerrainPrepare=!0,c.state="loaded"}}}catch(C){if(delete c.abortController,c.aborted)c.state="unloaded";else if(C)throw c.state="errored",C}}))}readImageNow(c){return s._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&s.a0()){const A=c.width+2,_=c.height+2;try{return new s.R({width:A,height:_},yield s.a1(c,-1,-1,A,_))}catch{}}return S.getImageData(c,1)}))}_getNeighboringTiles(c){const A=c.canonical,_=Math.pow(2,A.z),C=(A.x-1+_)%_,F=A.x===0?c.wrap-1:c.wrap,U=(A.x+1+_)%_,V=A.x+1===_?c.wrap+1:c.wrap,X={};return X[new s.a2(c.overscaledZ,F,A.z,C,A.y).key]={backfilled:!1},X[new s.a2(c.overscaledZ,V,A.z,U,A.y).key]={backfilled:!1},A.y>0&&(X[new s.a2(c.overscaledZ,F,A.z,C,A.y-1).key]={backfilled:!1},X[new s.a2(c.overscaledZ,c.wrap,A.z,A.x,A.y-1).key]={backfilled:!1},X[new s.a2(c.overscaledZ,V,A.z,U,A.y-1).key]={backfilled:!1}),A.y+1<_&&(X[new s.a2(c.overscaledZ,F,A.z,C,A.y+1).key]={backfilled:!1},X[new s.a2(c.overscaledZ,c.wrap,A.z,A.x,A.y+1).key]={backfilled:!1},X[new s.a2(c.overscaledZ,V,A.z,U,A.y+1).key]={backfilled:!1}),X}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.demTexture&&this.map.painter.saveTileTexture(c.demTexture),c.fbo&&(c.fbo.destroy(),delete c.fbo),c.dem&&delete c.dem,delete c.neighboringTiles,c.state="unloaded",c.actor&&(yield c.actor.sendAsync({type:"RDT",data:{type:this.type,uid:c.uid,source:this.id}}))}))}}function $i(M){return M.type==="GeometryCollection"?M.geometries.map((c=>c.coordinates)).flat(1/0):M.coordinates.flat(1/0)}function wi(M){const c=new Ye;let A;switch(M.type){case"FeatureCollection":A=M.features.map((_=>$i(_.geometry))).flat(1/0);break;case"Feature":A=$i(M.geometry);break;default:A=$i(M)}if(A.length==0)return c;for(let _=0;_<A.length-1;_+=2)c.extend([A[_],A[_+1]]);return c}class Ei extends s.E{constructor(c,A,_,C){super(),this.id=c,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:A.data},this.actor=_.getActor(),this.setEventedParent(C),this._data=typeof A.data=="string"?{url:A.data}:{geojson:A.data},this._options=s.e({},A),this._collectResourceTiming=A.collectResourceTiming,A.maxzoom!==void 0&&(this.maxzoom=A.maxzoom),A.type&&(this.type=A.type),A.attribution&&(this.attribution=A.attribution),this.promoteId=A.promoteId,A.clusterMaxZoom!==void 0&&this.maxzoom<=A.clusterMaxZoom&&s.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${A.clusterMaxZoom}".`),this.workerOptions=s.e({source:this.id,cluster:A.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(A.buffer!==void 0?A.buffer:128),tolerance:this._pixelsToTileUnits(A.tolerance!==void 0?A.tolerance:.375),extent:s.a5,maxZoom:this.maxzoom,lineMetrics:A.lineMetrics||!1,generateId:A.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(A.clusterMaxZoom),minPoints:Math.max(2,A.clusterMinPoints||2),extent:s.a5,radius:this._pixelsToTileUnits(A.clusterRadius||50),log:!1,generateId:A.generateId||!1},clusterProperties:A.clusterProperties,filter:A.filter},A.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(c){return c*(s.a5/this.tileSize)}_getClusterMaxZoom(c){const A=c?Math.round(c):this.maxzoom-1;return Number.isInteger(c)||c===void 0||s.w(`Integer expected for option 'clusterMaxZoom': provided value "${c}" rounded to "${A}"`),A}load(){return s._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(c){this.map=c,this.load()}setData(c,A){this._data=typeof c=="string"?{url:c}:{geojson:c},this._pendingWorkerUpdate={data:c};const _=this._updateWorkerData();return A?_:this}updateData(c,A){this._pendingWorkerUpdate.diff=s.a6(this._pendingWorkerUpdate.diff,c);const _=this._updateWorkerData();return A?_:this}getData(){return s._(this,void 0,void 0,(function*(){const c=s.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:c})}))}getBounds(){return s._(this,void 0,void 0,(function*(){return wi(yield this.getData())}))}setClusterOptions(c){return this.workerOptions.cluster=c.cluster,c.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(c.clusterRadius)),c.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(c.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(c){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:c,source:this.id}})}getClusterChildren(c){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:c,source:this.id}})}getClusterLeaves(c,A,_){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:c,limit:A,offset:_}})}_updateWorkerData(){return s._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void s.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:c,diff:A}=this._pendingWorkerUpdate,_=s.e({type:this.type},this.workerOptions);c!==void 0?(typeof c=="string"?(_.request=this.map._requestManager.transformRequest(S.resolveURL(c),"Source"),_.request.collectResourceTiming=this._collectResourceTiming):_.data=c,this._pendingWorkerUpdate.data=void 0):A&&(_.dataDiff=A,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new s.l("dataloading",{dataType:"source"}));try{const C=yield this.actor.sendAsync({type:"LD",data:_});if(this._isUpdatingWorker=!1,this._removed||C.abandoned)return void this.fire(new s.l("dataabort",{dataType:"source"}));C.data&&(this._data={geojson:C.data});const F=this._applyDiffToSource(A),U=this._getShouldReloadTileOptions(F);let V=null;C.resourceTiming&&C.resourceTiming[this.id]&&(V=C.resourceTiming[this.id].slice(0));const X={dataType:"source"};this._collectResourceTiming&&V&&V.length>0&&s.e(X,{resourceTiming:V}),this.fire(new s.l("data",Object.assign(Object.assign({},X),{sourceDataType:"metadata"}))),this.fire(new s.l("data",Object.assign(Object.assign({},X),{sourceDataType:"content",shouldReloadTileOptions:U})))}catch(C){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new s.l("dataabort",{dataType:"source"}));this.fire(new s.k(C))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiffToSource(c){if(!c)return;const A=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){const C=s.a7(this._data.geojson,A);if(!C)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:C}}if(!this._data.updateable)return;const _=s.a8(this._data.updateable,c,A);return c.removeAll||this._options.cluster?void 0:_}_getShouldReloadTileOptions(c){if(c)return{affectedBounds:c.filter(Boolean).map((A=>wi(A)))}}shouldReloadTile(c,{affectedBounds:A}){if(c.state==="loading")return!0;if(c.state==="unloaded")return!1;const{buffer:_,extent:C}=this.workerOptions.geojsonVtOptions,F=(function({x:U,y:V,z:X},ie=0){const se=s.a3((U-ie)/Math.pow(2,X)),fe=s.a4((V+1+ie)/Math.pow(2,X)),ue=s.a3((U+1+ie)/Math.pow(2,X)),ye=s.a4((V-ie)/Math.pow(2,X));return new Ye([se,fe],[ue,ye])})(c.tileID.canonical,_/C);for(const U of A)if(F.intersects(U))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(c){return s._(this,void 0,void 0,(function*(){const A=c.actor?"RT":"LT";c.actor=this.actor;const _={type:this.type,uid:c.uid,tileID:c.tileID,zoom:c.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};c.abortController=new AbortController;const C=yield this.actor.sendAsync({type:A,data:_},c.abortController);delete c.abortController,c.unloadVectorData(),c.aborted||c.loadVectorData(C,this.map.painter,A==="RT")}))}abortTile(c){return s._(this,void 0,void 0,(function*(){c.abortController&&(c.abortController.abort(),delete c.abortController),c.aborted=!0}))}unloadTile(c){return s._(this,void 0,void 0,(function*(){c.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:c.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return s.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class Fi extends s.E{constructor(c,A,_,C){super(),this.flippedWindingOrder=!1,this.id=c,this.dispatcher=_,this.coordinates=A.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(C),this.options=A}load(c){return s._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new s.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const A=yield q.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,A&&A.data&&(this.image=A.data,c&&(this.coordinates=c),this._finishLoading())}catch(A){this._request=null,this._loaded=!0,s.Z(A)||this.fire(new s.k(A))}}))}loaded(){return this._loaded}updateImage(c){return c.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=c.url,this.load(c.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(c){this.map=c,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(c){this.coordinates=c;const A=c.map(s.a9.fromLngLat);var _;return this.tileID=(function(C){const F=s.aa.fromPoints(C),U=F.width(),V=F.height(),X=Math.max(U,V),ie=Math.max(0,Math.floor(-Math.log(X)/Math.LN2)),se=Math.pow(2,ie);return new s.ac(ie,Math.floor((F.minX+F.maxX)/2*se),Math.floor((F.minY+F.maxY)/2*se))})(A),this.terrainTileRanges=this._getOverlappingTileRanges(A),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=A.map((C=>this.tileID.getTilePoint(C)._round())),this.flippedWindingOrder=((_=this.tileCoords)[1].x-_[0].x)*(_[2].y-_[0].y)-(_[1].y-_[0].y)*(_[2].x-_[0].x)<0,this.fire(new s.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const c=this.map.painter.context,A=c.gl;this.texture||(this.texture=new s.T(c,this.image,A.RGBA),this.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE));let _=!1;for(const C in this.tiles){const F=this.tiles[C];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,_=!0)}_&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(c){return s._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(c.tileID.canonical)?(this.tiles[String(c.tileID.wrap)]=c,c.buckets={}):c.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(c){const{minX:A,minY:_,maxX:C,maxY:F}=s.aa.fromPoints(c),U={};for(let V=0;V<=s.ab;V++){const X=Math.pow(2,V),ie=Math.floor(A*X),se=Math.floor(_*X),fe=Math.floor(C*X),ue=Math.floor(F*X);U[V]={minTileX:ie,minTileY:se,maxTileX:fe,maxTileY:ue}}return U}}class ft extends Fi{constructor(c,A,_,C){super(c,A,_,C),this.roundZoom=!0,this.type="video",this.options=A}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!1;const c=this.options;this.urls=[];for(const A of c.urls)this.urls.push(this.map._requestManager.transformRequest(A,"Source").url);try{const A=yield s.ad(this.urls);if(this._loaded=!0,!A)return;this.video=A,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(A){this.fire(new s.k(A))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(c){if(this.video){const A=this.video.seekable;c<A.start(0)||c>A.end(0)?this.fire(new s.k(new s.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${A.start(0)} and ${A.end(0)}-second mark.`))):this.video.currentTime=c}}getVideo(){return this.video}onAdd(c){this.map||(this.map=c,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const c=this.map.painter.context,A=c.gl;this.texture?this.video.paused||(this.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE),A.texSubImage2D(A.TEXTURE_2D,0,0,0,A.RGBA,A.UNSIGNED_BYTE,this.video)):(this.texture=new s.T(c,this.video,A.RGBA),this.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE));let _=!1;for(const C in this.tiles){const F=this.tiles[C];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture,_=!0)}_&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class xe extends Fi{constructor(c,A,_,C){super(c,A,_,C),A.coordinates?Array.isArray(A.coordinates)&&A.coordinates.length===4&&!A.coordinates.some((F=>!Array.isArray(F)||F.length!==2||F.some((U=>typeof U!="number"))))||this.fire(new s.k(new s.ae(`sources.${c}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.k(new s.ae(`sources.${c}`,null,'missing required property "coordinates"'))),A.animate&&typeof A.animate!="boolean"&&this.fire(new s.k(new s.ae(`sources.${c}`,null,'optional "animate" property must be a boolean value'))),A.canvas?typeof A.canvas=="string"||A.canvas instanceof HTMLCanvasElement||this.fire(new s.k(new s.ae(`sources.${c}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.k(new s.ae(`sources.${c}`,null,'missing required property "canvas"'))),this.options=A,this.animate=A.animate===void 0||A.animate}load(){return s._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(c){this.map=c,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let c=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,c=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,c=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const A=this.map.painter.context,_=A.gl;this.texture?(c||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new s.T(A,this.canvas,_.RGBA,{premultiply:!0}),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE));let C=!1;for(const F in this.tiles){const U=this.tiles[F];U.state!=="loaded"&&(U.state="loaded",U.texture=this.texture,C=!0)}C&&this.fire(new s.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const c of[this.canvas.width,this.canvas.height])if(isNaN(c)||c<=0)return!0;return!1}}const we={},Ee=M=>{switch(M){case"geojson":return Ei;case"image":return Fi;case"raster":return Oi;case"raster-dem":return ui;case"vector":return ci;case"video":return ft;case"canvas":return xe}return we[M]},tt="RTLPluginLoaded";class st extends s.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=oi()}_syncState(c){return this.status=c,this.dispatcher.broadcast("SRPS",{pluginStatus:c,pluginURL:this.url}).catch((A=>{throw this.status="error",A}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(c){return s._(this,arguments,void 0,(function*(A,_=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=S.resolveURL(A),!this.url)throw new Error(`requested url ${A} is invalid`);if(this.status==="unavailable"){if(!_)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return s._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new s.l(tt))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ct=null;function yt(){return Ct||(Ct=new st),Ct}var Ve,xt;(function(M){M[M.Base=0]="Base",M[M.Parent=1]="Parent"})(Ve||(Ve={})),(function(M){M[M.Departing=0]="Departing",M[M.Incoming=1]="Incoming"})(xt||(xt={}));class jt{constructor(c,A){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=c,this.uid=s.af(),this.uses=0,this.tileSize=A,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(c){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(c||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:c,fadingDirection:A,fadingParentID:_,fadeEndTime:C}){this.resetFadeLogic(),this.fadingRole=c,this.fadingDirection=A,this.fadingParentID=_,this.fadeEndTime=C}setSelfFadeLogic(c){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=c}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=I(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(c){this.demTexture&&c.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(c,A,_){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",c){c.featureIndex&&(this.latestFeatureIndex=c.featureIndex,c.rawTileData?(this.latestRawTileData=c.rawTileData,this.latestFeatureIndex.rawTileData=c.rawTileData,this.latestFeatureIndex.encoding=c.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=c.collisionBoxArray,this.buckets=(function(C,F){const U={};if(!F)return U;for(const V of C){const X=V.layerIds.map((ie=>F.getLayer(ie))).filter(Boolean);if(X.length!==0){V.layers=X,V.stateDependentLayerIds&&(V.stateDependentLayers=V.stateDependentLayerIds.map((ie=>X.filter((se=>se.id===ie))[0])));for(const ie of X)U[ie.id]=V}}return U})(c.buckets,A?.style),this.hasSymbolBuckets=!1;for(const C in this.buckets){const F=this.buckets[C];if(F instanceof s.ah){if(this.hasSymbolBuckets=!0,!_)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const C in this.buckets){const F=this.buckets[C];if(F instanceof s.ah&&F.hasRTLText){this.hasRTLText=!0,yt().lazyLoad();break}}this.queryPadding=0;for(const C in this.buckets){const F=this.buckets[C];this.queryPadding=Math.max(this.queryPadding,A.style.getLayer(C).queryRadius(F))}c.imageAtlas&&(this.imageAtlas=c.imageAtlas),c.glyphAtlasImage&&(this.glyphAtlasImage=c.glyphAtlasImage),this.dashPositions=c.dashPositions}else this.collisionBoxArray=new s.ag}unloadVectorData(){for(const c in this.buckets)this.buckets[c].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(c){return this.buckets[c.id]}upload(c){for(const _ in this.buckets){const C=this.buckets[_];C.uploadPending()&&C.upload(c)}const A=c.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new s.T(c,this.imageAtlas.image,A.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new s.T(c,this.glyphAtlasImage,A.ALPHA),this.glyphAtlasImage=null)}prepare(c){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(c,this.imageAtlasTexture)}queryRenderedFeatures(c,A,_,C,F,U,V,X,ie,se,fe){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:C,cameraQueryGeometry:F,scale:U,tileSize:this.tileSize,pixelPosMatrix:se,transform:X,params:V,queryPadding:this.queryPadding*ie,getElevation:fe},c,A,_):{}}querySourceFeatures(c,A){const _=this.latestFeatureIndex;if(!_||!_.rawTileData)return;const C=_.loadVTLayers(),F=A&&A.sourceLayer?A.sourceLayer:"",U=C[s.ai]||C[F];if(!U)return;const V=s.aj(A?.filter,A?.globalState),{z:X,x:ie,y:se}=this.tileID.canonical,fe={z:X,x:ie,y:se};for(let ue=0;ue<U.length;ue++){const ye=U.feature(ue);if(V.needGeometry){const Ge=s.ak(ye,!0);if(!V.filter(new s.H(this.tileID.overscaledZ),Ge,this.tileID.canonical))continue}else if(!V.filter(new s.H(this.tileID.overscaledZ),ye))continue;const Te=_.getId(ye,F),Ne=new s.al(ye,X,ie,se,Te);Ne.tile=fe,c.push(Ne)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(c){const A=this.expirationTime;if(c.cacheControl){const _=s.am(c.cacheControl);_["max-age"]&&(this.expirationTime=Date.now()+1e3*_["max-age"])}else c.expires&&(this.expirationTime=new Date(c.expires).getTime());if(this.expirationTime){const _=Date.now();let C=!1;if(this.expirationTime>_)C=!1;else if(A)if(this.expirationTime<A)C=!0;else{const F=this.expirationTime-A;F?this.expirationTime=_+Math.max(F,3e4):C=!0}else C=!0;C?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(c,A){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(c).length===0)return;const _=this.latestFeatureIndex.loadVTLayers();for(const C in this.buckets){if(!A.style.hasLayer(C))continue;const F=this.buckets[C],U=F.layers[0].sourceLayer||s.ai,V=_[U],X=c[U];if(!V||!X||Object.keys(X).length===0)continue;F.update(X,V,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const ie=A&&A.style&&A.style.getLayer(C);ie&&(this.queryPadding=Math.max(this.queryPadding,ie.queryRadius(F)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(c){this.symbolFadeHoldUntil=I()+c}setDependencies(c,A){const _={};for(const C of A)_[C]=!0;this.dependencies[c]=_}hasDependency(c,A){for(const _ of c){const C=this.dependencies[_];if(C){for(const F of A)if(C[F])return!0}}return!1}}class kt{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(c,A,_){const C=String(A);if(this.stateChanges[c]=this.stateChanges[c]||{},this.stateChanges[c][C]=this.stateChanges[c][C]||{},s.e(this.stateChanges[c][C],_),this.deletedStates[c]===null){this.deletedStates[c]={};for(const F in this.state[c])F!==C&&(this.deletedStates[c][F]=null)}else if(this.deletedStates[c]&&this.deletedStates[c][C]===null){this.deletedStates[c][C]={};for(const F in this.state[c][C])_[F]||(this.deletedStates[c][C][F]=null)}else for(const F in _)this.deletedStates[c]&&this.deletedStates[c][C]&&this.deletedStates[c][C][F]===null&&delete this.deletedStates[c][C][F]}removeFeatureState(c,A,_){if(this.deletedStates[c]===null)return;const C=String(A);if(this.deletedStates[c]=this.deletedStates[c]||{},_&&A!==void 0)this.deletedStates[c][C]!==null&&(this.deletedStates[c][C]=this.deletedStates[c][C]||{},this.deletedStates[c][C][_]=null);else if(A!==void 0)if(this.stateChanges[c]&&this.stateChanges[c][C])for(_ in this.deletedStates[c][C]={},this.stateChanges[c][C])this.deletedStates[c][C][_]=null;else this.deletedStates[c][C]=null;else this.deletedStates[c]=null}getState(c,A){const _=String(A),C=s.e({},(this.state[c]||{})[_],(this.stateChanges[c]||{})[_]);if(this.deletedStates[c]===null)return{};if(this.deletedStates[c]){const F=this.deletedStates[c][A];if(F===null)return{};for(const U in F)delete C[U]}return C}initializeTileState(c,A){c.setFeatureState(this.state,A)}coalesceChanges(c,A){const _={};for(const C in this.stateChanges){this.state[C]=this.state[C]||{};const F={};for(const U in this.stateChanges[C])this.state[C][U]||(this.state[C][U]={}),s.e(this.state[C][U],this.stateChanges[C][U]),F[U]=this.state[C][U];_[C]=F}for(const C in this.deletedStates){this.state[C]=this.state[C]||{};const F={};if(this.deletedStates[C]===null)for(const U in this.state[C])F[U]={},this.state[C][U]={};else for(const U in this.deletedStates[C]){if(this.deletedStates[C][U]===null)this.state[C][U]={};else for(const V of Object.keys(this.deletedStates[C][U]))delete this.state[C][U][V];F[U]=this.state[C][U]}_[C]=_[C]||{},s.e(_[C],F)}this.stateChanges={},this.deletedStates={},Object.keys(_).length!==0&&c.setFeatureState(_,A)}}const Lt=89.25;function ai(M,c){const A=s.an(c.lat,-s.ao,s.ao);return new s.P(s.Y(c.lng)*M,s.X(A)*M)}function bi(M,c){return new s.a9(c.x/M,c.y/M).toLngLat()}function Bi(M){return M.cameraToCenterDistance*Math.min(.85*Math.tan(s.ap(90-M.pitch)),Math.tan(s.ap(Lt-M.pitch)))}function In(M,c){const A=M.canonical,_=c/s.aq(A.z),C=A.x+Math.pow(2,A.z)*M.wrap,F=s.ar(new Float64Array(16));return s.O(F,F,[C*_,A.y*_,0]),s.Q(F,F,[_/s.a5,_/s.a5,1]),F}function Tt(M,c,A,_,C){const F=s.a9.fromLngLat(M,c),U=C*s.as(1,M.lat),{x:V,y:X,z:ie}=Dn(A,_);return new s.a9(F.x+U*-V,F.y+U*-X,F.z+U*-ie)}function Dn(M,c){const A=s.ap(M),_=s.ap(c),C=Math.cos(-A),F=Math.sin(A);return{x:F*Math.sin(_),y:-F*Math.cos(_),z:C}}function Kn(M,c,A){const _=c.intersectsFrustum(M);if(!A||_===0)return _;const C=c.intersectsPlane(A);return C===0?0:_===2&&C===2?2:1}function yn(M,c,A){let _=0;const C=(A-c)/10;for(let F=0;F<10;F++)_+=C*Math.pow(Math.cos(c+(F+.5)/10*(A-c)),M);return _}function An(M,c){return function(A,_,C,F,U){const V=2*((M-1)/s.at(Math.cos(s.ap(Lt-U))/Math.cos(s.ap(Lt)))-1),X=Math.acos(C/F),ie=2*yn(V-1,0,s.ap(U/2)),se=Math.min(s.ap(Lt),X+s.ap(U/2)),fe=yn(V-1,Math.min(se,X-s.ap(U/2)),se),ue=Math.atan(_/C),ye=Math.hypot(_,C);let Te=A;return Te+=s.at(F/ye/Math.max(.5,Math.cos(s.ap(U/2)))),Te+=V*s.at(Math.cos(ue))/2,Te-=s.at(Math.max(1,fe/ie/c))/2,Te}}const Ni=An(9.314,3);function Di(M,c){const A=(c.roundZoom?Math.round:Math.floor)(M.zoom+s.at(M.tileSize/c.tileSize));return Math.max(0,A)}function gn(M,c){const A=M.getCameraFrustum(),_=M.getClippingPlane(),C=M.screenPointToMercatorCoordinate(M.getCameraPoint()),F=s.a9.fromLngLat(M.center,M.elevation);C.z=F.z+Math.cos(M.pitchInRadians)*M.cameraToCenterDistance/M.worldSize;const U=M.getCoveringTilesDetailsProvider(),V=U.allowVariableZoom(M,c),X=Di(M,c),ie=c.minzoom||0,se=c.maxzoom!==void 0?c.maxzoom:M.maxZoom,fe=Math.min(Math.max(0,X),se),ue=Math.pow(2,fe),ye=[ue*C.x,ue*C.y,0],Te=[ue*F.x,ue*F.y,0],Ne=Math.hypot(F.x-C.x,F.y-C.y),Ge=Math.abs(F.z-C.z),He=Math.hypot(Ne,Ge),et=ot=>({zoom:0,x:0,y:0,wrap:ot,fullyVisible:!1}),ct=[],Ze=[];if(M.renderWorldCopies&&U.allowWorldCopies())for(let ot=1;ot<=3;ot++)ct.push(et(-ot)),ct.push(et(ot));for(ct.push(et(0));ct.length>0;){const ot=ct.pop(),At=ot.x,rt=ot.y;let St=ot.fullyVisible;const Xt={x:At,y:rt,z:ot.zoom},Ut=U.getTileBoundingVolume(Xt,ot.wrap,M.elevation,c);if(!St){const Li=Kn(A,Ut,_);if(Li===0)continue;St=Li===2}const zt=U.distanceToTile2d(C.x,C.y,Xt,Ut);let Ht=X;V&&(Ht=(c.calculateTileZoom||Ni)(M.zoom+s.at(M.tileSize/c.tileSize),zt,Ge,He,M.fov)),Ht=(c.roundZoom?Math.round:Math.floor)(Ht),Ht=Math.max(0,Ht);const Ti=Math.min(Ht,se);if(ot.wrap=U.getWrap(F,Xt,ot.wrap),ot.zoom>=Ti){if(ot.zoom<ie)continue;const Li=fe-ot.zoom,pi=ye[0]-.5-(At<<Li),zi=ye[1]-.5-(rt<<Li),ua=c.reparseOverscaled?Math.max(ot.zoom,Ht):ot.zoom;Ze.push({tileID:new s.a2(ot.zoom===se?ua:ot.zoom,ot.wrap,ot.zoom,At,rt),distanceSq:s.au([Te[0]-.5-At,Te[1]-.5-rt]),tileDistanceToCamera:Math.sqrt(pi*pi+zi*zi)})}else for(let Li=0;Li<4;Li++)ct.push({zoom:ot.zoom+1,x:(At<<1)+Li%2,y:(rt<<1)+(Li>>1),wrap:ot.wrap,fullyVisible:St})}return Ze.sort(((ot,At)=>ot.distanceSq-At.distanceSq)).map((ot=>ot.tileID))}const fi=s.aa.fromPoints([new s.P(0,0),new s.P(s.a5,s.a5)]);function Xi(M){return M==="raster"||M==="image"||M==="video"}function sn(M,c,A,_,C,F,U){if(!c.hasData())return!1;const{tileID:V,fadingRole:X,fadingDirection:ie,fadingParentID:se}=c;if(X===Ve.Base&&ie===xt.Incoming&&se)return A[se.key]=se,!0;const fe=Math.max(V.overscaledZ-C,F);for(let ue=V.overscaledZ-1;ue>=fe;ue--){const ye=V.scaledTo(ue),Te=M.getLoadedTile(ye);if(Te)return c.setCrossFadeLogic({fadingRole:Ve.Base,fadingDirection:xt.Incoming,fadingParentID:Te.tileID,fadeEndTime:_+U}),Te.setCrossFadeLogic({fadingRole:Ve.Parent,fadingDirection:xt.Departing,fadeEndTime:_+U}),A[ye.key]=ye,!0}return!1}function Ue(M,c,A,_,C,F){if(!c.hasData())return!1;const U=c.tileID.children(C);let V=Re(M,c,U,A,_,C,F);if(V)return!0;for(const X of U)Re(M,c,X.children(C),A,_,C,F)&&(V=!0);return V}function Re(M,c,A,_,C,F,U){if(A[0].overscaledZ>=F)return!1;let V=!1;for(const X of A){const ie=M.getLoadedTile(X);if(!ie)continue;const{fadingRole:se,fadingDirection:fe,fadingParentID:ue}=ie;se===Ve.Base&&fe===xt.Departing&&ue||(ie.setCrossFadeLogic({fadingRole:Ve.Base,fadingDirection:xt.Departing,fadingParentID:c.tileID,fadeEndTime:C+U}),c.setCrossFadeLogic({fadingRole:Ve.Parent,fadingDirection:xt.Incoming,fadeEndTime:C+U})),_[X.key]=X,V=!0}return V}function _t(M,c,A,_){const C=M.tileID;return!!M.selfFading||!M.hasData()&&!!c.has(C)&&(M.setSelfFadeLogic(A+_),!0)}function ut(M,c){var A;M.needsHillshadePrepare=!0,M.needsTerrainPrepare=!0;let _=c.tileID.canonical.x-M.tileID.canonical.x;const C=c.tileID.canonical.y-M.tileID.canonical.y,F=Math.pow(2,M.tileID.canonical.z),U=c.tileID.key;_===0&&C===0||Math.abs(C)>1||(Math.abs(_)>1&&(Math.abs(_+F)===1?_+=F:Math.abs(_-F)===1&&(_-=F)),c.dem&&M.dem&&(M.dem.backfillBorder(c.dem,_,C),!((A=M.neighboringTiles)===null||A===void 0)&&A[U]&&(M.neighboringTiles[U].backfilled=!0)))}class Jt{constructor(){this._tiles={}}handleWrapJump(c){const A={};for(const _ in this._tiles){const C=this._tiles[_];C.tileID=C.tileID.unwrapTo(C.tileID.wrap+c),A[C.tileID.key]=C}this._tiles=A}setFeatureState(c,A){for(const _ in this._tiles)this._tiles[_].setFeatureState(c,A)}getAllTiles(){return Object.values(this._tiles)}getAllIds(c=!1){return c?Object.values(this._tiles).map((A=>A.tileID)).sort(s.aw).map((A=>A.key)):Object.keys(this._tiles)}getTileById(c){return this._tiles[c]}setTile(c,A){this._tiles[c]=A}deleteTileById(c){delete this._tiles[c]}getLoadedTile(c){const A=this.getTileById(c.key);return A?.hasData()?A:null}isIdRenderable(c,A=!1){var _;return(_=this.getTileById(c))===null||_===void 0?void 0:_.isRenderable(A)}getRenderableIds(c=0,A){const _=[];for(const C of this.getAllIds())this.isIdRenderable(C,A)&&_.push(this.getTileById(C));return A?_.sort(((C,F)=>{const U=C.tileID,V=F.tileID,X=new s.P(U.canonical.x,U.canonical.y)._rotate(-c),ie=new s.P(V.canonical.x,V.canonical.y)._rotate(-c);return U.overscaledZ-V.overscaledZ||ie.y-X.y||ie.x-X.x})).map((C=>C.tileID.key)):_.map((C=>C.tileID)).sort(s.aw).map((C=>C.key))}}class ni extends s.E{constructor(c,A,_){super(),this.id=c,this.dispatcher=_,this.on("data",(C=>this._dataHandler(C))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((C,F,U,V)=>{const X=new(Ee(F.type))(C,F,U,V);if(X.id!==C)throw new Error(`Expected Source id to be ${C} instead of ${X.id}`);return X})(c,A,_,this),this._inViewTiles=new Jt,this._outOfViewCache=new s.ax(0,(C=>this._unloadTile(C))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new kt,this._didEmitContent=!1,this._updated=!1}onAdd(c){this.map=c,this._maxTileCacheSize=c?c._maxTileCacheSize:null,this._maxTileCacheZoomLevels=c?c._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(c)}onRemove(c){for(const A of this._inViewTiles.getAllTiles())A.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(c),this._inViewTiles=new Jt}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const c of this._inViewTiles.getAllTiles())if(c.state!=="loaded"&&c.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const c=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,c&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(c,A,_){return s._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(c),this._tileLoaded(c,A,_)}catch(C){c.state="errored",C.status!==404?this._source.fire(new s.k(C,{tile:c})):this.update(this.transform,this.terrain)}}))}_unloadTile(c){this._source.unloadTile&&this._source.unloadTile(c)}_abortTile(c){this._source.abortTile&&this._source.abortTile(c),this._source.fire(new s.l("dataabort",{tile:c,coord:c.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(c){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const A of this._inViewTiles.getAllTiles())A.upload(c),A.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(c){var A;return this._inViewTiles.getRenderableIds((A=this.transform)===null||A===void 0?void 0:A.bearingInRadians,c)}hasRenderableParent(c){const A=c.overscaledZ-1;if(A>=this._source.minzoom){const _=this.getLoadedTile(c.scaledTo(A));if(_)return this._inViewTiles.isIdRenderable(_.tileID.key)}return!1}reload(c,A=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const _ of this._inViewTiles.getAllIds()){const C=this._inViewTiles.getTileById(_);A&&!this._source.shouldReloadTile(C,A)||(c?this._reloadTile(_,"expired"):C.state!=="errored"&&this._reloadTile(_,"reloading"))}}}_reloadTile(c,A){return s._(this,void 0,void 0,(function*(){const _=this._inViewTiles.getTileById(c);_&&(_.state!=="loading"&&(_.state=A),yield this._loadTile(_,c,A))}))}_tileLoaded(c,A,_){c.timeAdded=I(),c.selfFading&&(c.fadeEndTime=c.timeAdded+this._rasterFadeDuration),_==="expired"&&(c.refreshedUponExpiration=!0),this._setTileReloadTimer(A,c),this.getSource().type==="raster-dem"&&c.dem&&(function(C,F){var U,V;const X=F.getRenderableIds();for(const ie of X){if(!C.neighboringTiles||!C.neighboringTiles[ie])continue;const se=F.getTileById(ie);C.neighboringTiles[ie].backfilled||ut(C,se),!((V=(U=se.neighboringTiles)===null||U===void 0?void 0:U[C.tileID.key])===null||V===void 0)&&V.backfilled||ut(se,C)}})(c,this._inViewTiles),this._state.initializeTileState(c,this.map?this.map.painter:null),c.aborted||this._source.fire(new s.l("data",{dataType:"source",tile:c,coord:c.tileID}))}getTile(c){return this.getTileByID(c.key)}getTileByID(c){return this._inViewTiles.getTileById(c)}_retainLoadedChildren(c,A){const _=this._getLoadedDescendents(A),C=new Set;for(const F of A){const U=_[F.key];if(!U?.length){C.add(F);continue}const V=F.overscaledZ+ni.maxOverzooming,X=U.filter((fe=>fe.tileID.overscaledZ<=V));if(!X.length){C.add(F);continue}const ie=Math.min(...X.map((fe=>fe.tileID.overscaledZ))),se=X.filter((fe=>fe.tileID.overscaledZ===ie)).map((fe=>fe.tileID));for(const fe of se)c[fe.key]=fe;this._areDescendentsComplete(se,ie,F.overscaledZ)||C.add(F)}return C}_getLoadedDescendents(c){var A;const _={};for(const C of this._inViewTiles.getAllTiles().filter((F=>F.hasData())))for(const F of c)C.tileID.isChildOf(F)&&(_[A=F.key]||(_[A]=[])).push(C);return _}_areDescendentsComplete(c,A,_){return c.length===1&&c[0].isOverscaled()?c[0].overscaledZ===A:Math.pow(4,A-_)===c.length}getLoadedTile(c){return this._inViewTiles.getLoadedTile(c)}updateCacheSize(c){const A=Math.ceil(c.width/this._source.tileSize)+1,_=Math.ceil(c.height/this._source.tileSize)+1,C=Math.floor(A*_*(this._maxTileCacheZoomLevels===null?s.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),F=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,C):C;this._outOfViewCache.setMaxSize(F)}handleWrapJump(c){const A=Math.round((c-(this._prevLng===void 0?c:this._prevLng))/360);this._prevLng=c,A&&(this._inViewTiles.handleWrapJump(A),this._resetTileReloadTimers())}update(c,A){if(!this._sourceLoaded||this._paused)return;let _;this.transform=c,this.terrain=A,this.updateCacheSize(c),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?_=c.getVisibleUnwrappedCoordinates(this._source.tileID).map((X=>new s.a2(X.canonical.z,X.wrap,X.canonical.z,X.canonical.x,X.canonical.y))):(_=gn(c,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?c.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:A,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(_=_.filter((X=>this._source.hasTile(X))))):_=[],this.usedForTerrain&&(_=this._addTerrainIdealTiles(_));const C=_.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,C&&this.fire(new s.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const F=Di(c,this._source),U=this._updateRetainedTiles(_,F),V=Xi(this._source.type);V&&this._rasterFadeDuration>0&&!A&&(function(X,ie,se,fe,ue,ye,Te){const Ne=I(),Ge=s.av(ie);for(const He of ie){const et=X.getTileById(He.key);et.fadingDirection!==xt.Departing&&et.fadeOpacity!==0||et.resetFadeLogic(),sn(X,et,se,Ne,fe,ue,Te)||Ue(X,et,se,Ne,ye,Te)||_t(et,Ge,Ne,Te)||et.resetFadeLogic()}})(this._inViewTiles,_,U,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),V?this._cleanUpRasterTiles(U):this._cleanUpVectorTiles(U)}_cleanUpRasterTiles(c){for(const A of this._inViewTiles.getAllIds())c[A]||this._removeTile(A)}_cleanUpVectorTiles(c){for(const A of this._inViewTiles.getAllIds()){const _=this._inViewTiles.getTileById(A);c[A]?_.clearSymbolFadeHold():_.hasSymbolBuckets?_.holdingForSymbolFade()?_.symbolFadeFinished()&&this._removeTile(A):_.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(A)}}_addTerrainIdealTiles(c){const A=[];for(const _ of c)if(_.canonical.z>this._source.minzoom){const C=_.scaledTo(_.canonical.z-1);A.push(C);const F=_.scaledTo(Math.max(this._source.minzoom,Math.min(_.canonical.z,5)));A.push(F)}return c.concat(A)}releaseSymbolFadeTiles(){for(const c of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(c).holdingForSymbolFade()&&this._removeTile(c)}_updateRetainedTiles(c,A){var _;const C=new Set;for(const ie of c)this._addTile(ie).hasData()||C.add(ie);const F=c.reduce(((ie,se)=>(ie[se.key]=se,ie)),{}),U=this._retainLoadedChildren(F,C),V={},X=Math.max(A-ni.maxUnderzooming,this._source.minzoom);for(const ie of U){let se=this._inViewTiles.getTileById(ie.key),fe=se?.wasRequested();for(let ue=ie.overscaledZ-1;ue>=X;--ue){const ye=ie.scaledTo(ue);if(V[ye.key])break;if(V[ye.key]=!0,se=this.getTile(ye),!se&&fe&&(se=this._addTile(ye)),se){const Te=se.hasData();if((Te||!(!((_=this.map)===null||_===void 0)&&_.cancelPendingTileRequestsWhileZooming)||fe)&&(F[ye.key]=ye),fe=se.wasRequested(),Te)break}}}return F}_addTile(c){let A=this._inViewTiles.getTileById(c.key);if(A)return A;A=this._outOfViewCache.getAndRemove(c),A&&(A.resetFadeLogic(),this._setTileReloadTimer(c.key,A),A.tileID=c,this._state.initializeTileState(A,this.map?this.map.painter:null));const _=A;return A||(A=new jt(c,this._source.tileSize*c.overscaleFactor()),this._loadTile(A,c.key,A.state)),A.uses++,this._inViewTiles.setTile(c.key,A),_||this._source.fire(new s.l("dataloading",{tile:A,coord:A.tileID,dataType:"source"})),A}_setTileReloadTimer(c,A){this._clearTileReloadTimer(c);const _=A.getExpiryTimeout();_&&(this._timers[c]=setTimeout((()=>{this._reloadTile(c,"expired"),delete this._timers[c]}),_))}_clearTileReloadTimer(c){const A=this._timers[c];A&&(clearTimeout(A),delete this._timers[c])}_resetTileReloadTimers(){for(const c in this._timers)clearTimeout(this._timers[c]),delete this._timers[c];for(const c of this._inViewTiles.getAllIds()){const A=this._inViewTiles.getTileById(c);this._setTileReloadTimer(c,A)}}refreshTiles(c){for(const A of this._inViewTiles.getAllIds()){const _=this._inViewTiles.getTileById(A);(this._inViewTiles.isIdRenderable(A)||_.state=="errored")&&c.some((C=>C.equals(_.tileID.canonical)))&&this._reloadTile(A,"expired")}}_removeTile(c){const A=this._inViewTiles.getTileById(c);A&&(A.uses--,this._inViewTiles.deleteTileById(c),this._clearTileReloadTimer(c),A.uses>0||(A.hasData()&&A.state!=="reloading"?this._outOfViewCache.add(A.tileID,A,A.getExpiryTimeout()):(A.aborted=!0,this._abortTile(A),this._unloadTile(A))))}_dataHandler(c){c.dataType==="source"&&(c.sourceDataType!=="metadata"?c.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(c.sourceDataChanged,c.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const c of this._inViewTiles.getAllIds())this._removeTile(c);this._outOfViewCache.reset()}tilesIn(c,A,_){const C=[],F=this.transform;if(!F)return C;const U=F.getCoveringTilesDetailsProvider().allowWorldCopies(),V=_?F.getCameraQueryGeometry(c):c,X=ye=>F.screenPointToMercatorCoordinate(ye,this.terrain),ie=this.transformBbox(c,X,!U),se=this.transformBbox(V,X,!U),fe=this.getIds(),ue=s.aa.fromPoints(se);for(let ye=0;ye<fe.length;ye++){const Te=this._inViewTiles.getTileById(fe[ye]);if(Te.holdingForSymbolFade())continue;const Ne=U?[Te.tileID]:[Te.tileID.unwrapTo(-1),Te.tileID.unwrapTo(0)],Ge=Math.pow(2,F.zoom-Te.tileID.overscaledZ),He=A*Te.queryPadding*s.a5/Te.tileSize/Ge;for(const et of Ne){const ct=ue.map((Ze=>et.getTilePoint(new s.a9(Ze.x,Ze.y))));if(ct.expandBy(He),ct.intersects(fi)){const Ze=ie.map((At=>et.getTilePoint(At))),ot=se.map((At=>et.getTilePoint(At)));C.push({tile:Te,tileID:U?et:et.unwrapTo(0),queryGeometry:Ze,cameraQueryGeometry:ot,scale:Ge})}}}return C}transformBbox(c,A,_){let C=c.map(A);if(_){const F=s.aa.fromPoints(c);F.shrinkBy(.001*Math.min(F.width(),F.height()));const U=F.map(A);s.aa.fromPoints(C).covers(U)||(C=C.map((V=>V.x>.5?new s.a9(V.x-1,V.y,V.z):V)))}return C}getVisibleCoordinates(c){const A=this.getRenderableIds(c).map((_=>this._inViewTiles.getTileById(_).tileID));return this.transform&&this.transform.populateCache(A),A}hasTransition(){return!!this._source.hasTransition()||!(!Xi(this._source.type)||!(function(c,A){if(A<=0)return!1;const _=I();for(const C of c.getAllTiles())if(C.fadeEndTime>=_)return!0;return!1})(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(c){this._rasterFadeDuration=c}setFeatureState(c,A,_){this._state.updateState(c=c||s.ai,A,_)}removeFeatureState(c,A,_){this._state.removeFeatureState(c=c||s.ai,A,_)}getFeatureState(c,A){return this._state.getState(c=c||s.ai,A)}setDependencies(c,A,_){const C=this._inViewTiles.getTileById(c);C&&C.setDependencies(A,_)}reloadTilesForDependencies(c,A){for(const _ of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(_).hasDependency(c,A)&&this._reloadTile(_,"reloading");this._outOfViewCache.filter((_=>!_.hasDependency(c,A)))}areTilesLoaded(){for(const c of this._inViewTiles.getAllTiles())if(c.state!=="loaded"&&c.state!=="errored")return!1;return!0}}ni.maxUnderzooming=10,ni.maxOverzooming=3;class pt{constructor(c,A){this.reset(c,A)}reset(c,A){this.points=c||[],this._distances=[0];for(let _=1;_<this.points.length;_++)this._distances[_]=this._distances[_-1]+this.points[_].dist(this.points[_-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(A||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(c){if(this.points.length===1)return this.points[0];c=s.an(c,0,1);let A=1,_=this._distances[A];const C=c*this.paddedLength+this.padding;for(;_<C&&A<this._distances.length;)_=this._distances[++A];const F=A-1,U=this._distances[F],V=_-U,X=V>0?(C-U)/V:0;return this.points[F].mult(1-X).add(this.points[A].mult(X))}}function Gt(M,c){let A=!0;return M==="always"||M!=="never"&&c!=="never"||(A=!1),A}class ti{constructor(c,A,_){const C=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(c/_),this.yCellCount=Math.ceil(A/_);for(let U=0;U<this.xCellCount*this.yCellCount;U++)C.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=A,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/A,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(c,A,_,C,F){this._forEachCell(A,_,C,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(A),this.bboxes.push(_),this.bboxes.push(C),this.bboxes.push(F)}insertCircle(c,A,_,C){this._forEachCell(A-C,_-C,A+C,_+C,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(A),this.circles.push(_),this.circles.push(C)}_insertBoxCell(c,A,_,C,F,U){this.boxCells[F].push(U)}_insertCircleCell(c,A,_,C,F,U){this.circleCells[F].push(U)}_query(c,A,_,C,F,U,V){if(_<0||c>this.width||C<0||A>this.height)return[];const X=[];if(c<=0&&A<=0&&this.width<=_&&this.height<=C){if(F)return[{key:null,x1:c,y1:A,x2:_,y2:C}];for(let ie=0;ie<this.boxKeys.length;ie++)X.push({key:this.boxKeys[ie],x1:this.bboxes[4*ie],y1:this.bboxes[4*ie+1],x2:this.bboxes[4*ie+2],y2:this.bboxes[4*ie+3]});for(let ie=0;ie<this.circleKeys.length;ie++){const se=this.circles[3*ie],fe=this.circles[3*ie+1],ue=this.circles[3*ie+2];X.push({key:this.circleKeys[ie],x1:se-ue,y1:fe-ue,x2:se+ue,y2:fe+ue})}}else this._forEachCell(c,A,_,C,this._queryCell,X,{hitTest:F,overlapMode:U,seenUids:{box:{},circle:{}}},V);return X}query(c,A,_,C){return this._query(c,A,_,C,!1,null)}hitTest(c,A,_,C,F,U){return this._query(c,A,_,C,!0,F,U).length>0}hitTestCircle(c,A,_,C,F){const U=c-_,V=c+_,X=A-_,ie=A+_;if(V<0||U>this.width||ie<0||X>this.height)return!1;const se=[];return this._forEachCell(U,X,V,ie,this._queryCellCircle,se,{hitTest:!0,overlapMode:C,circle:{x:c,y:A,radius:_},seenUids:{box:{},circle:{}}},F),se.length>0}_queryCell(c,A,_,C,F,U,V,X){const{seenUids:ie,hitTest:se,overlapMode:fe}=V,ue=this.boxCells[F];if(ue!==null){const Te=this.bboxes;for(const Ne of ue)if(!ie.box[Ne]){ie.box[Ne]=!0;const Ge=4*Ne,He=this.boxKeys[Ne];if(c<=Te[Ge+2]&&A<=Te[Ge+3]&&_>=Te[Ge+0]&&C>=Te[Ge+1]&&(!X||X(He))&&(!se||!Gt(fe,He.overlapMode))&&(U.push({key:He,x1:Te[Ge],y1:Te[Ge+1],x2:Te[Ge+2],y2:Te[Ge+3]}),se))return!0}}const ye=this.circleCells[F];if(ye!==null){const Te=this.circles;for(const Ne of ye)if(!ie.circle[Ne]){ie.circle[Ne]=!0;const Ge=3*Ne,He=this.circleKeys[Ne];if(this._circleAndRectCollide(Te[Ge],Te[Ge+1],Te[Ge+2],c,A,_,C)&&(!X||X(He))&&(!se||!Gt(fe,He.overlapMode))){const et=Te[Ge],ct=Te[Ge+1],Ze=Te[Ge+2];if(U.push({key:He,x1:et-Ze,y1:ct-Ze,x2:et+Ze,y2:ct+Ze}),se)return!0}}}return!1}_queryCellCircle(c,A,_,C,F,U,V,X){const{circle:ie,seenUids:se,overlapMode:fe}=V,ue=this.boxCells[F];if(ue!==null){const Te=this.bboxes;for(const Ne of ue)if(!se.box[Ne]){se.box[Ne]=!0;const Ge=4*Ne,He=this.boxKeys[Ne];if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Te[Ge+0],Te[Ge+1],Te[Ge+2],Te[Ge+3])&&(!X||X(He))&&!Gt(fe,He.overlapMode))return U.push(!0),!0}}const ye=this.circleCells[F];if(ye!==null){const Te=this.circles;for(const Ne of ye)if(!se.circle[Ne]){se.circle[Ne]=!0;const Ge=3*Ne,He=this.circleKeys[Ne];if(this._circlesCollide(Te[Ge],Te[Ge+1],Te[Ge+2],ie.x,ie.y,ie.radius)&&(!X||X(He))&&!Gt(fe,He.overlapMode))return U.push(!0),!0}}}_forEachCell(c,A,_,C,F,U,V,X){const ie=this._convertToXCellCoord(c),se=this._convertToYCellCoord(A),fe=this._convertToXCellCoord(_),ue=this._convertToYCellCoord(C);for(let ye=ie;ye<=fe;ye++)for(let Te=se;Te<=ue;Te++)if(F.call(this,c,A,_,C,this.xCellCount*Te+ye,U,V,X))return}_convertToXCellCoord(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))}_convertToYCellCoord(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))}_circlesCollide(c,A,_,C,F,U){const V=C-c,X=F-A,ie=_+U;return ie*ie>V*V+X*X}_circleAndRectCollide(c,A,_,C,F,U,V){const X=(U-C)/2,ie=Math.abs(c-(C+X));if(ie>X+_)return!1;const se=(V-F)/2,fe=Math.abs(A-(F+se));if(fe>se+_)return!1;if(ie<=X||fe<=se)return!0;const ue=ie-X,ye=fe-se;return ue*ue+ye*ye<=_*_}}function Ci(M,c,A){const _=s.N();if(!M){const{vecSouth:fe,vecEast:ue}=Gi(c),ye=d();ye[0]=ue[0],ye[1]=ue[1],ye[2]=fe[0],ye[3]=fe[1],C=ye,(se=(U=(F=ye)[0])*(ie=F[3])-(X=F[2])*(V=F[1]))&&(C[0]=ie*(se=1/se),C[1]=-V*se,C[2]=-X*se,C[3]=U*se),_[0]=ye[0],_[1]=ye[1],_[4]=ye[2],_[5]=ye[3]}var C,F,U,V,X,ie,se;return s.Q(_,_,[1/A,1/A,1]),_}function pn(M,c,A,_){if(M){const C=s.N();if(!c){const{vecSouth:F,vecEast:U}=Gi(A);C[0]=U[0],C[1]=U[1],C[4]=F[0],C[5]=F[1]}return s.Q(C,C,[_,_,1]),C}return A.pixelsToClipSpaceMatrix}function Gi(M){const c=Math.cos(M.rollInRadians),A=Math.sin(M.rollInRadians),_=Math.cos(M.pitchInRadians),C=Math.cos(M.bearingInRadians),F=Math.sin(M.bearingInRadians),U=s.aC();U[0]=-C*_*A-F*c,U[1]=-F*_*A+C*c;const V=s.aD(U);V<1e-9?s.aE(U):s.aF(U,U,1/V);const X=s.aC();X[0]=C*_*c-F*A,X[1]=F*_*c+C*A;const ie=s.aD(X);return ie<1e-9?s.aE(X):s.aF(X,X,1/ie),{vecEast:X,vecSouth:U}}function ki(M,c,A,_){let C;_?(C=[M,c,_(M,c),1],s.aH(C,C,A)):(C=[M,c,0,1],Is(C,C,A));const F=C[3];return{point:new s.P(C[0]/F,C[1]/F),signedDistanceFromCamera:F,isOccluded:!1}}function Hi(M,c){return .5+M/c*.5}function Yi(M,c){return M.x>=-c[0]&&M.x<=c[0]&&M.y>=-c[1]&&M.y<=c[1]}function on(M,c,A,_,C,F,U,V,X,ie,se,fe,ue){const ye=A?M.textSizeData:M.iconSizeData,Te=s.ay(ye,c.transform.zoom),Ne=[256/c.width*2+1,256/c.height*2+1],Ge=A?M.text.dynamicLayoutVertexArray:M.icon.dynamicLayoutVertexArray;Ge.clear();const He=M.lineVertexArray,et=A?M.text.placedSymbolArray:M.icon.placedSymbolArray,ct=c.transform.width/c.transform.height;let Ze=!1;for(let ot=0;ot<et.length;ot++){const At=et.get(ot);if(At.hidden||At.writingMode===s.az.vertical&&!Ze){vn(At.numGlyphs,Ge);continue}Ze=!1;const rt=new s.P(At.anchorX,At.anchorY),St={getElevation:ue,pitchedLabelPlaneMatrix:_,lineVertexArray:He,pitchWithMap:F,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:c.transform,tileAnchorPoint:rt,unwrappedTileID:X,width:ie,height:se,translation:fe},Xt=nr(At.anchorX,At.anchorY,St);if(!Yi(Xt.point,Ne)){vn(At.numGlyphs,Ge);continue}const Ut=Hi(c.transform.cameraToCenterDistance,Xt.signedDistanceFromCamera),zt=s.aA(ye,Te,At),Ht=F?zt*c.transform.getPitchedTextCorrection(At.anchorX,At.anchorY,X)/Ut:zt*Ut,Ti=Wn({projectionContext:St,pitchedLabelPlaneMatrixInverse:C,symbol:At,fontSize:Ht,flip:!1,keepUpright:U,glyphOffsetArray:M.glyphOffsetArray,dynamicLayoutVertexArray:Ge,aspectRatio:ct,rotateToLine:V});Ze=Ti.useVertical,(Ti.notEnoughRoom||Ze||Ti.needsFlipping&&Wn({projectionContext:St,pitchedLabelPlaneMatrixInverse:C,symbol:At,fontSize:Ht,flip:!0,keepUpright:U,glyphOffsetArray:M.glyphOffsetArray,dynamicLayoutVertexArray:Ge,aspectRatio:ct,rotateToLine:V}).notEnoughRoom)&&vn(At.numGlyphs,Ge)}A?M.text.dynamicLayoutVertexBuffer.updateData(Ge):M.icon.dynamicLayoutVertexBuffer.updateData(Ge)}function ha(M,c,A,_,C,F,U,V){const X=F.glyphStartIndex+F.numGlyphs,ie=F.lineStartIndex,se=F.lineStartIndex+F.lineLength,fe=c.getoffsetX(F.glyphStartIndex),ue=c.getoffsetX(X-1),ye=Cn(M*fe,A,_,C,F.segment,ie,se,V,U);if(!ye)return null;const Te=Cn(M*ue,A,_,C,F.segment,ie,se,V,U);return Te?V.projectionCache.anyProjectionOccluded?null:{first:ye,last:Te}:null}function _n(M,c,A,_){return M===s.az.horizontal&&Math.abs(A.y-c.y)>Math.abs(A.x-c.x)*_?{useVertical:!0}:(M===s.az.vertical?c.y<A.y:c.x>A.x)?{needsFlipping:!0}:null}function Wn(M){const{projectionContext:c,pitchedLabelPlaneMatrixInverse:A,symbol:_,fontSize:C,flip:F,keepUpright:U,glyphOffsetArray:V,dynamicLayoutVertexArray:X,aspectRatio:ie,rotateToLine:se}=M,fe=C/24,ue=_.lineOffsetX*fe,ye=_.lineOffsetY*fe;let Te;if(_.numGlyphs>1){const Ne=_.glyphStartIndex+_.numGlyphs,Ge=_.lineStartIndex,He=_.lineStartIndex+_.lineLength,et=ha(fe,V,ue,ye,F,_,se,c);if(!et)return{notEnoughRoom:!0};const ct=Ja(et.first.point.x,et.first.point.y,c,A),Ze=Ja(et.last.point.x,et.last.point.y,c,A);if(U&&!F){const ot=_n(_.writingMode,ct,Ze,ie);if(ot)return ot}Te=[et.first];for(let ot=_.glyphStartIndex+1;ot<Ne-1;ot++){const At=Cn(fe*V.getoffsetX(ot),ue,ye,F,_.segment,Ge,He,c,se);if(!At)return{notEnoughRoom:!0};Te.push(At)}Te.push(et.last)}else{if(U&&!F){const Ge=nn(c.tileAnchorPoint.x,c.tileAnchorPoint.y,c).point,He=_.lineStartIndex+_.segment+1,et=new s.P(c.lineVertexArray.getx(He),c.lineVertexArray.gety(He)),ct=nn(et.x,et.y,c),Ze=ct.signedDistanceFromCamera>0?ct.point:qt(c.tileAnchorPoint,et,Ge,1,c),ot=Ja(Ge.x,Ge.y,c,A),At=Ja(Ze.x,Ze.y,c,A),rt=_n(_.writingMode,ot,At,ie);if(rt)return rt}const Ne=Cn(fe*V.getoffsetX(_.glyphStartIndex),ue,ye,F,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,c,se);if(!Ne||c.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Te=[Ne]}for(const Ne of Te)s.aG(X,Ne.point,Ne.angle);return{}}function qt(M,c,A,_,C){const F=M.add(M.sub(c)._unit()),U=nn(F.x,F.y,C).point,V=A.sub(U);return A.add(V._mult(_/V.mag()))}function Ma(M,c,A){const _=c.projectionCache;if(_.projections[M])return _.projections[M];const C=new s.P(c.lineVertexArray.getx(M),c.lineVertexArray.gety(M)),F=nn(C.x,C.y,c);if(F.signedDistanceFromCamera>0)return _.projections[M]=F.point,_.anyProjectionOccluded=_.anyProjectionOccluded||F.isOccluded,F.point;const U=M-A.direction;return qt(A.distanceFromAnchor===0?c.tileAnchorPoint:new s.P(c.lineVertexArray.getx(U),c.lineVertexArray.gety(U)),C,A.previousVertex,A.absOffsetX-A.distanceFromAnchor+1,c)}function nn(M,c,A){const _=M+A.translation[0],C=c+A.translation[1];let F;return A.pitchWithMap?(F=ki(_,C,A.pitchedLabelPlaneMatrix,A.getElevation),F.isOccluded=!1):(F=A.transform.projectTileCoordinates(_,C,A.unwrappedTileID,A.getElevation),F.point.x=(.5*F.point.x+.5)*A.width,F.point.y=(.5*-F.point.y+.5)*A.height),F}function Ja(M,c,A,_){if(A.pitchWithMap){const C=[M,c,0,1];return s.aH(C,C,_),A.transform.projectTileCoordinates(C[0]/C[3],C[1]/C[3],A.unwrappedTileID,A.getElevation).point}return{x:M/A.width*2-1,y:1-c/A.height*2}}function nr(M,c,A){return A.transform.projectTileCoordinates(M,c,A.unwrappedTileID,A.getElevation)}function qn(M,c,A){return M._unit()._perp()._mult(c*A)}function Zn(M,c,A,_,C,F,U,V,X){if(V.projectionCache.offsets[M])return V.projectionCache.offsets[M];const ie=A.add(c);if(M+X.direction<_||M+X.direction>=C)return V.projectionCache.offsets[M]=ie,ie;const se=Ma(M+X.direction,V,X),fe=qn(se.sub(A),U,X.direction),ue=A.add(fe),ye=se.add(fe);return V.projectionCache.offsets[M]=s.aI(F,ie,ue,ye)||ie,V.projectionCache.offsets[M]}function Cn(M,c,A,_,C,F,U,V,X){const ie=_?M-c:M+c;let se=ie>0?1:-1,fe=0;_&&(se*=-1,fe=Math.PI),se<0&&(fe+=Math.PI);let ue,ye=se>0?F+C:F+C+1;V.projectionCache.cachedAnchorPoint?ue=V.projectionCache.cachedAnchorPoint:(ue=nn(V.tileAnchorPoint.x,V.tileAnchorPoint.y,V).point,V.projectionCache.cachedAnchorPoint=ue);let Te,Ne,Ge=ue,He=ue,et=0,ct=0;const Ze=Math.abs(ie),ot=[];let At;for(;et+ct<=Ze;){if(ye+=se,ye<F||ye>=U)return null;et+=ct,He=Ge,Ne=Te;const Xt={absOffsetX:Ze,direction:se,distanceFromAnchor:et,previousVertex:He};if(Ge=Ma(ye,V,Xt),A===0)ot.push(He),At=Ge.sub(He);else{let Ut;const zt=Ge.sub(He);Ut=zt.mag()===0?qn(Ma(ye+se,V,Xt).sub(Ge),A,se):qn(zt,A,se),Ne||(Ne=He.add(Ut)),Te=Zn(ye,Ut,Ge,F,U,Ne,A,V,Xt),ot.push(Ne),At=Te.sub(Ne)}ct=At.mag()}const rt=At._mult((Ze-et)/ct)._add(Ne||He),St=fe+Math.atan2(Ge.y-He.y,Ge.x-He.x);return ot.push(rt),{point:rt,angle:X?St:0,path:ot}}const Xo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function vn(M,c){for(let A=0;A<M;A++){const _=c.length;c.resize(_+4),c.float32.set(Xo,3*_)}}function Is(M,c,A){const _=c[0],C=c[1];return M[0]=A[0]*_+A[4]*C+A[12],M[1]=A[1]*_+A[5]*C+A[13],M[3]=A[3]*_+A[7]*C+A[15],M}const Hn=100;class ds{constructor(c,A=new ti(c.width+200,c.height+200,25),_=new ti(c.width+200,c.height+200,25)){this.transform=c,this.grid=A,this.ignoredGrid=_,this.pitchFactor=Math.cos(c.pitch*Math.PI/180)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+Hn,this.screenBottomBoundary=c.height+Hn,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(c,A,_,C,F,U,V,X,ie,se,fe,ue){const ye=this.projectAndGetPerspectiveRatio(c.anchorPointX+X[0],c.anchorPointY+X[1],F,se,ue),Te=_*ye.perspectiveRatio;let Ne;if(U||V)Ne=this._projectCollisionBox(c,Te,C,F,U,V,X,ye,se,fe,ue);else{const At=ye.x+(fe?fe.x*Te:0),rt=ye.y+(fe?fe.y*Te:0);Ne={allPointsOccluded:!1,box:[At+c.x1*Te,rt+c.y1*Te,At+c.x2*Te,rt+c.y2*Te]}}const[Ge,He,et,ct]=Ne.box,Ze=U?Ne.allPointsOccluded:ye.isOccluded;let ot=Ze;return ot||(ot=ye.perspectiveRatio<this.perspectiveRatioCutoff),ot||(ot=!this.isInsideGrid(Ge,He,et,ct)),ot||A!=="always"&&this.grid.hitTest(Ge,He,et,ct,A,ie)?{box:[Ge,He,et,ct],placeable:!1,offscreen:!1,occluded:Ze}:{box:[Ge,He,et,ct],placeable:!0,offscreen:this.isOffscreen(Ge,He,et,ct),occluded:Ze}}placeCollisionCircles(c,A,_,C,F,U,V,X,ie,se,fe,ue,ye,Te){const Ne=[],Ge=new s.P(A.anchorX,A.anchorY),He=this.getPerspectiveRatio(Ge.x,Ge.y,U,Te),et=(ie?F*this.transform.getPitchedTextCorrection(A.anchorX,A.anchorY,U)/He:F*He)/s.aM,ct={getElevation:Te,pitchedLabelPlaneMatrix:V,lineVertexArray:_,pitchWithMap:ie,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:Ge,unwrappedTileID:U,width:this.transform.width,height:this.transform.height,translation:ye},Ze=ha(et,C,A.lineOffsetX*et,A.lineOffsetY*et,!1,A,!1,ct);let ot=!1,At=!1,rt=!0;if(Ze){const St=.5*fe*He+ue,Xt=new s.P(-100,-100),Ut=new s.P(this.screenRightBoundary,this.screenBottomBoundary),zt=new pt,Ht=Ze.first,Ti=Ze.last;let Li=[];for(let ua=Ht.path.length-1;ua>=1;ua--)Li.push(Ht.path[ua]);for(let ua=1;ua<Ti.path.length;ua++)Li.push(Ti.path[ua]);const pi=2.5*St;if(ie){const ua=this.projectPathToScreenSpace(Li,ct);Li=ua.some((tr=>tr.signedDistanceFromCamera<=0))?[]:ua.map((tr=>tr.point))}let zi=[];if(Li.length>0){const ua=Li[0].clone(),tr=Li[0].clone();for(let Rr=1;Rr<Li.length;Rr++)ua.x=Math.min(ua.x,Li[Rr].x),ua.y=Math.min(ua.y,Li[Rr].y),tr.x=Math.max(tr.x,Li[Rr].x),tr.y=Math.max(tr.y,Li[Rr].y);zi=ua.x>=Xt.x&&tr.x<=Ut.x&&ua.y>=Xt.y&&tr.y<=Ut.y?[Li]:tr.x<Xt.x||ua.x>Ut.x||tr.y<Xt.y||ua.y>Ut.y?[]:s.aJ([Li],Xt.x,Xt.y,Ut.x,Ut.y)}for(const ua of zi){zt.reset(ua,.25*St);let tr=0;tr=zt.length<=.5*St?1:Math.ceil(zt.paddedLength/pi)+1;for(let Rr=0;Rr<tr;Rr++){const gr=Rr/Math.max(tr-1,1),Qr=zt.lerp(gr),mr=Qr.x+Hn,os=Qr.y+Hn;Ne.push(mr,os,St,0);const jr=mr-St,io=os-St,Cs=mr+St,ps=os+St;if(rt=rt&&this.isOffscreen(jr,io,Cs,ps),At=At||this.isInsideGrid(jr,io,Cs,ps),c!=="always"&&this.grid.hitTestCircle(mr,os,St,c,se)&&(ot=!0,!X))return{circles:[],offscreen:!1,collisionDetected:ot}}}}return{circles:!X&&ot||!At||He<this.perspectiveRatioCutoff?[]:Ne,offscreen:rt,collisionDetected:ot}}projectPathToScreenSpace(c,A){const _=(function(C,F){const U=s.N();return s.aB(U,F.pitchedLabelPlaneMatrix),C.map((V=>{const X=ki(V.x,V.y,U,F.getElevation),ie=F.transform.projectTileCoordinates(X.point.x,X.point.y,F.unwrappedTileID,F.getElevation);return ie.point.x=(.5*ie.point.x+.5)*F.width,ie.point.y=(.5*-ie.point.y+.5)*F.height,ie}))})(c,A);return(function(C){let F=0,U=0,V=0,X=0;for(let ie=0;ie<C.length;ie++)C[ie].isOccluded?(V=ie+1,X=0):(X++,X>U&&(U=X,F=V));return C.slice(F,F+U)})(_)}queryRenderedSymbols(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const A=[],_=new s.aa;for(const fe of c){const ue=new s.P(fe.x+Hn,fe.y+Hn);_.extend(ue),A.push(ue)}const{minX:C,minY:F,maxX:U,maxY:V}=_,X=this.grid.query(C,F,U,V).concat(this.ignoredGrid.query(C,F,U,V)),ie={},se={};for(const fe of X){const ue=fe.key;if(ie[ue.bucketInstanceId]===void 0&&(ie[ue.bucketInstanceId]={}),ie[ue.bucketInstanceId][ue.featureIndex])continue;const ye=[new s.P(fe.x1,fe.y1),new s.P(fe.x2,fe.y1),new s.P(fe.x2,fe.y2),new s.P(fe.x1,fe.y2)];s.aK(A,ye)&&(ie[ue.bucketInstanceId][ue.featureIndex]=!0,se[ue.bucketInstanceId]===void 0&&(se[ue.bucketInstanceId]=[]),se[ue.bucketInstanceId].push(ue.featureIndex))}return se}insertCollisionBox(c,A,_,C,F,U){(_?this.ignoredGrid:this.grid).insert({bucketInstanceId:C,featureIndex:F,collisionGroupID:U,overlapMode:A},c[0],c[1],c[2],c[3])}insertCollisionCircles(c,A,_,C,F,U){const V=_?this.ignoredGrid:this.grid,X={bucketInstanceId:C,featureIndex:F,collisionGroupID:U,overlapMode:A};for(let ie=0;ie<c.length;ie+=4)V.insertCircle(X,c[ie],c[ie+1],c[ie+2])}projectAndGetPerspectiveRatio(c,A,_,C,F){if(F){let U;C?(U=[c,A,C(c,A),1],s.aH(U,U,F)):(U=[c,A,0,1],Is(U,U,F));const V=U[3];return{x:(U[0]/V+1)/2*this.transform.width+Hn,y:(-U[1]/V+1)/2*this.transform.height+Hn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/V*.5,isOccluded:!1,signedDistanceFromCamera:V}}{const U=this.transform.projectTileCoordinates(c,A,_,C);return{x:(U.point.x+1)/2*this.transform.width+Hn,y:(1-U.point.y)/2*this.transform.height+Hn,perspectiveRatio:.5+this.transform.cameraToCenterDistance/U.signedDistanceFromCamera*.5,isOccluded:U.isOccluded,signedDistanceFromCamera:U.signedDistanceFromCamera}}}getPerspectiveRatio(c,A,_,C){const F=this.transform.projectTileCoordinates(c,A,_,C);return .5+this.transform.cameraToCenterDistance/F.signedDistanceFromCamera*.5}isOffscreen(c,A,_,C){return _<Hn||c>=this.screenRightBoundary||C<Hn||A>this.screenBottomBoundary}isInsideGrid(c,A,_,C){return _>=0&&c<this.gridRightBoundary&&C>=0&&A<this.gridBottomBoundary}getViewportMatrix(){const c=s.ar([]);return s.O(c,c,[-100,-100,0]),c}_projectCollisionBox(c,A,_,C,F,U,V,X,ie,se,fe){let ue=1,ye=0,Te=0,Ne=1;const Ge=c.anchorPointX+V[0],He=c.anchorPointY+V[1];if(U&&!F){const Li=this.projectAndGetPerspectiveRatio(Ge+1,He,C,ie,fe),pi=Li.x-X.x,zi=Math.atan((Li.y-X.y)/pi)+(pi<0?Math.PI:0),ua=Math.sin(zi),tr=Math.cos(zi);ue=tr,ye=ua,Te=-ua,Ne=tr}else if(!U&&F){const Li=Gi(this.transform);ue=Li.vecEast[0],ye=Li.vecEast[1],Te=Li.vecSouth[0],Ne=Li.vecSouth[1]}let et=X.x,ct=X.y,Ze=A;F&&(et=Ge,ct=He,Ze=Math.pow(2,-(this.transform.zoom-_.overscaledZ)),Ze*=this.transform.getPitchedTextCorrection(Ge,He,C),se||(Ze*=s.an(.5+X.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),se&&(et+=ue*se.x*Ze+Te*se.y*Ze,ct+=ye*se.x*Ze+Ne*se.y*Ze);const ot=c.x1*Ze,At=c.x2*Ze,rt=(ot+At)/2,St=c.y1*Ze,Xt=c.y2*Ze,Ut=(St+Xt)/2,zt=[{offsetX:ot,offsetY:St},{offsetX:rt,offsetY:St},{offsetX:At,offsetY:St},{offsetX:At,offsetY:Ut},{offsetX:At,offsetY:Xt},{offsetX:rt,offsetY:Xt},{offsetX:ot,offsetY:Xt},{offsetX:ot,offsetY:Ut}];let Ht=[];for(const{offsetX:Li,offsetY:pi}of zt)Ht.push(new s.P(et+ue*Li+Te*pi,ct+ye*Li+Ne*pi));let Ti=!1;if(F){const Li=Ht.map((pi=>this.projectAndGetPerspectiveRatio(pi.x,pi.y,C,ie,fe)));Ti=Li.some((pi=>!pi.isOccluded)),Ht=Li.map((pi=>new s.P(pi.x,pi.y)))}else Ti=!0;return{box:s.aL(Ht),allPointsOccluded:!Ti}}}class fs{constructor(c,A,_,C){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?A:-A))):C&&_?1:0,this.placed=_}isHidden(){return this.opacity===0&&!this.placed}}class fa{constructor(c,A,_,C,F){this.text=new fs(c?c.text:null,A,_,F),this.icon=new fs(c?c.icon:null,A,C,F)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Xa{constructor(c,A,_){this.text=c,this.icon=A,this.skipFade=_}}class nc{constructor(c,A,_,C,F){this.bucketInstanceId=c,this.featureIndex=A,this.sourceLayerIndex=_,this.bucketIndex=C,this.tileID=F}}class Po{constructor(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}}get(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){const A=++this.maxGroupID;this.collisionGroups[c]={ID:A,predicate:_=>_.collisionGroupID===A}}return this.collisionGroups[c]}}function Ea(M,c,A,_,C){const{horizontalAlign:F,verticalAlign:U}=s.aS(M);return new s.P(-(F-.5)*c+_[0]*C,-(U-.5)*A+_[1]*C)}class dr{constructor(c,A,_,C,F){this.transform=c.clone(),this.terrain=A,this.collisionIndex=new ds(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=_,this.retainedQueryData={},this.collisionGroups=new Po(C),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=F,F&&(F.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(c){const A=this.terrain;return A?(_,C)=>A.getElevation(c,_,C):null}getBucketParts(c,A,_,C){const F=_.getBucket(A),U=_.latestFeatureIndex;if(!F||!U||A.id!==F.layerIds[0])return;const V=_.collisionBoxArray,X=F.layers[0].layout,ie=F.layers[0].paint,se=Math.pow(2,this.transform.zoom-_.tileID.overscaledZ),fe=_.tileSize/s.a5,ue=_.tileID.toUnwrapped(),ye=X.get("text-rotation-alignment")==="map",Te=s.aN(_,1,this.transform.zoom),Ne=s.aO(this.collisionIndex.transform,_,ie.get("text-translate"),ie.get("text-translate-anchor")),Ge=s.aO(this.collisionIndex.transform,_,ie.get("icon-translate"),ie.get("icon-translate-anchor")),He=Ci(ye,this.transform,Te);this.retainedQueryData[F.bucketInstanceId]=new nc(F.bucketInstanceId,U,F.sourceLayerIndex,F.index,_.tileID);const et={bucket:F,layout:X,translationText:Ne,translationIcon:Ge,unwrappedTileID:ue,pitchedLabelPlaneMatrix:He,scale:se,textPixelRatio:fe,holdingForFade:_.holdingForSymbolFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:s.ay(F.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(C)for(const ct of F.sortKeyRanges){const{sortKey:Ze,symbolInstanceStart:ot,symbolInstanceEnd:At}=ct;c.push({sortKey:Ze,symbolInstanceStart:ot,symbolInstanceEnd:At,parameters:et})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:et})}attemptAnchorPlacement(c,A,_,C,F,U,V,X,ie,se,fe,ue,ye,Te,Ne,Ge,He,et,ct,Ze){const ot=s.aP[c.textAnchor],At=[c.textOffset0,c.textOffset1],rt=Ea(ot,_,C,At,F),St=this.collisionIndex.placeCollisionBox(A,ue,X,ie,se,V,U,Ge,fe.predicate,ct,rt,Ze);if((!et||this.collisionIndex.placeCollisionBox(et,ue,X,ie,se,V,U,He,fe.predicate,ct,rt,Ze).placeable)&&St.placeable){let Xt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[ye.crossTileID]&&this.prevPlacement.placements[ye.crossTileID]&&this.prevPlacement.placements[ye.crossTileID].text&&(Xt=this.prevPlacement.variableOffsets[ye.crossTileID].anchor),ye.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[ye.crossTileID]={textOffset:At,width:_,height:C,anchor:ot,textBoxScale:F,prevAnchor:Xt},this.markUsedJustification(Te,ot,ye,Ne),Te.allowVerticalPlacement&&(this.markUsedOrientation(Te,Ne,ye),this.placedOrientations[ye.crossTileID]=Ne),{shift:rt,placedGlyphBoxes:St}}}placeLayerBucketPart(c,A,_){const{bucket:C,layout:F,translationText:U,translationIcon:V,unwrappedTileID:X,pitchedLabelPlaneMatrix:ie,textPixelRatio:se,holdingForFade:fe,collisionBoxArray:ue,partiallyEvaluatedTextSize:ye,collisionGroup:Te}=c.parameters,Ne=F.get("text-optional"),Ge=F.get("icon-optional"),He=s.aQ(F,"text-overlap","text-allow-overlap"),et=He==="always",ct=s.aQ(F,"icon-overlap","icon-allow-overlap"),Ze=ct==="always",ot=F.get("text-rotation-alignment")==="map",At=F.get("text-pitch-alignment")==="map",rt=F.get("icon-text-fit")!=="none",St=F.get("symbol-z-order")==="viewport-y",Xt=et&&(Ze||!C.hasIconData()||Ge),Ut=Ze&&(et||!C.hasTextData()||Ne);!C.collisionArrays&&ue&&C.deserializeCollisionBoxes(ue);const zt=this.retainedQueryData[C.bucketInstanceId].tileID,Ht=this._getTerrainElevationFunc(zt),Ti=this.transform.getFastPathSimpleProjectionMatrix(zt),Li=(pi,zi,ua)=>{var tr,Rr;if(A[pi.crossTileID])return;if(fe)return void(this.placements[pi.crossTileID]=new Xa(!1,!1,!1));let gr=!1,Qr=!1,mr=!0,os=null,jr={box:null,placeable:!1,offscreen:null,occluded:!1},io={placeable:!1},Cs=null,ps=null,ho=null,Zu=0,mu=0,Hc=0;zi.textFeatureIndex?Zu=zi.textFeatureIndex:pi.useRuntimeCollisionCircles&&(Zu=pi.featureIndex),zi.verticalTextFeatureIndex&&(mu=zi.verticalTextFeatureIndex);const el=zi.textBox;if(el){const Ql=kr=>{let yr=s.az.horizontal;if(C.allowVerticalPlacement&&!kr&&this.prevPlacement){const Ws=this.prevPlacement.placedOrientations[pi.crossTileID];Ws&&(this.placedOrientations[pi.crossTileID]=Ws,yr=Ws,this.markUsedOrientation(C,yr,pi))}return yr},Qc=(kr,yr)=>{if(C.allowVerticalPlacement&&pi.numVerticalGlyphVertices>0&&zi.verticalTextBox){for(const Ws of C.writingModes)if(Ws===s.az.vertical?(jr=yr(),io=jr):jr=kr(),jr&&jr.placeable)break}else jr=kr()},dc=pi.textAnchorOffsetStartIndex,fc=pi.textAnchorOffsetEndIndex;if(fc===dc){const kr=(yr,Ws)=>{const $s=this.collisionIndex.placeCollisionBox(yr,He,se,zt,X,At,ot,U,Te.predicate,Ht,void 0,Ti);return $s&&$s.placeable&&(this.markUsedOrientation(C,Ws,pi),this.placedOrientations[pi.crossTileID]=Ws),$s};Qc((()=>kr(el,s.az.horizontal)),(()=>{const yr=zi.verticalTextBox;return C.allowVerticalPlacement&&pi.numVerticalGlyphVertices>0&&yr?kr(yr,s.az.vertical):{box:null,offscreen:null}})),Ql(jr&&jr.placeable)}else{let kr=s.aP[(Rr=(tr=this.prevPlacement)===null||tr===void 0?void 0:tr.variableOffsets[pi.crossTileID])===null||Rr===void 0?void 0:Rr.anchor];const yr=($s,Ay,py)=>{const Hh=$s.x2-$s.x1,Gv=$s.y2-$s.y1,gy=pi.textBoxScale,Vg=rt&&ct==="never"?Ay:null;let Ju=null,eh=He==="never"?1:2,th="never";kr&&eh++;for(let Gg=0;Gg<eh;Gg++){for(let Wg=dc;Wg<fc;Wg++){const JA=C.textAnchorOffsets.get(Wg);if(kr&&JA.textAnchor!==kr)continue;const ep=this.attemptAnchorPlacement(JA,$s,Hh,Gv,gy,ot,At,se,zt,X,Te,th,pi,C,py,U,V,Vg,Ht);if(ep&&(Ju=ep.placedGlyphBoxes,Ju&&Ju.placeable))return gr=!0,os=ep.shift,Ju}kr?kr=null:th=He}return _&&!Ju&&(Ju={box:this.collisionIndex.placeCollisionBox(el,"always",se,zt,X,At,ot,U,Te.predicate,Ht,void 0,Ti).box,offscreen:!1,placeable:!1,occluded:!1}),Ju};Qc((()=>yr(el,zi.iconBox,s.az.horizontal)),(()=>{const $s=zi.verticalTextBox;return C.allowVerticalPlacement&&(!jr||!jr.placeable)&&pi.numVerticalGlyphVertices>0&&$s?yr($s,zi.verticalIconBox,s.az.vertical):{box:null,occluded:!0,offscreen:null}})),jr&&(gr=jr.placeable,mr=jr.offscreen);const Ws=Ql(jr&&jr.placeable);if(!gr&&this.prevPlacement){const $s=this.prevPlacement.variableOffsets[pi.crossTileID];$s&&(this.variableOffsets[pi.crossTileID]=$s,this.markUsedJustification(C,$s.anchor,pi,Ws))}}}if(Cs=jr,gr=Cs&&Cs.placeable,mr=Cs&&Cs.offscreen,pi.useRuntimeCollisionCircles&&pi.centerJustifiedTextSymbolIndex>=0){const Ql=C.text.placedSymbolArray.get(pi.centerJustifiedTextSymbolIndex),Qc=s.aA(C.textSizeData,ye,Ql),dc=F.get("text-padding");ps=this.collisionIndex.placeCollisionCircles(He,Ql,C.lineVertexArray,C.glyphOffsetArray,Qc,X,ie,_,At,Te.predicate,pi.collisionCircleDiameter,dc,U,Ht),ps.circles.length&&ps.collisionDetected&&!_&&s.w("Collisions detected, but collision boxes are not shown"),gr=et||ps.circles.length>0&&!ps.collisionDetected,mr=mr&&ps.offscreen}if(zi.iconFeatureIndex&&(Hc=zi.iconFeatureIndex),zi.iconBox){const Ql=Qc=>this.collisionIndex.placeCollisionBox(Qc,ct,se,zt,X,At,ot,V,Te.predicate,Ht,rt&&os?os:void 0,Ti);io&&io.placeable&&zi.verticalIconBox?(ho=Ql(zi.verticalIconBox),Qr=ho.placeable):(ho=Ql(zi.iconBox),Qr=ho.placeable),mr=mr&&ho.offscreen}const Nh=Ne||pi.numHorizontalGlyphVertices===0&&pi.numVerticalGlyphVertices===0,If=Ge||pi.numIconVertices===0;Nh||If?If?Nh||(Qr=Qr&&gr):gr=Qr&&gr:Qr=gr=Qr&&gr;const zh=Qr&&ho.placeable;if(gr&&Cs.placeable&&this.collisionIndex.insertCollisionBox(Cs.box,He,F.get("text-ignore-placement"),C.bucketInstanceId,io&&io.placeable&&mu?mu:Zu,Te.ID),zh&&this.collisionIndex.insertCollisionBox(ho.box,ct,F.get("icon-ignore-placement"),C.bucketInstanceId,Hc,Te.ID),ps&&gr&&this.collisionIndex.insertCollisionCircles(ps.circles,He,F.get("text-ignore-placement"),C.bucketInstanceId,Zu,Te.ID),_&&this.storeCollisionData(C.bucketInstanceId,ua,zi,Cs,ho,ps),pi.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(C.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[pi.crossTileID]=new Xa((gr||Xt)&&!Cs?.occluded,(Qr||Ut)&&!ho?.occluded,mr||C.justReloaded),A[pi.crossTileID]=!0};if(St){if(c.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const pi=C.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let zi=pi.length-1;zi>=0;--zi){const ua=pi[zi];Li(C.symbolInstances.get(ua),C.collisionArrays[ua],ua)}}else for(let pi=c.symbolInstanceStart;pi<c.symbolInstanceEnd;pi++)Li(C.symbolInstances.get(pi),C.collisionArrays[pi],pi);C.justReloaded=!1}storeCollisionData(c,A,_,C,F,U){if(_.textBox||_.iconBox){let V,X;this.collisionBoxArrays.has(c)?V=this.collisionBoxArrays.get(c):(V=new Map,this.collisionBoxArrays.set(c,V)),V.has(A)?X=V.get(A):(X={text:null,icon:null},V.set(A,X)),_.textBox&&(X.text=C.box),_.iconBox&&(X.icon=F.box)}if(U){let V=this.collisionCircleArrays[c];V===void 0&&(V=this.collisionCircleArrays[c]=[]);for(let X=0;X<U.circles.length;X+=4)V.push(U.circles[X+0]-Hn),V.push(U.circles[X+1]-Hn),V.push(U.circles[X+2]),V.push(U.collisionDetected?1:0)}}markUsedJustification(c,A,_,C){let F;F=C===s.az.vertical?_.verticalPlacedTextSymbolIndex:{left:_.leftJustifiedTextSymbolIndex,center:_.centerJustifiedTextSymbolIndex,right:_.rightJustifiedTextSymbolIndex}[s.aR(A)];const U=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex,_.verticalPlacedTextSymbolIndex];for(const V of U)V>=0&&(c.text.placedSymbolArray.get(V).crossTileID=F>=0&&V!==F?0:_.crossTileID)}markUsedOrientation(c,A,_){const C=A===s.az.horizontal||A===s.az.horizontalOnly?A:0,F=A===s.az.vertical?A:0,U=[_.leftJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.rightJustifiedTextSymbolIndex];for(const V of U)c.text.placedSymbolArray.get(V).placedOrientation=C;_.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(_.verticalPlacedTextSymbolIndex).placedOrientation=F)}commit(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;const A=this.prevPlacement;let _=!1;this.prevZoomAdjustment=A?A.zoomAdjustment(this.transform.zoom):0;const C=A?A.symbolFadeChange(c):1,F=A?A.opacities:{},U=A?A.variableOffsets:{},V=A?A.placedOrientations:{};for(const X in this.placements){const ie=this.placements[X],se=F[X];se?(this.opacities[X]=new fa(se,C,ie.text,ie.icon),_=_||ie.text!==se.text.placed||ie.icon!==se.icon.placed):(this.opacities[X]=new fa(null,C,ie.text,ie.icon,ie.skipFade),_=_||ie.text||ie.icon)}for(const X in F){const ie=F[X];if(!this.opacities[X]){const se=new fa(ie,C,!1,!1);se.isHidden()||(this.opacities[X]=se,_=_||ie.text.placed||ie.icon.placed)}}for(const X in U)this.variableOffsets[X]||!this.opacities[X]||this.opacities[X].isHidden()||(this.variableOffsets[X]=U[X]);for(const X in V)this.placedOrientations[X]||!this.opacities[X]||this.opacities[X].isHidden()||(this.placedOrientations[X]=V[X]);if(A&&A.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");_?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=A?A.lastPlacementChangeTime:c)}updateLayerOpacities(c,A){const _={};for(const C of A){const F=C.getBucket(c);F&&C.latestFeatureIndex&&c.id===F.layerIds[0]&&this.updateBucketOpacities(F,C.tileID,_,C.collisionBoxArray)}}updateBucketOpacities(c,A,_,C){c.hasTextData()&&(c.text.opacityVertexArray.clear(),c.text.hasVisibleVertices=!1),c.hasIconData()&&(c.icon.opacityVertexArray.clear(),c.icon.hasVisibleVertices=!1),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();const F=c.layers[0],U=F.layout,V=new fa(null,0,!1,!1,!0),X=U.get("text-allow-overlap"),ie=U.get("icon-allow-overlap"),se=F._unevaluatedLayout.hasValue("text-variable-anchor")||F._unevaluatedLayout.hasValue("text-variable-anchor-offset"),fe=U.get("text-rotation-alignment")==="map",ue=U.get("text-pitch-alignment")==="map",ye=U.get("icon-text-fit")!=="none",Te=new fa(null,0,X&&(ie||!c.hasIconData()||U.get("icon-optional")),ie&&(X||!c.hasTextData()||U.get("text-optional")),!0);!c.collisionArrays&&C&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(C);const Ne=(He,et,ct)=>{for(let Ze=0;Ze<et/4;Ze++)He.opacityVertexArray.emplaceBack(ct);He.hasVisibleVertices=He.hasVisibleVertices||ct!==Ua},Ge=this.collisionBoxArrays.get(c.bucketInstanceId);for(let He=0;He<c.symbolInstances.length;He++){const et=c.symbolInstances.get(He),{numHorizontalGlyphVertices:ct,numVerticalGlyphVertices:Ze,crossTileID:ot}=et;let At=this.opacities[ot];_[ot]?At=V:At||(At=Te,this.opacities[ot]=At),_[ot]=!0;const rt=et.numIconVertices>0,St=this.placedOrientations[et.crossTileID],Xt=St===s.az.vertical,Ut=St===s.az.horizontal||St===s.az.horizontalOnly;if(ct>0||Ze>0){const Ht=Nn(At.text);Ne(c.text,ct,Xt?Ua:Ht),Ne(c.text,Ze,Ut?Ua:Ht);const Ti=At.text.isHidden();[et.rightJustifiedTextSymbolIndex,et.centerJustifiedTextSymbolIndex,et.leftJustifiedTextSymbolIndex].forEach((zi=>{zi>=0&&(c.text.placedSymbolArray.get(zi).hidden=Ti||Xt?1:0)})),et.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(et.verticalPlacedTextSymbolIndex).hidden=Ti||Ut?1:0);const Li=this.variableOffsets[et.crossTileID];Li&&this.markUsedJustification(c,Li.anchor,et,St);const pi=this.placedOrientations[et.crossTileID];pi&&(this.markUsedJustification(c,"left",et,pi),this.markUsedOrientation(c,pi,et))}if(rt){const Ht=Nn(At.icon),Ti=!(ye&&et.verticalPlacedIconSymbolIndex&&Xt);et.placedIconSymbolIndex>=0&&(Ne(c.icon,et.numIconVertices,Ti?Ht:Ua),c.icon.placedSymbolArray.get(et.placedIconSymbolIndex).hidden=At.icon.isHidden()),et.verticalPlacedIconSymbolIndex>=0&&(Ne(c.icon,et.numVerticalIconVertices,Ti?Ua:Ht),c.icon.placedSymbolArray.get(et.verticalPlacedIconSymbolIndex).hidden=At.icon.isHidden())}const zt=Ge&&Ge.has(He)?Ge.get(He):{text:null,icon:null};if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){const Ht=c.collisionArrays[He];if(Ht){let Ti=new s.P(0,0);if(Ht.textBox||Ht.verticalTextBox){let Li=!0;if(se){const pi=this.variableOffsets[ot];pi?(Ti=Ea(pi.anchor,pi.width,pi.height,pi.textOffset,pi.textBoxScale),fe&&Ti._rotate(ue?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Li=!1}if(Ht.textBox||Ht.verticalTextBox){let pi;Ht.textBox&&(pi=Xt),Ht.verticalTextBox&&(pi=Ut),Dt(c.textCollisionBox.collisionVertexArray,At.text.placed,!Li||pi,zt.text,Ti.x,Ti.y)}}if(Ht.iconBox||Ht.verticalIconBox){const Li=!!(!Ut&&Ht.verticalIconBox);let pi;Ht.iconBox&&(pi=Li),Ht.verticalIconBox&&(pi=!Li),Dt(c.iconCollisionBox.collisionVertexArray,At.icon.placed,pi,zt.icon,ye?Ti.x:0,ye?Ti.y:0)}}}}if(c.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.text.opacityVertexArray.length!==c.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${c.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${c.text.layoutVertexArray.length}) / 4`);if(c.icon.opacityVertexArray.length!==c.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${c.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${c.icon.layoutVertexArray.length}) / 4`);c.bucketInstanceId in this.collisionCircleArrays&&(c.collisionCircleArray=this.collisionCircleArrays[c.bucketInstanceId],delete this.collisionCircleArrays[c.bucketInstanceId])}symbolFadeChange(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(c){return Math.max(0,(this.transform.zoom-c)/1.5)}hasTransitions(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(c,A){const _=this.zoomAtLastRecencyCheck===A?1-this.zoomAdjustment(A):1;return this.zoomAtLastRecencyCheck=A,this.commitTime+this.fadeDuration*_>c}setStale(){this.stale=!0}}function Dt(M,c,A,_,C,F){_&&_.length!==0||(_=[0,0,0,0]);const U=_[0]-Hn,V=_[1]-Hn,X=_[2]-Hn,ie=_[3]-Hn;M.emplaceBack(c?1:0,A?1:0,C||0,F||0,U,V),M.emplaceBack(c?1:0,A?1:0,C||0,F||0,X,V),M.emplaceBack(c?1:0,A?1:0,C||0,F||0,X,ie),M.emplaceBack(c?1:0,A?1:0,C||0,F||0,U,ie)}const ze=Math.pow(2,25),Mn=Math.pow(2,24),fr=Math.pow(2,17),Lr=Math.pow(2,16),Fr=Math.pow(2,9),Fl=Math.pow(2,8),Ar=Math.pow(2,1);function Nn(M){if(M.opacity===0&&!M.placed)return 0;if(M.opacity===1&&M.placed)return 4294967295;const c=M.placed?1:0,A=Math.floor(127*M.opacity);return A*ze+c*Mn+A*fr+c*Lr+A*Fr+c*Fl+A*Ar+c}const Ua=0;class br{constructor(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&!c.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(c,A,_,C,F){const U=this._bucketParts;for(;this._currentTileIndex<c.length;)if(A.getBucketParts(U,C,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,U.sort(((V,X)=>V.sortKey-X.sortKey)));this._currentPartIndex<U.length;)if(A.placeLayerBucketPart(U[this._currentPartIndex],this._seenCrossTileIDs,_),this._currentPartIndex++,F())return!0;return!1}}class Cr{constructor(c,A,_,C,F,U,V,X){this.placement=new dr(c,A,U,V,X),this._currentPlacementIndex=_.length-1,this._forceFullPlacement=C,this._showCollisionBoxes=F,this._done=!1}isDone(){return this._done}continuePlacement(c,A,_){const C=I(),F=()=>!this._forceFullPlacement&&I()-C>2;for(;this._currentPlacementIndex>=0;){const U=A[c[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(U.type==="symbol"&&(!U.minzoom||U.minzoom<=V)&&(!U.maxzoom||U.maxzoom>V)){if(this._inProgressLayer||(this._inProgressLayer=new br(U)),this._inProgressLayer.continuePlacement(_[U.source],this.placement,this._showCollisionBoxes,U,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(c){return this.placement.commit(c),this.placement}}const mn=512/s.a5/2;class eo{constructor(c,A,_){this.tileID=c,this.bucketInstanceId=_,this._symbolsByKey={};const C=new Map;for(let F=0;F<A.length;F++){const U=A.get(F),V=U.key,X=C.get(V);X?X.push(U):C.set(V,[U])}for(const[F,U]of C){const V={positions:U.map((X=>({x:Math.floor(X.anchorX*mn),y:Math.floor(X.anchorY*mn)}))),crossTileIDs:U.map((X=>X.crossTileID))};if(V.positions.length>128){const X=new s.aT(V.positions.length,16,Uint16Array);for(const{x:ie,y:se}of V.positions)X.add(ie,se);X.finish(),delete V.positions,V.index=X}this._symbolsByKey[F]=V}}getScaledCoordinates(c,A){const{x:_,y:C,z:F}=this.tileID.canonical,{x:U,y:V,z:X}=A.canonical,ie=mn/Math.pow(2,X-F),se=(V*s.a5+c.anchorY)*ie,fe=C*s.a5*mn;return{x:Math.floor((U*s.a5+c.anchorX)*ie-_*s.a5*mn),y:Math.floor(se-fe)}}findMatches(c,A,_){const C=this.tileID.canonical.z<A.canonical.z?1:Math.pow(2,this.tileID.canonical.z-A.canonical.z);for(let F=0;F<c.length;F++){const U=c.get(F);if(U.crossTileID)continue;const V=this._symbolsByKey[U.key];if(!V)continue;const X=this.getScaledCoordinates(U,A);if(V.index){const ie=V.index.range(X.x-C,X.y-C,X.x+C,X.y+C).sort();for(const se of ie){const fe=V.crossTileIDs[se];if(!_[fe]){_[fe]=!0,U.crossTileID=fe;break}}}else if(V.positions)for(let ie=0;ie<V.positions.length;ie++){const se=V.positions[ie],fe=V.crossTileIDs[ie];if(Math.abs(se.x-X.x)<=C&&Math.abs(se.y-X.y)<=C&&!_[fe]){_[fe]=!0,U.crossTileID=fe;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:c})=>c))}}class Yo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Jn{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(c){const A=Math.round((c-this.lng)/360);if(A!==0)for(const _ in this.indexes){const C=this.indexes[_],F={};for(const U in C){const V=C[U];V.tileID=V.tileID.unwrapTo(V.tileID.wrap+A),F[V.tileID.key]=V}this.indexes[_]=F}this.lng=c}addBucket(c,A,_){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===A.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(let F=0;F<A.symbolInstances.length;F++)A.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});const C=this.usedCrossTileIDs[c.overscaledZ];for(const F in this.indexes){const U=this.indexes[F];if(Number(F)>c.overscaledZ)for(const V in U){const X=U[V];X.tileID.isChildOf(c)&&X.findMatches(A.symbolInstances,c,C)}else{const V=U[c.scaledTo(Number(F)).key];V&&V.findMatches(A.symbolInstances,c,C)}}for(let F=0;F<A.symbolInstances.length;F++){const U=A.symbolInstances.get(F);U.crossTileID||(U.crossTileID=_.generate(),C[U.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new eo(c,A.symbolInstances,A.bucketInstanceId),!0}removeBucketCrossTileIDs(c,A){for(const _ of A.getCrossTileIDsLists())for(const C of _)delete this.usedCrossTileIDs[c][C]}removeStaleBuckets(c){let A=!1;for(const _ in this.indexes){const C=this.indexes[_];for(const F in C)c[C[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(_,C[F]),delete C[F],A=!0)}return A}}class na{constructor(){this.layerIndexes={},this.crossTileIDs=new Yo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(c,A,_){let C=this.layerIndexes[c.id];C===void 0&&(C=this.layerIndexes[c.id]=new Jn);let F=!1;const U={};C.handleWrapJump(_);for(const V of A){const X=V.getBucket(c);X&&c.id===X.layerIds[0]&&(X.bucketInstanceId||(X.bucketInstanceId=++this.maxBucketInstanceId),C.addBucket(V.tileID,X,this.crossTileIDs)&&(F=!0),U[X.bucketInstanceId]=!0)}return C.removeStaleBuckets(U)&&(F=!0),F}pruneUnusedLayers(c){const A={};c.forEach((_=>{A[_]=!0}));for(const _ in this.layerIndexes)A[_]||delete this.layerIndexes[_]}}var ar="void main() {fragColor=vec4(1.0);}";const ia={prelude:_i(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:_i("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:_i("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:_i(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:_i(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:_i(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:_i(ar,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:_i(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:_i(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:_i("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:_i("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:_i(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:_i("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:_i(ar,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:_i(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:_i(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:_i(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:_i(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:_i(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:_i(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:_i(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:_i(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:_i(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:_i(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:_i(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:_i(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:_i(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:_i(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:_i(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:_i(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:_i(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:_i("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:_i("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:_i("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:_i("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:_i(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:_i("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function _i(M,c){const A=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,_=c.match(/in ([\w]+) ([\w]+)/g),C=M.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),F=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),U=F?F.concat(C):C,V={};return{fragmentSource:M=M.replace(A,((X,ie,se,fe,ue)=>(V[ue]=!0,ie==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
in ${se} ${fe} ${ue};
#else
uniform ${se} ${fe} u_${ue};
#endif
`:`
#ifdef HAS_UNIFORM_u_${ue}
    ${se} ${fe} ${ue} = u_${ue};
#endif
`))),vertexSource:c=c.replace(A,((X,ie,se,fe,ue)=>{const ye=fe==="float"?"vec2":"vec4",Te=ue.match(/color/)?"color":ye;return V[ue]?ie==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
uniform lowp float u_${ue}_t;
in ${se} ${ye} a_${ue};
out ${se} ${fe} ${ue};
#else
uniform ${se} ${fe} u_${ue};
#endif
`:Te==="vec4"?`
#ifndef HAS_UNIFORM_u_${ue}
    ${ue} = a_${ue};
#else
    ${se} ${fe} ${ue} = u_${ue};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ue}
    ${ue} = unpack_mix_${Te}(a_${ue}, u_${ue}_t);
#else
    ${se} ${fe} ${ue} = u_${ue};
#endif
`:ie==="define"?`
#ifndef HAS_UNIFORM_u_${ue}
uniform lowp float u_${ue}_t;
in ${se} ${ye} a_${ue};
#else
uniform ${se} ${fe} u_${ue};
#endif
`:Te==="vec4"?`
#ifndef HAS_UNIFORM_u_${ue}
    ${se} ${fe} ${ue} = a_${ue};
#else
    ${se} ${fe} ${ue} = u_${ue};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ue}
    ${se} ${fe} ${ue} = unpack_mix_${Te}(a_${ue}, u_${ue}_t);
#else
    ${se} ${fe} ${ue} = u_${ue};
#endif
`})),staticAttributes:_,staticUniforms:U}}class Na{constructor(c,A,_){this.vertexBuffer=c,this.indexBuffer=A,this.segments=_}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var $n=s.aU([{name:"a_pos",type:"Int16",components:2}]);const ge="#define PROJECTION_MERCATOR",Ce="mercator";class Me{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return Ce}get shaderDefine(){return ge}get shaderPreludeCode(){return ia.projectionMercator}get vertexShaderPreludeCode(){return ia.projectionMercator.vertexSource}get subdivisionGranularity(){return s.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(c){}getMeshFromTileID(c,A,_,C,F){if(this._cachedMesh)return this._cachedMesh;const U=new s.aW;U.emplaceBack(0,0),U.emplaceBack(s.a5,0),U.emplaceBack(0,s.a5),U.emplaceBack(s.a5,s.a5);const V=c.createVertexBuffer(U,$n.members),X=s.aX.simpleSegment(0,0,4,2),ie=new s.aY;ie.emplaceBack(1,0,2),ie.emplaceBack(1,2,3);const se=c.createIndexBuffer(ie);return this._cachedMesh=new Na(V,se,X),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(c){}}class qe{constructor(c=0,A=0,_=0,C=0){if(isNaN(c)||c<0||isNaN(A)||A<0||isNaN(_)||_<0||isNaN(C)||C<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=A,this.left=_,this.right=C}interpolate(c,A,_){return A.top!=null&&c.top!=null&&(this.top=s.G.number(c.top,A.top,_)),A.bottom!=null&&c.bottom!=null&&(this.bottom=s.G.number(c.bottom,A.bottom,_)),A.left!=null&&c.left!=null&&(this.left=s.G.number(c.left,A.left,_)),A.right!=null&&c.right!=null&&(this.right=s.G.number(c.right,A.right,_)),this}getCenter(c,A){const _=s.an((this.left+c-this.right)/2,0,c),C=s.an((this.top+A-this.bottom)/2,0,A);return new s.P(_,C)}equals(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right}clone(){return new qe(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function $e(M,c){if(!M.renderWorldCopies||M.lngRange)return;const A=c.lng-M.center.lng;c.lng+=A>180?-360:A<-180?360:0}function Bt(M){return Math.max(0,Math.floor(M))}class Qt{constructor(c,A){var _;this.applyConstrain=(C,F)=>this._constrainOverride!==null?this._constrainOverride(C,F):this._callbacks.defaultConstrain(C,F),this._callbacks=c,this._tileSize=512,this._renderWorldCopies=A?.renderWorldCopies===void 0||!!A?.renderWorldCopies,this._minZoom=A?.minZoom||0,this._maxZoom=A?.maxZoom||22,this._minPitch=A?.minPitch==null?0:A?.minPitch,this._maxPitch=A?.maxPitch==null?60:A?.maxPitch,this._constrainOverride=(_=A?.constrainOverride)!==null&&_!==void 0?_:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new s.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Bt(this._zoom),this._scale=s.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new qe,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(c,A,_){this._constrainOverride=c.constrainOverride,this._latRange=c.latRange,this._lngRange=c.lngRange,this._width=c.width,this._height=c.height,this._center=c.center,this._elevation=c.elevation,this._minElevationForCurrentTile=c.minElevationForCurrentTile,this._zoom=c.zoom,this._tileZoom=Bt(this._zoom),this._scale=s.aq(this._zoom),this._bearingInRadians=c.bearingInRadians,this._fovInRadians=c.fovInRadians,this._pitchInRadians=c.pitchInRadians,this._rollInRadians=c.rollInRadians,this._unmodified=c.unmodified,this._edgeInsets=new qe(c.padding.top,c.padding.bottom,c.padding.left,c.padding.right),this._minZoom=c.minZoom,this._maxZoom=c.maxZoom,this._minPitch=c.minPitch,this._maxPitch=c.maxPitch,this._renderWorldCopies=c.renderWorldCopies,this._cameraToCenterDistance=c.cameraToCenterDistance,this._nearZ=c.nearZ,this._farZ=c.farZ,this._autoCalculateNearFarZ=!_&&c.autoCalculateNearFarZ,A&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(c){this._minElevationForCurrentTile=c}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(c){this._minZoom!==c&&(this._minZoom=c,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(c){this._maxZoom!==c&&(this._maxZoom=c,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(c){this._minPitch!==c&&(this._minPitch=c,this.setPitch(Math.max(this.pitch,c)))}get maxPitch(){return this._maxPitch}setMaxPitch(c){this._maxPitch!==c&&(this._maxPitch=c,this.setPitch(Math.min(this.pitch,c)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c}get constrainOverride(){return this._constrainOverride}setConstrainOverride(c){c===void 0&&(c=null),this._constrainOverride!==c&&(this._constrainOverride=c,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(c){const A=s.W(c,-180,180)*Math.PI/180;var _,C,F,U,V,X,ie,se,fe;this._bearingInRadians!==A&&(this._unmodified=!1,this._bearingInRadians=A,this._calcMatrices(),this._rotationMatrix=d(),_=this._rotationMatrix,F=-this._bearingInRadians,U=(C=this._rotationMatrix)[0],V=C[1],X=C[2],ie=C[3],se=Math.sin(F),fe=Math.cos(F),_[0]=U*fe+X*se,_[1]=V*fe+ie*se,_[2]=U*-se+X*fe,_[3]=V*-se+ie*fe)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(c){const A=s.an(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==A&&(this._unmodified=!1,this._pitchInRadians=A,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(c){const A=c/180*Math.PI;this._rollInRadians!==A&&(this._unmodified=!1,this._rollInRadians=A,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return s.aZ(this._fovInRadians)}setFov(c){c=s.an(c,.1,150),this.fov!==c&&(this._unmodified=!1,this._fovInRadians=s.ap(c),this._calcMatrices())}get zoom(){return this._zoom}setZoom(c){const A=this.applyConstrain(this._center,c).zoom;this._zoom!==A&&(this._unmodified=!1,this._zoom=A,this._tileZoom=Math.max(0,Math.floor(A)),this._scale=s.aq(A),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(c){c!==this._elevation&&(this._elevation=c,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(c,A){this._autoCalculateNearFarZ=!1,this._nearZ=c,this._farZ=A,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(c){return this._edgeInsets.equals(c)}interpolatePadding(c,A,_){this._unmodified=!1,this._edgeInsets.interpolate(c,A,_),this.constrainInternal(),this._calcMatrices()}resize(c,A,_=!0){this._width=c,this._height=A,_&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Ye([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(c){c?(this._lngRange=[c.getWest(),c.getEast()],this._latRange=[c.getSouth(),c.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-s.ao,s.ao])}getCameraQueryGeometry(c,A){if(A.length===1)return[A[0],c];{const{minX:_,minY:C,maxX:F,maxY:U}=s.aa.fromPoints(A).extend(c);return[new s.P(_,C),new s.P(F,C),new s.P(F,U),new s.P(_,U),new s.P(_,C)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const c=this._unmodified,{center:A,zoom:_}=this.applyConstrain(this.center,this.zoom);this.setCenter(A),this.setZoom(_),this._unmodified=c,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let c=s.ar(new Float64Array(16));s.Q(c,c,[this._width/2,-this._height/2,1]),s.O(c,c,[1,-1,0]),this._clipSpaceToPixelsMatrix=c,c=s.ar(new Float64Array(16)),s.Q(c,c,[1,-1,1]),s.O(c,c,[-1,-1,0]),s.Q(c,c,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=c,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(c,A,_,C){const F=_!==void 0?_:this.bearing,U=C=C!==void 0?C:this.pitch,{distanceToCenter:V,clampedElevation:X}=this._distanceToCenterFromAltElevationPitch(A,this.elevation,U),{x:ie,y:se}=Dn(U,F),fe=s.a9.fromLngLat(c,A);let ue,ye,Te=s.a_(1,fe.y),Ne=0;do{if(Ne+=1,Ne>10)break;ye=V/Te,ue=new s.a9(fe.x+ie*ye,fe.y+se*ye),Te=1/ue.meterInMercatorCoordinateUnits()}while(Math.abs(V-ye*Te)>1e-12);return{center:ue.toLngLat(),elevation:X,zoom:s.at(this.height/2/Math.tan(this.fovInRadians/2)/ye/this.tileSize)}}recalculateZoomAndCenter(c){if(this.elevation-c==0)return;const A=1/this.worldSize,_=s.as(1,this.center.lat)*this.worldSize,C=s.a9.fromLngLat(this.center,this.elevation),F=C.x/A,U=C.y/A,V=C.z/A,X=this.pitch,ie=this.bearing,{x:se,y:fe,z:ue}=Dn(X,ie),ye=this.cameraToCenterDistance,Te=F+ye*-se,Ne=U+ye*-fe,Ge=V+ye*ue,{distanceToCenter:He,clampedElevation:et}=this._distanceToCenterFromAltElevationPitch(Ge/_,c,X),ct=He*_,Ze=new s.a9((Te+se*ct)*A,(Ne+fe*ct)*A,0).toLngLat(),ot=s.as(1,Ze.lat),At=s.at(this.height/2/Math.tan(this.fovInRadians/2)/He/ot/this.tileSize);this._elevation=et,this._center=Ze,this.setZoom(At)}_distanceToCenterFromAltElevationPitch(c,A,_){const C=-Math.cos(s.ap(_)),F=c-A;let U,V=A;return C*F>=0||Math.abs(C)<.1?(U=1e4,V=c+U*C):U=-F/C,{distanceToCenter:U,clampedElevation:V}}getCameraPoint(){const c=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.P(c*Math.sin(this.rollInRadians),c*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const c=s.as(1,this.center.lat)*this.worldSize;return Tt(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/c).toLngLat()}getMercatorTileCoordinates(c){if(!c)return[0,0,1,1];const A=c.canonical.z>=0?1<<c.canonical.z:Math.pow(2,c.canonical.z);return[c.canonical.x/A,c.canonical.y/A,1/A/s.a5,1/A/s.a5]}}class Ft{constructor(c,A){this.min=c,this.max=A,this.center=s.a$([],s.b0([],this.min,this.max),.5)}quadrant(c){const A=[c%2==0,c<2],_=s.b1(this.min),C=s.b1(this.max);for(let F=0;F<A.length;F++)_[F]=A[F]?this.min[F]:this.center[F],C[F]=A[F]?this.center[F]:this.max[F];return C[2]=this.max[2],new Ft(_,C)}distanceX(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]}distanceY(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]}intersectsFrustum(c){let A=!0;for(let _=0;_<c.planes.length;_++){const C=this.intersectsPlane(c.planes[_]);if(C===0)return 0;C===1&&(A=!1)}return A?2:c.aabb.min[0]>this.max[0]||c.aabb.min[1]>this.max[1]||c.aabb.min[2]>this.max[2]||c.aabb.max[0]<this.min[0]||c.aabb.max[1]<this.min[1]||c.aabb.max[2]<this.min[2]?0:1}intersectsPlane(c){let A=c[3],_=c[3];for(let C=0;C<3;C++)c[C]>0?(A+=c[C]*this.min[C],_+=c[C]*this.max[C]):(_+=c[C]*this.min[C],A+=c[C]*this.max[C]);return A>=0?2:_<0?0:1}}class li{distanceToTile2d(c,A,_,C){const F=C.distanceX([c,A]),U=C.distanceY([c,A]);return Math.hypot(F,U)}getWrap(c,A,_){return _}getTileBoundingVolume(c,A,_,C){var F,U;let V=0,X=0;if(C?.terrain){const se=new s.a2(c.z,A,c.z,c.x,c.y),fe=C.terrain.getMinMaxElevation(se);V=(F=fe.minElevation)!==null&&F!==void 0?F:Math.min(0,_),X=(U=fe.maxElevation)!==null&&U!==void 0?U:Math.max(0,_)}const ie=1<<c.z;return new Ft([A+c.x/ie,c.y/ie,V],[A+(c.x+1)/ie,(c.y+1)/ie,X])}allowVariableZoom(c,A){const _=c.fov*(Math.abs(Math.cos(c.rollInRadians))*c.height+Math.abs(Math.sin(c.rollInRadians))*c.width)/c.height,C=s.an(78.5-_/2,0,60);return!!A.terrain||c.pitch>C}allowWorldCopies(){return!0}prepareNextFrame(){}}class Qi{constructor(c,A,_){this.points=c,this.planes=A,this.aabb=_}static fromInvProjectionMatrix(c,A=1,_=0,C,F){const U=F?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],V=Math.pow(2,_),X=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((ue=>(function(ye,Te,Ne,Ge){const He=s.aH([],ye,Te),et=1/He[3]/Ne*Ge;return s.b6(He,He,[et,et,1/He[3],et])})(ue,c,A,V)));C&&(function(ue,ye,Te,Ne){const Ge=Ne?4:0,He=Ne?0:4;let et=0;const ct=[],Ze=[];for(let rt=0;rt<4;rt++){const St=s.b2([],ue[rt+He],ue[rt+Ge]),Xt=s.b7(St);s.a$(St,St,1/Xt),ct.push(Xt),Ze.push(St)}for(let rt=0;rt<4;rt++){const St=s.b8(ue[rt+Ge],Ze[rt],Te);et=St!==null&&St>=0?Math.max(et,St):Math.max(et,ct[rt])}const ot=(function(rt,St){const Xt=s.b2([],rt[St[0]],rt[St[1]]),Ut=s.b2([],rt[St[2]],rt[St[1]]),zt=[0,0,0,0];return s.b3(zt,s.b4([],Xt,Ut)),zt[3]=-s.b5(zt,rt[St[0]]),zt})(ue,ye),At=(function(rt,St){const Xt=s.b9(rt),Ut=s.ba([],rt,1/Xt),zt=s.b2([],St,s.a$([],Ut,s.b5(St,Ut))),Ht=s.b9(zt);if(Ht>0){const Ti=Math.sqrt(1-Ut[3]*Ut[3]),Li=s.a$([],Ut,-Ut[3]),pi=s.b0([],Li,s.a$([],zt,Ti/Ht));return s.bb(St,pi)}return null})(Te,ot);if(At!==null){const rt=At/s.b5(Ze[0],ot);et=Math.min(et,rt)}for(let rt=0;rt<4;rt++){const St=Math.min(et,ct[rt]);ue[rt+He]=[ue[rt+Ge][0]+Ze[rt][0]*St,ue[rt+Ge][1]+Ze[rt][1]*St,ue[rt+Ge][2]+Ze[rt][2]*St,1]}})(X,U[0],C,F);const ie=U.map((ue=>{const ye=s.b2([],X[ue[0]],X[ue[1]]),Te=s.b2([],X[ue[2]],X[ue[1]]),Ne=s.b3([],s.b4([],ye,Te)),Ge=-s.b5(Ne,X[ue[1]]);return Ne.concat(Ge)})),se=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],fe=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const ue of X)for(let ye=0;ye<3;ye++)se[ye]=Math.min(se[ye],ue[ye]),fe[ye]=Math.max(fe[ye],ue[ye]);return new Qi(X,ie,new Ft(se,fe))}}class cn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,A,_){return this._helper.interpolatePadding(c,A,_)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,A,_=!0){this._helper.resize(c,A,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,A){this._helper.overrideNearFarZ(c,A)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c,A){}constructor(c){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(A,_)=>{_=s.an(+_,this.minZoom,this.maxZoom);const C={center:new s.V(A.lng,A.lat),zoom:_};let F=this._helper._lngRange;if(!this._helper._renderWorldCopies&&F===null){const Ze=179.9999999999;F=[-Ze,Ze]}const U=this.tileSize*s.aq(C.zoom);let V=0,X=U,ie=0,se=U,fe=0,ue=0;const{x:ye,y:Te}=this.size;if(this._helper._latRange){const Ze=this._helper._latRange;V=s.X(Ze[1])*U,X=s.X(Ze[0])*U,X-V<Te&&(fe=Te/(X-V))}F&&(ie=s.W(s.Y(F[0])*U,0,U),se=s.W(s.Y(F[1])*U,0,U),se<ie&&(se+=U),se-ie<ye&&(ue=ye/(se-ie)));const{x:Ne,y:Ge}=ai(U,A);let He,et;const ct=Math.max(ue||0,fe||0);if(ct){const Ze=new s.P(ue?(se+ie)/2:Ne,fe?(X+V)/2:Ge);return C.center=bi(U,Ze).wrap(),C.zoom+=s.at(ct),C}if(this._helper._latRange){const Ze=Te/2;Ge-Ze<V&&(et=V+Ze),Ge+Ze>X&&(et=X-Ze)}if(F){const Ze=(ie+se)/2;let ot=Ne;this._helper._renderWorldCopies&&(ot=s.W(Ne,Ze-U/2,Ze+U/2));const At=ye/2;ot-At<ie&&(He=ie+At),ot+At>se&&(He=se-At)}if(He!==void 0||et!==void 0){const Ze=new s.P(He??Ne,et??Ge);C.center=bi(U,Ze).wrap()}return C},this.applyConstrain=(A,_)=>this._helper.applyConstrain(A,_),this._helper=new Qt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(A,_)=>this.defaultConstrain(A,_)},c),this._coveringTilesDetailsProvider=new li}clone(){const c=new cn;return c.apply(this),c}apply(c,A,_){this._helper.apply(c,A,_)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(c){const A=[new s.bc(0,c)];if(this._helper._renderWorldCopies){const _=this.screenPointToMercatorCoordinate(new s.P(0,0)),C=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,0)),F=this.screenPointToMercatorCoordinate(new s.P(this._helper._width,this._helper._height)),U=this.screenPointToMercatorCoordinate(new s.P(0,this._helper._height)),V=Math.floor(Math.min(_.x,C.x,F.x,U.x)),X=Math.floor(Math.max(_.x,C.x,F.x,U.x)),ie=1;for(let se=V-ie;se<=X+ie;se++)se!==0&&A.push(new s.bc(se,c))}return A}getCameraFrustum(){return Qi.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){const A=this.screenPointToLocation(this.centerPoint,c),_=c?c.getElevationForLngLatZoom(A,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(_)}setLocationAtPoint(c,A){const _=s.as(this.elevation,this.center.lat),C=this.screenPointToMercatorCoordinateAtZ(A,_),F=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,_),U=s.a9.fromLngLat(c),V=new s.a9(U.x-(C.x-F.x),U.y-(C.y-F.y));this.setCenter(V?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(c,A){return A?this.coordinatePoint(s.a9.fromLngLat(c),A.getElevationForLngLat(c,this),this._pixelMatrix3D):this.coordinatePoint(s.a9.fromLngLat(c))}screenPointToLocation(c,A){var _;return(_=this.screenPointToMercatorCoordinate(c,A))===null||_===void 0?void 0:_.toLngLat()}screenPointToMercatorCoordinate(c,A){if(A){const _=A.pointCoordinate(c);if(_!=null)return _}return this.screenPointToMercatorCoordinateAtZ(c)}screenPointToMercatorCoordinateAtZ(c,A){const _=A||0,C=[c.x,c.y,0,1],F=[c.x,c.y,1,1];s.aH(C,C,this._pixelMatrixInverse),s.aH(F,F,this._pixelMatrixInverse);const U=C[3],V=F[3],X=C[1]/U,ie=F[1]/V,se=C[2]/U,fe=F[2]/V,ue=se===fe?0:(_-se)/(fe-se);return new s.a9(s.G.number(C[0]/U,F[0]/V,ue)/this.worldSize,s.G.number(X,ie,ue)/this.worldSize,_)}coordinatePoint(c,A=0,_=this._pixelMatrix){const C=[c.x*this.worldSize,c.y*this.worldSize,A,1];return s.aH(C,C,_),new s.P(C[0]/C[3],C[1]/C[3])}getBounds(){const c=Math.max(0,this._helper._height/2-Bi(this));return new Ye().extend(this.screenPointToLocation(new s.P(0,c))).extend(this.screenPointToLocation(new s.P(this._helper._width,c))).extend(this.screenPointToLocation(new s.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new s.P(0,this._helper._height)))}isPointOnMapSurface(c,A){return A?A.pointCoordinate(c)!=null:c.y>this.height/2-Bi(this)}calculatePosMatrix(c,A=!1,_){var C;const F=(C=c.key)!==null&&C!==void 0?C:s.bd(c.wrap,c.canonical.z,c.canonical.z,c.canonical.x,c.canonical.y),U=A?this._alignedPosMatrixCache:this._posMatrixCache;if(U.has(F)){const ie=U.get(F);return _?ie.f32:ie.f64}const V=In(c,this.worldSize);s.S(V,A?this._alignedProjMatrix:this._viewProjMatrix,V);const X={f64:V,f32:new Float32Array(V)};return U.set(F,X),_?X.f32:X.f64}calculateFogMatrix(c){const A=c.key,_=this._fogMatrixCacheF32;if(_.has(A))return _.get(A);const C=In(c,this.worldSize);return s.S(C,this._fogMatrix,C),_.set(A,new Float32Array(C)),_.get(A)}calculateCenterFromCameraLngLatAlt(c,A,_,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,A,_,C)}_calculateNearFarZIfNeeded(c,A,_){if(!this._helper.autoCalculateNearFarZ)return;const C=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),F=c-C*this._helper._pixelPerMeter/Math.cos(A),U=C<0?F:c,V=Math.PI/2+this.pitchInRadians,X=s.ap(this.fov)*(Math.abs(Math.cos(s.ap(this.roll)))*this.height+Math.abs(Math.sin(s.ap(this.roll)))*this.width)/this.height*(.5+_.y/this.height),ie=Math.sin(X)*U/Math.sin(s.an(Math.PI-V-X,.01,Math.PI-.01)),se=Bi(this),fe=Math.atan(se/this._helper.cameraToCenterDistance),ue=s.ap(.75),ye=fe>ue?2*fe*(.5+_.y/(2*se)):ue,Te=Math.sin(ye)*U/Math.sin(s.an(Math.PI-V-ye,.01,Math.PI-.01)),Ne=Math.min(ie,Te);this._helper._farZ=1.01*(Math.cos(Math.PI/2-A)*Ne+U),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const c=this.centerOffset,A=ai(this.worldSize,this.center),_=A.x,C=A.y;this._helper._pixelPerMeter=s.as(1,this.center.lat)*this.worldSize;const F=s.ap(Math.min(this.pitch,Lt)),U=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(F));let V;this._calculateNearFarZIfNeeded(U,F,c),V=new Float64Array(16),s.be(V,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),s.aB(this._invProjMatrix,V),V[8]=2*-c.x/this._helper._width,V[9]=2*c.y/this._helper._height,this._projectionMatrix=s.bf(V),s.Q(V,V,[1,-1,1]),s.O(V,V,[0,0,-this._helper.cameraToCenterDistance]),s.bg(V,V,-this.rollInRadians),s.bh(V,V,this.pitchInRadians),s.bg(V,V,-this.bearingInRadians),s.O(V,V,[-_,-C,0]),this._mercatorMatrix=s.Q([],V,[this.worldSize,this.worldSize,this.worldSize]),s.Q(V,V,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=s.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,V),s.O(V,V,[0,0,-this.elevation]),this._viewProjMatrix=V,this._invViewProjMatrix=s.aB([],V);const X=[0,0,-1,1];s.aH(X,X,this._invViewProjMatrix),this._cameraPosition=[X[0]/X[3],X[1]/X[3],X[2]/X[3]],this._fogMatrix=new Float64Array(16),s.be(this._fogMatrix,this.fovInRadians,this.width/this.height,U,this._helper._farZ),this._fogMatrix[8]=2*-c.x/this.width,this._fogMatrix[9]=2*c.y/this.height,s.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),s.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),s.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),s.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),s.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),s.O(this._fogMatrix,this._fogMatrix,[-_,-C,0]),s.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),s.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=s.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,V);const ie=this._helper._width%2/2,se=this._helper._height%2/2,fe=Math.cos(this.bearingInRadians),ue=Math.sin(-this.bearingInRadians),ye=_-Math.round(_)+fe*ie+ue*se,Te=C-Math.round(C)+fe*se+ue*ie,Ne=new Float64Array(V);if(s.O(Ne,Ne,[ye>.5?ye-1:ye,Te>.5?Te-1:Te,0]),this._alignedProjMatrix=Ne,V=s.aB(new Float64Array(16),this._pixelMatrix),!V)throw new Error("failed to invert matrix");this._pixelMatrixInverse=V,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const c=this.screenPointToMercatorCoordinate(new s.P(0,0)),A=[c.x*this.worldSize,c.y*this.worldSize,0,1];return s.aH(A,A,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const c=s.as(1,this.center.lat)*this.worldSize;return Tt(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/c).toLngLat()}lngLatToCameraDepth(c,A){const _=s.a9.fromLngLat(c),C=[_.x*this.worldSize,_.y*this.worldSize,A,1];return s.aH(C,C,this._viewProjMatrix),C[2]/C[3]}getProjectionData(c){const{overscaledTileID:A,aligned:_,applyTerrainMatrix:C}=c,F=this._helper.getMercatorTileCoordinates(A),U=A?this.calculatePosMatrix(A,_,!0):null;let V;return V=A&&A.terrainRttPosMatrix32f&&C?A.terrainRttPosMatrix32f:U||s.bi(),{mainMatrix:V,tileMercatorCoords:F,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:V}}isLocationOccluded(c){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(c,A,_){return 1}transformLightDirection(c){return s.b1(c)}getRayDirectionFromPixel(c){throw new Error("Not implemented.")}projectTileCoordinates(c,A,_,C){const F=this.calculatePosMatrix(_);let U;C?(U=[c,A,C(c,A),1],s.aH(U,U,F)):(U=[c,A,0,1],Is(U,U,F));const V=U[3];return{point:new s.P(U[0]/V,U[1]/V),signedDistanceFromCamera:V,isOccluded:!1}}populateCache(c){for(const A of c)this.calculatePosMatrix(A)}getMatrixForModel(c,A){const _=s.a9.fromLngLat(c,A),C=_.meterInMercatorCoordinateUnits(),F=s.bj();return s.O(F,F,[_.x,_.y,_.z]),s.bg(F,F,Math.PI),s.bh(F,F,Math.PI/2),s.Q(F,F,[-C,C,C]),F}getProjectionDataForCustomLayer(c=!0){const A=new s.a2(0,0,0,0,0),_=this.getProjectionData({overscaledTileID:A,applyGlobeMatrix:c}),C=In(A,this.worldSize);s.S(C,this._viewProjMatrix,C),_.tileMercatorCoords=[0,0,1,1];const F=[s.a5,s.a5,this.worldSize/this._helper.pixelsPerMeter],U=s.bk();return s.Q(U,C,F),_.fallbackMatrix=U,_.mainMatrix=U,_}getFastPathSimpleProjectionMatrix(c){return this.calculatePosMatrix(c)}}function Ln(){s.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function ra(M){if(M.useSlerp)if(M.k<1){const c=s.bl(M.startEulerAngles.roll,M.startEulerAngles.pitch,M.startEulerAngles.bearing),A=s.bl(M.endEulerAngles.roll,M.endEulerAngles.pitch,M.endEulerAngles.bearing),_=new Float64Array(4);s.bm(_,c,A,M.k);const C=s.bn(_);M.tr.setRoll(C.roll),M.tr.setPitch(C.pitch),M.tr.setBearing(C.bearing)}else M.tr.setRoll(M.endEulerAngles.roll),M.tr.setPitch(M.endEulerAngles.pitch),M.tr.setBearing(M.endEulerAngles.bearing);else M.tr.setRoll(s.G.number(M.startEulerAngles.roll,M.endEulerAngles.roll,M.k)),M.tr.setPitch(s.G.number(M.startEulerAngles.pitch,M.endEulerAngles.pitch,M.k)),M.tr.setBearing(s.G.number(M.startEulerAngles.bearing,M.endEulerAngles.bearing,M.k))}function pa(M,c,A,_,C){const F=C.padding,U=ai(C.worldSize,A.getNorthWest()),V=ai(C.worldSize,A.getNorthEast()),X=ai(C.worldSize,A.getSouthEast()),ie=ai(C.worldSize,A.getSouthWest()),se=s.ap(-_),fe=U.rotate(se),ue=V.rotate(se),ye=X.rotate(se),Te=ie.rotate(se),Ne=new s.P(Math.max(fe.x,ue.x,Te.x,ye.x),Math.max(fe.y,ue.y,Te.y,ye.y)),Ge=new s.P(Math.min(fe.x,ue.x,Te.x,ye.x),Math.min(fe.y,ue.y,Te.y,ye.y)),He=Ne.sub(Ge),et=(C.width-(F.left+F.right+c.left+c.right))/He.x,ct=(C.height-(F.top+F.bottom+c.top+c.bottom))/He.y;if(ct<0||et<0)return void Ln();const Ze=Math.min(s.at(C.scale*Math.min(et,ct)),M.maxZoom),ot=s.P.convert(M.offset),At=new s.P((c.left-c.right)/2,(c.top-c.bottom)/2).rotate(s.ap(_)),rt=ot.add(At).mult(C.scale/s.aq(Ze));return{center:bi(C.worldSize,U.add(X).div(2).sub(rt)),zoom:Ze,bearing:_}}class sa{get useGlobeControls(){return!1}handlePanInertia(c,A){const _=c.mag(),C=Math.abs(Bi(A));return{easingOffset:c.mult(Math.min(.75*C/_,1)),easingCenter:A.center}}handleMapControlsRollPitchBearingZoom(c,A){c.bearingDelta&&A.setBearing(A.bearing+c.bearingDelta),c.pitchDelta&&A.setPitch(A.pitch+c.pitchDelta),c.rollDelta&&A.setRoll(A.roll+c.rollDelta),c.zoomDelta&&A.setZoom(A.zoom+c.zoomDelta)}handleMapControlsPan(c,A,_){c.around.distSqr(A.centerPoint)<.01||A.setLocationAtPoint(_,c.around)}cameraForBoxAndBearing(c,A,_,C,F){return pa(c,A,_,C,F)}handleJumpToCenterZoom(c,A){c.zoom!==(A.zoom!==void 0?+A.zoom:c.zoom)&&c.setZoom(+A.zoom),A.center!==void 0&&c.setCenter(s.V.convert(A.center))}handleEaseTo(c,A){const _=c.zoom,C=c.padding,F={roll:c.roll,pitch:c.pitch,bearing:c.bearing},U={roll:A.roll===void 0?c.roll:A.roll,pitch:A.pitch===void 0?c.pitch:A.pitch,bearing:A.bearing===void 0?c.bearing:A.bearing},V=A.zoom!==void 0,X=!c.isPaddingEqual(A.padding);let ie=!1;const se=V?+A.zoom:c.zoom;let fe=c.centerPoint.add(A.offsetAsPoint);const ue=c.screenPointToLocation(fe),{center:ye,zoom:Te}=c.applyConstrain(s.V.convert(A.center||ue),se??_);$e(c,ye);const Ne=ai(c.worldSize,ue),Ge=ai(c.worldSize,ye).sub(Ne),He=s.aq(Te-_);return ie=Te!==_,{easeFunc:et=>{if(ie&&c.setZoom(s.G.number(_,Te,et)),s.bo(F,U)||ra({startEulerAngles:F,endEulerAngles:U,tr:c,k:et,useSlerp:F.roll!=U.roll}),X&&(c.interpolatePadding(C,A.padding,et),fe=c.centerPoint.add(A.offsetAsPoint)),A.around)c.setLocationAtPoint(A.around,A.aroundPoint);else{const ct=s.aq(c.zoom-_),Ze=Te>_?Math.min(2,He):Math.max(.5,He),ot=Math.pow(Ze,1-et),At=bi(c.worldSize,Ne.add(Ge.mult(et*ot)).mult(ct));c.setLocationAtPoint(c.renderWorldCopies?At.wrap():At,fe)}},isZooming:ie,elevationCenter:ye}}handleFlyTo(c,A){const _=A.zoom!==void 0,C=c.zoom,F=c.applyConstrain(s.V.convert(A.center||A.locationAtOffset),_?+A.zoom:C),U=F.center,V=F.zoom;$e(c,U);const X=ai(c.worldSize,A.locationAtOffset),ie=ai(c.worldSize,U).sub(X),se=ie.mag(),fe=s.aq(V-C);let ue;if(A.minZoom!==void 0){const ye=Math.min(+A.minZoom,C,V),Te=c.applyConstrain(U,ye).zoom;ue=s.aq(Te-C)}return{easeFunc:(ye,Te,Ne,Ge)=>{c.setZoom(ye===1?V:C+s.at(Te));const He=ye===1?U:bi(c.worldSize,X.add(ie.mult(Ne)).mult(Te));c.setLocationAtPoint(c.renderWorldCopies?He.wrap():He,Ge)},scaleOfZoom:fe,targetCenter:U,scaleOfMinZoom:ue,pixelPathLength:se}}}class Un{constructor(c,A,_){this.blendFunction=c,this.blendColor=A,this.mask=_}}Un.Replace=[1,0],Un.disabled=new Un(Un.Replace,s.bp.transparent,[!1,!1,!1,!1]),Un.unblended=new Un(Un.Replace,s.bp.transparent,[!0,!0,!0,!0]),Un.alphaBlended=new Un([1,771],s.bp.transparent,[!0,!0,!0,!0]);const ja=2305;class Vn{constructor(c,A,_){this.enable=c,this.mode=A,this.frontFace=_}}Vn.disabled=new Vn(!1,1029,ja),Vn.backCCW=new Vn(!0,1029,ja),Vn.frontCCW=new Vn(!0,1028,ja);class an{constructor(c,A,_){this.func=c,this.mask=A,this.range=_}}an.ReadOnly=!1,an.ReadWrite=!0,an.disabled=new an(519,an.ReadOnly,[0,1]);const ca=7680;class aa{constructor(c,A,_,C,F,U){this.test=c,this.ref=A,this.mask=_,this.fail=C,this.depthFail=F,this.pass=U}}aa.disabled=new aa({func:519,mask:0},0,0,ca,ca,ca);const Sr=new WeakMap;function wa(M){var c;if(Sr.has(M))return Sr.get(M);{const A=(c=M.getParameter(M.VERSION))===null||c===void 0?void 0:c.startsWith("WebGL 2.0");return Sr.set(M,A),A}}class Va{get awaitingQuery(){return!!this._readbackQueue}constructor(c){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=c;const A=c.context,_=A.gl;this._texFormat=_.RGBA,this._texType=_.UNSIGNED_BYTE;const C=new s.aW;C.emplaceBack(-1,-1),C.emplaceBack(2,-1),C.emplaceBack(-1,2);const F=new s.aY;F.emplaceBack(0,1,2),this._fullscreenTriangle=new Na(A.createVertexBuffer(C,$n.members),A.createIndexBuffer(F),s.aX.simpleSegment(0,0,C.length,F.length)),this._resultBuffer=new Uint8Array(4),A.activeTexture.set(_.TEXTURE1);const U=_.createTexture();_.bindTexture(_.TEXTURE_2D,U),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texImage2D(_.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=A.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(U),wa(_)&&(this._pbo=_.createBuffer(),_.bindBuffer(_.PIXEL_PACK_BUFFER,this._pbo),_.bufferData(_.PIXEL_PACK_BUFFER,4,_.STREAM_READ),_.bindBuffer(_.PIXEL_PACK_BUFFER,null))}destroy(){const c=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),c.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(c,A){const _=this._updateCount;return this._readbackQueue?_>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():_>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(c,A),this._updateCount++,this._measuredError}_bindFramebuffer(){const c=this._cachedRenderContext.context,A=c.gl;c.activeTexture.set(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,this._fbo.colorAttachment.get()),c.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(c,A){const _=this._cachedRenderContext.context,C=_.gl;if(this._bindFramebuffer(),_.viewport.set([0,0,this._texWidth,this._texHeight]),_.clear({color:s.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(_,C.TRIANGLES,an.disabled,aa.disabled,Un.unblended,Vn.disabled,((F,U)=>({u_input:F,u_output_expected:U}))(c,A),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&wa(C)){C.bindBuffer(C.PIXEL_PACK_BUFFER,this._pbo),C.readBuffer(C.COLOR_ATTACHMENT0),C.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),C.bindBuffer(C.PIXEL_PACK_BUFFER,null);const F=C.fenceSync(C.SYNC_GPU_COMMANDS_COMPLETE,0);C.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:F}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const c=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&wa(c)){const A=c.clientWaitSync(this._readbackQueue.sync,0,0);if(A===c.WAIT_FAILED)return s.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(A===c.TIMEOUT_EXPIRED)return;c.bindBuffer(c.PIXEL_PACK_BUFFER,this._pbo),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),c.bindBuffer(c.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),c.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Va._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(c){let A=0;return A+=c[0]/256,A+=c[1]/65536,A+=c[2]/16777216,c[3]<127&&(A=-A),A/128}}const Wt=s.a5/128;function Tn(M,c){const A=M.granularity!==void 0?Math.max(M.granularity,1):1,_=A+(M.generateBorders?2:0),C=A+(M.extendToNorthPole||M.generateBorders?1:0)+(M.extendToSouthPole||M.generateBorders?1:0),F=_+1,U=C+1,V=M.generateBorders?-1:0,X=M.generateBorders||M.extendToNorthPole?-1:0,ie=A+(M.generateBorders?1:0),se=A+(M.generateBorders||M.extendToSouthPole?1:0),fe=F*U,ue=_*C*6,ye=F*U>65536;if(ye&&c==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Te=ye||c==="32bit",Ne=new Int16Array(2*fe);let Ge=0;for(let ct=X;ct<=se;ct++)for(let Ze=V;Ze<=ie;Ze++){let ot=Ze/A*s.a5;Ze===-1&&(ot=-Wt),Ze===A+1&&(ot=s.a5+Wt);let At=ct/A*s.a5;ct===-1&&(At=M.extendToNorthPole?s.br:-Wt),ct===A+1&&(At=M.extendToSouthPole?s.bs:s.a5+Wt),Ne[Ge++]=ot,Ne[Ge++]=At}const He=Te?new Uint32Array(ue):new Uint16Array(ue);let et=0;for(let ct=0;ct<C;ct++)for(let Ze=0;Ze<_;Ze++){const ot=Ze+1+ct*F,At=Ze+(ct+1)*F,rt=Ze+1+(ct+1)*F;He[et++]=Ze+ct*F,He[et++]=At,He[et++]=ot,He[et++]=ot,He[et++]=At,He[et++]=rt}return{vertices:Ne.buffer.slice(0),indices:He.buffer.slice(0),uses32bitIndices:Te}}const ea=new s.aV({fill:new s.bt(128,2),line:new s.bt(512,0),tile:new s.bt(128,32),stencil:new s.bt(128,1),circle:3});class ka{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return ia.projectionGlobe}get vertexShaderPreludeCode(){return ia.projectionMercator.vertexSource}get subdivisionGranularity(){return ea}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(c){this._errorMeasurement||(this._errorMeasurement=new Va(c));const A=s.X(this._errorQueryLatitudeDegrees),_=2*Math.atan(Math.exp(Math.PI-A*Math.PI*2))-.5*Math.PI,C=this._errorMeasurement.updateErrorLoop(A,_),F=I();C!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=C,this._errorMeasurementLastChangeTime=F);const U=Math.min(Math.max((F-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=s.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,s.bv(U))}_getMeshKey(c){return`${c.granularity.toString(36)}_${c.generateBorders?"b":""}${c.extendToNorthPole?"n":""}${c.extendToSouthPole?"s":""}`}getMeshFromTileID(c,A,_,C,F){const U=(F==="stencil"?ea.stencil:ea.tile).getGranularityForZoomLevel(A.z);return this._getMesh(c,{granularity:U,generateBorders:_,extendToNorthPole:A.y===0&&C,extendToSouthPole:A.y===(1<<A.z)-1&&C})}_getMesh(c,A){const _=this._getMeshKey(A);if(_ in this._tileMeshCache)return this._tileMeshCache[_];const C=(function(F,U){const V=Tn(U,"16bit"),X=s.aW.deserialize({arrayBuffer:V.vertices,length:V.vertices.byteLength/2/2}),ie=s.aY.deserialize({arrayBuffer:V.indices,length:V.indices.byteLength/2/3});return new Na(F.createVertexBuffer(X,$n.members),F.createIndexBuffer(ie),s.aX.simpleSegment(0,0,X.length,ie.length))})(c,A);return this._tileMeshCache[_]=C,C}recalculate(c){}hasTransition(){const c=I();let A=!1;return A=A||(c-this._errorMeasurementLastChangeTime)/1e3<.7,A=A||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,A}setErrorQueryLatitudeDegrees(c){this._errorQueryLatitudeDegrees=c}}const xo=new s.t({type:new s.D(s.u.projection.type)});class Ko extends s.E{constructor(c){super(),this._transitionable=new s.x(xo,void 0),this.setProjection(c),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new s.H(0)),this._mercatorProjection=new Me,this._verticalPerspectiveProjection=new ka}get transitionState(){const c=this.properties.get("type");if(typeof c=="string"&&c==="mercator")return 0;if(typeof c=="string"&&c==="vertical-perspective")return 1;if(c instanceof s.bw){if(c.from==="vertical-perspective"&&c.to==="mercator")return 1-c.transition;if(c.from==="mercator"&&c.to==="vertical-perspective")return c.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(c){this._mercatorProjection.updateGPUdependent(c),this._verticalPerspectiveProjection.updateGPUdependent(c)}getMeshFromTileID(c,A,_,C,F){return this.currentProjection.getMeshFromTileID(c,A,_,C,F)}setProjection(c){this._transitionable.setValue("type",c?.type||"mercator")}updateTransitions(c){this._transitioning=this._transitionable.transitioned(c,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(c){this.properties=this._transitioning.possiblyEvaluate(c)}setErrorQueryLatitudeDegrees(c){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(c),this._mercatorProjection.setErrorQueryLatitudeDegrees(c)}}function rr(M){const c=er(M.worldSize,M.center.lat);return 2*Math.PI*c}function Ms(M,c,A,_,C){const F=1/(1<<C),U=c/s.a5*F+_*F,V=s.by((M/s.a5*F+A*F)*Math.PI*2+Math.PI,2*Math.PI),X=2*Math.atan(Math.exp(Math.PI-U*Math.PI*2))-.5*Math.PI,ie=Math.cos(X),se=new Float64Array(3);return se[0]=Math.sin(V)*ie,se[1]=Math.sin(X),se[2]=Math.cos(V)*ie,se}function ba(M){return(function(c,A){const _=Math.cos(A),C=new Float64Array(3);return C[0]=Math.sin(c)*_,C[1]=Math.sin(A),C[2]=Math.cos(c)*_,C})(M.lng*Math.PI/180,M.lat*Math.PI/180)}function er(M,c){return M/(2*Math.PI)/Math.cos(c*Math.PI/180)}function Do(M){const c=Math.asin(M[1])/Math.PI*180,A=Math.sqrt(M[0]*M[0]+M[2]*M[2]);if(A>1e-6){const _=M[0]/A,C=Math.acos(M[2]/A),F=(_>0?C:-C)/Math.PI*180;return new s.V(s.W(F,-180,180),c)}return new s.V(0,c)}function Ya(M){return Math.cos(M*Math.PI/180)}function sr(M,c){const A=Ya(M),_=Ya(c);return s.at(_/A)}function _o(M,c){const A=M.rotate(c.bearingInRadians),_=c.zoom+sr(c.center.lat,0),C=s.bu(1/Ya(c.center.lat),1/Ya(Math.min(Math.abs(c.center.lat),60)),s.bx(_,7,3,0,1)),F=360/rr({worldSize:c.worldSize,center:{lat:c.center.lat}});return new s.V(c.center.lng-A.x*F*C,s.an(c.center.lat+A.y*F,-s.ao,s.ao))}function Ta(M){const c=.5*M,A=Math.sin(c),_=Math.cos(c);return Math.log(A+_)-Math.log(_-A)}function Qn(M,c,A,_){const C=M.lat+A*_;if(Math.abs(A)>1){const F=(Math.sign(M.lat+A)!==Math.sign(M.lat)?-Math.abs(M.lat):Math.abs(M.lat))*Math.PI/180,U=Math.abs(M.lat+A)*Math.PI/180,V=Ta(F+_*(U-F)),X=Ta(F),ie=Ta(U);return new s.V(M.lng+c*((V-X)/(ie-X)),C)}return new s.V(M.lng+c*_,C)}class Lu{constructor(c){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=c}swapBuffers(){if(!this._hadAnyChanges)return;const c=this._cachePrevious;this._cachePrevious=this._cache,this._cache=c,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(c,A,_,C){const F=`${c.z}_${c.x}_${c.y}_${C?.terrain?"t":""}`,U=this._cache.get(F);if(U)return U;const V=this._cachePrevious.get(F);if(V)return this._cache.set(F,V),V;const X=this._boundingVolumeFactory(c,A,_,C);return this._cache.set(F,X),this._hadAnyChanges=!0,X}}class Aa{constructor(c,A,_,C){this.min=_,this.max=C,this.points=c,this.planes=A}static fromAabb(c,A){const _=[];for(let C=0;C<8;C++)_.push([1&~C?c[0]:A[0],(C>>1&1)==1?A[1]:c[1],(C>>2&1)==1?A[2]:c[2]]);return new Aa(_,[[-1,0,0,A[0]],[1,0,0,-c[0]],[0,-1,0,A[1]],[0,1,0,-c[1]],[0,0,-1,A[2]],[0,0,1,-c[2]]],c,A)}static fromCenterSizeAngles(c,A,_){const C=s.bB([],_[0],_[1],_[2]),F=s.bC([],[A[0],0,0],C),U=s.bC([],[0,A[1],0],C),V=s.bC([],[0,0,A[2]],C),X=[...c],ie=[...c];for(let fe=0;fe<8;fe++)for(let ue=0;ue<3;ue++){const ye=c[ue]+F[ue]*(1&~fe?-1:1)+U[ue]*((fe>>1&1)==1?1:-1)+V[ue]*((fe>>2&1)==1?1:-1);X[ue]=Math.min(X[ue],ye),ie[ue]=Math.max(ie[ue],ye)}const se=[];for(let fe=0;fe<8;fe++){const ue=[...c];s.b0(ue,ue,s.a$([],F,1&~fe?-1:1)),s.b0(ue,ue,s.a$([],U,(fe>>1&1)==1?1:-1)),s.b0(ue,ue,s.a$([],V,(fe>>2&1)==1?1:-1)),se.push(ue)}return new Aa(se,[[...F,-s.b5(F,se[0])],[...U,-s.b5(U,se[0])],[...V,-s.b5(V,se[0])],[-F[0],-F[1],-F[2],-s.b5(F,se[7])],[-U[0],-U[1],-U[2],-s.b5(U,se[7])],[-V[0],-V[1],-V[2],-s.b5(V,se[7])]],X,ie)}intersectsFrustum(c){let A=!0;const _=this.points.length,C=this.planes.length,F=c.planes.length,U=c.points.length;for(let V=0;V<F;V++){const X=c.planes[V];let ie=0;for(let se=0;se<_;se++){const fe=this.points[se];X[0]*fe[0]+X[1]*fe[1]+X[2]*fe[2]+X[3]>=0&&ie++}if(ie===0)return 0;ie<_&&(A=!1)}if(A)return 2;for(let V=0;V<C;V++){const X=this.planes[V];let ie=0;for(let se=0;se<U;se++){const fe=c.points[se];X[0]*fe[0]+X[1]*fe[1]+X[2]*fe[2]+X[3]>=0&&ie++}if(ie===0)return 0}return 1}intersectsPlane(c){const A=this.points.length;let _=0;for(let C=0;C<A;C++){const F=this.points[C];c[0]*F[0]+c[1]*F[1]+c[2]*F[2]+c[3]>=0&&_++}return _===A?2:_===0?0:1}}function Xr(M,c,A){const _=M-c;return _<0?-_:Math.max(0,_-A)}function Hr(M,c,A,_,C){const F=M-A;let U;return U=F<0?Math.min(-F,1+F-C):F>1?Math.min(Math.max(F-C,0),1-F):0,Math.max(U,Xr(c,_,C))}class Vs{constructor(){this._boundingVolumeCache=new Lu(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(c,A,_,C){const F=1<<_.z,U=1/F,V=_.x/F,X=_.y/F;let ie=2;return ie=Math.min(ie,Hr(c,A,V,X,U)),ie=Math.min(ie,Hr(c,A,V+.5,-X-U,U)),ie=Math.min(ie,Hr(c,A,V+.5,2-X-U,U)),ie}getWrap(c,A,_){const C=1<<A.z,F=1/C,U=A.x/C,V=Xr(c.x,U,F),X=Xr(c.x,U-1,F),ie=Xr(c.x,U+1,F),se=Math.min(V,X,ie);return se===ie?1:se===X?-1:0}allowVariableZoom(c,A){return Di(c,A)>4}allowWorldCopies(){return!1}getTileBoundingVolume(c,A,_,C){return this._boundingVolumeCache.getTileBoundingVolume(c,A,_,C)}_computeTileBoundingVolume(c,A,_,C){var F,U;let V=0,X=0;if(C?.terrain){const ie=new s.a2(c.z,A,c.z,c.x,c.y),se=C.terrain.getMinMaxElevation(ie);V=(F=se.minElevation)!==null&&F!==void 0?F:Math.min(0,_),X=(U=se.maxElevation)!==null&&U!==void 0?U:Math.max(0,_)}if(V/=s.bE,X/=s.bE,V+=1,X+=1,c.z<=0)return Aa.fromAabb([-X,-X,-X],[X,X,X]);if(c.z===1)return Aa.fromAabb([c.x===0?-X:0,c.y===0?0:-X,-X],[c.x===0?0:X,c.y===0?X:0,X]);{const ie=[Ms(0,0,c.x,c.y,c.z),Ms(s.a5,0,c.x,c.y,c.z),Ms(s.a5,s.a5,c.x,c.y,c.z),Ms(0,s.a5,c.x,c.y,c.z)],se=[];for(const zt of ie)se.push(s.a$([],zt,X));if(X!==V)for(const zt of ie)se.push(s.a$([],zt,V));c.y===0&&se.push([0,1,0]),c.y===(1<<c.z)-1&&se.push([0,-1,0]);const fe=[1,1,1],ue=[-1,-1,-1];for(const zt of se)for(let Ht=0;Ht<3;Ht++)fe[Ht]=Math.min(fe[Ht],zt[Ht]),ue[Ht]=Math.max(ue[Ht],zt[Ht]);const ye=Ms(s.a5/2,s.a5/2,c.x,c.y,c.z),Te=s.b4([],[0,1,0],ye);s.b3(Te,Te);const Ne=s.b4([],ye,Te);s.b3(Ne,Ne);const Ge=s.b4([],ie[2],ie[1]);s.b3(Ge,Ge);const He=s.b4([],ie[0],ie[3]);s.b3(He,He),se.push(s.a$([],ye,X)),c.y>=(1<<c.z)/2&&se.push(s.a$([],Ms(s.a5/2,0,c.x,c.y,c.z),X)),c.y<(1<<c.z)/2&&se.push(s.a$([],Ms(s.a5/2,s.a5,c.x,c.y,c.z),X));const et=lr(ye,se),ct=lr(Ne,se),Ze=[-ye[0],-ye[1],-ye[2],et.max],ot=[ye[0],ye[1],ye[2],-et.min],At=[-Ne[0],-Ne[1],-Ne[2],ct.max],rt=[Ne[0],Ne[1],Ne[2],-ct.min],St=[...Ge,0],Xt=[...He,0],Ut=[];return c.y===0?Ut.push(s.bD(Xt,St,Ze),s.bD(Xt,St,ot)):Ut.push(s.bD(At,St,Ze),s.bD(At,St,ot),s.bD(At,Xt,Ze),s.bD(At,Xt,ot)),c.y===(1<<c.z)-1?Ut.push(s.bD(Xt,St,Ze),s.bD(Xt,St,ot)):Ut.push(s.bD(rt,St,Ze),s.bD(rt,St,ot),s.bD(rt,Xt,Ze),s.bD(rt,Xt,ot)),new Aa(Ut,[Ze,ot,At,rt,St,Xt],fe,ue)}}}function lr(M,c){let A=1/0,_=-1/0;for(const C of c){const F=s.b5(M,C);A=Math.min(A,F),_=Math.max(_,F)}return{min:A,max:_}}class Ls{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,A,_){return this._helper.interpolatePadding(c,A,_)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,A){this._helper.resize(c,A)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,A){this._helper.overrideNearFarZ(c,A)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(c){}constructor(c){this._cachedClippingPlane=s.bF(),this._projectionMatrix=s.bj(),this._globeViewProjMatrix32f=s.bi(),this._globeViewProjMatrixNoCorrection=s.bj(),this._globeViewProjMatrixNoCorrectionInverted=s.bj(),this._globeProjMatrixInverted=s.bj(),this._cameraPosition=s.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(A,_)=>{const C=s.an(A.lat,-s.ao,s.ao),F=s.an(+_,this.minZoom+sr(0,C),this.maxZoom);return{center:new s.V(A.lng,C),zoom:F}},this.applyConstrain=(A,_)=>this._helper.applyConstrain(A,_),this._helper=new Qt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(A,_)=>this.defaultConstrain(A,_)},c),this._coveringTilesDetailsProvider=new Vs}clone(){const c=new Ls;return c.apply(this),c}apply(c,A){this._globeLatitudeErrorCorrectionRadians=A||0,this._helper.apply(c)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const c=s.bz();return c[0]=this._cameraPosition[0],c[1]=this._cameraPosition[1],c[2]=this._cameraPosition[2],c}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(c){const{overscaledTileID:A,applyGlobeMatrix:_}=c,C=this._helper.getMercatorTileCoordinates(A);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:C,clippingPlane:this._cachedClippingPlane,projectionTransition:_?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(c){const A=this.pitchInRadians,_=this.cameraToCenterDistance/c,C=Math.sin(A)*_,F=Math.cos(A)*_+1,U=1/Math.sqrt(C*C+F*F)*1;let V=-C,X=F;const ie=Math.sqrt(V*V+X*X);V/=ie,X/=ie;const se=[0,V,X];s.bG(se,se,[0,0,0],-this.bearingInRadians),s.bH(se,se,[0,0,0],-1*this.center.lat*Math.PI/180),s.bI(se,se,[0,0,0],this.center.lng*Math.PI/180);const fe=1/s.b7(se);return s.a$(se,se,fe),[...se,-U*fe]}isLocationOccluded(c){return!this.isSurfacePointVisible(ba(c))}transformLightDirection(c){const A=this._helper._center.lng*Math.PI/180,_=this._helper._center.lat*Math.PI/180,C=Math.cos(_),F=[Math.sin(A)*C,Math.sin(_),Math.cos(A)*C],U=[F[2],0,-F[0]],V=[0,0,0];s.b4(V,U,F),s.b3(U,U),s.b3(V,V);const X=[0,0,0];return s.b3(X,[U[0]*c[0]+V[0]*c[1]+F[0]*c[2],U[1]*c[0]+V[1]*c[1]+F[1]*c[2],U[2]*c[0]+V[2]*c[1]+F[2]*c[2]]),X}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(c,A,_){const C=(function(V,X,ie){const se=1/(1<<ie.z);return new s.a9(V/s.a5*se+ie.x*se,X/s.a5*se+ie.y*se)})(c,A,_.canonical),F=(U=C.y,[s.by(C.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-U*Math.PI*2))-.5*Math.PI]);var U;return this.getCircleRadiusCorrection()/Math.cos(F[1])}projectTileCoordinates(c,A,_,C){const F=_.canonical,U=Ms(c,A,F.x,F.y,F.z),V=1+(C?C(c,A):0)/s.bE,X=[U[0]*V,U[1]*V,U[2]*V,1];s.aH(X,X,this._globeViewProjMatrixNoCorrection);const ie=this._cachedClippingPlane,se=ie[0]*U[0]+ie[1]*U[1]+ie[2]*U[2]+ie[3]<0;return{point:new s.P(X[0]/X[3],X[1]/X[3]),signedDistanceFromCamera:X[3],isOccluded:se}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const c=er(this.worldSize,this.center.lat),A=s.bk(),_=s.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*c),s.be(A,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const C=this.centerOffset;A[8]=2*-C.x/this._helper._width,A[9]=2*C.y/this._helper._height,this._projectionMatrix=s.bf(A),this._globeProjMatrixInverted=s.bk(),s.aB(this._globeProjMatrixInverted,A),s.O(A,A,[0,0,-this.cameraToCenterDistance]),s.bg(A,A,this.rollInRadians),s.bh(A,A,-this.pitchInRadians),s.bg(A,A,this.bearingInRadians),s.O(A,A,[0,0,-c]);const F=s.bz();F[0]=c,F[1]=c,F[2]=c,s.bh(_,A,this.center.lat*Math.PI/180),s.bJ(_,_,-this.center.lng*Math.PI/180),s.Q(_,_,F),this._globeViewProjMatrixNoCorrection=_,s.bh(A,A,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),s.bJ(A,A,-this.center.lng*Math.PI/180),s.Q(A,A,F),this._globeViewProjMatrix32f=new Float32Array(A),this._globeViewProjMatrixNoCorrectionInverted=s.bk(),s.aB(this._globeViewProjMatrixNoCorrectionInverted,_);const U=s.bz();this._cameraPosition=s.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/c,s.bG(this._cameraPosition,this._cameraPosition,U,-this.rollInRadians),s.bH(this._cameraPosition,this._cameraPosition,U,this.pitchInRadians),s.bG(this._cameraPosition,this._cameraPosition,U,-this.bearingInRadians),s.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),s.bH(this._cameraPosition,this._cameraPosition,U,-this.center.lat*Math.PI/180),s.bI(this._cameraPosition,this._cameraPosition,U,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(c);const V=s.bf(this._globeViewProjMatrixNoCorrectionInverted);s.Q(V,V,[1,1,-1]),this._cachedFrustum=Qi.fromInvProjectionMatrix(V,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(c){s.w("calculateFogMatrix is not supported on globe projection.");const A=s.bk();return s.ar(A),A}getVisibleUnwrappedCoordinates(c){return[new s.bc(0,c)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(c){c&&s.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,A){if(!this._globeViewProjMatrixNoCorrection)return 1;const _=ba(c);s.a$(_,_,1+A/s.bE);const C=s.bF();return s.aH(C,[_[0],_[1],_[2],1],this._globeViewProjMatrixNoCorrection),C[2]/C[3]}populateCache(c){}getBounds(){const c=.5*this.width,A=.5*this.height,_=[new s.P(0,0),new s.P(c,0),new s.P(this.width,0),new s.P(this.width,A),new s.P(this.width,this.height),new s.P(c,this.height),new s.P(0,this.height),new s.P(0,A)],C=[];for(const fe of _)C.push(this.unprojectScreenPoint(fe));let F=0,U=0,V=0,X=0;const ie=this.center;for(const fe of C){const ue=s.bK(ie.lng,fe.lng),ye=s.bK(ie.lat,fe.lat);ue<U&&(U=ue),ue>F&&(F=ue),ye<X&&(X=ye),ye>V&&(V=ye)}const se=[ie.lng+U,ie.lat+X,ie.lng+F,ie.lat+V];return this.isSurfacePointOnScreen([0,1,0])&&(se[3]=90,se[0]=-180,se[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(se[1]=-90,se[0]=-180,se[2]=180),new Ye(se)}calculateCenterFromCameraLngLatAlt(c,A,_,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,A,_,C)}setLocationAtPoint(c,A){const _=ba(this.unprojectScreenPoint(A)),C=ba(c),F=s.bz();s.bL(F);const U=s.bz();s.bI(U,_,F,-this.center.lng*Math.PI/180),s.bH(U,U,F,this.center.lat*Math.PI/180);const V=C[0]*C[0]+C[2]*C[2],X=U[0]*U[0];if(V<X)return;const ie=Math.sqrt(V-X),se=-ie,fe=s.bM(C[0],C[2],U[0],ie),ue=s.bM(C[0],C[2],U[0],se),ye=s.bz();s.bI(ye,C,F,-fe);const Te=s.bM(ye[1],ye[2],U[1],U[2]),Ne=s.bz();s.bI(Ne,C,F,-ue);const Ge=s.bM(Ne[1],Ne[2],U[1],U[2]),He=.5*Math.PI,et=Te>=-He&&Te<=He,ct=Ge>=-He&&Ge<=He;let Ze,ot;if(et&&ct){const Xt=this.center.lng*Math.PI/180,Ut=this.center.lat*Math.PI/180;s.bN(fe,Xt)+s.bN(Te,Ut)<s.bN(ue,Xt)+s.bN(Ge,Ut)?(Ze=fe,ot=Te):(Ze=ue,ot=Ge)}else if(et)Ze=fe,ot=Te;else{if(!ct)return;Ze=ue,ot=Ge}const At=Ze/Math.PI*180,rt=ot/Math.PI*180,St=this.center.lat;this.setCenter(new s.V(At,s.an(rt,-90,90))),this.setZoom(this.zoom+sr(St,this.center.lat))}locationToScreenPoint(c,A){const _=ba(c);if(A){const C=A.getElevationForLngLatZoom(c,this._helper._tileZoom);s.a$(_,_,1+C/s.bE)}return this._projectSurfacePointToScreen(_)}_projectSurfacePointToScreen(c){const A=s.bF();return s.aH(A,[...c,1],this._globeViewProjMatrixNoCorrection),A[0]/=A[3],A[1]/=A[3],new s.P((.5*A[0]+.5)*this.width,(.5*-A[1]+.5)*this.height)}screenPointToMercatorCoordinate(c,A){if(A){const _=A.pointCoordinate(c);if(_)return _}return s.a9.fromLngLat(this.unprojectScreenPoint(c))}screenPointToLocation(c,A){var _;return(_=this.screenPointToMercatorCoordinate(c,A))===null||_===void 0?void 0:_.toLngLat()}isPointOnMapSurface(c,A){const _=this._cameraPosition,C=this.getRayDirectionFromPixel(c);return!!this.rayPlanetIntersection(_,C)}getRayDirectionFromPixel(c){const A=s.bF();A[0]=c.x/this.width*2-1,A[1]=-1*(c.y/this.height*2-1),A[2]=1,A[3]=1,s.aH(A,A,this._globeViewProjMatrixNoCorrectionInverted),A[0]/=A[3],A[1]/=A[3],A[2]/=A[3];const _=s.bz();_[0]=A[0]-this._cameraPosition[0],_[1]=A[1]-this._cameraPosition[1],_[2]=A[2]-this._cameraPosition[2];const C=s.bz();return s.b3(C,_),C}isSurfacePointVisible(c){const A=this._cachedClippingPlane;return A[0]*c[0]+A[1]*c[1]+A[2]*c[2]+A[3]>=0}isSurfacePointOnScreen(c){if(!this.isSurfacePointVisible(c))return!1;const A=s.bF();return s.aH(A,[...c,1],this._globeViewProjMatrixNoCorrection),A[0]/=A[3],A[1]/=A[3],A[2]/=A[3],A[0]>-1&&A[0]<1&&A[1]>-1&&A[1]<1&&A[2]>-1&&A[2]<1}rayPlanetIntersection(c,A){const _=s.b5(c,A),C=s.bz(),F=s.bz();s.a$(F,A,_),s.b2(C,c,F);const U=1-s.b5(C,C);if(U<0)return null;const V=s.b5(c,c)-1,X=-_+(_<0?1:-1)*Math.sqrt(U),ie=V/X,se=X;return{tMin:Math.min(ie,se),tMax:Math.max(ie,se)}}unprojectScreenPoint(c){const A=this._cameraPosition,_=this.getRayDirectionFromPixel(c),C=this.rayPlanetIntersection(A,_);if(C){const se=s.bz();s.b0(se,A,[_[0]*C.tMin,_[1]*C.tMin,_[2]*C.tMin]);const fe=s.bz();return s.b3(fe,se),Do(fe)}const F=this._cachedClippingPlane,U=F[0]*_[0]+F[1]*_[1]+F[2]*_[2],V=-s.bb(F,A)/U,X=s.bz();if(V>0)s.b0(X,A,[_[0]*V,_[1]*V,_[2]*V]);else{const se=s.bz();s.b0(se,A,[2*_[0],2*_[1],2*_[2]]);const fe=s.bb(this._cachedClippingPlane,se);s.b2(X,se,[this._cachedClippingPlane[0]*fe,this._cachedClippingPlane[1]*fe,this._cachedClippingPlane[2]*fe])}const ie=(function(se){const fe=s.bz();return fe[0]=se[0]*-se[3],fe[1]=se[1]*-se[3],fe[2]=se[2]*-se[3],{center:fe,radius:Math.sqrt(1-se[3]*se[3])}})(F);return Do((function(se,fe,ue){const ye=s.bz();s.b2(ye,ue,se);const Te=s.bz();return s.bA(Te,se,ye,fe/s.b9(ye)),Te})(ie.center,ie.radius,X))}getMatrixForModel(c,A){const _=s.V.convert(c),C=1/s.bE,F=s.bj();return s.bJ(F,F,_.lng/180*Math.PI),s.bh(F,F,-_.lat/180*Math.PI),s.O(F,F,[0,0,1+A/s.bE]),s.bh(F,F,.5*Math.PI),s.Q(F,F,[C,C,C]),F}getProjectionDataForCustomLayer(c=!0){const A=this.getProjectionData({overscaledTileID:new s.a2(0,0,0,0,0),applyGlobeMatrix:c});return A.tileMercatorCoords=[0,0,1,1],A}getFastPathSimpleProjectionMatrix(c){}}class Pl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(c){this._helper.setMinZoom(c)}setMaxZoom(c){this._helper.setMaxZoom(c)}setMinPitch(c){this._helper.setMinPitch(c)}setMaxPitch(c){this._helper.setMaxPitch(c)}setRenderWorldCopies(c){this._helper.setRenderWorldCopies(c)}setBearing(c){this._helper.setBearing(c)}setPitch(c){this._helper.setPitch(c)}setRoll(c){this._helper.setRoll(c)}setFov(c){this._helper.setFov(c)}setZoom(c){this._helper.setZoom(c)}setCenter(c){this._helper.setCenter(c)}setElevation(c){this._helper.setElevation(c)}setMinElevationForCurrentTile(c){this._helper.setMinElevationForCurrentTile(c)}setPadding(c){this._helper.setPadding(c)}interpolatePadding(c,A,_){return this._helper.interpolatePadding(c,A,_)}isPaddingEqual(c){return this._helper.isPaddingEqual(c)}resize(c,A,_=!0){this._helper.resize(c,A,_)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(c){this._helper.setMaxBounds(c)}setConstrainOverride(c){this._helper.setConstrainOverride(c)}overrideNearFarZ(c,A){this._helper.overrideNearFarZ(c,A)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(c){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),c)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(c,A){this._globeness=c,this._globeLatitudeErrorCorrectionRadians=A,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(c){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(A,_)=>this.currentTransform.defaultConstrain(A,_),this.applyConstrain=(A,_)=>this._helper.applyConstrain(A,_),this._helper=new Qt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(A,_)=>this.defaultConstrain(A,_)},c),this._globeness=1,this._mercatorTransform=new cn,this._verticalPerspectiveTransform=new Ls}clone(){const c=new Pl;return c._globeness=this._globeness,c._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,c.apply(this),c}apply(c){this._helper.apply(c),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(c){const A=this._mercatorTransform.getProjectionData(c),_=this._verticalPerspectiveTransform.getProjectionData(c);return{mainMatrix:this.isGlobeRendering?_.mainMatrix:A.mainMatrix,clippingPlane:_.clippingPlane,tileMercatorCoords:_.tileMercatorCoords,projectionTransition:c.applyGlobeMatrix?this._globeness:0,fallbackMatrix:A.fallbackMatrix}}isLocationOccluded(c){return this.currentTransform.isLocationOccluded(c)}transformLightDirection(c){return this.currentTransform.transformLightDirection(c)}getPixelScale(){return s.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return s.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(c,A,_){const C=this._mercatorTransform.getPitchedTextCorrection(c,A,_),F=this._verticalPerspectiveTransform.getPitchedTextCorrection(c,A,_);return s.bu(C,F,this._globeness)}projectTileCoordinates(c,A,_,C){return this.currentTransform.projectTileCoordinates(c,A,_,C)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(c){return this.currentTransform.calculateFogMatrix(c)}getVisibleUnwrappedCoordinates(c){return this.currentTransform.getVisibleUnwrappedCoordinates(c)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(c){this._mercatorTransform.recalculateZoomAndCenter(c),this._verticalPerspectiveTransform.recalculateZoomAndCenter(c)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(c,A){return this.currentTransform.lngLatToCameraDepth(c,A)}populateCache(c){this._mercatorTransform.populateCache(c),this._verticalPerspectiveTransform.populateCache(c)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(c,A,_,C){return this._helper.calculateCenterFromCameraLngLatAlt(c,A,_,C)}setLocationAtPoint(c,A){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(c,A),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(c,A),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(c,A){return this.currentTransform.locationToScreenPoint(c,A)}screenPointToMercatorCoordinate(c,A){return this.currentTransform.screenPointToMercatorCoordinate(c,A)}screenPointToLocation(c,A){return this.currentTransform.screenPointToLocation(c,A)}isPointOnMapSurface(c,A){return this.currentTransform.isPointOnMapSurface(c,A)}getRayDirectionFromPixel(c){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(c)}getMatrixForModel(c,A){return this.currentTransform.getMatrixForModel(c,A)}getProjectionDataForCustomLayer(c=!0){const A=this._mercatorTransform.getProjectionDataForCustomLayer(c);if(!this.isGlobeRendering)return A;const _=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(c);return _.fallbackMatrix=A.mainMatrix,_}getFastPathSimpleProjectionMatrix(c){return this.currentTransform.getFastPathSimpleProjectionMatrix(c)}}class Pr{get useGlobeControls(){return!0}handlePanInertia(c,A){const _=_o(c,A);return Math.abs(_.lng-A.center.lng)>180&&(_.lng=A.center.lng+179.5*Math.sign(_.lng-A.center.lng)),{easingCenter:_,easingOffset:new s.P(0,0)}}handleMapControlsRollPitchBearingZoom(c,A){const _=c.around,C=A.screenPointToLocation(_);c.bearingDelta&&A.setBearing(A.bearing+c.bearingDelta),c.pitchDelta&&A.setPitch(A.pitch+c.pitchDelta),c.rollDelta&&A.setRoll(A.roll+c.rollDelta);const F=A.zoom;c.zoomDelta&&A.setZoom(A.zoom+c.zoomDelta);const U=A.zoom-F;if(U===0)return;const V=s.bK(A.center.lng,C.lng),X=V/(Math.abs(V/180)+1),ie=s.bK(A.center.lat,C.lat),se=A.getRayDirectionFromPixel(_),fe=A.cameraPosition,ue=-1*s.b5(fe,se),ye=s.bz();s.b0(ye,fe,[se[0]*ue,se[1]*ue,se[2]*ue]);const Te=s.b7(ye)-1,Ne=Math.exp(.5*-Math.max(Te-.3,0)),Ge=er(A.worldSize,A.center.lat)/Math.min(A.width,A.height),He=s.bx(Ge,.9,.5,1,.25),et=(1-s.aq(-U))*Math.min(Ne,He),ct=A.center.lat,Ze=A.zoom,ot=new s.V(A.center.lng+X*et,s.an(A.center.lat+ie*et,-s.ao,s.ao));A.setLocationAtPoint(C,_);const At=A.center,rt=s.bx(Math.abs(V),45,85,0,1),St=s.bx(Ge,.75,.35,0,1),Xt=Math.pow(Math.max(rt,St),.25),Ut=s.bK(At.lng,ot.lng),zt=s.bK(At.lat,ot.lat);A.setCenter(new s.V(At.lng+Ut*Xt,At.lat+zt*Xt).wrap()),A.setZoom(Ze+sr(ct,A.center.lat))}handleMapControlsPan(c,A,_){if(!c.panDelta)return;const C=A.center.lat,F=A.zoom;A.setCenter(_o(c.panDelta,A).wrap()),A.setZoom(F+sr(C,A.center.lat))}cameraForBoxAndBearing(c,A,_,C,F){const U=pa(c,A,_,C,F),V=A.left/F.width*2-1,X=(F.width-A.right)/F.width*2-1,ie=A.top/F.height*-2+1,se=(F.height-A.bottom)/F.height*-2+1,fe=s.bK(_.getWest(),_.getEast())<0,ue=fe?_.getEast():_.getWest(),ye=fe?_.getWest():_.getEast(),Te=Math.max(_.getNorth(),_.getSouth()),Ne=Math.min(_.getNorth(),_.getSouth()),Ge=ue+.5*s.bK(ue,ye),He=Te+.5*s.bK(Te,Ne),et=F.clone();et.setCenter(U.center),et.setBearing(U.bearing),et.setPitch(0),et.setRoll(0),et.setZoom(U.zoom);const ct=et.modelViewProjectionMatrix,Ze=[ba(_.getNorthWest()),ba(_.getNorthEast()),ba(_.getSouthWest()),ba(_.getSouthEast()),ba(new s.V(ye,He)),ba(new s.V(ue,He)),ba(new s.V(Ge,Te)),ba(new s.V(Ge,Ne))],ot=ba(U.center);let At=Number.POSITIVE_INFINITY;for(const rt of Ze)V<0&&(At=Pr.getLesserNonNegativeNonNull(At,Pr.solveVectorScale(rt,ot,ct,"x",V))),X>0&&(At=Pr.getLesserNonNegativeNonNull(At,Pr.solveVectorScale(rt,ot,ct,"x",X))),ie>0&&(At=Pr.getLesserNonNegativeNonNull(At,Pr.solveVectorScale(rt,ot,ct,"y",ie))),se<0&&(At=Pr.getLesserNonNegativeNonNull(At,Pr.solveVectorScale(rt,ot,ct,"y",se)));if(Number.isFinite(At)&&At!==0)return U.zoom=et.zoom+s.at(At),U;Ln()}handleJumpToCenterZoom(c,A){const _=c.center.lat,C=c.applyConstrain(A.center?s.V.convert(A.center):c.center,c.zoom).center;c.setCenter(C.wrap());const F=A.zoom!==void 0?+A.zoom:c.zoom+sr(_,C.lat);c.zoom!==F&&c.setZoom(F)}handleEaseTo(c,A){const _=c.zoom,C=c.center,F=c.padding,U={roll:c.roll,pitch:c.pitch,bearing:c.bearing},V={roll:A.roll===void 0?c.roll:A.roll,pitch:A.pitch===void 0?c.pitch:A.pitch,bearing:A.bearing===void 0?c.bearing:A.bearing},X=A.zoom!==void 0,ie=!c.isPaddingEqual(A.padding);let se=!1;const fe=A.center?s.V.convert(A.center):C,ue=c.applyConstrain(fe,_).center;$e(c,ue);const ye=c.clone();ye.setCenter(ue),ye.setZoom(X?+A.zoom:_+sr(C.lat,fe.lat)),ye.setBearing(A.bearing);const Te=new s.P(s.an(c.centerPoint.x+A.offsetAsPoint.x,0,c.width),s.an(c.centerPoint.y+A.offsetAsPoint.y,0,c.height));ye.setLocationAtPoint(ue,Te);const Ne=(A.offset&&A.offsetAsPoint.mag())>0?ye.center:ue,Ge=X?+A.zoom:_+sr(C.lat,Ne.lat),He=_+sr(C.lat,0),et=Ge+sr(Ne.lat,0),ct=s.bK(C.lng,Ne.lng),Ze=s.bK(C.lat,Ne.lat),ot=s.aq(et-He);return se=Ge!==_,{easeFunc:At=>{if(s.bo(U,V)||ra({startEulerAngles:U,endEulerAngles:V,tr:c,k:At,useSlerp:U.roll!=V.roll}),ie&&c.interpolatePadding(F,A.padding,At),A.around)s.w("Easing around a point is not supported under globe projection."),c.setLocationAtPoint(A.around,A.aroundPoint);else{const rt=et>He?Math.min(2,ot):Math.max(.5,ot),St=Math.pow(rt,1-At),Xt=Qn(C,ct,Ze,At*St);c.setCenter(Xt.wrap())}if(se){const rt=s.G.number(He,et,At)+sr(0,c.center.lat);c.setZoom(rt)}},isZooming:se,elevationCenter:Ne}}handleFlyTo(c,A){const _=A.zoom!==void 0,C=c.center,F=c.zoom,U=c.padding,V=!c.isPaddingEqual(A.padding),X=c.applyConstrain(s.V.convert(A.center||A.locationAtOffset),F).center,ie=_?+A.zoom:c.zoom+sr(c.center.lat,X.lat),se=c.clone();se.setCenter(X),se.setZoom(ie),se.setBearing(A.bearing);const fe=new s.P(s.an(c.centerPoint.x+A.offsetAsPoint.x,0,c.width),s.an(c.centerPoint.y+A.offsetAsPoint.y,0,c.height));se.setLocationAtPoint(X,fe);const ue=se.center;$e(c,ue);const ye=(function(Ze,ot,At){const rt=ba(ot),St=ba(At),Xt=s.b5(rt,St),Ut=Math.acos(Xt),zt=rr(Ze);return Ut/(2*Math.PI)*zt})(c,C,ue),Te=F+sr(C.lat,0),Ne=ie+sr(ue.lat,0),Ge=s.aq(Ne-Te);let He;if(typeof A.minZoom=="number"){const Ze=+A.minZoom+sr(ue.lat,0),ot=Math.min(Ze,Te,Ne)+sr(0,ue.lat),At=c.applyConstrain(ue,ot).zoom+sr(ue.lat,0);He=s.aq(At-Te)}const et=s.bK(C.lng,ue.lng),ct=s.bK(C.lat,ue.lat);return{easeFunc:(Ze,ot,At,rt)=>{const St=Qn(C,et,ct,At);V&&c.interpolatePadding(U,A.padding,Ze);const Xt=Ze===1?ue:St;c.setCenter(Xt.wrap());const Ut=Te+s.at(ot);c.setZoom(Ze===1?ie:Ut+sr(0,Xt.lat))},scaleOfZoom:Ge,targetCenter:ue,scaleOfMinZoom:He,pixelPathLength:ye}}static solveVectorScale(c,A,_,C,F){const U=C==="x"?[_[0],_[4],_[8],_[12]]:[_[1],_[5],_[9],_[13]],V=[_[3],_[7],_[11],_[15]],X=c[0]*U[0]+c[1]*U[1]+c[2]*U[2],ie=c[0]*V[0]+c[1]*V[1]+c[2]*V[2],se=A[0]*U[0]+A[1]*U[1]+A[2]*U[2],fe=A[0]*V[0]+A[1]*V[1]+A[2]*V[2];return se+F*ie===X+F*fe||V[3]*(X-se)+U[3]*(fe-ie)+X*fe==se*ie?null:(se+U[3]-F*fe-F*V[3])/(se-X-F*fe+F*ie)}static getLesserNonNegativeNonNull(c,A){return A!==null&&A>=0&&A<c?A:c}}class bh{constructor(c){this._globe=c,this._mercatorCameraHelper=new sa,this._verticalPerspectiveCameraHelper=new Pr}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(c,A){return this.currentHelper.handlePanInertia(c,A)}handleMapControlsRollPitchBearingZoom(c,A){return this.currentHelper.handleMapControlsRollPitchBearingZoom(c,A)}handleMapControlsPan(c,A,_){this.currentHelper.handleMapControlsPan(c,A,_)}cameraForBoxAndBearing(c,A,_,C,F){return this.currentHelper.cameraForBoxAndBearing(c,A,_,C,F)}handleJumpToCenterZoom(c,A){this.currentHelper.handleJumpToCenterZoom(c,A)}handleEaseTo(c,A){return this.currentHelper.handleEaseTo(c,A)}handleFlyTo(c,A){return this.currentHelper.handleFlyTo(c,A)}}const Dl=(M,c)=>s.B(M,c&&c.filter((A=>A.identifier!=="source.canvas"))),ru=s.bO();class vo extends s.E{constructor(c,A={}){var _,C;super(),this._rtlPluginLoaded=()=>{for(const U in this.tileManagers){const V=this.tileManagers[U].getSource().type;V!=="vector"&&V!=="geojson"||this.tileManagers[U].reload()}},this.map=c,this.dispatcher=new Ii(Vi(),c._getMapId()),this.dispatcher.registerMessageHandler("GG",((U,V)=>this.getGlyphs(U,V))),this.dispatcher.registerMessageHandler("GI",((U,V)=>this.getImages(U,V))),this.dispatcher.registerMessageHandler("GDA",((U,V)=>this.getDashes(U,V))),this.imageManager=new de,this.imageManager.setEventedParent(this);const F=((_=c._container)===null||_===void 0?void 0:_.lang)||typeof document<"u"&&((C=document.documentElement)===null||C===void 0?void 0:C.lang)||void 0;this.glyphManager=new je(c._requestManager,A.localIdeographFontFamily,F),this.lineAtlas=new di(256,512),this.crossTileSymbolIndex=new na,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",s.bP()),yt().on(tt,this._rtlPluginLoaded),this.on("data",(U=>{if(U.dataType!=="source"||U.sourceDataType!=="metadata")return;const V=this.tileManagers[U.sourceId];if(!V)return;const X=V.getSource();if(X&&X.vectorLayerIds)for(const ie in this._layers){const se=this._layers[ie];se.source===X.id&&this._validateLayer(se)}}))}_setInitialValues(){var c;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new s.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((c=this.crossTileSymbolIndex)===null||c===void 0?void 0:c.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(c,A){var _,C,F;this._checkLoaded();const U=A===null?(F=(C=(_=this.stylesheet.state)===null||_===void 0?void 0:_[c])===null||C===void 0?void 0:C.default)!==null&&F!==void 0?F:null:A;if(s.bR(U,this._globalState[c]))return this;this._globalState[c]=U,this._applyGlobalStateChanges([c])}getGlobalState(){return this._globalState}setGlobalState(c){this._checkLoaded();const A=[];for(const _ in c)!s.bR(this._globalState[_],c[_].default)&&(A.push(_),this._globalState[_]=c[_].default);this._applyGlobalStateChanges(A)}_applyGlobalStateChanges(c){if(c.length===0)return;const A=new Set,_={};for(const C of c){_[C]=this._globalState[C];for(const F in this._layers){const U=this._layers[F],V=U.getLayoutAffectingGlobalStateRefs(),X=U.getPaintAffectingGlobalStateRefs(),ie=U.getVisibilityAffectingGlobalStateRefs();if(V.has(C)&&A.add(U.source),X.has(C))for(const{name:se,value:fe}of X.get(C))this._updatePaintProperty(U,se,fe);ie?.has(C)&&(U.recalculateVisibility(),this._updateLayer(U))}}this.dispatcher.broadcast("UGS",_);for(const C in this.tileManagers)A.has(C)&&(this._reloadSource(C),this._changed=!0)}loadURL(c,A={},_){this.fire(new s.l("dataloading",{dataType:"style"})),A.validate=typeof A.validate!="boolean"||A.validate;const C=this.map._requestManager.transformRequest(c,"Style");this._loadStyleRequest=new AbortController;const F=this._loadStyleRequest;s.j(C,this._loadStyleRequest).then((U=>{this._loadStyleRequest=null,this._load(U.data,A,_)})).catch((U=>{this._loadStyleRequest=null,U&&!F.signal.aborted&&this.fire(new s.k(U))}))}loadJSON(c,A={},_){this.fire(new s.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,A.validate=A.validate!==!1,this._load(c,A,_)})).catch((()=>{}))}loadEmpty(){this.fire(new s.l("dataloading",{dataType:"style"})),this._load(ru,{validate:!1})}_load(c,A,_){var C,F;let U=A.transformStyle?A.transformStyle(_,c):c;if(!A.validate||!Dl(this,s.C(U))){U=Object.assign({},U),this._loaded=!0,this.stylesheet=U;for(const V in U.sources)this.addSource(V,U.sources[V],{validate:!1});U.sprite?this._loadSprite(U.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(U.glyphs),this._createLayers(),this.light=new We(this.stylesheet.light),this._setProjectionInternal(((C=this.stylesheet.projection)===null||C===void 0?void 0:C.type)||"mercator"),this.sky=new Kt(this.stylesheet.sky),this.map.setTerrain((F=this.stylesheet.terrain)!==null&&F!==void 0?F:null),this.fire(new s.l("data",{dataType:"style"})),this.fire(new s.l("style.load"))}}_createLayers(){var c,A,_;const C=s.bS(this.stylesheet.layers);this.setGlobalState((c=this.stylesheet.state)!==null&&c!==void 0?c:null),this.dispatcher.broadcast("SL",C),this._order=C.map((F=>F.id)),this._layers={},this._serializedLayers=null;for(const F of C){const U=s.bT(F,this._globalState);if(U.setEventedParent(this,{layer:{id:F.id}}),this._layers[F.id]=U,s.bU(U)&&this.tileManagers[U.source]){const V=(_=(A=F.paint)===null||A===void 0?void 0:A["raster-fade-duration"])!==null&&_!==void 0?_:U.paint.get("raster-fade-duration");this.tileManagers[U.source].setRasterFadeDuration(V)}}}_loadSprite(c,A=!1,_=void 0){this.imageManager.setLoaded(!1);const C=new AbortController;let F;this._spriteRequest=C,(function(U,V,X,ie){return s._(this,void 0,void 0,(function*(){const se=te(U),fe=X>1?"@2x":"",ue={},ye={};for(const{id:Te,url:Ne}of se){const Ge=V.transformRequest(he(Ne,fe,".json"),"SpriteJSON");ue[Te]=s.j(Ge,ie);const He=V.transformRequest(he(Ne,fe,".png"),"SpriteImage");ye[Te]=q.getImage(He,ie)}return yield Promise.all([...Object.values(ue),...Object.values(ye)]),(function(Te,Ne){return s._(this,void 0,void 0,(function*(){const Ge={};for(const He in Te){Ge[He]={};const et=S.getImageCanvasContext((yield Ne[He]).data),ct=(yield Te[He]).data;for(const Ze in ct){const{width:ot,height:At,x:rt,y:St,sdf:Xt,pixelRatio:Ut,stretchX:zt,stretchY:Ht,content:Ti,textFitWidth:Li,textFitHeight:pi}=ct[Ze];Ge[He][Ze]={data:null,pixelRatio:Ut,sdf:Xt,stretchX:zt,stretchY:Ht,content:Ti,textFitWidth:Li,textFitHeight:pi,spriteData:{width:ot,height:At,x:rt,y:St,context:et}}}}return Ge}))})(ue,ye)}))})(c,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((U=>{if(this._spriteRequest=null,U)for(const V in U){this._spritesImagesIds[V]=[];const X=this._spritesImagesIds[V]?this._spritesImagesIds[V].filter((ie=>!(ie in U))):[];for(const ie of X)this.imageManager.removeImage(ie),this._changedImages[ie]=!0;for(const ie in U[V]){const se=V==="default"?ie:`${V}:${ie}`;this._spritesImagesIds[V].push(se),se in this.imageManager.images?this.imageManager.updateImage(se,U[V][ie],!1):this.imageManager.addImage(se,U[V][ie]),A&&(this._changedImages[se]=!0)}}})).catch((U=>{this._spriteRequest=null,F=U,C.signal.aborted||this.fire(new s.k(F))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),A&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"})),_&&_(F)}))}_unloadSprite(){for(const c of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(c),this._changedImages[c]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}_validateLayer(c){const A=this.tileManagers[c.source];if(!A)return;const _=c.sourceLayer;if(!_)return;const C=A.getSource();(C.type==="geojson"||C.vectorLayerIds&&C.vectorLayerIds.indexOf(_)===-1)&&this.fire(new s.k(new Error(`Source layer "${_}" does not exist on source "${C.id}" as specified by style layer "${c.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const c in this.tileManagers)if(!this.tileManagers[c].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(c,A=!1){const _=this._serializedAllLayers();if(!c||c.length===0)return Object.values(A?s.bV(_):_);const C=[];for(const F of c)if(_[F]){const U=A?s.bV(_[F]):_[F];C.push(U)}return C}_serializedAllLayers(){let c=this._serializedLayers;if(c)return c;c=this._serializedLayers={};const A=Object.keys(this._layers);for(const _ of A){const C=this._layers[_];C.type!=="custom"&&(c[_]=C.serialize())}return c}hasTransitions(){var c,A,_;if(!((c=this.light)===null||c===void 0)&&c.hasTransition()||!((A=this.sky)===null||A===void 0)&&A.hasTransition()||!((_=this.projection)===null||_===void 0)&&_.hasTransition())return!0;for(const C in this.tileManagers)if(this.tileManagers[C].hasTransition())return!0;for(const C in this._layers)if(this._layers[C].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(c){if(!this._loaded)return;const A=this._changed;if(A){const C=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);(C.length||F.length)&&this._updateWorkerLayers(C,F);for(const U in this._updatedSources){const V=this._updatedSources[U];if(V==="reload")this._reloadSource(U);else{if(V!=="clear")throw new Error(`Invalid action ${V}`);this._clearSource(U)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const U in this._updatedPaintProps)this._layers[U].updateTransitions(c);this.light.updateTransitions(c),this.sky.updateTransitions(c),this._resetUpdates()}const _={};for(const C in this.tileManagers){const F=this.tileManagers[C];_[C]=F.used,F.used=!1}for(const C of this._order){const F=this._layers[C];F.recalculate(c,this._availableImages),!F.isHidden(c.zoom)&&F.source&&(this.tileManagers[F.source].used=!0)}for(const C in _){const F=this.tileManagers[C];!!_[C]!=!!F.used&&F.fire(new s.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:C}))}this.light.recalculate(c),this.sky.recalculate(c),this.projection.recalculate(c),this.z=c.zoom,A&&this.fire(new s.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const c=Object.keys(this._changedImages);if(c.length){for(const A in this.tileManagers)this.tileManagers[A].reloadTilesForDependencies(["icons","patterns"],c);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const c in this.tileManagers)this.tileManagers[c].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(c,A){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(c,!1),removedIds:A})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(c,A={}){var _;this._checkLoaded();const C=this.serialize();if(c=A.transformStyle?A.transformStyle(C,c):c,((_=A.validate)===null||_===void 0||_)&&Dl(this,s.C(c)))return!1;(c=s.bV(c)).layers=s.bS(c.layers);const F=s.bW(C,c),U=this._getOperationsToPerform(F);if(U.unimplemented.length>0)throw new Error(`Unimplemented: ${U.unimplemented.join(", ")}.`);if(U.operations.length===0)return!1;for(const V of U.operations)V();return this.stylesheet=c,this._serializedLayers=null,!0}_getOperationsToPerform(c){const A=[],_=[];for(const C of c)switch(C.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":A.push((()=>this.addLayer.apply(this,C.args)));break;case"removeLayer":A.push((()=>this.removeLayer.apply(this,C.args)));break;case"setPaintProperty":A.push((()=>this.setPaintProperty.apply(this,C.args)));break;case"setLayoutProperty":A.push((()=>this.setLayoutProperty.apply(this,C.args)));break;case"setFilter":A.push((()=>this.setFilter.apply(this,C.args)));break;case"addSource":A.push((()=>this.addSource.apply(this,C.args)));break;case"removeSource":A.push((()=>this.removeSource.apply(this,C.args)));break;case"setLayerZoomRange":A.push((()=>this.setLayerZoomRange.apply(this,C.args)));break;case"setLight":A.push((()=>this.setLight.apply(this,C.args)));break;case"setGeoJSONSourceData":A.push((()=>this.setGeoJSONSourceData.apply(this,C.args)));break;case"setGlyphs":A.push((()=>this.setGlyphs.apply(this,C.args)));break;case"setSprite":A.push((()=>this.setSprite.apply(this,C.args)));break;case"setTerrain":A.push((()=>this.map.setTerrain.apply(this,C.args)));break;case"setSky":A.push((()=>this.setSky.apply(this,C.args)));break;case"setProjection":this.setProjection.apply(this,C.args);break;case"setGlobalState":A.push((()=>this.setGlobalState.apply(this,C.args)));break;case"setTransition":A.push((()=>{}));break;default:_.push(C.command)}return{operations:A,unimplemented:_}}addImage(c,A){if(this.getImage(c))return this.fire(new s.k(new Error(`An image named "${c}" already exists.`)));this.imageManager.addImage(c,A),this._afterImageUpdated(c)}updateImage(c,A){this.imageManager.updateImage(c,A)}getImage(c){return this.imageManager.getImage(c)}removeImage(c){if(!this.getImage(c))return this.fire(new s.k(new Error(`An image named "${c}" does not exist.`)));this.imageManager.removeImage(c),this._afterImageUpdated(c)}_afterImageUpdated(c){this._availableImages=this.imageManager.listImages(),this._changedImages[c]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(c,A,_={}){if(this._checkLoaded(),this.tileManagers[c]!==void 0)throw new Error(`Source "${c}" already exists.`);if(!A.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(A).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(A.type)>=0&&this._validate(s.C.source,`sources.${c}`,A,null,_))return;this.map&&this.map._collectResourceTiming&&(A.collectResourceTiming=!0);const C=this.tileManagers[c]=new ni(c,A,this.dispatcher);C.style=this,C.setEventedParent(this,(()=>({isSourceLoaded:C.loaded(),source:C.serialize(),sourceId:c}))),C.onAdd(this.map),this._changed=!0}removeSource(c){if(this._checkLoaded(),this.tileManagers[c]===void 0)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===c)return this.fire(new s.k(new Error(`Source "${c}" cannot be removed while layer "${_}" is using it.`)));const A=this.tileManagers[c];delete this.tileManagers[c],delete this._updatedSources[c],A.fire(new s.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:c})),A.setEventedParent(null),A.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(c,A){if(this._checkLoaded(),this.tileManagers[c]===void 0)throw new Error(`There is no source with this ID=${c}`);const _=this.tileManagers[c].getSource();if(_.type!=="geojson")throw new Error(`geojsonSource.type is ${_.type}, which is !== 'geojson`);_.setData(A),this._changed=!0}getSource(c){return this.tileManagers[c]&&this.tileManagers[c].getSource()}addLayer(c,A,_={}){this._checkLoaded();const C=c.id;if(this.getLayer(C))return void this.fire(new s.k(new Error(`Layer "${C}" already exists on this map.`)));let F;if(c.type==="custom"){if(Dl(this,s.bX(c)))return;F=s.bT(c,this._globalState)}else{if("source"in c&&typeof c.source=="object"&&(this.addSource(C,c.source),c=s.bV(c),c=s.e(c,{source:C})),this._validate(s.C.layer,`layers.${C}`,c,{arrayIndex:-1},_))return;F=s.bT(c,this._globalState),this._validateLayer(F),F.setEventedParent(this,{layer:{id:C}})}const U=A?this._order.indexOf(A):this._order.length;if(A&&U===-1)this.fire(new s.k(new Error(`Cannot add layer "${C}" before non-existing layer "${A}".`)));else{if(this._order.splice(U,0,C),this._layerOrderChanged=!0,this._layers[C]=F,this._removedLayers[C]&&F.source&&F.type!=="custom"){const V=this._removedLayers[C];delete this._removedLayers[C],V.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",this.tileManagers[F.source].pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map)}}moveLayer(c,A){if(this._checkLoaded(),this._changed=!0,!this._layers[c])return void this.fire(new s.k(new Error(`The layer '${c}' does not exist in the map's style and cannot be moved.`)));if(c===A)return;const _=this._order.indexOf(c);this._order.splice(_,1);const C=A?this._order.indexOf(A):this._order.length;A&&C===-1?this.fire(new s.k(new Error(`Cannot move layer "${c}" before non-existing layer "${A}".`))):(this._order.splice(C,0,c),this._layerOrderChanged=!0)}removeLayer(c){this._checkLoaded();const A=this._layers[c];if(!A)return void this.fire(new s.k(new Error(`Cannot remove non-existing layer "${c}".`)));A.setEventedParent(null);const _=this._order.indexOf(c);this._order.splice(_,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[c]=A,delete this._layers[c],this._serializedLayers&&delete this._serializedLayers[c],delete this._updatedLayers[c],delete this._updatedPaintProps[c],A.onRemove&&A.onRemove(this.map)}getLayer(c){return this._layers[c]}getLayersOrder(){return[...this._order]}hasLayer(c){return c in this._layers}setLayerZoomRange(c,A,_){this._checkLoaded();const C=this.getLayer(c);C?C.minzoom===A&&C.maxzoom===_||(A!=null&&(C.minzoom=A),_!=null&&(C.maxzoom=_),this._updateLayer(C)):this.fire(new s.k(new Error(`Cannot set the zoom range of non-existing layer "${c}".`)))}setFilter(c,A,_={}){this._checkLoaded();const C=this.getLayer(c);if(C){if(!s.bR(C.filter,A))return A==null?(C.setFilter(void 0),void this._updateLayer(C)):void(this._validate(s.C.filter,`layers.${C.id}.filter`,A,null,_)||(C.setFilter(s.bV(A)),this._updateLayer(C)))}else this.fire(new s.k(new Error(`Cannot filter non-existing layer "${c}".`)))}getFilter(c){return s.bV(this.getLayer(c).filter)}setLayoutProperty(c,A,_,C={}){this._checkLoaded();const F=this.getLayer(c);F?s.bR(F.getLayoutProperty(A),_)||(F.setLayoutProperty(A,_,C),this._updateLayer(F)):this.fire(new s.k(new Error(`Cannot style non-existing layer "${c}".`)))}getLayoutProperty(c,A){const _=this.getLayer(c);if(_)return _.getLayoutProperty(A);this.fire(new s.k(new Error(`Cannot get style of non-existing layer "${c}".`)))}setPaintProperty(c,A,_,C={}){this._checkLoaded();const F=this.getLayer(c);F?s.bR(F.getPaintProperty(A),_)||this._updatePaintProperty(F,A,_,C):this.fire(new s.k(new Error(`Cannot style non-existing layer "${c}".`)))}_updatePaintProperty(c,A,_,C={}){c.setPaintProperty(A,_,C)&&this._updateLayer(c),s.bU(c)&&A==="raster-fade-duration"&&this.tileManagers[c.source].setRasterFadeDuration(_),this._changed=!0,this._updatedPaintProps[c.id]=!0,this._serializedLayers=null}getPaintProperty(c,A){return this.getLayer(c).getPaintProperty(A)}setFeatureState(c,A){this._checkLoaded();const _=c.source,C=c.sourceLayer,F=this.tileManagers[_];if(F===void 0)return void this.fire(new s.k(new Error(`The source '${_}' does not exist in the map's style.`)));const U=F.getSource().type;U==="geojson"&&C?this.fire(new s.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||C?(c.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),F.setFeatureState(C,c.id,A)):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(c,A){this._checkLoaded();const _=c.source,C=this.tileManagers[_];if(C===void 0)return void this.fire(new s.k(new Error(`The source '${_}' does not exist in the map's style.`)));const F=C.getSource().type,U=F==="vector"?c.sourceLayer:void 0;F!=="vector"||U?A&&typeof c.id!="string"&&typeof c.id!="number"?this.fire(new s.k(new Error("A feature id is required to remove its specific state property."))):C.removeFeatureState(U,c.id,A):this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(c){this._checkLoaded();const A=c.source,_=c.sourceLayer,C=this.tileManagers[A];if(C!==void 0)return C.getSource().type!=="vector"||_?(c.id===void 0&&this.fire(new s.k(new Error("The feature id parameter must be provided."))),C.getFeatureState(_,c.id)):void this.fire(new s.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new s.k(new Error(`The source '${A}' does not exist in the map's style.`)))}getTransition(){return s.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const c=s.bY(this.tileManagers,(F=>F.serialize())),A=this._serializeByIds(this._order,!0),_=this.map.getTerrain()||void 0,C=this.stylesheet;return s.bZ({version:C.version,name:C.name,metadata:C.metadata,light:C.light,sky:C.sky,center:C.center,zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,sprite:C.sprite,glyphs:C.glyphs,transition:C.transition,projection:C.projection,sources:c,layers:A,terrain:_},(F=>F!==void 0))}_updateLayer(c){this._updatedLayers[c.id]=!0,c.source&&!this._updatedSources[c.source]&&this.tileManagers[c.source].getSource().type!=="raster"&&(this._updatedSources[c.source]="reload",this.tileManagers[c.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(c){const A=U=>this._layers[U].type==="fill-extrusion",_={},C=[];for(let U=this._order.length-1;U>=0;U--){const V=this._order[U];if(A(V)){_[V]=U;for(const X of c){const ie=X[V];if(ie)for(const se of ie)C.push(se)}}}C.sort(((U,V)=>V.intersectionZ-U.intersectionZ));const F=[];for(let U=this._order.length-1;U>=0;U--){const V=this._order[U];if(A(V))for(let X=C.length-1;X>=0;X--){const ie=C[X].feature;if(_[ie.layer.id]<U)break;F.push(ie),C.pop()}else for(const X of c){const ie=X[V];if(ie)for(const se of ie)F.push(se.feature)}}return F}queryRenderedFeatures(c,A,_){A&&A.filter&&this._validate(s.C.filter,"queryRenderedFeatures.filter",A.filter,null,A);const C={};if(A&&A.layers){if(!(Array.isArray(A.layers)||A.layers instanceof Set))return this.fire(new s.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const ie of A.layers){const se=this._layers[ie];if(!se)return this.fire(new s.k(new Error(`The layer '${ie}' does not exist in the map's style and cannot be queried for features.`))),[];C[se.source]=!0}}const F=[];A.availableImages=this._availableImages;const U=this._serializedAllLayers(),V=A.layers instanceof Set?A.layers:Array.isArray(A.layers)?new Set(A.layers):null,X=Object.assign(Object.assign({},A),{layers:V,globalState:this._globalState});for(const ie in this.tileManagers)A.layers&&!C[ie]||F.push(Mi(this.tileManagers[ie],this._layers,U,c,X,_,this.map.terrain?(se,fe,ue)=>this.map.terrain.getElevation(se,fe,ue):void 0));return this.placement&&F.push((function(ie,se,fe,ue,ye,Te,Ne){const Ge={},He=Te.queryRenderedSymbols(ue),et=[];for(const ct of Object.keys(He).map(Number))et.push(Ne[ct]);et.sort(Ji);for(const ct of et){const Ze=ct.featureIndex.lookupSymbolFeatures(He[ct.bucketInstanceId],se,ct.bucketIndex,ct.sourceLayerIndex,{filterSpec:ye.filter,globalState:ye.globalState},ye.layers,ye.availableImages,ie);for(const ot in Ze){const At=Ge[ot]=Ge[ot]||[],rt=Ze[ot];rt.sort(((St,Xt)=>{const Ut=ct.featureSortOrder;if(Ut){const zt=Ut.indexOf(St.featureIndex);return Ut.indexOf(Xt.featureIndex)-zt}return Xt.featureIndex-St.featureIndex}));for(const St of rt)At.push(St)}}return(function(ct,Ze,ot){for(const At in ct)for(const rt of ct[At])rn(rt,ot[Ze[At].source]);return ct})(Ge,ie,fe)})(this._layers,U,this.tileManagers,c,X,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(c,A){A?.filter&&this._validate(s.C.filter,"querySourceFeatures.filter",A.filter,null,A);const _=this.tileManagers[c];return _?(function(C,F){const U=C.getRenderableIds().map((ie=>C.getTileByID(ie))),V=[],X={};for(let ie=0;ie<U.length;ie++){const se=U[ie],fe=se.tileID.canonical.key;X[fe]||(X[fe]=!0,se.querySourceFeatures(V,F))}return V})(_,A?Object.assign(Object.assign({},A),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(c,A={}){this._checkLoaded();const _=this.light.getLight();let C=!1;for(const U in c)if(!s.bR(c[U],_[U])){C=!0;break}if(!C)return;const F={now:I(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(c,A),this.light.updateTransitions(F)}getProjection(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.projection}setProjection(c){if(this._checkLoaded(),this.projection){if(this.projection.name===c.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=c,this._setProjectionInternal(c.type)}getSky(){var c;return(c=this.stylesheet)===null||c===void 0?void 0:c.sky}setSky(c,A={}){this._checkLoaded();const _=this.getSky();let C=!1;if(!c&&!_)return;if(c&&!_)C=!0;else if(!c&&_)C=!0;else for(const U in c)if(!s.bR(c[U],_[U])){C=!0;break}if(!C)return;const F={now:I(),transition:s.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=c,this.sky.setSky(c,A),this.sky.updateTransitions(F)}_setProjectionInternal(c){const A=(function(_,C){const F={constrainOverride:C};if(Array.isArray(_)){const U=new Ko({type:_});return{projection:U,transform:new Pl(F),cameraHelper:new bh(U)}}switch(_){case"mercator":return{projection:new Me,transform:new cn(F),cameraHelper:new sa};case"globe":{const U=new Ko({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:U,transform:new Pl(F),cameraHelper:new bh(U)}}case"vertical-perspective":return{projection:new ka,transform:new Ls(F),cameraHelper:new Pr};default:return s.w(`Unknown projection name: ${_}. Falling back to mercator projection.`),{projection:new Me,transform:new cn(F),cameraHelper:new sa}}})(c,this.map.transformConstrain);this.projection=A.projection,this.map.migrateProjection(A.transform,A.cameraHelper);for(const _ in this.tileManagers)this.tileManagers[_].reload()}_validate(c,A,_,C,F={}){return(!F||F.validate!==!1)&&Dl(this,c.call(s.C,s.e({key:A,style:this.serialize(),value:_,styleSpec:s.u},C)))}_remove(c=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),yt().off(tt,this._rtlPluginLoaded);for(const A in this._layers)this._layers[A].setEventedParent(null);for(const A in this.tileManagers){const _=this.tileManagers[A];_.setEventedParent(null),_.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),c&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(c)}_clearSource(c){this.tileManagers[c].clearTiles()}_reloadSource(c){this.tileManagers[c].resume(),this.tileManagers[c].reload()}_updateSources(c){for(const A in this.tileManagers)this.tileManagers[A].update(c,this.map.terrain)}_generateCollisionBoxes(){for(const c in this.tileManagers)this._reloadSource(c)}_updatePlacement(c,A,_,C,F=!1){let U=!1,V=!1;const X={};for(const ie of this._order){const se=this._layers[ie];if(se.type!=="symbol")continue;if(!X[se.source]){const ue=this.tileManagers[se.source];X[se.source]=ue.getRenderableIds(!0).map((ye=>ue.getTileByID(ye))).sort(((ye,Te)=>Te.tileID.overscaledZ-ye.tileID.overscaledZ||(ye.tileID.isLessThan(Te.tileID)?-1:1)))}const fe=this.crossTileSymbolIndex.addLayer(se,X[se.source],c.center.lng);U=U||fe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((F=F||this._layerOrderChanged||_===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(I(),c.zoom))&&(this.pauseablePlacement=new Cr(c,this.map.terrain,this._order,F,A,_,C,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,X),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(I()),V=!0),U&&this.pauseablePlacement.placement.setStale()),V||U)for(const ie of this._order){const se=this._layers[ie];se.type==="symbol"&&this.placement.updateLayerOpacities(se,X[se.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(I())}_releaseSymbolFadeTiles(){for(const c in this.tileManagers)this.tileManagers[c].releaseSymbolFadeTiles()}getImages(c,A){return s._(this,void 0,void 0,(function*(){const _=yield this.imageManager.getImages(A.icons);this._updateTilesForChangedImages();const C=this.tileManagers[A.source];return C&&C.setDependencies(A.tileID.key,A.type,A.icons),_}))}getGlyphs(c,A){return s._(this,void 0,void 0,(function*(){const _=yield this.glyphManager.getGlyphs(A.stacks),C=this.tileManagers[A.source];return C&&C.setDependencies(A.tileID.key,A.type,[""]),_}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(c,A={}){this._checkLoaded(),c&&this._validate(s.C.glyphs,"glyphs",c,null,A)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=c,this.glyphManager.entries={},this.glyphManager.setURL(c))}getDashes(c,A){return s._(this,void 0,void 0,(function*(){const _={};for(const[C,F]of Object.entries(A.dashes))_[C]=this.lineAtlas.getDash(F.dasharray,F.round);return _}))}addSprite(c,A,_={},C){this._checkLoaded();const F=[{id:c,url:A}],U=[...te(this.stylesheet.sprite),...F];this._validate(s.C.sprite,"sprite",U,null,_)||(this.stylesheet.sprite=U,this._loadSprite(F,!0,C))}removeSprite(c){this._checkLoaded();const A=te(this.stylesheet.sprite);if(A.find((_=>_.id===c))){if(this._spritesImagesIds[c])for(const _ of this._spritesImagesIds[c])this.imageManager.removeImage(_),this._changedImages[_]=!0;A.splice(A.findIndex((_=>_.id===c)),1),this.stylesheet.sprite=A.length>0?A:void 0,delete this._spritesImagesIds[c],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new s.l("data",{dataType:"style"}))}else this.fire(new s.k(new Error(`Sprite "${c}" doesn't exists on this map.`)))}getSprite(){return te(this.stylesheet.sprite)}setSprite(c,A={},_){this._checkLoaded(),c&&this._validate(s.C.sprite,"sprite",c,null,A)||(this.stylesheet.sprite=c,c?this._loadSprite(c,!0,_):(this._unloadSprite(),_&&_(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const c in this.tileManagers){const A=this.tileManagers[c];A.setEventedParent(null),A.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const c in this._layers){const A=this._layers[c];A.setEventedParent(null),A.onRemove&&A.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var Fu=s.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class su{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(c,A,_,C,F,U,V,X,ie){this.context=c;let se=this.boundPaintVertexBuffers.length!==C.length;for(let fe=0;!se&&fe<C.length;fe++)this.boundPaintVertexBuffers[fe]!==C[fe]&&(se=!0);!this.vao||this.boundProgram!==A||this.boundLayoutVertexBuffer!==_||se||this.boundIndexBuffer!==F||this.boundVertexOffset!==U||this.boundDynamicVertexBuffer!==V||this.boundDynamicVertexBuffer2!==X||this.boundDynamicVertexBuffer3!==ie?this.freshBind(A,_,C,F,U,V,X,ie):(c.bindVertexArray.set(this.vao),V&&V.bind(),F&&F.dynamicDraw&&F.bind(),X&&X.bind(),ie&&ie.bind())}freshBind(c,A,_,C,F,U,V,X){const ie=c.numAttributes,se=this.context,fe=se.gl;this.vao&&this.destroy(),this.vao=se.createVertexArray(),se.bindVertexArray.set(this.vao),this.boundProgram=c,this.boundLayoutVertexBuffer=A,this.boundPaintVertexBuffers=_,this.boundIndexBuffer=C,this.boundVertexOffset=F,this.boundDynamicVertexBuffer=U,this.boundDynamicVertexBuffer2=V,this.boundDynamicVertexBuffer3=X,A.enableAttributes(fe,c);for(const ue of _)ue.enableAttributes(fe,c);U&&U.enableAttributes(fe,c),V&&V.enableAttributes(fe,c),X&&X.enableAttributes(fe,c),A.bind(),A.setVertexAttribPointers(fe,c,F);for(const ue of _)ue.bind(),ue.setVertexAttribPointers(fe,c,F);U&&(U.bind(),U.setVertexAttribPointers(fe,c,F)),C&&C.bind(),V&&(V.bind(),V.setVertexAttribPointers(fe,c,F)),X&&(X.bind(),X.setVertexAttribPointers(fe,c,F)),se.currentNumAttributes=ie}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const ou=(M,c,A,_,C)=>({u_texture:0,u_ele_delta:M,u_fog_matrix:c,u_fog_color:A?A.properties.get("fog-color"):s.bp.white,u_fog_ground_blend:A?A.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:C?0:A?A.calculateFogBlendOpacity(_):0,u_horizon_color:A?A.properties.get("horizon-color"):s.bp.white,u_horizon_fog_blend:A?A.properties.get("horizon-fog-blend"):1,u_is_globe_mode:C?1:0}),Fc={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Ro(M){const c=[];for(let A=0;A<M.length;A++){if(M[A]===null)continue;const _=M[A].split(" ");c.push(_.pop())}return c}class qo{constructor(c,A,_,C,F,U,V,X,ie=[]){const se=c.gl;this.program=se.createProgram();const fe=Ro(A.staticAttributes),ue=_?_.getBinderAttributes():[],ye=fe.concat(ue),Te=ia.prelude.staticUniforms?Ro(ia.prelude.staticUniforms):[],Ne=V.staticUniforms?Ro(V.staticUniforms):[],Ge=A.staticUniforms?Ro(A.staticUniforms):[],He=_?_.getBinderUniforms():[],et=Te.concat(Ne).concat(Ge).concat(He),ct=[];for(const Ut of et)ct.indexOf(Ut)<0&&ct.push(Ut);const Ze=_?_.defines():[];wa(se)&&Ze.unshift("#version 300 es"),F&&Ze.push("#define OVERDRAW_INSPECTOR;"),U&&Ze.push("#define TERRAIN3D;"),X&&Ze.push(X),ie&&Ze.push(...ie);let ot=Ze.concat(ia.prelude.fragmentSource,V.fragmentSource,A.fragmentSource).join(`
`),At=Ze.concat(ia.prelude.vertexSource,V.vertexSource,A.vertexSource).join(`
`);wa(se)||(ot=(function(Ut){return Ut.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(ot),At=(function(Ut){return Ut.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(At));const rt=se.createShader(se.FRAGMENT_SHADER);if(se.isContextLost())return void(this.failedToCreate=!0);if(se.shaderSource(rt,ot),se.compileShader(rt),!se.getShaderParameter(rt,se.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${se.getShaderInfoLog(rt)}`);se.attachShader(this.program,rt);const St=se.createShader(se.VERTEX_SHADER);if(se.isContextLost())return void(this.failedToCreate=!0);if(se.shaderSource(St,At),se.compileShader(St),!se.getShaderParameter(St,se.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${se.getShaderInfoLog(St)}`);se.attachShader(this.program,St),this.attributes={};const Xt={};this.numAttributes=ye.length;for(let Ut=0;Ut<this.numAttributes;Ut++)ye[Ut]&&(se.bindAttribLocation(this.program,Ut,ye[Ut]),this.attributes[ye[Ut]]=Ut);if(se.linkProgram(this.program),!se.getProgramParameter(this.program,se.LINK_STATUS))throw new Error(`Program failed to link: ${se.getProgramInfoLog(this.program)}`);se.deleteShader(St),se.deleteShader(rt);for(let Ut=0;Ut<ct.length;Ut++){const zt=ct[Ut];if(zt&&!Xt[zt]){const Ht=se.getUniformLocation(this.program,zt);Ht&&(Xt[zt]=Ht)}}this.fixedUniforms=C(c,Xt),this.terrainUniforms=((Ut,zt)=>({u_depth:new s.b_(Ut,zt.u_depth),u_terrain:new s.b_(Ut,zt.u_terrain),u_terrain_dim:new s.bq(Ut,zt.u_terrain_dim),u_terrain_matrix:new s.c0(Ut,zt.u_terrain_matrix),u_terrain_unpack:new s.c1(Ut,zt.u_terrain_unpack),u_terrain_exaggeration:new s.bq(Ut,zt.u_terrain_exaggeration)}))(c,Xt),this.projectionUniforms=((Ut,zt)=>({u_projection_matrix:new s.c0(Ut,zt.u_projection_matrix),u_projection_tile_mercator_coords:new s.c1(Ut,zt.u_projection_tile_mercator_coords),u_projection_clipping_plane:new s.c1(Ut,zt.u_projection_clipping_plane),u_projection_transition:new s.bq(Ut,zt.u_projection_transition),u_projection_fallback_matrix:new s.c0(Ut,zt.u_projection_fallback_matrix)}))(c,Xt),this.binderUniforms=_?_.getUniforms(c,Xt):[]}draw(c,A,_,C,F,U,V,X,ie,se,fe,ue,ye,Te,Ne,Ge,He,et,ct){const Ze=c.gl;if(this.failedToCreate)return;if(c.program.set(this.program),c.setDepthMode(_),c.setStencilMode(C),c.setColorMode(F),c.setCullFace(U),X){c.activeTexture.set(Ze.TEXTURE2),Ze.bindTexture(Ze.TEXTURE_2D,X.depthTexture),c.activeTexture.set(Ze.TEXTURE3),Ze.bindTexture(Ze.TEXTURE_2D,X.texture);for(const At in this.terrainUniforms)this.terrainUniforms[At].set(X[At])}if(ie)for(const At in ie)this.projectionUniforms[Fc[At]].set(ie[At]);if(V)for(const At in this.fixedUniforms)this.fixedUniforms[At].set(V[At]);Ge&&Ge.setUniforms(c,this.binderUniforms,Te,{zoom:Ne});let ot=0;switch(A){case Ze.LINES:ot=2;break;case Ze.TRIANGLES:ot=3;break;case Ze.LINE_STRIP:ot=1}for(const At of ye.get()){const rt=At.vaos||(At.vaos={});(rt[se]||(rt[se]=new su)).bind(c,this,fe,Ge?Ge.getPaintVertexBuffers():[],ue,At.vertexOffset,He,et,ct),Ze.drawElements(A,At.primitiveLength*ot,Ze.UNSIGNED_SHORT,At.primitiveOffset*ot*2)}}}function Fs(M,c,A){const _=1/s.aN(A,1,c.transform.tileZoom),C=Math.pow(2,A.tileID.overscaledZ),F=A.tileSize*Math.pow(2,c.transform.tileZoom)/C,U=F*(A.tileID.canonical.x+A.tileID.wrap*C),V=F*A.tileID.canonical.y;return{u_image:0,u_texsize:A.imageAtlasTexture.size,u_scale:[_,M.fromScale,M.toScale],u_fade:M.t,u_pixel_coord_upper:[U>>16,V>>16],u_pixel_coord_lower:[65535&U,65535&V]}}const Pu=(M,c,A,_)=>{const C=M.style.light,F=C.properties.get("position"),U=[F.x,F.y,F.z],V=s.c4();C.properties.get("anchor")==="viewport"&&s.c5(V,M.transform.bearingInRadians),s.c6(U,U,V);const X=M.transform.transformLightDirection(U),ie=C.properties.get("color");return{u_lightpos:U,u_lightpos_globe:X,u_lightintensity:C.properties.get("intensity"),u_lightcolor:[ie.r,ie.g,ie.b],u_vertical_gradient:+c,u_opacity:A,u_fill_translate:_}},to=(M,c,A,_,C,F,U)=>s.e(Pu(M,c,A,_),Fs(F,M,U),{u_height_factor:-Math.pow(2,C.overscaledZ)/U.tileSize/8}),Du=(M,c,A,_)=>s.e(Fs(c,M,A),{u_fill_translate:_}),Ru=(M,c)=>({u_world:M,u_fill_translate:c}),xd=(M,c,A,_,C)=>s.e(Du(M,c,A,C),{u_world:_}),Ch=(M,c,A,_,C)=>{const F=M.transform;let U,V,X=0;if(A.paint.get("circle-pitch-alignment")==="map"){const ie=s.aN(c,1,F.zoom);U=!0,V=[ie,ie],X=ie/(s.a5*Math.pow(2,c.tileID.overscaledZ))*2*Math.PI*C}else U=!1,V=F.pixelsToGLUnits;return{u_camera_to_center_distance:F.cameraToCenterDistance,u_scale_with_map:+(A.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+U,u_device_pixel_ratio:M.pixelRatio,u_extrude_scale:V,u_globe_extrude_scale:X,u_translate:_}},vs=M=>({u_pixel_extrude_scale:[1/M.width,1/M.height]}),_d=M=>({u_viewport_size:[M.width,M.height]}),Pc=(M,c=1)=>({u_color:M,u_overlay:0,u_overlay_scale:c}),Oo=(M,c,A,_)=>{const C=s.aN(M,1,c)/(s.a5*Math.pow(2,M.tileID.overscaledZ))*2*Math.PI*_;return{u_extrude_scale:s.aN(M,1,c),u_intensity:A,u_globe_extrude_scale:C}},ga=(M,c,A,_)=>{const C=s.N();s.c7(C,0,M.width,M.height,0,0,1);const F=M.context.gl;return{u_matrix:C,u_world:[F.drawingBufferWidth,F.drawingBufferHeight],u_image:A,u_color_ramp:_,u_opacity:c.paint.get("heatmap-opacity")}},ac=(M,c,A)=>{const _=A.paint.get("hillshade-accent-color");let C;switch(A.paint.get("hillshade-method")){case"basic":C=4;break;case"combined":C=1;break;case"igor":C=2;break;case"multidirectional":C=3;break;default:C=0}const F=A.getIlluminationProperties();for(let U=0;U<F.directionRadians.length;U++)A.paint.get("hillshade-illumination-anchor")==="viewport"&&(F.directionRadians[U]+=M.transform.bearingInRadians);return{u_image:0,u_latrange:p(0,c.tileID),u_exaggeration:A.paint.get("hillshade-exaggeration"),u_altitudes:F.altitudeRadians,u_azimuths:F.directionRadians,u_accent:_,u_method:C,u_highlights:F.highlightColor,u_shadows:F.shadowColor}},Se=(M,c)=>{const A=c.stride,_=s.N();return s.c7(_,0,s.a5,-s.a5,0,0,1),s.O(_,_,[0,-s.a5,0]),{u_matrix:_,u_image:1,u_dimension:[A,A],u_zoom:M.overscaledZ,u_unpack:c.getUnpackVector()}};function p(M,c){const A=Math.pow(2,c.canonical.z),_=c.canonical.y;return[new s.a9(0,_/A).toLngLat().lat,new s.a9(0,(_+1)/A).toLngLat().lat]}const y=(M,c,A=0)=>({u_image:0,u_unpack:c.getUnpackVector(),u_dimension:[c.stride,c.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:A,u_opacity:M.paint.get("color-relief-opacity")}),w=(M,c,A,_)=>{const C=M.transform;return{u_translation:ee(M,c,A),u_ratio:_/s.aN(c,1,C.zoom),u_device_pixel_ratio:M.pixelRatio,u_units_to_pixels:[1/C.pixelsToGLUnits[0],1/C.pixelsToGLUnits[1]]}},k=(M,c,A,_,C)=>s.e(w(M,c,A,_),{u_image:0,u_image_height:C}),T=(M,c,A,_,C)=>{const F=M.transform,U=W(c,F);return{u_translation:ee(M,c,A),u_texsize:c.imageAtlasTexture.size,u_ratio:_/s.aN(c,1,F.zoom),u_device_pixel_ratio:M.pixelRatio,u_image:0,u_scale:[U,C.fromScale,C.toScale],u_fade:C.t,u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]]}},R=(M,c,A,_,C)=>{const F=W(c,M.transform);return s.e(w(M,c,A,_),{u_tileratio:F,u_crossfade_from:C.fromScale,u_crossfade_to:C.toScale,u_image:0,u_mix:C.t,u_lineatlas_width:M.lineAtlas.width,u_lineatlas_height:M.lineAtlas.height})},z=(M,c,A,_,C,F)=>{const U=W(c,M.transform);return s.e(w(M,c,A,_),{u_image:0,u_image_height:F,u_tileratio:U,u_crossfade_from:C.fromScale,u_crossfade_to:C.toScale,u_image_dash:1,u_mix:C.t,u_lineatlas_width:M.lineAtlas.width,u_lineatlas_height:M.lineAtlas.height})};function W(M,c){return 1/s.aN(M,1,c.tileZoom)}function ee(M,c,A){return s.aO(M.transform,c,A.paint.get("line-translate"),A.paint.get("line-translate-anchor"))}const Ae=(M,c,A,_,C)=>{return{u_tl_parent:M,u_scale_parent:c,u_buffer_scale:1,u_fade_t:A.mix,u_opacity:A.opacity*_.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:_.paint.get("raster-brightness-min"),u_brightness_high:_.paint.get("raster-brightness-max"),u_saturation_factor:(U=_.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(F=_.paint.get("raster-contrast"),F>0?1/(1-F):1+F),u_spin_weights:Be(_.paint.get("raster-hue-rotate")),u_coords_top:[C[0].x,C[0].y,C[1].x,C[1].y],u_coords_bottom:[C[3].x,C[3].y,C[2].x,C[2].y]};var F,U};function Be(M){M*=Math.PI/180;const c=Math.sin(M),A=Math.cos(M);return[(2*A+1)/3,(-Math.sqrt(3)*c-A+1)/3,(Math.sqrt(3)*c-A+1)/3]}const Fe=(M,c,A,_,C,F,U,V,X,ie,se,fe,ue)=>{const ye=U.transform;return{u_is_size_zoom_constant:+(M==="constant"||M==="source"),u_is_size_feature_constant:+(M==="constant"||M==="camera"),u_size_t:c?c.uSizeT:0,u_size:c?c.uSize:0,u_camera_to_center_distance:ye.cameraToCenterDistance,u_pitch:ye.pitch/360*2*Math.PI,u_rotate_symbol:+A,u_aspect_ratio:ye.width/ye.height,u_fade_change:U.options.fadeDuration?U.symbolFadeChange:1,u_label_plane_matrix:V,u_coord_matrix:X,u_is_text:+se,u_pitch_with_map:+_,u_is_along_line:C,u_is_variable_anchor:F,u_texsize:fe,u_texture:0,u_translation:ie,u_pitched_scale:ue}},Ke=(M,c,A,_,C,F,U,V,X,ie,se,fe,ue,ye)=>{const Te=U.transform;return s.e(Fe(M,c,A,_,C,F,U,V,X,ie,se,fe,ye),{u_gamma_scale:_?Math.cos(Te.pitch*Math.PI/180)*Te.cameraToCenterDistance:1,u_device_pixel_ratio:U.pixelRatio,u_is_halo:1})},gt=(M,c,A,_,C,F,U,V,X,ie,se,fe,ue)=>s.e(Ke(M,c,A,_,C,F,U,V,X,ie,!0,se,0,ue),{u_texsize_icon:fe,u_texture_icon:1}),vt=(M,c)=>({u_opacity:M,u_color:c}),Ot=(M,c,A,_,C)=>s.e((function(F,U,V,X){const ie=V.imageManager.getPattern(F.from.toString()),se=V.imageManager.getPattern(F.to.toString()),{width:fe,height:ue}=V.imageManager.getPixelSize(),ye=Math.pow(2,X.tileID.overscaledZ),Te=X.tileSize*Math.pow(2,V.transform.tileZoom)/ye,Ne=Te*(X.tileID.canonical.x+X.tileID.wrap*ye),Ge=Te*X.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ie.tl,u_pattern_br_a:ie.br,u_pattern_tl_b:se.tl,u_pattern_br_b:se.br,u_texsize:[fe,ue],u_mix:U.t,u_pattern_size_a:ie.displaySize,u_pattern_size_b:se.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/s.aN(X,1,V.transform.tileZoom),u_pixel_coord_upper:[Ne>>16,Ge>>16],u_pixel_coord_lower:[65535&Ne,65535&Ge]}})(A,C,c,_),{u_opacity:M}),Zt=(M,c)=>{},Pi={fillExtrusion:(M,c)=>({u_lightpos:new s.c2(M,c.u_lightpos),u_lightpos_globe:new s.c2(M,c.u_lightpos_globe),u_lightintensity:new s.bq(M,c.u_lightintensity),u_lightcolor:new s.c2(M,c.u_lightcolor),u_vertical_gradient:new s.bq(M,c.u_vertical_gradient),u_opacity:new s.bq(M,c.u_opacity),u_fill_translate:new s.c3(M,c.u_fill_translate)}),fillExtrusionPattern:(M,c)=>({u_lightpos:new s.c2(M,c.u_lightpos),u_lightpos_globe:new s.c2(M,c.u_lightpos_globe),u_lightintensity:new s.bq(M,c.u_lightintensity),u_lightcolor:new s.c2(M,c.u_lightcolor),u_vertical_gradient:new s.bq(M,c.u_vertical_gradient),u_height_factor:new s.bq(M,c.u_height_factor),u_opacity:new s.bq(M,c.u_opacity),u_fill_translate:new s.c3(M,c.u_fill_translate),u_image:new s.b_(M,c.u_image),u_texsize:new s.c3(M,c.u_texsize),u_pixel_coord_upper:new s.c3(M,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(M,c.u_pixel_coord_lower),u_scale:new s.c2(M,c.u_scale),u_fade:new s.bq(M,c.u_fade)}),fill:(M,c)=>({u_fill_translate:new s.c3(M,c.u_fill_translate)}),fillPattern:(M,c)=>({u_image:new s.b_(M,c.u_image),u_texsize:new s.c3(M,c.u_texsize),u_pixel_coord_upper:new s.c3(M,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(M,c.u_pixel_coord_lower),u_scale:new s.c2(M,c.u_scale),u_fade:new s.bq(M,c.u_fade),u_fill_translate:new s.c3(M,c.u_fill_translate)}),fillOutline:(M,c)=>({u_world:new s.c3(M,c.u_world),u_fill_translate:new s.c3(M,c.u_fill_translate)}),fillOutlinePattern:(M,c)=>({u_world:new s.c3(M,c.u_world),u_image:new s.b_(M,c.u_image),u_texsize:new s.c3(M,c.u_texsize),u_pixel_coord_upper:new s.c3(M,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(M,c.u_pixel_coord_lower),u_scale:new s.c2(M,c.u_scale),u_fade:new s.bq(M,c.u_fade),u_fill_translate:new s.c3(M,c.u_fill_translate)}),circle:(M,c)=>({u_camera_to_center_distance:new s.bq(M,c.u_camera_to_center_distance),u_scale_with_map:new s.b_(M,c.u_scale_with_map),u_pitch_with_map:new s.b_(M,c.u_pitch_with_map),u_extrude_scale:new s.c3(M,c.u_extrude_scale),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_globe_extrude_scale:new s.bq(M,c.u_globe_extrude_scale),u_translate:new s.c3(M,c.u_translate)}),collisionBox:(M,c)=>({u_pixel_extrude_scale:new s.c3(M,c.u_pixel_extrude_scale)}),collisionCircle:(M,c)=>({u_viewport_size:new s.c3(M,c.u_viewport_size)}),debug:(M,c)=>({u_color:new s.b$(M,c.u_color),u_overlay:new s.b_(M,c.u_overlay),u_overlay_scale:new s.bq(M,c.u_overlay_scale)}),depth:Zt,clippingMask:Zt,heatmap:(M,c)=>({u_extrude_scale:new s.bq(M,c.u_extrude_scale),u_intensity:new s.bq(M,c.u_intensity),u_globe_extrude_scale:new s.bq(M,c.u_globe_extrude_scale)}),heatmapTexture:(M,c)=>({u_matrix:new s.c0(M,c.u_matrix),u_world:new s.c3(M,c.u_world),u_image:new s.b_(M,c.u_image),u_color_ramp:new s.b_(M,c.u_color_ramp),u_opacity:new s.bq(M,c.u_opacity)}),hillshade:(M,c)=>({u_image:new s.b_(M,c.u_image),u_latrange:new s.c3(M,c.u_latrange),u_exaggeration:new s.bq(M,c.u_exaggeration),u_altitudes:new s.c9(M,c.u_altitudes),u_azimuths:new s.c9(M,c.u_azimuths),u_accent:new s.b$(M,c.u_accent),u_method:new s.b_(M,c.u_method),u_shadows:new s.c8(M,c.u_shadows),u_highlights:new s.c8(M,c.u_highlights)}),hillshadePrepare:(M,c)=>({u_matrix:new s.c0(M,c.u_matrix),u_image:new s.b_(M,c.u_image),u_dimension:new s.c3(M,c.u_dimension),u_zoom:new s.bq(M,c.u_zoom),u_unpack:new s.c1(M,c.u_unpack)}),colorRelief:(M,c)=>({u_image:new s.b_(M,c.u_image),u_unpack:new s.c1(M,c.u_unpack),u_dimension:new s.c3(M,c.u_dimension),u_elevation_stops:new s.b_(M,c.u_elevation_stops),u_color_stops:new s.b_(M,c.u_color_stops),u_color_ramp_size:new s.b_(M,c.u_color_ramp_size),u_opacity:new s.bq(M,c.u_opacity)}),line:(M,c)=>({u_translation:new s.c3(M,c.u_translation),u_ratio:new s.bq(M,c.u_ratio),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(M,c.u_units_to_pixels)}),lineGradient:(M,c)=>({u_translation:new s.c3(M,c.u_translation),u_ratio:new s.bq(M,c.u_ratio),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(M,c.u_units_to_pixels),u_image:new s.b_(M,c.u_image),u_image_height:new s.bq(M,c.u_image_height)}),linePattern:(M,c)=>({u_translation:new s.c3(M,c.u_translation),u_texsize:new s.c3(M,c.u_texsize),u_ratio:new s.bq(M,c.u_ratio),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_image:new s.b_(M,c.u_image),u_units_to_pixels:new s.c3(M,c.u_units_to_pixels),u_scale:new s.c2(M,c.u_scale),u_fade:new s.bq(M,c.u_fade)}),lineSDF:(M,c)=>({u_translation:new s.c3(M,c.u_translation),u_ratio:new s.bq(M,c.u_ratio),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(M,c.u_units_to_pixels),u_image:new s.b_(M,c.u_image),u_mix:new s.bq(M,c.u_mix),u_tileratio:new s.bq(M,c.u_tileratio),u_crossfade_from:new s.bq(M,c.u_crossfade_from),u_crossfade_to:new s.bq(M,c.u_crossfade_to),u_lineatlas_width:new s.bq(M,c.u_lineatlas_width),u_lineatlas_height:new s.bq(M,c.u_lineatlas_height)}),lineGradientSDF:(M,c)=>({u_translation:new s.c3(M,c.u_translation),u_ratio:new s.bq(M,c.u_ratio),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_units_to_pixels:new s.c3(M,c.u_units_to_pixels),u_image:new s.b_(M,c.u_image),u_image_height:new s.bq(M,c.u_image_height),u_tileratio:new s.bq(M,c.u_tileratio),u_crossfade_from:new s.bq(M,c.u_crossfade_from),u_crossfade_to:new s.bq(M,c.u_crossfade_to),u_image_dash:new s.b_(M,c.u_image_dash),u_mix:new s.bq(M,c.u_mix),u_lineatlas_width:new s.bq(M,c.u_lineatlas_width),u_lineatlas_height:new s.bq(M,c.u_lineatlas_height)}),raster:(M,c)=>({u_tl_parent:new s.c3(M,c.u_tl_parent),u_scale_parent:new s.bq(M,c.u_scale_parent),u_buffer_scale:new s.bq(M,c.u_buffer_scale),u_fade_t:new s.bq(M,c.u_fade_t),u_opacity:new s.bq(M,c.u_opacity),u_image0:new s.b_(M,c.u_image0),u_image1:new s.b_(M,c.u_image1),u_brightness_low:new s.bq(M,c.u_brightness_low),u_brightness_high:new s.bq(M,c.u_brightness_high),u_saturation_factor:new s.bq(M,c.u_saturation_factor),u_contrast_factor:new s.bq(M,c.u_contrast_factor),u_spin_weights:new s.c2(M,c.u_spin_weights),u_coords_top:new s.c1(M,c.u_coords_top),u_coords_bottom:new s.c1(M,c.u_coords_bottom)}),symbolIcon:(M,c)=>({u_is_size_zoom_constant:new s.b_(M,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(M,c.u_is_size_feature_constant),u_size_t:new s.bq(M,c.u_size_t),u_size:new s.bq(M,c.u_size),u_camera_to_center_distance:new s.bq(M,c.u_camera_to_center_distance),u_pitch:new s.bq(M,c.u_pitch),u_rotate_symbol:new s.b_(M,c.u_rotate_symbol),u_aspect_ratio:new s.bq(M,c.u_aspect_ratio),u_fade_change:new s.bq(M,c.u_fade_change),u_label_plane_matrix:new s.c0(M,c.u_label_plane_matrix),u_coord_matrix:new s.c0(M,c.u_coord_matrix),u_is_text:new s.b_(M,c.u_is_text),u_pitch_with_map:new s.b_(M,c.u_pitch_with_map),u_is_along_line:new s.b_(M,c.u_is_along_line),u_is_variable_anchor:new s.b_(M,c.u_is_variable_anchor),u_texsize:new s.c3(M,c.u_texsize),u_texture:new s.b_(M,c.u_texture),u_translation:new s.c3(M,c.u_translation),u_pitched_scale:new s.bq(M,c.u_pitched_scale)}),symbolSDF:(M,c)=>({u_is_size_zoom_constant:new s.b_(M,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(M,c.u_is_size_feature_constant),u_size_t:new s.bq(M,c.u_size_t),u_size:new s.bq(M,c.u_size),u_camera_to_center_distance:new s.bq(M,c.u_camera_to_center_distance),u_pitch:new s.bq(M,c.u_pitch),u_rotate_symbol:new s.b_(M,c.u_rotate_symbol),u_aspect_ratio:new s.bq(M,c.u_aspect_ratio),u_fade_change:new s.bq(M,c.u_fade_change),u_label_plane_matrix:new s.c0(M,c.u_label_plane_matrix),u_coord_matrix:new s.c0(M,c.u_coord_matrix),u_is_text:new s.b_(M,c.u_is_text),u_pitch_with_map:new s.b_(M,c.u_pitch_with_map),u_is_along_line:new s.b_(M,c.u_is_along_line),u_is_variable_anchor:new s.b_(M,c.u_is_variable_anchor),u_texsize:new s.c3(M,c.u_texsize),u_texture:new s.b_(M,c.u_texture),u_gamma_scale:new s.bq(M,c.u_gamma_scale),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_is_halo:new s.b_(M,c.u_is_halo),u_translation:new s.c3(M,c.u_translation),u_pitched_scale:new s.bq(M,c.u_pitched_scale)}),symbolTextAndIcon:(M,c)=>({u_is_size_zoom_constant:new s.b_(M,c.u_is_size_zoom_constant),u_is_size_feature_constant:new s.b_(M,c.u_is_size_feature_constant),u_size_t:new s.bq(M,c.u_size_t),u_size:new s.bq(M,c.u_size),u_camera_to_center_distance:new s.bq(M,c.u_camera_to_center_distance),u_pitch:new s.bq(M,c.u_pitch),u_rotate_symbol:new s.b_(M,c.u_rotate_symbol),u_aspect_ratio:new s.bq(M,c.u_aspect_ratio),u_fade_change:new s.bq(M,c.u_fade_change),u_label_plane_matrix:new s.c0(M,c.u_label_plane_matrix),u_coord_matrix:new s.c0(M,c.u_coord_matrix),u_is_text:new s.b_(M,c.u_is_text),u_pitch_with_map:new s.b_(M,c.u_pitch_with_map),u_is_along_line:new s.b_(M,c.u_is_along_line),u_is_variable_anchor:new s.b_(M,c.u_is_variable_anchor),u_texsize:new s.c3(M,c.u_texsize),u_texsize_icon:new s.c3(M,c.u_texsize_icon),u_texture:new s.b_(M,c.u_texture),u_texture_icon:new s.b_(M,c.u_texture_icon),u_gamma_scale:new s.bq(M,c.u_gamma_scale),u_device_pixel_ratio:new s.bq(M,c.u_device_pixel_ratio),u_is_halo:new s.b_(M,c.u_is_halo),u_translation:new s.c3(M,c.u_translation),u_pitched_scale:new s.bq(M,c.u_pitched_scale)}),background:(M,c)=>({u_opacity:new s.bq(M,c.u_opacity),u_color:new s.b$(M,c.u_color)}),backgroundPattern:(M,c)=>({u_opacity:new s.bq(M,c.u_opacity),u_image:new s.b_(M,c.u_image),u_pattern_tl_a:new s.c3(M,c.u_pattern_tl_a),u_pattern_br_a:new s.c3(M,c.u_pattern_br_a),u_pattern_tl_b:new s.c3(M,c.u_pattern_tl_b),u_pattern_br_b:new s.c3(M,c.u_pattern_br_b),u_texsize:new s.c3(M,c.u_texsize),u_mix:new s.bq(M,c.u_mix),u_pattern_size_a:new s.c3(M,c.u_pattern_size_a),u_pattern_size_b:new s.c3(M,c.u_pattern_size_b),u_scale_a:new s.bq(M,c.u_scale_a),u_scale_b:new s.bq(M,c.u_scale_b),u_pixel_coord_upper:new s.c3(M,c.u_pixel_coord_upper),u_pixel_coord_lower:new s.c3(M,c.u_pixel_coord_lower),u_tile_units_to_pixels:new s.bq(M,c.u_tile_units_to_pixels)}),terrain:(M,c)=>({u_texture:new s.b_(M,c.u_texture),u_ele_delta:new s.bq(M,c.u_ele_delta),u_fog_matrix:new s.c0(M,c.u_fog_matrix),u_fog_color:new s.b$(M,c.u_fog_color),u_fog_ground_blend:new s.bq(M,c.u_fog_ground_blend),u_fog_ground_blend_opacity:new s.bq(M,c.u_fog_ground_blend_opacity),u_horizon_color:new s.b$(M,c.u_horizon_color),u_horizon_fog_blend:new s.bq(M,c.u_horizon_fog_blend),u_is_globe_mode:new s.bq(M,c.u_is_globe_mode)}),terrainDepth:(M,c)=>({u_ele_delta:new s.bq(M,c.u_ele_delta)}),terrainCoords:(M,c)=>({u_texture:new s.b_(M,c.u_texture),u_terrain_coords_id:new s.bq(M,c.u_terrain_coords_id),u_ele_delta:new s.bq(M,c.u_ele_delta)}),projectionErrorMeasurement:(M,c)=>({u_input:new s.bq(M,c.u_input),u_output_expected:new s.bq(M,c.u_output_expected)}),atmosphere:(M,c)=>({u_sun_pos:new s.c2(M,c.u_sun_pos),u_atmosphere_blend:new s.bq(M,c.u_atmosphere_blend),u_globe_position:new s.c2(M,c.u_globe_position),u_globe_radius:new s.bq(M,c.u_globe_radius),u_inv_proj_matrix:new s.c0(M,c.u_inv_proj_matrix)}),sky:(M,c)=>({u_sky_color:new s.b$(M,c.u_sky_color),u_horizon_color:new s.b$(M,c.u_horizon_color),u_horizon:new s.c3(M,c.u_horizon),u_horizon_normal:new s.c3(M,c.u_horizon_normal),u_sky_horizon_blend:new s.bq(M,c.u_sky_horizon_blend),u_sky_blend:new s.bq(M,c.u_sky_blend)})};class Ri{constructor(c,A,_){this.context=c;const C=c.gl;this.buffer=C.createBuffer(),this.dynamicDraw=!!_,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),C.bufferData(C.ELEMENT_ARRAY_BUFFER,A.arrayBuffer,this.dynamicDraw?C.DYNAMIC_DRAW:C.STATIC_DRAW),this.dynamicDraw||delete A.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(c){const A=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),A.bufferSubData(A.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Si={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class _a{constructor(c,A,_,C){this.length=A.length,this.attributes=_,this.itemSize=A.bytesPerElement,this.dynamicDraw=C,this.context=c;const F=c.gl;this.buffer=F.createBuffer(),c.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,A.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||delete A.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(c){if(c.length!==this.length)throw new Error(`Length of new data is ${c.length}, which doesn't match current length of ${this.length}`);const A=this.context.gl;this.bind(),A.bufferSubData(A.ARRAY_BUFFER,0,c.arrayBuffer)}enableAttributes(c,A){for(let _=0;_<this.attributes.length;_++){const C=A.attributes[this.attributes[_].name];C!==void 0&&c.enableVertexAttribArray(C)}}setVertexAttribPointers(c,A,_){for(let C=0;C<this.attributes.length;C++){const F=this.attributes[C],U=A.attributes[F.name];U!==void 0&&c.vertexAttribPointer(U,F.components,c[Si[F.type]],!1,this.itemSize,F.offset+this.itemSize*(_||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class un{constructor(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(c){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class $ extends un{getDefault(){return s.bp.transparent}set(c){const A=this.current;(c.r!==A.r||c.g!==A.g||c.b!==A.b||c.a!==A.a||this.dirty)&&(this.gl.clearColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class oe extends un{getDefault(){return 1}set(c){(c!==this.current||this.dirty)&&(this.gl.clearDepth(c),this.current=c,this.dirty=!1)}}class ke extends un{getDefault(){return 0}set(c){(c!==this.current||this.dirty)&&(this.gl.clearStencil(c),this.current=c,this.dirty=!1)}}class Qe extends un{getDefault(){return[!0,!0,!0,!0]}set(c){const A=this.current;(c[0]!==A[0]||c[1]!==A[1]||c[2]!==A[2]||c[3]!==A[3]||this.dirty)&&(this.gl.colorMask(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class at extends un{getDefault(){return!0}set(c){(c!==this.current||this.dirty)&&(this.gl.depthMask(c),this.current=c,this.dirty=!1)}}class ht extends un{getDefault(){return 255}set(c){(c!==this.current||this.dirty)&&(this.gl.stencilMask(c),this.current=c,this.dirty=!1)}}class wt extends un{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(c){const A=this.current;(c.func!==A.func||c.ref!==A.ref||c.mask!==A.mask||this.dirty)&&(this.gl.stencilFunc(c.func,c.ref,c.mask),this.current=c,this.dirty=!1)}}class $t extends un{getDefault(){const c=this.gl;return[c.KEEP,c.KEEP,c.KEEP]}set(c){const A=this.current;(c[0]!==A[0]||c[1]!==A[1]||c[2]!==A[2]||this.dirty)&&(this.gl.stencilOp(c[0],c[1],c[2]),this.current=c,this.dirty=!1)}}class mi extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;c?A.enable(A.STENCIL_TEST):A.disable(A.STENCIL_TEST),this.current=c,this.dirty=!1}}class hn extends un{getDefault(){return[0,1]}set(c){const A=this.current;(c[0]!==A[0]||c[1]!==A[1]||this.dirty)&&(this.gl.depthRange(c[0],c[1]),this.current=c,this.dirty=!1)}}class Xn extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;c?A.enable(A.DEPTH_TEST):A.disable(A.DEPTH_TEST),this.current=c,this.dirty=!1}}class Ca extends un{getDefault(){return this.gl.LESS}set(c){(c!==this.current||this.dirty)&&(this.gl.depthFunc(c),this.current=c,this.dirty=!1)}}class Yr extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;c?A.enable(A.BLEND):A.disable(A.BLEND),this.current=c,this.dirty=!1}}class Br extends un{getDefault(){const c=this.gl;return[c.ONE,c.ZERO]}set(c){const A=this.current;(c[0]!==A[0]||c[1]!==A[1]||this.dirty)&&(this.gl.blendFunc(c[0],c[1]),this.current=c,this.dirty=!1)}}class as extends un{getDefault(){return s.bp.transparent}set(c){const A=this.current;(c.r!==A.r||c.g!==A.g||c.b!==A.b||c.a!==A.a||this.dirty)&&(this.gl.blendColor(c.r,c.g,c.b,c.a),this.current=c,this.dirty=!1)}}class Sa extends un{getDefault(){return this.gl.FUNC_ADD}set(c){(c!==this.current||this.dirty)&&(this.gl.blendEquation(c),this.current=c,this.dirty=!1)}}class Fn extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;c?A.enable(A.CULL_FACE):A.disable(A.CULL_FACE),this.current=c,this.dirty=!1}}class oa extends un{getDefault(){return this.gl.BACK}set(c){(c!==this.current||this.dirty)&&(this.gl.cullFace(c),this.current=c,this.dirty=!1)}}class da extends un{getDefault(){return this.gl.CCW}set(c){(c!==this.current||this.dirty)&&(this.gl.frontFace(c),this.current=c,this.dirty=!1)}}class za extends un{getDefault(){return null}set(c){(c!==this.current||this.dirty)&&(this.gl.useProgram(c),this.current=c,this.dirty=!1)}}class ws extends un{getDefault(){return this.gl.TEXTURE0}set(c){(c!==this.current||this.dirty)&&(this.gl.activeTexture(c),this.current=c,this.dirty=!1)}}class ta extends un{getDefault(){const c=this.gl;return[0,0,c.drawingBufferWidth,c.drawingBufferHeight]}set(c){const A=this.current;(c[0]!==A[0]||c[1]!==A[1]||c[2]!==A[2]||c[3]!==A[3]||this.dirty)&&(this.gl.viewport(c[0],c[1],c[2],c[3]),this.current=c,this.dirty=!1)}}class Uo extends un{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,c),this.current=c,this.dirty=!1}}class Ou extends un{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.bindRenderbuffer(A.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Uu extends un{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.bindTexture(A.TEXTURE_2D,c),this.current=c,this.dirty=!1}}class rc extends un{getDefault(){return null}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.bindBuffer(A.ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class Nu extends un{getDefault(){return null}set(c){const A=this.gl;A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,c),this.current=c,this.dirty=!1}}class yf extends un{getDefault(){return null}set(c){var A;if(c===this.current&&!this.dirty)return;const _=this.gl;wa(_)?_.bindVertexArray(c):(A=_.getExtension("OES_vertex_array_object"))===null||A===void 0||A.bindVertexArrayOES(c),this.current=c,this.dirty=!1}}class lu extends un{getDefault(){return 4}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_ALIGNMENT,c),this.current=c,this.dirty=!1}}class xf extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c),this.current=c,this.dirty=!1}}class Sh extends un{getDefault(){return!1}set(c){if(c===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,c),this.current=c,this.dirty=!1}}class sc extends un{constructor(c,A){super(c),this.context=c,this.parent=A}getDefault(){return null}}class cu extends sc{setDirty(){this.dirty=!0}set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const A=this.gl;A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,c,0),this.current=c,this.dirty=!1}}class zu extends sc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const A=this.gl;A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_ATTACHMENT,A.RENDERBUFFER,c),this.current=c,this.dirty=!1}}class Dc extends sc{set(c){if(c===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const A=this.gl;A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.RENDERBUFFER,c),this.current=c,this.dirty=!1}}const Hu="Framebuffer is not complete";class uu{constructor(c,A,_,C,F){this.context=c,this.width=A,this.height=_;const U=c.gl,V=this.framebuffer=U.createFramebuffer();if(this.colorAttachment=new cu(c,V),C)this.depthAttachment=F?new Dc(c,V):new zu(c,V);else if(F)throw new Error("Stencil cannot be set without depth");if(U.checkFramebufferStatus(U.FRAMEBUFFER)!==U.FRAMEBUFFER_COMPLETE)throw new Error(Hu)}destroy(){const c=this.context.gl,A=this.colorAttachment.get();if(A&&c.deleteTexture(A),this.depthAttachment){const _=this.depthAttachment.get();_&&c.deleteRenderbuffer(_)}c.deleteFramebuffer(this.framebuffer)}}class Qu{constructor(c){var A,_;if(this.gl=c,this.clearColor=new $(this),this.clearDepth=new oe(this),this.clearStencil=new ke(this),this.colorMask=new Qe(this),this.depthMask=new at(this),this.stencilMask=new ht(this),this.stencilFunc=new wt(this),this.stencilOp=new $t(this),this.stencilTest=new mi(this),this.depthRange=new hn(this),this.depthTest=new Xn(this),this.depthFunc=new Ca(this),this.blend=new Yr(this),this.blendFunc=new Br(this),this.blendColor=new as(this),this.blendEquation=new Sa(this),this.cullFace=new Fn(this),this.cullFaceSide=new oa(this),this.frontFace=new da(this),this.program=new za(this),this.activeTexture=new ws(this),this.viewport=new ta(this),this.bindFramebuffer=new Uo(this),this.bindRenderbuffer=new Ou(this),this.bindTexture=new Uu(this),this.bindVertexBuffer=new rc(this),this.bindElementBuffer=new Nu(this),this.bindVertexArray=new yf(this),this.pixelStoreUnpack=new lu(this),this.pixelStoreUnpackPremultiplyAlpha=new xf(this),this.pixelStoreUnpackFlipY=new Sh(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),wa(c)){this.HALF_FLOAT=c.HALF_FLOAT;const C=c.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(A=c.RGBA16F)!==null&&A!==void 0?A:C?.RGBA16F_EXT,this.RGB16F=(_=c.RGB16F)!==null&&_!==void 0?_:C?.RGB16F_EXT,c.getExtension("EXT_color_buffer_float")}else{c.getExtension("EXT_color_buffer_half_float"),c.getExtension("OES_texture_half_float_linear");const C=c.getExtension("OES_texture_half_float");this.HALF_FLOAT=C?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(c,A){return new Ri(this,c,A)}createVertexBuffer(c,A,_){return new _a(this,c,A,_)}createRenderbuffer(c,A,_){const C=this.gl,F=C.createRenderbuffer();return this.bindRenderbuffer.set(F),C.renderbufferStorage(C.RENDERBUFFER,c,A,_),this.bindRenderbuffer.set(null),F}createFramebuffer(c,A,_,C){return new uu(this,c,A,_,C)}clear({color:c,depth:A,stencil:_}){const C=this.gl;let F=0;c&&(F|=C.COLOR_BUFFER_BIT,this.clearColor.set(c),this.colorMask.set([!0,!0,!0,!0])),A!==void 0&&(F|=C.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(A),this.depthMask.set(!0)),_!==void 0&&(F|=C.STENCIL_BUFFER_BIT,this.clearStencil.set(_),this.stencilMask.set(255)),C.clear(F)}setCullFace(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))}setDepthMode(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)}setStencilMode(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)}setColorMode(c){s.bR(c.blendFunction,Un.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)}createVertexArray(){var c;return wa(this.gl)?this.gl.createVertexArray():(c=this.gl.getExtension("OES_vertex_array_object"))===null||c===void 0?void 0:c.createVertexArrayOES()}deleteVertexArray(c){var A;return wa(this.gl)?this.gl.deleteVertexArray(c):(A=this.gl.getExtension("OES_vertex_array_object"))===null||A===void 0?void 0:A.deleteVertexArrayOES(c)}unbindVAO(){this.bindVertexArray.set(null)}}let Rl;function Al(M,c,A,_,C){const F=M.context,U=M.transform,V=F.gl,X=M.useProgram("collisionBox"),ie=[];let se=0,fe=0;for(let He=0;He<_.length;He++){const et=_[He],ct=c.getTile(et).getBucket(A);if(!ct)continue;const Ze=C?ct.textCollisionBox:ct.iconCollisionBox,ot=ct.collisionCircleArray;ot.length>0&&(ie.push({circleArray:ot,circleOffset:fe,coord:et}),se+=ot.length/4,fe=se),Ze&&X.draw(F,V.LINES,an.disabled,aa.disabled,M.colorModeForRenderPass(),Vn.disabled,vs(M.transform),M.style.map.terrain&&M.style.map.terrain.getTerrainData(et),U.getProjectionData({overscaledTileID:et,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),A.id,Ze.layoutVertexBuffer,Ze.indexBuffer,Ze.segments,null,M.transform.zoom,null,null,Ze.collisionVertexBuffer)}if(!C||!ie.length)return;const ue=M.useProgram("collisionCircle"),ye=new s.ca;ye.resize(4*se),ye._trim();let Te=0;for(const He of ie)for(let et=0;et<He.circleArray.length/4;et++){const ct=4*et,Ze=He.circleArray[ct+0],ot=He.circleArray[ct+1],At=He.circleArray[ct+2],rt=He.circleArray[ct+3];ye.emplace(Te++,Ze,ot,At,rt,0),ye.emplace(Te++,Ze,ot,At,rt,1),ye.emplace(Te++,Ze,ot,At,rt,2),ye.emplace(Te++,Ze,ot,At,rt,3)}(!Rl||Rl.length<2*se)&&(Rl=(function(He){const et=2*He,ct=new s.cc;ct.resize(et),ct._trim();for(let Ze=0;Ze<et;Ze++){const ot=6*Ze;ct.uint16[ot+0]=4*Ze+0,ct.uint16[ot+1]=4*Ze+1,ct.uint16[ot+2]=4*Ze+2,ct.uint16[ot+3]=4*Ze+2,ct.uint16[ot+4]=4*Ze+3,ct.uint16[ot+5]=4*Ze+0}return ct})(se));const Ne=F.createIndexBuffer(Rl,!0),Ge=F.createVertexBuffer(ye,s.cb.members,!0);for(const He of ie){const et=_d(M.transform);ue.draw(F,V.TRIANGLES,an.disabled,aa.disabled,M.colorModeForRenderPass(),Vn.disabled,et,M.style.map.terrain&&M.style.map.terrain.getTerrainData(He.coord),null,A.id,Ge,Ne,s.aX.simpleSegment(0,2*He.circleOffset,He.circleArray.length,He.circleArray.length/2),null,M.transform.zoom,null,null,null)}Ge.destroy(),Ne.destroy()}const hu=s.ar(new Float32Array(16));function Bh(M,c,A,_,C,F){const{horizontalAlign:U,verticalAlign:V}=s.aS(M);return new s.P((-(U-.5)*c/C+_[0])*F,(-(V-.5)*A/C+_[1])*F)}function Ol(M,c,A,_,C,F){const U=c.tileAnchorPoint.add(new s.P(c.translation[0],c.translation[1]));if(c.pitchWithMap){let V=_.mult(F);A||(V=V.rotate(-C));const X=U.add(V);return ki(X.x,X.y,c.pitchedLabelPlaneMatrix,c.getElevation).point}if(A){const V=nn(c.tileAnchorPoint.x+1,c.tileAnchorPoint.y,c).point.sub(M),X=Math.atan(V.y/V.x)+(V.x<0?Math.PI:0);return M.add(_.rotate(X))}return M.add(_)}function ju(M,c,A,_,C,F,U,V,X,ie,se,fe){const ue=M.text.placedSymbolArray,ye=M.text.dynamicLayoutVertexArray,Te=M.icon.dynamicLayoutVertexArray,Ne={};ye.clear();for(let Ge=0;Ge<ue.length;Ge++){const He=ue.get(Ge),et=He.hidden||!He.crossTileID||M.allowVerticalPlacement&&!He.placedOrientation?null:_[He.crossTileID];if(et){const ct=new s.P(He.anchorX,He.anchorY),Ze={getElevation:fe,width:C.width,height:C.height,pitchedLabelPlaneMatrix:F,pitchWithMap:A,transform:C,tileAnchorPoint:ct,translation:ie,unwrappedTileID:se},ot=A?nr(ct.x,ct.y,Ze):nn(ct.x,ct.y,Ze),At=Hi(C.cameraToCenterDistance,ot.signedDistanceFromCamera);let rt=s.aA(M.textSizeData,V,He)*At/s.aM;A&&(rt*=M.tilePixelRatio/U);const{width:St,height:Xt,anchor:Ut,textOffset:zt,textBoxScale:Ht}=et,Ti=Bh(Ut,St,Xt,zt,Ht,rt),Li=C.getPitchedTextCorrection(ct.x+ie[0],ct.y+ie[1],se),pi=Ol(ot.point,Ze,c,Ti,-C.bearingInRadians,Li),zi=M.allowVerticalPlacement&&He.placedOrientation===s.az.vertical?Math.PI/2:0;for(let ua=0;ua<He.numGlyphs;ua++)s.aG(ye,pi,zi);X&&He.associatedIconIndex>=0&&(Ne[He.associatedIconIndex]={shiftedAnchor:pi,angle:zi})}else vn(He.numGlyphs,ye)}if(X){Te.clear();const Ge=M.icon.placedSymbolArray;for(let He=0;He<Ge.length;He++){const et=Ge.get(He);if(et.hidden)vn(et.numGlyphs,Te);else{const ct=Ne[He];if(ct)for(let Ze=0;Ze<et.numGlyphs;Ze++)s.aG(Te,ct.shiftedAnchor,ct.angle);else vn(et.numGlyphs,Te)}}M.icon.dynamicLayoutVertexBuffer.updateData(Te)}M.text.dynamicLayoutVertexBuffer.updateData(ye)}function du(M,c,A){return A.iconsInText&&c?"symbolTextAndIcon":M?"symbolSDF":"symbolIcon"}function Ul(M,c,A,_,C,F,U,V,X,ie,se,fe,ue){const ye=M.context,Te=ye.gl,Ne=M.transform,Ge=V==="map",He=X==="map",et=V!=="viewport"&&A.layout.get("symbol-placement")!=="point",ct=Ge&&!He&&!et,Ze=!A.layout.get("symbol-sort-key").isConstant();let ot=!1;const At=M.getDepthModeForSublayer(0,an.ReadOnly),rt=A._unevaluatedLayout.hasValue("text-variable-anchor")||A._unevaluatedLayout.hasValue("text-variable-anchor-offset"),St=[],Xt=Ne.getCircleRadiusCorrection();for(const Ut of _){const zt=c.getTile(Ut),Ht=zt.getBucket(A);if(!Ht)continue;const Ti=C?Ht.text:Ht.icon;if(!Ti||!Ti.segments.get().length||!Ti.hasVisibleVertices)continue;const Li=Ti.programConfigurations.get(A.id),pi=C||Ht.sdfIcons,zi=C?Ht.textSizeData:Ht.iconSizeData,ua=He||Ne.pitch!==0,tr=M.useProgram(du(pi,C,Ht),Li),Rr=s.ay(zi,Ne.zoom),gr=M.style.map.terrain&&M.style.map.terrain.getTerrainData(Ut);let Qr,mr,os,jr,io=[0,0],Cs=null;if(C)mr=zt.glyphAtlasTexture,os=Te.LINEAR,Qr=zt.glyphAtlasTexture.size,Ht.iconsInText&&(io=zt.imageAtlasTexture.size,Cs=zt.imageAtlasTexture,jr=ua||M.options.rotating||M.options.zooming||zi.kind==="composite"||zi.kind==="camera"?Te.LINEAR:Te.NEAREST);else{const kr=A.layout.get("icon-size").constantOr(0)!==1||Ht.iconsNeedLinear;mr=zt.imageAtlasTexture,os=pi||M.options.rotating||M.options.zooming||kr||ua?Te.LINEAR:Te.NEAREST,Qr=zt.imageAtlasTexture.size}const ps=s.aN(zt,1,M.transform.zoom),ho=Ci(Ge,M.transform,ps),Zu=s.N();s.aB(Zu,ho);const mu=pn(He,Ge,M.transform,ps),Hc=s.aO(Ne,zt,F,U),el=Ne.getProjectionData({overscaledTileID:Ut,applyGlobeMatrix:!ue,applyTerrainMatrix:!0}),Nh=rt&&Ht.hasTextData(),If=A.layout.get("icon-text-fit")!=="none"&&Nh&&Ht.hasIconData();if(et){const kr=M.style.map.terrain?(Ws,$s)=>M.style.map.terrain.getElevation(Ut,Ws,$s):null,yr=A.layout.get("text-rotation-alignment")==="map";on(Ht,M,C,ho,Zu,He,ie,yr,Ut.toUnwrapped(),Ne.width,Ne.height,Hc,kr)}const zh=C&&rt||If,Ql=et||zh?hu:He?ho:M.transform.clipSpaceToPixelsMatrix,Qc=pi&&A.paint.get(C?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let dc;dc=pi?Ht.iconsInText?gt(zi.kind,Rr,ct,He,et,zh,M,Ql,mu,Hc,Qr,io,Xt):Ke(zi.kind,Rr,ct,He,et,zh,M,Ql,mu,Hc,C,Qr,0,Xt):Fe(zi.kind,Rr,ct,He,et,zh,M,Ql,mu,Hc,C,Qr,Xt);const fc={program:tr,buffers:Ti,uniformValues:dc,projectionData:el,atlasTexture:mr,atlasTextureIcon:Cs,atlasInterpolation:os,atlasInterpolationIcon:jr,isSDF:pi,hasHalo:Qc};if(Ze&&Ht.canOverlap){ot=!0;const kr=Ti.segments.get();for(const yr of kr)St.push({segments:new s.aX([yr]),sortKey:yr.sortKey,state:fc,terrainData:gr})}else St.push({segments:Ti.segments,sortKey:0,state:fc,terrainData:gr})}ot&&St.sort(((Ut,zt)=>Ut.sortKey-zt.sortKey));for(const Ut of St){const zt=Ut.state;if(ye.activeTexture.set(Te.TEXTURE0),zt.atlasTexture.bind(zt.atlasInterpolation,Te.CLAMP_TO_EDGE),zt.atlasTextureIcon&&(ye.activeTexture.set(Te.TEXTURE1),zt.atlasTextureIcon&&zt.atlasTextureIcon.bind(zt.atlasInterpolationIcon,Te.CLAMP_TO_EDGE)),zt.isSDF){const Ht=zt.uniformValues;zt.hasHalo&&(Ht.u_is_halo=1,fu(zt.buffers,Ut.segments,A,M,zt.program,At,se,fe,Ht,zt.projectionData,Ut.terrainData)),Ht.u_is_halo=0}fu(zt.buffers,Ut.segments,A,M,zt.program,At,se,fe,zt.uniformValues,zt.projectionData,Ut.terrainData)}}function fu(M,c,A,_,C,F,U,V,X,ie,se){const fe=_.context;C.draw(fe,fe.gl.TRIANGLES,F,U,V,Vn.backCCW,X,se,ie,A.id,M.layoutVertexBuffer,M.indexBuffer,c,A.paint,_.transform.zoom,M.programConfigurations.get(A.id),M.dynamicLayoutVertexBuffer,M.opacityVertexBuffer)}function Eh(M,c,A,_,C){const F=M.context,U=F.gl,V=aa.disabled,X=new Un([U.ONE,U.ONE],s.bp.transparent,[!0,!0,!0,!0]),ie=c.getBucket(A);if(!ie)return;const se=_.key;let fe=A.heatmapFbos.get(se);fe||(fe=Rc(F,c.tileSize,c.tileSize),A.heatmapFbos.set(se,fe)),F.bindFramebuffer.set(fe.framebuffer),F.viewport.set([0,0,c.tileSize,c.tileSize]),F.clear({color:s.bp.transparent});const ue=ie.programConfigurations.get(A.id),ye=M.useProgram("heatmap",ue,!C),Te=M.transform.getProjectionData({overscaledTileID:c.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Ne=M.style.map.terrain.getTerrainData(_);ye.draw(F,U.TRIANGLES,an.disabled,V,X,Vn.disabled,Oo(c,M.transform.zoom,A.paint.get("heatmap-intensity"),1),Ne,Te,A.id,ie.layoutVertexBuffer,ie.indexBuffer,ie.segments,A.paint,M.transform.zoom,ue)}function kh(M,c,A,_,C){const F=M.context,U=F.gl,V=M.transform;F.setColorMode(M.colorModeForRenderPass());const X=wo(F,c),ie=A.key,se=c.heatmapFbos.get(ie);if(!se)return;F.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,se.colorAttachment.get()),F.activeTexture.set(U.TEXTURE1),X.bind(U.LINEAR,U.CLAMP_TO_EDGE);const fe=V.getProjectionData({overscaledTileID:A,applyTerrainMatrix:C,applyGlobeMatrix:!_});M.useProgram("heatmapTexture").draw(F,U.TRIANGLES,an.disabled,aa.disabled,M.colorModeForRenderPass(),Vn.disabled,ga(M,c,0,1),null,fe,c.id,M.rasterBoundsBuffer,M.quadTriangleIndexBuffer,M.rasterBoundsSegments,c.paint,V.zoom),se.destroy(),c.heatmapFbos.delete(ie)}function Rc(M,c,A){var _,C;const F=M.gl,U=F.createTexture();F.bindTexture(F.TEXTURE_2D,U),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,F.CLAMP_TO_EDGE),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.LINEAR),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.LINEAR);const V=(_=M.HALF_FLOAT)!==null&&_!==void 0?_:F.UNSIGNED_BYTE,X=(C=M.RGBA16F)!==null&&C!==void 0?C:F.RGBA;F.texImage2D(F.TEXTURE_2D,0,X,c,A,0,F.RGBA,V,null);const ie=M.createFramebuffer(c,A,!1,!1);return ie.colorAttachment.set(U),ie}function wo(M,c){return c.colorRampTexture||(c.colorRampTexture=new s.T(M,c.colorRamp,M.gl.RGBA)),c.colorRampTexture}function Oc(M,c,A,_,C,F,U,V){let X=256;if(C.stepInterpolant){const ie=c.getSource().maxzoom,se=U.canonical.z===ie?Math.ceil(1<<M.transform.maxZoom-U.canonical.z):1;X=s.an(s.ce(F.maxLineLength/s.a5*1024*se),256,A.maxTextureSize)}return V.gradient=s.cf({expression:C.gradientExpression(),evaluationKey:"lineProgress",resolution:X,image:V.gradient||void 0,clips:F.lineClipsArray}),V.texture?V.texture.update(V.gradient):V.texture=new s.T(A,V.gradient,_.RGBA),V.version=C.gradientVersion,V.texture}function Zo(M,c,A,_,C){M.activeTexture.set(c.TEXTURE0),A.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),_.updatePaintBuffers(C)}function pr(M,c,A,_,C,F){(C||M.lineAtlas.dirty)&&(c.activeTexture.set(A.TEXTURE0),M.lineAtlas.bind(c)),_.updatePaintBuffers(F)}function pl(M,c,A,_,C,F,U){const V=F.gradients[C.id];let X=V.texture;C.gradientVersion!==V.version&&(X=Oc(M,c,A,_,C,F,U,V)),A.activeTexture.set(_.TEXTURE0),X.bind(C.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}function bs(M,c,A,_,C,F,U,V,X){const ie=F.gradients[C.id];let se=ie.texture;C.gradientVersion!==ie.version&&(se=Oc(M,c,A,_,C,F,U,ie)),A.activeTexture.set(_.TEXTURE0),se.bind(C.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE),A.activeTexture.set(_.TEXTURE1),M.lineAtlas.bind(A),V.updatePaintBuffers(X)}function Vu(M,c,A,_,C){if(!A||!_||!_.imageAtlas)return;const F=_.imageAtlas.patternPositions;let U=F[A.to.toString()],V=F[A.from.toString()];if(!U&&V&&(U=V),!V&&U&&(V=U),!U||!V){const X=C.getPaintProperty(c);U=F[X],V=F[X]}U&&V&&M.setConstantPatternPositions(U,V)}function bo(M,c,A,_,C,F,U,V){const X=M.context.gl,ie="fill-pattern",se=A.paint.get(ie),fe=se&&se.constantOr(1),ue=A.getCrossfadeParameters();let ye,Te,Ne,Ge,He;const et=M.transform,ct=A.paint.get("fill-translate"),Ze=A.paint.get("fill-translate-anchor");U?(Te=fe&&!A.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ye=X.LINES):(Te=fe?"fillPattern":"fill",ye=X.TRIANGLES);const ot=se.constantOr(null);for(const At of _){const rt=c.getTile(At);if(fe&&!rt.patternsLoaded())continue;const St=rt.getBucket(A);if(!St)continue;const Xt=St.programConfigurations.get(A.id),Ut=M.useProgram(Te,Xt),zt=M.style.map.terrain&&M.style.map.terrain.getTerrainData(At);fe&&(M.context.activeTexture.set(X.TEXTURE0),rt.imageAtlasTexture.bind(X.LINEAR,X.CLAMP_TO_EDGE),Xt.updatePaintBuffers(ue)),Vu(Xt,ie,ot,rt,A);const Ht=et.getProjectionData({overscaledTileID:At,applyGlobeMatrix:!V,applyTerrainMatrix:!0}),Ti=s.aO(et,rt,ct,Ze);if(U){Ge=St.indexBuffer2,He=St.segments2;const pi=[X.drawingBufferWidth,X.drawingBufferHeight];Ne=Te==="fillOutlinePattern"&&fe?xd(M,ue,rt,pi,Ti):Ru(pi,Ti)}else Ge=St.indexBuffer,He=St.segments,Ne=fe?Du(M,ue,rt,Ti):{u_fill_translate:Ti};const Li=M.stencilModeForClipping(At);Ut.draw(M.context,ye,C,Li,F,Vn.backCCW,Ne,zt,Ht,A.id,St.layoutVertexBuffer,Ge,He,A.paint,M.transform.zoom,Xt)}}function oc(M,c,A,_,C,F,U,V){const X=M.context,ie=X.gl,se="fill-extrusion-pattern",fe=A.paint.get(se),ue=fe.constantOr(1),ye=A.getCrossfadeParameters(),Te=A.paint.get("fill-extrusion-opacity"),Ne=fe.constantOr(null),Ge=M.transform;for(const He of _){const et=c.getTile(He),ct=et.getBucket(A);if(!ct)continue;const Ze=M.style.map.terrain&&M.style.map.terrain.getTerrainData(He),ot=ct.programConfigurations.get(A.id),At=M.useProgram(ue?"fillExtrusionPattern":"fillExtrusion",ot);ue&&(M.context.activeTexture.set(ie.TEXTURE0),et.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),ot.updatePaintBuffers(ye));const rt=Ge.getProjectionData({overscaledTileID:He,applyGlobeMatrix:!V,applyTerrainMatrix:!0});Vu(ot,se,Ne,et,A);const St=s.aO(Ge,et,A.paint.get("fill-extrusion-translate"),A.paint.get("fill-extrusion-translate-anchor")),Xt=A.paint.get("fill-extrusion-vertical-gradient"),Ut=ue?to(M,Xt,Te,St,He,ye,et):Pu(M,Xt,Te,St);At.draw(X,X.gl.TRIANGLES,C,F,U,Vn.backCCW,Ut,Ze,rt,A.id,ct.layoutVertexBuffer,ct.indexBuffer,ct.segments,A.paint,M.transform.zoom,ot,M.style.map.terrain&&ct.centroidVertexBuffer)}}function gl(M,c,A,_,C,F,U,V,X){var ie;const se=M.style.projection,fe=M.context,ue=M.transform,ye=fe.gl,Te=[`#define NUM_ILLUMINATION_SOURCES ${A.paint.get("hillshade-highlight-color").values.length}`],Ne=M.useProgram("hillshade",null,!1,Te),Ge=!M.options.moving;for(const He of _){const et=c.getTile(He),ct=et.fbo;if(!ct)continue;const Ze=se.getMeshFromTileID(fe,He.canonical,V,!0,"raster"),ot=(ie=M.style.map.terrain)===null||ie===void 0?void 0:ie.getTerrainData(He);fe.activeTexture.set(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,ct.colorAttachment.get());const At=ue.getProjectionData({overscaledTileID:He,aligned:Ge,applyGlobeMatrix:!X,applyTerrainMatrix:!0});Ne.draw(fe,ye.TRIANGLES,F,C[He.overscaledZ],U,Vn.backCCW,ac(M,et,A),ot,At,A.id,Ze.vertexBuffer,Ze.indexBuffer,Ze.segments)}}function ml(M,c,A,_,C,F,U,V,X){var ie;const se=M.style.projection,fe=M.context,ue=M.transform,ye=fe.gl,Te=M.useProgram("colorRelief"),Ne=!M.options.moving;let Ge=!0,He=0;for(const et of _){const ct=c.getTile(et),Ze=ct.dem;if(Ge){const Ut=ye.getParameter(ye.MAX_TEXTURE_SIZE),{elevationTexture:zt,colorTexture:Ht}=A.getColorRampTextures(fe,Ut,Ze.getUnpackVector());fe.activeTexture.set(ye.TEXTURE1),zt.bind(ye.NEAREST,ye.CLAMP_TO_EDGE),fe.activeTexture.set(ye.TEXTURE4),Ht.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ge=!1,He=zt.size[0]}if(!Ze||!Ze.data)continue;const ot=Ze.stride,At=Ze.getPixels();if(fe.activeTexture.set(ye.TEXTURE0),fe.pixelStoreUnpackPremultiplyAlpha.set(!1),ct.demTexture=ct.demTexture||M.getTileTexture(ot),ct.demTexture){const Ut=ct.demTexture;Ut.update(At,{premultiply:!1}),Ut.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)}else ct.demTexture=new s.T(fe,At,ye.RGBA,{premultiply:!1}),ct.demTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE);const rt=se.getMeshFromTileID(fe,et.canonical,V,!0,"raster"),St=(ie=M.style.map.terrain)===null||ie===void 0?void 0:ie.getTerrainData(et),Xt=ue.getProjectionData({overscaledTileID:et,aligned:Ne,applyGlobeMatrix:!X,applyTerrainMatrix:!0});Te.draw(fe,ye.TRIANGLES,F,C[et.overscaledZ],U,Vn.backCCW,y(A,ct.dem,He),St,Xt,A.id,rt.vertexBuffer,rt.indexBuffer,rt.segments)}}const lc=[new s.P(0,0),new s.P(s.a5,0),new s.P(s.a5,s.a5),new s.P(0,s.a5)];function cc(M,c,A,_,C,F,U,V,X=!1,ie=!1){const se=_[_.length-1].overscaledZ,fe=M.context,ue=fe.gl,ye=M.useProgram("raster"),Te=M.transform,Ne=M.style.projection,Ge=M.colorModeForRenderPass(),He=!M.options.moving,et=A.paint.get("raster-opacity"),ct=A.paint.get("raster-resampling"),Ze=A.paint.get("raster-fade-duration"),ot=!!M.style.map.terrain;for(const At of _){const rt=M.getDepthModeForSublayer(At.overscaledZ-se,et===1?an.ReadWrite:an.ReadOnly,ue.LESS),St=c.getTile(At),Xt=ct==="nearest"?ue.NEAREST:ue.LINEAR;fe.activeTexture.set(ue.TEXTURE0),St.texture.bind(Xt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),fe.activeTexture.set(ue.TEXTURE1);const{parentTile:Ut,parentScaleBy:zt,parentTopLeft:Ht,fadeValues:Ti}=Th(St,c,Ze,ot);St.fadeOpacity=Ti.tileOpacity,Ut?(Ut.fadeOpacity=Ti.parentTileOpacity,Ut.texture.bind(Xt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST)):St.texture.bind(Xt,ue.CLAMP_TO_EDGE,ue.LINEAR_MIPMAP_NEAREST),St.texture.useMipmap&&fe.extTextureFilterAnisotropic&&M.transform.pitch>20&&ue.texParameterf(ue.TEXTURE_2D,fe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,fe.extTextureFilterAnisotropicMax);const Li=M.style.map.terrain&&M.style.map.terrain.getTerrainData(At),pi=Te.getProjectionData({overscaledTileID:At,aligned:He,applyGlobeMatrix:!ie,applyTerrainMatrix:!0}),zi=Ae(Ht,zt,Ti.fadeMix,A,V),ua=Ne.getMeshFromTileID(fe,At.canonical,F,U,"raster");ye.draw(fe,ue.TRIANGLES,rt,C?C[At.overscaledZ]:aa.disabled,Ge,X?Vn.frontCCW:Vn.backCCW,zi,Li,pi,A.id,ua.vertexBuffer,ua.indexBuffer,ua.segments)}}function Th(M,c,A,_){const C={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(A===0||_)return C;if(M.fadingParentID){const F=c.getLoadedTile(M.fadingParentID);if(!F)return C;const U=Math.pow(2,F.tileID.overscaledZ-M.tileID.overscaledZ),V=[M.tileID.canonical.x*U%1,M.tileID.canonical.y*U%1],X=(function(ie,se,fe){const ue=I(),ye=(ue-se.timeAdded)/fe,Te=ie.fadingDirection===xt.Incoming,Ne=s.an((ue-ie.timeAdded)/fe,0,1),Ge=s.an(1-ye,0,1),He=Te?Ne:Ge;return{tileOpacity:He,parentTileOpacity:Te?Ge:Ne,fadeMix:{opacity:1,mix:1-He}}})(M,F,A);return{parentTile:F,parentScaleBy:U,parentTopLeft:V,fadeValues:X}}if(M.selfFading){const F=(function(U,V){const X=(I()-U.timeAdded)/V,ie=s.an(X,0,1);return{tileOpacity:ie,fadeMix:{opacity:ie,mix:0}}})(M,A);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:F}}return C}const Ih=new s.bp(1,0,0,1),Uc=new s.bp(0,1,0,1),Mh=new s.bp(0,0,1,1),Lh=new s.bp(1,0,1,1),Nl=new s.bp(0,1,1,1);function Gu(M,c,A,_){Au(M,0,c+A/2,M.transform.width,A,_)}function uc(M,c,A,_){Au(M,c-A/2,0,A,M.transform.height,_)}function Au(M,c,A,_,C,F){const U=M.context,V=U.gl;V.enable(V.SCISSOR_TEST),V.scissor(c*M.pixelRatio,A*M.pixelRatio,_*M.pixelRatio,C*M.pixelRatio),U.clear({color:F}),V.disable(V.SCISSOR_TEST)}function Wu(M,c,A){const _=M.context,C=_.gl,F=M.useProgram("debug"),U=an.disabled,V=aa.disabled,X=M.colorModeForRenderPass(),ie="$debug",se=M.style.map.terrain&&M.style.map.terrain.getTerrainData(A);_.activeTexture.set(C.TEXTURE0);const fe=c.getTileByID(A.key).latestRawTileData,ue=Math.floor((fe&&fe.byteLength||0)/1024),ye=c.getTile(A).tileSize,Te=512/Math.min(ye,512)*(A.overscaledZ/M.transform.zoom)*.5;let Ne=A.canonical.toString();A.overscaledZ!==A.canonical.z&&(Ne+=` => ${A.overscaledZ}`),(function(He,et){He.initDebugOverlayCanvas();const ct=He.debugOverlayCanvas,Ze=He.context.gl,ot=He.debugOverlayCanvas.getContext("2d");ot.clearRect(0,0,ct.width,ct.height),ot.shadowColor="white",ot.shadowBlur=2,ot.lineWidth=1.5,ot.strokeStyle="white",ot.textBaseline="top",ot.font="bold 36px Open Sans, sans-serif",ot.fillText(et,5,5),ot.strokeText(et,5,5),He.debugOverlayTexture.update(ct),He.debugOverlayTexture.bind(Ze.LINEAR,Ze.CLAMP_TO_EDGE)})(M,`${Ne} ${ue}kB`);const Ge=M.transform.getProjectionData({overscaledTileID:A,applyGlobeMatrix:!0,applyTerrainMatrix:!0});F.draw(_,C.TRIANGLES,U,V,Un.alphaBlended,Vn.disabled,Pc(s.bp.transparent,Te),null,Ge,ie,M.debugBuffer,M.quadTriangleIndexBuffer,M.debugSegments),F.draw(_,C.LINE_STRIP,U,V,X,Vn.disabled,Pc(s.bp.red),se,Ge,ie,M.debugBuffer,M.tileBorderIndexBuffer,M.debugSegments)}function Fh(M,c,A,_){const{isRenderingGlobe:C}=_,F=M.context,U=F.gl,V=M.transform,X=M.colorModeForRenderPass(),ie=M.getDepthModeFor3D(),se=M.useProgram("terrain");F.bindFramebuffer.set(null),F.viewport.set([0,0,M.width,M.height]);for(const fe of A){const ue=c.getTerrainMesh(fe.tileID),ye=M.renderToTexture.getTexture(fe),Te=c.getTerrainData(fe.tileID);F.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,ye.texture);const Ne=c.getMeshFrameDelta(V.zoom),Ge=V.calculateFogMatrix(fe.tileID.toUnwrapped()),He=ou(Ne,Ge,M.style.sky,V.pitch,C),et=V.getProjectionData({overscaledTileID:fe.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});se.draw(F,U.TRIANGLES,ie,aa.disabled,X,Vn.backCCW,He,Te,et,"terrain",ue.vertexBuffer,ue.indexBuffer,ue.segments)}}function Nc(M,c){if(!c.mesh){const A=new s.aW;A.emplaceBack(-1,-1),A.emplaceBack(1,-1),A.emplaceBack(1,1),A.emplaceBack(-1,1);const _=new s.aY;_.emplaceBack(0,1,2),_.emplaceBack(0,2,3),c.mesh=new Na(M.createVertexBuffer(A,$n.members),M.createIndexBuffer(_),s.aX.simpleSegment(0,0,A.length,_.length))}return c.mesh}class pu{constructor(c,A){this.context=new Qu(c),this.transform=A,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:s.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ni.maxOverzooming+ni.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new na}resize(c,A,_){if(this.width=Math.floor(c*_),this.height=Math.floor(A*_),this.pixelRatio=_,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const C of this.style._order)this.style._layers[C].resize()}setup(){const c=this.context,A=new s.aW;A.emplaceBack(0,0),A.emplaceBack(s.a5,0),A.emplaceBack(0,s.a5),A.emplaceBack(s.a5,s.a5),this.tileExtentBuffer=c.createVertexBuffer(A,$n.members),this.tileExtentSegments=s.aX.simpleSegment(0,0,4,2);const _=new s.aW;_.emplaceBack(0,0),_.emplaceBack(s.a5,0),_.emplaceBack(0,s.a5),_.emplaceBack(s.a5,s.a5),this.debugBuffer=c.createVertexBuffer(_,$n.members),this.debugSegments=s.aX.simpleSegment(0,0,4,5);const C=new s.ch;C.emplaceBack(0,0,0,0),C.emplaceBack(s.a5,0,s.a5,0),C.emplaceBack(0,s.a5,0,s.a5),C.emplaceBack(s.a5,s.a5,s.a5,s.a5),this.rasterBoundsBuffer=c.createVertexBuffer(C,Fu.members),this.rasterBoundsSegments=s.aX.simpleSegment(0,0,4,2);const F=new s.aW;F.emplaceBack(0,0),F.emplaceBack(s.a5,0),F.emplaceBack(0,s.a5),F.emplaceBack(s.a5,s.a5),this.rasterBoundsBufferPosOnly=c.createVertexBuffer(F,$n.members),this.rasterBoundsSegmentsPosOnly=s.aX.simpleSegment(0,0,4,5);const U=new s.aW;U.emplaceBack(0,0),U.emplaceBack(1,0),U.emplaceBack(0,1),U.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(U,$n.members),this.viewportSegments=s.aX.simpleSegment(0,0,4,2);const V=new s.ci;V.emplaceBack(0),V.emplaceBack(1),V.emplaceBack(3),V.emplaceBack(2),V.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(V);const X=new s.aY;X.emplaceBack(1,0,2),X.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(X);const ie=this.context.gl;this.stencilClearMode=new aa({func:ie.ALWAYS,mask:0},0,255,ie.ZERO,ie.ZERO,ie.ZERO),this.tileExtentMesh=new Na(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const c=this.context,A=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const _=s.N();s.c7(_,0,this.width,this.height,0,0,1),s.Q(_,_,[A.drawingBufferWidth,A.drawingBufferHeight,0]);const C={mainMatrix:_,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:_};this.useProgram("clippingMask",null,!0).draw(c,A.TRIANGLES,an.disabled,this.stencilClearMode,Un.disabled,Vn.disabled,null,null,C,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(c,A,_){if(this.currentStencilSource===c.source||!c.isTileClipped()||!A||!A.length)return;this.currentStencilSource=c.source,this.nextStencilID+A.length>256&&this.clearStencil();const C=this.context;C.setColorMode(Un.disabled),C.setDepthMode(an.disabled);const F={};for(const U of A)F[U.key]=this.nextStencilID++;this._renderTileMasks(F,A,_,!0),this._renderTileMasks(F,A,_,!1),this._tileClippingMaskIDs=F}_renderTileMasks(c,A,_,C){const F=this.context,U=F.gl,V=this.style.projection,X=this.transform,ie=this.useProgram("clippingMask");for(const se of A){const fe=c[se.key],ue=this.style.map.terrain&&this.style.map.terrain.getTerrainData(se),ye=V.getMeshFromTileID(this.context,se.canonical,C,!0,"stencil"),Te=X.getProjectionData({overscaledTileID:se,applyGlobeMatrix:!_,applyTerrainMatrix:!0});ie.draw(F,U.TRIANGLES,an.disabled,new aa({func:U.ALWAYS,mask:0},fe,255,U.KEEP,U.KEEP,U.REPLACE),Un.disabled,_?Vn.disabled:Vn.backCCW,null,ue,Te,"$clipping",ye.vertexBuffer,ye.indexBuffer,ye.segments)}}_renderTilesDepthBuffer(){const c=this.context,A=c.gl,_=this.style.projection,C=this.transform,F=this.useProgram("depth"),U=this.getDepthModeFor3D(),V=gn(C,{tileSize:C.tileSize});for(const X of V){const ie=this.style.map.terrain&&this.style.map.terrain.getTerrainData(X),se=_.getMeshFromTileID(this.context,X.canonical,!0,!0,"raster"),fe=C.getProjectionData({overscaledTileID:X,applyGlobeMatrix:!0,applyTerrainMatrix:!0});F.draw(c,A.TRIANGLES,U,aa.disabled,Un.disabled,Vn.backCCW,null,ie,fe,"$clipping",se.vertexBuffer,se.indexBuffer,se.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const c=this.nextStencilID++,A=this.context.gl;return new aa({func:A.NOTEQUAL,mask:255},c,255,A.KEEP,A.KEEP,A.REPLACE)}stencilModeForClipping(c){const A=this.context.gl;return new aa({func:A.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,A.KEEP,A.KEEP,A.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(c){const A=this.context.gl,_=c.sort(((U,V)=>V.overscaledZ-U.overscaledZ)),C=_[_.length-1].overscaledZ,F=_[0].overscaledZ-C+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const U={};for(let V=0;V<F;V++)U[V+C]=new aa({func:A.GEQUAL,mask:255},V+this.nextStencilID,255,A.KEEP,A.KEEP,A.REPLACE);return this.nextStencilID+=F,[U,_]}return[{[C]:aa.disabled},_]}stencilConfigForOverlapTwoPass(c){const A=this.context.gl,_=c.sort(((U,V)=>V.overscaledZ-U.overscaledZ)),C=_[_.length-1].overscaledZ,F=_[0].overscaledZ-C+1;if(this.clearStencil(),F>1){const U={},V={};for(let X=0;X<F;X++)U[X+C]=new aa({func:A.GREATER,mask:255},F+1+X,255,A.KEEP,A.KEEP,A.REPLACE),V[X+C]=new aa({func:A.GREATER,mask:255},1+X,255,A.KEEP,A.KEEP,A.REPLACE);return this.nextStencilID=2*F+1,[U,V,_]}return this.nextStencilID=3,[{[C]:new aa({func:A.GREATER,mask:255},2,255,A.KEEP,A.KEEP,A.REPLACE)},{[C]:new aa({func:A.GREATER,mask:255},1,255,A.KEEP,A.KEEP,A.REPLACE)},_]}colorModeForRenderPass(){const c=this.context.gl;return this._showOverdrawInspector?new Un([c.CONSTANT_COLOR,c.ONE],new s.bp(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Un.unblended:Un.alphaBlended}getDepthModeForSublayer(c,A,_){if(!this.opaquePassEnabledForLayer())return an.disabled;const C=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new an(_||this.context.gl.LEQUAL,A,[C,C])}getDepthModeFor3D(){return new an(this.context.gl.LEQUAL,an.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(c,A){var _,C;this.style=c,this.options=A,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(I()),this.imageManager.beginFrame();const F=this.style._order,U=this.style.tileManagers,V={},X={},ie={},se={isRenderingToTexture:!1,isRenderingGlobe:((_=c.projection)===null||_===void 0?void 0:_.transitionState)>0};for(const ue in U){const ye=U[ue];ye.used&&ye.prepare(this.context),V[ue]=ye.getVisibleCoordinates(!1),X[ue]=V[ue].slice().reverse(),ie[ue]=ye.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ue=0;ue<F.length;ue++)if(this.style._layers[F[ue]].is3D()){this.opaquePassCutoff=ue;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const ue of F){const ye=this.style._layers[ue];if(!ye.hasOffscreenPass()||ye.isHidden(this.transform.zoom))continue;const Te=X[ye.source];(ye.type==="custom"||Te.length)&&this.renderLayer(this,U[ye.source],ye,Te,se)}if((C=this.style.projection)===null||C===void 0||C.updateGPUdependent({context:this.context,useProgram:ue=>this.useProgram(ue)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:A.showOverdrawInspector?s.bp.black:s.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(ue,ye){const Te=ue.context,Ne=Te.gl,Ge=((At,rt,St)=>{const Xt=Math.cos(rt.rollInRadians),Ut=Math.sin(rt.rollInRadians),zt=Bi(rt),Ht=rt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:At.properties.get("sky-color"),u_horizon_color:At.properties.get("horizon-color"),u_horizon:[(rt.width/2-zt*Ut)*St,(rt.height/2+zt*Xt)*St],u_horizon_normal:[-Ut,Xt],u_sky_horizon_blend:At.properties.get("sky-horizon-blend")*rt.height/2*St,u_sky_blend:Ht}})(ye,ue.style.map.transform,ue.pixelRatio),He=new an(Ne.LEQUAL,an.ReadWrite,[0,1]),et=aa.disabled,ct=ue.colorModeForRenderPass(),Ze=ue.useProgram("sky"),ot=Nc(Te,ye);Ze.draw(Te,Ne.TRIANGLES,He,et,ct,Vn.disabled,Ge,null,void 0,"sky",ot.vertexBuffer,ot.indexBuffer,ot.segments)})(this,this.style.sky),this._showOverdrawInspector=A.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=F.length-1;this.currentLayer>=0;this.currentLayer--){const ue=this.style._layers[F[this.currentLayer]],ye=U[ue.source],Te=V[ue.source];this._renderTileClippingMasks(ue,Te,!1),this.renderLayer(this,ye,ue,Te,se)}this.renderPass="translucent";let fe=!1;for(this.currentLayer=0;this.currentLayer<F.length;this.currentLayer++){const ue=this.style._layers[F[this.currentLayer]],ye=U[ue.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(ue,se))continue;this.opaquePassEnabledForLayer()||fe||(fe=!0,se.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Te=(ue.type==="symbol"?ie:X)[ue.source];this._renderTileClippingMasks(ue,V[ue.source],!!this.renderToTexture),this.renderLayer(this,ye,ue,Te,se)}if(se.isRenderingGlobe&&(function(ue,ye,Te){const Ne=ue.context,Ge=Ne.gl,He=ue.useProgram("atmosphere"),et=new an(Ge.LEQUAL,an.ReadOnly,[0,1]),ct=ue.transform,Ze=(function(Ht,Ti){const Li=Ht.properties.get("position"),pi=[-Li.x,-Li.y,-Li.z],zi=s.ar(new Float64Array(16));return Ht.properties.get("anchor")==="map"&&(s.bg(zi,zi,Ti.rollInRadians),s.bh(zi,zi,-Ti.pitchInRadians),s.bg(zi,zi,Ti.bearingInRadians),s.bh(zi,zi,Ti.center.lat*Math.PI/180),s.bJ(zi,zi,-Ti.center.lng*Math.PI/180)),s.cg(pi,pi,zi),pi})(Te,ue.transform),ot=ct.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),At=ye.properties.get("atmosphere-blend")*ot.projectionTransition;if(At===0)return;const rt=er(ct.worldSize,ct.center.lat),St=ct.inverseProjectionMatrix,Xt=new Float64Array(4);Xt[3]=1,s.aH(Xt,Xt,ct.modelViewProjectionMatrix),Xt[0]/=Xt[3],Xt[1]/=Xt[3],Xt[2]/=Xt[3],Xt[3]=1,s.aH(Xt,Xt,St),Xt[0]/=Xt[3],Xt[1]/=Xt[3],Xt[2]/=Xt[3],Xt[3]=1;const Ut=((Ht,Ti,Li,pi,zi)=>({u_sun_pos:Ht,u_atmosphere_blend:Ti,u_globe_position:Li,u_globe_radius:pi,u_inv_proj_matrix:zi}))(Ze,At,[Xt[0],Xt[1],Xt[2]],rt,St),zt=Nc(Ne,ye);He.draw(Ne,Ge.TRIANGLES,et,aa.disabled,Un.alphaBlended,Vn.disabled,Ut,null,null,"atmosphere",zt.vertexBuffer,zt.indexBuffer,zt.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const ue=(function(ye,Te){let Ne=null;const Ge=Object.values(ye._layers).flatMap((Ze=>Ze.source&&!Ze.isHidden(Te)?[ye.tileManagers[Ze.source]]:[])),He=Ge.filter((Ze=>Ze.getSource().type==="vector")),et=Ge.filter((Ze=>Ze.getSource().type!=="vector")),ct=Ze=>{(!Ne||Ne.getSource().maxzoom<Ze.getSource().maxzoom)&&(Ne=Ze)};return He.forEach((Ze=>ct(Ze))),Ne||et.forEach((Ze=>ct(Ze))),Ne})(this.style,this.transform.zoom);ue&&(function(ye,Te,Ne){for(let Ge=0;Ge<Ne.length;Ge++)Wu(ye,Te,Ne[Ge])})(this,ue,ue.getVisibleCoordinates())}this.options.showPadding&&(function(ue){const ye=ue.transform.padding;Gu(ue,ue.transform.height-(ye.top||0),3,Ih),Gu(ue,ye.bottom||0,3,Uc),uc(ue,ye.left||0,3,Mh),uc(ue,ue.transform.width-(ye.right||0),3,Lh);const Te=ue.transform.centerPoint;(function(Ne,Ge,He,et){Au(Ne,Ge-1,He-10,2,20,et),Au(Ne,Ge-10,He-1,20,2,et)})(ue,Te.x,ue.transform.height-Te.y,Nl)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(c){if(!this.style||!this.style.map||!this.style.map.terrain)return;const A=this.terrainFacilitator.matrix,_=this.transform.modelViewProjectionMatrix;let C=this.terrainFacilitator.dirty;C||(C=c?!s.cj(A,_):!s.ck(A,_)),C||(C=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),C&&(s.cl(A,_),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(F,U){const V=F.context,X=V.gl,ie=F.transform,se=Un.unblended,fe=new an(X.LEQUAL,an.ReadWrite,[0,1]),ue=U.tileManager.getRenderableTiles(),ye=F.useProgram("terrainDepth");V.bindFramebuffer.set(U.getFramebuffer("depth").framebuffer),V.viewport.set([0,0,F.width/devicePixelRatio,F.height/devicePixelRatio]),V.clear({color:s.bp.transparent,depth:1});for(const Te of ue){const Ne=U.getTerrainMesh(Te.tileID),Ge=U.getTerrainData(Te.tileID),He=ie.getProjectionData({overscaledTileID:Te.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),et={u_ele_delta:U.getMeshFrameDelta(ie.zoom)};ye.draw(V,X.TRIANGLES,fe,aa.disabled,se,Vn.backCCW,et,Ge,He,"terrain",Ne.vertexBuffer,Ne.indexBuffer,Ne.segments)}V.bindFramebuffer.set(null),V.viewport.set([0,0,F.width,F.height])})(this,this.style.map.terrain),(function(F,U){const V=F.context,X=V.gl,ie=F.transform,se=Un.unblended,fe=new an(X.LEQUAL,an.ReadWrite,[0,1]),ue=U.getCoordsTexture(),ye=U.tileManager.getRenderableTiles(),Te=F.useProgram("terrainCoords");V.bindFramebuffer.set(U.getFramebuffer("coords").framebuffer),V.viewport.set([0,0,F.width/devicePixelRatio,F.height/devicePixelRatio]),V.clear({color:s.bp.transparent,depth:1}),U.coordsIndex=[];for(const Ne of ye){const Ge=U.getTerrainMesh(Ne.tileID),He=U.getTerrainData(Ne.tileID);V.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ue.texture);const et={u_terrain_coords_id:(255-U.coordsIndex.length)/255,u_texture:0,u_ele_delta:U.getMeshFrameDelta(ie.zoom)},ct=ie.getProjectionData({overscaledTileID:Ne.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Te.draw(V,X.TRIANGLES,fe,aa.disabled,se,Vn.backCCW,et,He,ct,"terrain",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments),U.coordsIndex.push(Ne.tileID.key)}V.bindFramebuffer.set(null),V.viewport.set([0,0,F.width,F.height])})(this,this.style.map.terrain))}renderLayer(c,A,_,C,F){_.isHidden(this.transform.zoom)||(_.type==="background"||_.type==="custom"||(C||[]).length)&&(this.id=_.id,s.cm(_)?(function(U,V,X,ie,se,fe){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:ue}=fe,ye=aa.disabled,Te=U.colorModeForRenderPass();(X._unevaluatedLayout.hasValue("text-variable-anchor")||X._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(Ne,Ge,He,et,ct,Ze,ot,At,rt){const St=Ge.transform,Xt=Ge.style.map.terrain,Ut=ct==="map",zt=Ze==="map";for(const Ht of Ne){const Ti=et.getTile(Ht),Li=Ti.getBucket(He);if(!Li||!Li.text||!Li.text.segments.get().length)continue;const pi=s.ay(Li.textSizeData,St.zoom),zi=s.aN(Ti,1,Ge.transform.zoom),ua=Ci(Ut,Ge.transform,zi),tr=He.layout.get("icon-text-fit")!=="none"&&Li.hasIconData();if(pi){const Rr=Math.pow(2,St.zoom-Ti.tileID.overscaledZ),gr=Xt?(Qr,mr)=>Xt.getElevation(Ht,Qr,mr):null;ju(Li,Ut,zt,rt,St,ua,Rr,pi,tr,s.aO(St,Ti,ot,At),Ht.toUnwrapped(),gr)}}})(ie,U,X,V,X.layout.get("text-rotation-alignment"),X.layout.get("text-pitch-alignment"),X.paint.get("text-translate"),X.paint.get("text-translate-anchor"),se),X.paint.get("icon-opacity").constantOr(1)!==0&&Ul(U,V,X,ie,!1,X.paint.get("icon-translate"),X.paint.get("icon-translate-anchor"),X.layout.get("icon-rotation-alignment"),X.layout.get("icon-pitch-alignment"),X.layout.get("icon-keep-upright"),ye,Te,ue),X.paint.get("text-opacity").constantOr(1)!==0&&Ul(U,V,X,ie,!0,X.paint.get("text-translate"),X.paint.get("text-translate-anchor"),X.layout.get("text-rotation-alignment"),X.layout.get("text-pitch-alignment"),X.layout.get("text-keep-upright"),ye,Te,ue),V.map.showCollisionBoxes&&(Al(U,V,X,ie,!0),Al(U,V,X,ie,!1))})(c,A,_,C,this.style.placement.variableOffsets,F):s.cn(_)?(function(U,V,X,ie,se){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=se,ue=X.paint.get("circle-opacity"),ye=X.paint.get("circle-stroke-width"),Te=X.paint.get("circle-stroke-opacity"),Ne=!X.layout.get("circle-sort-key").isConstant();if(ue.constantOr(1)===0&&(ye.constantOr(1)===0||Te.constantOr(1)===0))return;const Ge=U.context,He=Ge.gl,et=U.transform,ct=U.getDepthModeForSublayer(0,an.ReadOnly),Ze=aa.disabled,ot=U.colorModeForRenderPass(),At=[],rt=et.getCircleRadiusCorrection();for(let St=0;St<ie.length;St++){const Xt=ie[St],Ut=V.getTile(Xt),zt=Ut.getBucket(X);if(!zt)continue;const Ht=X.paint.get("circle-translate"),Ti=X.paint.get("circle-translate-anchor"),Li=s.aO(et,Ut,Ht,Ti),pi=zt.programConfigurations.get(X.id),zi=U.useProgram("circle",pi),ua=zt.layoutVertexBuffer,tr=zt.indexBuffer,Rr=U.style.map.terrain&&U.style.map.terrain.getTerrainData(Xt),gr={programConfiguration:pi,program:zi,layoutVertexBuffer:ua,indexBuffer:tr,uniformValues:Ch(U,Ut,X,Li,rt),terrainData:Rr,projectionData:et.getProjectionData({overscaledTileID:Xt,applyGlobeMatrix:!fe,applyTerrainMatrix:!0})};if(Ne){const Qr=zt.segments.get();for(const mr of Qr)At.push({segments:new s.aX([mr]),sortKey:mr.sortKey,state:gr})}else At.push({segments:zt.segments,sortKey:0,state:gr})}Ne&&At.sort(((St,Xt)=>St.sortKey-Xt.sortKey));for(const St of At){const{programConfiguration:Xt,program:Ut,layoutVertexBuffer:zt,indexBuffer:Ht,uniformValues:Ti,terrainData:Li,projectionData:pi}=St.state;Ut.draw(Ge,He.TRIANGLES,ct,Ze,ot,Vn.backCCW,Ti,Li,pi,X.id,zt,Ht,St.segments,X.paint,U.transform.zoom,Xt)}})(c,A,_,C,F):s.co(_)?(function(U,V,X,ie,se){if(X.paint.get("heatmap-opacity")===0)return;const fe=U.context,{isRenderingToTexture:ue,isRenderingGlobe:ye}=se;if(U.style.map.terrain){for(const Te of ie){const Ne=V.getTile(Te);V.hasRenderableParent(Te)||(U.renderPass==="offscreen"?Eh(U,Ne,X,Te,ye):U.renderPass==="translucent"&&kh(U,X,Te,ue,ye))}fe.viewport.set([0,0,U.width,U.height])}else U.renderPass==="offscreen"?(function(Te,Ne,Ge,He){const et=Te.context,ct=et.gl,Ze=Te.transform,ot=aa.disabled,At=new Un([ct.ONE,ct.ONE],s.bp.transparent,[!0,!0,!0,!0]);(function(rt,St,Xt){const Ut=rt.gl;rt.activeTexture.set(Ut.TEXTURE1),rt.viewport.set([0,0,St.width/4,St.height/4]);let zt=Xt.heatmapFbos.get(s.cd);zt?(Ut.bindTexture(Ut.TEXTURE_2D,zt.colorAttachment.get()),rt.bindFramebuffer.set(zt.framebuffer)):(zt=Rc(rt,St.width/4,St.height/4),Xt.heatmapFbos.set(s.cd,zt))})(et,Te,Ge),et.clear({color:s.bp.transparent});for(let rt=0;rt<He.length;rt++){const St=He[rt];if(Ne.hasRenderableParent(St))continue;const Xt=Ne.getTile(St),Ut=Xt.getBucket(Ge);if(!Ut)continue;const zt=Ut.programConfigurations.get(Ge.id),Ht=Te.useProgram("heatmap",zt),Ti=Ze.getProjectionData({overscaledTileID:St,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Li=Ze.getCircleRadiusCorrection();Ht.draw(et,ct.TRIANGLES,an.disabled,ot,At,Vn.backCCW,Oo(Xt,Ze.zoom,Ge.paint.get("heatmap-intensity"),Li),null,Ti,Ge.id,Ut.layoutVertexBuffer,Ut.indexBuffer,Ut.segments,Ge.paint,Ze.zoom,zt)}et.viewport.set([0,0,Te.width,Te.height])})(U,V,X,ie):U.renderPass==="translucent"&&(function(Te,Ne){const Ge=Te.context,He=Ge.gl;Ge.setColorMode(Te.colorModeForRenderPass());const et=Ne.heatmapFbos.get(s.cd);et&&(Ge.activeTexture.set(He.TEXTURE0),He.bindTexture(He.TEXTURE_2D,et.colorAttachment.get()),Ge.activeTexture.set(He.TEXTURE1),wo(Ge,Ne).bind(He.LINEAR,He.CLAMP_TO_EDGE),Te.useProgram("heatmapTexture").draw(Ge,He.TRIANGLES,an.disabled,aa.disabled,Te.colorModeForRenderPass(),Vn.disabled,ga(Te,Ne,0,1),null,null,Ne.id,Te.viewportBuffer,Te.quadTriangleIndexBuffer,Te.viewportSegments,Ne.paint,Te.transform.zoom))})(U,X)})(c,A,_,C,F):s.cp(_)?(function(U,V,X,ie,se){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=se,ue=X.paint.get("line-opacity"),ye=X.paint.get("line-width");if(ue.constantOr(1)===0||ye.constantOr(1)===0)return;const Te=U.getDepthModeForSublayer(0,an.ReadOnly),Ne=U.colorModeForRenderPass(),Ge=X.paint.get("line-dasharray"),He=Ge.constantOr(1),et=X.paint.get("line-pattern"),ct=et.constantOr(1),Ze=X.paint.get("line-gradient"),ot=X.getCrossfadeParameters();let At;At=ct?"linePattern":He&&Ze?"lineGradientSDF":He?"lineSDF":Ze?"lineGradient":"line";const rt=U.context,St=rt.gl,Xt=U.transform;let Ut=!0;for(const zt of ie){const Ht=V.getTile(zt);if(ct&&!Ht.patternsLoaded())continue;const Ti=Ht.getBucket(X);if(!Ti)continue;const Li=Ti.programConfigurations.get(X.id),pi=U.context.program.get(),zi=U.useProgram(At,Li),ua=Ut||zi.program!==pi,tr=U.style.map.terrain&&U.style.map.terrain.getTerrainData(zt),Rr=et.constantOr(null),gr=Ge&&Ge.constantOr(null);if(Rr&&Ht.imageAtlas){const io=Ht.imageAtlas,Cs=io.patternPositions[Rr.to.toString()],ps=io.patternPositions[Rr.from.toString()];Cs&&ps&&Li.setConstantPatternPositions(Cs,ps)}else if(gr){const io=X.layout.get("line-cap")==="round",Cs=U.lineAtlas.getDash(gr.to,io),ps=U.lineAtlas.getDash(gr.from,io);Li.setConstantDashPositions(Cs,ps)}const Qr=Xt.getProjectionData({overscaledTileID:zt,applyGlobeMatrix:!fe,applyTerrainMatrix:!0}),mr=Xt.getPixelScale();let os;ct?(os=T(U,Ht,X,mr,ot),Zo(rt,St,Ht,Li,ot)):He&&Ze?(os=z(U,Ht,X,mr,ot,Ti.lineClipsArray.length),bs(U,V,rt,St,X,Ti,zt,Li,ot)):He?(os=R(U,Ht,X,mr,ot),pr(U,rt,St,Li,ua,ot)):Ze?(os=k(U,Ht,X,mr,Ti.lineClipsArray.length),pl(U,V,rt,St,X,Ti,zt)):os=w(U,Ht,X,mr);const jr=U.stencilModeForClipping(zt);zi.draw(rt,St.TRIANGLES,Te,jr,Ne,Vn.disabled,os,tr,Qr,X.id,Ti.layoutVertexBuffer,Ti.indexBuffer,Ti.segments,X.paint,U.transform.zoom,Li,Ti.layoutVertexBuffer2),Ut=!1}})(c,A,_,C,F):s.cq(_)?(function(U,V,X,ie,se){const fe=X.paint.get("fill-color"),ue=X.paint.get("fill-opacity");if(ue.constantOr(1)===0)return;const{isRenderingToTexture:ye}=se,Te=U.colorModeForRenderPass(),Ne=X.paint.get("fill-pattern"),Ge=U.opaquePassEnabledForLayer()&&!Ne.constantOr(1)&&fe.constantOr(s.bp.transparent).a===1&&ue.constantOr(0)===1?"opaque":"translucent";if(U.renderPass===Ge){const He=U.getDepthModeForSublayer(1,U.renderPass==="opaque"?an.ReadWrite:an.ReadOnly);bo(U,V,X,ie,He,Te,!1,ye)}if(U.renderPass==="translucent"&&X.paint.get("fill-antialias")){const He=U.getDepthModeForSublayer(X.getPaintProperty("fill-outline-color")?2:0,an.ReadOnly);bo(U,V,X,ie,He,Te,!0,ye)}})(c,A,_,C,F):s.cr(_)?(function(U,V,X,ie,se){const fe=X.paint.get("fill-extrusion-opacity");if(fe===0)return;const{isRenderingToTexture:ue}=se;if(U.renderPass==="translucent"){const ye=new an(U.context.gl.LEQUAL,an.ReadWrite,U.depthRangeFor3D);if(fe!==1||X.paint.get("fill-extrusion-pattern").constantOr(1))oc(U,V,X,ie,ye,aa.disabled,Un.disabled,ue),oc(U,V,X,ie,ye,U.stencilModeFor3D(),U.colorModeForRenderPass(),ue);else{const Te=U.colorModeForRenderPass();oc(U,V,X,ie,ye,aa.disabled,Te,ue)}}})(c,A,_,C,F):s.cs(_)?(function(U,V,X,ie,se){if(U.renderPass!=="offscreen"&&U.renderPass!=="translucent")return;const{isRenderingToTexture:fe}=se,ue=U.context,ye=U.style.projection.useSubdivision,Te=U.getDepthModeForSublayer(0,an.ReadOnly),Ne=U.colorModeForRenderPass();if(U.renderPass==="offscreen")(function(Ge,He,et,ct,Ze,ot,At){const rt=Ge.context,St=rt.gl;for(const Xt of et){const Ut=He.getTile(Xt),zt=Ut.dem;if(!zt||!zt.data||!Ut.needsHillshadePrepare)continue;const Ht=zt.dim,Ti=zt.stride,Li=zt.getPixels();if(rt.activeTexture.set(St.TEXTURE1),rt.pixelStoreUnpackPremultiplyAlpha.set(!1),Ut.demTexture=Ut.demTexture||Ge.getTileTexture(Ti),Ut.demTexture){const zi=Ut.demTexture;zi.update(Li,{premultiply:!1}),zi.bind(St.NEAREST,St.CLAMP_TO_EDGE)}else Ut.demTexture=new s.T(rt,Li,St.RGBA,{premultiply:!1}),Ut.demTexture.bind(St.NEAREST,St.CLAMP_TO_EDGE);rt.activeTexture.set(St.TEXTURE0);let pi=Ut.fbo;if(!pi){const zi=new s.T(rt,{width:Ht,height:Ht,data:null},St.RGBA);zi.bind(St.LINEAR,St.CLAMP_TO_EDGE),pi=Ut.fbo=rt.createFramebuffer(Ht,Ht,!0,!1),pi.colorAttachment.set(zi.texture)}rt.bindFramebuffer.set(pi.framebuffer),rt.viewport.set([0,0,Ht,Ht]),Ge.useProgram("hillshadePrepare").draw(rt,St.TRIANGLES,Ze,ot,At,Vn.disabled,Se(Ut.tileID,zt),null,null,ct.id,Ge.rasterBoundsBuffer,Ge.quadTriangleIndexBuffer,Ge.rasterBoundsSegments),Ut.needsHillshadePrepare=!1}})(U,V,ie,X,Te,aa.disabled,Ne),ue.viewport.set([0,0,U.width,U.height]);else if(U.renderPass==="translucent")if(ye){const[Ge,He,et]=U.stencilConfigForOverlapTwoPass(ie);gl(U,V,X,et,Ge,Te,Ne,!1,fe),gl(U,V,X,et,He,Te,Ne,!0,fe)}else{const[Ge,He]=U.getStencilConfigForOverlapAndUpdateStencilID(ie);gl(U,V,X,He,Ge,Te,Ne,!1,fe)}})(c,A,_,C,F):s.ct(_)?(function(U,V,X,ie,se){if(U.renderPass!=="translucent"||!ie.length)return;const{isRenderingToTexture:fe}=se,ue=U.style.projection.useSubdivision,ye=U.getDepthModeForSublayer(0,an.ReadOnly),Te=U.colorModeForRenderPass();if(ue){const[Ne,Ge,He]=U.stencilConfigForOverlapTwoPass(ie);ml(U,V,X,He,Ne,ye,Te,!1,fe),ml(U,V,X,He,Ge,ye,Te,!0,fe)}else{const[Ne,Ge]=U.getStencilConfigForOverlapAndUpdateStencilID(ie);ml(U,V,X,Ge,Ne,ye,Te,!1,fe)}})(c,A,_,C,F):s.bU(_)?(function(U,V,X,ie,se){if(U.renderPass!=="translucent"||X.paint.get("raster-opacity")===0||!ie.length)return;const{isRenderingToTexture:fe}=se,ue=V.getSource(),ye=U.style.projection.useSubdivision;if(ue instanceof Fi)cc(U,V,X,ie,null,!1,!1,ue.tileCoords,ue.flippedWindingOrder,fe);else if(ye){const[Te,Ne,Ge]=U.stencilConfigForOverlapTwoPass(ie);cc(U,V,X,Ge,Te,!1,!0,lc,!1,fe),cc(U,V,X,Ge,Ne,!0,!0,lc,!1,fe)}else{const[Te,Ne]=U.getStencilConfigForOverlapAndUpdateStencilID(ie);cc(U,V,X,Ne,Te,!1,!0,lc,!1,fe)}})(c,A,_,C,F):s.cu(_)?(function(U,V,X,ie,se){const fe=X.paint.get("background-color"),ue=X.paint.get("background-opacity");if(ue===0)return;const{isRenderingToTexture:ye}=se,Te=U.context,Ne=Te.gl,Ge=U.style.projection,He=U.transform,et=He.tileSize,ct=X.paint.get("background-pattern");if(U.isPatternMissing(ct))return;const Ze=!ct&&fe.a===1&&ue===1&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass!==Ze)return;const ot=aa.disabled,At=U.getDepthModeForSublayer(0,Ze==="opaque"?an.ReadWrite:an.ReadOnly),rt=U.colorModeForRenderPass(),St=U.useProgram(ct?"backgroundPattern":"background"),Xt=ie||gn(He,{tileSize:et,terrain:U.style.map.terrain});ct&&(Te.activeTexture.set(Ne.TEXTURE0),U.imageManager.bind(U.context));const Ut=X.getCrossfadeParameters();for(const zt of Xt){const Ht=He.getProjectionData({overscaledTileID:zt,applyGlobeMatrix:!ye,applyTerrainMatrix:!0}),Ti=ct?Ot(ue,U,ct,{tileID:zt,tileSize:et},Ut):vt(ue,fe),Li=U.style.map.terrain&&U.style.map.terrain.getTerrainData(zt),pi=Ge.getMeshFromTileID(Te,zt.canonical,!1,!0,"raster");St.draw(Te,Ne.TRIANGLES,At,ot,rt,Vn.backCCW,Ti,Li,Ht,X.id,pi.vertexBuffer,pi.indexBuffer,pi.segments)}})(c,0,_,C,F):s.cv(_)&&(function(U,V,X,ie){const{isRenderingGlobe:se}=ie,fe=U.context,ue=X.implementation,ye=U.style.projection,Te=U.transform,Ne=Te.getProjectionDataForCustomLayer(se),Ge={farZ:Te.farZ,nearZ:Te.nearZ,fov:Te.fov*Math.PI/180,modelViewProjectionMatrix:Te.modelViewProjectionMatrix,projectionMatrix:Te.projectionMatrix,shaderData:{variantName:ye.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${ye.shaderPreludeCode.vertexSource}`,define:ye.shaderDefine},defaultProjectionData:Ne},He=ue.renderingMode?ue.renderingMode:"2d";if(U.renderPass==="offscreen"){const et=ue.prerender;et&&(U.setCustomLayerDefaults(),fe.setColorMode(U.colorModeForRenderPass()),et.call(ue,fe.gl,Ge),fe.setDirty(),U.setBaseState())}else if(U.renderPass==="translucent"){U.setCustomLayerDefaults(),fe.setColorMode(U.colorModeForRenderPass()),fe.setStencilMode(aa.disabled);const et=He==="3d"?U.getDepthModeFor3D():U.getDepthModeForSublayer(0,an.ReadOnly);fe.setDepthMode(et),ue.render(fe.gl,Ge),fe.setDirty(),U.setBaseState(),fe.bindFramebuffer.set(null)}})(c,0,_,F))}saveTileTexture(c){const A=this._tileTextures[c.size[0]];A?A.push(c):this._tileTextures[c.size[0]]=[c]}getTileTexture(c){const A=this._tileTextures[c];return A&&A.length>0?A.pop():null}isPatternMissing(c){if(!c)return!1;if(!c.from||!c.to)return!0;const A=this.imageManager.getPattern(c.from.toString()),_=this.imageManager.getPattern(c.to.toString());return!A||!_}useProgram(c,A,_=!1,C=[]){this.cache=this.cache||{};const F=!!this.style.map.terrain,U=this.style.projection,V=_?ia.projectionMercator:U.shaderPreludeCode,X=_?ge:U.shaderDefine,ie=c+(A?A.cacheKey:"")+`/${_?Ce:U.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(F?"/terrain":"")+(C?`/${C.join("/")}`:"");return this.cache[ie]||(this.cache[ie]=new qo(this.context,ia[c],A,Pi[c],this._showOverdrawInspector,F,V,X,C)),this.cache[ie]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var c,A;if(this._tileTextures){for(const _ in this._tileTextures){const C=this._tileTextures[_];if(C)for(const F of C)F.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((c=this.tileExtentMesh.vertexBuffer)===null||c===void 0||c.destroy()),this.tileExtentMesh&&((A=this.tileExtentMesh.indexBuffer)===null||A===void 0||A.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const _ in this.cache){const C=this.cache[_];C&&C.program&&this.context.gl.deleteProgram(C.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:c,drawingBufferHeight:A}=this.context.gl;return this.width!==c||this.height!==A}}function zc(M,c){let A,_=!1,C=null,F=null;const U=()=>{C=null,_&&(M.apply(F,A),C=setTimeout(U,c),_=!1)};return(...V)=>(_=!0,F=this,A=V,C||U(),C)}class $u{constructor(c){this._getCurrentHash=()=>{const A=window.location.hash.replace("#","");if(this._hashName){let _;return A.split("&").map((C=>C.split("="))).forEach((C=>{C[0]===this._hashName&&(_=C)})),(_&&_[1]||"").split("/")}return A.split("/")},this._onHashChange=()=>{const A=this._getCurrentHash();if(!this._isValidHash(A))return!1;const _=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(A[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+A[2],+A[1]],zoom:+A[0],bearing:_,pitch:+(A[4]||0)}),!0},this._updateHashUnthrottled=()=>{const A=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,A)},this._removeHash=()=>{const A=this._getCurrentHash();if(A.length===0)return;const _=A.join("/");let C=_;C.split("&").length>0&&(C=C.split("&")[0]),this._hashName&&(C=`${this._hashName}=${_}`);let F=window.location.hash.replace(C,"");F.startsWith("#&")?F=F.slice(0,1)+F.slice(2):F==="#"&&(F="");let U=window.location.href.replace(/(#.+)?$/,F);U=U.replace("&&","&"),window.history.replaceState(window.history.state,null,U)},this._updateHash=zc(this._updateHashUnthrottled,300),this._hashName=c&&encodeURIComponent(c)}addTo(c){return this._map=c,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(c){const A=this._map.getCenter(),_=Math.round(100*this._map.getZoom())/100,C=Math.ceil((_*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,C),U=Math.round(A.lng*F)/F,V=Math.round(A.lat*F)/F,X=this._map.getBearing(),ie=this._map.getPitch();let se="";if(se+=c?`/${U}/${V}/${_}`:`${_}/${V}/${U}`,(X||ie)&&(se+="/"+Math.round(10*X)/10),ie&&(se+=`/${Math.round(ie)}`),this._hashName){const fe=this._hashName;let ue=!1;const ye=window.location.hash.slice(1).split("&").map((Te=>{const Ne=Te.split("=")[0];return Ne===fe?(ue=!0,`${Ne}=${se}`):Te})).filter((Te=>Te));return ue||ye.push(`${fe}=${se}`),`#${ye.join("&")}`}return`#${se}`}_isValidHash(c){if(c.length<3||c.some(isNaN))return!1;try{new s.V(+c[2],+c[1])}catch{return!1}const A=+c[0],_=+(c[3]||0),C=+(c[4]||0);return A>=this._map.getMinZoom()&&A<=this._map.getMaxZoom()&&_>=-180&&_<=180&&C>=this._map.getMinPitch()&&C<=this._map.getMaxPitch()}}const Nt={linearity:.3,easing:s.cw(0,0,.3,1)},qi=s.e({deceleration:2500,maxSpeed:1400},Nt),en=s.e({deceleration:20,maxSpeed:1400},Nt),Sn=s.e({deceleration:1e3,maxSpeed:360},Nt),Ha=s.e({deceleration:1e3,maxSpeed:90},Nt),La=s.e({deceleration:1e3,maxSpeed:360},Nt);class Gs{constructor(c){this._map=c,this.clear()}clear(){this._inertiaBuffer=[]}record(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:I(),settings:c})}_drainInertiaBuffer(){const c=this._inertiaBuffer,A=I();for(;c.length>0&&A-c[0].time>160;)c.shift()}_onMoveEnd(c){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const A={zoom:0,bearing:0,pitch:0,roll:0,pan:new s.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)A.zoom+=F.zoomDelta||0,A.bearing+=F.bearingDelta||0,A.pitch+=F.pitchDelta||0,A.roll+=F.rollDelta||0,F.panDelta&&A.pan._add(F.panDelta),F.around&&(A.around=F.around),F.pinchAround&&(A.pinchAround=F.pinchAround);const _=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,C={};if(A.pan.mag()){const F=Dr(A.pan.mag(),_,s.e({},qi,c||{})),U=A.pan.mult(F.amount/A.pan.mag()),V=this._map.cameraHelper.handlePanInertia(U,this._map.transform);C.center=V.easingCenter,C.offset=V.easingOffset,rs(C,F)}if(A.zoom){const F=Dr(A.zoom,_,en);C.zoom=this._map.transform.zoom+F.amount,rs(C,F)}if(A.bearing){const F=Dr(A.bearing,_,Sn);C.bearing=this._map.transform.bearing+s.an(F.amount,-179,179),rs(C,F)}if(A.pitch){const F=Dr(A.pitch,_,Ha);C.pitch=this._map.transform.pitch+F.amount,rs(C,F)}if(A.roll){const F=Dr(A.roll,_,La);C.roll=this._map.transform.roll+s.an(F.amount,-179,179),rs(C,F)}if(C.zoom||C.bearing){const F=A.pinchAround===void 0?A.around:A.pinchAround;C.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),s.e(C,{noMoveStart:!0})}}function rs(M,c){(!M.duration||M.duration<c.duration)&&(M.duration=c.duration,M.easing=c.easing)}function Dr(M,c,A){const{maxSpeed:_,linearity:C,deceleration:F}=A,U=s.an(M*C/(c/1e3),-_,_),V=Math.abs(U)/(F*C);return{easing:A.easing,duration:1e3*V,amount:U*(V/2)}}class Kr extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,A,_,C={}){_=_ instanceof MouseEvent?_:new MouseEvent(c,_);const F=O.mousePos(A.getCanvas(),_),U=A.unproject(F);super(c,s.e({point:F,lngLat:U,originalEvent:_},C)),this._defaultPrevented=!1,this.target=A}}class zl extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,A,_){const C=c==="touchend"?_.changedTouches:_.touches,F=O.touchPos(A.getCanvasContainer(),C),U=F.map((X=>A.unproject(X))),V=F.reduce(((X,ie,se,fe)=>X.add(ie.div(fe.length))),new s.P(0,0));super(c,{points:F,point:V,lngLats:U,lngLat:A.unproject(V),originalEvent:_}),this._defaultPrevented=!1}}class Ph extends s.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(c,A,_){super(c,{originalEvent:_}),this._defaultPrevented=!1}}class Xu{constructor(c,A){this._map=c,this._clickTolerance=A.clickTolerance}reset(){delete this._mousedownPos}wheel(c){return this._firePreventable(new Ph(c.type,this._map,c))}mousedown(c,A){return this._mousedownPos=A,this._firePreventable(new Kr(c.type,this._map,c))}mouseup(c){this._map.fire(new Kr(c.type,this._map,c))}click(c,A){this._mousedownPos&&this._mousedownPos.dist(A)>=this._clickTolerance||this._map.fire(new Kr(c.type,this._map,c))}dblclick(c){return this._firePreventable(new Kr(c.type,this._map,c))}mouseover(c){this._map.fire(new Kr(c.type,this._map,c))}mouseout(c){this._map.fire(new Kr(c.type,this._map,c))}touchstart(c){return this._firePreventable(new zl(c.type,this._map,c))}touchmove(c){this._map.fire(new zl(c.type,this._map,c))}touchend(c){this._map.fire(new zl(c.type,this._map,c))}touchcancel(c){this._map.fire(new zl(c.type,this._map,c))}_firePreventable(c){if(this._map.fire(c),c.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _f{constructor(c){this._map=c}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(c){this._map.fire(new Kr(c.type,this._map,c))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Kr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(c){this._delayContextMenu?this._contextMenuEvent=c:this._ignoreContextMenu||this._map.fire(new Kr(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Yu{constructor(c){this._map=c}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(c){return this.transform.screenPointToLocation(s.P.convert(c),this._map.terrain)}}class Ku{constructor(c,A){this._map=c,this._tr=new Yu(c),this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=A.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(c,A){this.isEnabled()&&c.shiftKey&&c.button===0&&(O.disableDrag(),this._startPos=this._lastPos=A,this._active=!0)}mousemoveWindow(c,A){if(!this._active)return;const _=A;if(this._lastPos.equals(_)||!this._box&&_.dist(this._startPos)<this._clickTolerance)return;const C=this._startPos;this._lastPos=_,this._box||(this._box=O.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",c));const F=Math.min(C.x,_.x),U=Math.max(C.x,_.x),V=Math.min(C.y,_.y),X=Math.max(C.y,_.y);O.setTransform(this._box,`translate(${F}px,${V}px)`),this._box.style.width=U-F+"px",this._box.style.height=X-V+"px"}mouseupWindow(c,A){if(!this._active||c.button!==0)return;const _=this._startPos,C=A;if(this.reset(),O.suppressClick(),_.x!==C.x||_.y!==C.y)return this._map.fire(new s.l("boxzoomend",{originalEvent:c})),{cameraAnimation:F=>F.fitScreenCoordinates(_,C,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",c)}keydown(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(O.remove(this._box),this._box=null),O.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(c,A){return this._map.fire(new s.l(c,{originalEvent:A}))}}function Jo(M,c){if(M.length!==c.length)throw new Error(`The number of touches and points are not equal - touches ${M.length}, points ${c.length}`);const A={};for(let _=0;_<M.length;_++)A[M[_].identifier]=c[_];return A}class Zi{constructor(c){this.reset(),this.numTouches=c.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(c,A,_){(this.centroid||_.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),_.length===this.numTouches&&(this.centroid=(function(C){const F=new s.P(0,0);for(const U of C)F._add(U);return F.div(C.length)})(A),this.touches=Jo(_,A)))}touchmove(c,A,_){if(this.aborted||!this.centroid)return;const C=Jo(_,A);for(const F in this.touches){const U=C[F];(!U||U.dist(this.touches[F])>30)&&(this.aborted=!0)}}touchend(c,A,_){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),_.length===0){const C=!this.aborted&&this.centroid;if(this.reset(),C)return C}}}class vd{constructor(c){this.singleTap=new Zi(c),this.numTaps=c.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(c,A,_){this.singleTap.touchstart(c,A,_)}touchmove(c,A,_){this.singleTap.touchmove(c,A,_)}touchend(c,A,_){const C=this.singleTap.touchend(c,A,_);if(C){const F=c.timeStamp-this.lastTime<500,U=!this.lastTap||this.lastTap.dist(C)<30;if(F&&U||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=C,this.count===this.numTaps)return this.reset(),C}}}class Xe{constructor(c){this._tr=new Yu(c),this._zoomIn=new vd({numTouches:1,numTaps:2}),this._zoomOut=new vd({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(c,A,_){this._zoomIn.touchstart(c,A,_),this._zoomOut.touchstart(c,A,_)}touchmove(c,A,_){this._zoomIn.touchmove(c,A,_),this._zoomOut.touchmove(c,A,_)}touchend(c,A,_){const C=this._zoomIn.touchend(c,A,_),F=this._zoomOut.touchend(c,A,_),U=this._tr;return C?(this._active=!0,c.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:V=>V.easeTo({duration:300,zoom:U.zoom+1,around:U.unproject(C)},{originalEvent:c})}):F?(this._active=!0,c.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:V=>V.easeTo({duration:300,zoom:U.zoom-1,around:U.unproject(F)},{originalEvent:c})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hi{constructor(c){this._enabled=!!c.enable,this._moveStateManager=c.moveStateManager,this._clickTolerance=c.clickTolerance||1,this._moveFunction=c.move,this._activateOnStart=!!c.activateOnStart,c.assignEvents(this),this.reset()}reset(c){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(c)}_move(...c){const A=this._moveFunction(...c);if(A.bearingDelta||A.pitchDelta||A.rollDelta||A.around||A.panDelta)return this._active=!0,A}dragStart(c,A){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(c)&&(this._moveStateManager.startMove(c),this._lastPoint=Array.isArray(A)?A[0]:A,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(c,A){if(!this.isEnabled())return;const _=this._lastPoint;if(!_)return;if(c.preventDefault(),!this._moveStateManager.isValidMoveEvent(c))return void this.reset(c);const C=Array.isArray(A)?A[0]:A;return!this._moved&&C.dist(_)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=C,this._move(_,C))}dragEnd(c){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(c)&&(this._moved&&O.suppressClick(),this.reset(c))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const xi=0,En=2,ln={[xi]:1,[En]:2};class jn{constructor(c){this._correctEvent=c.checkCorrectEvent}startMove(c){const A=O.mouseButton(c);this._eventButton=A}endMove(c){delete this._eventButton}isValidStartEvent(c){return this._correctEvent(c)}isValidMoveEvent(c){return!(function(A,_){const C=ln[_];return A.buttons===void 0||(A.buttons&C)!==C})(c,this._eventButton)}isValidEndEvent(c){return O.mouseButton(c)===this._eventButton}}class ma{constructor(){this._firstTouch=void 0}_isOneFingerTouch(c){return c.targetTouches.length===1}_isSameTouchEvent(c){return c.targetTouches[0].identifier===this._firstTouch}startMove(c){this._firstTouch=c.targetTouches[0].identifier}endMove(c){delete this._firstTouch}isValidStartEvent(c){return this._isOneFingerTouch(c)}isValidMoveEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}isValidEndEvent(c){return this._isOneFingerTouch(c)&&this._isSameTouchEvent(c)}}class Er{constructor(c=new jn({checkCorrectEvent:()=>!0}),A=new ma){this.mouseMoveStateManager=c,this.oneFingerTouchMoveStateManager=A}_executeRelevantHandler(c,A,_){return c instanceof MouseEvent?A(c):typeof TouchEvent<"u"&&c instanceof TouchEvent?_(c):void 0}startMove(c){this._executeRelevantHandler(c,(A=>this.mouseMoveStateManager.startMove(A)),(A=>this.oneFingerTouchMoveStateManager.startMove(A)))}endMove(c){this._executeRelevantHandler(c,(A=>this.mouseMoveStateManager.endMove(A)),(A=>this.oneFingerTouchMoveStateManager.endMove(A)))}isValidStartEvent(c){return this._executeRelevantHandler(c,(A=>this.mouseMoveStateManager.isValidStartEvent(A)),(A=>this.oneFingerTouchMoveStateManager.isValidStartEvent(A)))}isValidMoveEvent(c){return this._executeRelevantHandler(c,(A=>this.mouseMoveStateManager.isValidMoveEvent(A)),(A=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(A)))}isValidEndEvent(c){return this._executeRelevantHandler(c,(A=>this.mouseMoveStateManager.isValidEndEvent(A)),(A=>this.oneFingerTouchMoveStateManager.isValidEndEvent(A)))}}const qr=M=>{M.mousedown=M.dragStart,M.mousemoveWindow=M.dragMove,M.mouseup=M.dragEnd,M.contextmenu=c=>{c.preventDefault()}};class Dh{constructor(c,A){this._clickTolerance=c.clickTolerance||1,this._map=A,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new s.P(0,0)}_shouldBePrevented(c){return c<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(c,A,_){return this._calculateTransform(c,A,_)}touchmove(c,A,_){if(this._active){if(!this._shouldBePrevented(_.length))return c.preventDefault(),this._calculateTransform(c,A,_);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",c)}}touchend(c,A,_){this._calculateTransform(c,A,_),this._active&&this._shouldBePrevented(_.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(c,A,_){_.length>0&&(this._active=!0);const C=Jo(_,A),F=new s.P(0,0),U=new s.P(0,0);let V=0;for(const ie in C){const se=C[ie],fe=this._touches[ie];fe&&(F._add(se),U._add(se.sub(fe)),V++,C[ie]=se)}if(this._touches=C,this._shouldBePrevented(V)||!U.mag())return;const X=U.div(V);return this._sum._add(X),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(V),panDelta:X}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ss{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(c,A,_){this._firstTwoTouches||_.length<2||(this._firstTwoTouches=[_[0].identifier,_[1].identifier],this._start([A[0],A[1]]))}touchmove(c,A,_){if(!this._firstTwoTouches)return;c.preventDefault();const[C,F]=this._firstTwoTouches,U=Co(_,A,C),V=Co(_,A,F);if(!U||!V)return;const X=this._aroundCenter?null:U.add(V).div(2);return this._move([U,V],X,c)}touchend(c,A,_){if(!this._firstTwoTouches)return;const[C,F]=this._firstTwoTouches,U=Co(_,A,C),V=Co(_,A,F);U&&V||(this._active&&O.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Co(M,c,A){for(let _=0;_<M.length;_++)if(M[_].identifier===A)return c[_]}function wd(M,c){return Math.log(M/c)/Math.LN2}class Fg extends ss{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(c){this._startDistance=this._distance=c[0].dist(c[1])}_move(c,A){const _=this._distance;if(this._distance=c[0].dist(c[1]),this._active||!(Math.abs(wd(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:wd(this._distance,_),pinchAround:A}}}function ly(M,c){return 180*M.angleWith(c)/Math.PI}class Pg extends ss{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(c){this._startVector=this._vector=c[0].sub(c[1]),this._minDiameter=c[0].dist(c[1])}_move(c,A,_){const C=this._vector;if(this._vector=c[0].sub(c[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ly(this._vector,C),pinchAround:A}}_isBelowThreshold(c){this._minDiameter=Math.min(this._minDiameter,c.mag());const A=25/(Math.PI*this._minDiameter)*360,_=ly(c,this._startVector);return Math.abs(_)<A}}function Dg(M){return Math.abs(M.y)>Math.abs(M.x)}class cy extends ss{constructor(c){super(),this._currentTouchCount=0,this._map=c}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(c,A,_){super.touchstart(c,A,_),this._currentTouchCount=_.length}_start(c){this._lastPoints=c,Dg(c[0].sub(c[1]))&&(this._valid=!1)}_move(c,A,_){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const C=c[0].sub(this._lastPoints[0]),F=c[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(C,F,_.timeStamp),this._valid?(this._lastPoints=c,this._active=!0,{pitchDelta:(C.y+F.y)/2*-.5}):void 0}gestureBeginsVertically(c,A,_){if(this._valid!==void 0)return this._valid;const C=c.mag()>=2,F=A.mag()>=2;if(!C&&!F)return;if(!C||!F)return this._firstMove===void 0&&(this._firstMove=_),_-this._firstMove<100&&void 0;const U=c.y>0==A.y>0;return Dg(c)&&Dg(A)&&U}}const qu={panStep:100,bearingStep:15,pitchStep:10};class cr{constructor(c){this._tr=new Yu(c);const A=qu;this._panStep=A.panStep,this._bearingStep=A.bearingStep,this._pitchStep=A.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(c){if(c.altKey||c.ctrlKey||c.metaKey)return;let A=0,_=0,C=0,F=0,U=0;switch(c.keyCode){case 61:case 107:case 171:case 187:A=1;break;case 189:case 109:case 173:A=-1;break;case 37:c.shiftKey?_=-1:(c.preventDefault(),F=-1);break;case 39:c.shiftKey?_=1:(c.preventDefault(),F=1);break;case 38:c.shiftKey?C=1:(c.preventDefault(),U=-1);break;case 40:c.shiftKey?C=-1:(c.preventDefault(),U=1);break;default:return}return this._rotationDisabled&&(_=0,C=0),{cameraAnimation:V=>{const X=this._tr;V.easeTo({duration:300,easeId:"keyboardHandler",easing:Qv,zoom:A?Math.round(X.zoom)+A*(c.shiftKey?2:1):X.zoom,bearing:X.bearing+_*this._bearingStep,pitch:X.pitch+C*this._pitchStep,offset:[-F*this._panStep,-U*this._panStep],center:X.center},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Qv(M){return M*(2-M)}const vf=4.000244140625,jA=1/450;class VA{constructor(c,A){this._onTimeout=_=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)},this._map=c,this._tr=new Yu(c),this._triggerRenderFrame=A,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=jA}setZoomRate(c){this._defaultZoomRate=c}setWheelZoomRate(c){this._wheelZoomRate=c}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!c&&c.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(c){return!!this._map.cooperativeGestures.isEnabled()&&!(c.ctrlKey||this._map.cooperativeGestures.isBypassed(c))}wheel(c){if(!this.isEnabled())return;if(this._shouldBePrevented(c))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",c);let A=c.deltaMode===WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY;const _=I(),C=_-(this._lastWheelEventTime||0);this._lastWheelEventTime=_,A!==0&&A%vf==0?this._type="wheel":A!==0&&Math.abs(A)<4?this._type="trackpad":C>400?(this._type=null,this._lastValue=A,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(C*A)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,A+=this._lastValue)),c.shiftKey&&A&&(A/=4),this._type&&(this._lastWheelEvent=c,this._delta-=A,this._active||this._start(c)),c.preventDefault()}_start(c){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const A=O.mousePos(this._map.getCanvas(),c),_=this._tr;this._aroundPoint=this._aroundCenter?_.transform.locationToScreenPoint(s.V.convert(_.center)):A,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const c=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const V=c.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=V),typeof this._targetZoom=="number"&&(this._targetZoom+=V)}if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>vf?this._wheelZoomRate:this._defaultZoomRate;let X=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&X!==0&&(X=1/X);const ie=typeof this._targetZoom!="number"?c.scale:s.aq(this._targetZoom);this._targetZoom=c.applyConstrain(c.getCameraLngLat(),s.at(ie*X)).zoom,this._type==="wheel"&&(this._startZoom=c.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const A=typeof this._targetZoom!="number"?c.zoom:this._targetZoom,_=this._startZoom,C=this._easing;let F,U=!1;if(this._type==="wheel"&&_&&C){const V=I()-this._lastWheelEventTime,X=Math.min((V+5)/200,1),ie=C(X);F=s.G.number(_,A,ie),X<1?this._frameId||(this._frameId=!0):U=!0}else F=A,U=!0;return this._active=!0,U&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=F,{noInertia:!0,needsRenderFrame:!U,zoomDelta:F-c.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(c){let A=s.cy;if(this._prevEase){const _=this._prevEase,C=(I()-_.start)/_.duration,F=_.easing(C+.01)-_.easing(C),U=.27/Math.sqrt(F*F+1e-4)*.01,V=Math.sqrt(.0729-U*U);A=s.cw(U,V,.25,1)}return this._prevEase={start:I(),duration:c,easing:A},A}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Rg{constructor(c,A){this._clickZoom=c,this._tapZoom=A}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class uy{constructor(c){this._tr=new Yu(c),this.reset()}reset(){this._active=!1}dblclick(c,A){return c.preventDefault(),{cameraAnimation:_=>{_.easeTo({duration:300,zoom:this._tr.zoom+(c.shiftKey?-1:1),around:this._tr.unproject(A)},{originalEvent:c})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hy{constructor(){this._tap=new vd({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(c,A,_){if(!this._swipePoint)if(this._tapTime){const C=A[0],F=c.timeStamp-this._tapTime<500,U=this._tapPoint.dist(C)<30;F&&U?_.length>0&&(this._swipePoint=C,this._swipeTouch=_[0].identifier):this.reset()}else this._tap.touchstart(c,A,_)}touchmove(c,A,_){if(this._tapTime){if(this._swipePoint){if(_[0].identifier!==this._swipeTouch)return;const C=A[0],F=C.y-this._swipePoint.y;return this._swipePoint=C,c.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(c,A,_)}touchend(c,A,_){if(this._tapTime)this._swipePoint&&_.length===0&&this.reset();else{const C=this._tap.touchend(c,A,_);C&&(this._tapTime=c.timeStamp,this._tapPoint=C)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dy{constructor(c,A,_){this._el=c,this._mousePan=A,this._touchPan=_}enable(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class hc{constructor(c,A,_,C){this._pitchWithRotate=c.pitchWithRotate,this._rollEnabled=c.rollEnabled,this._mouseRotate=A,this._mousePitch=_,this._mouseRoll=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class wf{constructor(c,A,_,C){this._el=c,this._touchZoom=A,this._touchRotate=_,this._tapDragZoom=C,this._rotationDisabled=!1,this._enabled=!0}enable(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class kn{constructor(c,A){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=c,this._options=A,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const c=this._map.getCanvasContainer();c.classList.add("maplibregl-cooperative-gestures"),this._container=O.create("div","maplibregl-cooperative-gesture-screen",c);let A=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(A=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const _=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),C=document.createElement("div");C.className="maplibregl-desktop-message",C.textContent=A,this._container.appendChild(C);const F=document.createElement("div");F.className="maplibregl-mobile-message",F.textContent=_,this._container.appendChild(F),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(O.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(c){return c[this._bypassKey]}notifyGestureBlocked(c,A){this._enabled&&(this._map.fire(new s.l("cooperativegestureprevented",{gestureType:c,originalEvent:A})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const Gn=M=>M.zoom||M.drag||M.roll||M.pitch||M.rotate;class bf extends s.l{}function GA(M){return M.panDelta&&M.panDelta.mag()||M.zoomDelta||M.bearingDelta||M.pitchDelta||M.rollDelta}class WA{constructor(c,A){this.handleWindowEvent=C=>{this.handleEvent(C,`${C.type}Window`)},this.handleEvent=(C,F)=>{if(C.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const U=C.type==="renderFrame"?void 0:C,V={needsRenderFrame:!1},X={},ie={};for(const{handlerName:ue,handler:ye,allowed:Te}of this._handlers){if(!ye.isEnabled())continue;let Ne;if(this._blockedByActive(ie,Te,ue))ye.reset();else if(ye[F||C.type]){if(s.cz(C,F||C.type)){const Ge=O.mousePos(this._map.getCanvas(),C);Ne=ye[F||C.type](C,Ge)}else if(s.cA(C,F||C.type)){const Ge=this._getMapTouches(C.touches),He=O.touchPos(this._map.getCanvas(),Ge);Ne=ye[F||C.type](C,He,Ge)}else s.cB(F||C.type)||(Ne=ye[F||C.type](C));this.mergeHandlerResult(V,X,Ne,ue,U),Ne&&Ne.needsRenderFrame&&this._triggerRenderFrame()}(Ne||ye.isActive())&&(ie[ue]=ye)}const se={};for(const ue in this._previousActiveHandlers)ie[ue]||(se[ue]=U);this._previousActiveHandlers=ie,(Object.keys(se).length||GA(V))&&(this._changes.push([V,X,se]),this._triggerRenderFrame()),(Object.keys(ie).length||GA(V))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:fe}=V;fe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fe(this._map))},this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Gs(c),this._bearingSnap=A.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(A);const _=this._el;this._listeners=[[_,"touchstart",{passive:!0}],[_,"touchmove",{passive:!1}],[_,"touchend",void 0],[_,"touchcancel",void 0],[_,"mousedown",void 0],[_,"mousemove",void 0],[_,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[_,"mouseover",void 0],[_,"mouseout",void 0],[_,"dblclick",void 0],[_,"click",void 0],[_,"keydown",{capture:!1}],[_,"keyup",void 0],[_,"wheel",{passive:!1}],[_,"contextmenu",void 0],[window,"blur",void 0]];for(const[C,F,U]of this._listeners)O.addEventListener(C,F,C===document?this.handleWindowEvent:this.handleEvent,U)}destroy(){for(const[c,A,_]of this._listeners)O.removeEventListener(c,A,c===document?this.handleWindowEvent:this.handleEvent,_)}_addDefaultHandlers(c){const A=this._map,_=A.getCanvasContainer();this._add("mapEvent",new Xu(A,c));const C=A.boxZoom=new Ku(A,c);this._add("boxZoom",C),c.interactive&&c.boxZoom&&C.enable();const F=A.cooperativeGestures=new kn(A,c.cooperativeGestures);this._add("cooperativeGestures",F),c.cooperativeGestures&&F.enable();const U=new Xe(A),V=new uy(A);A.doubleClickZoom=new Rg(V,U),this._add("tapZoom",U),this._add("clickZoom",V),c.interactive&&c.doubleClickZoom&&A.doubleClickZoom.enable();const X=new hy;this._add("tapDragZoom",X);const ie=A.touchPitch=new cy(A);this._add("touchPitch",ie),c.interactive&&c.touchPitch&&A.touchPitch.enable(c.touchPitch);const se=()=>A.project(A.getCenter()),fe=(function({enable:Ze,clickTolerance:ot,aroundCenter:At=!0,minPixelCenterThreshold:rt=100,rotateDegreesPerPixelMoved:St=.8},Xt){const Ut=new jn({checkCorrectEvent:zt=>O.mouseButton(zt)===0&&zt.ctrlKey||O.mouseButton(zt)===2&&!zt.ctrlKey});return new hi({clickTolerance:ot,move:(zt,Ht)=>{const Ti=Xt();if(At&&Math.abs(Ti.y-zt.y)>rt)return{bearingDelta:s.cx(new s.P(zt.x,Ht.y),Ht,Ti)};let Li=(Ht.x-zt.x)*St;return At&&Ht.y<Ti.y&&(Li=-Li),{bearingDelta:Li}},moveStateManager:Ut,enable:Ze,assignEvents:qr})})(c,se),ue=(function({enable:Ze,clickTolerance:ot,pitchDegreesPerPixelMoved:At=-.5}){const rt=new jn({checkCorrectEvent:St=>O.mouseButton(St)===0&&St.ctrlKey||O.mouseButton(St)===2});return new hi({clickTolerance:ot,move:(St,Xt)=>({pitchDelta:(Xt.y-St.y)*At}),moveStateManager:rt,enable:Ze,assignEvents:qr})})(c),ye=(function({enable:Ze,clickTolerance:ot,rollDegreesPerPixelMoved:At=.3},rt){const St=new jn({checkCorrectEvent:Xt=>O.mouseButton(Xt)===2&&Xt.ctrlKey});return new hi({clickTolerance:ot,move:(Xt,Ut)=>{const zt=rt();let Ht=(Ut.x-Xt.x)*At;return Ut.y<zt.y&&(Ht=-Ht),{rollDelta:Ht}},moveStateManager:St,enable:Ze,assignEvents:qr})})(c,se);A.dragRotate=new hc(c,fe,ue,ye),this._add("mouseRotate",fe,["mousePitch"]),this._add("mousePitch",ue,["mouseRotate","mouseRoll"]),this._add("mouseRoll",ye,["mousePitch"]),c.interactive&&c.dragRotate&&A.dragRotate.enable();const Te=(function({enable:Ze,clickTolerance:ot}){const At=new jn({checkCorrectEvent:rt=>O.mouseButton(rt)===0&&!rt.ctrlKey});return new hi({clickTolerance:ot,move:(rt,St)=>({around:St,panDelta:St.sub(rt)}),activateOnStart:!0,moveStateManager:At,enable:Ze,assignEvents:qr})})(c),Ne=new Dh(c,A);A.dragPan=new dy(_,Te,Ne),this._add("mousePan",Te),this._add("touchPan",Ne,["touchZoom","touchRotate"]),c.interactive&&c.dragPan&&A.dragPan.enable(c.dragPan);const Ge=new Pg,He=new Fg;A.touchZoomRotate=new wf(_,He,Ge,X),this._add("touchRotate",Ge,["touchPan","touchZoom"]),this._add("touchZoom",He,["touchPan","touchRotate"]),c.interactive&&c.touchZoomRotate&&A.touchZoomRotate.enable(c.touchZoomRotate),this._add("blockableMapEvent",new _f(A));const et=A.scrollZoom=new VA(A,(()=>this._triggerRenderFrame()));this._add("scrollZoom",et,["mousePan"]),c.interactive&&c.scrollZoom&&A.scrollZoom.enable(c.scrollZoom);const ct=A.keyboard=new cr(A);this._add("keyboard",ct),c.interactive&&c.keyboard&&A.keyboard.enable()}_add(c,A,_){this._handlers.push({handlerName:c,handler:A,allowed:_}),this._handlersById[c]=A}stop(c){if(!this._updatingCamera){for(const{handler:A}of this._handlers)A.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}}isActive(){for(const{handler:c}of this._handlers)if(c.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Gn(this._eventsInProgress)||this.isZooming()}_blockedByActive(c,A,_){for(const C in c)if(C!==_&&(!A||A.indexOf(C)<0))return!0;return!1}_getMapTouches(c){const A=[];for(const _ of c)this._el.contains(_.target)&&A.push(_);return A}mergeHandlerResult(c,A,_,C,F){if(!_)return;s.e(c,_);const U={handlerName:C,originalEvent:_.originalEvent||F};_.zoomDelta!==void 0&&(A.zoom=U),_.panDelta!==void 0&&(A.drag=U),_.rollDelta!==void 0&&(A.roll=U),_.pitchDelta!==void 0&&(A.pitch=U),_.bearingDelta!==void 0&&(A.rotate=U)}_applyChanges(){const c={},A={},_={};for(const[C,F,U]of this._changes)C.panDelta&&(c.panDelta=(c.panDelta||new s.P(0,0))._add(C.panDelta)),C.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+C.zoomDelta),C.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+C.bearingDelta),C.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+C.pitchDelta),C.rollDelta&&(c.rollDelta=(c.rollDelta||0)+C.rollDelta),C.around!==void 0&&(c.around=C.around),C.pinchAround!==void 0&&(c.pinchAround=C.pinchAround),C.noInertia&&(c.noInertia=C.noInertia),s.e(A,F),s.e(_,U);this._updateMapTransform(c,A,_),this._changes=[]}_updateMapTransform(c,A,_){const C=this._map,F=C._getTransformForUpdate(),U=C.terrain;if(!(GA(c)||U&&this._terrainMovement))return this._fireEvents(A,_,!0);C._stop(!0);let{panDelta:V,zoomDelta:X,bearingDelta:ie,pitchDelta:se,rollDelta:fe,around:ue,pinchAround:ye}=c;ye!==void 0&&(ue=ye),ue=ue||C.transform.centerPoint,U&&!F.isPointOnMapSurface(ue)&&(ue=F.centerPoint);const Te={panDelta:V,zoomDelta:X,rollDelta:fe,pitchDelta:se,bearingDelta:ie,around:ue};this._map.cameraHelper.useGlobeControls&&!F.isPointOnMapSurface(ue)&&(ue=F.centerPoint);const Ne=ue.distSqr(F.centerPoint)<.01?F.center:F.screenPointToLocation(V?ue.sub(V):ue);this._handleMapControls({terrain:U,tr:F,deltasForHelper:Te,preZoomAroundLoc:Ne,combinedEventsInProgress:A,panDelta:V}),C._applyUpdatedTransform(F),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(A,_,!0)}_handleMapControls({terrain:c,tr:A,deltasForHelper:_,preZoomAroundLoc:C,combinedEventsInProgress:F,panDelta:U}){const V=this._map.cameraHelper;if(V.handleMapControlsRollPitchBearingZoom(_,A),c)return V.useGlobeControls?(this._terrainMovement||!F.drag&&!F.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void V.handleMapControlsPan(_,A,C)):this._terrainMovement||!F.drag&&!F.zoom?void(F.drag&&this._terrainMovement&&U?A.setCenter(A.screenPointToLocation(A.centerPoint.sub(U))):V.handleMapControlsPan(_,A,C)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void V.handleMapControlsPan(_,A,C));V.handleMapControlsPan(_,A,C)}_fireEvents(c,A,_){const C=Gn(this._eventsInProgress),F=Gn(c),U={};for(const fe in c){const{originalEvent:ue}=c[fe];this._eventsInProgress[fe]||(U[`${fe}start`]=ue),this._eventsInProgress[fe]=c[fe]}!C&&F&&this._fireEvent("movestart",F.originalEvent);for(const fe in U)this._fireEvent(fe,U[fe]);F&&this._fireEvent("move",F.originalEvent);for(const fe in c){const{originalEvent:ue}=c[fe];this._fireEvent(fe,ue)}const V={};let X;for(const fe in this._eventsInProgress){const{handlerName:ue,originalEvent:ye}=this._eventsInProgress[fe];this._handlersById[ue].isActive()||(delete this._eventsInProgress[fe],X=A[ue]||ye,V[`${fe}end`]=X)}for(const fe in V)this._fireEvent(fe,V[fe]);const ie=Gn(this._eventsInProgress),se=(C||F)&&!ie;if(se&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const fe=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&fe.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(fe)}if(_&&se){this._updatingCamera=!0;const fe=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ue=ye=>ye!==0&&-this._bearingSnap<ye&&ye<this._bearingSnap;!fe||!fe.essential&&S.prefersReducedMotion?(this._map.fire(new s.l("moveend",{originalEvent:X})),ue(this._map.getBearing())&&this._map.resetNorth()):(ue(fe.bearing||this._map.getBearing())&&(fe.bearing=0),fe.freezeElevation=!0,this._map.easeTo(fe,{originalEvent:X})),this._updatingCamera=!1}}_fireEvent(c,A){this._map.fire(new s.l(c,A?{originalEvent:A}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((c=>{delete this._frameId,this.handleEvent(new bf("renderFrame",{timeStamp:c})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class No extends s.E{constructor(c,A,_){super(),this._renderFrameCallback=()=>{const C=Math.min((I()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(C)),C<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=c,this._bearingSnap=_.bearingSnap,this.cameraHelper=A,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(c,A){c.apply(this.transform),this.transform=c,this.cameraHelper=A}getCenter(){return new s.V(this.transform.center.lng,this.transform.center.lat)}setCenter(c,A){return this.jumpTo({center:c},A)}getCenterElevation(){return this.transform.elevation}setCenterElevation(c,A){return this.jumpTo({elevation:c},A),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(c){this._centerClampedToGround=c}panBy(c,A,_){return c=s.P.convert(c).mult(-1),this.panTo(this.transform.center,s.e({offset:c},A),_)}panTo(c,A,_){return this.easeTo(s.e({center:c},A),_)}getZoom(){return this.transform.zoom}setZoom(c,A){return this.jumpTo({zoom:c},A),this}zoomTo(c,A,_){return this.easeTo(s.e({zoom:c},A),_)}zoomIn(c,A){return this.zoomTo(this.getZoom()+1,c,A),this}zoomOut(c,A){return this.zoomTo(this.getZoom()-1,c,A),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(c,A){return c!=this.transform.fov&&(this.transform.setFov(c),this.fire(new s.l("movestart",A)).fire(new s.l("move",A)).fire(new s.l("moveend",A))),this}getBearing(){return this.transform.bearing}setBearing(c,A){return this.jumpTo({bearing:c},A),this}getPadding(){return this.transform.padding}setPadding(c,A){return this.jumpTo({padding:c},A),this}rotateTo(c,A,_){return this.easeTo(s.e({bearing:c},A),_)}resetNorth(c,A){return this.rotateTo(0,s.e({duration:1e3},c),A),this}resetNorthPitch(c,A){return this.easeTo(s.e({bearing:0,pitch:0,roll:0,duration:1e3},c),A),this}snapToNorth(c,A){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(c,A):this}getPitch(){return this.transform.pitch}setPitch(c,A){return this.jumpTo({pitch:c},A),this}getRoll(){return this.transform.roll}setRoll(c,A){return this.jumpTo({roll:c},A),this}cameraForBounds(c,A){c=Ye.convert(c).adjustAntiMeridian();const _=A&&A.bearing||0;return this._cameraForBoxAndBearing(c.getNorthWest(),c.getSouthEast(),_,A)}_cameraForBoxAndBearing(c,A,_,C){const F={top:0,bottom:0,right:0,left:0};if(typeof(C=s.e({padding:F,offset:[0,0],maxZoom:this.transform.maxZoom},C)).padding=="number"){const ie=C.padding;C.padding={top:ie,bottom:ie,right:ie,left:ie}}const U=s.e(F,C.padding);C.padding=U;const V=this.transform,X=new Ye(c,A);return this.cameraHelper.cameraForBoxAndBearing(C,U,X,_,V)}fitBounds(c,A,_){return this._fitInternal(this.cameraForBounds(c,A),A,_)}fitScreenCoordinates(c,A,_,C,F){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(s.P.convert(c)),this.transform.screenPointToLocation(s.P.convert(A)),_,C),C,F)}_fitInternal(c,A,_){return c?(delete(A=s.e(c,A)).padding,A.linear?this.easeTo(A,_):this.flyTo(A,_)):this}jumpTo(c,A){this.stop();const _=this._getTransformForUpdate();let C=!1,F=!1,U=!1;const V=_.zoom;this.cameraHelper.handleJumpToCenterZoom(_,c);const X=_.zoom!==V;return"elevation"in c&&_.elevation!==+c.elevation&&_.setElevation(+c.elevation),"bearing"in c&&_.bearing!==+c.bearing&&(C=!0,_.setBearing(+c.bearing)),"pitch"in c&&_.pitch!==+c.pitch&&(F=!0,_.setPitch(+c.pitch)),"roll"in c&&_.roll!==+c.roll&&(U=!0,_.setRoll(+c.roll)),c.padding==null||_.isPaddingEqual(c.padding)||_.setPadding(c.padding),this._applyUpdatedTransform(_),this.fire(new s.l("movestart",A)).fire(new s.l("move",A)),X&&this.fire(new s.l("zoomstart",A)).fire(new s.l("zoom",A)).fire(new s.l("zoomend",A)),C&&this.fire(new s.l("rotatestart",A)).fire(new s.l("rotate",A)).fire(new s.l("rotateend",A)),F&&this.fire(new s.l("pitchstart",A)).fire(new s.l("pitch",A)).fire(new s.l("pitchend",A)),U&&this.fire(new s.l("rollstart",A)).fire(new s.l("roll",A)).fire(new s.l("rollend",A)),this.fire(new s.l("moveend",A))}calculateCameraOptionsFromTo(c,A,_,C=0){const F=s.a9.fromLngLat(c,A),U=s.a9.fromLngLat(_,C),V=U.x-F.x,X=U.y-F.y,ie=U.z-F.z,se=Math.hypot(V,X,ie);if(se===0)throw new Error("Can't calculate camera options with same From and To");const fe=Math.hypot(V,X),ue=s.at(this.transform.cameraToCenterDistance/se/this.transform.tileSize),ye=180*Math.atan2(V,-X)/Math.PI;let Te=180*Math.acos(fe/se)/Math.PI;return Te=ie<0?90-Te:90+Te,{center:U.toLngLat(),elevation:C,zoom:ue,pitch:Te,bearing:ye}}calculateCameraOptionsFromCameraLngLatAltRotation(c,A,_,C,F){const U=this.transform.calculateCenterFromCameraLngLatAlt(c,A,_,C);return{center:U.center,elevation:U.elevation,zoom:U.zoom,bearing:_,pitch:C,roll:F}}easeTo(c,A){this._stop(!1,c.easeId),((c=s.e({offset:[0,0],duration:500,easing:s.cy},c)).animate===!1||!c.essential&&S.prefersReducedMotion)&&(c.duration=0);const _=this._getTransformForUpdate(),C=this.getBearing(),F=_.pitch,U=_.roll,V="bearing"in c?this._normalizeBearing(c.bearing,C):C,X="pitch"in c?+c.pitch:F,ie="roll"in c?this._normalizeBearing(c.roll,U):U,se="padding"in c?c.padding:_.padding,fe=s.P.convert(c.offset);let ue,ye;c.around&&(ue=s.V.convert(c.around),ye=_.locationToScreenPoint(ue));const Te={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},Ne=this.cameraHelper.handleEaseTo(_,{bearing:V,pitch:X,roll:ie,padding:se,around:ue,aroundPoint:ye,offsetAsPoint:fe,offset:c.offset,zoom:c.zoom,center:c.center});return this._rotating=this._rotating||C!==V,this._pitching=this._pitching||X!==F,this._rolling=this._rolling||ie!==U,this._padding=!_.isPaddingEqual(se),this._zooming=this._zooming||Ne.isZooming,this._easeId=c.easeId,this._prepareEase(A,c.noMoveStart,Te),this.terrain&&this._prepareElevation(Ne.elevationCenter),this._ease((Ge=>{Ne.easeFunc(Ge),this.terrain&&!c.freezeElevation&&this._updateElevation(Ge),this._applyUpdatedTransform(_),this._fireMoveEvents(A)}),(Ge=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(A,Ge)}),c),this}_prepareEase(c,A,_={}){this._moving=!0,A||_.moving||this.fire(new s.l("movestart",c)),this._zooming&&!_.zooming&&this.fire(new s.l("zoomstart",c)),this._rotating&&!_.rotating&&this.fire(new s.l("rotatestart",c)),this._pitching&&!_.pitching&&this.fire(new s.l("pitchstart",c)),this._rolling&&!_.rolling&&this.fire(new s.l("rollstart",c))}_prepareElevation(c){this._elevationCenter=c,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(c,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(c){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const A=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(c<1&&A!==this._elevationTarget){const _=this._elevationTarget-this._elevationStart;this._elevationStart+=c*(_-(A-(_*c+this._elevationStart))/(1-c)),this._elevationTarget=A}this.transform.setElevation(s.G.number(this._elevationStart,this._elevationTarget,c))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(c){if(!this.terrain&&c.elevation>=0&&c.pitch<=90)return{};const A=c.getCameraLngLat(),_=c.getCameraAltitude(),C=this.terrain?this.terrain.getElevationForLngLatZoom(A,c.zoom):0;if(_<C){const F=this.calculateCameraOptionsFromTo(A,C,c.center,c.elevation);return{pitch:F.pitch,zoom:F.zoom}}return{}}_applyUpdatedTransform(c){const A=[];if(A.push((C=>this._elevateCameraIfInsideTerrain(C))),this.transformCameraUpdate&&A.push((C=>this.transformCameraUpdate(C))),!A.length)return;const _=c.clone();for(const C of A){const F=_.clone(),{center:U,zoom:V,roll:X,pitch:ie,bearing:se,elevation:fe}=C(F);U&&F.setCenter(U),fe!==void 0&&F.setElevation(fe),V!==void 0&&F.setZoom(V),X!==void 0&&F.setRoll(X),ie!==void 0&&F.setPitch(ie),se!==void 0&&F.setBearing(se),_.apply(F)}this.transform.apply(_)}_fireMoveEvents(c){this.fire(new s.l("move",c)),this._zooming&&this.fire(new s.l("zoom",c)),this._rotating&&this.fire(new s.l("rotate",c)),this._pitching&&this.fire(new s.l("pitch",c)),this._rolling&&this.fire(new s.l("roll",c))}_afterEase(c,A){if(this._easeId&&A&&this._easeId===A)return;delete this._easeId;const _=this._zooming,C=this._rotating,F=this._pitching,U=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,_&&this.fire(new s.l("zoomend",c)),C&&this.fire(new s.l("rotateend",c)),F&&this.fire(new s.l("pitchend",c)),U&&this.fire(new s.l("rollend",c)),this.fire(new s.l("moveend",c))}flyTo(c,A){if(!c.essential&&S.prefersReducedMotion){const Ht=s.U(c,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(Ht,A)}this.stop(),c=s.e({offset:[0,0],speed:1.2,curve:1.42,easing:s.cy},c);const _=this._getTransformForUpdate(),C=_.bearing,F=_.pitch,U=_.roll,V=_.padding,X="bearing"in c?this._normalizeBearing(c.bearing,C):C,ie="pitch"in c?+c.pitch:F,se="roll"in c?this._normalizeBearing(c.roll,U):U,fe="padding"in c?c.padding:_.padding,ue=s.P.convert(c.offset);let ye=_.centerPoint.add(ue);const Te=_.screenPointToLocation(ye),Ne=this.cameraHelper.handleFlyTo(_,{bearing:X,pitch:ie,roll:se,padding:fe,locationAtOffset:Te,offsetAsPoint:ue,center:c.center,minZoom:c.minZoom,zoom:c.zoom});let Ge=c.curve;const He=Math.max(_.width,_.height),et=He/Ne.scaleOfZoom,ct=Ne.pixelPathLength;typeof Ne.scaleOfMinZoom=="number"&&(Ge=Math.sqrt(He/Ne.scaleOfMinZoom/ct*2));const Ze=Ge*Ge;function ot(Ht){const Ti=(et*et-He*He+(Ht?-1:1)*Ze*Ze*ct*ct)/(2*(Ht?et:He)*Ze*ct);return Math.log(Math.sqrt(Ti*Ti+1)-Ti)}function At(Ht){return(Math.exp(Ht)-Math.exp(-Ht))/2}function rt(Ht){return(Math.exp(Ht)+Math.exp(-Ht))/2}const St=ot(!1);let Xt=function(Ht){return rt(St)/rt(St+Ge*Ht)},Ut=function(Ht){return He*((rt(St)*(At(Ti=St+Ge*Ht)/rt(Ti))-At(St))/Ze)/ct;var Ti},zt=(ot(!0)-St)/Ge;if(Math.abs(ct)<2e-6||!isFinite(zt)){if(Math.abs(He-et)<1e-6)return this.easeTo(c,A);const Ht=et<He?-1:1;zt=Math.abs(Math.log(et/He))/Ge,Ut=()=>0,Xt=Ti=>Math.exp(Ht*Ge*Ti)}return c.duration="duration"in c?+c.duration:1e3*zt/("screenSpeed"in c?+c.screenSpeed/Ge:+c.speed),c.maxDuration&&c.duration>c.maxDuration&&(c.duration=0),this._zooming=!0,this._rotating=C!==X,this._pitching=ie!==F,this._rolling=se!==U,this._padding=!_.isPaddingEqual(fe),this._prepareEase(A,!1),this.terrain&&this._prepareElevation(Ne.targetCenter),this._ease((Ht=>{const Ti=Ht*zt,Li=1/Xt(Ti),pi=Ut(Ti);this._rotating&&_.setBearing(s.G.number(C,X,Ht)),this._pitching&&_.setPitch(s.G.number(F,ie,Ht)),this._rolling&&_.setRoll(s.G.number(U,se,Ht)),this._padding&&(_.interpolatePadding(V,fe,Ht),ye=_.centerPoint.add(ue)),Ne.easeFunc(Ht,Li,pi,ye),this.terrain&&!c.freezeElevation&&this._updateElevation(Ht),this._applyUpdatedTransform(_),this._fireMoveEvents(A)}),(()=>{this.terrain&&c.freezeElevation&&this._finalizeElevation(),this._afterEase(A)}),c),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(c,A){var _;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const C=this._onEaseEnd;delete this._onEaseEnd,C.call(this,A)}return c||(_=this.handlers)===null||_===void 0||_.stop(!1),this}_ease(c,A,_){_.animate===!1||_.duration===0?(c(1),A()):(this._easeStart=I(),this._easeOptions=_,this._onEaseFrame=c,this._onEaseEnd=A,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(c,A){c=s.W(c,-180,180);const _=Math.abs(c-A);return Math.abs(c-360-A)<_&&(c-=360),Math.abs(c+360-A)<_&&(c+=360),c}queryTerrainElevation(c){return this.terrain?this.terrain.getElevationForLngLat(s.V.convert(c),this.transform):null}}const Hl={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Og{constructor(c=Hl){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=A=>{!A||A.sourceDataType!=="metadata"&&A.sourceDataType!=="visibility"&&A.dataType!=="style"&&A.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=c}getDefaultPosition(){return"bottom-right"}onAdd(c){return this._map=c,this._compact=this.options.compact,this._container=O.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=O.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=O.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(c,A){const _=this._map._getUIString(`AttributionControl.${A}`);c.title=_,c.setAttribute("aria-label",_)}_updateAttributions(){if(!this._map.style)return;let c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map((C=>typeof C!="string"?"":C))):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){const C=this._map.style.stylesheet;this.styleOwner=C.owner,this.styleId=C.id}const A=this._map.style.tileManagers;for(const C in A){const F=A[C];if(F.used||F.usedForTerrain){const U=F.getSource();U.attribution&&c.indexOf(U.attribution)<0&&c.push(U.attribution)}}c=c.filter((C=>String(C).trim())),c.sort(((C,F)=>C.length-F.length)),c=c.filter(((C,F)=>{for(let U=F+1;U<c.length;U++)if(c[U].indexOf(C)>=0)return!1;return!0}));const _=c.join(" | ");_!==this._attribHTML&&(this._attribHTML=_,c.length?(this._innerContainer.innerHTML=O.sanitize(_),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class fy{constructor(c={}){this._updateCompact=()=>{const A=this._container.children;if(A.length){const _=A[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&_.classList.add("maplibregl-compact"):_.classList.remove("maplibregl-compact")}},this.options=c}getDefaultPosition(){return"bottom-left"}onAdd(c){this._map=c,this._compact=this.options&&this.options.compact,this._container=O.create("div","maplibregl-ctrl");const A=O.create("a","maplibregl-ctrl-logo");return A.target="_blank",A.rel="noopener nofollow",A.href="https://maplibre.org/",A.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),A.setAttribute("rel","noopener nofollow"),this._container.appendChild(A),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){O.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class jv{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(c){const A=++this._id;return this._queue.push({callback:c,id:A,cancelled:!1}),A}remove(c){const A=this._currentlyRunning,_=A?this._queue.concat(A):this._queue;for(const C of _)if(C.id===c)return void(C.cancelled=!0)}run(c=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const A=this._currentlyRunning=this._queue;this._queue=[];for(const _ of A)if(!_.cancelled&&(_.callback(c),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Vv=s.aU([{name:"a_pos3d",type:"Int16",components:3}]);class Cf extends s.E{constructor(c){super(),this._lastTilesetChange=I(),this.tileManager=c,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=c._source.tileSize*2**this.deltaZoom,c.usedForTerrain=!0,c.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(c,A){this.tileManager.update(c,A),this._renderableTilesKeys=[];const _={};for(const C of gn(c,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:A,calculateTileZoom:this.tileManager._source.calculateTileZoom}))_[C.key]=!0,this._renderableTilesKeys.push(C.key),this._tiles[C.key]||(C.terrainRttPosMatrix32f=new Float64Array(16),s.c7(C.terrainRttPosMatrix32f,0,s.a5,s.a5,0,0,1),this._tiles[C.key]=new jt(C,this.tileSize),this._lastTilesetChange=I());for(const C in this._tiles)_[C]||delete this._tiles[C]}freeRtt(c){for(const A in this._tiles){const _=this._tiles[A];(!c||_.tileID.equals(c)||_.tileID.isChildOf(c)||c.isChildOf(_.tileID))&&(_.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((c=>this.getTileByID(c)))}getTileByID(c){return this._tiles[c]}getTerrainCoords(c,A){return A?this._getTerrainCoordsForTileRanges(c,A):this._getTerrainCoordsForRegularTile(c)}_getTerrainCoordsForRegularTile(c){const A={};for(const _ of this._renderableTilesKeys){const C=this._tiles[_].tileID,F=c.clone(),U=s.bk();if(C.canonical.equals(c.canonical))s.c7(U,0,s.a5,s.a5,0,0,1);else if(C.canonical.isChildOf(c.canonical)){const V=C.canonical.z-c.canonical.z,X=C.canonical.x-(C.canonical.x>>V<<V),ie=C.canonical.y-(C.canonical.y>>V<<V),se=s.a5>>V;s.c7(U,0,se,se,0,0,1),s.O(U,U,[-X*se,-ie*se,0])}else{if(!c.canonical.isChildOf(C.canonical))continue;{const V=c.canonical.z-C.canonical.z,X=c.canonical.x-(c.canonical.x>>V<<V),ie=c.canonical.y-(c.canonical.y>>V<<V),se=s.a5>>V;s.c7(U,0,s.a5,s.a5,0,0,1),s.O(U,U,[X*se,ie*se,0]),s.Q(U,U,[1/2**V,1/2**V,0])}}F.terrainRttPosMatrix32f=new Float32Array(U),A[_]=F}return A}_getTerrainCoordsForTileRanges(c,A){const _={};for(const C of this._renderableTilesKeys){const F=this._tiles[C].tileID;if(!this._isWithinTileRanges(F,A))continue;const U=c.clone(),V=s.bk();if(F.canonical.z===c.canonical.z){const X=c.canonical.x-F.canonical.x,ie=c.canonical.y-F.canonical.y;s.c7(V,0,s.a5,s.a5,0,0,1),s.O(V,V,[X*s.a5,ie*s.a5,0])}else if(F.canonical.z>c.canonical.z){const X=F.canonical.z-c.canonical.z,ie=F.canonical.x-(F.canonical.x>>X<<X),se=F.canonical.y-(F.canonical.y>>X<<X),fe=c.canonical.x-(F.canonical.x>>X),ue=c.canonical.y-(F.canonical.y>>X),ye=s.a5>>X;s.c7(V,0,ye,ye,0,0,1),s.O(V,V,[-ie*ye+fe*s.a5,-se*ye+ue*s.a5,0])}else{const X=c.canonical.z-F.canonical.z,ie=c.canonical.x-(c.canonical.x>>X<<X),se=c.canonical.y-(c.canonical.y>>X<<X),fe=(c.canonical.x>>X)-F.canonical.x,ue=(c.canonical.y>>X)-F.canonical.y,ye=s.a5<<X;s.c7(V,0,ye,ye,0,0,1),s.O(V,V,[ie*s.a5+fe*ye,se*s.a5+ue*ye,0])}U.terrainRttPosMatrix32f=new Float32Array(V),_[C]=U}return _}getSourceTile(c,A){const _=this.tileManager._source;let C=c.overscaledZ-this.deltaZoom;if(C>_.maxzoom&&(C=_.maxzoom),C<_.minzoom)return;this._sourceTileCache[c.key]||(this._sourceTileCache[c.key]=c.scaledTo(C).key);let F=this.findTileInCaches(this._sourceTileCache[c.key]);if(!F?.dem&&A)for(;C>=_.minzoom&&!F?.dem;)F=this.findTileInCaches(c.scaledTo(C--).key);return F}findTileInCaches(c){let A=this.tileManager.getTileByID(c);return A||(A=this.tileManager._outOfViewCache.getByKey(c),A)}anyTilesAfterTime(c=Date.now()){return this._lastTilesetChange>=c}_isWithinTileRanges(c,A){return A[c.canonical.z]&&c.canonical.x>=A[c.canonical.z].minTileX&&c.canonical.x<=A[c.canonical.z].maxTileX&&c.canonical.y>=A[c.canonical.z].minTileY&&c.canonical.y<=A[c.canonical.z].maxTileY}}class Zr{constructor(c,A,_){this._meshCache={},this.painter=c,this.tileManager=new Cf(A),this.options=_,this.exaggeration=typeof _.exaggeration=="number"?_.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(c,A,_,C=s.a5){var F;if(!(A>=0&&A<C&&_>=0&&_<C))return 0;const U=this.getTerrainData(c),V=(F=U.tile)===null||F===void 0?void 0:F.dem;if(!V)return 0;const X=s.cC([],[A/C*s.a5,_/C*s.a5],U.u_terrain_matrix),ie=[X[0]*V.dim,X[1]*V.dim],se=Math.floor(ie[0]),fe=Math.floor(ie[1]),ue=ie[0]-se,ye=ie[1]-fe;return V.get(se,fe)*(1-ue)*(1-ye)+V.get(se+1,fe)*ue*(1-ye)+V.get(se,fe+1)*(1-ue)*ye+V.get(se+1,fe+1)*ue*ye}getElevationForLngLatZoom(c,A){if(!s.cD(A,c.wrap()))return 0;const{tileID:_,mercatorX:C,mercatorY:F}=this._getOverscaledTileIDFromLngLatZoom(c,A);return this.getElevation(_,C%s.a5,F%s.a5,s.a5)}getElevationForLngLat(c,A){const _=gn(A,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this});let C=0;for(const F of _)F.canonical.z>C&&(C=Math.min(F.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(c,C)}getElevation(c,A,_,C=s.a5){return this.getDEMElevation(c,A,_,C)*this.exaggeration}getTerrainData(c){if(!this._emptyDemTexture){const C=this.painter.context,F=new s.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new s.T(C,F,C.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new s.T(C,new s.R({width:1,height:1}),C.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=s.ar([])}const A=this.tileManager.getSourceTile(c,!0);if(A&&A.dem&&(!A.demTexture||A.needsTerrainPrepare)){const C=this.painter.context;A.demTexture=this.painter.getTileTexture(A.dem.stride),A.demTexture?A.demTexture.update(A.dem.getPixels(),{premultiply:!1}):A.demTexture=new s.T(C,A.dem.getPixels(),C.gl.RGBA,{premultiply:!1}),A.demTexture.bind(C.gl.NEAREST,C.gl.CLAMP_TO_EDGE),A.needsTerrainPrepare=!1}const _=A&&A.toString()+A.tileID.key+c.key;if(_&&!this._demMatrixCache[_]){const C=this.tileManager.getSource().maxzoom;let F=c.canonical.z-A.tileID.canonical.z;c.overscaledZ>c.canonical.z&&(c.canonical.z>=C?F=c.canonical.z-C:s.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const U=c.canonical.x-(c.canonical.x>>F<<F),V=c.canonical.y-(c.canonical.y>>F<<F),X=s.cE(new Float64Array(16),[1/(s.a5<<F),1/(s.a5<<F),0]);s.O(X,X,[U*s.a5,V*s.a5,0]),this._demMatrixCache[c.key]={matrix:X,coord:c}}return{u_depth:2,u_terrain:3,u_terrain_dim:A&&A.dem&&A.dem.dim||1,u_terrain_matrix:_?this._demMatrixCache[c.key].matrix:this._emptyDemMatrix,u_terrain_unpack:A&&A.dem&&A.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(A&&A.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:A}}getFramebuffer(c){const A=this.painter,_=A.width/devicePixelRatio,C=A.height/devicePixelRatio;return!this._fbo||this._fbo.width===_&&this._fbo.height===C||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new s.T(A.context,{width:_,height:C,data:null},A.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(A.context.gl.NEAREST,A.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new s.T(A.context,{width:_,height:C,data:null},A.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(A.context.gl.NEAREST,A.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=A.context.createFramebuffer(_,C,!0,!1),this._fbo.depthAttachment.set(A.context.createRenderbuffer(A.context.gl.DEPTH_COMPONENT16,_,C))),this._fbo.colorAttachment.set(c==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const c=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const A=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let F=0,U=0;F<this._coordsTextureSize;F++)for(let V=0;V<this._coordsTextureSize;V++,U+=4)A[U+0]=255&V,A[U+1]=255&F,A[U+2]=V>>8<<4|F>>8,A[U+3]=0;const _=new s.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(A.buffer)),C=new s.T(c,_,c.gl.RGBA,{premultiply:!1});return C.bind(c.gl.NEAREST,c.gl.CLAMP_TO_EDGE),this._coordsTexture=C,C}pointCoordinate(c){this.painter.maybeDrawDepthAndCoords(!0);const A=new Uint8Array(4),_=this.painter.context,C=_.gl,F=Math.round(c.x*this.painter.pixelRatio/devicePixelRatio),U=Math.round(c.y*this.painter.pixelRatio/devicePixelRatio),V=Math.round(this.painter.height/devicePixelRatio);_.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),C.readPixels(F,V-U-1,1,1,C.RGBA,C.UNSIGNED_BYTE,A),_.bindFramebuffer.set(null);const X=A[0]+(A[2]>>4<<8),ie=A[1]+((15&A[2])<<8),se=this.coordsIndex[255-A[3]],fe=se&&this.tileManager.getTileByID(se);if(!fe)return null;const ue=this._coordsTextureSize,ye=(1<<fe.tileID.canonical.z)*ue;return new s.a9((fe.tileID.canonical.x*ue+X)/ye+fe.tileID.wrap,(fe.tileID.canonical.y*ue+ie)/ye,this.getElevation(fe.tileID,X,ie,ue))}depthAtPoint(c){const A=new Uint8Array(4),_=this.painter.context,C=_.gl;return _.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),C.readPixels(c.x,this.painter.height/devicePixelRatio-c.y-1,1,1,C.RGBA,C.UNSIGNED_BYTE,A),_.bindFramebuffer.set(null),(A[0]/16777216+A[1]/65536+A[2]/256+A[3])/256}getTerrainMesh(c){var A;const _=((A=this.painter.style.projection)===null||A===void 0?void 0:A.transitionState)>0,C=_&&c.canonical.y===0,F=_&&c.canonical.y===(1<<c.canonical.z)-1,U=`m_${C?"n":""}_${F?"s":""}`;if(this._meshCache[U])return this._meshCache[U];const V=this.painter.context,X=new s.cF,ie=new s.aY,se=this.meshSize,fe=s.a5/se,ue=se*se;for(let rt=0;rt<=se;rt++)for(let St=0;St<=se;St++)X.emplaceBack(St*fe,rt*fe,0);for(let rt=0;rt<ue;rt+=se+1)for(let St=0;St<se;St++)ie.emplaceBack(St+rt,se+St+rt+1,se+St+rt+2),ie.emplaceBack(St+rt,se+St+rt+2,St+rt+1);const ye=X.length,Te=ye+(se+1),Ne=(se+1)*se,Ge=C?s.br:0,He=C?0:1,et=F?s.bs:s.a5,ct=F?0:1;for(let rt=0;rt<=se;rt++)X.emplaceBack(rt*fe,Ge,He);for(let rt=0;rt<=se;rt++)X.emplaceBack(rt*fe,et,ct);for(let rt=0;rt<se;rt++)ie.emplaceBack(Ne+rt,Te+rt,Te+rt+1),ie.emplaceBack(Ne+rt,Te+rt+1,Ne+rt+1),ie.emplaceBack(0+rt,ye+rt+1,ye+rt),ie.emplaceBack(0+rt,0+rt+1,ye+rt+1);const Ze=X.length,ot=Ze+2*(se+1);for(const rt of[0,1])for(let St=0;St<=se;St++)for(const Xt of[0,1])X.emplaceBack(rt*s.a5,St*fe,Xt);for(let rt=0;rt<2*se;rt+=2)ie.emplaceBack(Ze+rt,Ze+rt+1,Ze+rt+3),ie.emplaceBack(Ze+rt,Ze+rt+3,Ze+rt+2),ie.emplaceBack(ot+rt,ot+rt+3,ot+rt+1),ie.emplaceBack(ot+rt,ot+rt+2,ot+rt+3);const At=new Na(V.createVertexBuffer(X,Vv.members),V.createIndexBuffer(ie),s.aX.simpleSegment(0,0,X.length,ie.length));return this._meshCache[U]=At,At}getMeshFrameDelta(c){return 2*Math.PI*s.bE/Math.pow(2,Math.max(c,0))/5}getMinTileElevationForLngLatZoom(c,A){var _;if(!s.cD(A,c.wrap()))return 0;const{tileID:C}=this._getOverscaledTileIDFromLngLatZoom(c,A);return(_=this.getMinMaxElevation(C).minElevation)!==null&&_!==void 0?_:0}getMinMaxElevation(c){const A=this.getTerrainData(c).tile,_={minElevation:null,maxElevation:null};return A&&A.dem&&(_.minElevation=A.dem.min*this.exaggeration,_.maxElevation=A.dem.max*this.exaggeration),_}_getOverscaledTileIDFromLngLatZoom(c,A){const _=s.a9.fromLngLat(c.wrap()),C=(1<<A)*s.a5,F=_.x*C,U=_.y*C,V=Math.floor(F/s.a5),X=Math.floor(U/s.a5);return{tileID:new s.a2(A,0,A,V,X),mercatorX:F,mercatorY:U}}}class As{constructor(c,A,_){this._context=c,this._size=A,this._tileSize=_,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const c of this._objects)c.texture.destroy(),c.fbo.destroy()}_createObject(c){const A=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),_=new s.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return _.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),A.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),A.colorAttachment.set(_.texture),{id:c,fbo:A,texture:_,stamp:-1,inUse:!1}}getObjectForId(c){return this._objects[c]}useObject(c){c.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((A=>c.id!==A)),this._recentlyUsed.push(c.id)}stampObject(c){c.stamp=++this._stamp}getOrCreateFreeObject(){for(const A of this._recentlyUsed)if(!this._objects[A].inUse)return this._objects[A];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const c=this._createObject(this._objects.length);return this._objects.push(c),c}freeObject(c){c.inUse=!1}freeAllObjects(){for(const c of this._objects)this.freeObject(c)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((c=>!c.inUse))===!1}}const Rh={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Sf{constructor(c,A){this.painter=c,this.terrain=A,this.pool=new As(c.context,30,A.tileManager.tileSize*A.qualityFactor)}destruct(){this.pool.destruct()}getTexture(c){return this.pool.getObjectForId(c.rtt[this._stacks.length-1].id).texture}prepareForRender(c,A){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=c._order.filter((_=>!c._layers[_].isHidden(A))),this._coordsAscending={};for(const _ in c.tileManagers){this._coordsAscending[_]={};const C=c.tileManagers[_].getVisibleCoordinates(),F=c.tileManagers[_].getSource(),U=F instanceof Fi?F.terrainTileRanges:null;for(const V of C){const X=this.terrain.tileManager.getTerrainCoords(V,U);for(const ie in X)this._coordsAscending[_][ie]||(this._coordsAscending[_][ie]=[]),this._coordsAscending[_][ie].push(X[ie])}}this._coordsAscendingStr={};for(const _ of c._order){const C=c._layers[_],F=C.source;if(Rh[C.type]&&!this._coordsAscendingStr[F]){this._coordsAscendingStr[F]={};for(const U in this._coordsAscending[F])this._coordsAscendingStr[F][U]=this._coordsAscending[F][U].map((V=>V.key)).sort().join()}}for(const _ of this._renderableTiles)for(const C in this._coordsAscendingStr){const F=this._coordsAscendingStr[C][_.tileID.key];F&&F!==_.rttCoords[C]&&(_.rtt=[])}}renderLayer(c,A){if(c.isHidden(this.painter.transform.zoom))return!1;const _=Object.assign(Object.assign({},A),{isRenderingToTexture:!0}),C=c.type,F=this.painter,U=this._renderableLayerIds[this._renderableLayerIds.length-1]===c.id;if(Rh[C]&&(this._prevType&&Rh[this._prevType]||this._stacks.push([]),this._prevType=C,this._stacks[this._stacks.length-1].push(c.id),!U))return!0;if(Rh[this._prevType]||Rh[C]&&U){this._prevType=C;const V=this._stacks.length-1,X=this._stacks[V]||[];for(const ie of this._renderableTiles){if(this.pool.isFull()&&(Fh(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(ie),ie.rtt[V]){const fe=this.pool.getObjectForId(ie.rtt[V].id);if(fe.stamp===ie.rtt[V].stamp){this.pool.useObject(fe);continue}}const se=this.pool.getOrCreateFreeObject();this.pool.useObject(se),this.pool.stampObject(se),ie.rtt[V]={id:se.id,stamp:se.stamp},F.context.bindFramebuffer.set(se.fbo.framebuffer),F.context.clear({color:s.bp.transparent,stencil:0}),F.currentStencilSource=void 0;for(let fe=0;fe<X.length;fe++){const ue=F.style._layers[X[fe]],ye=ue.source?this._coordsAscending[ue.source][ie.tileID.key]:[ie.tileID];F.context.viewport.set([0,0,se.fbo.width,se.fbo.height]),F._renderTileClippingMasks(ue,ye,!0),F.renderLayer(F,F.style.tileManagers[ue.source],ue,ye,_),ue.source&&(ie.rttCoords[ue.source]=this._coordsAscendingStr[ue.source][ie.tileID.key])}}return Fh(this.painter,this.terrain,this._rttTiles,_),this._rttTiles=[],this.pool.freeAllObjects(),Rh[C]}return!1}}const $A={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Ug=u,XA={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Hl,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:s.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Ng={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Bf{constructor(c,A,_=!1){this.mousedown=F=>{this.startMove(F,O.mousePos(this.element,F)),O.addEventListener(window,"mousemove",this.mousemove),O.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=F=>{this.move(F,O.mousePos(this.element,F))},this.mouseup=F=>{this._rotatePitchHandler.dragEnd(F),this.offTemp()},this.touchstart=F=>{F.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=O.touchPos(this.element,F.targetTouches)[0],this.startMove(F,this._startPos),O.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.addEventListener(window,"touchend",this.touchend))},this.touchmove=F=>{F.targetTouches.length!==1?this.reset():(this._lastPos=O.touchPos(this.element,F.targetTouches)[0],this.move(F,this._lastPos))},this.touchend=F=>{F.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=A;const C=new Er;this._rotatePitchHandler=new hi({clickTolerance:3,move:(F,U)=>{const V=A.getBoundingClientRect(),X=new s.P((V.bottom-V.top)/2,(V.right-V.left)/2);return{bearingDelta:s.cx(new s.P(F.x,U.y),U,X),pitchDelta:_?-.5*(U.y-F.y):void 0}},moveStateManager:C,enable:!0,assignEvents:()=>{}}),this.map=c,O.addEventListener(A,"mousedown",this.mousedown),O.addEventListener(A,"touchstart",this.touchstart,{passive:!1}),O.addEventListener(A,"touchcancel",this.reset)}startMove(c,A){this._rotatePitchHandler.dragStart(c,A),O.disableDrag()}move(c,A){const _=this.map,{bearingDelta:C,pitchDelta:F}=this._rotatePitchHandler.dragMove(c,A)||{};C&&_.setBearing(_.getBearing()+C),F&&_.setPitch(_.getPitch()+F)}off(){const c=this.element;O.removeEventListener(c,"mousedown",this.mousedown),O.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend),O.removeEventListener(c,"touchcancel",this.reset),this.offTemp()}offTemp(){O.enableDrag(),O.removeEventListener(window,"mousemove",this.mousemove),O.removeEventListener(window,"mouseup",this.mouseup),O.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),O.removeEventListener(window,"touchend",this.touchend)}}let gu;function YA(M,c,A,_=!1){if(_||!A.getCoveringTilesDetailsProvider().allowWorldCopies())return M?.wrap();const C=new s.V(M.lng,M.lat);if(M=new s.V(M.lng,M.lat),c){const F=new s.V(M.lng-360,M.lat),U=new s.V(M.lng+360,M.lat),V=A.locationToScreenPoint(M).distSqr(c);A.locationToScreenPoint(F).distSqr(c)<V?M=F:A.locationToScreenPoint(U).distSqr(c)<V&&(M=U)}for(;Math.abs(M.lng-A.center.lng)>180;){const F=A.locationToScreenPoint(M);if(F.x>=0&&F.y>=0&&F.x<=A.width&&F.y<=A.height)break;M.lng>A.center.lng?M.lng-=360:M.lng+=360}return M.lng!==C.lng&&A.isPointOnMapSurface(A.locationToScreenPoint(M))?M:C}const Ef={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function KA(M,c,A){const _=M.classList;for(const C in Ef)_.remove(`maplibregl-${A}-anchor-${C}`);_.add(`maplibregl-${A}-anchor-${c}`)}class kf extends s.E{constructor(c){if(super(),this._onKeyPress=A=>{const _=A.code,C=A.charCode||A.keyCode;_!=="Space"&&_!=="Enter"&&C!==32&&C!==13||this.togglePopup()},this._onMapClick=A=>{const _=A.originalEvent.target,C=this._element;this._popup&&(_===C||C.contains(_))&&this.togglePopup()},this._update=A=>{if(!this._map)return;const _=this._map.loaded()&&!this._map.isMoving();(A?.type==="terrain"||A?.type==="render"&&!_)&&this._map.once("render",this._update),this._lngLat=YA(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let C="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?C=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(C=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let F="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?F="rotateX(0deg)":this._pitchAlignment==="map"&&(F=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||A&&A.type!=="moveend"||(this._pos=this._pos.round()),O.setTransform(this._element,`${Ef[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${F} ${C}`),S.frameAsync(new AbortController).then((()=>{this._updateOpacity(A&&A.type==="moveend")})).catch((()=>{}))},this._onMove=A=>{if(!this._isDragging){const _=this._clickTolerance||this._map._clickTolerance;this._isDragging=A.point.dist(this._pointerdownPos)>=_}this._isDragging&&(this._pos=A.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.l("dragstart"))),this.fire(new s.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new s.l("dragend")),this._state="inactive"},this._addDragHandler=A=>{this._element.contains(A.originalEvent.target)&&(A.preventDefault(),this._positionDelta=A.point.sub(this._pos).add(this._offset),this._pointerdownPos=A.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=c&&c.anchor||"center",this._color=c&&c.color||"#3FB1CE",this._scale=c&&c.scale||1,this._draggable=c&&c.draggable||!1,this._clickTolerance=c&&c.clickTolerance||0,this._subpixelPositioning=c&&c.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=c&&c.rotation||0,this._rotationAlignment=c&&c.rotationAlignment||"auto",this._pitchAlignment=c&&c.pitchAlignment&&c.pitchAlignment!=="auto"?c.pitchAlignment:this._rotationAlignment,this.setOpacity(c?.opacity,c?.opacityWhenCovered),c&&c.element)this._element=c.element,this._offset=s.P.convert(c&&c.offset||[0,0]);else{this._defaultMarker=!0,this._element=O.create("div");const A=O.createNS("http://www.w3.org/2000/svg","svg"),_=41,C=27;A.setAttributeNS(null,"display","block"),A.setAttributeNS(null,"height",`${_}px`),A.setAttributeNS(null,"width",`${C}px`),A.setAttributeNS(null,"viewBox",`0 0 ${C} ${_}`);const F=O.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"stroke","none"),F.setAttributeNS(null,"stroke-width","1"),F.setAttributeNS(null,"fill","none"),F.setAttributeNS(null,"fill-rule","evenodd");const U=O.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"fill-rule","nonzero");const V=O.createNS("http://www.w3.org/2000/svg","g");V.setAttributeNS(null,"transform","translate(3.0, 29.0)"),V.setAttributeNS(null,"fill","#000000");const X=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const He of X){const et=O.createNS("http://www.w3.org/2000/svg","ellipse");et.setAttributeNS(null,"opacity","0.04"),et.setAttributeNS(null,"cx","10.5"),et.setAttributeNS(null,"cy","5.80029008"),et.setAttributeNS(null,"rx",He.rx),et.setAttributeNS(null,"ry",He.ry),V.appendChild(et)}const ie=O.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);const se=O.createNS("http://www.w3.org/2000/svg","path");se.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(se);const fe=O.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"opacity","0.25"),fe.setAttributeNS(null,"fill","#000000");const ue=O.createNS("http://www.w3.org/2000/svg","path");ue.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),fe.appendChild(ue);const ye=O.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ye.setAttributeNS(null,"fill","#FFFFFF");const Te=O.createNS("http://www.w3.org/2000/svg","g");Te.setAttributeNS(null,"transform","translate(8.0, 8.0)");const Ne=O.createNS("http://www.w3.org/2000/svg","circle");Ne.setAttributeNS(null,"fill","#000000"),Ne.setAttributeNS(null,"opacity","0.25"),Ne.setAttributeNS(null,"cx","5.5"),Ne.setAttributeNS(null,"cy","5.5"),Ne.setAttributeNS(null,"r","5.4999962");const Ge=O.createNS("http://www.w3.org/2000/svg","circle");Ge.setAttributeNS(null,"fill","#FFFFFF"),Ge.setAttributeNS(null,"cx","5.5"),Ge.setAttributeNS(null,"cy","5.5"),Ge.setAttributeNS(null,"r","5.4999962"),Te.appendChild(Ne),Te.appendChild(Ge),U.appendChild(V),U.appendChild(ie),U.appendChild(fe),U.appendChild(ye),U.appendChild(Te),A.appendChild(U),A.setAttributeNS(null,"height",_*this._scale+"px"),A.setAttributeNS(null,"width",C*this._scale+"px"),this._element.appendChild(A),this._offset=s.P.convert(c&&c.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(A=>{A.preventDefault()})),this._element.addEventListener("mousedown",(A=>{A.preventDefault()})),KA(this._element,this._anchor,"marker"),c&&c.className)for(const A of c.className.split(" "))this._element.classList.add(A);this._popup=null}addTo(c){return this.remove(),this._map=c,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",c._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),c.getCanvasContainer().appendChild(this._element),c.on("move",this._update),c.on("moveend",this._update),c.on("terrain",this._update),c.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),O.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(c){return this._lngLat=s.V.convert(c),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(c){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),c){if(!("offset"in c.options)){const C=Math.abs(13.5)/Math.SQRT2;c.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[C,-1*(38.1-13.5+C)],"bottom-right":[-C,-1*(38.1-13.5+C)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=c,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(c){return this._subpixelPositioning=c,this}getPopup(){return this._popup}togglePopup(){const c=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:c?(c.isOpen()?c.remove():(c.setLngLat(this._lngLat),c.addTo(this._map)),this):this}_updateOpacity(c=!1){var A,_;const C=(A=this._map)===null||A===void 0?void 0:A.terrain,F=this._map.transform.isLocationOccluded(this._lngLat);if(!C||F){const ye=F?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==ye&&(this._element.style.opacity=ye))}if(c)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const U=this._map,V=U.terrain.depthAtPoint(this._pos),X=U.terrain.getElevationForLngLat(this._lngLat,U.transform);if(U.transform.lngLatToCameraDepth(this._lngLat,X)-V<.006)return void(this._element.style.opacity=this._opacity);const ie=-this._offset.y/U.transform.pixelsPerMeter,se=Math.sin(U.getPitch()*Math.PI/180)*ie,fe=U.terrain.depthAtPoint(new s.P(this._pos.x,this._pos.y-this._offset.y)),ue=U.transform.lngLatToCameraDepth(this._lngLat,X+se)-fe>.006;!((_=this._popup)===null||_===void 0)&&_.isOpen()&&ue&&this._popup.remove(),this._element.style.opacity=ue?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(c){return this._offset=s.P.convert(c),this._update(),this}addClassName(c){this._element.classList.add(c)}removeClassName(c){this._element.classList.remove(c)}toggleClassName(c){return this._element.classList.toggle(c)}setDraggable(c){return this._draggable=!!c,this._map&&(c?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(c){return this._rotation=c||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(c){return this._rotationAlignment=c||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(c){return this._pitchAlignment=c&&c!=="auto"?c:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(c,A){return(this._opacity===void 0||c===void 0&&A===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),c!==void 0&&(this._opacity=c),A!==void 0&&(this._opacityWhenCovered=A),this._map&&this._updateOpacity(!0),this}}const zg={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let bd=0,Oh=!1;const Hg={maxWidth:100,unit:"metric"};function Tf(M,c,A){const _=A&&A.maxWidth||100,C=M._container.clientHeight/2,F=M._container.clientWidth/2,U=M.unproject([F-_/2,C]),V=M.unproject([F+_/2,C]),X=Math.round(M.project(V).x-M.project(U).x),ie=Math.min(_,X,M._container.clientWidth),se=U.distanceTo(V);if(A&&A.unit==="imperial"){const fe=3.2808*se;fe>5280?Uh(c,ie,fe/5280,M._getUIString("ScaleControl.Miles")):Uh(c,ie,fe,M._getUIString("ScaleControl.Feet"))}else A&&A.unit==="nautical"?Uh(c,ie,se/1852,M._getUIString("ScaleControl.NauticalMiles")):se>=1e3?Uh(c,ie,se/1e3,M._getUIString("ScaleControl.Kilometers")):Uh(c,ie,se,M._getUIString("ScaleControl.Meters"))}function Uh(M,c,A,_){const C=(function(F){const U=Math.pow(10,`${Math.floor(F)}`.length-1);let V=F/U;return V=V>=10?10:V>=5?5:V>=3?3:V>=2?2:V>=1?1:(function(X){const ie=Math.pow(10,Math.ceil(-Math.log(X)/Math.LN10));return Math.round(X*ie)/ie})(V),U*V})(A);M.style.width=c*(C/A)+"px",M.innerHTML=`${C}&nbsp;${_}`}const Qg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},qA=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ZA(M){if(M){if(typeof M=="number"){const c=Math.round(Math.abs(M)/Math.SQRT2);return{center:new s.P(0,0),top:new s.P(0,M),"top-left":new s.P(c,c),"top-right":new s.P(-c,c),bottom:new s.P(0,-M),"bottom-left":new s.P(c,-c),"bottom-right":new s.P(-c,-c),left:new s.P(M,0),right:new s.P(-M,0)}}if(M instanceof s.P||Array.isArray(M)){const c=s.P.convert(M);return{center:c,top:c,"top-left":c,"top-right":c,bottom:c,"bottom-left":c,"bottom-right":c,left:c,right:c}}return{center:s.P.convert(M.center||[0,0]),top:s.P.convert(M.top||[0,0]),"top-left":s.P.convert(M["top-left"]||[0,0]),"top-right":s.P.convert(M["top-right"]||[0,0]),bottom:s.P.convert(M.bottom||[0,0]),"bottom-left":s.P.convert(M["bottom-left"]||[0,0]),"bottom-right":s.P.convert(M["bottom-right"]||[0,0]),left:s.P.convert(M.left||[0,0]),right:s.P.convert(M.right||[0,0])}}return ZA(new s.P(0,0))}const jg=u;o.AJAXError=s.cI,o.Event=s.l,o.Evented=s.E,o.LngLat=s.V,o.MercatorCoordinate=s.a9,o.Point=s.P,o.addProtocol=s.cJ,o.config=s.c,o.removeProtocol=s.cK,o.AttributionControl=Og,o.BoxZoomHandler=Ku,o.CanvasSource=xe,o.CooperativeGesturesHandler=kn,o.DoubleClickZoomHandler=Rg,o.DragPanHandler=dy,o.DragRotateHandler=hc,o.EdgeInsets=qe,o.FullscreenControl=class extends s.E{constructor(M={}){super(),this._onFullscreenChange=()=>{var c;let A=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((c=A?.shadowRoot)===null||c===void 0)&&c.fullscreenElement;)A=A.shadowRoot.fullscreenElement;A===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,M&&M.container&&(M.container instanceof HTMLElement?this._container=M.container:s.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(M){return this._map=M,this._container||(this._container=this._map.getContainer()),this._controlContainer=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){O.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const M=this._fullscreenButton=O.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);O.create("span","maplibregl-ctrl-icon",M).setAttribute("aria-hidden","true"),M.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const M=this._getTitle();this._fullscreenButton.setAttribute("aria-label",M),this._fullscreenButton.title=M}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new s.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new s.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},o.GeoJSONSource=Ei,o.GeolocateControl=class extends s.E{constructor(M){super(),this._onSuccess=c=>{if(this._map){if(this._isOutOfMapMaxBounds(c))return this._setErrorState(),this.fire(new s.l("outofmaxbounds",c)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=c,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(c),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(c),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new s.l("geolocate",c)),this._finish()}},this._updateCamera=c=>{const A=new s.V(c.coords.longitude,c.coords.latitude),_=c.coords.accuracy,C=this._map.getBearing(),F=s.e({bearing:C},this.options.fitBoundsOptions),U=Ye.fromLngLat(A,_);this._map.fitBounds(U,F,{geolocateSource:!0})},this._updateMarker=c=>{if(c){const A=new s.V(c.coords.longitude,c.coords.latitude);this._accuracyCircleMarker.setLngLat(A).addTo(this._map),this._userLocationDotMarker.setLngLat(A).addTo(this._map),this._accuracy=c.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=c=>{if(this._map){if(c.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const A=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=A,this._geolocateButton.setAttribute("aria-label",A),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(c.code===3&&Oh)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new s.l("error",c)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(c=>c.preventDefault())),this._geolocateButton=O.create("button","maplibregl-ctrl-geolocate",this._container),O.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=c=>{if(this._map){if(c===!1){s.w("Geolocation support is not available so the GeolocateControl will be disabled.");const A=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=A,this._geolocateButton.setAttribute("aria-label",A)}else{const A=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=A,this._geolocateButton.setAttribute("aria-label",A)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=O.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new kf({element:this._dotElement}),this._circleElement=O.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new kf({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(A=>{const _=A?.[0]instanceof ResizeObserverEntry;A.geolocateSource||this._watchState!=="ACTIVE_LOCK"||_||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new s.l("trackuserlocationend")),this.fire(new s.l("userlocationlostfocus")))}))}},this.options=s.e({},zg,M)}onAdd(M){return this._map=M,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return s._(this,arguments,void 0,(function*(c=!1){if(gu!==void 0&&!c)return gu;if(window.navigator.permissions===void 0)return gu=!!window.navigator.geolocation,gu;try{gu=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{gu=!!window.navigator.geolocation}return gu}))})().then((c=>this._finishSetupUI(c))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),O.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,bd=0,Oh=!1}_isOutOfMapMaxBounds(M){const c=this._map.getMaxBounds(),A=M.coords;return c&&(A.longitude<c.getWest()||A.longitude>c.getEast()||A.latitude<c.getSouth()||A.latitude>c.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const M=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&M))return;const c=this._map.project(M),A=this._map.unproject([c.x+100,c.y]),_=M.distanceTo(A)/100,C=2*this._accuracy/_;this._circleElement.style.width=`${C.toFixed(2)}px`,this._circleElement.style.height=`${C.toFixed(2)}px`}trigger(){if(!this._setup)return s.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":bd--,Oh=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new s.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.l("trackuserlocationstart")),this.fire(new s.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let M;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),bd++,bd>1?(M={maximumAge:6e5,timeout:0},Oh=!0):(M=this.options.positionOptions,Oh=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,M)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},o.GlobeControl=class{constructor(){this._toggleProjection=()=>{var M;const c=(M=this._map.getProjection())===null||M===void 0?void 0:M.type;this._map.setProjection(c!=="mercator"&&c?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var M;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((M=this._map.getProjection())===null||M===void 0?void 0:M.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(M){return this._map=M,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=O.create("button","maplibregl-ctrl-globe",this._container),O.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){O.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},o.Hash=$u,o.ImageSource=Fi,o.KeyboardHandler=cr,o.LngLatBounds=Ye,o.LogoControl=fy,o.Map=class extends No{constructor(M){var c,A;s.cG.mark(s.cH.create);const _=Object.assign(Object.assign(Object.assign({},XA),M),{canvasContextAttributes:Object.assign(Object.assign({},XA.canvasContextAttributes),M.canvasContextAttributes)});if(_.minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const C=new cn,F=new sa;if(_.minZoom!==void 0&&C.setMinZoom(_.minZoom),_.maxZoom!==void 0&&C.setMaxZoom(_.maxZoom),_.minPitch!==void 0&&C.setMinPitch(_.minPitch),_.maxPitch!==void 0&&C.setMaxPitch(_.maxPitch),_.renderWorldCopies!==void 0&&C.setRenderWorldCopies(_.renderWorldCopies),_.transformConstrain!==null&&C.setConstrainOverride(_.transformConstrain),super(C,F,{bearingSnap:_.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new jv,this._controls=[],this._mapId=s.af(),this._lostContextStyle={style:null,images:null},this._contextLost=V=>{V.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const X of Object.values(this.style._layers))if(X.type==="custom"&&console.warn(`Custom layer with id '${X.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),X._listeners)for(const[ie]of Object.entries(X._listeners))console.warn(`Custom layer with id '${X.id}' had event listeners for event '${ie}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new s.l("webglcontextlost",{originalEvent:V}))},this._contextRestored=V=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new s.l("webglcontextrestored",{originalEvent:V}))},this._onMapScroll=V=>{if(V.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},_.canvasContextAttributes),this._trackResize=_.trackResize===!0,this._bearingSnap=_.bearingSnap,this._centerClampedToGround=_.centerClampedToGround,this._refreshExpiredTiles=_.refreshExpiredTiles===!0,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions===!0,this._collectResourceTiming=_.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},$A),_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this._zoomLevelsToOverscale=_.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=_.transformCameraUpdate,this.transformConstrain=_.transformConstrain,this.cancelPendingTileRequestsWhileZooming=_.cancelPendingTileRequestsWhileZooming===!0,_.reduceMotion!==void 0&&(S.prefersReducedMotion=_.reduceMotion),this._imageQueueHandle=q.addThrottleControl((()=>this.isMoving())),this._requestManager=new ne(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let V=!1;const X=zc((ie=>{this._trackResize&&!this._removed&&(this.resize(ie),this.redraw())}),50);this._resizeObserver=new ResizeObserver((ie=>{V?X(ie):V=!0})),this._resizeObserver.observe(this._container)}this.handlers=new WA(this,_),this._hash=_.hash&&new $u(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,elevation:_.elevation,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch,roll:_.roll}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,s.e({},_.fitBoundsOptions,{duration:0}))));const U=typeof _.style=="string"||((A=(c=_.style)===null||c===void 0?void 0:c.projection)===null||A===void 0?void 0:A.type)!=="globe";this.resize(null,U),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new Og(typeof _.attributionControl=="boolean"?void 0:_.attributionControl)),_.maplibreLogo&&this.addControl(new fy,_.logoPosition),this.on("style.load",(()=>{if(U||this._resizeTransform(),this.transform.unmodified){const V=s.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(V)}})),this.on("data",(V=>{this._update(V.dataType==="style"),this.fire(new s.l(`${V.dataType}data`,V))})),this.on("dataloading",(V=>{this.fire(new s.l(`${V.dataType}dataloading`,V))})),this.on("dataabort",(V=>{this.fire(new s.l("sourcedataabort",V))}))}_getMapId(){return this._mapId}setGlobalStateProperty(M,c){return this.style.setGlobalStateProperty(M,c),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(M,c){if(c===void 0&&(c=M.getDefaultPosition?M.getDefaultPosition():"top-right"),!M||!M.onAdd)return this.fire(new s.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const A=M.onAdd(this);this._controls.push(M);const _=this._controlPositions[c];return c.indexOf("bottom")!==-1?_.insertBefore(A,_.firstChild):_.appendChild(A),this}removeControl(M){if(!M||!M.onRemove)return this.fire(new s.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const c=this._controls.indexOf(M);return c>-1&&this._controls.splice(c,1),M.onRemove(this),this}hasControl(M){return this._controls.indexOf(M)>-1}coveringTiles(M){return gn(this.transform,M)}calculateCameraOptionsFromTo(M,c,A,_){return _==null&&this.terrain&&(_=this.terrain.getElevationForLngLat(A,this.transform)),super.calculateCameraOptionsFromTo(M,c,A,_)}resize(M,c=!0){const[A,_]=this._containerDimensions(),C=this._getClampedPixelRatio(A,_);if(this._resizeCanvas(A,_,C),this.painter.resize(A,_,C),this.painter.overLimit()){const U=this.painter.context.gl;this._maxCanvasSize=[U.drawingBufferWidth,U.drawingBufferHeight];const V=this._getClampedPixelRatio(A,_);this._resizeCanvas(A,_,V),this.painter.resize(A,_,V)}this._resizeTransform(c);const F=!this._moving;return F&&(this.stop(),this.fire(new s.l("movestart",M)).fire(new s.l("move",M))),this.fire(new s.l("resize",M)),F&&this.fire(new s.l("moveend",M)),this}_resizeTransform(M=!0){var c;const[A,_]=this._containerDimensions();this.transform.resize(A,_,M),(c=this._requestedCameraState)===null||c===void 0||c.resize(A,_,M)}_getClampedPixelRatio(M,c){const{0:A,1:_}=this._maxCanvasSize,C=this.getPixelRatio(),F=M*C,U=c*C;return Math.min(F>A?A/F:1,U>_?_/U:1)*C}getPixelRatio(){var M;return(M=this._overridePixelRatio)!==null&&M!==void 0?M:devicePixelRatio}setPixelRatio(M){this._overridePixelRatio=M,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(M){return this.transform.setMaxBounds(Ye.convert(M)),this._update()}setMinZoom(M){if((M=M??-2)>=-2&&M<=this.transform.maxZoom){const c=this._getTransformForUpdate();return c.setMinZoom(M),this._applyUpdatedTransform(c),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(M){if((M=M??22)>=this.transform.minZoom){const c=this._getTransformForUpdate();return c.setMaxZoom(M),this._applyUpdatedTransform(c),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(M){if((M=M??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(M>=0&&M<=this.transform.maxPitch)return this.transform.setMinPitch(M),this._update(),this.getPitch()<M&&this.setPitch(M),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(M){if((M=M??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(M>=this.transform.minPitch)return this.transform.setMaxPitch(M),this._update(),this.getPitch()>M&&this.setPitch(M),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(M){return this.transform.setRenderWorldCopies(M),this._update()}setTransformConstrain(M){return this.transform.setConstrainOverride(M),this._update()}project(M){return this.transform.locationToScreenPoint(s.V.convert(M),this.style&&this.terrain)}unproject(M){return this.transform.screenPointToLocation(s.P.convert(M),this.terrain)}isMoving(){var M;return this._moving||((M=this.handlers)===null||M===void 0?void 0:M.isMoving())}isZooming(){var M;return this._zooming||((M=this.handlers)===null||M===void 0?void 0:M.isZooming())}isRotating(){var M;return this._rotating||((M=this.handlers)===null||M===void 0?void 0:M.isRotating())}_createDelegatedListener(M,c,A){if(M==="mouseenter"||M==="mouseover"){let _=!1;return{layers:c,listener:A,delegates:{mousemove:F=>{const U=c.filter((X=>this.getLayer(X))),V=U.length!==0?this.queryRenderedFeatures(F.point,{layers:U}):[];V.length?_||(_=!0,A.call(this,new Kr(M,this,F.originalEvent,{features:V}))):_=!1},mouseout:()=>{_=!1}}}}if(M==="mouseleave"||M==="mouseout"){let _=!1;return{layers:c,listener:A,delegates:{mousemove:U=>{const V=c.filter((X=>this.getLayer(X)));(V.length!==0?this.queryRenderedFeatures(U.point,{layers:V}):[]).length?_=!0:_&&(_=!1,A.call(this,new Kr(M,this,U.originalEvent)))},mouseout:U=>{_&&(_=!1,A.call(this,new Kr(M,this,U.originalEvent)))}}}}{const _=C=>{const F=c.filter((V=>this.getLayer(V))),U=F.length!==0?this.queryRenderedFeatures(C.point,{layers:F}):[];U.length&&(C.features=U,A.call(this,C),delete C.features)};return{layers:c,listener:A,delegates:{[M]:_}}}}_saveDelegatedListener(M,c){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[M]=this._delegatedListeners[M]||[],this._delegatedListeners[M].push(c)}_removeDelegatedListener(M,c,A){if(!this._delegatedListeners||!this._delegatedListeners[M])return;const _=this._delegatedListeners[M];for(let C=0;C<_.length;C++){const F=_[C];if(F.listener===A&&F.layers.length===c.length&&F.layers.every((U=>c.includes(U)))){for(const U in F.delegates)this.off(U,F.delegates[U]);return void _.splice(C,1)}}}on(M,c,A){if(A===void 0)return super.on(M,c);const _=typeof c=="string"?[c]:c,C=this._createDelegatedListener(M,_,A);this._saveDelegatedListener(M,C);for(const F in C.delegates)this.on(F,C.delegates[F]);return{unsubscribe:()=>{this._removeDelegatedListener(M,_,A)}}}once(M,c,A){if(A===void 0)return super.once(M,c);const _=typeof c=="string"?[c]:c,C=this._createDelegatedListener(M,_,A);for(const F in C.delegates){const U=C.delegates[F];C.delegates[F]=(...V)=>{this._removeDelegatedListener(M,_,A),U(...V)}}this._saveDelegatedListener(M,C);for(const F in C.delegates)this.once(F,C.delegates[F]);return this}off(M,c,A){return A===void 0?super.off(M,c):(this._removeDelegatedListener(M,typeof c=="string"?[c]:c,A),this)}queryRenderedFeatures(M,c){if(!this.style)return[];let A;const _=M instanceof s.P||Array.isArray(M),C=_?M:[[0,0],[this.transform.width,this.transform.height]];if(c=c||(_?{}:M)||{},C instanceof s.P||typeof C[0]=="number")A=[s.P.convert(C)];else{const F=s.P.convert(C[0]),U=s.P.convert(C[1]);A=[F,new s.P(U.x,F.y),U,new s.P(F.x,U.y),F]}return this.style.queryRenderedFeatures(A,c,this.transform)}querySourceFeatures(M,c){return this.style.querySourceFeatures(M,c)}setStyle(M,c){return(c=s.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},c)).diff!==!1&&c.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&M?(this._diffStyle(M,c),this):(this._localIdeographFontFamily=c.localIdeographFontFamily,this._updateStyle(M,c))}setTransformRequest(M){return this._requestManager.setTransformRequest(M),this}_getUIString(M){const c=this._locale[M];if(c==null)throw new Error(`Missing UI string '${M}'`);return c}_updateStyle(M,c){var A,_;if(c.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(M,c)));const C=this.style&&c.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!M)),M?(this.style=new vo(this,c||{}),this.style.setEventedParent(this,{style:this.style}),typeof M=="string"?this.style.loadURL(M,c,C):this.style.loadJSON(M,c,C),this):((_=(A=this.style)===null||A===void 0?void 0:A.projection)===null||_===void 0||_.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new vo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(M,c){if(typeof M=="string"){const A=this._requestManager.transformRequest(M,"Style");s.j(A,new AbortController).then((_=>{this._updateDiff(_.data,c)})).catch((_=>{_&&this.fire(new s.k(_))}))}else typeof M=="object"&&this._updateDiff(M,c)}_updateDiff(M,c){try{this.style.setState(M,c)&&this._update(!0)}catch(A){s.w(`Unable to perform style diff: ${A.message||A.error||A}.  Rebuilding the style from scratch.`),this._updateStyle(M,c)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():s.w("There is no style added to the map.")}addSource(M,c){return this._lazyInitEmptyStyle(),this.style.addSource(M,c),this._update(!0)}isSourceLoaded(M){const c=this.style&&this.style.tileManagers[M];if(c!==void 0)return c.loaded();this.fire(new s.k(new Error(`There is no tile manager with ID '${M}'`)))}setTerrain(M){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),M){const c=this.style.tileManagers[M.source];if(!c)throw new Error(`cannot load terrain, because there exists no source with ID: ${M.source}`);this.terrain===null&&c.reload();for(const A in this.style._layers){const _=this.style._layers[A];_.type==="hillshade"&&_.source===M.source&&s.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),_.type==="color-relief"&&_.source===M.source&&s.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Zr(this.painter,c,M),this.painter.renderToTexture=new Sf(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=A=>{var _;A.dataType==="style"?this.terrain.tileManager.freeRtt():A.dataType==="source"&&A.tile&&(A.sourceId!==M.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((_=A.source)===null||_===void 0?void 0:_.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(A.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new s.l("terrain",{terrain:M})),this}getTerrain(){var M,c;return(c=(M=this.terrain)===null||M===void 0?void 0:M.options)!==null&&c!==void 0?c:null}areTilesLoaded(){const M=this.style&&this.style.tileManagers;for(const c of Object.values(M))if(!c.areTilesLoaded())return!1;return!0}removeSource(M){return this.style.removeSource(M),this._update(!0)}getSource(M){return this.style.getSource(M)}setSourceTileLodParams(M,c,A){if(A){const _=this.getSource(A);if(!_)throw new Error(`There is no source with ID "${A}", cannot set LOD parameters`);_.calculateTileZoom=An(Math.max(1,M),Math.max(1,c))}else for(const _ in this.style.tileManagers)this.style.tileManagers[_].getSource().calculateTileZoom=An(Math.max(1,M),Math.max(1,c));return this._update(!0),this}refreshTiles(M,c){const A=this.style.tileManagers[M];if(!A)throw new Error(`There is no tile manager with ID "${M}", cannot refresh tile`);c===void 0?A.reload(!0):A.refreshTiles(c.map((_=>new s.ac(_.z,_.x,_.y))))}addImage(M,c,A={}){const{pixelRatio:_=1,sdf:C=!1,stretchX:F,stretchY:U,content:V,textFitWidth:X,textFitHeight:ie}=A;if(this._lazyInitEmptyStyle(),!(c instanceof HTMLImageElement||s.b(c))){if(c.width===void 0||c.height===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:se,height:fe,data:ue}=c,ye=c;return this.style.addImage(M,{data:new s.R({width:se,height:fe},new Uint8Array(ue)),pixelRatio:_,stretchX:F,stretchY:U,content:V,textFitWidth:X,textFitHeight:ie,sdf:C,version:0,userImage:ye}),ye.onAdd&&ye.onAdd(this,M),this}}{const{width:se,height:fe,data:ue}=S.getImageData(c);this.style.addImage(M,{data:new s.R({width:se,height:fe},ue),pixelRatio:_,stretchX:F,stretchY:U,content:V,textFitWidth:X,textFitHeight:ie,sdf:C,version:0})}}updateImage(M,c){const A=this.style.getImage(M);if(!A)return this.fire(new s.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const _=c instanceof HTMLImageElement||s.b(c)?S.getImageData(c):c,{width:C,height:F,data:U}=_;if(C===void 0||F===void 0)return this.fire(new s.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(C!==A.data.width||F!==A.data.height)return this.fire(new s.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const V=!(c instanceof HTMLImageElement||s.b(c));return A.data.replace(U,V),this.style.updateImage(M,A),this}getImage(M){return this.style.getImage(M)}hasImage(M){return M?!!this.style.getImage(M):(this.fire(new s.k(new Error("Missing required image id"))),!1)}removeImage(M){this.style.removeImage(M)}loadImage(M){return q.getImage(this._requestManager.transformRequest(M,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(M,c){return this._lazyInitEmptyStyle(),this.style.addLayer(M,c),this._update(!0)}moveLayer(M,c){return this.style.moveLayer(M,c),this._update(!0)}removeLayer(M){return this.style.removeLayer(M),this._update(!0)}getLayer(M){return this.style.getLayer(M)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(M,c,A){return this.style.setLayerZoomRange(M,c,A),this._update(!0)}setFilter(M,c,A={}){return this.style.setFilter(M,c,A),this._update(!0)}getFilter(M){return this.style.getFilter(M)}setPaintProperty(M,c,A,_={}){return this.style.setPaintProperty(M,c,A,_),this._update(!0)}getPaintProperty(M,c){return this.style.getPaintProperty(M,c)}setLayoutProperty(M,c,A,_={}){return this.style.setLayoutProperty(M,c,A,_),this._update(!0)}getLayoutProperty(M,c){return this.style.getLayoutProperty(M,c)}setGlyphs(M,c={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(M,c),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(M,c,A={}){return this._lazyInitEmptyStyle(),this.style.addSprite(M,c,A,(_=>{_||this._update(!0)})),this}removeSprite(M){return this._lazyInitEmptyStyle(),this.style.removeSprite(M),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(M,c={}){return this._lazyInitEmptyStyle(),this.style.setSprite(M,c,(A=>{A||this._update(!0)})),this}setLight(M,c={}){return this._lazyInitEmptyStyle(),this.style.setLight(M,c),this._update(!0)}getLight(){return this.style.getLight()}setSky(M,c={}){return this._lazyInitEmptyStyle(),this.style.setSky(M,c),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(M,c){return this.style.setFeatureState(M,c),this._update()}removeFeatureState(M,c){return this.style.removeFeatureState(M,c),this._update()}getFeatureState(M){return this.style.getFeatureState(M)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let M=0,c=0;return this._container&&(M=this._container.clientWidth||400,c=this._container.clientHeight||300),[M,c]}_setupContainer(){const M=this._container;M.classList.add("maplibregl-map");const c=this._canvasContainer=O.create("div","maplibregl-canvas-container",M);this._interactive&&c.classList.add("maplibregl-interactive"),this._canvas=O.create("canvas","maplibregl-canvas",c),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const A=this._containerDimensions(),_=this._getClampedPixelRatio(A[0],A[1]);this._resizeCanvas(A[0],A[1],_);const C=this._controlContainer=O.create("div","maplibregl-control-container",M),F=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((U=>{F[U]=O.create("div",`maplibregl-ctrl-${U} `,C)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(M,c,A){this._canvas.width=Math.floor(A*M),this._canvas.height=Math.floor(A*c),this._canvas.style.width=`${M}px`,this._canvas.style.height=`${c}px`}_setupPainter(){const M=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let c=null;this._canvas.addEventListener("webglcontextcreationerror",(_=>{c={requestedAttributes:M},_&&(c.statusMessage=_.statusMessage,c.type=_.type)}),{once:!0});let A=null;if(A=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,M):this._canvas.getContext("webgl2",M)||this._canvas.getContext("webgl",M),!A){const _="Failed to initialize WebGL";throw c?(c.message=_,new Error(JSON.stringify(c))):new Error(_)}this.painter=new pu(A,this.transform),H.testSupport(A)}migrateProjection(M,c){super.migrateProjection(M,c),this.painter.transform=M,this.fire(new s.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(M){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||M,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(M){return this._update(),this._renderTaskQueue.add(M)}_cancelRenderFrame(M){this._renderTaskQueue.remove(M)}_render(M){var c,A,_,C,F;const U=this._idleTriggered?this._fadeDuration:0,V=((c=this.style.projection)===null||c===void 0?void 0:c.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(M),this._removed)return;let X=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const fe=this.transform.zoom,ue=I();this.style.zoomHistory.update(fe,ue);const ye=new s.H(fe,{now:ue,fadeDuration:U,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Te=ye.crossFadingFactor();Te===1&&Te===this._crossFadingFactor||(X=!0,this._crossFadingFactor=Te),this.style.update(ye)}const ie=((A=this.style.projection)===null||A===void 0?void 0:A.transitionState)>0!==V;(_=this.style.projection)===null||_===void 0||_.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((C=this.style.projection)===null||C===void 0?void 0:C.transitionState,(F=this.style.projection)===null||F===void 0?void 0:F.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||ie)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,U,this._crossSourceCollisions,ie),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:U,showPadding:this.showPadding}),this.fire(new s.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,s.cG.mark(s.cH.load),this.fire(new s.l("load"))),this.style&&(this.style.hasTransitions()||X)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const se=this._sourcesDirty||this._styleDirty||this._placementDirty;return se||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new s.l("idle")),!this._loaded||this._fullyLoaded||se||(this._fullyLoaded=!0,s.cG.mark(s.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var M;this._hash&&this._hash.remove();for(const A of this._controls)A.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),q.removeThrottleControl(this._imageQueueHandle),(M=this._resizeObserver)===null||M===void 0||M.disconnect();const c=this.painter.context.gl.getExtension("WEBGL_lose_context");c?.loseContext&&c.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),O.remove(this._canvasContainer),O.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),s.cG.clearMetrics(),this._removed=!0,this.fire(new s.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,S.frame(this._frameRequest,(M=>{s.cG.frame(M),this._frameRequest=null;try{this._render(M)}catch(c){if(!s.Z(c)&&!(function(A){return A.message===Hu})(c))throw c}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(M){this._showTileBoundaries!==M&&(this._showTileBoundaries=M,this._update())}get showPadding(){return!!this._showPadding}set showPadding(M){this._showPadding!==M&&(this._showPadding=M,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(M){this._showCollisionBoxes!==M&&(this._showCollisionBoxes=M,M?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(M){this._showOverdrawInspector!==M&&(this._showOverdrawInspector=M,this._update())}get repaint(){return!!this._repaint}set repaint(M){this._repaint!==M&&(this._repaint=M,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(M){this._vertices=M,this._update()}get version(){return Ug}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(M){return this._lazyInitEmptyStyle(),this.style.setProjection(M),this._update(!0)}},o.MapMouseEvent=Kr,o.MapTouchEvent=zl,o.MapWheelEvent=Ph,o.Marker=kf,o.NavigationControl=class{constructor(M){this._updateZoomButtons=()=>{const c=this._map.getZoom(),A=c===this._map.getMaxZoom(),_=c===this._map.getMinZoom();this._zoomInButton.disabled=A,this._zoomOutButton.disabled=_,this._zoomInButton.setAttribute("aria-disabled",A.toString()),this._zoomOutButton.setAttribute("aria-disabled",_.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(c,A)=>{const _=this._map._getUIString(`NavigationControl.${A}`);c.title=_,c.setAttribute("aria-label",_)},this.options=s.e({},Ng,M),this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(c=>c.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(c=>this._map.zoomIn({},{originalEvent:c}))),O.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(c=>this._map.zoomOut({},{originalEvent:c}))),O.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(c=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:c}):this._map.resetNorth({},{originalEvent:c})})),this._compassIcon=O.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(M){return this._map=M,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bf(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){O.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(M,c){const A=O.create("button",M,this._container);return A.type="button",A.addEventListener("click",c),A}},o.Popup=class extends s.E{constructor(M){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&O.remove(this._content),this._container&&(O.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new s.l("close"))),this),this._onMouseUp=c=>{this._update(c.point)},this._onMouseMove=c=>{this._update(c.point)},this._onDrag=c=>{this._update(c.point)},this._update=c=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=O.create("div","maplibregl-popup",this._map.getContainer()),this._tip=O.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const U of this.options.className.split(" "))this._container.classList.add(U);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=YA(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!c)return;const A=this._flatPos=this._pos=this._trackPointer&&c?c:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&c?c:this._map.transform.locationToScreenPoint(this._lngLat));let _=this.options.anchor;const C=ZA(this.options.offset);if(!_){const U=this._container.offsetWidth,V=this._container.offsetHeight;let X;X=A.y+C.bottom.y<V?["top"]:A.y>this._map.transform.height-V?["bottom"]:[],A.x<U/2?X.push("left"):A.x>this._map.transform.width-U/2&&X.push("right"),_=X.length===0?"bottom":X.join("-")}let F=A.add(C[_]);this.options.subpixelPositioning||(F=F.round()),O.setTransform(this._container,`${Ef[_]} translate(${F.x}px,${F.y}px)`),KA(this._container,_,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=s.e(Object.create(Qg),M)}addTo(M){return this._map&&this.remove(),this._map=M,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new s.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(M){return this._lngLat=s.V.convert(M),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(M){return this.setDOMContent(document.createTextNode(M))}setHTML(M){const c=document.createDocumentFragment(),A=document.createElement("body");let _;for(A.innerHTML=M;_=A.firstChild,_;)c.appendChild(_);return this.setDOMContent(c)}getMaxWidth(){var M;return(M=this._container)===null||M===void 0?void 0:M.style.maxWidth}setMaxWidth(M){return this.options.maxWidth=M,this._update(),this}setDOMContent(M){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=O.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(M),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(M){return this._container&&this._container.classList.add(M),this}removeClassName(M){return this._container&&this._container.classList.remove(M),this}setOffset(M){return this.options.offset=M,this._update(),this}toggleClassName(M){if(this._container)return this._container.classList.toggle(M)}setSubpixelPositioning(M){this.options.subpixelPositioning=M}_createCloseButton(){this.options.closeButton&&(this._closeButton=O.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const M=this._container.querySelector(qA);M&&M.focus()}},o.RasterDEMTileSource=ui,o.RasterTileSource=Oi,o.ScaleControl=class{constructor(M){this._onMove=()=>{Tf(this._map,this._container,this.options)},this.setUnit=c=>{this.options.unit=c,Tf(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Hg),M)}getDefaultPosition(){return"bottom-left"}onAdd(M){return this._map=M,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-scale",M.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){O.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},o.ScrollZoomHandler=VA,o.Style=vo,o.TerrainControl=class{constructor(M){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=M}onAdd(M){return this._map=M,this._container=O.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=O.create("button","maplibregl-ctrl-terrain",this._container),O.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){O.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},o.TwoFingersTouchPitchHandler=cy,o.TwoFingersTouchRotateHandler=Pg,o.TwoFingersTouchZoomHandler=Fg,o.TwoFingersTouchZoomRotateHandler=wf,o.VectorTileSource=ci,o.VideoSource=ft,o.addSourceType=(M,c)=>s._(void 0,void 0,void 0,(function*(){if(Ee(M))throw new Error(`A source type called "${M}" already exists.`);((A,_)=>{we[A]=_})(M,c)})),o.clearPrewarmedResources=function(){const M=si;M&&(M.isPreloaded()&&M.numActive()===1?(M.release(It),si=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},o.createTileMesh=Tn,o.getMaxParallelImageRequests=function(){return s.c.MAX_PARALLEL_IMAGE_REQUESTS},o.getRTLTextPluginStatus=function(){return yt().getRTLTextPluginStatus()},o.getVersion=function(){return jg},o.getWorkerCount=function(){return bt.workerCount},o.getWorkerUrl=function(){return s.c.WORKER_URL},o.importScriptInWorkers=function(M){return oi().broadcast("IS",M)},o.isTimeFrozen=function(){return P.isFrozen()},o.now=I,o.prewarm=function(){Vi().acquire(It)},o.restoreNow=function(){P.restoreNow()},o.setMaxParallelImageRequests=function(M){s.c.MAX_PARALLEL_IMAGE_REQUESTS=M},o.setNow=function(M){P.setNow(M)},o.setRTLTextPlugin=function(M,c){return yt().setRTLTextPlugin(M,c)},o.setWorkerCount=function(M){bt.workerCount=M},o.setWorkerUrl=function(M){s.c.WORKER_URL=M}}));var r=t;return r}))})(Gx)),Gx.exports}var XN=$N();const YN=TS(XN);(function(a,e,t){function i(n,r){for(;(n=n.parentElement)&&!n.classList.contains(r););return n}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(n,r){this._map=n,this._container=n._container,this._overlayPane=n._panes.overlayPane,this._popupPane=n._panes.popupPane,r&&r.shapeOptions&&(r.shapeOptions=L.Util.extend({},this.options.shapeOptions,r.shapeOptions)),L.setOptions(this,r);var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(L.DomUtil.disableTextSelection(),n.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(n){L.setOptions(this,n)},_fireCreatedEvent:function(n){this._map.fire(L.Draw.Event.CREATED,{layer:n,layerType:this.type})},_cancelDrawing:function(n){n.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(n,r){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,r&&r.drawError&&(r.drawError=L.Util.extend({},this.options.drawError,r.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var n=this._markers.pop(),r=this._poly,o=r.getLatLngs(),s=o.splice(-1,1)[0];this._poly.setLatLngs(o),this._markerGroup.removeLayer(n),r.getLatLngs().length<2&&this._map.removeLayer(r),this._vertexChanged(s,!1)}},addVertex:function(n){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(n))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(n)),this._poly.addLatLng(n),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(n,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var n=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),r=this._poly.newLatLngIntersects(n[n.length-1]);if(!this.options.allowIntersection&&r||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent),o=this._map.layerPointToLatLng(r);this._currentLatLng=o,this._updateTooltip(o),this._updateGuide(r),this._mouseMarker.setLatLng(o),L.DomEvent.preventDefault(n.originalEvent)},_vertexChanged:function(n,r){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(n,r),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(n){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(n),this._clickHandled=!0,this._disableNewMarkers();var r=n.originalEvent,o=r.clientX,s=r.clientY;this._startPoint.call(this,o,s)}},_startPoint:function(n,r){this._mouseDownOrigin=L.point(n,r)},_onMouseUp:function(n){var r=n.originalEvent,o=r.clientX,s=r.clientY;this._endPoint.call(this,o,s,n),this._clickHandled=null},_endPoint:function(n,r,o){if(this._mouseDownOrigin){var s=L.point(n,r).distanceTo(this._mouseDownOrigin),u=this._calculateFinishDistance(o.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(o.latlng),this._finishShape()):u<10&&L.Browser.touch?this._finishShape():Math.abs(s)<9*(a.devicePixelRatio||1)&&this.addVertex(o.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(n){var r,o,s=n.originalEvent;!s.touches||!s.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(r=s.touches[0].clientX,o=s.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,r,o),this._endPoint.call(this,r,o,n),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(n){var r;if(this._markers.length>0){var o;if(this.type===L.Draw.Polyline.TYPE)o=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;o=this._markers[0]}var s=this._map.latLngToContainerPoint(o.getLatLng()),u=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),d=this._map.latLngToContainerPoint(u.getLatLng());r=s.distanceTo(d)}else r=1/0;return r},_updateFinishHandler:function(){var n=this._markers.length;n>1&&this._markers[n-1].on("click",this._finishShape,this),n>2&&this._markers[n-2].off("click",this._finishShape,this)},_createMarker:function(n){var r=new L.Marker(n,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(r),r},_updateGuide:function(n){var r=this._markers?this._markers.length:0;r>0&&(n=n||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[r-1].getLatLng()),n))},_updateTooltip:function(n){var r=this._getTooltipText();n&&this._tooltip.updatePosition(n),this._errorShown||this._tooltip.updateContent(r)},_drawGuide:function(n,r){var o,s,u,d=Math.floor(Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),g=this.options.guidelineDistance,x=this.options.maxGuideLineLength,b=d>x?d-x:g;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));b<d;b+=this.options.guidelineDistance)o=b/d,s={x:Math.floor(n.x*(1-o)+o*r.x),y:Math.floor(n.y*(1-o)+o*r.y)},u=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),u.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(u,s)},_updateGuideColor:function(n){if(this._guidesContainer)for(var r=0,o=this._guidesContainer.childNodes.length;r<o;r++)this._guidesContainer.childNodes[r].style.backgroundColor=n},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var n,r,o=this.options.showLength;return this._markers.length===0?n={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(r=o?this._getMeasurementString():"",n=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:r}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:r}),n},_updateRunningMeasure:function(n,r){var o,s,u=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(o=u-(r?2:1),s=L.GeometryUtil.isVersion07x()?n.distanceTo(this._markers[o].getLatLng())*(this.options.factor||1):this._map.distance(n,this._markers[o].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=s*(r?1:-1))},_getMeasurementString:function(){var n,r=this._currentLatLng,o=this._markers[this._markers.length-1].getLatLng();return n=L.GeometryUtil.isVersion07x()?o&&r&&r.distanceTo?this._measurementRunningTotal+r.distanceTo(o)*(this.options.factor||1):this._measurementRunningTotal||0:o&&r?this._measurementRunningTotal+this._map.distance(r,o)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(n,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout((function(){this._disableMarkers=!1}).bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var n=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(n,r){L.Draw.Polyline.prototype.initialize.call(this,n,r),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var n=this._markers.length;n===1&&this._markers[0].on("click",this._finishShape,this),n>2&&(this._markers[n-1].on("dblclick",this._finishShape,this),n>3&&this._markers[n-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var n,r;return this._markers.length===0?n=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(n=L.drawLocal.draw.handlers.polygon.tooltip.cont,r=this._getMeasurementString()):(n=L.drawLocal.draw.handlers.polygon.tooltip.end,r=this._getMeasurementString()),{text:n,subtext:r}},_getMeasurementString:function(){var n=this._area,r="";return n||this.options.showLength?(this.options.showLength&&(r=L.Draw.Polyline.prototype._getMeasurementString.call(this)),n&&(r+="<br>"+L.GeometryUtil.readableArea(n,this.options.metric,this.options.precision)),r):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(n,r){var o;!this.options.allowIntersection&&this.options.showArea&&(o=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(o)),L.Draw.Polyline.prototype._vertexChanged.call(this,n,r)},_cleanUpShape:function(){var n=this._markers.length;n>0&&(this._markers[0].off("click",this._finishShape,this),n>2&&this._markers[n-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(n,r){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(n){this._isDrawing=!0,this._startLatLng=n.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(n.originalEvent)},_onMouseMove:function(n){var r=n.latlng;this._tooltip.updatePosition(r),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(r))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(n,r){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,r)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(n){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!i(n.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(n){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,n)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,n),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_getTooltipText:function(){var n,r,o,s=L.Draw.SimpleShape.prototype._getTooltipText.call(this),u=this._shape,d=this.options.showArea;return u&&(n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=L.GeometryUtil.geodesicArea(n),o=d?L.GeometryUtil.readableArea(r,this.options.metric):""),{text:s.text,subtext:o}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(n,r){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,r)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(n){var r=n.latlng;this._tooltip.updatePosition(r),this._mouseMarker.setLatLng(r),this._marker?(r=this._mouseMarker.getLatLng(),this._marker.setLatLng(r)):(this._marker=this._createMarker(r),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(n){return new L.Marker(n,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(n){this._onMouseMove(n),this._onClick()},_fireCreatedEvent:function(){var n=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(n,r){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,n,r)},_fireCreatedEvent:function(){var n=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,n)},_createMarker:function(n){return new L.CircleMarker(n,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(n,r){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,n,r)},_drawShape:function(n){if(L.GeometryUtil.isVersion07x())var r=this._startLatLng.distanceTo(n);else var r=this._map.distance(this._startLatLng,n);this._shape?this._shape.setRadius(r):(this._shape=new L.Circle(this._startLatLng,r,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var n=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,n)},_onMouseMove:function(n){var r,o=n.latlng,s=this.options.showRadius,u=this.options.metric;if(this._tooltip.updatePosition(o),this._isDrawing){this._drawShape(o),r=this._shape.getRadius().toFixed(1);var d="";s&&(d=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(r,u,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:d})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(n,r){this._marker=n,L.setOptions(this,r)},addHooks:function(){var n=this._marker;n.dragging.enable(),n.on("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},removeHooks:function(){var n=this._marker;n.dragging.disable(),n.off("dragend",this._onDragEnd,n),this._toggleMarkerHighlight()},_onDragEnd:function(n){var r=n.target;r.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:r})},_toggleMarkerHighlight:function(){var n=this._marker._icon;n&&(n.style.display="none",L.DomUtil.hasClass(n,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,-4)):(L.DomUtil.addClass(n,"leaflet-edit-marker-selected"),this._offsetMarker(n,4)),n.style.display="")},_offsetMarker:function(n,r){var o=parseInt(n.style.marginTop,10)-r,s=parseInt(n.style.marginLeft,10)-r;n.style.marginTop=o+"px",n.style.marginLeft=s+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(n){this.latlngs=[n._latlngs],n._holes&&(this.latlngs=this.latlngs.concat(n._holes)),this._poly=n,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(n){for(var r=0;r<this._verticesHandlers.length;r++)n(this._verticesHandlers[r])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(n){n.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(n){n.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(n){n.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var n=0;n<this.latlngs.length;n++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[n],this._poly.options.poly))},_updateLatLngs:function(n){this.latlngs=[n.layer._latlngs],n.layer._holes&&(this.latlngs=this.latlngs.concat(n.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(n,r,o){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=n,o&&o.drawError&&(o.drawError=L.Util.extend({},this.options.drawError,o.drawError)),this._latlngs=r,L.setOptions(this,o)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var n=this._poly,r=n._path;n instanceof L.Polygon||(n.options.fill=!1,n.options.editing&&(n.options.editing.fill=!1)),r&&n.options.editing&&n.options.editing.className&&(n.options.original.className&&n.options.original.className.split(" ").forEach(function(o){L.DomUtil.removeClass(r,o)}),n.options.editing.className.split(" ").forEach(function(o){L.DomUtil.addClass(r,o)})),n.setStyle(n.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var n=this._poly,r=n._path;r&&n.options.editing&&n.options.editing.className&&(n.options.editing.className.split(" ").forEach(function(o){L.DomUtil.removeClass(r,o)}),n.options.original.className&&n.options.original.className.split(" ").forEach(function(o){L.DomUtil.addClass(r,o)})),n.setStyle(n.options.original),n._map&&(n._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var n,r,o,s,u=this._defaultShape();for(n=0,o=u.length;n<o;n++)s=this._createMarker(u[n],n),s.on("click",this._onMarkerClick,this),s.on("contextmenu",this._onContextMenu,this),this._markers.push(s);var d,g;for(n=0,r=o-1;n<o;r=n++)(n!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(d=this._markers[r],g=this._markers[n],this._createMiddleMarker(d,g),this._updatePrevNext(d,g))},_createMarker:function(n,r){var o=new L.Marker.Touch(n,{draggable:!0,icon:this.options.icon});return o._origLatLng=n,o._index=r,o.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(o),o},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var n=this._defaultShape(),r=[].splice.apply(n,arguments);return this._poly._convertLatLngs(n,!0),this._poly.redraw(),r},_removeMarker:function(n){var r=n._index;this._markerGroup.removeLayer(n),this._markers.splice(r,1),this._spliceLatLngs(r,1),this._updateIndexes(r,-1),n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(n){var r=n.target,o=this._poly,s=L.LatLngUtil.cloneLatLng(r._origLatLng);if(L.extend(r._origLatLng,r._latlng),o.options.poly){var u=o._map._editTooltip;if(!o.options.poly.allowIntersection&&o.intersects()){L.extend(r._origLatLng,s),r.setLatLng(s);var d=o.options.color;o.setStyle({color:this.options.drawError.color}),u&&u.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){o.setStyle({color:d}),u&&u.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var g=this._poly.getLatLngs();this._poly._convertLatLngs(g,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(n){var r=L.Polygon&&this._poly instanceof L.Polygon?4:3,o=n.target;this._defaultShape().length<r||(this._removeMarker(o),this._updatePrevNext(o._prev,o._next),o._middleLeft&&this._markerGroup.removeLayer(o._middleLeft),o._middleRight&&this._markerGroup.removeLayer(o._middleRight),o._prev&&o._next?this._createMiddleMarker(o._prev,o._next):o._prev?o._next||(o._prev._middleRight=null):o._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(n){var r=n.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:r,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),o=this._map.layerPointToLatLng(r),s=n.target;L.extend(s._origLatLng,o),s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(n,r){this._markerGroup.eachLayer(function(o){o._index>n&&(o._index+=r)})},_createMiddleMarker:function(n,r){var o,s,u,d=this._getMiddleLatLng(n,r),g=this._createMarker(d);g.setOpacity(.6),n._middleRight=r._middleLeft=g,s=function(){g.off("touchmove",s,this);var x=r._index;g._index=x,g.off("click",o,this).on("click",this._onMarkerClick,this),d.lat=g.getLatLng().lat,d.lng=g.getLatLng().lng,this._spliceLatLngs(x,0,d),this._markers.splice(x,0,g),g.setOpacity(1),this._updateIndexes(x,1),r._index++,this._updatePrevNext(n,g),this._updatePrevNext(g,r),this._poly.fire("editstart")},u=function(){g.off("dragstart",s,this),g.off("dragend",u,this),g.off("touchmove",s,this),this._createMiddleMarker(n,g),this._createMiddleMarker(g,r)},o=function(){s.call(this),u.call(this),this._fireEdit()},g.on("click",o,this).on("dragstart",s,this).on("dragend",u,this).on("touchmove",s,this),this._markerGroup.addLayer(g)},_updatePrevNext:function(n,r){n&&(n._next=r),r&&(r._prev=n)},_getMiddleLatLng:function(n,r){var o=this._poly._map,s=o.project(n.getLatLng()),u=o.project(r.getLatLng());return o.unproject(s._add(u)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(n,r){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=n,L.Util.setOptions(this,r)},addHooks:function(){var n=this._shape;this._shape._map&&(this._map=this._shape._map,n.setStyle(n.options.editing),n._map&&(this._map=n._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var n=this._shape;if(n.setStyle(n.options.original),n._map){this._unbindMarker(this._moveMarker);for(var r=0,o=this._resizeMarkers.length;r<o;r++)this._unbindMarker(this._resizeMarkers[r]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(n,r){var o=new L.Marker.Touch(n,{draggable:!0,icon:r,zIndexOffset:10});return this._bindMarker(o),this._markerGroup.addLayer(o),o},_bindMarker:function(n){n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(n){n.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(n){n.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(n){var r=n.target,o=r.getLatLng();r===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(n){n.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(n){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n),typeof this._getCorners=="function"){var r=this._getCorners(),o=n.target,s=o._cornerIndex;o.setOpacity(0),this._oppositeCorner=r[(s+2)%4],this._toggleCornerMarkers(0,s)}this._shape.fire("editstart")},_onTouchMove:function(n){var r=this._map.mouseEventToLayerPoint(n.originalEvent.touches[0]),o=this._map.layerPointToLatLng(r);return n.target===this._moveMarker?this._move(o):this._resize(o),this._shape.redraw(),!1},_onTouchEnd:function(n){n.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getBounds(),r=n.getCenter();this._moveMarker=this._createMarker(r,this.options.moveIcon)},_createResizeMarker:function(){var n=this._getCorners();this._resizeMarkers=[];for(var r=0,o=n.length;r<o;r++)this._resizeMarkers.push(this._createMarker(n[r],this.options.resizeIcon)),this._resizeMarkers[r]._cornerIndex=r},_onMarkerDragStart:function(n){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,n);var r=this._getCorners(),o=n.target,s=o._cornerIndex;this._oppositeCorner=r[(s+2)%4],this._toggleCornerMarkers(0,s)},_onMarkerDragEnd:function(n){var r,o,s=n.target;s===this._moveMarker&&(r=this._shape.getBounds(),o=r.getCenter(),s.setLatLng(o)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,n)},_move:function(n){for(var r,o=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=this._shape.getBounds(),u=s.getCenter(),d=[],g=0,x=o.length;g<x;g++)r=[o[g].lat-u.lat,o[g].lng-u.lng],d.push([n.lat+r[0],n.lng+r[1]]);this._shape.setLatLngs(d),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(n){var r;this._shape.setBounds(L.latLngBounds(n,this._oppositeCorner)),r=this._shape.getBounds(),this._moveMarker.setLatLng(r.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var n=this._shape.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_toggleCornerMarkers:function(n){for(var r=0,o=this._resizeMarkers.length;r<o;r++)this._resizeMarkers[r].setOpacity(n)},_repositionCornerMarkers:function(){for(var n=this._getCorners(),r=0,o=this._resizeMarkers.length;r<o;r++)this._resizeMarkers[r].setLatLng(n[r])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var n=this._shape.getLatLng();this._moveMarker=this._createMarker(n,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(n){if(this._resizeMarkers.length){var r=this._getResizeMarkerPoint(n);this._resizeMarkers[0].setLatLng(r)}this._shape.setLatLng(n),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var n=this._shape.getLatLng(),r=this._getResizeMarkerPoint(n);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(r,this.options.resizeIcon))},_getResizeMarkerPoint:function(n){var r=this._shape._radius*Math.cos(Math.PI/4),o=this._map.project(n);return this._map.unproject([o.x+r,o.y-r])},_resize:function(n){var r=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=r.distanceTo(n):radius=this._map.distance(r,n),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(n,r){var o={};if(n.touches!==void 0){if(!n.touches.length)return;o=n.touches[0]}else if(n.pointerType!=="touch"||(o=n,!this._filterClick(n)))return;var s=this._map.mouseEventToContainerPoint(o),u=this._map.mouseEventToLayerPoint(o),d=this._map.layerPointToLatLng(u);this._map.fire(r,{latlng:d,layerPoint:u,containerPoint:s,pageX:o.pageX,pageY:o.pageY,originalEvent:n})},_filterClick:function(n){var r=n.timeStamp||n.originalEvent.timeStamp,o=L.DomEvent._lastClick&&r-L.DomEvent._lastClick;return o&&o>100&&o<500||n.target._simulatedClick&&!n._simulated?(L.DomEvent.stop(n),!1):(L.DomEvent._lastClick=r,!0)},_onTouchStart:function(n){this._map._loaded&&this._touchEvent(n,"touchstart")},_onTouchEnd:function(n){this._map._loaded&&this._touchEvent(n,"touchend")},_onTouchCancel:function(n){if(this._map._loaded){var r="touchcancel";this._detectIE()&&(r="pointercancel"),this._touchEvent(n,r)}},_onTouchLeave:function(n){this._map._loaded&&this._touchEvent(n,"touchleave")},_onTouchMove:function(n){this._map._loaded&&this._touchEvent(n,"touchmove")},_detectIE:function(){var n=a.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return parseInt(n.substring(r+5,n.indexOf(".",r)),10);if(n.indexOf("Trident/")>0){var o=n.indexOf("rv:");return parseInt(n.substring(o+3,n.indexOf(".",o)),10)}var s=n.indexOf("Edge/");return s>0&&parseInt(n.substring(s+5,n.indexOf(".",s)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var n=this._icon,r=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?r.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):r.concat(["touchcancel"]),L.DomUtil.addClass(n,"leaflet-clickable"),L.DomEvent.on(n,"click",this._onMouseClick,this),L.DomEvent.on(n,"keypress",this._onKeyPress,this);for(var o=0;o<r.length;o++)L.DomEvent.on(n,r[o],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var n=a.navigator.userAgent,r=n.indexOf("MSIE ");if(r>0)return parseInt(n.substring(r+5,n.indexOf(".",r)),10);if(n.indexOf("Trident/")>0){var o=n.indexOf("rv:");return parseInt(n.substring(o+3,n.indexOf(".",o)),10)}var s=n.indexOf("Edge/");return s>0&&parseInt(n.substring(s+5,n.indexOf(".",s)),10)}}),L.LatLngUtil={cloneLatLngs:function(n){for(var r=[],o=0,s=n.length;o<s;o++)Array.isArray(n[o])?r.push(L.LatLngUtil.cloneLatLngs(n[o])):r.push(this.cloneLatLng(n[o]));return r},cloneLatLng:function(n){return L.latLng(n.lat,n.lng)}},(function(){var n={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(r){var o,s,u=r.length,d=0,g=Math.PI/180;if(u>2){for(var x=0;x<u;x++)o=r[x],s=r[(x+1)%u],d+=(s.lng-o.lng)*g*(2+Math.sin(o.lat*g)+Math.sin(s.lat*g));d=6378137*d*6378137/2}return Math.abs(d)},formattedNumber:function(r,o){var s=parseFloat(r).toFixed(o),u=L.drawLocal.format&&L.drawLocal.format.numeric,d=u&&u.delimiters,g=d&&d.thousands,x=d&&d.decimal;if(g||x){var b=s.split(".");s=g?b[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+g):b[0],x=x||".",b.length>1&&(s=s+x+b[1])}return s},readableArea:function(r,o,g){var u,d,g=L.Util.extend({},n,g);return o?(d=["ha","m"],type=typeof o,type==="string"?d=[o]:type!=="boolean"&&(d=o),u=r>=1e6&&d.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*r,g.km)+" km":r>=1e4&&d.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*r,g.ha)+" ha":L.GeometryUtil.formattedNumber(r,g.m)+" m"):(r/=.836127,u=r>=3097600?L.GeometryUtil.formattedNumber(r/3097600,g.mi)+" mi":r>=4840?L.GeometryUtil.formattedNumber(r/4840,g.ac)+" acres":L.GeometryUtil.formattedNumber(r,g.yd)+" yd"),u},readableDistance:function(r,o,s,u,x){var g,x=L.Util.extend({},n,x);switch(o?typeof o=="string"?o:"metric":s?"feet":u?"nauticalMile":"yards"){case"metric":g=r>1e3?L.GeometryUtil.formattedNumber(r/1e3,x.km)+" km":L.GeometryUtil.formattedNumber(r,x.m)+" m";break;case"feet":r*=3.28083,g=L.GeometryUtil.formattedNumber(r,x.ft)+" ft";break;case"nauticalMile":r*=.53996,g=L.GeometryUtil.formattedNumber(r/1e3,x.nm)+" nm";break;case"yards":default:r*=1.09361,g=r>1760?L.GeometryUtil.formattedNumber(r/1760,x.mi)+" miles":L.GeometryUtil.formattedNumber(r,x.yd)+" yd"}return g},isVersion07x:function(){var r=L.version.split(".");return parseInt(r[0],10)===0&&parseInt(r[1],10)===7}})})(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(n,r,o,s){return this._checkCounterclockwise(n,o,s)!==this._checkCounterclockwise(r,o,s)&&this._checkCounterclockwise(n,r,o)!==this._checkCounterclockwise(n,r,s)},_checkCounterclockwise:function(n,r,o){return(o.y-n.y)*(r.x-n.x)>(r.y-n.y)*(o.x-n.x)}}),L.Polyline.include({intersects:function(){var n,r,o,s=this._getProjectedPoints(),u=s?s.length:0;if(this._tooFewPointsForIntersection())return!1;for(n=u-1;n>=3;n--)if(r=s[n-1],o=s[n],this._lineSegmentsIntersectsRange(r,o,n-2))return!0;return!1},newLatLngIntersects:function(n,r){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(n),r)},newPointIntersects:function(n,r){var o=this._getProjectedPoints(),s=o?o.length:0,u=o?o[s-1]:null,d=s-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(u,n,d,r?1:0)},_tooFewPointsForIntersection:function(n){var r=this._getProjectedPoints(),o=r?r.length:0;return o+=n||0,!r||o<=3},_lineSegmentsIntersectsRange:function(n,r,o,s){var u,d,g=this._getProjectedPoints();s=s||0;for(var x=o;x>s;x--)if(u=g[x-1],d=g[x],L.LineUtil.segmentsIntersect(n,r,u,d))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var n=[],r=this._defaultShape(),o=0;o<r.length;o++)n.push(this._map.latLngToLayerPoint(r[o]));return n}}),L.Polygon.include({intersects:function(){var n,r,o,s,u=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(n=u.length,r=u[0],o=u[n-1],s=n-2,this._lineSegmentsIntersectsRange(o,r,s,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(n){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,n);var r;this._toolbars={},L.DrawToolbar&&this.options.draw&&(r=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=r,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(r=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=r,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(n){var r,o=L.DomUtil.create("div","leaflet-draw"),s=!1;for(var u in this._toolbars)this._toolbars.hasOwnProperty(u)&&(r=this._toolbars[u].addToolbar(n))&&(s||(L.DomUtil.hasClass(r,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(r.childNodes[0],"leaflet-draw-toolbar-top"),s=!0),o.appendChild(r));return o},onRemove:function(){for(var n in this._toolbars)this._toolbars.hasOwnProperty(n)&&this._toolbars[n].removeToolbar()},setDrawingOptions:function(n){for(var r in this._toolbars)this._toolbars[r]instanceof L.DrawToolbar&&this._toolbars[r].setOptions(n)},_toolbarEnabled:function(n){var r=n.target;for(var o in this._toolbars)this._toolbars[o]!==r&&this._toolbars[o].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(n){L.setOptions(this,n),this._modes={},this._actionButtons=[],this._activeMode=null;var r=L.version.split(".");parseInt(r[0],10)===1&&parseInt(r[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(n){var r,o=L.DomUtil.create("div","leaflet-draw-section"),s=0,u=this._toolbarClass||"",d=this.getModeHandlers(n);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=n,r=0;r<d.length;r++)d[r].enabled&&this._initModeHandler(d[r].handler,this._toolbarContainer,s++,u,d[r].title);if(s)return this._lastButtonIndex=--s,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),o.appendChild(this._toolbarContainer),o.appendChild(this._actionsContainer),o},removeToolbar:function(){for(var n in this._modes)this._modes.hasOwnProperty(n)&&(this._disposeButton(this._modes[n].button,this._modes[n].handler.enable,this._modes[n].handler),this._modes[n].handler.disable(),this._modes[n].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var r=0,o=this._actionButtons.length;r<o;r++)this._disposeButton(this._actionButtons[r].button,this._actionButtons[r].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(n,r,o,s,u){var d=n.type;this._modes[d]={},this._modes[d].handler=n,this._modes[d].button=this._createButton({type:d,title:u,className:s+"-"+d,container:r,callback:this._modes[d].handler.enable,context:this._modes[d].handler}),this._modes[d].buttonIndex=o,this._modes[d].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!a.MSStream},_createButton:function(n){var r=L.DomUtil.create("a",n.className||"",n.container),o=L.DomUtil.create("span","sr-only",n.container);r.href="#",r.appendChild(o),n.title&&(r.title=n.title,o.innerHTML=n.title),n.text&&(r.innerHTML=n.text,o.innerHTML=n.text);var s=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(r,"click",L.DomEvent.stopPropagation).on(r,"mousedown",L.DomEvent.stopPropagation).on(r,"dblclick",L.DomEvent.stopPropagation).on(r,"touchstart",L.DomEvent.stopPropagation).on(r,"click",L.DomEvent.preventDefault).on(r,s,n.callback,n.context),r},_disposeButton:function(n,r){var o=this._detectIOS()?"touchstart":"click";L.DomEvent.off(n,"click",L.DomEvent.stopPropagation).off(n,"mousedown",L.DomEvent.stopPropagation).off(n,"dblclick",L.DomEvent.stopPropagation).off(n,"touchstart",L.DomEvent.stopPropagation).off(n,"click",L.DomEvent.preventDefault).off(n,o,r)},_handlerActivated:function(n){this.disable(),this._activeMode=this._modes[n.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(n){var r,o,s,u,d=this._actionsContainer,g=this.getActions(n),x=g.length;for(o=0,s=this._actionButtons.length;o<s;o++)this._disposeButton(this._actionButtons[o].button,this._actionButtons[o].callback);for(this._actionButtons=[];d.firstChild;)d.removeChild(d.firstChild);for(var b=0;b<x;b++)"enabled"in g[b]&&!g[b].enabled||(r=L.DomUtil.create("li","",d),u=this._createButton({title:g[b].title,text:g[b].text,container:r,callback:g[b].callback,context:g[b].context}),this._actionButtons.push({button:u,callback:g[b].callback}))},_showActionsToolbar:function(){var n=this._activeMode.buttonIndex,r=this._lastButtonIndex,o=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=o+"px",n===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),n===r&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(n){this._map=n,this._popupPane=n._panes.popupPane,this._visible=!1,this._container=n.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(n){return this._container?(n.subtext=n.subtext||"",n.subtext.length!==0||this._singleLineLabel?n.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(n.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+n.subtext+"</span><br />":"")+"<span>"+n.text+"</span>",n.text||n.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(n){var r=this._map.latLngToLayerPoint(n),o=this._container;return this._container&&(this._visible&&(o.style.visibility="inherit"),L.DomUtil.setPosition(o,r)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(n){for(var r in this.options)this.options.hasOwnProperty(r)&&n[r]&&(n[r]=L.extend({},this.options[r],n[r]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,n)},getModeHandlers:function(n){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(n,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(n,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(n,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(n,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(n,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(n,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(n){return[{enabled:n.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:n.completeShape,context:n},{enabled:n.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:n.deleteLastVertex,context:n},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(n){L.setOptions(this,n);for(var r in this._modes)this._modes.hasOwnProperty(r)&&n.hasOwnProperty(r)&&this._modes[r].handler.setOptions(n[r])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(n){n.edit&&(n.edit.selectedPathOptions===void 0&&(n.edit.selectedPathOptions=this.options.edit.selectedPathOptions),n.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,n.edit.selectedPathOptions)),n.remove&&(n.remove=L.extend({},this.options.remove,n.remove)),n.poly&&(n.poly=L.extend({},this.options.poly,n.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,n),this._selectedFeatureCount=0},getModeHandlers:function(n){var r=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(n,{featureGroup:r,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(n,{featureGroup:r}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(n){var r=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return n.removeAllLayers&&r.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),r},addToolbar:function(n){var r=L.Toolbar.prototype.addToolbar.call(this,n);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),r},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var n,r=this.options.featureGroup,o=r.getLayers().length!==0;this.options.edit&&(n=this._modes[L.EditToolbar.Edit.TYPE].button,o?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(n=this._modes[L.EditToolbar.Delete.TYPE].button,o?L.DomUtil.removeClass(n,"leaflet-disabled"):L.DomUtil.addClass(n,"leaflet-disabled"),n.setAttribute("title",o?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(n,r){if(L.Handler.prototype.initialize.call(this,n),L.setOptions(this,r),this._featureGroup=r.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),n._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(n){this._revertLayer(n)},this)},save:function(){var n=new L.LayerGroup;this._featureGroup.eachLayer(function(r){r.edited&&(n.addLayer(r),r.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:n})},_backupLayer:function(n){var r=L.Util.stamp(n);this._uneditedLayerProps[r]||(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?this._uneditedLayerProps[r]={latlngs:L.LatLngUtil.cloneLatLngs(n.getLatLngs())}:n instanceof L.Circle?this._uneditedLayerProps[r]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng()),radius:n.getRadius()}:(n instanceof L.Marker||n instanceof L.CircleMarker)&&(this._uneditedLayerProps[r]={latlng:L.LatLngUtil.cloneLatLng(n.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(n){var r=L.Util.stamp(n);n.edited=!1,this._uneditedLayerProps.hasOwnProperty(r)&&(n instanceof L.Polyline||n instanceof L.Polygon||n instanceof L.Rectangle?n.setLatLngs(this._uneditedLayerProps[r].latlngs):n instanceof L.Circle?(n.setLatLng(this._uneditedLayerProps[r].latlng),n.setRadius(this._uneditedLayerProps[r].radius)):(n instanceof L.Marker||n instanceof L.CircleMarker)&&n.setLatLng(this._uneditedLayerProps[r].latlng),n.fire("revert-edited",{layer:n}))},_enableLayerEdit:function(n){var r,o,s=n.layer||n.target||n;this._backupLayer(s),this.options.poly&&(o=L.Util.extend({},this.options.poly),s.options.poly=o),this.options.selectedPathOptions&&(r=L.Util.extend({},this.options.selectedPathOptions),r.maintainColor&&(r.color=s.options.color,r.fillColor=s.options.fillColor),s.options.original=L.extend({},s.options),s.options.editing=r),s instanceof L.Marker?(s.editing&&s.editing.enable(),s.dragging.enable(),s.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.enable()},_disableLayerEdit:function(n){var r=n.layer||n.target||n;r.edited=!1,r.editing&&r.editing.disable(),delete r.options.editing,delete r.options.original,this._selectedPathOptions&&(r instanceof L.Marker?this._toggleMarkerHighlight(r):(r.setStyle(r.options.previousOptions),delete r.options.previousOptions)),r instanceof L.Marker?(r.dragging.disable(),r.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.disable()},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_onMarkerDragEnd:function(n){var r=n.target;r.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:r})},_onTouchMove:function(n){var r=n.originalEvent.changedTouches[0],o=this._map.mouseEventToLayerPoint(r),s=this._map.layerPointToLatLng(o);n.target.setLatLng(s)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(n,r){if(L.Handler.prototype.initialize.call(this,n),L.Util.setOptions(this,r),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var o=L.version.split(".");parseInt(o[0],10)===1&&parseInt(o[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var n=this._map;n&&(n.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(n){this._deletableLayers.addLayer(n),n.fire("revert-deleted",{layer:n})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(n){this._removeLayer({layer:n})},this),this.save()},_enableLayerDelete:function(n){(n.layer||n.target||n).on("click",this._removeLayer,this)},_disableLayerDelete:function(n){var r=n.layer||n.target||n;r.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(r)},_removeLayer:function(n){var r=n.layer||n.target||n;this._deletableLayers.removeLayer(r),this._deletedLayers.addLayer(r),r.fire("deleted")},_onMouseMove:function(n){this._tooltip.updatePosition(n.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function jy(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ek={},kk;function KN(){return kk||(kk=1,(function(){function a(e,t,i){function n(s,u){if(!t[s]){if(!e[s]){var d=typeof jy=="function"&&jy;if(!u&&d)return d(s,!0);if(r)return r(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var x=t[s]={exports:{}};e[s][0].call(x.exports,function(b){var S=e[s][1][b];return n(S||b)},x,x.exports,a,e,t,i)}return t[s].exports}for(var r=typeof jy=="function"&&jy,o=0;o<i.length;o++)n(i[o]);return n}return a})()({1:[function(a,e,t){function i(n,r,o){var s=!1;if(typeof window.XMLHttpRequest>"u")return r(Error("Browser not supported"));if(typeof o>"u"){var u=n.match(/^\s*https?:\/\/[^\/]*/);o=u&&u[0]!==location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}var d=new window.XMLHttpRequest;function g(S){return S>=200&&S<300||S===304}if(o&&!("withCredentials"in d)){d=new window.XDomainRequest;var x=r;r=function(){if(s)x.apply(this,arguments);else{var S=this,P=arguments;setTimeout(function(){x.apply(S,P)},0)}}}function b(){d.status===void 0||g(d.status)?r.call(d,null,d):r.call(d,d,null)}return"onload"in d?d.onload=b:d.onreadystatechange=function(){d.readyState===4&&b()},d.onerror=function(P){r.call(this,P||!0,null),r=function(){}},d.onprogress=function(){},d.ontimeout=function(S){r.call(this,S,null),r=function(){}},d.onabort=function(S){r.call(this,S,null),r=function(){}},d.open("GET",n,!0),d.send(null),s=!0,d}typeof e<"u"&&(e.exports=i)},{}],2:[function(a,e,t){var i={};function n(s){return Math.floor(Math.abs(s)+.5)*Math.sign(s)}function r(s,u,d){s=n(s*d),u=n(u*d);var g=s-u;g<<=1,s-u<0&&(g=~g);for(var x="";g>=32;)x+=String.fromCharCode((32|g&31)+63),g>>=5;return x+=String.fromCharCode(g+63),x}i.decode=function(s,u){for(var d=0,g=0,x=0,b=[],S=0,P=0,I=null,O,H,Q=Math.pow(10,u||5);d<s.length;){I=null,S=0,P=0;do I=s.charCodeAt(d++)-63,P|=(I&31)<<S,S+=5;while(I>=32);O=P&1?~(P>>1):P>>1,S=P=0;do I=s.charCodeAt(d++)-63,P|=(I&31)<<S,S+=5;while(I>=32);H=P&1?~(P>>1):P>>1,g+=O,x+=H,b.push([g/Q,x/Q])}return b},i.encode=function(s,u){if(!s.length)return"";for(var d=Math.pow(10,u||5),g=r(s[0][0],0,d)+r(s[0][1],0,d),x=1;x<s.length;x++){var b=s[x],S=s[x-1];g+=r(b[0],S[0],d),g+=r(b[1],S[1],d)}return g};function o(s){for(var u=[],d=0;d<s.length;d++)u.push(s[d].slice().reverse());return u}i.fromGeoJSON=function(s,u){if(s&&s.type==="Feature"&&(s=s.geometry),!s||s.type!=="LineString")throw new Error("Input must be a GeoJSON LineString");return i.encode(o(s.coordinates),u)},i.toGeoJSON=function(s,u){var d=i.decode(s,u);return{type:"LineString",coordinates:o(d)}},typeof e=="object"&&e.exports&&(e.exports=i)},{}],3:[function(a,e,t){var i=a("./languages"),n=i.instructions,r=i.grammars,o=i.abbreviations;e.exports=function(s){return Object.keys(n).forEach(function(u){if(!n[u][s])throw"invalid version "+s+": "+u+" not supported"}),{capitalizeFirstLetter:function(u,d){return d.charAt(0).toLocaleUpperCase(u)+d.slice(1)},ordinalize:function(u,d){if(!u)throw new Error("No language code provided");return n[u][s].constants.ordinalize[d.toString()]||""},directionFromDegree:function(u,d){if(!u)throw new Error("No language code provided");if(!d&&d!==0)return"";if(d>=0&&d<=20)return n[u][s].constants.direction.north;if(d>20&&d<70)return n[u][s].constants.direction.northeast;if(d>=70&&d<=110)return n[u][s].constants.direction.east;if(d>110&&d<160)return n[u][s].constants.direction.southeast;if(d>=160&&d<=200)return n[u][s].constants.direction.south;if(d>200&&d<250)return n[u][s].constants.direction.southwest;if(d>=250&&d<=290)return n[u][s].constants.direction.west;if(d>290&&d<340)return n[u][s].constants.direction.northwest;if(d>=340&&d<=360)return n[u][s].constants.direction.north;throw new Error("Degree "+d+" invalid")},laneConfig:function(u){if(!u.intersections||!u.intersections[0].lanes)throw new Error("No lanes object");var d=[],g=null;return u.intersections[0].lanes.forEach(function(x){(g===null||g!==x.valid)&&(x.valid?d.push("o"):d.push("x"),g=x.valid)}),d.join("")},getWayName:function(u,d,g){var x=g?g.classes||[]:[];if(typeof d!="object")throw new Error("step must be an Object");if(!u)throw new Error("No language code provided");if(!Array.isArray(x))throw new Error("classes must be an Array or undefined");var b,S=d.name||"",P=(d.ref||"").split(";")[0];S===d.ref&&(S=""),S=S.replace(" ("+d.ref+")","");var I=x.indexOf("motorway")!==-1;if(S&&P&&S!==P&&!I){var O=n[u][s].phrase["name and ref"]||n.en[s].phrase["name and ref"];b=this.tokenize(u,O,{name:S,ref:P},g)}else S&&P&&I&&/\d/.test(P)||!S&&P?b=g&&g.formatToken?g.formatToken("ref",P):P:b=g&&g.formatToken?g.formatToken("name",S):S;return b},compile:function(u,d,g){if(!u)throw new Error("No language code provided");if(i.supportedCodes.indexOf(u)===-1)throw new Error("language code "+u+" not loaded");if(!d.maneuver)throw new Error("No step maneuver provided");var x=g||{},b=d.maneuver.type,S=d.maneuver.modifier,P=d.mode,I=d.driving_side;if(!b)throw new Error("Missing step maneuver type");if(b!=="depart"&&b!=="arrive"&&!S)throw new Error("Missing step maneuver modifier");n[u][s][b]||(console.log("Encountered unknown instruction type: "+b),b="turn");var O;if(n[u][s].modes[P])O=n[u][s].modes[P];else{var H=b==="off ramp"&&S.indexOf(I)>=0;n[u][s][b][S]&&!H?O=n[u][s][b][S]:O=n[u][s][b].default}var Q;switch(b){case"use lane":Q=n[u][s].constants.lanes[this.laneConfig(d)],Q||(O=n[u][s]["use lane"].no_lanes);break;case"rotary":case"roundabout":d.rotary_name&&d.maneuver.exit&&O.name_exit?O=O.name_exit:d.rotary_name&&O.name?O=O.name:d.maneuver.exit&&O.exit?O=O.exit:O=O.default;break}var Y=this.getWayName(u,d,x),Z;d.destinations&&d.exits&&O.exit_destination?Z=O.exit_destination:d.destinations&&O.destination?Z=O.destination:d.exits&&O.exit?Z=O.exit:Y&&O.name?Z=O.name:x.waypointName&&O.named?Z=O.named:Z=O.default;var J=d.destinations&&d.destinations.split(": "),re=J&&J[0].split(",")[0],q=J&&J[1]&&J[1].split(",")[0],ne;q&&re?ne=re+": "+q:ne=re||q||"";var te=x.legIndex>=0&&x.legIndex!==x.legCount-1?this.ordinalize(u,x.legIndex+1):"",he={way_name:Y,destination:ne,exit:(d.exits||"").split(";")[0],exit_number:this.ordinalize(u,d.maneuver.exit||1),rotary_name:d.rotary_name,lane_instruction:Q,modifier:n[u][s].constants.modifier[S],direction:this.directionFromDegree(u,d.maneuver.bearing_after),nth:te,waypoint_name:x.waypointName};return this.tokenize(u,Z,he,x)},grammarize:function(u,d,g){if(!u)throw new Error("No language code provided");if(d&&g&&r&&r[u]&&r[u][s]){var x=r[u][s][g];if(x){var b=" "+d+" ",S=r[u].meta.regExpFlags||"";return x.forEach(function(P){var I=new RegExp(P[0],S);b=b.replace(I,P[1])}),b.trim()}}return d},abbreviations:o,tokenize:function(u,d,g,x){if(!u)throw new Error("No language code provided");var b=this,S=!1,P=d.replace(/\{(\w+)(?::(\w+))?\}/g,function(I,O,H,Q){var Y=g[O];return typeof Y>"u"?I:(Y=b.grammarize(u,Y,H),Q===0&&n[u].meta.capitalizeFirstLetter&&(S=!0,Y=b.capitalizeFirstLetter(u,Y)),x&&x.formatToken&&(Y=x.formatToken(O,Y)),Y)}).replace(/ {2}/g," ");return!S&&n[u].meta.capitalizeFirstLetter?this.capitalizeFirstLetter(u,P):P}}}},{"./languages":4}],4:[function(a,e,t){var i=a("./languages/translations/da.json"),n=a("./languages/translations/de.json"),r=a("./languages/translations/en.json"),o=a("./languages/translations/eo.json"),s=a("./languages/translations/es.json"),u=a("./languages/translations/es-ES.json"),d=a("./languages/translations/fi.json"),g=a("./languages/translations/fr.json"),x=a("./languages/translations/he.json"),b=a("./languages/translations/id.json"),S=a("./languages/translations/it.json"),P=a("./languages/translations/ko.json"),I=a("./languages/translations/my.json"),O=a("./languages/translations/nl.json"),H=a("./languages/translations/no.json"),Q=a("./languages/translations/pl.json"),Y=a("./languages/translations/pt-BR.json"),Z=a("./languages/translations/pt-PT.json"),J=a("./languages/translations/ro.json"),re=a("./languages/translations/ru.json"),q=a("./languages/translations/sv.json"),ne=a("./languages/translations/tr.json"),te=a("./languages/translations/uk.json"),he=a("./languages/translations/vi.json"),ve=a("./languages/translations/zh-Hans.json"),de=a("./languages/grammar/fr.json"),be=a("./languages/grammar/ru.json"),De=a("./languages/abbreviations/bg.json"),Ie=a("./languages/abbreviations/ca.json"),nt=a("./languages/abbreviations/da.json"),je=a("./languages/abbreviations/de.json"),dt=a("./languages/abbreviations/en.json"),Mt=a("./languages/abbreviations/es.json"),We=a("./languages/abbreviations/fr.json"),Pt=a("./languages/abbreviations/he.json"),Kt=a("./languages/abbreviations/hu.json"),di=a("./languages/abbreviations/lt.json"),It=a("./languages/abbreviations/nl.json"),bt=a("./languages/abbreviations/ru.json"),mt=a("./languages/abbreviations/sl.json"),si=a("./languages/abbreviations/sv.json"),gi=a("./languages/abbreviations/uk.json"),Vi=a("./languages/abbreviations/vi.json"),Ii={da:i,de:n,en:r,eo:o,es:s,"es-ES":u,fi:d,fr:g,he:x,id:b,it:S,ko:P,my:I,nl:O,no:H,pl:Q,"pt-BR":Y,"pt-PT":Z,ro:J,ru:re,sv:q,tr:ne,uk:te,vi:he,"zh-Hans":ve},oi={fr:de,ru:be},fn={bg:De,ca:Ie,da:nt,de:je,en:dt,es:Mt,fr:We,he:Pt,hu:Kt,lt:di,nl:It,ru:bt,sl:mt,sv:si,uk:gi,vi:Vi};e.exports={supportedCodes:Object.keys(Ii),instructions:Ii,grammars:oi,abbreviations:fn}},{"./languages/abbreviations/bg.json":5,"./languages/abbreviations/ca.json":6,"./languages/abbreviations/da.json":7,"./languages/abbreviations/de.json":8,"./languages/abbreviations/en.json":9,"./languages/abbreviations/es.json":10,"./languages/abbreviations/fr.json":11,"./languages/abbreviations/he.json":12,"./languages/abbreviations/hu.json":13,"./languages/abbreviations/lt.json":14,"./languages/abbreviations/nl.json":15,"./languages/abbreviations/ru.json":16,"./languages/abbreviations/sl.json":17,"./languages/abbreviations/sv.json":18,"./languages/abbreviations/uk.json":19,"./languages/abbreviations/vi.json":20,"./languages/grammar/fr.json":21,"./languages/grammar/ru.json":22,"./languages/translations/da.json":23,"./languages/translations/de.json":24,"./languages/translations/en.json":25,"./languages/translations/eo.json":26,"./languages/translations/es-ES.json":27,"./languages/translations/es.json":28,"./languages/translations/fi.json":29,"./languages/translations/fr.json":30,"./languages/translations/he.json":31,"./languages/translations/id.json":32,"./languages/translations/it.json":33,"./languages/translations/ko.json":34,"./languages/translations/my.json":35,"./languages/translations/nl.json":36,"./languages/translations/no.json":37,"./languages/translations/pl.json":38,"./languages/translations/pt-BR.json":39,"./languages/translations/pt-PT.json":40,"./languages/translations/ro.json":41,"./languages/translations/ru.json":42,"./languages/translations/sv.json":43,"./languages/translations/tr.json":44,"./languages/translations/uk.json":45,"./languages/translations/vi.json":46,"./languages/translations/zh-Hans.json":47}],5:[function(a,e,t){e.exports={abbreviations:{:"",:"",:"",:"Mkt",:"",:"",:"",:"",:"",:"",:"-",:"",:"-",:"",:"",:"",:"",:"-",:"-",:"-",:"",:"",:"",:"",:"",:".",:"",:"",:"-",:"",:""},classifications:{:"",:"",:"",:"",:"-",:"",:"",:"-",:"-",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},directions:{:"",:"",:"",:"",:"",:"",:""}}},{}],6:[function(a,e,t){e.exports={abbreviations:{comunicacions:"Com.","entitat de poblaci":"Nucli",disseminat:"Diss.","cap de municipi":"Cap",indret:"Indr.",comarca:"Cca.","relleu del litoral":"Lit.",municipi:"Mun.","xarxa hidrogrfica":"Curs Fluv.",equipament:"Equip.",orografia:"Orogr.",barri:"Barri",edificaci:"Edif.","edificaci histrica":"Edif. Hist.","entitat descentralitzada":"E.M.D.","element hidrogrfic":"Hidr."},classifications:{rotonda:"Rot.",carrerada:"Ca.",jard:"J.",paratge:"Pge.",pont:"Pont",lloc:"Lloc",rambla:"Rbla.",cases:"Cses.",barranc:"Bnc.",plana:"Plana",polgon:"Pol.",muralla:"Mur.",enlla:"Ella","antiga carretera":"Actra",glorieta:"Glor.",autovia:"Autv.",prolongaci:"Prol.",calada:"Cda.",carretera:"Ctra.",pujada:"Pda.",torrent:"T.",disseminat:"Disse",barri:"B.",cintur:"Cinto",passera:"Psera",sender:"Send.",carrer:"C.",squia:"Sq.",blocs:"Bloc",rambleta:"Rblt.",partida:"Par.",costa:"Cos.",sector:"Sec.",corral:"Crral",urbanitzaci:"Urb.",autopista:"Autp.",grup:"Gr.",platja:"Pja.",jardins:"J.",complex:"Comp.",portals:"Ptals",finca:"Fin.",travessera:"Trav.",plaa:"Pl.",travessia:"Trv.","polgon industrial":"PI.",passatge:"Ptge.",apartaments:"Apmt.",mirador:"Mira.",antic:"Antic",accs:"Acc.",colnia:"Col.",corriol:"Crol.",portal:"Ptal.",porta:"Pta.",port:"Port",carrer:"Cr.",riera:"Ra.","circumvallaci":"Cval.",baixada:"Bda.",placeta:"Plta.",escala:"Esc.","gran via":"GV",rial:"Rial",conjunt:"Conj.",avinguda:"Av.",esplanada:"Esp.",cantonada:"Cant.",ronda:"Rda.",corredor:"Cdor.",drecera:"Drec.",passads:"Pds.",viaducte:"Vdct.",passeig:"Pg.",venat:"Ve."},directions:{sudest:"SE",sudoest:"SO",nordest:"NE",nordoest:"NO",est:"E",nord:"N",oest:"O",sud:"S"}}},{}],7:[function(a,e,t){e.exports={abbreviations:{skole:"Sk.",ved:"v.",centrum:"C.",sankt:"Skt.",vestre:"v.",hospital:"Hosp.",strde:"Str.",nordre:"Nr.",plads:"Pl.",universitet:"Uni.",vnge:"vg.",station:"St."},classifications:{avenue:"Ave",gammel:"Gl.",dronning:"Dronn.",snder:"Sdr.",nrre:"Nr.",vester:"V.",vestre:"V.",ster:".",stre:".",boulevard:"Boul."},directions:{sydst:"S",nordvest:"NV",syd:"S",nordst:"N",sydvest:"SV",vest:"V",nord:"N",st:""}}},{}],8:[function(a,e,t){e.exports={abbreviations:{},classifications:{},directions:{osten:"O",nordosten:"NO",sden:"S",nordwest:"NW",norden:"N",sdost:"SO",sdwest:"SW",westen:"W"}}},{}],9:[function(a,e,t){e.exports={abbreviations:{square:"Sq",centre:"Ctr",sister:"Sr",lake:"Lk",fort:"Ft",route:"Rte",william:"Wm",national:"Natl",junction:"Jct",center:"Ctr",saint:"St",saints:"SS",station:"Sta",mount:"Mt",junior:"Jr",mountain:"Mtn",heights:"Hts",university:"Univ",school:"Sch",international:"Intl",apartments:"Apts",crossing:"Xing",creek:"Crk",township:"Twp",downtown:"Dtwn",father:"Fr",senior:"Sr",point:"Pt",river:"Riv",market:"Mkt",village:"Vil",park:"Pk",memorial:"Mem"},classifications:{place:"Pl",circle:"Cir",bypass:"Byp",motorway:"Mwy",crescent:"Cres",road:"Rd",cove:"Cv",lane:"Ln",square:"Sq",street:"St",freeway:"Fwy",walk:"Wk",plaza:"Plz",parkway:"Pky",avenue:"Ave",pike:"Pk",drive:"Dr",highway:"Hwy",footway:"Ftwy",point:"Pt",court:"Ct",terrace:"Ter",walkway:"Wky",alley:"Aly",expressway:"Expy",bridge:"Br",boulevard:"Blvd",turnpike:"Tpk"},directions:{southeast:"SE",northwest:"NW",south:"S",west:"W",southwest:"SW",north:"N",east:"E",northeast:"NE"}}},{}],10:[function(a,e,t){e.exports={abbreviations:{segunda:"2",octubre:"8bre",doctores:"Drs",doctora:"Dra",internacional:"Intl",doctor:"Dr",segundo:"2",seorita:"Srta",doctoras:"Drs",primera:"1",primero:"1",san:"S",colonia:"Col",doa:"Da",septiembre:"7bre",diciembre:"10bre",seor:"Sr",ayuntamiento:"Ayto",seora:"Sra",tercera:"3",tercero:"3",don:"D",santa:"Sta",ciudad:"Cdad",noviembre:"9bre",departamento:"Dep"},classifications:{camino:"Cmno",avenida:"Av",paseo:"P",autopista:"Auto",calle:"C",plaza:"Pza",carretera:"Crta"},directions:{este:"E",noreste:"NE",sur:"S",suroeste:"SO",noroeste:"NO",oeste:"O",sureste:"SE",norte:"N"}}},{}],11:[function(a,e,t){e.exports={abbreviations:{alle:"All",arodrome:"Arod",aroport:"Arop"},classifications:{centrale:"Ctrale",campings:"Camp.",urbains:"Urb.",mineure:"Min.",publique:"Publ.",suprieur:"Sup.",fdration:"Fd.","notre-dame":"ND",saint:"St","centre hospitalier rgional":"CHR",exploitation:"Exploit.",gnral:"Gal",civiles:"Civ.",maritimes:"Marit.",aviation:"Aviat.",iii:"3",archologique:"Archo.",musical:"Music.",musicale:"Music.",immeuble:"Imm.",xv:"15",htel:"Ht.",alpine:"Alp.",communale:"Commun.",v:"5",global:"Glob.",universit:"Univ.",confdral:"Confd.",xx:"20",x:"10",piscine:"Pisc.",dimanche:"di.",fleuve:"Flv",postaux:"Post.",musicienne:"Music.",dpartement:"Dpt",fvrier:"Fvr.",municipales:"Munic.",province:"Prov.",communauts:"Commts",barrage:"Barr.",mercredi:"me.",prsidentes:"Pdtes",caftrias:"Caft.",thtral:"Th.",viticulteur:"Vitic.",poste:"Post.",spcialise:"Spc.",agriculture:"Agric.",infirmier:"Infirm.",animation:"Anim.",mondiale:"Mond.",arrt:"Arr.",zone:"zon.",municipaux:"Munic.",grand:"Gd",janvier:"Janv.",fondateur:"Fond.",premire:"1re",municipale:"Munic.",direction:"Dir.",anonyme:"Anon.",dpartementale:"Dpt",moyens:"Moy.",novembre:"Nov.",jardin:"Jard.",petites:"Pet.",priv:"Priv.",centres:"Ctres",forestier:"Forest.",xiv:"14",africaines:"Afric.",sergent:"Sgt",europenne:"Eur.",prive:"Priv.",caf:"Cf",xix:"19",hautes:"Htes",major:"Mjr",vendredi:"ve.",municipalit:"Munic.","sous-prfecture":"Ss-prf.",spciales:"Spc.",secondaires:"Second.",viie:"7e",moyenne:"Moy.",commerciale:"Commerc.",rgion:"Rg.",amricaines:"Amr.",amricains:"Amr.",service:"Sce",professeur:"Prof.",dpartemental:"Dpt",htels:"Ht.",mondiales:"Mond.",ire:"1re",caporal:"Capo.",militaire:"Milit.","lyce d'enseignement professionnel":"LEP",adjudant:"Adj.",mdicale:"Md.",confrences:"Confr.",universelle:"Univ.",xiie:"12e",suprieures:"Sup.",naturel:"Natur.","socit nationale":"SN",hospitalier:"Hosp.",culturelle:"Cult.",amricain:"Amr.","son altesse royale":"S.A.R.",infirmire:"Infirm.",viii:"8",fondatrice:"Fond.",madame:"Mme",mtropolitain:"Mtrop.",ophtalmologues:"Ophtalmos",xviie:"18e",viiie:"8e",commerante:"Commer.","centre d'enseignement du second degr":"CES",septembre:"Sept.",agriculteur:"Agric.",xiii:"13",pontifical:"Pontif.",caftria:"Caft.",prince:"Pce",vie:"6e",archiduchesse:"Archid.",occidental:"Occ.",spectacles:"Spect.",camping:"Camp.",mtro:"M",arrondissement:"Arrond.",viticole:"Vitic.",ii:"2",sicle:"Si.",chapelles:"Chap.",centre:"Ctre","sapeur-pompiers":"Sap.-pomp.",tablissements:"tabts","socit anonyme":"SA",directeurs:"Dir.",vii:"7",culturel:"Cult.",central:"Ctral",mtropolitaine:"Mtrop.",administrations:"Admin.",amiraux:"Amir.",sur:"s/",premiers:"1ers","provence-alpes-cte d'azur":"PACA",cathdrale:"Cathd.",iv:"4",postale:"Post.",social:"Soc.",spcialis:"Spc.",district:"Distr.",technologique:"Techno.",viticoles:"Vitic.",ix:"9",protgs:"Prot.",historiques:"Hist.",sous:"s/s",national:"Nal",ambassade:"Amb.",cafs:"Cfs",agronomie:"Agro.",sapeurs:"Sap.",petits:"Pet.",monsieur:"M.",boucher:"Bouch.",restaurant:"Restau.",lyce:"Lyc.",urbaine:"Urb.",prfecture:"Prf.",districts:"Distr.",civil:"Civ.",protges:"Prot.",sapeur:"Sap.",thtre:"Th.",collge:"Coll.",mardi:"ma.",mmorial:"Mmor.",africain:"Afric.",rpublicaine:"Rpubl.",sociale:"Soc.",spcial:"Spc.",technologie:"Techno.",charcuterie:"Charc.",commerces:"Commerc.",fluviale:"Flv",parachutistes:"Para.",primaires:"Prim.",directions:"Dir.",prsidentiel:"Pdtl",nationales:"Nales",aprs:"apr.",samedi:"sa.",unit:"U.",xxiii:"23",associ:"Assoc.",lectrique:"lectr.",populaire:"Pop.",asiatique:"Asiat.",navigable:"Navig.",prsidente:"Pdte",xive:"14e",associs:"Assoc.",pompiers:"Pomp.",agricoles:"Agric.",lm:"lm.",dcembre:"Dc.","son altesse":"S.Alt.","aprs-midi":"a.-m.",mineures:"Min.",juillet:"Juil.",aviatrices:"Aviat.",fondation:"Fond.",pontificaux:"Pontif.",temple:"Tple",europennes:"Eur.",rgionale:"Rg.",informations:"Infos",mondiaux:"Mond.",infanterie:"Infant.",archologie:"Archo.",dans:"d/",hospice:"Hosp.",spectacle:"Spect.","htels-restaurants":"Ht.-Rest.","htel-restaurant":"Ht.-Rest.",hlicoptre:"hlico",xixe:"19e",cliniques:"Clin.",docteur:"Dr",secondaire:"Second.",municipal:"Munic.",gnrale:"Gale",chteau:"Cht.",commerant:"Commer.",avril:"Avr.",clinique:"Clin.",urbaines:"Urb.",navale:"Nav.",navigation:"Navig.",asiatiques:"Asiat.",pontificales:"Pontif.",administrative:"Admin.",syndicat:"Synd.",lundi:"lu.",petite:"Pet.",maritime:"Marit.",mtros:"M",enseignement:"Enseign.",fluviales:"Flv",historique:"Hist.",comts:"Cts",rsidentiel:"Rsid.",international:"Int.",suprieure:"Sup.","centre hospitalier universitaire":"CHU",confdration:"Confd.",boucherie:"Bouch.",fondatrices:"Fond.",mdicaux:"Md.",europens:"Eur.",orientaux:"Ori.",naval:"Nav.",tang:"tg",provincial:"Prov.",junior:"Jr",dpartementales:"Dpt",musique:"Musiq.",directrices:"Dir.",marchal:"Mal",civils:"Civ.",protg:"Prot.",tablissement:"tabt",trafic:"Traf.",aviateur:"Aviat.",archives:"Arch.",africains:"Afric.",maternelle:"Matern.",industrielle:"Ind.",administratif:"Admin.",oriental:"Ori.",universitaire:"Univ.",majeur:"Maj.",haute:"Hte",communal:"Commun.",petit:"Pet.",commune:"Commun.",exploitant:"Exploit.",confrence:"Confr.",monseigneur:"Mgr",pharmacien:"Pharm.",jeudi:"je.",primaire:"Prim.",hlicoptres:"hlicos",agronomique:"Agro.",mdecin:"Md.",ve:"5e",pontificale:"Pontif.",ier:"1er",cinma:"Cin",fluvial:"Flv",occidentaux:"Occ.",commerants:"Commer.",banque:"Bq",moyennes:"Moy.",pharmacienne:"Pharm.",dmocratique:"Dm.",cinmas:"Cins",spciale:"Spc.",prsidents:"Pdts",directrice:"Dir.",vi:"6",basse:"Bas.",xve:"15e",tat:".",aviateurs:"Aviat.",majeurs:"Maj.",infirmiers:"Infirm.",glise:"gl.",confdrale:"Confd.",xxie:"21e",comte:"Cte",europen:"Eur.",union:"U.",pharmacie:"Pharm.",infirmires:"Infirm.",comt:"Ct",sportive:"Sport.",deuxime:"2e",xvi:"17",haut:"Ht",mdicales:"Md.",dvelopp:"Dvelop.",btiment:"Bt.",commerce:"Commerc.",ive:"4e",associatif:"Assoc.",rural:"Rur.",cimetire:"Cim.",rgional:"Rg.",ferroviaire:"Ferr.",vers:"v/",mosque:"Mosq.",mineurs:"Min.",nautique:"Naut.",chteaux:"Cht.",sportif:"Sport.",mademoiselle:"Mle",cole:"c.",doyen:"Doy.",industriel:"Ind.",chapelle:"Chap.",socits:"Sts",internationale:"Int.",coopratif:"Coop.",hospices:"Hosp.",xxii:"22",parachutiste:"Para.",alpines:"Alp.",civile:"Civ.",xvie:"17e",tats:".",muse:"Mse",centrales:"Ctrales",globaux:"Glob.",suprieurs:"Sup.",syndicats:"Synd.",archevque:"Archev.",docteurs:"Drs",bibliothque:"Biblio.",lieutenant:"Lieut.",rpublique:"Rp.",vtrinaire:"Vt.",dpartementaux:"Dpt",premier:"1er",fluviaux:"Flv",anim:"Anim.",orientales:"Ori.",technologiques:"Techno.",princesse:"Pse",routire:"Rout.",cooprative:"Coop.",scolaire:"Scol.",coles:"c.",football:"Foot",territoriale:"Territ.",commercial:"Commerc.",mineur:"Min.",millnaires:"Mill.",association:"Assoc.",catholique:"Cathol.",administration:"Admin.",mairie:"Mair.",portuaire:"Port.",tertiaires:"Terti.",thtrale:"Th.",palais:"Pal.",troisime:"3e",directeur:"Dir.",vtrinaires:"Vt.",facult:"Fac.",occidentales:"Occ.",viticulteurs:"Vitic.",xvii:"18",occidentale:"Occ.",amiral:"Amir.",professionnel:"Profess.",administratives:"Admin.",commerciales:"Commerc.",saints:"Sts",agronomes:"Agro.",stade:"Std","sous-prfet":"Ss-prf.",senior:"Sr",agronome:"Agro.",terrain:"Terr.",catholiques:"Cathol.",rsidentielle:"Rsid.",grands:"Gds",exploitants:"Exploit.",xiiie:"13e",croix:"Cx",gnraux:"Gaux",crdit:"Crd.",cimetires:"Cim.",antenne:"Ant.",mdical:"Md.",collges:"Coll.",musicien:"Music.",apostolique:"Apost.",postal:"Post.",territorial:"Territ.",urbanisme:"Urb.",prfectorale:"Prf.",fondateurs:"Fond.",information:"Info.",glises:"gl.",ophtalmologue:"Ophtalmo",congrgation:"Congrg.",charcutier:"Charc.",tage:"t.",consulat:"Consul.",public:"Publ.",ferre:"Ferr.",matin:"mat.","socit anonyme  responsabilit limite":"SARL",monuments:"Mmts",protection:"Prot.",universel:"Univ.",nationale:"Nale",prsident:"Pdt",provinciale:"Prov.",agriculteurs:"Agric.",prfectoral:"Prf.",xxe:"20e",alpins:"Alp.",avant:"av.",infirmerie:"Infirm.","deux mil":"2000",rurale:"Rur.",administratifs:"Admin.",octobre:"Oct.",archipel:"Archip.",communaut:"Commt",globales:"Glob.",alpin:"Alp.",numros:"N","lieutenant-colonel":"Lieut.-Col.","jsus-christ":"J.-C.",agricole:"Agric.","sa majest":"S.Maj.",associative:"Assoc.",xxi:"21",prsidentielle:"Pdtle",moyen:"Moy.",fdral:"Fd.",professionnelle:"Profess.",tertiaire:"Terti.",ixe:"9e",hpital:"Hp.",technologies:"Techno.",iiie:"3e",dveloppement:"Dvelop.",monument:"Mmt",forestire:"Forest.",numro:"N",viticulture:"Vitic.",traversire:"Traver.",technique:"Tech.",lectriques:"lectr.",militaires:"Milit.",pompier:"Pomp.",amricaine:"Amr.",prfet:"Prf.",congrgations:"Congrg.",ptissier:"Ptiss.",mondial:"Mond.",ophtalmologie:"Ophtalm.",sainte:"Ste",africaine:"Afric.",aviatrice:"Aviat.",doyens:"Doy.",socit:"St",majeures:"Maj.",orientale:"Ori.",ministre:"Min.",archiduc:"Archid.",territoire:"Territ.",techniques:"Tech.","le-de-france":"IDF",globale:"Glob.",xe:"10e",xie:"11e",majeure:"Maj.",commerciaux:"Commerc.",maire:"Mair.",spciaux:"Spc.",grande:"Gde",messieurs:"MM",colonel:"Col.",millnaire:"Mill.",xi:"11",urbain:"Urb.",fdrale:"Fd.",ferr:"Ferr.",rivire:"Riv.",rpublicain:"Rpubl.",grandes:"Gdes",rgiment:"Rgim.",hauts:"Hts",catgorie:"Catg.",basses:"Bas.",xii:"12",agronomiques:"Agro.",iie:"2e",protge:"Prot.","sapeur-pompier":"Sap.-pomp."},directions:{"est-nord-est":"ENE","nord-est":"NE",ouest:"O","sud-est":"SE","est-sud-est":"ESE","nord-nord-est":"NNE",sud:"S","nord-nord-ouest":"NNO","nord-ouest":"NO",nord:"N","ouest-sud-ouest":"OSO","ouest-nord-ouest":"ONO","sud-ouest":"SO","sud-sud-est":"SSE","sud-sud-ouest":"SSO",est:"E"}}},{}],12:[function(a,e,t){e.exports={abbreviations:{:"'"},classifications:{},directions:{}}},{}],13:[function(a,e,t){e.exports={abbreviations:{},classifications:{},directions:{kelet:"K",szakkelet:"K",dl:"D",szaknyugat:"NY",szak:"",dlkelet:"DK",dlnyugat:"DNY",nyugat:"NY"}}},{}],14:[function(a,e,t){e.exports={abbreviations:{apartamentai:"Apt",auktumos:"Auk",centras:"Ctr",eeras:"E",fortas:"Ft",greitkelis:"Grtkl",juosta:"Jst",kaimas:"Km",kalnas:"Kln",kelias:"Kl",kiemelis:"Kml",miestelis:"Mstl","miesto centras":"M.Ctr",mokykla:"Mok",nacionalinis:"Nac",paminklas:"Pmkl",parkas:"Pk",pusratis:"Psrt",sankrya:"Skr",ses:"Ses",skveras:"Skv",stotis:"St",v:"v",tarptautinis:"Trptaut",takas:"Tk",tvas:"Tv",turgus:"Tgs",universitetas:"Univ",up:"Up",upelis:"Up",vieta:"Vt"},classifications:{aikt:"a.",alja:"al.",aplinkkelis:"aplinkl.",autostrada:"auto.",bulvaras:"b.",gatv:"g.",kelias:"kel.",krantin:"krant.",prospektas:"pr.",plentas:"pl.",skersgatvis:"skg.",takas:"tak.",tiltas:"tlt."},directions:{piets:"P",vakarai:"V",iaur:"","iaurs vakarai":"V",pietryiai:"PR","iaurs rytai":"R",rytai:"R",pietvakariai:"PV"}}},{}],15:[function(a,e,t){e.exports={abbreviations:{centrum:"Cntrm",nationaal:"Natl",berg:"Brg",meer:"Mr",kruising:"Krsng",toetreden:"Ttrdn"},classifications:{bypass:"Pass",brug:"Br",straat:"Str",rechtbank:"Rbank",snoek:"Snk",autobaan:"Baan",terras:"Trrs",punt:"Pt",plaza:"Plz",rijden:"Rijd",parkway:"Pky",inham:"Nham",snelweg:"Weg","halve maan":"Maan",cirkel:"Crkl",laan:"Ln",rijbaan:"Strook",weg:"Weg",lopen:"Lpn",autoweg:"Weg",boulevard:"Blvd",plaats:"Plts",steeg:"Stg",voetpad:"Stoep"},directions:{noordoost:"NO",westen:"W",zuiden:"Z",zuidwest:"ZW",oost:"O",zuidoost:"ZO",noordwest:"NW",noorden:"N"}}},{}],16:[function(a,e,t){e.exports={abbreviations:{:".",:".",:"",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:".",:"."},classifications:{:"-",:".",:".",:".",:".",:".",:".",:".",:"."},directions:{:"","-":"","-":"","-":"","-":"",:"",:"",:""}}},{}],17:[function(a,e,t){e.exports={abbreviations:{},classifications:{},directions:{vzhod:"V",severovzhod:"SV",jug:"J",severozahod:"SZ",sever:"S",jugovzhod:"JV",jugozahod:"JZ",zahod:"Z"}}},{}],18:[function(a,e,t){e.exports={abbreviations:{sankta:"s:ta",gamla:"G:la",sankt:"s:t"},classifications:{Bro:"Br"},directions:{norr:"N",sydst:"SO",vster:"V",ster:"O",nordvst:"NV",sydvst:"SV",sder:"S",nordst:"NO"}}},{}],19:[function(a,e,t){e.exports={abbreviations:{},classifications:{},directions:{:""," ":"",:""," ":"",:""," ":""," ":"",:""}}},{}],20:[function(a,e,t){e.exports={abbreviations:{"vin bo tng":"VBT","th trn":"Tt","i hc":"H","cn c khng quan":"CCKQ","cu lc b":"CLB","bu in":"B","khch sn":"KS","khu du lch":"KDL","khu cng nghip":"KCN","khu ngh mt":"KNM","th x":"Tx","khu chung c":"KCC","phi trng":"PT","trung tm":"TT","tng cng ty":"TCty","trung hc c s":"THCS","sn bay quc t":"SBQT","trung hc ph thng":"THPT","cao ng":"C","cng ty":"Cty","sn bay":"SB","thnh ph":"Tp","cng vin":"CV","sn vn ng":"SV","linh mc":"LM","vn quc gia":"VQG"},classifications:{"huyn l":"HL","ng tnh":"T","quc l":"QL","xa l":"XL","hng l":"HL","tnh l":"TL","ng huyn":"H","ng cao tc":"CT","i l":"L","vit nam":"VN","qung trng":"QT","ng b":"B"},directions:{ty:"T",nam:"N","ng nam":"N","ng bc":"B","ty nam":"TN",ng:"",bc:"B"}}},{}],21:[function(a,e,t){e.exports={meta:{regExpFlags:"gi"},v5:{article:[["^ Acc[e]s "," laccs "],["^ Aire "," laire "],["^ All[e]e "," lalle "],["^ Anse "," lanse "],["^ (L['])?Autoroute "," lautoroute "],["^ Avenue "," lavenue "],["^ Barreau "," le barreau "],["^ Boulevard "," le boulevard "],["^ Chemin "," le chemin "],["^ Petit[\\- ]Chemin "," le petit chemin "],["^ Cit[e] "," la cit "],["^ Clos "," le clos "],["^ Corniche "," la corniche "],["^ Cour "," la cour "],["^ Cours "," le cours "],["^ D[e]viation "," la dviation "],["^ Entr[e]e "," lentre "],["^ Esplanade "," lesplanade "],["^ Galerie "," la galerie "],["^ Impasse "," limpasse "],["^ Lotissement "," le lotissement "],["^ Mont[e]e "," la monte "],["^ Parc "," le parc "],["^ Parvis "," le parvis "],["^ Passage "," le passage "],["^ Place "," la place "],["^ Petit[\\- ]Pont "," le petit-pont "],["^ Pont "," le pont "],["^ Promenade "," la promenade "],["^ Quai "," le quai "],["^ Rocade "," la rocade "],["^ Rond[\\- ]?Point "," le rond-point "],["^ Route "," la route "],["^ Rue "," la rue "],["^ Grande Rue "," la grande rue "],["^ Sente "," la sente "],["^ Sentier "," le sentier "],["^ Sortie "," la sortie "],["^ Souterrain "," le souterrain "],["^ Square "," le square "],["^ Terrasse "," la terrasse "],["^ Traverse "," la traverse "],["^ Tunnel "," le tunnel "],["^ Viaduc "," le viaduc "],["^ Villa "," la villa "],["^ Village "," le village "],["^ Voie "," la voie "],[" ([dl])'"," $1"]],preposition:[["^ Le ","  du "],["^ Les ","  des "],["^ La ","  de La "],["^ Acc[e]s ","  de laccs "],["^ Aire ","  de laire "],["^ All[e]e ","  de lalle "],["^ Anse ","  de lanse "],["^ (L['])?Autoroute ","  de lautoroute "],["^ Avenue ","  de lavenue "],["^ Barreau ","  du barreau "],["^ Boulevard ","  du boulevard "],["^ Chemin ","  du chemin "],["^ Petit[\\- ]Chemin ","  du petit chemin "],["^ Cit[e] ","  de la cit "],["^ Clos ","  du clos "],["^ Corniche ","  de la corniche "],["^ Cour ","  de la cour "],["^ Cours ","  du cours "],["^ D[e]viation ","  de la dviation "],["^ Entr[e]e ","  de lentre "],["^ Esplanade ","  de lesplanade "],["^ Galerie ","  de la galerie "],["^ Impasse ","  de limpasse "],["^ Lotissement ","  du lotissement "],["^ Mont[e]e ","  de la monte "],["^ Parc ","  du parc "],["^ Parvis ","  du parvis "],["^ Passage ","  du passage "],["^ Place ","  de la place "],["^ Petit[\\- ]Pont ","  du petit-pont "],["^ Pont ","  du pont "],["^ Promenade ","  de la promenade "],["^ Quai ","  du quai "],["^ Rocade ","  de la rocade "],["^ Rond[\\- ]?Point ","  du rond-point "],["^ Route ","  de la route "],["^ Rue ","  de la rue "],["^ Grande Rue ","  de la grande rue "],["^ Sente ","  de la sente "],["^ Sentier ","  du sentier "],["^ Sortie ","  de la sortie "],["^ Souterrain ","  du souterrain "],["^ Square ","  du square "],["^ Terrasse ","  de la terrasse "],["^ Traverse ","  de la traverse "],["^ Tunnel ","  du tunnel "],["^ Viaduc ","  du viaduc "],["^ Villa ","  de la villa "],["^ Village ","  du village "],["^ Voie ","  de la voie "],["^ ([AEIOUY])","  d$1"],["^ (\\S)","  de $1"],[" ([dl])'"," $1"]],rotary:[["^ Le ","  le rond-point du "],["^ Les ","  le rond-point des "],["^ La ","  le rond-point de La "],["^ Acc[e]s "," le rond-point de laccs "],["^ Aire ","  le rond-point de laire "],["^ All[e]e ","  le rond-point de lalle "],["^ Anse ","  le rond-point de lanse "],["^ (L['])?Autoroute ","  le rond-point de lautoroute "],["^ Avenue ","  le rond-point de lavenue "],["^ Barreau ","  le rond-point du barreau "],["^ Boulevard ","  le rond-point du boulevard "],["^ Chemin ","  le rond-point du chemin "],["^ Petit[\\- ]Chemin ","  le rond-point du petit chemin "],["^ Cit[e] ","  le rond-point de la cit "],["^ Clos ","  le rond-point du clos "],["^ Corniche ","  le rond-point de la corniche "],["^ Cour ","  le rond-point de la cour "],["^ Cours ","  le rond-point du cours "],["^ D[e]viation ","  le rond-point de la dviation "],["^ Entr[e]e ","  le rond-point de lentre "],["^ Esplanade ","  le rond-point de lesplanade "],["^ Galerie ","  le rond-point de la galerie "],["^ Impasse ","  le rond-point de limpasse "],["^ Lotissement ","  le rond-point du lotissement "],["^ Mont[e]e ","  le rond-point de la monte "],["^ Parc ","  le rond-point du parc "],["^ Parvis ","  le rond-point du parvis "],["^ Passage ","  le rond-point du passage "],["^ Place ","  le rond-point de la place "],["^ Petit[\\- ]Pont ","  le rond-point du petit-pont "],["^ Pont ","  le rond-point du pont "],["^ Promenade ","  le rond-point de la promenade "],["^ Quai ","  le rond-point du quai "],["^ Rocade ","  le rond-point de la rocade "],["^ Rond[\\- ]?Point ","  le rond-point "],["^ Route ","  le rond-point de la route "],["^ Rue ","  le rond-point de la rue "],["^ Grande Rue ","  le rond-point de la grande rue "],["^ Sente ","  le rond-point de la sente "],["^ Sentier ","  le rond-point du sentier "],["^ Sortie ","  le rond-point de la sortie "],["^ Souterrain ","  le rond-point du souterrain "],["^ Square ","  le rond-point du square "],["^ Terrasse ","  le rond-point de la terrasse "],["^ Traverse ","  le rond-point de la traverse "],["^ Tunnel ","  le rond-point du tunnel "],["^ Viaduc ","  le rond-point du viaduc "],["^ Villa ","  le rond-point de la villa "],["^ Village ","  le rond-point du village "],["^ Voie ","  le rond-point de la voie "],["^ ([AEIOUY])","  le rond-point d$1"],["^ (\\S)","  le rond-point de $1"],[" ([dl])'"," $1"]],arrival:[["^ Le ","  au "],["^ Les ","  aux "],["^ La ","   La "],["^ (\\S)","   $1"],[" ([dl])'"," $1"]]}}},{}],22:[function(a,e,t){e.exports={meta:{regExpFlags:""},v5:{accusative:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ [][] ","  "]],dative:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "],["([]) ","$1 "]],genitive:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "]],prepositional:[['^ (["])',"  $1"],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)-(\\S+) [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^  [] ","   "],["^  [] ","   "],["^  [] ","   "],["^ [] ","  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\d+)-(\\d+)- [] "," $1-$2-  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- [] "," $1-  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) (\\S+) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+) (\\S+) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+)[]-(\\S+)[] [] "," $1-$2  "],["^ (\\d+)- (\\S+)[]-(\\S+)[] [] "," $1- $2-$3  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ [] ","  "],["^ (\\S+[])-(\\S+)[] [] "," $1-$2  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) (\\S+)[] [] "," $1- $2 $3  "],["^ (\\d+)- (\\S+)[] (\\S+)[] [] "," $1- $2 $3  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [][] "," $1  "],["^ (\\S+)[] [][] "," $1  "],["^ (\\S+[]) [][] "," $1  "],["^ (\\S+)[] (\\S+) [][] "," $1 $2  "],["^ (\\S+) (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [][] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [][] "," $1 $2  "],["^ (\\d+)- (\\S+) [][] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [][] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [][] "," $1- $2  "],["^ [][] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+) [] "," $1  "],["^ (\\S+)[] [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+)[] (\\S+) [] "," $1 $2  "],["^ (\\S+) (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+)[] [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\S+)[] (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- [] "," $1-  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],["^ (\\d+)- (\\S+)[] [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ [] ","  "],["^ (\\S+[]) ([])?[] "," $1 $2 "],["^ (\\S+) ([])?[] "," $1 $2 "],["^ (\\S+[]) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\S+) (\\S+[]) ([])?[] "," $1 $2 $3 "],["^ (\\d+)- (\\S+[]) ([])?[] "," $1- $2 $3 "],["^ (\\d+)- (\\S+) ([])?[] "," $1- $2 $3 "],["^ ([])?[] "," $1 "],["^ (\\S+[]) [] "," $1  "],["^ (\\S+) [] "," $1  "],["^ (\\S+[]) (\\S+[]) [] "," $1 $2  "],["^ (\\S+) (\\S+[]) [] "," $1 $2  "],["^ (\\d+)- (\\S+[]) [] "," $1- $2  "],["^ (\\d+)- (\\S+) [] "," $1- $2  "],[" ([]) "," $1 "],["([]) ","$1 "]]}}},{}],23:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"frste",2:"anden",3:"tredje",4:"fjerde",5:"femte",6:"sjette",7:"syvende",8:"ottende",9:"niende",10:"tiende"},direction:{north:"Nord",northeast:"Nordst",east:"st",southeast:"Sydst",south:"Syd",southwest:"Sydvest",west:"Vest",northwest:"Nordvest"},modifier:{left:"venstresving",right:"hjresving","sharp left":"skarpt venstresving","sharp right":"skarpt hjresving","slight left":"svagt venstresving","slight right":"svagt hjresving",straight:"ligeud",uturn:"U-vending"},lanes:{xo:"Hold til hjre",ox:"Hold til venstre",xox:"Benyt midterste spor",oxo:"Hold til hjre eller venstre"}},modes:{ferry:{default:"Tag frgen",name:"Tag frgen {way_name}",destination:"Tag frgen i retning {destination}"}},phrase:{"two linked by distance":"{instruction_one} derefter, efter {distance}, {instruction_two}","two linked":"{instruction_one}, derefter {instruction_two}","one in distance":"Efter {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":"afkrsel {exit}"},arrive:{default:{default:"Du er ankommet til din {nth} destination",upcoming:"Du vil ankomme til din {nth} destination",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}"},left:{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},right:{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"sharp left":{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},"sharp right":{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"slight right":{default:"Du er ankommet til din {nth} destination, som befinder sig til hjre",upcoming:"Du vil ankomme til din {nth} destination p hjre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til hjre"},"slight left":{default:"Du er ankommet til din {nth} destination, som befinder sig til venstre",upcoming:"Du vil ankomme til din {nth} destination p venstre hnd",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, som befinder sig til venstre"},straight:{default:"Du er ankommet til din {nth} destination, der befinder sig lige frem",upcoming:"Du vil ankomme til din {nth} destination foran dig",short:"Du er ankommet","short-upcoming":"Du vil ankomme",named:"Du er ankommet til {waypoint_name}, der befinder sig lige frem"}},continue:{default:{default:"Drej til {modifier}",name:"Drej til {modifier} videre ad {way_name}",destination:"Drej til {modifier} mod {destination}",exit:"Drej til {modifier} ad {way_name}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst mod {destination}",distance:"Fortst {distance} ligeud",namedistance:"Fortst {distance} ad {way_name}"},"sharp left":{default:"Drej skarpt til venstre",name:"Drej skarpt til venstre videre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre",name:"Drej skarpt til hjre videre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},"slight left":{default:"Drej left til venstre",name:"Drej let til venstre videre ad {way_name}",destination:"Drej let til venstre mod {destination}"},"slight right":{default:"Drej let til hjre",name:"Drej let til hjre videre ad {way_name}",destination:"Drej let til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending tilbage ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},depart:{default:{default:"Kr mod {direction}",name:"Kr mod {direction} ad {way_name}",namedistance:"Fortst {distance} ad {way_name}mod {direction}"}},"end of road":{default:{default:"Drej til {modifier}",name:"Drej til {modifier} ad {way_name}",destination:"Drej til {modifier} mof {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst ligeud mod {destination}"},uturn:{default:"Foretag en U-vending for enden af vejen",name:"Foretag en U-vending ad {way_name} for enden af vejen",destination:"Foretag en U-vending mod {destination} for enden af vejen"}},fork:{default:{default:"Hold til {modifier} ved udfletningen",name:"Hold mod {modifier} p {way_name}",destination:"Hold mod {modifier} mod {destination}"},"slight left":{default:"Hold til venstre ved udfletningen",name:"Hold til venstre p {way_name}",destination:"Hold til venstre mod {destination}"},"slight right":{default:"Hold til hjre ved udfletningen",name:"Hold til hjre p {way_name}",destination:"Hold til hjre mod {destination}"},"sharp left":{default:"Drej skarpt til venstre ved udfletningen",name:"Drej skarpt til venstre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre ved udfletningen",name:"Drej skarpt til hjre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},merge:{default:{default:"Flet til {modifier}",name:"Flet til {modifier} ad {way_name}",destination:"Flet til {modifier} mod {destination}"},straight:{default:"Flet",name:"Flet ind p {way_name}",destination:"Flet ind mod {destination}"},"slight left":{default:"Flet til venstre",name:"Flet til venstre ad {way_name}",destination:"Flet til venstre mod {destination}"},"slight right":{default:"Flet til hjre",name:"Flet til hjre ad {way_name}",destination:"Flet til hjre mod {destination}"},"sharp left":{default:"Flet til venstre",name:"Flet til venstre ad {way_name}",destination:"Flet til venstre mod {destination}"},"sharp right":{default:"Flet til hjre",name:"Flet til hjre ad {way_name}",destination:"Flet til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},"new name":{default:{default:"Fortst {modifier}",name:"Fortst {modifier} ad {way_name}",destination:"Fortst {modifier} mod {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ad {way_name}",destination:"Fortst mod {destination}"},"sharp left":{default:"Drej skarpt til venstre",name:"Drej skarpt til venstre ad {way_name}",destination:"Drej skarpt til venstre mod {destination}"},"sharp right":{default:"Drej skarpt til hjre",name:"Drej skarpt til hjre ad {way_name}",destination:"Drej skarpt til hjre mod {destination}"},"slight left":{default:"Fortst til venstre",name:"Fortst til venstre ad {way_name}",destination:"Fortst til venstre mod {destination}"},"slight right":{default:"Fortst til hjre",name:"Fortst til hjre ad {way_name}",destination:"Fortst til hjre mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},notification:{default:{default:"Fortst {modifier}",name:"Fortst {modifier} ad {way_name}",destination:"Fortst {modifier} mod {destination}"},uturn:{default:"Foretag en U-vending",name:"Foretag en U-vending ad {way_name}",destination:"Foretag en U-vending mod {destination}"}},"off ramp":{default:{default:"Tag afkrslen",name:"Tag afkrslen ad {way_name}",destination:"Tag afkrslen mod {destination}",exit:"Vlg afkrsel {exit}",exit_destination:"Vlg afkrsel {exit} mod {destination}"},left:{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},right:{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"},"sharp left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},"sharp right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"},"slight left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}",exit:"Vlg afkrsel {exit} til venstre",exit_destination:`Vlg afkrsel {exit} til venstre mod {destination}
`},"slight right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}",exit:"Vlg afkrsel {exit} til hjre",exit_destination:"Vlg afkrsel {exit} til hjre mod {destination}"}},"on ramp":{default:{default:"Tag afkrslen",name:"Tag afkrslen ad {way_name}",destination:"Tag afkrslen mod {destination}"},left:{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},right:{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"},"sharp left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},"sharp right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"},"slight left":{default:"Tag afkrslen til venstre",name:"Tag afkrslen til venstre ad {way_name}",destination:"Tag afkrslen til venstre mod {destination}"},"slight right":{default:"Tag afkrslen til hjre",name:"Tag afkrslen til hjre ad {way_name}",destination:"Tag afkrslen til hjre mod {destination}"}},rotary:{default:{default:{default:"Kr ind i rundkrslen",name:"Tag rundkrslen og kr fra ad {way_name}",destination:"Tag rundkrslen og kr mod {destination}"},name:{default:"Kr ind i {rotary_name}",name:"Kr ind i {rotary_name} og kr ad {way_name} ",destination:"Kr ind i {rotary_name} og kr mod {destination}"},exit:{default:"Tag rundkrslen og forlad ved {exit_number} afkrsel",name:"Tag rundkrslen og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Tag rundkrslen og forlad ved {exit_number} afkrsel mod {destination}"},name_exit:{default:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel",name:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Kr ind i {rotary_name} og forlad ved {exit_number} afkrsel mod {destination}"}}},roundabout:{default:{exit:{default:"Tag rundkrslen og forlad ved {exit_number} afkrsel",name:"Tag rundkrslen og forlad ved {exit_number} afkrsel ad {way_name}",destination:"Tag rundkrslen og forlad ved {exit_number} afkrsel mod {destination}"},default:{default:"Kr ind i rundkrslen",name:"Tag rundkrslen og kr fra ad {way_name}",destination:"Tag rundkrslen og kr mod {destination}"}}},"roundabout turn":{default:{default:"Foretag et {modifier}",name:"Foretag et {modifier} ad {way_name}",destination:"Foretag et {modifier} mod {destination}"},left:{default:"Drej til venstre",name:"Drej til venstre ad {way_name}",destination:"Drej til venstre mod {destination}"},right:{default:"Drej til hjre",name:"Drej til hjre ad {way_name}",destination:"Drej til hjre mod {destination}"},straight:{default:"Fortst ligeud",name:"Fortst ligeud ad {way_name}",destination:"Fortst ligeud mod {destination}"}},"exit roundabout":{default:{default:"Forlad rundkrslen",name:"Forlad rundkrslen ad {way_name}",destination:"Forlad rundkrslen mod  {destination}"}},"exit rotary":{default:{default:"Forlad rundkrslen",name:"Forlad rundkrslen ad {way_name}",destination:"Forlad rundkrslen mod {destination}"}},turn:{default:{default:"Foretag et {modifier}",name:"Foretag et {modifier} ad {way_name}",destination:"Foretag et {modifier} mod {destination}"},left:{default:"Drej til venstre",name:"Drej til venstre ad {way_name}",destination:"Drej til venstre mod {destination}"},right:{default:"Drej til hjre",name:"Drej til hjre ad {way_name}",destination:"Drej til hjre mod {destination}"},straight:{default:"Fortst ligeud",name:"Kr ligeud ad {way_name}",destination:"Kr ligeud mod {destination}"}},"use lane":{no_lanes:{default:"Fortst ligeud"},default:{default:"{lane_instruction}"}}}}},{}],24:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"erste",2:"zweite",3:"dritte",4:"vierte",5:"fnfte",6:"sechste",7:"siebente",8:"achte",9:"neunte",10:"zehnte"},direction:{north:"Norden",northeast:"Nordosten",east:"Osten",southeast:"Sdosten",south:"Sden",southwest:"Sdwesten",west:"Westen",northwest:"Nordwesten"},modifier:{left:"links",right:"rechts","sharp left":"scharf links","sharp right":"scharf rechts","slight left":"leicht links","slight right":"leicht rechts",straight:"geradeaus",uturn:"180-Wendung"},lanes:{xo:"Rechts halten",ox:"Links halten",xox:"Mittlere Spur nutzen",oxo:"Rechts oder links halten"}},modes:{ferry:{default:"Fhre nehmen",name:"Fhre nehmen {way_name}",destination:"Fhre nehmen Richtung {destination}"}},phrase:{"two linked by distance":"{instruction_one} danach in {distance} {instruction_two}","two linked":"{instruction_one} danach {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Sie haben Ihr {nth} Ziel erreicht",upcoming:"Sie haben Ihr {nth} Ziel erreicht",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}"},left:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},right:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"sharp left":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},"sharp right":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"slight right":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich rechts",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich rechts"},"slight left":{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich links",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich links"},straight:{default:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich geradeaus",upcoming:"Sie haben Ihr {nth} Ziel erreicht, es befindet sich geradeaus",short:"Sie haben Ihr {nth} Ziel erreicht","short-upcoming":"Sie haben Ihr {nth} Ziel erreicht",named:"Sie haben Ihr {waypoint_name}, es befindet sich geradeaus"}},continue:{default:{default:"{modifier} abbiegen",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}",exit:"{modifier} abbiegen auf {way_name}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Weiterfahren in Richtung {destination}",distance:"Geradeaus weiterfahren fr {distance}",namedistance:"Geradeaus weiterfahren auf {way_name} fr {distance}"},"sharp left":{default:"Scharf links",name:"Scharf links weiterfahren auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts",name:"Scharf rechts weiterfahren auf {way_name}",destination:"Scharf rechts Richtung {destination}"},"slight left":{default:"Leicht links",name:"Leicht links weiter auf {way_name}",destination:"Leicht links weiter Richtung {destination}"},"slight right":{default:"Leicht rechts weiter",name:"Leicht rechts weiter auf {way_name}",destination:"Leicht rechts weiter Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},depart:{default:{default:"Fahren Sie Richtung {direction}",name:"Fahren Sie Richtung {direction} auf {way_name}",namedistance:"Fahren Sie Richtung {direction} auf {way_name} fr {distance}"}},"end of road":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"},uturn:{default:"180-Wendung am Ende der Strae",name:"180-Wendung auf {way_name} am Ende der Strae",destination:"180-Wendung Richtung {destination} am Ende der Strae"}},fork:{default:{default:"{modifier} halten an der Gabelung",name:"{modifier} halten an der Gabelung auf {way_name}",destination:"{modifier}  halten an der Gabelung Richtung {destination}"},"slight left":{default:"Links halten an der Gabelung",name:"Links halten an der Gabelung auf {way_name}",destination:"Links halten an der Gabelung Richtung {destination}"},"slight right":{default:"Rechts halten an der Gabelung",name:"Rechts halten an der Gabelung auf {way_name}",destination:"Rechts halten an der Gabelung Richtung {destination}"},"sharp left":{default:"Scharf links abbiegen an der Gabelung",name:"Scharf links auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts abbiegen an der Gabelung",name:"Scharf rechts auf {way_name}",destination:"Scharf rechts Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},merge:{default:{default:"{modifier} auffahren",name:"{modifier} auffahren auf {way_name}",destination:"{modifier} auffahren Richtung {destination}"},straight:{default:"geradeaus auffahren",name:"geradeaus auffahren auf {way_name}",destination:"geradeaus auffahren Richtung {destination}"},"slight left":{default:"Leicht links auffahren",name:"Leicht links auffahren auf {way_name}",destination:"Leicht links auffahren Richtung {destination}"},"slight right":{default:"Leicht rechts auffahren",name:"Leicht rechts auffahren auf {way_name}",destination:"Leicht rechts auffahren Richtung {destination}"},"sharp left":{default:"Scharf links auffahren",name:"Scharf links auffahren auf {way_name}",destination:"Scharf links auffahren Richtung {destination}"},"sharp right":{default:"Scharf rechts auffahren",name:"Scharf rechts auffahren auf {way_name}",destination:"Scharf rechts auffahren Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},"new name":{default:{default:"{modifier} weiterfahren",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} weiterfahren Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Weiterfahren auf {way_name}",destination:"Weiterfahren in Richtung {destination}"},"sharp left":{default:"Scharf links",name:"Scharf links auf {way_name}",destination:"Scharf links Richtung {destination}"},"sharp right":{default:"Scharf rechts",name:"Scharf rechts auf {way_name}",destination:"Scharf rechts Richtung {destination}"},"slight left":{default:"Leicht links weiter",name:"Leicht links weiter auf {way_name}",destination:"Leicht links weiter Richtung {destination}"},"slight right":{default:"Leicht rechts weiter",name:"Leicht rechts weiter auf {way_name}",destination:"Leicht rechts weiter Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},notification:{default:{default:"{modifier} weiterfahren",name:"{modifier} weiterfahren auf {way_name}",destination:"{modifier} weiterfahren Richtung {destination}"},uturn:{default:"180-Wendung",name:"180-Wendung auf {way_name}",destination:"180-Wendung Richtung {destination}"}},"off ramp":{default:{default:"Ausfahrt nehmen",name:"Ausfahrt nehmen auf {way_name}",destination:"Ausfahrt nehmen Richtung {destination}",exit:"Ausfahrt {exit} nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},left:{default:"Ausfahrt links nehmen",name:"Ausfahrt links nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} links nehmen",exit_destination:"Ausfahrt {exit} links nehmen Richtung {destination}"},right:{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen Richtung {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},"sharp left":{default:"Ausfahrt links nehmen",name:"Ausfahrt links Seite nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} links nehmen",exit_destination:"Ausfahrt{exit} links nehmen Richtung {destination}"},"sharp right":{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen auf {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"},"slight left":{default:"Ausfahrt links nehmen",name:"Ausfahrt links nehmen auf {way_name}",destination:"Ausfahrt links nehmen Richtung {destination}",exit:"Ausfahrt {exit} nehmen",exit_destination:"Ausfahrt {exit} links nehmen Richtung {destination}"},"slight right":{default:"Ausfahrt rechts nehmen",name:"Ausfahrt rechts nehmen auf {way_name}",destination:"Ausfahrt rechts nehmen Richtung {destination}",exit:"Ausfahrt {exit} rechts nehmen",exit_destination:"Ausfahrt {exit} nehmen Richtung {destination}"}},"on ramp":{default:{default:"Auffahrt nehmen",name:"Auffahrt nehmen auf {way_name}",destination:"Auffahrt nehmen Richtung {destination}"},left:{default:"Auffahrt links nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},right:{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"},"sharp left":{default:"Auffahrt links nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},"sharp right":{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"},"slight left":{default:"Auffahrt links Seite nehmen",name:"Auffahrt links nehmen auf {way_name}",destination:"Auffahrt links nehmen Richtung {destination}"},"slight right":{default:"Auffahrt rechts nehmen",name:"Auffahrt rechts nehmen auf {way_name}",destination:"Auffahrt rechts nehmen Richtung {destination}"}},rotary:{default:{default:{default:"In den Kreisverkehr fahren",name:"Im Kreisverkehr die Ausfahrt auf {way_name} nehmen",destination:"Im Kreisverkehr die Ausfahrt Richtung {destination} nehmen"},name:{default:"In {rotary_name} fahren",name:"In {rotary_name} die Ausfahrt auf {way_name} nehmen",destination:"In {rotary_name} die Ausfahrt Richtung {destination} nehmen"},exit:{default:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen",name:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen auf {way_name}",destination:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen Richtung {destination}"},name_exit:{default:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen",name:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen auf {way_name}",destination:"In den Kreisverkehr fahren und {exit_number} Ausfahrt nehmen Richtung {destination}"}}},roundabout:{default:{exit:{default:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen",name:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen auf {way_name}",destination:"Im Kreisverkehr die {exit_number} Ausfahrt nehmen Richtung {destination}"},default:{default:"In den Kreisverkehr fahren",name:"Im Kreisverkehr die Ausfahrt auf {way_name} nehmen",destination:"Im Kreisverkehr die Ausfahrt Richtung {destination} nehmen"}}},"roundabout turn":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"exit roundabout":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"exit rotary":{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},turn:{default:{default:"{modifier} abbiegen",name:"{modifier} abbiegen auf {way_name}",destination:"{modifier} abbiegen Richtung {destination}"},left:{default:"Links abbiegen",name:"Links abbiegen auf {way_name}",destination:"Links abbiegen Richtung {destination}"},right:{default:"Rechts abbiegen",name:"Rechts abbiegen auf {way_name}",destination:"Rechts abbiegen Richtung {destination}"},straight:{default:"Geradeaus weiterfahren",name:"Geradeaus weiterfahren auf {way_name}",destination:"Geradeaus weiterfahren Richtung {destination}"}},"use lane":{no_lanes:{default:"Geradeaus weiterfahren"},default:{default:"{lane_instruction}"}}}}},{}],25:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1st",2:"2nd",3:"3rd",4:"4th",5:"5th",6:"6th",7:"7th",8:"8th",9:"9th",10:"10th"},direction:{north:"north",northeast:"northeast",east:"east",southeast:"southeast",south:"south",southwest:"southwest",west:"west",northwest:"northwest"},modifier:{left:"left",right:"right","sharp left":"sharp left","sharp right":"sharp right","slight left":"slight left","slight right":"slight right",straight:"straight",uturn:"U-turn"},lanes:{xo:"Keep right",ox:"Keep left",xox:"Keep in the middle",oxo:"Keep left or right"}},modes:{ferry:{default:"Take the ferry",name:"Take the ferry {way_name}",destination:"Take the ferry towards {destination}"}},phrase:{"two linked by distance":"{instruction_one}, then, in {distance}, {instruction_two}","two linked":"{instruction_one}, then {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"You have arrived at your {nth} destination",upcoming:"You will arrive at your {nth} destination",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}"},left:{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},right:{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"sharp left":{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},"sharp right":{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"slight right":{default:"You have arrived at your {nth} destination, on the right",upcoming:"You will arrive at your {nth} destination, on the right",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the right"},"slight left":{default:"You have arrived at your {nth} destination, on the left",upcoming:"You will arrive at your {nth} destination, on the left",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, on the left"},straight:{default:"You have arrived at your {nth} destination, straight ahead",upcoming:"You will arrive at your {nth} destination, straight ahead",short:"You have arrived","short-upcoming":"You will arrive",named:"You have arrived at {waypoint_name}, straight ahead"}},continue:{default:{default:"Turn {modifier}",name:"Turn {modifier} to stay on {way_name}",destination:"Turn {modifier} towards {destination}",exit:"Turn {modifier} onto {way_name}"},straight:{default:"Continue straight",name:"Continue straight to stay on {way_name}",destination:"Continue towards {destination}",distance:"Continue straight for {distance}",namedistance:"Continue on {way_name} for {distance}"},"sharp left":{default:"Make a sharp left",name:"Make a sharp left to stay on {way_name}",destination:"Make a sharp left towards {destination}"},"sharp right":{default:"Make a sharp right",name:"Make a sharp right to stay on {way_name}",destination:"Make a sharp right towards {destination}"},"slight left":{default:"Make a slight left",name:"Make a slight left to stay on {way_name}",destination:"Make a slight left towards {destination}"},"slight right":{default:"Make a slight right",name:"Make a slight right to stay on {way_name}",destination:"Make a slight right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn and continue on {way_name}",destination:"Make a U-turn towards {destination}"}},depart:{default:{default:"Head {direction}",name:"Head {direction} on {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Turn {modifier}",name:"Turn {modifier} onto {way_name}",destination:"Turn {modifier} towards {destination}"},straight:{default:"Continue straight",name:"Continue straight onto {way_name}",destination:"Continue straight towards {destination}"},uturn:{default:"Make a U-turn at the end of the road",name:"Make a U-turn onto {way_name} at the end of the road",destination:"Make a U-turn towards {destination} at the end of the road"}},fork:{default:{default:"Keep {modifier} at the fork",name:"Keep {modifier} onto {way_name}",destination:"Keep {modifier} towards {destination}"},"slight left":{default:"Keep left at the fork",name:"Keep left onto {way_name}",destination:"Keep left towards {destination}"},"slight right":{default:"Keep right at the fork",name:"Keep right onto {way_name}",destination:"Keep right towards {destination}"},"sharp left":{default:"Take a sharp left at the fork",name:"Take a sharp left onto {way_name}",destination:"Take a sharp left towards {destination}"},"sharp right":{default:"Take a sharp right at the fork",name:"Take a sharp right onto {way_name}",destination:"Take a sharp right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},merge:{default:{default:"Merge {modifier}",name:"Merge {modifier} onto {way_name}",destination:"Merge {modifier} towards {destination}"},straight:{default:"Merge",name:"Merge onto {way_name}",destination:"Merge towards {destination}"},"slight left":{default:"Merge left",name:"Merge left onto {way_name}",destination:"Merge left towards {destination}"},"slight right":{default:"Merge right",name:"Merge right onto {way_name}",destination:"Merge right towards {destination}"},"sharp left":{default:"Merge left",name:"Merge left onto {way_name}",destination:"Merge left towards {destination}"},"sharp right":{default:"Merge right",name:"Merge right onto {way_name}",destination:"Merge right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} onto {way_name}",destination:"Continue {modifier} towards {destination}"},straight:{default:"Continue straight",name:"Continue onto {way_name}",destination:"Continue towards {destination}"},"sharp left":{default:"Take a sharp left",name:"Take a sharp left onto {way_name}",destination:"Take a sharp left towards {destination}"},"sharp right":{default:"Take a sharp right",name:"Take a sharp right onto {way_name}",destination:"Take a sharp right towards {destination}"},"slight left":{default:"Continue slightly left",name:"Continue slightly left onto {way_name}",destination:"Continue slightly left towards {destination}"},"slight right":{default:"Continue slightly right",name:"Continue slightly right onto {way_name}",destination:"Continue slightly right towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} onto {way_name}",destination:"Continue {modifier} towards {destination}"},uturn:{default:"Make a U-turn",name:"Make a U-turn onto {way_name}",destination:"Make a U-turn towards {destination}"}},"off ramp":{default:{default:"Take the ramp",name:"Take the ramp onto {way_name}",destination:"Take the ramp towards {destination}",exit:"Take exit {exit}",exit_destination:"Take exit {exit} towards {destination}"},left:{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},right:{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"sharp left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"sharp right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"slight left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"slight right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"}},"on ramp":{default:{default:"Take the ramp",name:"Take the ramp onto {way_name}",destination:"Take the ramp towards {destination}"},left:{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},right:{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"},"sharp left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},"sharp right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"},"slight left":{default:"Take the ramp on the left",name:"Take the ramp on the left onto {way_name}",destination:"Take the ramp on the left towards {destination}"},"slight right":{default:"Take the ramp on the right",name:"Take the ramp on the right onto {way_name}",destination:"Take the ramp on the right towards {destination}"}},rotary:{default:{default:{default:"Enter the traffic circle",name:"Enter the traffic circle and exit onto {way_name}",destination:"Enter the traffic circle and exit towards {destination}"},name:{default:"Enter {rotary_name}",name:"Enter {rotary_name} and exit onto {way_name}",destination:"Enter {rotary_name} and exit towards {destination}"},exit:{default:"Enter the traffic circle and take the {exit_number} exit",name:"Enter the traffic circle and take the {exit_number} exit onto {way_name}",destination:"Enter the traffic circle and take the {exit_number} exit towards {destination}"},name_exit:{default:"Enter {rotary_name} and take the {exit_number} exit",name:"Enter {rotary_name} and take the {exit_number} exit onto {way_name}",destination:"Enter {rotary_name} and take the {exit_number} exit towards {destination}"}}},roundabout:{default:{exit:{default:"Enter the traffic circle and take the {exit_number} exit",name:"Enter the traffic circle and take the {exit_number} exit onto {way_name}",destination:"Enter the traffic circle and take the {exit_number} exit towards {destination}"},default:{default:"Enter the traffic circle",name:"Enter the traffic circle and exit onto {way_name}",destination:"Enter the traffic circle and exit towards {destination}"}}},"roundabout turn":{default:{default:"Make a {modifier}",name:"Make a {modifier} onto {way_name}",destination:"Make a {modifier} towards {destination}"},left:{default:"Turn left",name:"Turn left onto {way_name}",destination:"Turn left towards {destination}"},right:{default:"Turn right",name:"Turn right onto {way_name}",destination:"Turn right towards {destination}"},straight:{default:"Continue straight",name:"Continue straight onto {way_name}",destination:"Continue straight towards {destination}"}},"exit roundabout":{default:{default:"Exit the traffic circle",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},"exit rotary":{default:{default:"Exit the traffic circle",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},turn:{default:{default:"Make a {modifier}",name:"Make a {modifier} onto {way_name}",destination:"Make a {modifier} towards {destination}"},left:{default:"Turn left",name:"Turn left onto {way_name}",destination:"Turn left towards {destination}"},right:{default:"Turn right",name:"Turn right onto {way_name}",destination:"Turn right towards {destination}"},straight:{default:"Go straight",name:"Go straight onto {way_name}",destination:"Go straight towards {destination}"}},"use lane":{no_lanes:{default:"Continue straight"},default:{default:"{lane_instruction}"}}}}},{}],26:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"norden",northeast:"nord-orienten",east:"orienten",southeast:"sud-orienten",south:"suden",southwest:"sud-okcidenten",west:"okcidenten",northwest:"nord-okcidenten"},modifier:{left:"maldekstren",right:"dekstren","sharp left":"maldekstregen","sharp right":"dekstregen","slight left":"maldekstreten","slight right":"dekstreten",straight:"rekten",uturn:"turniu malantaen"},lanes:{xo:"Veturu dekstre",ox:"Veturu maldekstre",xox:"Veturu meze",oxo:"Veturu dekstre a maldekstre"}},modes:{ferry:{default:"Enpramiu",name:"Enpramiu {way_name}",destination:"Enpramiu direkte al {destination}"}},phrase:{"two linked by distance":"{instruction_one} kaj post {distance} {instruction_two}","two linked":"{instruction_one} kaj sekve {instruction_two}","one in distance":"Post {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"elveturejo {exit}"},arrive:{default:{default:"Vi atingis vian {nth} celon",upcoming:"Vi atingos vian {nth} celon",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}"},left:{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},right:{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"sharp left":{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},"sharp right":{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"slight right":{default:"Vi atingis vian {nth} celon e dekstre",upcoming:"Vi atingos vian {nth} celon e dekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e dekstre"},"slight left":{default:"Vi atingis vian {nth} celon e maldekstre",upcoming:"Vi atingos vian {nth} celon e maldekstre",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name}, e maldekstre"},straight:{default:"Vi atingis vian {nth} celon",upcoming:"Vi atingos vian {nth} celon rekte",short:"Vi atingis","short-upcoming":"Vi atingos",named:"Vi atingis {waypoint_name} antae"}},continue:{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}",exit:"Veturu {modifier} direkte al {way_name}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}",distance:"Veturu rekten dum {distance}",namedistance:"Veturu rekten al {way_name} dum {distance}"},"sharp left":{default:"Turniu ege maldekstren",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Turniu ege dekstren",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},"slight left":{default:"Turniu ete maldekstren",name:"Turniu ete maldekstren al {way_name}",destination:"Turniu ete maldekstren direkte al {destination}"},"slight right":{default:"Turniu ete dekstren",name:"Turniu ete dekstren al {way_name}",destination:"Turniu ete dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},depart:{default:{default:"Direktiu {direction}",name:"Direktiu {direction} al {way_name}",namedistance:"Direktiu {direction} al {way_name} tra {distance}"}},"end of road":{default:{default:"Veturu {modifier}",name:"Veturu {modifier} direkte al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"},uturn:{default:"Turniu malantaen e fino de la vojo",name:"Turniu malantaen al {way_name} e fino de la vojo",destination:"Turniu malantaen direkte al {destination} e fino de la vojo"}},fork:{default:{default:"Daru {modifier} e la vojforko",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},"slight left":{default:"Maldekstren e la vojforko",name:"Pluu maldekstren al {way_name}",destination:"Pluu maldekstren direkte al {destination}"},"slight right":{default:"Dekstren e la vojforko",name:"Pluu dekstren al {way_name}",destination:"Pluu dekstren direkte al {destination}"},"sharp left":{default:"Ege maldekstren e la vojforko",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Ege dekstren e la vojforko",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},merge:{default:{default:"Enveturu {modifier}",name:"Enveturu {modifier} al {way_name}",destination:"Enveturu {modifier} direkte al {destination}"},straight:{default:"Enveturu",name:"Enveturu al {way_name}",destination:"Enveturu direkte al {destination}"},"slight left":{default:"Enveturu de maldekstre",name:"Enveturu de maldekstre al {way_name}",destination:"Enveturu de maldekstre direkte al {destination}"},"slight right":{default:"Enveturu de dekstre",name:"Enveturu de dekstre al {way_name}",destination:"Enveturu de dekstre direkte al {destination}"},"sharp left":{default:"Enveturu de maldekstre",name:"Enveture de maldekstre al {way_name}",destination:"Enveturu de maldekstre direkte al {destination}"},"sharp right":{default:"Enveturu de dekstre",name:"Enveturu de dekstre al {way_name}",destination:"Enveturu de dekstre direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},"new name":{default:{default:"Pluu {modifier}",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"},"sharp left":{default:"Turniu ege maldekstren",name:"Turniu ege maldekstren al {way_name}",destination:"Turniu ege maldekstren direkte al {destination}"},"sharp right":{default:"Turniu ege dekstren",name:"Turniu ege dekstren al {way_name}",destination:"Turniu ege dekstren direkte al {destination}"},"slight left":{default:"Pluu ete maldekstren",name:"Pluu ete maldekstren al {way_name}",destination:"Pluu ete maldekstren direkte al {destination}"},"slight right":{default:"Pluu ete dekstren",name:"Pluu ete dekstren al {way_name}",destination:"Pluu ete dekstren direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},notification:{default:{default:"Pluu {modifier}",name:"Pluu {modifier} al {way_name}",destination:"Pluu {modifier} direkte al {destination}"},uturn:{default:"Turniu malantaen",name:"Turniu malantaen al {way_name}",destination:"Turniu malantaen direkte al {destination}"}},"off ramp":{default:{default:"Direktiu al enveturejo",name:"Direktiu al enveturejo al {way_name}",destination:"Direktiu al enveturejo direkte al {destination}",exit:"Direktiu al elveturejo {exit}",exit_destination:"Direktiu al elveturejo {exit} direkte al {destination}"},left:{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al elveturejo {exit} e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},right:{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al {exit} elveturejo e ldekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"},"sharp left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al {exit} elveturejo e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},"sharp right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al elveturejo {exit} e dekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"},"slight left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}",exit:"Direktiu al {exit} elveturejo e maldekstre",exit_destination:"Direktiu al elveturejo {exit} e maldekstre direkte al {destination}"},"slight right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}",exit:"Direktiu al {exit} elveturejo e ldekstre",exit_destination:"Direktiu al elveturejo {exit} e dekstre direkte al {destination}"}},"on ramp":{default:{default:"Direktiu al enveturejo",name:"Direktiu al enveturejo al {way_name}",destination:"Direktiu al enveturejo direkte al {destination}"},left:{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},right:{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"},"sharp left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},"sharp right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"},"slight left":{default:"Direktiu al enveturejo e maldekstre",name:"Direktiu al enveturejo e maldekstre al {way_name}",destination:"Direktiu al enveturejo e maldekstre al {destination}"},"slight right":{default:"Direktiu al enveturejo e dekstre",name:"Direktiu al enveturejo e dekstre al {way_name}",destination:"Direktiu al enveturejo e dekstre al {destination}"}},rotary:{default:{default:{default:"Enveturu trafikcirklegon",name:"Enveturu trafikcirklegon kaj elveturu al {way_name}",destination:"Enveturu trafikcirklegon kaj elveturu direkte al {destination}"},name:{default:"Enveturu {rotary_name}",name:"Enveturu {rotary_name} kaj elveturu al {way_name}",destination:"Enveturu {rotary_name} kaj elveturu direkte al {destination}"},exit:{default:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo",name:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo direkte al {destination}"},name_exit:{default:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo",name:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu {rotary_name} kaj sekve al {exit_number} elveturejo direkte al {destination}"}}},roundabout:{default:{exit:{default:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo",name:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo al {way_name}",destination:"Enveturu trafikcirklegon kaj sekve al {exit_number} elveturejo direkte al {destination}"},default:{default:"Enveturu trafikcirklegon",name:"Enveturu trafikcirklegon kaj elveturu al {way_name}",destination:"Enveturu trafikcirklegon kaj elveturu direkte al {destination}"}}},"roundabout turn":{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},left:{default:"Turniu maldekstren",name:"Turniu maldekstren al {way_name}",destination:"Turniu maldekstren direkte al {destination}"},right:{default:"Turniu dekstren",name:"Turniu dekstren al {way_name}",destination:"Turniu dekstren direkte al {destination}"},straight:{default:"Pluu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"}},"exit roundabout":{default:{default:"Elveturu trafikcirklegon",name:"Elveturu trafikcirklegon al {way_name}",destination:"Elveturu trafikcirklegon direkte al {destination}"}},"exit rotary":{default:{default:"Eliru trafikcirklegon",name:"Elveturu trafikcirklegon al {way_name}",destination:"Elveturu trafikcirklegon direkte al {destination}"}},turn:{default:{default:"Veturu {modifier}",name:"Veturu {modifier} al {way_name}",destination:"Veturu {modifier} direkte al {destination}"},left:{default:"Turniu maldekstren",name:"Turniu maldekstren al {way_name}",destination:"Turniu maldekstren direkte al {destination}"},right:{default:"Turniu dekstren",name:"Turniu dekstren al {way_name}",destination:"Turniu dekstren direkte al {destination}"},straight:{default:"Veturu rekten",name:"Veturu rekten al {way_name}",destination:"Veturu rekten direkte al {destination}"}},"use lane":{no_lanes:{default:"Pluu rekten"},default:{default:"{lane_instruction}"}}}}},{}],27:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"noreste",east:"este",southeast:"sureste",south:"sur",southwest:"suroeste",west:"oeste",northwest:"noroeste"},modifier:{left:"a la izquierda",right:"a la derecha","sharp left":"cerrada a la izquierda","sharp right":"cerrada a la derecha","slight left":"ligeramente a la izquierda","slight right":"ligeramente a la derecha",straight:"recto",uturn:"cambio de sentido"},lanes:{xo:"Mantente a la derecha",ox:"Mantente a la izquierda",xox:"Mantente en el medio",oxo:"Mantente a la izquierda o a la derecha"}},modes:{ferry:{default:"Coge el ferry",name:"Coge el ferry {way_name}",destination:"Coge el ferry hacia {destination}"}},phrase:{"two linked by distance":"{instruction_one} y luego en {distance}, {instruction_two}","two linked":"{instruction_one} y luego {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"salida {exit}"},arrive:{default:{default:"Has llegado a tu {nth} destino",upcoming:"Vas a llegar a tu {nth} destino",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}"},left:{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},right:{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"sharp left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},"sharp right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},straight:{default:"Has llegado a tu {nth} destino, en frente",upcoming:"Vas a llegar a tu {nth} destino, en frente",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, en frente"}},continue:{default:{default:"Gire {modifier}",name:"Cruce {modifier} en {way_name}",destination:"Gire {modifier} hacia {destination}",exit:"Gire {modifier} en {way_name}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}",distance:"Contina recto por {distance}",namedistance:"Contina recto en {way_name} por {distance}"},"sharp left":{default:"Gire a la izquierda",name:"Gire a la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},"sharp right":{default:"Gire a la derecha",name:"Gire a la derecha en {way_name}",destination:"Gire a la derecha hacia {destination}"},"slight left":{default:"Gire a la izquierda",name:"Doble levementea la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},"slight right":{default:"Gire a la izquierda",name:"Doble levemente a la derecha en {way_name}",destination:"Gire a la izquierda hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido y contina en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},depart:{default:{default:"Dirgete al {direction}",name:"Dirgete al {direction} por {way_name}",namedistance:"Dirgete al {direction} en {way_name} por {distance}"}},"end of road":{default:{default:"Al final de la calle gira {modifier}",name:"Al final de la calle gira {modifier} por {way_name}",destination:"Al final de la calle gira {modifier} hacia {destination}"},straight:{default:"Al final de la calle contina recto",name:"Al final de la calle contina recto por {way_name}",destination:"Al final de la calle contina recto hacia {destination}"},uturn:{default:"Al final de la calle haz un cambio de sentido",name:"Al final de la calle haz un cambio de sentido en {way_name}",destination:"Al final de la calle haz un cambio de sentido hacia {destination}"}},fork:{default:{default:"Mantente {modifier} en el cruce",name:"Mantente {modifier} por {way_name}",destination:"Mantente {modifier} hacia {destination}"},"slight left":{default:"Mantente a la izquierda en el cruce",name:"Mantente a la izquierda por {way_name}",destination:"Mantente a la izquierda hacia {destination}"},"slight right":{default:"Mantente a la derecha en el cruce",name:"Mantente a la derecha por {way_name}",destination:"Mantente a la derecha hacia {destination}"},"sharp left":{default:"Gira la izquierda en el cruce",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha en el cruce",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},merge:{default:{default:"Incorprate {modifier}",name:"Incorprate {modifier} por {way_name}",destination:"Incorprate {modifier} hacia {destination}"},straight:{default:"Incorprate",name:"Incorprate por {way_name}",destination:"Incorprate hacia {destination}"},"slight left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda por {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"slight right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha por {way_name}",destination:"Incorprate a la derecha hacia {destination}"},"sharp left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda por {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"sharp right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha por {way_name}",destination:"Incorprate a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"new name":{default:{default:"Contina {modifier}",name:"Contina {modifier} por {way_name}",destination:"Contina {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina por {way_name}",destination:"Contina hacia {destination}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Contina ligeramente por la izquierda",name:"Contina ligeramente por la izquierda por {way_name}",destination:"Contina ligeramente por la izquierda hacia {destination}"},"slight right":{default:"Contina ligeramente por la derecha",name:"Contina ligeramente por la derecha por {way_name}",destination:"Contina ligeramente por la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},notification:{default:{default:"Contina {modifier}",name:"Contina {modifier} por {way_name}",destination:"Contina {modifier} hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"off ramp":{default:{default:"Coge la cuesta abajo",name:"Coge la cuesta abajo por {way_name}",destination:"Coge la cuesta abajo hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},left:{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo {exit} a tu izquierda hacia {destination}"},right:{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},"sharp left":{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo {exit} a tu izquierda hacia {destination}"},"sharp right":{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"},"slight left":{default:"Coge la cuesta abajo de la izquierda",name:"Coge la cuesta abajo de la izquierda por {way_name}",destination:"Coge la cuesta abajo de la izquierda hacia {destination}",exit:"Coge la cuesta abajo {exit} a tu izquierda",exit_destination:"Coge la cuesta abajo{exit} a tu izquierda hacia {destination}"},"slight right":{default:"Coge la cuesta abajo de la derecha",name:"Coge la cuesta abajo de la derecha por {way_name}",destination:"Coge la cuesta abajo de la derecha hacia {destination}",exit:"Coge la cuesta abajo {exit}",exit_destination:"Coge la cuesta abajo {exit} hacia {destination}"}},"on ramp":{default:{default:"Coge la cuesta",name:"Coge la cuesta por {way_name}",destination:"Coge la cuesta hacia {destination}"},left:{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},right:{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"},"sharp left":{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},"sharp right":{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"},"slight left":{default:"Coge la cuesta de la izquierda",name:"Coge la cuesta de la izquierda por {way_name}",destination:"Coge la cuesta de la izquierda hacia {destination}"},"slight right":{default:"Coge la cuesta de la derecha",name:"Coge la cuesta de la derecha por {way_name}",destination:"Coge la cuesta de la derecha hacia {destination}"}},rotary:{default:{default:{default:"Incorprate en la rotonda",name:"En la rotonda sal por {way_name}",destination:"En la rotonda sal hacia {destination}"},name:{default:"En {rotary_name}",name:"En {rotary_name} sal por {way_name}",destination:"En {rotary_name} sal hacia {destination}"},exit:{default:"En la rotonda toma la {exit_number} salida",name:"En la rotonda toma la {exit_number} salida por {way_name}",destination:"En la rotonda toma la {exit_number} salida hacia {destination}"},name_exit:{default:"En {rotary_name} toma la {exit_number} salida",name:"En {rotary_name} toma la {exit_number} salida por {way_name}",destination:"En {rotary_name} toma la {exit_number} salida hacia {destination}"}}},roundabout:{default:{exit:{default:"En la rotonda toma la {exit_number} salida",name:"En la rotonda toma la {exit_number} salida por {way_name}",destination:"En la rotonda toma la {exit_number} salida hacia {destination}"},default:{default:"Incorprate en la rotonda",name:"Incorprate en la rotonda y sal en {way_name}",destination:"Incorprate en la rotonda y sal hacia {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} en {way_name}",destination:"Siga {modifier} hacia {destination}"},left:{default:"Gire a la izquierda",name:"Gire a la izquierda en {way_name}",destination:"Gire a la izquierda hacia {destination}"},right:{default:"Gire a la derecha",name:"Gire a la derecha en {way_name}",destination:"Gire a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto por {way_name}",destination:"Contina recto hacia {destination}"}},"exit roundabout":{default:{default:"Sal la rotonda",name:"Toma la salida por {way_name}",destination:"Toma la salida hacia {destination}"}},"exit rotary":{default:{default:"Sal la rotonda",name:"Toma la salida por {way_name}",destination:"Toma la salida hacia {destination}"}},turn:{default:{default:"Gira {modifier}",name:"Gira {modifier} por {way_name}",destination:"Gira {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda por {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha por {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto por {way_name}",destination:"Contina recto hacia {destination}"}},"use lane":{no_lanes:{default:"Contina recto"},default:{default:"{lane_instruction}"}}}}},{}],28:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"noreste",east:"este",southeast:"sureste",south:"sur",southwest:"suroeste",west:"oeste",northwest:"noroeste"},modifier:{left:"izquierda",right:"derecha","sharp left":"cerrada a la izquierda","sharp right":"cerrada a la derecha","slight left":"levemente a la izquierda","slight right":"levemente a la derecha",straight:"recto",uturn:"cambio de sentido"},lanes:{xo:"Mantente a la derecha",ox:"Mantente a la izquierda",xox:"Mantente en el medio",oxo:"Mantente a la izquierda o derecha"}},modes:{ferry:{default:"Coge el ferry",name:"Coge el ferry {way_name}",destination:"Coge el ferry a {destination}"}},phrase:{"two linked by distance":"{instruction_one} y luego a {distance}, {instruction_two}","two linked":"{instruction_one} y luego {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"salida {exit}"},arrive:{default:{default:"Has llegado a tu {nth} destino",upcoming:"Vas a llegar a tu {nth} destino",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}"},left:{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},right:{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"sharp left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},"sharp right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight right":{default:"Has llegado a tu {nth} destino, a la derecha",upcoming:"Vas a llegar a tu {nth} destino, a la derecha",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la derecha"},"slight left":{default:"Has llegado a tu {nth} destino, a la izquierda",upcoming:"Vas a llegar a tu {nth} destino, a la izquierda",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, a la izquierda"},straight:{default:"Has llegado a tu {nth} destino, en frente",upcoming:"Vas a llegar a tu {nth} destino, en frente",short:"Has llegado","short-upcoming":"Vas a llegar",named:"Has llegado a {waypoint_name}, en frente"}},continue:{default:{default:"Gira a {modifier}",name:"Cruza a la{modifier}  en {way_name}",destination:"Gira a {modifier} hacia {destination}",exit:"Gira a {modifier} en {way_name}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}",distance:"Contina recto por {distance}",namedistance:"Contina recto en {way_name} por {distance}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Gira a la izquierda",name:"Dobla levemente a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"slight right":{default:"Gira a la izquierda",name:"Dobla levemente a la derecha en {way_name}",destination:"Gira a la izquierda hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido y contina en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},depart:{default:{default:"Ve a {direction}",name:"Ve a {direction} en {way_name}",namedistance:"Ve a {direction} en {way_name} por {distance}"}},"end of road":{default:{default:"Gira  a {modifier}",name:"Gira a {modifier} en {way_name}",destination:"Gira a {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto en {way_name}",destination:"Contina recto hacia {destination}"},uturn:{default:"Haz un cambio de sentido al final de la via",name:"Haz un cambio de sentido en {way_name} al final de la via",destination:"Haz un cambio de sentido hacia {destination} al final de la via"}},fork:{default:{default:"Mantente  {modifier} en el cruza",name:"Mantente {modifier} en {way_name}",destination:"Mantente {modifier} hacia {destination}"},"slight left":{default:"Mantente a la izquierda en el cruza",name:"Mantente a la izquierda en {way_name}",destination:"Mantente a la izquierda hacia {destination}"},"slight right":{default:"Mantente a la derecha en el cruza",name:"Mantente a la derecha en {way_name}",destination:"Mantente a la derecha hacia {destination}"},"sharp left":{default:"Gira a la izquierda en el cruza",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha en el cruza",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},merge:{default:{default:"Incorprate a {modifier}",name:"Incorprate a {modifier} en {way_name}",destination:"Incorprate a {modifier} hacia {destination}"},straight:{default:"Incorprate",name:"Incorprate a {way_name}",destination:"Incorprate hacia {destination}"},"slight left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda en {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"slight right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha en {way_name}",destination:"Incorprate a la derecha hacia {destination}"},"sharp left":{default:"Incorprate a la izquierda",name:"Incorprate a la izquierda en {way_name}",destination:"Incorprate a la izquierda hacia {destination}"},"sharp right":{default:"Incorprate a la derecha",name:"Incorprate a la derecha en {way_name}",destination:"Incorprate a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"new name":{default:{default:"Contina {modifier}",name:"Contina {modifier} en {way_name}",destination:"Contina {modifier} hacia {destination}"},straight:{default:"Contina recto",name:"Contina en {way_name}",destination:"Contina hacia {destination}"},"sharp left":{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},"sharp right":{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},"slight left":{default:"Contina levemente a la izquierda",name:"Contina levemente a la izquierda en {way_name}",destination:"Contina levemente a la izquierda hacia {destination}"},"slight right":{default:"Contina levemente a la derecha",name:"Contina levemente a la derecha en {way_name}",destination:"Contina levemente a la derecha hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},notification:{default:{default:"Contina {modifier}",name:"Contina {modifier} en {way_name}",destination:"Contina {modifier} hacia {destination}"},uturn:{default:"Haz un cambio de sentido",name:"Haz un cambio de sentido en {way_name}",destination:"Haz un cambio de sentido hacia {destination}"}},"off ramp":{default:{default:"Toma la salida",name:"Toma la salida en {way_name}",destination:"Toma la salida hacia {destination}",exit:"Toma la salida {exit}",exit_destination:"Toma la salida {exit} hacia {destination}"},left:{default:"Toma la salida en la izquierda",name:"Toma la salida en la izquierda en {way_name}",destination:"Toma la salida en la izquierda en {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},right:{default:"Toma la salida en la derecha",name:"Toma la salida en la derecha en {way_name}",destination:"Toma la salida en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"},"sharp left":{default:"Ve cuesta abajo en la izquierda",name:"Ve cuesta abajo en la izquierda en {way_name}",destination:"Ve cuesta abajo en la izquierda hacia {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},"sharp right":{default:"Ve cuesta abajo en la derecha",name:"Ve cuesta abajo en la derecha en {way_name}",destination:"Ve cuesta abajo en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"},"slight left":{default:"Ve cuesta abajo en la izquierda",name:"Ve cuesta abajo en la izquierda en {way_name}",destination:"Ve cuesta abajo en la izquierda hacia {destination}",exit:"Toma la salida {exit} en la izquierda",exit_destination:"Toma la salida {exit} en la izquierda hacia {destination}"},"slight right":{default:"Toma la salida en la derecha",name:"Toma la salida en la derecha en {way_name}",destination:"Toma la salida en la derecha hacia {destination}",exit:"Toma la salida {exit} en la derecha",exit_destination:"Toma la salida {exit} en la derecha hacia {destination}"}},"on ramp":{default:{default:"Toma la rampa",name:"Toma la rampa en {way_name}",destination:"Toma la rampa hacia {destination}"},left:{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},right:{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"},"sharp left":{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},"sharp right":{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"},"slight left":{default:"Toma la rampa en la izquierda",name:"Toma la rampa en la izquierda en {way_name}",destination:"Toma la rampa en la izquierda hacia {destination}"},"slight right":{default:"Toma la rampa en la derecha",name:"Toma la rampa en la derecha en {way_name}",destination:"Toma la rampa en la derecha hacia {destination}"}},rotary:{default:{default:{default:"Entra en la rotonda",name:"Entra en la rotonda y sal en {way_name}",destination:"Entra en la rotonda y sal hacia {destination}"},name:{default:"Entra en {rotary_name}",name:"Entra en {rotary_name} y sal en {way_name}",destination:"Entra en {rotary_name} y sal hacia {destination}"},exit:{default:"Entra en la rotonda y toma la {exit_number} salida",name:"Entra en la rotonda y toma la {exit_number} salida a {way_name}",destination:"Entra en la rotonda y toma la {exit_number} salida hacia {destination}"},name_exit:{default:"Entra en {rotary_name} y coge la {exit_number} salida",name:"Entra en {rotary_name} y coge la {exit_number} salida en {way_name}",destination:"Entra en {rotary_name} y coge la {exit_number} salida hacia {destination}"}}},roundabout:{default:{exit:{default:"Entra en la rotonda y toma la {exit_number} salida",name:"Entra en la rotonda y toma la {exit_number} salida a {way_name}",destination:"Entra en la rotonda y toma la {exit_number} salida hacia {destination}"},default:{default:"Entra en la rotonda",name:"Entra en la rotonda y sal en {way_name}",destination:"Entra en la rotonda y sal hacia {destination}"}}},"roundabout turn":{default:{default:"Sigue {modifier}",name:"Sigue {modifier} en {way_name}",destination:"Sigue {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Contina recto",name:"Contina recto en {way_name}",destination:"Contina recto hacia {destination}"}},"exit roundabout":{default:{default:"Sal la rotonda",name:"Sal la rotonda en {way_name}",destination:"Sal la rotonda hacia {destination}"}},"exit rotary":{default:{default:"Sal la rotonda",name:"Sal la rotonda en {way_name}",destination:"Sal la rotonda hacia {destination}"}},turn:{default:{default:"Sigue {modifier}",name:"Sigue {modifier} en {way_name}",destination:"Sigue {modifier} hacia {destination}"},left:{default:"Gira a la izquierda",name:"Gira a la izquierda en {way_name}",destination:"Gira a la izquierda hacia {destination}"},right:{default:"Gira a la derecha",name:"Gira a la derecha en {way_name}",destination:"Gira a la derecha hacia {destination}"},straight:{default:"Ve recto",name:"Ve recto en {way_name}",destination:"Ve recto hacia {destination}"}},"use lane":{no_lanes:{default:"Contina recto"},default:{default:"{lane_instruction}"}}}}},{}],29:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"pohjoiseen",northeast:"koilliseen",east:"itn",southeast:"kaakkoon",south:"eteln",southwest:"lounaaseen",west:"lnteen",northwest:"luoteeseen"},modifier:{left:"vasemmall(e/a)",right:"oikeall(e/a)","sharp left":"jyrksti vasempaan","sharp right":"jyrksti oikeaan","slight left":"loivasti vasempaan","slight right":"loivasti oikeaan",straight:"suoraan eteenpin",uturn:"U-knns"},lanes:{xo:"Pysy oikealla",ox:"Pysy vasemmalla",xox:"Pysy keskell",oxo:"Pysy vasemmalla tai oikealla"}},modes:{ferry:{default:"Aja lautalle",name:"Aja lautalle {way_name}",destination:"Aja lautalle, jonka mrnp on {destination}"}},phrase:{"two linked by distance":"{instruction_one}, sitten {distance} pst, {instruction_two}","two linked":"{instruction_one}, sitten {instruction_two}","one in distance":"{distance} pst, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"{exit}"},arrive:{default:{default:"Olet saapunut {nth} mrnphsi",upcoming:"Saavut {nth} mrnphsi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}"},left:{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},right:{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"sharp left":{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},"sharp right":{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"slight right":{default:"Olet saapunut {nth} mrnphsi, joka on oikealla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on oikealla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on oikealla puolellasi"},"slight left":{default:"Olet saapunut {nth} mrnphsi, joka on vasemmalla puolellasi",upcoming:"Saavut {nth} mrnphsi, joka on vasemmalla puolellasi",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on vasemmalla puolellasi"},straight:{default:"Olet saapunut {nth} mrnphsi, joka on suoraan edesssi",upcoming:"Saavut {nth} mrnphsi, suoraan edess",short:"Olet saapunut","short-upcoming":"Saavut",named:"Olet saapunut mrnphn {waypoint_name}, joka on suoraan edesssi"}},continue:{default:{default:"Knny {modifier}",name:"Knny {modifier} pysyksesi tiell {way_name}",destination:"Knny {modifier} suuntana {destination}",exit:"Knny {modifier} tielle {way_name}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan pysyksesi tiell {way_name}",destination:"Jatka suuntana {destination}",distance:"Jatka suoraan {distance}",namedistance:"Jatka tiell {way_name} {distance}"},"sharp left":{default:"Jatka jyrksti vasempaan",name:"Jatka jyrksti vasempaan pysyksesi tiell {way_name}",destination:"Jatka jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Jatka jyrksti oikeaan",name:"Jatka jyrksti oikeaan pysyksesi tiell {way_name}",destination:"Jatka jyrksti oikeaan suuntana {destination}"},"slight left":{default:"Jatka loivasti vasempaan",name:"Jatka loivasti vasempaan pysyksesi tiell {way_name}",destination:"Jatka loivasti vasempaan suuntana {destination}"},"slight right":{default:"Jatka loivasti oikeaan",name:"Jatka loivasti oikeaan pysyksesi tiell {way_name}",destination:"Jatka loivasti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns ja jatka tiet {way_name}",destination:"Tee U-knns suuntana {destination}"}},depart:{default:{default:"Aja {direction}",name:"Aja tiet {way_name} {direction}",namedistance:"Aja {distance} {direction} tiet {way_name} "}},"end of road":{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan eteenpin tielle {way_name}",destination:"Jatka suoraan eteenpin suuntana {destination}"},uturn:{default:"Tien pss tee U-knns",name:"Tien pss tee U-knns tielle {way_name}",destination:"Tien pss tee U-knns suuntana {destination}"}},fork:{default:{default:"Jatka tienhaarassa {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},"slight left":{default:"Pysy vasemmalla tienhaarassa",name:"Pysy vasemmalla tielle {way_name}",destination:"Pysy vasemmalla suuntana {destination}"},"slight right":{default:"Pysy oikealla tienhaarassa",name:"Pysy oikealla tielle {way_name}",destination:"Pysy oikealla suuntana {destination}"},"sharp left":{default:"Knny tienhaarassa jyrksti vasempaan",name:"Knny tienhaarassa jyrksti vasempaan tielle {way_name}",destination:"Knny tienhaarassa jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Knny tienhaarassa jyrksti oikeaan",name:"Knny tienhaarassa jyrksti oikeaan tielle {way_name}",destination:"Knny tienhaarassa jyrksti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},merge:{default:{default:"Liity {modifier}",name:"Liity {modifier}, tielle {way_name}",destination:"Liity {modifier}, suuntana {destination}"},straight:{default:"Liity",name:"Liity tielle {way_name}",destination:"Liity suuntana {destination}"},"slight left":{default:"Liity vasemmalle",name:"Liity vasemmalle, tielle {way_name}",destination:"Liity vasemmalle, suuntana {destination}"},"slight right":{default:"Liity oikealle",name:"Liity oikealle, tielle {way_name}",destination:"Liity oikealle, suuntana {destination}"},"sharp left":{default:"Liity vasemmalle",name:"Liity vasemmalle, tielle {way_name}",destination:"Liity vasemmalle, suuntana {destination}"},"sharp right":{default:"Liity oikealle",name:"Liity oikealle, tielle {way_name}",destination:"Liity oikealle, suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},"new name":{default:{default:"Jatka {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka tielle {way_name}",destination:"Jatka suuntana {destination}"},"sharp left":{default:"Knny jyrksti vasempaan",name:"Knny jyrksti vasempaan tielle {way_name}",destination:"Knny jyrksti vasempaan suuntana {destination}"},"sharp right":{default:"Knny jyrksti oikeaan",name:"Knny jyrksti oikeaan tielle {way_name}",destination:"Knny jyrksti oikeaan suuntana {destination}"},"slight left":{default:"Jatka loivasti vasempaan",name:"Jatka loivasti vasempaan tielle {way_name}",destination:"Jatka loivasti vasempaan suuntana {destination}"},"slight right":{default:"Jatka loivasti oikeaan",name:"Jatka loivasti oikeaan tielle {way_name}",destination:"Jatka loivasti oikeaan suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},notification:{default:{default:"Jatka {modifier}",name:"Jatka {modifier} tielle {way_name}",destination:"Jatka {modifier} suuntana {destination}"},uturn:{default:"Tee U-knns",name:"Tee U-knns tielle {way_name}",destination:"Tee U-knns suuntana {destination}"}},"off ramp":{default:{default:"Aja erkanemiskaistalle",name:"Aja erkanemiskaistaa tielle {way_name}",destination:"Aja erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit}",exit_destination:"Ota poistuminen {exit}, suuntana {destination}"},left:{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},right:{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"},"sharp left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},"sharp right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"},"slight left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} vasemmalla",exit_destination:"Ota poistuminen {exit} vasemmalla, suuntana {destination}"},"slight right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}",exit:"Ota poistuminen {exit} oikealla",exit_destination:"Ota poistuminen {exit} oikealla, suuntana {destination}"}},"on ramp":{default:{default:"Aja erkanemiskaistalle",name:"Aja erkanemiskaistaa tielle {way_name}",destination:"Aja erkanemiskaistalle suuntana {destination}"},left:{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},right:{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"},"sharp left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},"sharp right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"},"slight left":{default:"Aja vasemmalla olevalle erkanemiskaistalle",name:"Aja vasemmalla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja vasemmalla olevalle erkanemiskaistalle suuntana {destination}"},"slight right":{default:"Aja oikealla olevalle erkanemiskaistalle",name:"Aja oikealla olevaa erkanemiskaistaa tielle {way_name}",destination:"Aja oikealla olevalle erkanemiskaistalle suuntana {destination}"}},rotary:{default:{default:{default:"Aja liikenneympyrn",name:"Aja liikenneympyrn ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse erkanemiskaista suuntana {destination}"},name:{default:"Aja liikenneympyrn {rotary_name}",name:"Aja liikenneympyrn {rotary_name} ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn {rotary_name} ja valitse erkanemiskaista suuntana {destination}"},exit:{default:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista suuntana {destination}"},name_exit:{default:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn {rotary_name} ja valitse {exit_number} erkanemiskaista suuntana {destination}"}}},roundabout:{default:{exit:{default:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista",name:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse {exit_number} erkanemiskaista suuntana {destination}"},default:{default:"Aja liikenneympyrn",name:"Aja liikenneympyrn ja valitse erkanemiskaista tielle {way_name}",destination:"Aja liikenneympyrn ja valitse erkanemiskaista suuntana {destination}"}}},"roundabout turn":{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},left:{default:"Knny vasempaan",name:"Knny vasempaan tielle {way_name}",destination:"Knny vasempaan suuntana {destination}"},right:{default:"Knny oikeaan",name:"Knny oikeaan tielle {way_name}",destination:"Knny oikeaan suuntana {destination}"},straight:{default:"Jatka suoraan eteenpin",name:"Jatka suoraan eteenpin tielle {way_name}",destination:"Jatka suoraan eteenpin suuntana {destination}"}},"exit roundabout":{default:{default:"Poistu liikenneympyrst",name:"Poistu liikenneympyrst tielle {way_name}",destination:"Poistu liikenneympyrst suuntana {destination}"}},"exit rotary":{default:{default:"Poistu liikenneympyrst",name:"Poistu liikenneympyrst tielle {way_name}",destination:"Poistu liikenneympyrst suuntana {destination}"}},turn:{default:{default:"Knny {modifier}",name:"Knny {modifier} tielle {way_name}",destination:"Knny {modifier} suuntana {destination}"},left:{default:"Knny vasempaan",name:"Knny vasempaan tielle {way_name}",destination:"Knny vasempaan suuntana {destination}"},right:{default:"Knny oikeaan",name:"Knny oikeaan tielle {way_name}",destination:"Knny oikeaan suuntana {destination}"},straight:{default:"Aja suoraan eteenpin",name:"Aja suoraan eteenpin tielle {way_name}",destination:"Aja suoraan eteenpin suuntana {destination}"}},"use lane":{no_lanes:{default:"Jatka suoraan eteenpin"},default:{default:"{lane_instruction}"}}}}},{}],30:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"premire",2:"seconde",3:"troisime",4:"quatrime",5:"cinquime",6:"sixime",7:"septime",8:"huitime",9:"neuvime",10:"dixime"},direction:{north:"le nord",northeast:"le nord-est",east:"lest",southeast:"le sud-est",south:"le sud",southwest:"le sud-ouest",west:"louest",northwest:"le nord-ouest"},modifier:{left:" gauche",right:" droite","sharp left":"franchement  gauche","sharp right":"franchement  droite","slight left":"lgrement  gauche","slight right":"lgrement  droite",straight:"tout droit",uturn:"demi-tour"},lanes:{xo:"Tenir la droite",ox:"Tenir la gauche",xox:"Rester au milieu",oxo:"Tenir la gauche ou la droite"}},modes:{ferry:{default:"Prendre le ferry",name:"Prendre le ferry {way_name:article}",destination:"Prendre le ferry en direction {destination:preposition}"}},phrase:{"two linked by distance":"{instruction_one}, puis, dans {distance}, {instruction_two}","two linked":"{instruction_one}, puis {instruction_two}","one in distance":"Dans {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sortie n{exit}"},arrive:{default:{default:"Vous tes arriv  votre {nth} destination",upcoming:"Vous arriverez  votre {nth} destination",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}"},left:{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},right:{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv   {waypoint_name:arrival}, sur la droite"},"sharp left":{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},"sharp right":{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la droite"},"slight right":{default:"Vous tes arriv  votre {nth} destination, sur la droite",upcoming:"Vous arriverez  votre {nth} destination, sur la droite",short:"Vous tes arriv","short-upcoming":"Vous arriverez",named:"Vous tes arriv {waypoint_name:arrival}, sur la droite"},"slight left":{default:"Vous tes arriv  votre {nth} destination, sur la gauche",upcoming:"Vous arriverez  votre {nth} destination, sur la gauche",short:"Vous tes arriv","short-upcoming":"Vous tes arriv",named:"Vous tes arriv {waypoint_name:arrival}, sur la gauche"},straight:{default:"Vous tes arriv  votre {nth} destination, droit devant",upcoming:"Vous arriverez  votre {nth} destination, droit devant",short:"Vous tes arriv","short-upcoming":"Vous tes arriv",named:"Vous tes arriv {waypoint_name:arrival}, droit devant"}},continue:{default:{default:"Tourner {modifier}",name:"Tourner {modifier} pour rester sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}",exit:"Tourner {modifier} sur {way_name:article}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit pour rester sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}",distance:"Continuer tout droit sur {distance}",namedistance:"Continuer sur {way_name:article} sur {distance}"},"sharp left":{default:"Tourner franchement  gauche",name:"Tourner franchement  gauche pour rester sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite",name:"Tourner franchement  droite pour rester sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},"slight left":{default:"Tourner lgrement  gauche",name:"Tourner lgrement  gauche pour rester sur {way_name:article}",destination:"Tourner lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Tourner lgrement  droite",name:"Tourner lgrement  droite pour rester sur {way_name:article}",destination:"Tourner lgrement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour et continuer sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},depart:{default:{default:"Se diriger vers {direction}",name:"Se diriger vers {direction} sur {way_name:article}",namedistance:"Se diriger vers {direction} sur {way_name:article} sur {distance}"}},"end of road":{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"},uturn:{default:"Faire demi-tour  la fin de la route",name:"Faire demi-tour  la fin {way_name:preposition}",destination:"Faire demi-tour  la fin de la route en direction {destination:preposition}"}},fork:{default:{default:"Tenir {modifier}  lembranchement",name:"Tenir {modifier} sur {way_name:article}",destination:"Tenir {modifier} en direction {destination:preposition}"},"slight left":{default:"Tenir la gauche  lembranchement",name:"Tenir la gauche sur {way_name:article}",destination:"Tenir la gauche en direction {destination:preposition}"},"slight right":{default:"Tenir la droite  lembranchement",name:"Tenir la droite sur {way_name:article}",destination:"Tenir la droite en direction {destination:preposition}"},"sharp left":{default:"Tourner franchement  gauche  lembranchement",name:"Tourner franchement  gauche sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite  lembranchement",name:"Tourner franchement  droite sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},merge:{default:{default:"Sinsrer {modifier}",name:"Sinsrer {modifier} sur {way_name:article}",destination:"Sinsrer {modifier} en direction {destination:preposition}"},straight:{default:"Sinsrer",name:"Sinsrer sur {way_name:article}",destination:"Sinsrer en direction {destination:preposition}"},"slight left":{default:"Sinsrer lgrement  gauche",name:"Sinsrer lgrement  gauche sur {way_name:article}",destination:"Sinsrer lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Sinsrer lgrement  droite",name:"Sinsrer lgrement  droite sur {way_name:article}",destination:"Sinsrer  droite en direction {destination:preposition}"},"sharp left":{default:"Sinsrer  gauche",name:"Sinsrer  gauche sur {way_name:article}",destination:"Sinsrer  gauche en direction {destination:preposition}"},"sharp right":{default:"Sinsrer  droite",name:"Sinsrer  droite sur {way_name:article}",destination:"Sinsrer  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},"new name":{default:{default:"Continuer {modifier}",name:"Continuer {modifier} sur {way_name:article}",destination:"Continuer {modifier} en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"},"sharp left":{default:"Tourner franchement  gauche",name:"Tourner franchement  gauche sur {way_name:article}",destination:"Tourner franchement  gauche en direction {destination:preposition}"},"sharp right":{default:"Tourner franchement  droite",name:"Tourner franchement  droite sur {way_name:article}",destination:"Tourner franchement  droite en direction {destination:preposition}"},"slight left":{default:"Continuer lgrement  gauche",name:"Continuer lgrement  gauche sur {way_name:article}",destination:"Continuer lgrement  gauche en direction {destination:preposition}"},"slight right":{default:"Continuer lgrement  droite",name:"Continuer lgrement  droite sur {way_name:article}",destination:"Continuer lgrement  droite en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},notification:{default:{default:"Continuer {modifier}",name:"Continuer {modifier} sur {way_name:article}",destination:"Continuer {modifier} en direction {destination:preposition}"},uturn:{default:"Faire demi-tour",name:"Faire demi-tour sur {way_name:article}",destination:"Faire demi-tour en direction {destination:preposition}"}},"off ramp":{default:{default:"Prendre la sortie",name:"Prendre la sortie sur {way_name:article}",destination:"Prendre la sortie en direction {destination:preposition}",exit:"Prendre la sortie {exit}",exit_destination:"Prendre la sortie {exit} en direction {destination:preposition}"},left:{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},right:{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"},"sharp left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},"sharp right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"},"slight left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la gauche",exit_destination:"Prendre la sortie {exit} sur la gauche en direction {destination:preposition}"},"slight right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}",exit:"Prendre la sortie {exit} sur la droite",exit_destination:"Prendre la sortie {exit} sur la droite en direction {destination:preposition}"}},"on ramp":{default:{default:"Prendre la sortie",name:"Prendre la sortie sur {way_name:article}",destination:"Prendre la sortie en direction {destination:preposition}"},left:{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},right:{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"},"sharp left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},"sharp right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"},"slight left":{default:"Prendre la sortie  gauche",name:"Prendre la sortie  gauche sur {way_name:article}",destination:"Prendre la sortie  gauche en direction {destination:preposition}"},"slight right":{default:"Prendre la sortie  droite",name:"Prendre la sortie  droite sur {way_name:article}",destination:"Prendre la sortie  droite en direction {destination:preposition}"}},rotary:{default:{default:{default:"Prendre le rond-point",name:"Prendre le rond-point, puis sortir sur {way_name:article}",destination:"Prendre le rond-point, puis sortir en direction {destination:preposition}"},name:{default:"Prendre {rotary_name:rotary}",name:"Prendre {rotary_name:rotary}, puis sortir par {way_name:article}",destination:"Prendre {rotary_name:rotary}, puis sortir en direction {destination:preposition}"},exit:{default:"Prendre le rond-point, puis la {exit_number} sortie",name:"Prendre le rond-point, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre le rond-point, puis la {exit_number} sortie en direction {destination:preposition}"},name_exit:{default:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie",name:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre {rotary_name:rotary}, puis la {exit_number} sortie en direction {destination:preposition}"}}},roundabout:{default:{exit:{default:"Prendre le rond-point, puis la {exit_number} sortie",name:"Prendre le rond-point, puis la {exit_number} sortie sur {way_name:article}",destination:"Prendre le rond-point, puis la {exit_number} sortie en direction {destination:preposition}"},default:{default:"Prendre le rond-point",name:"Prendre le rond-point, puis sortir sur {way_name:article}",destination:"Prendre le rond-point, puis sortir en direction {destination:preposition}"}}},"roundabout turn":{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},left:{default:"Tourner  gauche",name:"Tourner  gauche sur {way_name:article}",destination:"Tourner  gauche en direction {destination:preposition}"},right:{default:"Tourner  droite",name:"Tourner  droite sur {way_name:article}",destination:"Tourner  droite en direction {destination:preposition}"},straight:{default:"Continuer tout droit",name:"Continuer tout droit sur {way_name:article}",destination:"Continuer tout droit en direction {destination:preposition}"}},"exit roundabout":{default:{default:"Sortir du rond-point",name:"Sortir du rond-point sur {way_name:article}",destination:"Sortir du rond-point en direction {destination:preposition}"}},"exit rotary":{default:{default:"Sortir du rond-point",name:"Sortir du rond-point sur {way_name:article}",destination:"Sortir du rond-point en direction {destination:preposition}"}},turn:{default:{default:"Tourner {modifier}",name:"Tourner {modifier} sur {way_name:article}",destination:"Tourner {modifier} en direction {destination:preposition}"},left:{default:"Tourner  gauche",name:"Tourner  gauche sur {way_name:article}",destination:"Tourner  gauche en direction {destination:preposition}"},right:{default:"Tourner  droite",name:"Tourner  droite sur {way_name:article}",destination:"Tourner  droite en direction {destination:preposition}"},straight:{default:"Aller tout droit",name:"Aller tout droit sur {way_name:article}",destination:"Aller tout droit en direction {destination:preposition}"}},"use lane":{no_lanes:{default:"Continuer tout droit"},default:{default:"{lane_instruction}"}}}}},{}],31:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:" ",east:"",southeast:" ",south:"",southwest:" ",west:"",northwest:" "},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:" "},lanes:{xo:" ",ox:" ",xox:"  ",oxo:"   "}},modes:{ferry:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},phrase:{"two linked by distance":"{instruction_one}, , {distance}, {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":" {exit}"},arrive:{default:{default:"   {nth} ",upcoming:"    {nth} ",short:"","short-upcoming":"",named:"  {waypoint_name}"},left:{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},right:{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"sharp left":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"sharp right":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"slight right":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},"slight left":{default:"   {nth}  ",upcoming:"    {nth}  ",short:"","short-upcoming":"",named:"  {waypoint_name}  "},straight:{default:"   {nth} , ",upcoming:"    {nth} , ",short:"","short-upcoming":"",named:"  {waypoint_name}, "}},continue:{default:{default:" {modifier}",name:" {modifier}   {way_name}",destination:" {modifier}  {destination}",exit:" {modifier}  {way_name}"},straight:{default:" ",name:"     {way_name}",destination:"  {destination}",distance:"   {distance}",namedistance:"  {way_name}  {distance}"},"sharp left":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"slight left":{default:"  ",name:"      {way_name}",destination:"    {destination}"},"slight right":{default:"  ",name:"      {way_name}",destination:"    {destination}"},uturn:{default:"  ",name:"     {way_name}",destination:"    {destination}"}},depart:{default:{default:" {direction}",name:" {direction}  {way_name}",namedistance:" {direction}  {way_name}  {distance}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:" ",name:"   {way_name}",destination:"   {destination}"},uturn:{default:"    ",name:"    {way_name}  ",destination:"    {destination}  "}},fork:{default:{default:" {modifier} ",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},"slight left":{default:"  ",name:"   {way_name}",destination:"   {destination}"},"slight right":{default:"  ",name:"   {way_name}",destination:"   {destination}"},"sharp left":{default:"   ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"   ",name:"    {way_name}",destination:"    {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},merge:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:"",name:"  {way_name}",destination:"  {destination}"},"slight left":{default:" ",name:"   {way_name}",destination:"   {destination}"},"slight right":{default:" ",name:"   {way_name}",destination:"   {destination}"},"sharp left":{default:" ",name:"   {way_name}",destination:"   {destination}"},"sharp right":{default:" ",name:"   {way_name}",destination:"   {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},straight:{default:" ",name:"  {way_name}",destination:"  {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"     {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"     {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},uturn:{default:"  ",name:"    {way_name}",destination:"    {destination}"}},"off ramp":{default:{default:" ",name:"   {way_name}",destination:"   {destination}",exit:"  {exit}",exit_destination:"  {exit}  {destination}"},left:{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},right:{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"    {destination}",exit:"  {exit} ",exit_destination:"  {exit}   {destination}"}},"on ramp":{default:{default:" ",name:"   {way_name}",destination:"   {destination}"},left:{default:"  ",name:"    {way_name}",destination:"    {destination}"},right:{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"    {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"    {destination}"}},rotary:{default:{default:{default:"  ",name:"     {way_name}",destination:"     {destination}"},name:{default:" {rotary_name}",name:" {rotary_name}   {way_name}",destination:" {rotary_name}   {destination}"},exit:{default:"     {exit_number}",name:"     {exit_number} {way_name}",destination:"     {exit_number}  {destination}"},name_exit:{default:" {rotary_name}   {exit_number}",name:" {rotary_name}   {exit_number} {way_name}",destination:" {rotary_name}   {exit_number}  {destination}"}}},roundabout:{default:{exit:{default:"     {exit_number}",name:"     {exit_number} {way_name}",destination:"     {exit_number}  {destination}"},default:{default:"  ",name:"     {way_name}",destination:"     {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},left:{default:" ",name:"  {way_name}",destination:"   {destination}"},right:{default:" ",name:"  {way_name}",destination:"   {destination}"},straight:{default:" ",name:"   {way_name}",destination:"   {destination}"}},"exit roundabout":{default:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},"exit rotary":{default:{default:"  ",name:"   {way_name}",destination:"    {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}  {destination}"},left:{default:" ",name:"  {way_name}",destination:"   {destination}"},right:{default:" ",name:"  {way_name}",destination:"   {destination}"},straight:{default:" ",name:"  {way_name}",destination:"   {destination}"}},"use lane":{no_lanes:{default:" "},default:{default:"{lane_instruction}"}}}}},{}],32:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"utara",northeast:"timur laut",east:"timur",southeast:"tenggara",south:"selatan",southwest:"barat daya",west:"barat",northwest:"barat laut"},modifier:{left:"kiri",right:"kanan","sharp left":"tajam kiri","sharp right":"tajam kanan","slight left":"agak ke kiri","slight right":"agak ke kanan",straight:"lurus",uturn:"putar balik"},lanes:{xo:"Tetap di kanan",ox:"Tetap di kiri",xox:"Tetap di tengah",oxo:"Tetap di kiri atau kanan"}},modes:{ferry:{default:"Naik ferry",name:"Naik ferry di {way_name}",destination:"Naik ferry menuju {destination}"}},phrase:{"two linked by distance":"{instruction_one}, then, in {distance}, {instruction_two}","two linked":"{instruction_one}, then {instruction_two}","one in distance":"In {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Anda telah tiba di tujuan ke-{nth}",upcoming:"Anda telah tiba di tujuan ke-{nth}",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}"},left:{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},right:{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"sharp left":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},"sharp right":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"slight right":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kanan",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kanan"},"slight left":{default:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",upcoming:"Anda telah tiba di tujuan ke-{nth}, di sebelah kiri",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, di sebelah kiri"},straight:{default:"Anda telah tiba di tujuan ke-{nth}, lurus saja",upcoming:"Anda telah tiba di tujuan ke-{nth}, lurus saja",short:"Anda telah tiba di tujuan ke-{nth}","short-upcoming":"Anda telah tiba di tujuan ke-{nth}",named:"Anda telah tiba di {waypoint_name}, lurus saja"}},continue:{default:{default:"Belok {modifier}",name:"Terus {modifier} ke {way_name}",destination:"Belok {modifier} menuju {destination}",exit:"Belok {modifier} ke {way_name}"},straight:{default:"Lurus terus",name:"Terus ke {way_name}",destination:"Terus menuju {destination}",distance:"Continue straight for {distance}",namedistance:"Continue on {way_name} for {distance}"},"sharp left":{default:"Belok kiri tajam",name:"Make a sharp left to stay on {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan tajam",name:"Make a sharp right to stay on {way_name}",destination:"Belok kanan tajam menuju {destination}"},"slight left":{default:"Tetap agak di kiri",name:"Tetap agak di kiri ke {way_name}",destination:"Tetap agak di kiri menuju {destination}"},"slight right":{default:"Tetap agak di kanan",name:"Tetap agak di kanan ke {way_name}",destination:"Tetap agak di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},depart:{default:{default:"Arah {direction}",name:"Arah {direction} di {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Belok {modifier}",name:"Belok {modifier} ke {way_name}",destination:"Belok {modifier} menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"},uturn:{default:"Putar balik di akhir jalan",name:"Putar balik di {way_name} di akhir jalan",destination:"Putar balik menuju {destination} di akhir jalan"}},fork:{default:{default:"Tetap {modifier} di pertigaan",name:"Tetap {modifier} di pertigaan ke {way_name}",destination:"Tetap {modifier} di pertigaan menuju {destination}"},"slight left":{default:"Tetap di kiri pada pertigaan",name:"Tetap di kiri pada pertigaan ke arah {way_name}",destination:"Tetap di kiri pada pertigaan menuju {destination}"},"slight right":{default:"Tetap di kanan pada pertigaan",name:"Tetap di kanan pada pertigaan ke arah {way_name}",destination:"Tetap di kanan pada pertigaan menuju {destination}"},"sharp left":{default:"Belok kiri pada pertigaan",name:"Belok kiri tajam ke arah {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan pada pertigaan",name:"Belok kanan tajam ke arah {way_name}",destination:"Belok kanan tajam menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},merge:{default:{default:"Bergabung {modifier}",name:"Bergabung {modifier} ke arah {way_name}",destination:"Bergabung {modifier} menuju {destination}"},straight:{default:"Bergabung lurus",name:"Bergabung lurus ke arah {way_name}",destination:"Bergabung lurus menuju {destination}"},"slight left":{default:"Bergabung di kiri",name:"Bergabung di kiri ke arah {way_name}",destination:"Bergabung di kiri menuju {destination}"},"slight right":{default:"Bergabung di kanan",name:"Bergabung di kanan ke arah {way_name}",destination:"Bergabung di kanan menuju {destination}"},"sharp left":{default:"Bergabung di kiri",name:"Bergabung di kiri ke arah {way_name}",destination:"Bergabung di kiri menuju {destination}"},"sharp right":{default:"Bergabung di kanan",name:"Bergabung di kanan ke arah {way_name}",destination:"Bergabung di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},"new name":{default:{default:"Lanjutkan {modifier}",name:"Lanjutkan {modifier} menuju {way_name}",destination:"Lanjutkan {modifier} menuju {destination}"},straight:{default:"Lurus terus",name:"Terus ke {way_name}",destination:"Terus menuju {destination}"},"sharp left":{default:"Belok kiri tajam",name:"Belok kiri tajam ke arah {way_name}",destination:"Belok kiri tajam menuju {destination}"},"sharp right":{default:"Belok kanan tajam",name:"Belok kanan tajam ke arah {way_name}",destination:"Belok kanan tajam menuju {destination}"},"slight left":{default:"Lanjut dengan agak ke kiri",name:"Lanjut dengan agak di kiri ke {way_name}",destination:"Tetap agak di kiri menuju {destination}"},"slight right":{default:"Tetap agak di kanan",name:"Tetap agak di kanan ke {way_name}",destination:"Tetap agak di kanan menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},notification:{default:{default:"Lanjutkan {modifier}",name:"Lanjutkan {modifier} menuju {way_name}",destination:"Lanjutkan {modifier} menuju {destination}"},uturn:{default:"Putar balik",name:"Putar balik ke arah {way_name}",destination:"Putar balik menuju {destination}"}},"off ramp":{default:{default:"Ambil jalan melandai",name:"Ambil jalan melandai ke {way_name}",destination:"Ambil jalan melandai menuju {destination}",exit:"Take exit {exit}",exit_destination:"Take exit {exit} towards {destination}"},left:{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},right:{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"sharp left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"sharp right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"},"slight left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}",exit:"Take exit {exit} on the left",exit_destination:"Take exit {exit} on the left towards {destination}"},"slight right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}",exit:"Take exit {exit} on the right",exit_destination:"Take exit {exit} on the right towards {destination}"}},"on ramp":{default:{default:"Ambil jalan melandai",name:"Ambil jalan melandai ke {way_name}",destination:"Ambil jalan melandai menuju {destination}"},left:{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},right:{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"},"sharp left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},"sharp right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"},"slight left":{default:"Ambil jalan yang melandai di sebelah kiri",name:"Ambil jalan melandai di sebelah kiri ke arah {way_name}",destination:"Ambil jalan melandai di sebelah kiri menuju {destination}"},"slight right":{default:"Ambil jalan melandai di sebelah kanan",name:"Ambil jalan melandai di sebelah kanan ke {way_name}",destination:"Ambil jalan melandai di sebelah kanan  menuju {destination}"}},rotary:{default:{default:{default:"Masuk bundaran",name:"Masuk bundaran dan keluar arah {way_name}",destination:"Masuk bundaran dan keluar menuju {destination}"},name:{default:"Masuk {rotary_name}",name:"Masuk {rotary_name} dan keluar arah {way_name}",destination:"Masuk {rotary_name} dan keluar menuju {destination}"},exit:{default:"Masuk bundaran dan ambil jalan keluar {exit_number}",name:"Masuk bundaran dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk bundaran dan ambil jalan keluar {exit_number} menuju {destination}"},name_exit:{default:"Masuk {rotary_name} dan ambil jalan keluar {exit_number}",name:"Masuk {rotary_name} dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk {rotary_name} dan ambil jalan keluar {exit_number} menuju {destination}"}}},roundabout:{default:{exit:{default:"Masuk bundaran dan ambil jalan keluar {exit_number}",name:"Masuk bundaran dan ambil jalan keluar {exit_number} arah {way_name}",destination:"Masuk bundaran dan ambil jalan keluar {exit_number} menuju {destination}"},default:{default:"Masuk bundaran",name:"Masuk bundaran dan keluar arah {way_name}",destination:"Masuk bundaran dan keluar menuju {destination}"}}},"roundabout turn":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"}},"exit roundabout":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus terus",name:"Tetap lurus ke {way_name} ",destination:"Tetap lurus menuju {destination}"}},"exit rotary":{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus",name:"Lurus arah {way_name}",destination:"Lurus menuju {destination}"}},turn:{default:{default:"Lakukan {modifier}",name:"Lakukan {modifier} ke arah {way_name}",destination:"Lakukan {modifier} menuju {destination}"},left:{default:"Belok kiri",name:"Belok kiri ke {way_name}",destination:"Belok kiri menuju {destination}"},right:{default:"Belok kanan",name:"Belok kanan ke {way_name}",destination:"Belok kanan menuju {destination}"},straight:{default:"Lurus",name:"Lurus arah {way_name}",destination:"Lurus menuju {destination}"}},"use lane":{no_lanes:{default:"Lurus terus"},default:{default:"{lane_instruction}"}}}}},{}],33:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"nord",northeast:"nord-est",east:"est",southeast:"sud-est",south:"sud",southwest:"sud-ovest",west:"ovest",northwest:"nord-ovest"},modifier:{left:"sinistra",right:"destra","sharp left":"sinistra","sharp right":"destra","slight left":"sinistra leggermente","slight right":"destra leggermente",straight:"dritto",uturn:"inversione a U"},lanes:{xo:"Mantieni la destra",ox:"Mantieni la sinistra",xox:"Rimani in mezzo",oxo:"Mantieni la destra o la sinistra"}},modes:{ferry:{default:"Prendi il traghetto",name:"Prendi il traghetto {way_name}",destination:"Prendi il traghetto verso {destination}"}},phrase:{"two linked by distance":"{instruction_one}, poi tra {distance},{instruction_two}","two linked":"{instruction_one}, poi {instruction_two}","one in distance":"tra {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Sei arrivato alla tua {nth} destinazione",upcoming:"Sei arrivato alla tua {nth} destinazione",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"Sei arrivato a {waypoint_name}"},left:{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},right:{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"sharp left":{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},"sharp right":{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"slight right":{default:"sei arrivato alla tua {nth} destinazione, sulla destra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla destra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla destra"},"slight left":{default:"sei arrivato alla tua {nth} destinazione, sulla sinistra",upcoming:"sei arrivato alla tua {nth} destinazione, sulla sinistra",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, sulla sinistra"},straight:{default:"sei arrivato alla tua {nth} destinazione, si trova davanti a te",upcoming:"sei arrivato alla tua {nth} destinazione, si trova davanti a te",short:"Sei arrivato alla tua {nth} destinazione","short-upcoming":"Sei arrivato alla tua {nth} destinazione",named:"sei arrivato a {waypoint_name}, si trova davanti a te"}},continue:{default:{default:"Gira a {modifier}",name:"Gira a {modifier} per stare su {way_name}",destination:"Gira a {modifier} verso {destination}",exit:"Gira a {modifier} in {way_name}"},straight:{default:"Continua dritto",name:"Continua dritto per stare su {way_name}",destination:"Continua verso {destination}",distance:"Continua dritto per {distance}",namedistance:"Continua su {way_name} per {distance}"},"sharp left":{default:"Svolta a sinistra",name:"Fai una stretta curva a sinistra per stare su {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra",name:"Fau una stretta curva a destra per stare su {way_name}",destination:"Svolta a destra verso {destination}"},"slight left":{default:"Fai una leggera curva a sinistra",name:"Fai una leggera curva a sinistra per stare su {way_name}",destination:"Fai una leggera curva a sinistra verso {destination}"},"slight right":{default:"Fai una leggera curva a destra",name:"Fai una leggera curva a destra per stare su {way_name}",destination:"Fai una leggera curva a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione ad U poi continua su {way_name}",destination:"Fai un'inversione a U verso {destination}"}},depart:{default:{default:"Continua verso {direction}",name:"Continua verso {direction} in {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Gira a {modifier}",name:"Gira a {modifier} in {way_name}",destination:"Gira a {modifier} verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"},uturn:{default:"Fai un'inversione a U alla fine della strada",name:"Fai un'inversione a U in {way_name} alla fine della strada",destination:"Fai un'inversione a U verso {destination} alla fine della strada"}},fork:{default:{default:"Mantieni la {modifier} al bivio",name:"Mantieni la {modifier} al bivio in {way_name}",destination:"Mantieni la {modifier} al bivio verso {destination}"},"slight left":{default:"Mantieni la sinistra al bivio",name:"Mantieni la sinistra al bivio in {way_name}",destination:"Mantieni la sinistra al bivio verso {destination}"},"slight right":{default:"Mantieni la destra al bivio",name:"Mantieni la destra al bivio in {way_name}",destination:"Mantieni la destra al bivio verso {destination}"},"sharp left":{default:"Svolta a sinistra al bivio",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra al bivio",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},merge:{default:{default:"Immettiti a {modifier}",name:"Immettiti {modifier} in {way_name}",destination:"Immettiti {modifier} verso {destination}"},straight:{default:"Immettiti a dritto",name:"Immettiti dritto in {way_name}",destination:"Immettiti dritto verso {destination}"},"slight left":{default:"Immettiti a sinistra",name:"Immettiti a sinistra in {way_name}",destination:"Immettiti a sinistra verso {destination}"},"slight right":{default:"Immettiti a destra",name:"Immettiti a destra in {way_name}",destination:"Immettiti a destra verso {destination}"},"sharp left":{default:"Immettiti a sinistra",name:"Immettiti a sinistra in {way_name}",destination:"Immettiti a sinistra verso {destination}"},"sharp right":{default:"Immettiti a destra",name:"Immettiti a destra in {way_name}",destination:"Immettiti a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},"new name":{default:{default:"Continua a {modifier}",name:"Continua a {modifier} in {way_name}",destination:"Continua a {modifier} verso {destination}"},straight:{default:"Continua dritto",name:"Continua in {way_name}",destination:"Continua verso {destination}"},"sharp left":{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},"sharp right":{default:"Svolta a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},"slight left":{default:"Continua leggermente a sinistra",name:"Continua leggermente a sinistra in {way_name}",destination:"Continua leggermente a sinistra verso {destination}"},"slight right":{default:"Continua leggermente a destra",name:"Continua leggermente a destra in {way_name} ",destination:"Continua leggermente a destra verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},notification:{default:{default:"Continua a {modifier}",name:"Continua a {modifier} in {way_name}",destination:"Continua a {modifier} verso {destination}"},uturn:{default:"Fai un'inversione a U",name:"Fai un'inversione a U in {way_name}",destination:"Fai un'inversione a U verso {destination}"}},"off ramp":{default:{default:"Prendi la rampa",name:"Prendi la rampa in {way_name}",destination:"Prendi la rampa verso {destination}",exit:"Prendi l'uscita {exit}",exit_destination:"Prendi l'uscita  {exit} verso {destination}"},left:{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},right:{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"},"sharp left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},"sharp right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"},"slight left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}",exit:"Prendi l'uscita {exit} a sinistra",exit_destination:"Prendi la {exit}  uscita a sinistra verso {destination}"},"slight right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}",exit:"Prendi la {exit} uscita a destra",exit_destination:"Prendi la {exit} uscita a destra verso {destination}"}},"on ramp":{default:{default:"Prendi la rampa",name:"Prendi la rampa in {way_name}",destination:"Prendi la rampa verso {destination}"},left:{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},right:{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"},"sharp left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},"sharp right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"},"slight left":{default:"Prendi la rampa a sinistra",name:"Prendi la rampa a sinistra in {way_name}",destination:"Prendi la rampa a sinistra verso {destination}"},"slight right":{default:"Prendi la rampa a destra",name:"Prendi la rampa a destra in {way_name}",destination:"Prendi la rampa a destra verso {destination}"}},rotary:{default:{default:{default:"Immettiti nella rotonda",name:"Immettiti nella ritonda ed esci in {way_name}",destination:"Immettiti nella ritonda ed esci verso {destination}"},name:{default:"Immettiti in {rotary_name}",name:"Immettiti in {rotary_name} ed esci su {way_name}",destination:"Immettiti in {rotary_name} ed esci verso {destination}"},exit:{default:"Immettiti nella rotonda e prendi la {exit_number} uscita",name:"Immettiti nella rotonda e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti nella rotonda e prendi la {exit_number} uscita verso   {destination}"},name_exit:{default:"Immettiti in {rotary_name} e prendi la {exit_number} uscita",name:"Immettiti in {rotary_name} e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti in {rotary_name} e prendi la {exit_number}  uscita verso {destination}"}}},roundabout:{default:{exit:{default:"Immettiti nella rotonda e prendi la {exit_number} uscita",name:"Immettiti nella rotonda e prendi la {exit_number} uscita in {way_name}",destination:"Immettiti nella rotonda e prendi la {exit_number} uscita verso {destination}"},default:{default:"Entra nella rotonda",name:"Entra nella rotonda e prendi l'uscita in {way_name}",destination:"Entra nella rotonda e prendi l'uscita verso {destination}"}}},"roundabout turn":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"}},"exit roundabout":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Continua dritto",name:"Continua dritto in {way_name}",destination:"Continua dritto verso {destination}"}},"exit rotary":{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Prosegui dritto",name:"Continua su {way_name}",destination:"Continua verso {destination}"}},turn:{default:{default:"Fai una {modifier}",name:"Fai una {modifier} in {way_name}",destination:"Fai una {modifier} verso {destination}"},left:{default:"Svolta a sinistra",name:"Svolta a sinistra in {way_name}",destination:"Svolta a sinistra verso {destination}"},right:{default:"Gira a destra",name:"Svolta a destra in {way_name}",destination:"Svolta a destra verso {destination}"},straight:{default:"Prosegui dritto",name:"Continua su {way_name}",destination:"Continua verso {destination}"}},"use lane":{no_lanes:{default:"Continua dritto"},default:{default:"{lane_instruction}"}}}}},{}],34:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:""},lanes:{xo:" ",ox:" ",xox:"",oxo:"    "}},modes:{ferry:{default:" ",name:"  {way_name}",destination:"  {destination} ."}},phrase:{"two linked by distance":"{instruction_one}, , {distance} , {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":"{distance} , {instruction_one}","name and ref":"{name} ({ref})","exit with number":"{exit} ."},arrive:{default:{default:" {nth} .",upcoming:"{nth}   .",short:"","short-upcoming":" .",named:" {waypoint_name} ."},left:{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},right:{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"sharp left":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"sharp right":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"slight right":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},"slight left":{default:" {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."},straight:{default:"  {nth}  .",upcoming:" {nth}   .",short:"","short-upcoming":"   .",named:"  {waypoint_name} ."}},continue:{default:{default:"{modifier} ",name:"{modifier}  {way_name}  .",destination:"{modifier}  {destination} .",exit:"{way_name}  {modifier}  ."},straight:{default:"  .",name:"{way_name}    .",destination:"{destination}  .",distance:"{distance}  .",namedistance:"{distance} {way_name} ."},"sharp left":{default:" .",name:"   {way_name} .",destination:"   {destination} ."},"sharp right":{default:" .",name:"  {way_name} .",destination:"   {destination} ."},"slight left":{default:" .",name:"   {way_name} .",destination:"    {destination} ."},"slight right":{default:" .",name:"   {way_name} .",destination:"    {destination} ."},uturn:{default:" ",name:" {way_name} .",destination:"  {destination} ."}},depart:{default:{default:"{direction} ",name:"{direction}   {way_name}  . ",namedistance:"{direction} {way_name}  {distance} ."}},"end of road":{default:{default:"{modifier} .",name:"{modifier} {way_name} .",destination:"{modifier}   {destination} ."},straight:{default:"  .",name:"{way_name}   .",destination:"{destination}  ."},uturn:{default:"    .",name:"    {way_name} .",destination:"    {destination}  ."}},fork:{default:{default:" {modifier}  .",name:"{modifier} {way_name} .",destination:"{modifier} {destination} ."},"slight left":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"slight right":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"sharp left":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},"sharp right":{default:"  .",name:"  {way_name} .",destination:"  {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},merge:{default:{default:"{modifier} ",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},straight:{default:"",name:"{way_name} .",destination:"{destination} ."},"slight left":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"slight right":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"sharp left":{default:" .",name:"{way_name} .",destination:"  {destination} ."},"sharp right":{default:" .",name:"{way_name} .",destination:"  {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},"new name":{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},straight:{default:".",name:"{way_name}  .",destination:"{destination}  ."},"sharp left":{default:" .",name:"  {way_name} .",destination:"  {destination} ."},"sharp right":{default:" .",name:"  {way_name} .",destination:"  {destination} ."},"slight left":{default:"  .",name:"  {way_name} .",destination:"   {destination} ."},"slight right":{default:"  .",name:"  {way_name} .",destination:"   {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},notification:{default:{default:"{modifier} .",name:"{modifier} {way_name} .",destination:"{modifier} {destination} ."},uturn:{default:".",name:" {way_name} .",destination:" {destination} ."}},"off ramp":{default:{default:"  ..",name:"  {way_name} .",destination:"  {destination} .",exit:"{exit}  .",exit_destination:"{exit}   {destination} ."},left:{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},right:{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"sharp left":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"sharp right":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"slight left":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."},"slight right":{default:"   .",name:"   {way_name} .",destination:"   {destination} .",exit:"{exit}   .",exit_destination:"{exit}    {destination} ."}},"on ramp":{default:{default:"  ..",name:"  {way_name} .",destination:"  {destination} ."},left:{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},right:{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"sharp left":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"sharp right":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"slight left":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."},"slight right":{default:"   .",name:"   {way_name} .",destination:"   {destination} ."}},rotary:{default:{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},name:{default:"{rotary_name} .",name:"{rotary_name}  {way_name} .",destination:"{rotary_name}  {destination} ."},exit:{default:"  {exit_number}  .",name:"  {exit_number}   {way_name} .",destination:"  {exit_number}   {destination} ."},name_exit:{default:"{rotary_name}  {exit_number}  .",name:"{rotary_name}  {exit_number}   {way_name} .",destination:"{rotary_name}  {exit_number}   {destination} ."}}},roundabout:{default:{exit:{default:"  {exit_number} .",name:"  {exit_number}  {way_name} .",destination:"  {exit_number}  {destination} ."},default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}}},"roundabout turn":{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},left:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},right:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},straight:{default:" .",name:" {way_name} .",destination:" {destination} ."}},"exit roundabout":{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}},"exit rotary":{default:{default:" .",name:"  {way_name} .",destination:"  {destination} ."}},turn:{default:{default:"{modifier} .",name:"{modifier}  {way_name} .",destination:"{modifier}  {destination} ."},left:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},right:{default:" .",name:"  {way_name} .",destination:"  {destination} ."},straight:{default:" .",name:" {way_name} .",destination:" {destination} ."}},"use lane":{no_lanes:{default:"."},default:{default:"{lane_instruction}"}}}}},{}],35:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:"-"},lanes:{xo:"",ox:"",xox:"",oxo:"   "}},modes:{ferry:{default:" ",name:"{way_name} ",destination:"{destination} "}},phrase:{"two linked by distance":"{instruction_one} {distance} {instruction_two}","two linked":"{instruction_one} {instruction_two}","one in distance":"{distance} {instruction_one}","name and ref":"{name}( {ref})","exit with number":"{exit}"},arrive:{default:{default:"{nth}  ",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},left:{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},right:{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"sharp left":{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},"sharp right":{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"slight right":{default:"  {nth}  ",upcoming:" {nth}   ",short:"  ","short-upcoming":"  ",named:"  {waypoint_name}  "},"slight left":{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "},straight:{default:"  {nth}",upcoming:"  {nth}",short:"  ","short-upcoming":"  ",named:"  {waypoint_name} "}},continue:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} ",exit:"{way_name} {modifier}"},straight:{default:" ",name:"{way_name}",destination:"{destination}",distance:"{distance}  ",namedistance:"{way_name}{distance}"},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight left":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight right":{default:" ",name:"{way_name} ",destination:"{destination} "},uturn:{default:"- ",name:"{way_name} -",destination:"{destination} "}},depart:{default:{default:"{direction} ",name:"{direction} {way_name} ",namedistance:"{direction} {way_name}{distance} "}},"end of road":{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"},uturn:{default:" -",name:" {way_name}-",destination:"{destination} "}},fork:{default:{default:" {modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},"slight left":{default:"",name:"{way_name}",destination:"{destination} "},"slight right":{default:"",name:"{way_name}",destination:"{destination} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} "},uturn:{default:"- ",name:"{way_name}-",destination:"{destination} "}},merge:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:"",name:"{way_name}",destination:"{destination} "},"slight left":{default:"",name:"{way_name}",destination:"{destination} "},"slight right":{default:"",name:"{way_name}",destination:"{destination} "},"sharp left":{default:"",name:"{way_name}",destination:"{destination} "},"sharp right":{default:"",name:"{way_name}",destination:"{destination} "},uturn:{default:"- ",name:"{way_name} -  ",destination:"{destination} "}},"new name":{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:" ",name:"{way_name} ",destination:"{destination} "},"slight left":{default:" ",name:"{way_name} ",destination:"{destination}"},"slight right":{default:" ",name:"{way_name} ",destination:"{destination}"},uturn:{default:"- ",name:"{way_name} - ",destination:"{destination} "}},notification:{default:{default:"{modifier}",name:"{way_name} {modifier}",destination:"{destination} {modifier} "},uturn:{default:"- ",name:"{way_name} - ",destination:"{destination} "}},"off ramp":{default:{default:"",name:"{way_name}",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},left:{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},right:{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"slight left":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "},"slight right":{default:"",name:"{way_name} ",destination:"{destination} ",exit:"{exit} ",exit_destination:"{destination} {exit} "}},"on ramp":{default:{default:"",name:"{way_name}",destination:"{destination} "},left:{default:"",name:"{way_name} ",destination:"{destination} "},right:{default:"",name:"{way_name} ",destination:"{destination} "},"sharp left":{default:"",name:"{way_name} ",destination:"{destination} "},"sharp right":{default:"",name:"{way_name} ",destination:"{destination} "},"slight left":{default:"",name:"{way_name} ",destination:"{destination} "},"slight right":{default:"",name:"{way_name} ",destination:"{destination} "}},rotary:{default:{default:{default:"",name:"{way_name}",destination:"{destination}"},name:{default:"{rotary_name}",name:"{rotary_name}{way_name}",destination:"{rotary_name}{destination}"},exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},name_exit:{default:"{rotary_name} {exit_number}",name:"{rotary_name}{exit_number}{way_name}",destination:"{rotary_name}{exit_number}{destination}"}}},roundabout:{default:{exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},default:{default:"",name:"{way_name}",destination:"{destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination} "},left:{default:"",name:"{way_name}",destination:"{destination} "},right:{default:"",name:"{way_name}",destination:"{destination} "},straight:{default:" ",name:"{way_name}",destination:"{destination}"}},"exit roundabout":{default:{default:"",name:"{way_name}",destination:"{destination}"}},"exit rotary":{default:{default:"",name:"{way_name}",destination:"{destination}"}},turn:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination} "},left:{default:"",name:"{way_name}",destination:"{destination} "},right:{default:"",name:"{way_name}",destination:"{destination} "},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"use lane":{no_lanes:{default:" "},default:{default:"{lane_instruction}"}}}}},{}],36:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1e",2:"2e",3:"3e",4:"4e",5:"5e",6:"6e",7:"7e",8:"8e",9:"9e",10:"10e"},direction:{north:"noord",northeast:"noordoost",east:"oost",southeast:"zuidoost",south:"zuid",southwest:"zuidwest",west:"west",northwest:"noordwest"},modifier:{left:"links",right:"rechts","sharp left":"scherpe bocht naar links","sharp right":"scherpe bocht naar rechts","slight left":"iets naar links","slight right":"iets naar rechts",straight:"rechtdoor",uturn:"omkeren"},lanes:{xo:"Rechts aanhouden",ox:"Links aanhouden",xox:"In het midden blijven",oxo:"Links of rechts blijven"}},modes:{ferry:{default:"Neem de veerpont",name:"Neem de veerpont {way_name}",destination:"Neem de veerpont richting {destination}"}},phrase:{"two linked by distance":"{instruction_one}, dan na {distance}, {instruction_two}","two linked":"{instruction_one}, daarna {instruction_two}","one in distance":"Over {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"afslag {exit}"},arrive:{default:{default:"Je bent gearriveerd op de {nth} bestemming.",upcoming:"U arriveert op de {nth} bestemming",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}"},left:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de linkerkant"},right:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de  rechterkant"},"sharp left":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is aan de linkerkant"},"sharp right":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de rechterkant"},"slight right":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich rechts.",upcoming:"Uw {nth} bestemming bevindt zich aan de rechterkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de rechterkant"},"slight left":{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich links.",upcoming:"Uw {nth} bestemming bevindt zich aan de linkerkant",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name},  de bestemming is aan de linkerkant"},straight:{default:"Je bent gearriveerd. De {nth} bestemming bevindt zich voor je.",upcoming:"Uw {nth} bestemming is recht voor u",short:"U bent gearriveerd","short-upcoming":"U zult aankomen",named:"U bent gearriveerd bij {waypoint_name}, de bestemming is recht voor u"}},continue:{default:{default:"Ga {modifier}",name:"Sla {modifier} om op {way_name} te blijven",destination:"Ga {modifier} richting {destination}",exit:"Ga {modifier} naar {way_name}"},straight:{default:"Ga rechtdoor",name:"Blijf rechtdoor gaan op {way_name}",destination:"Ga rechtdoor richting {destination}",distance:"Ga rechtdoor voor {distance}",namedistance:"Ga verder op {way_name} voor {distance}"},"sharp left":{default:"Linksaf",name:"Sla scherp links af om op {way_name} te blijven",destination:"Linksaf richting {destination}"},"sharp right":{default:"Rechtsaf",name:"Sla scherp rechts af om op {way_name} te blijven",destination:"Rechtsaf richting {destination}"},"slight left":{default:"Ga links",name:"Links afbuigen om op {way_name} te blijven",destination:"Rechts afbuigen om op {destination} te blijven"},"slight right":{default:"Rechts afbuigen",name:"Rechts afbuigen om op {way_name} te blijven",destination:"Rechts afbuigen richting {destination}"},uturn:{default:"Keer om",name:"Draai om en ga verder op {way_name}",destination:"Keer om richting {destination}"}},depart:{default:{default:"Vertrek in {direction}elijke richting",name:"Neem {way_name} in {direction}elijke richting",namedistance:"Ga richting {direction} op {way_name} voor {distance}"}},"end of road":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga naar {way_name}",destination:"Ga richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},fork:{default:{default:"Ga {modifier} op de splitsing",name:"Houd {modifier} aan, tot {way_name}",destination:"Houd {modifier}, in de richting van {destination}"},"slight left":{default:"Links aanhouden op de splitsing",name:"Houd links aan, tot {way_name}",destination:"Houd links aan, richting {destination}"},"slight right":{default:"Rechts aanhouden op de splitsing",name:"Houd rechts aan, tot {way_name}",destination:"Houd rechts aan, richting {destination}"},"sharp left":{default:"Neem bij de splitsing, een scherpe bocht, naar links ",name:"Neem een scherpe bocht naar links, tot aan {way_name}",destination:"Neem een scherpe bocht naar links, richting {destination}"},"sharp right":{default:"Neem  op de splitsing, een scherpe bocht, naar rechts",name:"Neem een scherpe bocht naar rechts, tot aan {way_name}",destination:"Neem een scherpe bocht naar rechts, richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},merge:{default:{default:"Bij de splitsing {modifier}",name:"Bij de splitsing {modifier} naar {way_name}",destination:"Bij de splitsing {modifier} richting {destination}"},straight:{default:"Samenvoegen",name:"Ga verder op {way_name}",destination:"Ga verder richting {destination}"},"slight left":{default:"Bij de splitsing links aanhouden",name:"Bij de splitsing links aanhouden naar {way_name}",destination:"Bij de splitsing links aanhouden richting {destination}"},"slight right":{default:"Bij de splitsing rechts aanhouden",name:"Bij de splitsing rechts aanhouden naar {way_name}",destination:"Bij de splitsing rechts aanhouden richting {destination}"},"sharp left":{default:"Bij de splitsing linksaf",name:"Bij de splitsing linksaf naar {way_name}",destination:"Bij de splitsing linksaf richting {destination}"},"sharp right":{default:"Bij de splitsing rechtsaf",name:"Bij de splitsing rechtsaf naar {way_name}",destination:"Bij de splitsing rechtsaf richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},"new name":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga rechtdoor naar {way_name}",destination:"Ga rechtdoor richting {destination}"},"sharp left":{default:"Neem een scherpe bocht, naar links",name:"Linksaf naar {way_name}",destination:"Linksaf richting {destination}"},"sharp right":{default:"Neem een scherpe bocht, naar rechts",name:"Rechtsaf naar {way_name}",destination:"Rechtsaf richting {destination}"},"slight left":{default:"Links aanhouden",name:"Links aanhouden naar {way_name}",destination:"Links aanhouden richting {destination}"},"slight right":{default:"Rechts aanhouden",name:"Rechts aanhouden naar {way_name}",destination:"Rechts aanhouden richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},notification:{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},uturn:{default:"Keer om",name:"Keer om naar {way_name}",destination:"Keer om richting {destination}"}},"off ramp":{default:{default:"Neem de afrit",name:"Neem de afrit naar {way_name}",destination:"Neem de afrit richting {destination}",exit:"Neem afslag {exit}",exit_destination:"Neem afslag {exit} richting {destination}"},left:{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},right:{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"},"sharp left":{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},"sharp right":{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"},"slight left":{default:"Neem de afrit links",name:"Neem de afrit links naar {way_name}",destination:"Neem de afrit links richting {destination}",exit:"Neem afslag {exit} aan de linkerkant",exit_destination:"Neem afslag {exit} aan de linkerkant richting {destination}"},"slight right":{default:"Neem de afrit rechts",name:"Neem de afrit rechts naar {way_name}",destination:"Neem de afrit rechts richting {destination}",exit:"Neem afslag {exit} aan de rechterkant",exit_destination:"Neem afslag {exit} aan de rechterkant richting {destination}"}},"on ramp":{default:{default:"Neem de oprit",name:"Neem de oprit naar {way_name}",destination:"Neem de oprit richting {destination}"},left:{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},right:{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"},"sharp left":{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},"sharp right":{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"},"slight left":{default:"Neem de oprit links",name:"Neem de oprit links naar {way_name}",destination:"Neem de oprit links richting {destination}"},"slight right":{default:"Neem de oprit rechts",name:"Neem de oprit rechts naar {way_name}",destination:"Neem de oprit rechts richting {destination}"}},rotary:{default:{default:{default:"Betreedt de rotonde",name:"Betreedt rotonde en sla af op {way_name}",destination:"Betreedt rotonde en sla af richting {destination}"},name:{default:"Ga het knooppunt {rotary_name} op",name:"Verlaat het knooppunt {rotary_name} naar {way_name}",destination:"Verlaat het knooppunt {rotary_name} richting {destination}"},exit:{default:"Betreedt rotonde en neem afslag {exit_number}",name:"Betreedt rotonde en neem afslag {exit_number} naar {way_name}",destination:"Betreedt rotonde en neem afslag {exit_number} richting {destination}"},name_exit:{default:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number}",name:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number} naar {way_name}",destination:"Ga het knooppunt {rotary_name} op en neem afslag {exit_number} richting {destination}"}}},roundabout:{default:{exit:{default:"Betreedt rotonde en neem afslag {exit_number}",name:"Betreedt rotonde en neem afslag {exit_number} naar {way_name}",destination:"Betreedt rotonde en neem afslag {exit_number} richting {destination}"},default:{default:"Betreedt de rotonde",name:"Betreedt rotonde en sla af op {way_name}",destination:"Betreedt rotonde en sla af richting {destination}"}}},"roundabout turn":{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},left:{default:"Ga linksaf",name:"Ga linksaf naar {way_name}",destination:"Ga linksaf richting {destination}"},right:{default:"Ga rechtsaf",name:"Ga rechtsaf naar {way_name}",destination:"Ga rechtsaf richting {destination}"},straight:{default:"Ga in de aangegeven richting",name:"Ga naar {way_name}",destination:"Ga richting {destination}"}},"exit roundabout":{default:{default:"Verlaat de rotonde",name:"Verlaat de rotonde en ga verder op {way_name}",destination:"Verlaat de rotonde richting {destination}"}},"exit rotary":{default:{default:"Verlaat de rotonde",name:"Verlaat de rotonde en ga verder op {way_name}",destination:"Verlaat de rotonde richting {destination}"}},turn:{default:{default:"Ga {modifier}",name:"Ga {modifier} naar {way_name}",destination:"Ga {modifier} richting {destination}"},left:{default:"Ga linksaf",name:"Ga linksaf naar {way_name}",destination:"Ga linksaf richting {destination}"},right:{default:"Ga rechtsaf",name:"Ga rechtsaf naar {way_name}",destination:"Ga rechtsaf richting {destination}"},straight:{default:"Ga rechtdoor",name:"Ga rechtdoor naar {way_name}",destination:"Ga rechtdoor richting {destination}"}},"use lane":{no_lanes:{default:"Rechtdoor"},default:{default:"{lane_instruction}"}}}}},{}],37:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"nord",northeast:"nordst",east:"st",southeast:"srst",south:"sr",southwest:"srvest",west:"vest",northwest:"nordvest"},modifier:{left:"venstre",right:"hyre","sharp left":"skarp venstre","sharp right":"skarp hyre","slight left":"litt til venstre","slight right":"litt til hyre",straight:"rett frem",uturn:"U-sving"},lanes:{xo:"Hold til hyre",ox:"Hold til venstre",xox:"Hold deg i midten",oxo:"Hold til venstre eller hyre"}},modes:{ferry:{default:"Ta ferja",name:"Ta ferja {way_name}",destination:"Ta ferja til {destination}"}},phrase:{"two linked by distance":"{instruction_one}, deretter {instruction_two} om {distance}","two linked":"{instruction_one}, deretter {instruction_two}","one in distance":"Om {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"avkjrsel {exit}"},arrive:{default:{default:"Du har ankommet din {nth} destinasjon",upcoming:"Du vil ankomme din {nth} destinasjon",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}"},left:{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},right:{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"sharp left":{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},"sharp right":{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"slight right":{default:"Du har ankommet din {nth} destinasjon, p din hyre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din hyre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din hyre side"},"slight left":{default:"Du har ankommet din {nth} destinasjon, p din venstre side",upcoming:"Du vil ankomme din {nth} destinasjon, p din venstre side",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, p din venstre side"},straight:{default:"Du har ankommet din {nth} destinasjon, rett forut",upcoming:"Du vil ankomme din {nth} destinasjon, rett forut",short:"Du har ankommet","short-upcoming":"Du vil ankomme",named:"Du har ankommet {waypoint_name}, rett forut"}},continue:{default:{default:"Ta til {modifier}",name:"Ta til {modifier} for  bli vrende p {way_name}",destination:"Ta til {modifier} mot {destination}",exit:"Ta til {modifier} inn p {way_name}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem for  bli vrende p {way_name}",destination:"Fortsett mot {destination}",distance:"Fortsett rett frem, {distance} ",namedistance:"Fortsett p {way_name}, {distance}"},"sharp left":{default:"Sving skarpt til venstre",name:"Sving skarpt til venstre for  bli vrende p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre",name:"Sving skarpt til hyre for  bli vrende p {way_name}",destination:"Sving skarpt mot {destination}"},"slight left":{default:"Sving svakt til venstre",name:"Sving svakt til venstre for  bli vrende p {way_name}",destination:"Sving svakt til venstre mot {destination}"},"slight right":{default:"Sving svakt til hyre",name:"Sving svakt til hyre for  bli vrende p {way_name}",destination:"Sving svakt til hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving og fortsett p {way_name}",destination:"Ta en U-sving mot {destination}"}},depart:{default:{default:"Kjr i retning {direction}",name:"Kjr i retning {direction} p {way_name}",namedistance:"Kjr i retning {direction} p {way_name}, {distance}"}},"end of road":{default:{default:"Sving {modifier}",name:"Ta til {modifier} inn p {way_name}",destination:"Sving {modifier} mot {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem til  {way_name}",destination:"Fortsett rett frem mot {destination}"},uturn:{default:"Ta en U-sving i enden av veien",name:"Ta en U-sving til {way_name} i enden av veien",destination:"Ta en U-sving mot {destination} i enden av veien"}},fork:{default:{default:"Hold til {modifier} i veikrysset",name:"Hold til {modifier} inn p {way_name}",destination:"Hold til {modifier} mot {destination}"},"slight left":{default:"Hold til venstre i veikrysset",name:"Hold til venstre inn p {way_name}",destination:"Hold til venstre mot {destination}"},"slight right":{default:"Hold til hyre i veikrysset",name:"Hold til hyre inn p {way_name}",destination:"Hold til hyre mot {destination}"},"sharp left":{default:"Sving skarpt til venstre i veikrysset",name:"Sving skarpt til venstre inn p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre i veikrysset",name:"Sving skarpt til hyre inn p {way_name}",destination:"Svings skarpt til hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},merge:{default:{default:"Hold {modifier} kjrefelt",name:"Hold {modifier} kjrefelt inn p {way_name}",destination:"Hold {modifier} kjrefelt mot {destination}"},straight:{default:"Hold kjrefelt",name:"Hold kjrefelt inn p {way_name}",destination:"Hold kjrefelt mot {destination}"},"slight left":{default:"Hold venstre kjrefelt",name:"Hold venstre kjrefelt inn p {way_name}",destination:"Hold venstre kjrefelt mot {destination}"},"slight right":{default:"Hold hyre kjrefelt",name:"Hold hyre kjrefelt inn p {way_name}",destination:"Hold hyre kjrefelt mot {destination}"},"sharp left":{default:"Hold venstre kjrefelt",name:"Hold venstre kjrefelt inn p {way_name}",destination:"Hold venstre kjrefelt mot {destination}"},"sharp right":{default:"Hold hyre kjrefelt",name:"Hold hyre kjrefelt inn p {way_name}",destination:"Hold hyre kjrefelt mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},"new name":{default:{default:"Fortsett {modifier}",name:"Fortsett {modifier} til {way_name}",destination:"Fortsett {modifier} mot  {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett inn p {way_name}",destination:"Fortsett mot {destination}"},"sharp left":{default:"Sving skarpt til venstre",name:"Sving skarpt til venstre inn p {way_name}",destination:"Sving skarpt til venstre mot {destination}"},"sharp right":{default:"Sving skarpt til hyre",name:"Sving skarpt til hyre inn p {way_name}",destination:"Svings skarpt til hyre mot {destination}"},"slight left":{default:"Fortsett litt mot venstre",name:"Fortsett litt mot venstre til {way_name}",destination:"Fortsett litt mot venstre mot {destination}"},"slight right":{default:"Fortsett litt mot hyre",name:"Fortsett litt mot hyre til {way_name}",destination:"Fortsett litt mot hyre mot {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},notification:{default:{default:"Fortsett {modifier}",name:"Fortsett {modifier} til {way_name}",destination:"Fortsett {modifier} mot  {destination}"},uturn:{default:"Ta en U-sving",name:"Ta en U-sving til {way_name}",destination:"Ta en U-sving mot {destination}"}},"off ramp":{default:{default:"Ta avkjrselen",name:"Ta avkjrselen inn p {way_name}",destination:"Ta avkjrselen mot {destination}",exit:"Ta avkjrsel {exit}",exit_destination:"Ta avkjrsel {exit} mot {destination}"},left:{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},right:{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"},"sharp left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},"sharp right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"},"slight left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}",exit:"Ta avkjrsel {exit} p venstre side",exit_destination:"Ta avkjrsel {exit} p venstre side mot {destination}"},"slight right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}",exit:"Ta avkjrsel {exit} p hyre side",exit_destination:"Ta avkjrsel {exit} p hyre side mot {destination}"}},"on ramp":{default:{default:"Ta avkjrselen",name:"Ta avkjrselen inn p {way_name}",destination:"Ta avkjrselen mot {destination}"},left:{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},right:{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"},"sharp left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},"sharp right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"},"slight left":{default:"Ta avkjrselen p venstre side",name:"Ta avkjrselen p venstre side inn p {way_name}",destination:"Ta avkjrselen p venstre side mot {destination}"},"slight right":{default:"Ta avkjrselen p hyre side",name:"Ta avkjrselen p hyre side inn p {way_name}",destination:"Ta avkjrselen p hyre side mot {destination}"}},rotary:{default:{default:{default:"Kjr inn i rundkjringen",name:"Kjr inn i rundkjringen og deretter ut p {way_name}",destination:"Kjr inn i rundkjringen og deretter ut mot {destination}"},name:{default:"Kjr inn i {rotary_name}",name:"Kjr inn i {rotary_name} og deretter ut p {way_name}",destination:"Kjr inn i {rotary_name} og deretter ut mot {destination}"},exit:{default:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel",name:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut p {way_name}",destination:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut mot {destination} "},name_exit:{default:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel",name:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel inn p {way_name}",destination:"Kjr inn i {rotary_name} og ta {exit_number} avkjrsel mot {destination}"}}},roundabout:{default:{exit:{default:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel",name:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel inn p {way_name}",destination:"Kjr inn i rundkjringen og ta {exit_number} avkjrsel ut mot {destination} "},default:{default:"Kjr inn i rundkjringen",name:"Kjr inn i rundkjringen og deretter ut p {way_name}",destination:"Kjr inn i rundkjringen og deretter ut mot {destination}"}}},"roundabout turn":{default:{default:"Ta en {modifier}",name:"Ta en {modifier} inn p {way_name}",destination:"Ta en {modifier} mot {destination}"},left:{default:"Sving til venstre",name:"Sving til venstre inn p {way_name}",destination:"Sving til venstre mot {destination}"},right:{default:"Sving til hyre",name:"Sving til hyre inn p {way_name}",destination:"Sving til hyre mot {destination}"},straight:{default:"Fortsett rett frem",name:"Fortsett rett frem til  {way_name}",destination:"Fortsett rett frem mot {destination}"}},"exit roundabout":{default:{default:"Kjr ut av rundkjringen",name:"Kjr ut av rundkjringen og inn p {way_name}",destination:"Kjr ut av rundkjringen mot {destination}"}},"exit rotary":{default:{default:"Kjr ut av rundkjringen",name:"Kjr ut av rundkjringen og inn p {way_name}",destination:"Kjr ut av rundkjringen mot {destination}"}},turn:{default:{default:"Ta en {modifier}",name:"Ta en {modifier} inn p {way_name}",destination:"Ta en {modifier} mot {destination}"},left:{default:"Sving til venstre",name:"Sving til venstre inn p {way_name}",destination:"Sving til venstre mot {destination}"},right:{default:"Sving til hyre",name:"Sving til hyre inn p {way_name}",destination:"Sving til hyre mot {destination}"},straight:{default:"Kjr rett frem",name:"Kjr rett frem og inn p {way_name}",destination:"Kjr rett frem mot {destination}"}},"use lane":{no_lanes:{default:"Fortsett rett frem"},default:{default:"{lane_instruction}"}}}}},{}],38:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1.",2:"2.",3:"3.",4:"4.",5:"5.",6:"6.",7:"7.",8:"8.",9:"9.",10:"10."},direction:{north:"pnoc",northeast:"pnocny wschd",east:"wschd",southeast:"poudniowy wschd",south:"poudnie",southwest:"poudniowy zachd",west:"zachd",northwest:"pnocny zachd"},modifier:{left:"lewo",right:"prawo","sharp left":"ostro w lewo","sharp right":"ostro w prawo","slight left":"agodnie w lewo","slight right":"agodnie w prawo",straight:"prosto",uturn:"zawr"},lanes:{xo:"Trzymaj si prawej strony",ox:"Trzymaj si lewej strony",xox:"Trzymaj si rodka",oxo:"Trzymaj si lewej lub prawej strony"}},modes:{ferry:{default:"We prom",name:"We prom {way_name}",destination:"We prom w kierunku {destination}"}},phrase:{"two linked by distance":"{instruction_one}, nastpnie za {distance} {instruction_two}","two linked":"{instruction_one}, nastpnie {instruction_two}","one in distance":"Za {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Dojechano do miejsca docelowego {nth}",upcoming:"Dojechano do miejsca docelowego {nth}",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}"},left:{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},right:{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"sharp left":{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},"sharp right":{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"slight right":{default:"Dojechano do miejsca docelowego {nth}, po prawej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po prawej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po prawej stronie"},"slight left":{default:"Dojechano do miejsca docelowego {nth}, po lewej stronie",upcoming:"Dojechano do miejsca docelowego {nth}, po lewej stronie",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, po lewej stronie"},straight:{default:"Dojechano do miejsca docelowego {nth} , prosto",upcoming:"Dojechano do miejsca docelowego {nth} , prosto",short:"Dojechano do miejsca docelowego {nth}","short-upcoming":"Dojechano do miejsca docelowego {nth}",named:"Dojechano do {waypoint_name}, prosto"}},continue:{default:{default:"Skr {modifier}",name:"Skr w {modifier}, aby pozosta na {way_name}",destination:"Skr {modifier} w kierunku {destination}",exit:"Skr {modifier} na {way_name}"},straight:{default:"Kontynuuj prosto",name:"Jed dalej prosto, aby pozosta na {way_name}",destination:"Kontynuuj w kierunku {destination}",distance:"Jed dalej prosto przez {distance}",namedistance:"Jed dalej {way_name} przez {distance}"},"sharp left":{default:"Skr ostro w lewo",name:"Skr w lewo w ostry zakrt, aby pozosta na {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Skr ostro w prawo",name:"Skr w prawo w ostry zakrt, aby pozosta na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},"slight left":{default:"Skr w lewo w agodny zakrt",name:"Skr w lewo w agodny zakrt, aby pozosta na {way_name}",destination:"Skr w lewo w agodny zakrt na {destination}"},"slight right":{default:"Skr w prawo w agodny zakrt",name:"Skr w prawo w agodny zakrt, aby pozosta na {way_name}",destination:"Skr w prawo w agodny zakrt na {destination}"},uturn:{default:"Zawr",name:"Zawr i jed dalej {way_name}",destination:"Zawr w kierunku {destination}"}},depart:{default:{default:"Kieruj si {direction}",name:"Kieruj si {direction} na {way_name}",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"Skr {modifier}",name:"Skr {modifier} na {way_name}",destination:"Skr {modifier} w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"},uturn:{default:"Zawr na kocu ulicy",name:"Zawr na kocu ulicy na {way_name}",destination:"Zawr na kocu ulicy w kierunku {destination}"}},fork:{default:{default:"Na rozwidleniu trzymaj si {modifier}",name:"Na rozwidleniu trzymaj si {modifier} na {way_name}",destination:"Na rozwidleniu trzymaj si {modifier} w kierunku {destination}"},"slight left":{default:"Na rozwidleniu trzymaj si lewej strony",name:"Na rozwidleniu trzymaj si lewej strony w {way_name}",destination:"Na rozwidleniu trzymaj si lewej strony w kierunku {destination}"},"slight right":{default:"Na rozwidleniu trzymaj si prawej strony",name:"Na rozwidleniu trzymaj si prawej strony na {way_name}",destination:"Na rozwidleniu trzymaj si prawej strony w kierunku {destination}"},"sharp left":{default:"Na rozwidleniu skr ostro w lewo",name:"Skr ostro w lewo w {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Na rozwidleniu skr ostro w prawo",name:"Skr ostro w prawo na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},merge:{default:{default:"Wcz si {modifier}",name:"Wcz si {modifier} na {way_name}",destination:"Wcz si {modifier} w kierunku {destination}"},straight:{default:"Wcz si prosto",name:"Wcz si prosto na {way_name}",destination:"Wcz si prosto w kierunku {destination}"},"slight left":{default:"Wcz si z lewej strony",name:"Wcz si z lewej strony na {way_name}",destination:"Wcz si z lewej strony w kierunku {destination}"},"slight right":{default:"Wcz si z prawej strony",name:"Wcz si z prawej strony na {way_name}",destination:"Wcz si z prawej strony w kierunku {destination}"},"sharp left":{default:"Wcz si z lewej strony",name:"Wcz si z lewej strony na {way_name}",destination:"Wcz si z lewej strony w kierunku {destination}"},"sharp right":{default:"Wcz si z prawej strony",name:"Wcz si z prawej strony na {way_name}",destination:"Wcz si z prawej strony w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},"new name":{default:{default:"Kontynuuj {modifier}",name:"Kontynuuj {modifier} na {way_name}",destination:"Kontynuuj {modifier} w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj na {way_name}",destination:"Kontynuuj w kierunku {destination}"},"sharp left":{default:"Skr ostro w lewo",name:"Skr ostro w lewo w {way_name}",destination:"Skr ostro w lewo w kierunku {destination}"},"sharp right":{default:"Skr ostro w prawo",name:"Skr ostro w prawo na {way_name}",destination:"Skr ostro w prawo w kierunku {destination}"},"slight left":{default:"Kontynuuj agodnie w lewo",name:"Kontynuuj agodnie w lewo na {way_name}",destination:"Kontynuuj agodnie w lewo w kierunku {destination}"},"slight right":{default:"Kontynuuj agodnie w prawo",name:"Kontynuuj agodnie w prawo na {way_name}",destination:"Kontynuuj agodnie w prawo w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},notification:{default:{default:"Kontynuuj {modifier}",name:"Kontynuuj {modifier} na {way_name}",destination:"Kontynuuj {modifier} w kierunku {destination}"},uturn:{default:"Zawr",name:"Zawr na {way_name}",destination:"Zawr w kierunku {destination}"}},"off ramp":{default:{default:"Zjed",name:"We zjazd na {way_name}",destination:"We zjazd w kierunku {destination}",exit:"Zjed zjazdem {exit}",exit_destination:"Zjed zjazdem {exit} na {destination}"},left:{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},right:{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"},"sharp left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},"sharp right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"},"slight left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}",exit:"Zjed zjazdem {exit} po lewej stronie",exit_destination:"Zjed zjazdem {exit} po lewej stronie na {destination}"},"slight right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}",exit:"Zjed zjazdem {exit} po prawej stronie",exit_destination:"Zjed zjazdem {exit} po prawej stronie na {destination}"}},"on ramp":{default:{default:"We zjazd",name:"We zjazd na {way_name}",destination:"We zjazd w kierunku {destination}"},left:{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},right:{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"},"sharp left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},"sharp right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"},"slight left":{default:"We zjazd po lewej",name:"We zjazd po lewej na {way_name}",destination:"We zjazd po lewej w kierunku {destination}"},"slight right":{default:"We zjazd po prawej",name:"We zjazd po prawej na {way_name}",destination:"We zjazd po prawej w kierunku {destination}"}},rotary:{default:{default:{default:"Wjed na rondo",name:"Wjed na rondo i skr na {way_name}",destination:"Wjed na rondo i skr w kierunku {destination}"},name:{default:"Wjed na {rotary_name}",name:"Wjed na {rotary_name} i skr na {way_name}",destination:"Wjed na {rotary_name} i skr w kierunku {destination}"},exit:{default:"Wjed na rondo i wyjed {exit_number} zjazdem",name:"Wjed na rondo i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na rondo i wyjed {exit_number} zjazdem w kierunku {destination}"},name_exit:{default:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem",name:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na {rotary_name} i wyjed {exit_number} zjazdem w kierunku {destination}"}}},roundabout:{default:{exit:{default:"Wjed na rondo i wyjed {exit_number} zjazdem",name:"Wjed na rondo i wyjed {exit_number} zjazdem na {way_name}",destination:"Wjed na rondo i wyjed {exit_number} zjazdem w kierunku {destination}"},default:{default:"Wjed na rondo",name:"Wjed na rondo i wyjed na {way_name}",destination:"Wjed na rondo i wyjed w kierunku {destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"}},"exit roundabout":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Kontynuuj prosto",name:"Kontynuuj prosto na {way_name}",destination:"Kontynuuj prosto w kierunku {destination}"}},"exit rotary":{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Jed prosto",name:"Jed prosto na {way_name}",destination:"Jed prosto w kierunku {destination}"}},turn:{default:{default:"{modifier}",name:"{modifier} na {way_name}",destination:"{modifier} w kierunku {destination}"},left:{default:"Skr w lewo",name:"Skr w lewo na {way_name}",destination:"Skr w lewo w kierunku {destination}"},right:{default:"Skr w prawo",name:"Skr w prawo na {way_name}",destination:"Skr w prawo w kierunku {destination}"},straight:{default:"Jed prosto",name:"Jed prosto na {way_name}",destination:"Jed prosto w kierunku {destination}"}},"use lane":{no_lanes:{default:"Kontynuuj prosto"},default:{default:"{lane_instruction}"}}}}},{}],39:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"nordeste",east:"leste",southeast:"sudeste",south:"sul",southwest:"sudoeste",west:"oeste",northwest:"noroeste"},modifier:{left:" esquerda",right:" direita","sharp left":"fechada  esquerda","sharp right":"fechada  direita","slight left":"suave  esquerda","slight right":"suave  direita",straight:"em frente",uturn:"retorno"},lanes:{xo:"Mantenha-se  direita",ox:"Mantenha-se  esquerda",xox:"Mantenha-se ao centro",oxo:"Mantenha-se  esquerda ou direita"}},modes:{ferry:{default:"Pegue a balsa",name:"Pegue a balsa {way_name}",destination:"Pegue a balsa sentido {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ento, em {distance}, {instruction_two}","two linked":"{instruction_one}, ento {instruction_two}","one in distance":"Em {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sada {exit}"},arrive:{default:{default:"Voc chegou ao seu {nth} destino",upcoming:"Voc chegar ao seu {nth} destino",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou a {waypoint_name}"},left:{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},right:{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"sharp left":{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},"sharp right":{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"slight right":{default:"Voc chegou ao seu {nth} destino,  direita",upcoming:"Voc chegar ao seu {nth} destino,  direita",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  direita"},"slight left":{default:"Voc chegou ao seu {nth} destino,  esquerda",upcoming:"Voc chegar ao seu {nth} destino,  esquerda",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"Voc chegou {waypoint_name},  esquerda"},straight:{default:"Voc chegou ao seu {nth} destino, em frente",upcoming:"Voc vai chegar ao seu {nth} destino, em frente",short:"Voc chegou","short-upcoming":"Voc vai chegar",named:"You have arrived at {waypoint_name}, straight ahead"}},continue:{default:{default:"Vire {modifier}",name:"Vire {modifier} para manter-se na {way_name}",destination:"Vire {modifier} sentido {destination}",exit:"Vire {modifier} em {way_name}"},straight:{default:"Continue em frente",name:"Continue em frente para manter-se na {way_name}",destination:"Continue em direo  {destination}",distance:"Continue em frente por {distance}",namedistance:"Continue na {way_name} por {distance}"},"sharp left":{default:"Faa uma curva fechada a esquerda",name:"Faa uma curva fechada a esquerda para manter-se na {way_name}",destination:"Faa uma curva fechada a esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada a direita",name:"Faa uma curva fechada a direita para manter-se na {way_name}",destination:"Faa uma curva fechada a direita sentido {destination}"},"slight left":{default:"Faa uma curva suave a esquerda",name:"Faa uma curva suave a esquerda para manter-se na {way_name}",destination:"Faa uma curva suave a esquerda em direo a {destination}"},"slight right":{default:"Faa uma curva suave a direita",name:"Faa uma curva suave a direita para manter-se na {way_name}",destination:"Faa uma curva suave a direita em direo a {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno e continue em {way_name}",destination:"Faa o retorno sentido {destination}"}},depart:{default:{default:"Siga {direction}",name:"Siga {direction} em {way_name}",namedistance:"Siga {direction} na {way_name} por {distance}"}},"end of road":{default:{default:"Vire {modifier}",name:"Vire {modifier} em {way_name}",destination:"Vire {modifier} sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em frente em {way_name}",destination:"Continue em frente sentido {destination}"},uturn:{default:"Faa o retorno no fim da rua",name:"Faa o retorno em {way_name} no fim da rua",destination:"Faa o retorno sentido {destination} no fim da rua"}},fork:{default:{default:"Mantenha-se {modifier} na bifurcao",name:"Mantenha-se {modifier} na bifurcao em {way_name}",destination:"Mantenha-se {modifier} na bifurcao sentido {destination}"},"slight left":{default:"Mantenha-se  esquerda na bifurcao",name:"Mantenha-se  esquerda na bifurcao em {way_name}",destination:"Mantenha-se  esquerda na bifurcao sentido {destination}"},"slight right":{default:"Mantenha-se  direita na bifurcao",name:"Mantenha-se  direita na bifurcao em {way_name}",destination:"Mantenha-se  direita na bifurcao sentido {destination}"},"sharp left":{default:"Faa uma curva fechada  esquerda na bifurcao",name:"Faa uma curva fechada  esquerda em {way_name}",destination:"Faa uma curva fechada  esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada  direita na bifurcao",name:"Faa uma curva fechada  direita em {way_name}",destination:"Faa uma curva fechada  direita sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},merge:{default:{default:"Entre {modifier}",name:"Entre {modifier} na {way_name}",destination:"Entre {modifier} em direo  {destination}"},straight:{default:"Mesclar",name:"Entre reto na {way_name}",destination:"Entre reto em direo  {destination}"},"slight left":{default:"Entre  esquerda",name:"Entre  esquerda na {way_name}",destination:"Entre  esquerda em direo  {destination}"},"slight right":{default:"Entre  direita",name:"Entre  direita na {way_name}",destination:"Entre  direita em direo  {destination}"},"sharp left":{default:"Entre  esquerda",name:"Entre  esquerda na {way_name}",destination:"Entre  esquerda em direo  {destination}"},"sharp right":{default:"Entre  direita",name:"Entre  direita na {way_name}",destination:"Entre  direita em direo  {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} em {way_name}",destination:"Continue {modifier} sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em {way_name}",destination:"Continue em direo  {destination}"},"sharp left":{default:"Faa uma curva fechada  esquerda",name:"Faa uma curva fechada  esquerda em {way_name}",destination:"Faa uma curva fechada  esquerda sentido {destination}"},"sharp right":{default:"Faa uma curva fechada  direita",name:"Faa uma curva fechada  direita em {way_name}",destination:"Faa uma curva fechada  direita sentido {destination}"},"slight left":{default:"Continue ligeiramente  esquerda",name:"Continue ligeiramente  esquerda em {way_name}",destination:"Continue ligeiramente  esquerda sentido {destination}"},"slight right":{default:"Continue ligeiramente  direita",name:"Continue ligeiramente  direita em {way_name}",destination:"Continue ligeiramente  direita sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} em {way_name}",destination:"Continue {modifier} sentido {destination}"},uturn:{default:"Faa o retorno",name:"Faa o retorno em {way_name}",destination:"Faa o retorno sentido {destination}"}},"off ramp":{default:{default:"Pegue a rampa",name:"Pegue a rampa em {way_name}",destination:"Pegue a rampa sentido {destination}",exit:"Pegue a sada {exit}",exit_destination:"Pegue a sada {exit} em direo  {destination}"},left:{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},right:{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"},"sharp left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},"sharp right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"},"slight left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}",exit:"Pegue a sada {exit}  esquerda",exit_destination:"Pegue a sada {exit}   esquerda em direo  {destination}"},"slight right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}",exit:"Pegue a sada {exit}  direita",exit_destination:"Pegue a sada {exit}  direita em direo  {destination}"}},"on ramp":{default:{default:"Pegue a rampa",name:"Pegue a rampa em {way_name}",destination:"Pegue a rampa sentido {destination}"},left:{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},right:{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentid {destination}"},"sharp left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},"sharp right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}"},"slight left":{default:"Pegue a rampa  esquerda",name:"Pegue a rampa  esquerda em {way_name}",destination:"Pegue a rampa  esquerda sentido {destination}"},"slight right":{default:"Pegue a rampa  direita",name:"Pegue a rampa  direita em {way_name}",destination:"Pegue a rampa  direita sentido {destination}"}},rotary:{default:{default:{default:"Entre na rotatria",name:"Entre na rotatria e saia na {way_name}",destination:"Entre na rotatria e saia sentido {destination}"},name:{default:"Entre em {rotary_name}",name:"Entre em {rotary_name} e saia em {way_name}",destination:"Entre em {rotary_name} e saia sentido {destination}"},exit:{default:"Entre na rotatria e pegue a {exit_number} sada",name:"Entre na rotatria e pegue a {exit_number} sada na {way_name}",destination:"Entre na rotatria e pegue a {exit_number} sada sentido {destination}"},name_exit:{default:"Entre em {rotary_name} e saia na {exit_number} sada",name:"Entre em {rotary_name} e saia na {exit_number} sada em {way_name}",destination:"Entre em {rotary_name} e saia na {exit_number} sada sentido {destination}"}}},roundabout:{default:{exit:{default:"Entre na rotatria e pegue a {exit_number} sada",name:"Entre na rotatria e pegue a {exit_number} sada na {way_name}",destination:"Entre na rotatria e pegue a {exit_number} sada sentido {destination}"},default:{default:"Entre na rotatria",name:"Entre na rotatria e saia na {way_name}",destination:"Entre na rotatria e saia sentido {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} em {way_name}",destination:"Siga {modifier} sentido {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda em {way_name}",destination:"Vire  esquerda sentido {destination}"},right:{default:"Vire  direita",name:"Vire  direita em {way_name}",destination:"Vire  direita sentido {destination}"},straight:{default:"Continue em frente",name:"Continue em frente em {way_name}",destination:"Continue em frente sentido {destination}"}},"exit roundabout":{default:{default:"Saia da rotatria",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},"exit rotary":{default:{default:"Saia da rotatria",name:"Exit the traffic circle onto {way_name}",destination:"Exit the traffic circle towards {destination}"}},turn:{default:{default:"Siga {modifier}",name:"Siga {modifier} em {way_name}",destination:"Siga {modifier} sentido {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda em {way_name}",destination:"Vire  esquerda sentido {destination}"},right:{default:"Vire  direita",name:"Vire  direita em {way_name}",destination:"Vire  direita sentido {destination}"},straight:{default:"Siga em frente",name:"Siga em frente em {way_name}",destination:"Siga em frente sentido {destination}"}},"use lane":{no_lanes:{default:"Continue em frente"},default:{default:"{lane_instruction}"}}}}},{}],40:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"norte",northeast:"nordeste",east:"este",southeast:"sudeste",south:"sul",southwest:"sudoeste",west:"oeste",northwest:"noroeste"},modifier:{left:" esquerda",right:" direita","sharp left":"acentuadamente  esquerda","sharp right":"acentuadamente  direita","slight left":"ligeiramente  esquerda","slight right":"ligeiramente  direita",straight:"em frente",uturn:"inverso de marcha"},lanes:{xo:"Mantenha-se  direita",ox:"Mantenha-se  esquerda",xox:"Mantenha-se ao meio",oxo:"Mantenha-se  esquerda ou  direita"}},modes:{ferry:{default:"Apanhe o ferry",name:"Apanhe o ferry {way_name}",destination:"Apanhe o ferry para {destination}"}},phrase:{"two linked by distance":"{instruction_one}, depois, a {distance}, {instruction_two}","two linked":"{instruction_one}, depois {instruction_two}","one in distance":"A {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"sada {exit}"},arrive:{default:{default:"Chegou ao seu {nth} destino",upcoming:"Est a chegar ao seu {nth} destino",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name}"},left:{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},right:{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"sharp left":{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},"sharp right":{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"slight right":{default:"Chegou ao seu {nth} destino,  direita",upcoming:"Est a chegar ao seu {nth} destino,  direita",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  direita"},"slight left":{default:"Chegou ao seu {nth} destino,  esquerda",upcoming:"Est a chegar ao seu {nth} destino,  esquerda",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name},  esquerda"},straight:{default:"Chegou ao seu {nth} destino, em frente",upcoming:"Est a chegar ao seu {nth} destino, em frente",short:"Chegou","short-upcoming":"Est a chegar",named:"Chegou a {waypoint_name}, em frente"}},continue:{default:{default:"Vire {modifier}",name:"Vire {modifier} para se manter em {way_name}",destination:"Vire {modifier} em direo a {destination}",exit:"Vire {modifier} para {way_name}"},straight:{default:"Continue em frente",name:"Continue em frente para se manter em {way_name}",destination:"Continue em direo a {destination}",distance:"Continue em frente por {distance}",namedistance:"Continue em {way_name} por {distance}"},"sharp left":{default:"Vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para se manter em {way_name}",destination:"Vire acentuadamente  esquerda em direo a {destination}"},"sharp right":{default:"Vire acentuadamente  direita",name:"Vire acentuadamente  direita para se manter em {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},"slight left":{default:"Vire ligeiramente  esquerda",name:"Vire ligeiramente  esquerda para se manter em {way_name}",destination:"Vire ligeiramente  esquerda em direo a {destination}"},"slight right":{default:"Vire ligeiramente  direita",name:"Vire ligeiramente  direita para se manter em {way_name}",destination:"Vire ligeiramente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha e continue em {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},depart:{default:{default:"Dirija-se para {direction}",name:"Dirija-se para {direction} em {way_name}",namedistance:"Dirija-se para {direction} em {way_name} por {distance}"}},"end of road":{default:{default:"Vire {modifier}",name:"Vire {modifier} para {way_name}",destination:"Vire {modifier} em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue em frente para {way_name}",destination:"Continue em frente em direo a {destination}"},uturn:{default:"No final da estrada faa uma inverso de marcha",name:"No final da estrada faa uma inverso de marcha para {way_name} ",destination:"No final da estrada faa uma inverso de marcha em direo a {destination}"}},fork:{default:{default:"Na bifurcao mantenha-se {modifier}",name:"Mantenha-se {modifier} para {way_name}",destination:"Mantenha-se {modifier} em direo a {destination}"},"slight left":{default:"Na bifurcao mantenha-se  esquerda",name:"Mantenha-se  esquerda para {way_name}",destination:"Mantenha-se  esquerda em direo a {destination}"},"slight right":{default:"Na bifurcao mantenha-se  direita",name:"Mantenha-se  direita para {way_name}",destination:"Mantenha-se  direita em direo a {destination}"},"sharp left":{default:"Na bifurcao vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para {way_name}",destination:"Vire acentuadamente  esquerda em direo a {destination}"},"sharp right":{default:"Na bifurcao vire acentuadamente  direita",name:"Vire acentuadamente  direita para {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},merge:{default:{default:"Una-se ao trfego {modifier}",name:"Una-se ao trfego {modifier} para {way_name}",destination:"Una-se ao trfego {modifier} em direo a {destination}"},straight:{default:"Una-se ao trfego",name:" Una-se ao trfego para {way_name}",destination:"Una-se ao trfego em direo a {destination}"},"slight left":{default:"Una-se ao trfego  esquerda",name:"Una-se ao trfego  esquerda para {way_name}",destination:"Una-se ao trfego  esquerda em direo a {destination}"},"slight right":{default:"Una-se ao trfego  direita",name:"Una-se ao trfego  direita para {way_name}",destination:"Una-se ao trfego  direita em direo a {destination}"},"sharp left":{default:"Una-se ao trfego  esquerda",name:"Una-se ao trfego  esquerda para {way_name}",destination:"Una-se ao trfego  esquerda em direo a {destination}"},"sharp right":{default:"Una-se ao trfego  direita",name:"Una-se ao trfego  direita para {way_name}",destination:"Una-se ao trfego  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},"new name":{default:{default:"Continue {modifier}",name:"Continue {modifier} para {way_name}",destination:"Continue {modifier} em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue para {way_name}",destination:"Continue em direo a {destination}"},"sharp left":{default:"Vire acentuadamente  esquerda",name:"Vire acentuadamente  esquerda para {way_name}",destination:"Vire acentuadamente  esquerda em direo a{destination}"},"sharp right":{default:"Vire acentuadamente  direita",name:"Vire acentuadamente  direita para {way_name}",destination:"Vire acentuadamente  direita em direo a {destination}"},"slight left":{default:"Continue ligeiramente  esquerda",name:"Continue ligeiramente  esquerda para {way_name}",destination:"Continue ligeiramente  esquerda em direo a {destination}"},"slight right":{default:"Continue ligeiramente  direita",name:"Continue ligeiramente  direita para {way_name}",destination:"Continue ligeiramente  direita em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},notification:{default:{default:"Continue {modifier}",name:"Continue {modifier} para {way_name}",destination:"Continue {modifier} em direo a {destination}"},uturn:{default:"Faa inverso de marcha",name:"Faa inverso de marcha para {way_name}",destination:"Faa inverso de marcha em direo a {destination}"}},"off ramp":{default:{default:"Saia na sada",name:"Saia na sada para {way_name}",destination:"Saia na sada em direo a {destination}",exit:"Saia na sada {exit}",exit_destination:"Saia na sada {exit} em direo a {destination}"},left:{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},right:{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"},"sharp left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},"sharp right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"},"slight left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}",exit:"Saia na sada {exit}  esquerda",exit_destination:"Saia na sada {exit}  esquerda em direo a {destination}"},"slight right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}",exit:"Saia na sada {exit}  direita",exit_destination:"Saia na sada {exit}  direita em direo a {destination}"}},"on ramp":{default:{default:"Saia na sada",name:"Saia na sada para {way_name}",destination:"Saia na sada em direo a {destination}"},left:{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},right:{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"},"sharp left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},"sharp right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"},"slight left":{default:"Saia na sada  esquerda",name:"Saia na sada  esquerda para {way_name}",destination:"Saia na sada  esquerda em direo a {destination}"},"slight right":{default:"Saia na sada  direita",name:"Saia na sada  direita para {way_name}",destination:"Saia na sada  direita em direo a {destination}"}},rotary:{default:{default:{default:"Entre na rotunda",name:"Entre na rotunda e saia para {way_name}",destination:"Entre na rotunda e saia em direo a {destination}"},name:{default:"Entre em {rotary_name}",name:"Entre em {rotary_name} e saia para {way_name}",destination:"Entre em {rotary_name} e saia em direo a {destination}"},exit:{default:"Entre na rotunda e saia na sada {exit_number}",name:"Entre na rotunda e saia na sada {exit_number} para {way_name}",destination:"Entre na rotunda e saia na sada {exit_number} em direo a {destination}"},name_exit:{default:"Entre em {rotary_name} e saia na sada {exit_number}",name:"Entre em {rotary_name} e saia na sada {exit_number} para {way_name}",destination:"Entre em{rotary_name} e saia na sada {exit_number} em direo a {destination}"}}},roundabout:{default:{exit:{default:"Entre na rotunda e saia na sada {exit_number}",name:"Entre na rotunda e saia na sada {exit_number} para {way_name}",destination:"Entre na rotunda e saia na sada {exit_number} em direo a {destination}"},default:{default:"Entre na rotunda",name:"Entre na rotunda e saia para {way_name}",destination:"Entre na rotunda e saia em direo a {destination}"}}},"roundabout turn":{default:{default:"Siga {modifier}",name:"Siga {modifier} para {way_name}",destination:"Siga {modifier} em direo a {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda para {way_name}",destination:"Vire  esquerda em direo a {destination}"},right:{default:"Vire  direita",name:"Vire  direita para {way_name}",destination:"Vire  direita em direo a {destination}"},straight:{default:"Continue em frente",name:"Continue em frente para {way_name}",destination:"Continue em frente em direo a {destination}"}},"exit roundabout":{default:{default:"Saia da rotunda",name:"Saia da rotunda para {way_name}",destination:"Saia da rotunda em direo a {destination}"}},"exit rotary":{default:{default:"Saia da rotunda",name:"Saia da rotunda para {way_name}",destination:"Saia da rotunda em direo a {destination}"}},turn:{default:{default:"Siga {modifier}",name:"Siga {modifier} para{way_name}",destination:"Siga {modifier} em direo a {destination}"},left:{default:"Vire  esquerda",name:"Vire  esquerda para {way_name}",destination:"Vire  esquerda em direo a {destination}"},right:{default:"Vire  direita",name:"Vire  direita para {way_name}",destination:"Vire  direita em direo a {destination}"},straight:{default:"V em frente",name:"V em frente para {way_name}",destination:"V em frente em direo a {destination}"}},"use lane":{no_lanes:{default:"Continue em frente"},default:{default:"{lane_instruction}"}}}}},{}],41:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"prima",2:"a doua",3:"a treia",4:"a patra",5:"a cincea",6:"a asea",7:"a aptea",8:"a opta",9:"a noua",10:"a zecea"},direction:{north:"nord",northeast:"nord-est",east:"est",southeast:"sud-est",south:"sud",southwest:"sud-vest",west:"vest",northwest:"nord-vest"},modifier:{left:"stnga",right:"dreapta","sharp left":"puternic stnga","sharp right":"puternic dreapta","slight left":"uor stnga","slight right":"uor dreapta",straight:"nainte",uturn:"ntoarcere"},lanes:{xo:"inei stnga",ox:"inei dreapta",xox:"inei pe mijloc",oxo:"inei pe laterale"}},modes:{ferry:{default:"Luai feribotul",name:"Luai feribotul {way_name}",destination:"Luai feribotul spre {destination}"}},phrase:{"two linked by distance":"{instruction_one}, apoi n {distance}, {instruction_two}","two linked":"{instruction_one} apoi {instruction_two}","one in distance":"n {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"ieirea {exit}"},arrive:{default:{default:"Ai ajuns la {nth} destinaie",upcoming:"Ai ajuns la {nth} destinaie",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}"},left:{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},right:{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"sharp left":{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},"sharp right":{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"slight right":{default:"Ai ajuns la {nth} destinaie, pe dreapta",upcoming:"Ai ajuns la {nth} destinaie, pe dreapta",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe dreapta"},"slight left":{default:"Ai ajuns la {nth} destinaie, pe stnga",upcoming:"Ai ajuns la {nth} destinaie, pe stnga",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, pe stnga"},straight:{default:"Ai ajuns la {nth} destinaie, n fa",upcoming:"Ai ajuns la {nth} destinaie, n fa",short:"Ai ajuns","short-upcoming":"Vei ajunge",named:"Ai ajuns {waypoint_name}, n fa"}},continue:{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}",exit:"Virai {modifier} pe {way_name}"},straight:{default:"Mergei nainte",name:"Mergei nainte pe {way_name}",destination:"Continuai spre {destination}",distance:"Mergei nainte pentru {distance}",namedistance:"Continuai pe {way_name} pentru {distance}"},"sharp left":{default:"Virai puternic la stnga",name:"Virai puternic la stnga pe {way_name}",destination:"Virai puternic la stnga spre {destination}"},"sharp right":{default:"Virai puternic la dreapta",name:"Virai puternic la dreapta pe {way_name}",destination:"Virai puternic la dreapta spre {destination}"},"slight left":{default:"Virai uor la stnga",name:"Virai uor la stnga pe {way_name}",destination:"Virai uor la stnga spre {destination}"},"slight right":{default:"Virai uor la dreapta",name:"Virai uor la dreapta pe {way_name}",destination:"Virai uor la dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v i continuai pe {way_name}",destination:"ntoarcei-v spre {destination}"}},depart:{default:{default:"Mergei spre {direction}",name:"Mergei spre {direction} pe {way_name}",namedistance:"Mergei spre {direction} pe {way_name} pentru {distance}"}},"end of road":{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}"},straight:{default:"Continuai nainte",name:"Continuai nainte pe {way_name}",destination:"Continuai nainte spre {destination}"},uturn:{default:"ntoarcei-v la sfritul drumului",name:"ntoarcei-v pe {way_name} la sfritul drumului",destination:"ntoarcei-v spre {destination} la sfritul drumului"}},fork:{default:{default:"inei {modifier} la bifurcaie",name:"inei {modifier} la bifurcaie pe {way_name}",destination:"inei {modifier} la bifurcaie spre {destination}"},"slight left":{default:"inei pe stnga la bifurcaie",name:"inei pe stnga la bifurcaie pe {way_name}",destination:"inei pe stnga la bifurcaie spre {destination}"},"slight right":{default:"inei pe dreapta la bifurcaie",name:"inei pe dreapta la bifurcaie pe {way_name}",destination:"inei pe dreapta la bifurcaie spre {destination}"},"sharp left":{default:"Virai puternic stnga la bifurcaie",name:"Virai puternic stnga la bifurcaie pe {way_name}",destination:"Virai puternic stnga la bifurcaie spre {destination}"},"sharp right":{default:"Virai puternic dreapta la bifurcaie",name:"Virai puternic dreapta la bifurcaie pe {way_name}",destination:"Virai puternic dreapta la bifurcaie spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},merge:{default:{default:"Intrai n {modifier}",name:"Intrai n {modifier} pe {way_name}",destination:"Intrai n {modifier} spre {destination}"},straight:{default:"Intrai",name:"Intrai pe {way_name}",destination:"Intrai spre {destination}"},"slight left":{default:"Intrai n stnga",name:"Intrai n stnga pe {way_name}",destination:"Intrai n stnga spre {destination}"},"slight right":{default:"Intrai n dreapta",name:"Intrai n dreapta pe {way_name}",destination:"Intrai n dreapta spre {destination}"},"sharp left":{default:"Intrai n stnga",name:"Intrai n stnga pe {way_name}",destination:"Intrai n stnga spre {destination}"},"sharp right":{default:"Intrai n dreapta",name:"Intrai n dreapta pe {way_name}",destination:"Intrai n dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},"new name":{default:{default:"Continuai {modifier}",name:"Continuai {modifier} pe {way_name}",destination:"Continuai {modifier} spre {destination}"},straight:{default:"Continuai nainte",name:"Continuai pe {way_name}",destination:"Continuai spre {destination}"},"sharp left":{default:"Virai puternic la stnga",name:"Virai puternic la stnga pe {way_name}",destination:"Virai puternic la stnga spre {destination}"},"sharp right":{default:"Virai puternic la dreapta",name:"Virai puternic la dreapta pe {way_name}",destination:"Virai puternic la dreapta spre {destination}"},"slight left":{default:"Continuai uor la stnga",name:"Continuai uor la stnga pe {way_name}",destination:"Continuai uor la stnga spre {destination}"},"slight right":{default:"Continuai uor la dreapta",name:"Continuai uor la dreapta pe {way_name}",destination:"Continuai uor la dreapta spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},notification:{default:{default:"Continuai {modifier}",name:"Continuai {modifier} pe {way_name}",destination:"Continuai {modifier} spre {destination}"},uturn:{default:"ntoarcei-v",name:"ntoarcei-v pe {way_name}",destination:"ntoarcei-v spre {destination}"}},"off ramp":{default:{default:"Urmai breteaua",name:"Urmai breteaua pe {way_name}",destination:"Urmai breteaua spre {destination}",exit:"Urmai ieirea {exit}",exit_destination:"Urmai ieirea {exit} spre {destination}"},left:{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},right:{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"},"sharp left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},"sharp right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"},"slight left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}",exit:"Urmai ieirea {exit} pe stnga",exit_destination:"Urmai ieirea {exit} pe stnga spre {destination}"},"slight right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}",exit:"Urmai ieirea {exit} pe dreapta",exit_destination:"Urmai ieirea {exit} pe dreapta spre {destination}"}},"on ramp":{default:{default:"Urmai breteaua de intrare",name:"Urmai breteaua pe {way_name}",destination:"Urmai breteaua spre {destination}"},left:{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},right:{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"},"sharp left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},"sharp right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"},"slight left":{default:"Urmai breteaua din stnga",name:"Urmai breteaua din stnga pe {way_name}",destination:"Urmai breteaua din stnga spre {destination}"},"slight right":{default:"Urmai breteaua din dreapta",name:"Urmai breteaua din dreapta pe {way_name}",destination:"Urmai breteaua din dreapta spre {destination}"}},rotary:{default:{default:{default:"Intrai n sensul giratoriu",name:"Intrai n sensul giratoriu i ieii pe {way_name}",destination:"Intrai n sensul giratoriu i ieii spre {destination}"},name:{default:"Intrai n {rotary_name}",name:"Intrai n {rotary_name} i ieii pe {way_name}",destination:"Intrai n {rotary_name} i ieii spre {destination}"},exit:{default:"Intrai n sensul giratoriu i urmai {exit_number} ieire",name:"Intrai n sensul giratoriu i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n sensul giratoriu i urmai {exit_number} ieire spre {destination}"},name_exit:{default:"Intrai n {rotary_name} i urmai {exit_number} ieire",name:"Intrai n {rotary_name} i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n  {rotary_name} i urmai {exit_number} ieire spre {destination}"}}},roundabout:{default:{exit:{default:"Intrai n sensul giratoriu i urmai {exit_number} ieire",name:"Intrai n sensul giratoriu i urmai {exit_number} ieire pe {way_name}",destination:"Intrai n sensul giratoriu i urmai {exit_number} ieire spre {destination}"},default:{default:"Intrai n sensul giratoriu",name:"Intrai n sensul giratoriu i ieii pe {way_name}",destination:"Intrai n sensul giratoriu i ieii spre {destination}"}}},"roundabout turn":{default:{default:"La sensul giratoriu virai {modifier}",name:"La sensul giratoriu virai {modifier} pe {way_name}",destination:"La sensul giratoriu virai {modifier} spre {destination}"},left:{default:"La sensul giratoriu virai la stnga",name:"La sensul giratoriu virai la stnga pe {way_name}",destination:"La sensul giratoriu virai la stnga spre {destination}"},right:{default:"La sensul giratoriu virai la dreapta",name:"La sensul giratoriu virai la dreapta pe {way_name}",destination:"La sensul giratoriu virai la dreapta spre {destination}"},straight:{default:"La sensul giratoriu continuai nainte",name:"La sensul giratoriu continuai nainte pe {way_name}",destination:"La sensul giratoriu continuai nainte spre {destination}"}},"exit roundabout":{default:{default:"Ieii din sensul giratoriu",name:"Ieii din sensul giratoriu pe {way_name}",destination:"Ieii din sensul giratoriu spre {destination}"}},"exit rotary":{default:{default:"Ieii din sensul giratoriu",name:"Ieii din sensul giratoriu pe {way_name}",destination:"Ieii din sensul giratoriu spre {destination}"}},turn:{default:{default:"Virai {modifier}",name:"Virai {modifier} pe {way_name}",destination:"Virai {modifier} spre {destination}"},left:{default:"Virai la stnga",name:"Virai la stnga pe {way_name}",destination:"Virai la stnga spre {destination}"},right:{default:"Virai la dreapta",name:"Virai la dreapta pe {way_name}",destination:"Virai la dreapta spre {destination}"},straight:{default:"Mergei nainte",name:"Mergei nainte pe {way_name}",destination:"Mergei nainte spre {destination}"}},"use lane":{no_lanes:{default:"Mergei nainte"},default:{default:"{lane_instruction}"}}}}},{}],42:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"-",east:"",southeast:"-",south:"",southwest:"-",west:"",northwest:"-"},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:" "},lanes:{xo:" ",ox:" ",xox:" ",oxo:"   "}},modes:{ferry:{default:"  ",name:"   {way_name}",destination:"     {destination}"}},phrase:{"two linked by distance":"{instruction_one},   {distance} {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance} {instruction_one}","name and ref":"{name} ({ref})","exit with number":" {exit}"},arrive:{default:{default:"   {nth}  ",upcoming:"   {nth}  ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name}"},left:{default:"   {nth}  ,   ",upcoming:"   {nth}  ,   ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},   "},right:{default:"   {nth}  ,   ",upcoming:"   {nth}  ,   ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},   "},"sharp left":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"sharp right":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"slight right":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},"slight left":{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "},straight:{default:"   {nth}  ,    ",upcoming:"   {nth}  ,    ",short:" ","short-upcoming":"  ",named:"    , {waypoint_name},    "}},continue:{default:{default:" {modifier}",name:" {modifier}  {way_name:dative}",destination:" {modifier}   {destination}",exit:" {modifier}  {way_name:accusative}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}",distance:"  {distance}",namedistance:"  {distance}  {way_name:dative}"},"sharp left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"sharp right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},uturn:{default:"",name:"     {way_name:dative}",destination:"   {destination}"}},depart:{default:{default:"  {direction} ",name:"  {direction}   {way_name:dative}",namedistance:" {distance}  {direction}   {way_name:dative}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},uturn:{default:"   ",name:"   {way_name:genitive}",destination:"      {destination}"}},fork:{default:{default:"   {modifier}",name:"   {modifier}  {way_name:accusative}",destination:"   {modifier}   {destination}"},"slight left":{default:"   ",name:"     {way_name:accusative}",destination:"         {destination}"},"slight right":{default:"   ",name:"     {way_name:accusative}",destination:"         {destination}"},"sharp left":{default:"    ",name:"    {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"    ",name:"    {way_name:accusative}",destination:"        {destination}"},uturn:{default:"  ",name:"    {way_name:prepositional}",destination:"        {destination}"}},merge:{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},"slight left":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"slight right":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"sharp left":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},"sharp right":{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"   {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"},"sharp left":{default:"  ",name:"    {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"  ",name:"    {way_name:accusative}",destination:"        {destination}"},"slight left":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"      {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name:dative}",destination:" {modifier}   {destination}"},uturn:{default:"",name:"  {way_name:prepositional}",destination:"      {destination}"}},"off ramp":{default:{default:"  ",name:"    {way_name:accusative}",destination:"     {destination}",exit:"   {exit}",exit_destination:"   {exit}   {destination}"},left:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit} ",exit_destination:"   {exit}    {destination}"},right:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit} ",exit_destination:"   {exit}    {destination}"},"sharp left":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"},"sharp right":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"},"slight left":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"   {exit}",exit_destination:"    {exit}   {destination}"},"slight right":{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}",exit:"    {exit}",exit_destination:"    {exit}   {destination}"}},"on ramp":{default:{default:"  ",name:"    {way_name:accusative}",destination:"       {destination}"},left:{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},right:{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"sharp left":{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"sharp right":{default:"     ",name:"     {way_name:accusative}",destination:"        {destination}"},"slight left":{default:"     ",name:"   {way_name:accusative}",destination:"      {destination}"},"slight right":{default:"     ",name:"   {way_name:accusative}",destination:"      {destination}"}},rotary:{default:{default:{default:"    ",name:"     {way_name:accusative}",destination:"      {destination}"},name:{default:"   {rotary_name:dative}",name:" {rotary_name:prepositional}   {way_name:accusative}",destination:" {rotary_name:prepositional}    {destination}"},exit:{default:"     {exit_number} ",name:"     {exit_number}   {way_name:accusative}",destination:"     {exit_number}    {destination}"},name_exit:{default:" {rotary_name:prepositional}   {exit_number} ",name:" {rotary_name:prepositional}   {exit_number}   {way_name:accusative}",destination:" {rotary_name:prepositional}   {exit_number}    {destination}"}}},roundabout:{default:{exit:{default:"     {exit_number} ",name:"     {exit_number}   {way_name:accusative}",destination:"     {exit_number}    {destination}"},default:{default:"    ",name:"     {way_name:accusative}",destination:"      {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},right:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},straight:{default:" ",name:"   {way_name:dative}",destination:"    {destination}"}},"exit roundabout":{default:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}"}},"exit rotary":{default:{default:"   ",name:"     {way_name:accusative}",destination:"      {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name:accusative}",destination:" {modifier}    {destination}"},left:{default:" ",name:"   {way_name:accusative}",destination:"    {destination}"},right:{default:" ",name:"   {way_name:accusative}",destination:"     {destination}"},straight:{default:" ",name:"  {way_name:dative}",destination:"   {destination}"}},"use lane":{no_lanes:{default:"  "},default:{default:"{lane_instruction}"}}}}},{}],43:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1:a",2:"2:a",3:"3:e",4:"4:e",5:"5:e",6:"6:e",7:"7:e",8:"8:e",9:"9:e",10:"10:e"},direction:{north:"norr",northeast:"nordost",east:"ster",southeast:"sydost",south:"sder",southwest:"sydvst",west:"vster",northwest:"nordvst"},modifier:{left:"vnster",right:"hger","sharp left":"vnster","sharp right":"hger","slight left":"vnster","slight right":"hger",straight:"rakt fram",uturn:"U-svng"},lanes:{xo:"Hll till hger",ox:"Hll till vnster",xox:"Hll till mitten",oxo:"Hll till vnster eller hger"}},modes:{ferry:{default:"Ta frjan",name:"Ta frjan p {way_name}",destination:"Ta frjan mot {destination}"}},phrase:{"two linked by distance":"{instruction_one}, sedan efter {distance}, {instruction_two}","two linked":"{instruction_one}, sedan {instruction_two}","one in distance":"Om {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"Du r framme vid din {nth} destination",upcoming:"Du r snart framme vid din {nth} destination",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}"},left:{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},right:{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"sharp left":{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},"sharp right":{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"slight right":{default:"Du r framme vid din {nth} destination, till hger",upcoming:"Du r snart framme vid din {nth} destination, till hger",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till hger"},"slight left":{default:"Du r framme vid din {nth} destination, till vnster",upcoming:"Du r snart framme vid din {nth} destination, till vnster",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, till vnster"},straight:{default:"Du r framme vid din {nth} destination, rakt fram",upcoming:"Du r snart framme vid din {nth} destination, rakt fram",short:"Du r framme","short-upcoming":"Du r snart framme",named:"Du r framme vid {waypoint_name}, rakt fram"}},continue:{default:{default:"Svng {modifier}",name:"Svng {modifier} och fortstt p {way_name}",destination:"Svng {modifier} mot {destination}",exit:"Svng {modifier} in p {way_name}"},straight:{default:"Fortstt rakt fram",name:"Kr rakt fram och fortstt p {way_name}",destination:"Fortstt mot {destination}",distance:"Fortstt rakt fram i {distance}",namedistance:"Fortstt p {way_name} i {distance}"},"sharp left":{default:"Svng vnster",name:"Svng vnster och fortstt p {way_name}",destination:"Svng vnster mot {destination}"},"sharp right":{default:"Svng hger",name:"Svng hger och fortstt p {way_name}",destination:"Svng hger mot {destination}"},"slight left":{default:"Svng vnster",name:"Svng vnster och fortstt p {way_name}",destination:"Svng vnster mot {destination}"},"slight right":{default:"Svng hger",name:"Svng hger och fortstt p {way_name}",destination:"Svng hger mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng och fortstt p {way_name}",destination:"Gr en U-svng mot {destination}"}},depart:{default:{default:"Kr t {direction}",name:"Kr t {direction} p {way_name}",namedistance:"Kr {distance} t {direction} p {way_name}"}},"end of road":{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt rakt fram in p {way_name}",destination:"Fortstt rakt fram mot {destination}"},uturn:{default:"Gr en U-svng i slutet av vgen",name:"Gr en U-svng in p {way_name} i slutet av vgen",destination:"Gr en U-svng mot {destination} i slutet av vgen"}},fork:{default:{default:"Hll till {modifier} dr vgen delar sig",name:"Hll till {modifier} in p {way_name}",destination:"Hll till {modifier} mot {destination}"},"slight left":{default:"Hll till vnster dr vgen delar sig",name:"Hll till vnster in p {way_name}",destination:"Hll till vnster mot {destination}"},"slight right":{default:"Hll till hger dr vgen delar sig",name:"Hll till hger in p {way_name}",destination:"Hll till hger mot {destination}"},"sharp left":{default:"Svng vnster dr vgen delar sig",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},"sharp right":{default:"Svng hger dr vgen delar sig",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},merge:{default:{default:"Byt till {modifier} krflt",name:"Byt till {modifier} krflt, in p {way_name}",destination:"Byt till {modifier} krflt, mot {destination}"},straight:{default:"Fortstt",name:"Kr in p {way_name}",destination:"Kr mot {destination}"},"slight left":{default:"Byt till vnstra krfltet",name:"Byt till vnstra krfltet, in p {way_name}",destination:"Byt till vnstra krfltet, mot {destination}"},"slight right":{default:"Byt till hgra krfltet",name:"Byt till hgra krfltet, in p {way_name}",destination:"Byt till hgra krfltet, mot {destination}"},"sharp left":{default:"Byt till vnstra krfltet",name:"Byt till vnstra krfltet, in p {way_name}",destination:"Byt till vnstra krfltet, mot {destination}"},"sharp right":{default:"Byt till hgra krfltet",name:"Byt till hgra krfltet, in p {way_name}",destination:"Byt till hgra krfltet, mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},"new name":{default:{default:"Fortstt {modifier}",name:"Fortstt {modifier} p {way_name}",destination:"Fortstt {modifier} mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt in p {way_name}",destination:"Fortstt mot {destination}"},"sharp left":{default:"Gr en skarp vnstersvng",name:"Gr en skarp vnstersvng in p {way_name}",destination:"Gr en skarp vnstersvng mot {destination}"},"sharp right":{default:"Gr en skarp hgersvng",name:"Gr en skarp hgersvng in p {way_name}",destination:"Gr en skarp hgersvng mot {destination}"},"slight left":{default:"Fortstt med ltt vnstersvng",name:"Fortstt med ltt vnstersvng in p {way_name}",destination:"Fortstt med ltt vnstersvng mot {destination}"},"slight right":{default:"Fortstt med ltt hgersvng",name:"Fortstt med ltt hgersvng in p {way_name}",destination:"Fortstt med ltt hgersvng mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},notification:{default:{default:"Fortstt {modifier}",name:"Fortstt {modifier} p {way_name}",destination:"Fortstt {modifier} mot {destination}"},uturn:{default:"Gr en U-svng",name:"Gr en U-svng in p {way_name}",destination:"Gr en U-svng mot {destination}"}},"off ramp":{default:{default:"Ta avfarten",name:"Ta avfarten in p {way_name}",destination:"Ta avfarten mot {destination}",exit:"Ta avfart {exit} ",exit_destination:"Ta avfart {exit} mot {destination}"},left:{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart {exit} till vnster mot {destination}"},right:{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"},"sharp left":{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart {exit} till vnster mot {destination}"},"sharp right":{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"},"slight left":{default:"Ta avfarten till vnster",name:"Ta avfarten till vnster in p {way_name}",destination:"Ta avfarten till vnster mot {destination}",exit:"Ta avfart {exit} till vnster",exit_destination:"Ta avfart{exit} till vnster mot {destination}"},"slight right":{default:"Ta avfarten till hger",name:"Ta avfarten till hger in p {way_name}",destination:"Ta avfarten till hger mot {destination}",exit:"Ta avfart {exit} till hger",exit_destination:"Ta avfart {exit} till hger mot {destination}"}},"on ramp":{default:{default:"Ta pfarten",name:"Ta pfarten in p {way_name}",destination:"Ta pfarten mot {destination}"},left:{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},right:{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"},"sharp left":{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},"sharp right":{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"},"slight left":{default:"Ta pfarten till vnster",name:"Ta pfarten till vnster in p {way_name}",destination:"Ta pfarten till vnster mot {destination}"},"slight right":{default:"Ta pfarten till hger",name:"Ta pfarten till hger in p {way_name}",destination:"Ta pfarten till hger mot {destination}"}},rotary:{default:{default:{default:"Kr in i rondellen",name:"I rondellen, ta avfarten in p {way_name}",destination:"I rondellen, ta av mot {destination}"},name:{default:"Kr in i {rotary_name}",name:"I {rotary_name}, ta av in p {way_name}",destination:"I {rotary_name}, ta av mot {destination}"},exit:{default:"I rondellen, ta {exit_number} avfarten",name:"I rondellen, ta {exit_number} avfarten in p {way_name}",destination:"I rondellen, ta {exit_number} avfarten mot {destination}"},name_exit:{default:"I {rotary_name}, ta {exit_number} avfarten",name:"I {rotary_name}, ta {exit_number}  avfarten in p {way_name}",destination:"I {rotary_name}, ta {exit_number} avfarten mot {destination}"}}},roundabout:{default:{exit:{default:"I rondellen, ta {exit_number} avfarten",name:"I rondellen, ta {exit_number} avfarten in p {way_name}",destination:"I rondellen, ta {exit_number} avfarten mot {destination}"},default:{default:"Kr in i rondellen",name:"I rondellen, ta avfarten in p {way_name}",destination:"I rondellen, ta av mot {destination}"}}},"roundabout turn":{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},left:{default:"Svng vnster",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},right:{default:"Svng hger",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},straight:{default:"Fortstt rakt fram",name:"Fortstt rakt fram in p {way_name}",destination:"Fortstt rakt fram mot {destination}"}},"exit roundabout":{default:{default:"Kr ut ur rondellen",name:"Kr ut ur rondellen in p {way_name}",destination:"Kr ut ur rondellen mot {destination}"}},"exit rotary":{default:{default:"Kr ut ur rondellen",name:"Kr ut ur rondellen in p {way_name}",destination:"Kr ut ur rondellen mot {destination}"}},turn:{default:{default:"Svng {modifier}",name:"Svng {modifier} in p {way_name}",destination:"Svng {modifier} mot {destination}"},left:{default:"Svng vnster",name:"Svng vnster in p {way_name}",destination:"Svng vnster mot {destination}"},right:{default:"Svng hger",name:"Svng hger in p {way_name}",destination:"Svng hger mot {destination}"},straight:{default:"Kr rakt fram",name:"Kr rakt fram in p {way_name}",destination:"Kr rakt fram mot {destination}"}},"use lane":{no_lanes:{default:"Fortstt rakt fram"},default:{default:"{lane_instruction}"}}}}},{}],44:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"birinci",2:"ikinci",3:"nc",4:"drdnc",5:"beinci",6:"altnc",7:"yedinci",8:"sekizinci",9:"dokuzuncu",10:"onuncu"},direction:{north:"kuzey",northeast:"kuzeydou",east:"dou",southeast:"gneydou",south:"gney",southwest:"gneybat",west:"bat",northwest:"kuzeybat"},modifier:{left:"sol",right:"sa","sharp left":"keskin sol","sharp right":"keskin sa","slight left":"hafif sol","slight right":"hafif sa",straight:"dz",uturn:"U dn"},lanes:{xo:"Sada kaln",ox:"Solda kaln",xox:"Ortada kaln",oxo:"Solda veya sada kaln"}},modes:{ferry:{default:"Vapur kullan",name:"{way_name} vapurunu kullan",destination:"{destination} istikametine giden vapuru kullan"}},phrase:{"two linked by distance":"{instruction_one} ve {distance} sonra {instruction_two}","two linked":"{instruction_one} ve sonra {instruction_two}","one in distance":"{distance} sonra, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"exit {exit}"},arrive:{default:{default:"{nth} hedefinize ulatnz",upcoming:"{nth} hedefinize ulatnz",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz"},left:{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},right:{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"sharp left":{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},"sharp right":{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"slight right":{default:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz sanzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz sanzdadr"},"slight left":{default:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz solunuzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz solunuzdadr"},straight:{default:"{nth} hedefinize ulatnz, hedefiniz karnzdadr",upcoming:"{nth} hedefinize ulatnz, hedefiniz karnzdadr",short:"{nth} hedefinize ulatnz","short-upcoming":"{nth} hedefinize ulatnz",named:"{waypoint_name} ulatnz, hedefiniz karnzdadr"}},continue:{default:{default:"{modifier} yne dn",name:"{way_name} zerinde kalmak iin {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn",exit:"{way_name} zerinde {modifier} yne dn"},straight:{default:"Dz devam edin",name:"{way_name} zerinde kalmak iin dz devam et",destination:"{destination} istikametinde devam et",distance:"{distance} boyunca dz devam et",namedistance:"{distance} boyunca {way_name} zerinde devam et"},"sharp left":{default:"Sola keskin dn yap",name:"{way_name} zerinde kalmak iin sola keskin dn yap",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"Saa keskin dn yap",name:"{way_name} zerinde kalmak iin saa keskin dn yap",destination:"{destination} istikametinde saa keskin dn yap"},"slight left":{default:"Sola hafif dn yap",name:"{way_name} zerinde kalmak iin sola hafif dn yap",destination:"{destination} istikametinde sola hafif dn yap"},"slight right":{default:"Saa hafif dn yap",name:"{way_name} zerinde kalmak iin saa hafif dn yap",destination:"{destination} istikametinde saa hafif dn yap"},uturn:{default:"U dn yapn",name:"Bir U-dn yap ve {way_name} devam et",destination:"{destination} istikametinde bir U-dn yap"}},depart:{default:{default:"{direction} tarafna ynelin",name:"{way_name} zerinde {direction} yne git",namedistance:"Head {direction} on {way_name} for {distance}"}},"end of road":{default:{default:"{modifier} tarafa dnn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},straight:{default:"Dz devam edin",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"},uturn:{default:"Yolun sonunda U dn yapn",name:"Yolun sonunda {way_name} zerinde bir U-dn yap",destination:"Yolun sonunda {destination} istikametinde bir U-dn yap"}},fork:{default:{default:"Yol ayrmnda {modifier} ynde kal",name:"{way_name} zerindeki yol ayrmnda {modifier} ynde kal",destination:"{destination} istikametindeki yol ayrmnda {modifier} ynde kal"},"slight left":{default:"ataln solundan devam edin",name:"ataln solundan {way_name} yoluna doru ",destination:"{destination} istikametindeki yol ayrmnda solda kal"},"slight right":{default:"ataln sandan devam edin",name:"{way_name} zerindeki yol ayrmnda sada kal",destination:"{destination} istikametindeki yol ayrmnda sada kal"},"sharp left":{default:"atalda keskin sola dnn",name:"{way_name} yoluna doru sola keskin dn yapn",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"atalda keskin saa dnn",name:"{way_name} yoluna doru saa keskin dn yapn",destination:"{destination} istikametinde saa keskin dn yap"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},merge:{default:{default:"{modifier} yne gir",name:"{way_name} zerinde {modifier} yne gir",destination:"{destination} istikametinde {modifier} yne gir"},straight:{default:"dz yne gir",name:"{way_name} zerinde dz yne gir",destination:"{destination} istikametinde dz yne gir"},"slight left":{default:"Sola gir",name:"{way_name} zerinde sola gir",destination:"{destination} istikametinde sola gir"},"slight right":{default:"Saa gir",name:"{way_name} zerinde saa gir",destination:"{destination} istikametinde saa gir"},"sharp left":{default:"Sola gir",name:"{way_name} zerinde sola gir",destination:"{destination} istikametinde sola gir"},"sharp right":{default:"Saa gir",name:"{way_name} zerinde saa gir",destination:"{destination} istikametinde saa gir"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},"new name":{default:{default:"{modifier} ynde devam et",name:"{way_name} zerinde {modifier} ynde devam et",destination:"{destination} istikametinde {modifier} ynde devam et"},straight:{default:"Dz devam et",name:"{way_name} zerinde devam et",destination:"{destination} istikametinde devam et"},"sharp left":{default:"Sola keskin dn yapn",name:"{way_name} yoluna doru sola keskin dn yapn",destination:"{destination} istikametinde sola keskin dn yap"},"sharp right":{default:"Saa keskin dn yapn",name:"{way_name} yoluna doru saa keskin dn yapn",destination:"{destination} istikametinde saa keskin dn yap"},"slight left":{default:"Hafif soldan devam edin",name:"{way_name} zerinde hafif solda devam et",destination:"{destination} istikametinde hafif solda devam et"},"slight right":{default:"Hafif sadan devam edin",name:"{way_name} zerinde hafif sada devam et",destination:"{destination} istikametinde hafif sada devam et"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},notification:{default:{default:"{modifier} ynde devam et",name:"{way_name} zerinde {modifier} ynde devam et",destination:"{destination} istikametinde {modifier} ynde devam et"},uturn:{default:"U dn yapn",name:"{way_name} yoluna U dn yapn",destination:"{destination} istikametinde bir U-dn yap"}},"off ramp":{default:{default:"Balant yoluna ge",name:"{way_name} zerindeki balant yoluna ge",destination:"{destination} istikametine giden balant yoluna ge",exit:"{exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} k yoluna ge"},left:{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},right:{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"},"sharp left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},"sharp right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"},"slight left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge",exit:"Soldaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sol k yoluna ge"},"slight right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge",exit:"Sadaki {exit} k yoluna ge",exit_destination:"{destination} istikametindeki {exit} sa k yoluna ge"}},"on ramp":{default:{default:"Balant yoluna ge",name:"{way_name} zerindeki balant yoluna ge",destination:"{destination} istikametine giden balant yoluna ge"},left:{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},right:{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"},"sharp left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},"sharp right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"},"slight left":{default:"Soldaki balant yoluna ge",name:"{way_name} zerindeki sol balant yoluna ge",destination:"{destination} istikametine giden sol balant yoluna ge"},"slight right":{default:"Sadaki balant yoluna ge",name:"{way_name} zerindeki sa balant yoluna ge",destination:"{destination} istikametine giden sa balant yoluna ge"}},rotary:{default:{default:{default:"Dnel kavaa gir",name:"Dnel kavaa gir ve {way_name} zerinde k",destination:"Dnel kavaa gir ve {destination} istikametinde k"},name:{default:"{rotary_name} dnel kavaa gir",name:"{rotary_name} dnel kavaa gir ve {way_name} zerinde k",destination:"{rotary_name} dnel kavaa gir ve {destination} istikametinde k"},exit:{default:"Dnel kavaa gir ve {exit_number} numaral ka gir",name:"Dnel kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"Dnel kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"},name_exit:{default:"{rotary_name} dnel kavaa gir ve {exit_number} numaral ka gir",name:"{rotary_name} dnel kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"{rotary_name} dnel kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"}}},roundabout:{default:{exit:{default:"Gbekli kavaa gir ve {exit_number} numaral ka gir",name:"Gbekli kavaa gir ve {way_name} zerindeki {exit_number} numaral ka gir",destination:"Gbekli kavaa gir ve {destination} istikametindeki {exit_number} numaral ka gir"},default:{default:"Gbekli kavaa gir",name:"Gbekli kavaa gir ve {way_name} zerinde k",destination:"Gbekli kavaa gir ve {destination} istikametinde k"}}},"roundabout turn":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},"exit roundabout":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},"exit rotary":{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz devam et",name:"{way_name} zerinde dz devam et",destination:"{destination} istikametinde dz devam et"}},turn:{default:{default:"{modifier} yne dn",name:"{way_name} zerinde {modifier} yne dn",destination:"{destination} istikametinde {modifier} yne dn"},left:{default:"Sola dnn",name:"{way_name} zerinde sola dn",destination:"{destination} istikametinde sola dn"},right:{default:"Saa dnn",name:"{way_name} zerinde saa dn",destination:"{destination} istikametinde saa dn"},straight:{default:"Dz git",name:"{way_name} zerinde dz git",destination:"{destination} istikametinde dz git"}},"use lane":{no_lanes:{default:"Dz devam edin"},default:{default:"{lane_instruction}"}}}}},{}],45:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10"},direction:{north:"",northeast:" ",east:"",southeast:" ",south:"",southwest:" ",west:"",northwest:" "},modifier:{left:"",right:"","sharp left":" ","sharp right":" ","slight left":" ","slight right":" ",straight:"",uturn:""},lanes:{xo:" ",ox:" ",xox:"  ",oxo:"   "}},modes:{ferry:{default:" ",name:"  {way_name}",destination:"    {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ,  {distance}, {instruction_two}","two linked":"{instruction_one},  {instruction_two}","one in distance":" {distance}, {instruction_one}","name and ref":"{name} ({ref})","exit with number":"' {exit}"},arrive:{default:{default:"    {nth}  ",upcoming:"    {nth}  ",short:" ","short-upcoming":" ",named:"   {waypoint_name}"},left:{default:"    {nth}  ,  ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},right:{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"sharp left":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"sharp right":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"slight right":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},"slight left":{default:"    {nth}  ,   ",upcoming:"    {nth}  , ",short:" ","short-upcoming":" ",named:"   {waypoint_name} "},straight:{default:"    {nth}  ,     ",upcoming:"    {nth}  ,   ",short:" ","short-upcoming":" ",named:"   {waypoint_name}   "}},continue:{default:{default:" {modifier}",name:"{modifier}   {way_name}",destination:" {modifier}   {destination}",exit:" {modifier}  {way_name}"},straight:{default:"  ",name:"     {way_name}",destination:"   {destination}",distance:"   {distance}",namedistance:"   {way_name} {distance}"},"sharp left":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"sharp right":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"slight left":{default:"  ",name:"      {way_name}",destination:"     {destination}"},"slight right":{default:"  ",name:"      {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"     {way_name}",destination:"    {destination}"}},depart:{default:{default:"  {direction}",name:"  {direction}  {way_name}",namedistance:"  {direction}  {way_name} {distance}"}},"end of road":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},straight:{default:"  ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:"    ",name:"   {way_name}   ",destination:"    {destination}   "}},fork:{default:{default:"   {modifier}",name:" {modifier}    {way_name}",destination:" {modifier}   {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"    {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"    {destination}"},"sharp left":{default:"    ",name:"    {way_name}",destination:"     {destination}"},"sharp right":{default:"    ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},merge:{default:{default:"   {modifier}",name:"   {modifier}  {way_name}",destination:"   {modifier}   {destination}"},straight:{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"new name":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},straight:{default:" ",name:"  {way_name}",destination:"   {destination}"},"sharp left":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"sharp right":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight left":{default:"  ",name:"    {way_name}",destination:"     {destination}"},"slight right":{default:"  ",name:"    {way_name}",destination:"     {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},notification:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},uturn:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"off ramp":{default:{default:"  ",name:"    {way_name}",destination:"     {destination}",exit:" ' {exit}",exit_destination:" ' {exit}   {destination}"},left:{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},right:{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}",exit:" ' {exit} ",exit_destination:" ' {exit}    {destination}"}},"on ramp":{default:{default:"  ",name:"    {way_name}",destination:"     {destination}"},left:{default:"   ",name:"     {way_name}",destination:"      {destination}"},right:{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"sharp right":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight left":{default:"   ",name:"     {way_name}",destination:"      {destination}"},"slight right":{default:"   ",name:"     {way_name}",destination:"      {destination}"}},rotary:{default:{default:{default:"  ",name:"    {way_name}",destination:"     {destination}"},name:{default:"  {rotary_name}",name:"  {rotary_name}    {way_name}",destination:"  {rotary_name}     {destination}"},exit:{default:"      {exit_number} '",name:"      {exit_number} '  {way_name}",destination:"      {exit_number} '   {destination}"},name_exit:{default:"  {rotary_name}    {exit_number} '",name:"  {rotary_name}    {exit_number} '  {way_name}",destination:"  {rotary_name}    {exit_number} '   {destination}"}}},roundabout:{default:{exit:{default:"      {exit_number} '",name:"      {exit_number} '  {way_name}",destination:"      {exit_number} '   {destination}"},default:{default:"  ",name:"    {way_name}",destination:"     {destination}"}}},"roundabout turn":{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name}",destination:"    {destination}"},right:{default:" ",name:"   {way_name}",destination:"    {destination}"},straight:{default:" ",name:"    {way_name}",destination:"     {destination}"}},"exit roundabout":{default:{default:" ",name:"   {way_name} ",destination:"    {destination}"}},"exit rotary":{default:{default:" ",name:"   {way_name} ",destination:"    {destination}"}},turn:{default:{default:" {modifier}",name:" {modifier}  {way_name}",destination:" {modifier}   {destination}"},left:{default:" ",name:"   {way_name}",destination:"    {destination}"},right:{default:" ",name:"   {way_name}",destination:"    {destination}"},straight:{default:" ",name:"   {way_name}",destination:"    {destination}"}},"use lane":{no_lanes:{default:"  "},default:{default:"{lane_instruction}"}}}}},{}],46:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!0},v5:{constants:{ordinalize:{1:"u tin",2:"th 2",3:"th 3",4:"th 4",5:"th 5",6:"th 6",7:"th 7",8:"th 8",9:"th 9",10:"th 10"},direction:{north:"bc",northeast:"ng bc",east:"ng",southeast:"ng nam",south:"nam",southwest:"ty nam",west:"ty",northwest:"ty bc"},modifier:{left:"tri",right:"phi","sharp left":"tri gt","sharp right":"phi gt","slight left":"tri nghing","slight right":"phi nghing",straight:"thng",uturn:"ngc"},lanes:{xo:"i bn phi",ox:"i bn tri",xox:"i vo gia",oxo:"i bn tri hay bn phi"}},modes:{ferry:{default:"Ln ph",name:"Ln ph {way_name}",destination:"Ln ph i {destination}"}},phrase:{"two linked by distance":"{instruction_one}, ri {distance} na th {instruction_two}","two linked":"{instruction_one}, ri {instruction_two}","one in distance":"{distance} na th {instruction_one}","name and ref":"{name} ({ref})","exit with number":"li ra {exit}"},arrive:{default:{default:"n ni {nth}",upcoming:"n ni {nth}",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}"},left:{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},right:{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"sharp left":{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},"sharp right":{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"slight right":{default:"n ni {nth}  bn phi",upcoming:"n ni {nth}  bn phi",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn phi"},"slight left":{default:"n ni {nth}  bn tri",upcoming:"n ni {nth}  bn tri",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  bn tri"},straight:{default:"n ni {nth}  trc mt",upcoming:"n ni {nth}  trc mt",short:"n ni","short-upcoming":"n ni",named:"n {waypoint_name}  trc mt"}},continue:{default:{default:"Quo {modifier}",name:"Quo {modifier}  chy tip trn {way_name}",destination:"Quo {modifier} v {destination}",exit:"Quo {modifier} vo {way_name}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}",distance:"Chy thng cho {distance}",namedistance:"Chy tip trn {way_name} cho {distance}"},"sharp left":{default:"Quo gt bn tri",name:"Quo gt bn tri  chy tip trn {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi",name:"Quo gt bn phi  chy tip trn {way_name}",destination:"Quo gt bn phi v {destination}"},"slight left":{default:"Nghing v bn tri",name:"Nghing v bn tri  chy tip trn {way_name}",destination:"Nghing v bn tri v {destination}"},"slight right":{default:"Nghing v bn phi",name:"Nghing v bn phi  chy tip trn {way_name}",destination:"Nghing v bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li trn {way_name}",destination:"Quo ngc v {destination}"}},depart:{default:{default:"i v hng {direction}",name:"i v hng {direction} trn {way_name}",namedistance:"i v hng {direction} trn {way_name} cho {distance}"}},"end of road":{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"},uturn:{default:"Quo ngc li ti cui ng",name:"Quo ngc vo {way_name} ti cui ng",destination:"Quo ngc v {destination} ti cui ng"}},fork:{default:{default:"i bn {modifier}  ng ba",name:"Gi bn {modifier} vo {way_name}",destination:"Gi bn {modifier} v {destination}"},"slight left":{default:"Nghing v bn tri  ng ba",name:"Gi bn tri vo {way_name}",destination:"Gi bn tri v {destination}"},"slight right":{default:"Nghing v bn phi  ng ba",name:"Gi bn phi vo {way_name}",destination:"Gi bn phi v {destination}"},"sharp left":{default:"Quo gt bn tri  ng ba",name:"Quo gt bn tri vo {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi  ng ba",name:"Quo gt bn phi vo {way_name}",destination:"Quo gt bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},merge:{default:{default:"Nhp sang {modifier}",name:"Nhp sang {modifier} vo {way_name}",destination:"Nhp sang {modifier} v {destination}"},straight:{default:"Nhp ng",name:"Nhp vo {way_name}",destination:"Nhp ng v {destination}"},"slight left":{default:"Nhp sang tri",name:"Nhp sang tri vo {way_name}",destination:"Nhp sang tri v {destination}"},"slight right":{default:"Nhp sang phi",name:"Nhp sang phi vo {way_name}",destination:"Nhp sang phi v {destination}"},"sharp left":{default:"Nhp sang tri",name:"Nhp sang tri vo {way_name}",destination:"Nhp sang tri v {destination}"},"sharp right":{default:"Nhp sang phi",name:"Nhp sang phi vo {way_name}",destination:"Nhp sang phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},"new name":{default:{default:"Chy tip bn {modifier}",name:"Chy tip bn {modifier} trn {way_name}",destination:"Chy tip bn {modifier} v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"},"sharp left":{default:"Quo gt bn tri",name:"Quo gt bn tri vo {way_name}",destination:"Quo gt bn tri v {destination}"},"sharp right":{default:"Quo gt bn phi",name:"Quo gt bn phi vo {way_name}",destination:"Quo gt bn phi v {destination}"},"slight left":{default:"Nghing v bn tri",name:"Nghing v bn tri vo {way_name}",destination:"Nghing v bn tri v {destination}"},"slight right":{default:"Nghing v bn phi",name:"Nghing v bn phi vo {way_name}",destination:"Nghing v bn phi v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},notification:{default:{default:"Chy tip bn {modifier}",name:"Chy tip bn {modifier} trn {way_name}",destination:"Chy tip bn {modifier} v {destination}"},uturn:{default:"Quo ngc li",name:"Quo ngc li {way_name}",destination:"Quo ngc li v {destination}"}},"off ramp":{default:{default:"i ng nhnh",name:"i ng nhnh {way_name}",destination:"i ng nhnh v {destination}",exit:"i theo li ra {exit}",exit_destination:"i theo li ra {exit} v {destination}"},left:{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},right:{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"},"sharp left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},"sharp right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"},"slight left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}",exit:"i theo li ra {exit} bn tri",exit_destination:"i theo li ra {exit} bn tri v {destination}"},"slight right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}",exit:"i theo li ra {exit} bn phi",exit_destination:"i theo li ra {exit} bn phi v {destination}"}},"on ramp":{default:{default:"i ng nhnh",name:"i ng nhnh {way_name}",destination:"i ng nhnh v {destination}"},left:{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},right:{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"},"sharp left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},"sharp right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"},"slight left":{default:"i ng nhnh bn tri",name:"i ng nhnh {way_name} bn tri",destination:"i ng nhnh bn tri v {destination}"},"slight right":{default:"i ng nhnh bn phi",name:"i ng nhnh {way_name} bn phi",destination:"i ng nhnh bn phi v {destination}"}},rotary:{default:{default:{default:"i vo bng binh",name:"i vo bng binh v ra ti {way_name}",destination:"i vo bng binh v ra v {destination}"},name:{default:"i vo {rotary_name}",name:"i vo {rotary_name} v ra ti {way_name}",destination:"i v {rotary_name} v ra v {destination}"},exit:{default:"i vo bng binh v ra ti ng {exit_number}",name:"i vo bng binh v ra ti ng {exit_number} tc {way_name}",destination:"i vo bng binh v ra ti ng {exit_number} v {destination}"},name_exit:{default:"i vo {rotary_name} v ra ti ng {exit_number}",name:"i vo {rotary_name} v ra ti ng {exit_number} tc {way_name}",destination:"i vo {rotary_name} v ra ti ng {exit_number} v {destination}"}}},roundabout:{default:{exit:{default:"i vo bng binh v ra ti ng {exit_number}",name:"i vo bng binh v ra ti ng {exit_number} tc {way_name}",destination:"i vo bng binh v ra ti ng {exit_number} v {destination}"},default:{default:"i vo bng binh",name:"i vo bng binh v ra ti {way_name}",destination:"i vo bng binh v ra v {destination}"}}},"roundabout turn":{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},left:{default:"Quo tri",name:"Quo tri vo {way_name}",destination:"Quo tri v {destination}"},right:{default:"Quo phi",name:"Quo phi vo {way_name}",destination:"Quo phi v {destination}"},straight:{default:"Chy thng",name:"Chy tip trn {way_name}",destination:"Chy tip v {destination}"}},"exit roundabout":{default:{default:"Ra bng binh",name:"Ra bng binh vo {way_name}",destination:"Ra bng binh v {destination}"}},"exit rotary":{default:{default:"Ra bng binh",name:"Ra bng binh vo {way_name}",destination:"Ra bng binh v {destination}"}},turn:{default:{default:"Quo {modifier}",name:"Quo {modifier} vo {way_name}",destination:"Quo {modifier} v {destination}"},left:{default:"Quo tri",name:"Quo tri vo {way_name}",destination:"Quo tri v {destination}"},right:{default:"Quo phi",name:"Quo phi vo {way_name}",destination:"Quo phi v {destination}"},straight:{default:"Chy thng",name:"Chy thng vo {way_name}",destination:"Chy thng v {destination}"}},"use lane":{no_lanes:{default:"Chy thng"},default:{default:"{lane_instruction}"}}}}},{}],47:[function(a,e,t){e.exports={meta:{capitalizeFirstLetter:!1},v5:{constants:{ordinalize:{1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",10:""},direction:{north:"",northeast:"",east:"",southeast:"",south:"",southwest:"",west:"",northwest:""},modifier:{left:"",right:"","sharp left":"","sharp right":"","slight left":"","slight right":"",straight:"",uturn:""},lanes:{xo:"",ox:"",xox:"",oxo:""}},modes:{ferry:{default:"",name:"{way_name}",destination:"{destination}"}},phrase:{"two linked by distance":"{instruction_one}{distance}{instruction_two}","two linked":"{instruction_one}{instruction_two}","one in distance":"{distance}{instruction_one}","name and ref":"{name}{ref}","exit with number":"{exit}"},arrive:{default:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},left:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},right:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"sharp left":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"sharp right":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"slight right":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},"slight left":{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"},straight:{default:"{nth}",upcoming:"{nth}",short:"","short-upcoming":"",named:"{waypoint_name}"}},continue:{default:{default:"{modifier}",name:"{way_name}{modifier}",destination:"{modifier}{destination}",exit:"{modifier}{way_name}"},straight:{default:"",name:"{way_name}",destination:"{destination}",distance:"{distance}",namedistance:"{way_name}{distance}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},depart:{default:{default:"{direction}",name:"{direction}{way_name}",namedistance:"{direction}{way_name}{distance}"}},"end of road":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},fork:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},merge:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},"new name":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},notification:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},uturn:{default:"",name:"{way_name}",destination:"{destination}"}},"off ramp":{default:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}",exit:"{exit}",exit_destination:"{exit}{destination}"}},"on ramp":{default:{default:"",name:"{way_name}",destination:"{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},"sharp left":{default:"",name:"{way_name}",destination:"{destination}"},"sharp right":{default:"",name:"{way_name}",destination:"{destination}"},"slight left":{default:"",name:"{way_name}",destination:"{destination}"},"slight right":{default:"",name:"{way_name}",destination:"{destination}"}},rotary:{default:{default:{default:"",name:"{way_name}",destination:"{destination}"},name:{default:"{rotary_name}",name:"{rotary_name}{way_name}",destination:"{rotary_name}{destination}"},exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},name_exit:{default:"{rotary_name}{exit_number}",name:"{rotary_name}{exit_number}{way_name}",destination:"{rotary_name}{exit_number}{destination}"}}},roundabout:{default:{exit:{default:"{exit_number}",name:"{exit_number}{way_name}",destination:"{exit_number}{destination}"},default:{default:"",name:"{way_name}",destination:"{destination}"}}},"roundabout turn":{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"exit roundabout":{default:{default:"",name:"{way_name}",destination:"{destination}"}},"exit rotary":{default:{default:"",name:"{way_name}",destination:"{destination}"}},turn:{default:{default:"{modifier}",name:"{modifier}{way_name}",destination:"{modifier}{destination}"},left:{default:"",name:"{way_name}",destination:"{destination}"},right:{default:"",name:"{way_name}",destination:"{destination}"},straight:{default:"",name:"{way_name}",destination:"{destination}"}},"use lane":{no_lanes:{default:""},default:{default:"{lane_instruction}"}}}}},{}],48:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{timeout:500,blurTimeout:100,noResultsMessage:"No results found."},initialize:function(r,o,s,u){n.setOptions(this,u),this._elem=r,this._resultFn=u.resultFn?n.Util.bind(u.resultFn,u.resultContext):null,this._autocomplete=u.autocompleteFn?n.Util.bind(u.autocompleteFn,u.autocompleteContext):null,this._selectFn=n.Util.bind(o,s),this._container=n.DomUtil.create("div","leaflet-routing-geocoder-result"),this._resultTable=n.DomUtil.create("table","",this._container),n.DomEvent.addListener(this._elem,"input",this._keyPressed,this),n.DomEvent.addListener(this._elem,"keypress",this._keyPressed,this),n.DomEvent.addListener(this._elem,"keydown",this._keyDown,this),n.DomEvent.addListener(this._elem,"blur",function(){this._isOpen&&this.close()},this)},close:function(){n.DomUtil.removeClass(this._container,"leaflet-routing-geocoder-result-open"),this._isOpen=!1},_open:function(){var r=this._elem.getBoundingClientRect();if(!this._container.parentElement){var o=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,s=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;this._container.style.left=r.left+o+"px",this._container.style.top=r.bottom+s+"px",this._container.style.width=r.right-r.left+"px",document.body.appendChild(this._container)}n.DomUtil.addClass(this._container,"leaflet-routing-geocoder-result-open"),this._isOpen=!0},_setResults:function(r){var o,s,u,d;for(delete this._selection,this._results=r;this._resultTable.firstChild;)this._resultTable.removeChild(this._resultTable.firstChild);for(o=0;o<r.length;o++)s=n.DomUtil.create("tr","",this._resultTable),s.setAttribute("data-result-index",o),u=n.DomUtil.create("td","",s),d=document.createTextNode(r[o].name),u.appendChild(d),n.DomEvent.addListener(u,"mousedown",n.DomEvent.preventDefault),n.DomEvent.addListener(u,"click",this._createClickListener(r[o]));o||(s=n.DomUtil.create("tr","",this._resultTable),u=n.DomUtil.create("td","leaflet-routing-geocoder-no-results",s),u.innerHTML=this.options.noResultsMessage),this._open(),r.length>0&&this._select(1)},_createClickListener:function(r){var o=this._resultSelected(r);return n.bind(function(){this._elem.blur(),o()},this)},_resultSelected:function(r){return n.bind(function(){this.close(),this._elem.value=r.name,this._lastCompletedText=r.name,this._selectFn(r)},this)},_keyPressed:function(r){var o;if(this._isOpen&&r.keyCode===13&&this._selection){o=parseInt(this._selection.getAttribute("data-result-index"),10),this._resultSelected(this._results[o])(),n.DomEvent.preventDefault(r);return}if(r.keyCode===13){n.DomEvent.preventDefault(r),this._complete(this._resultFn,!0);return}if(this._autocomplete&&document.activeElement===this._elem){this._timer&&clearTimeout(this._timer),this._timer=setTimeout(n.Util.bind(function(){this._complete(this._autocomplete)},this),this.options.timeout);return}this._unselect()},_select:function(r){var o=this._selection;o&&(n.DomUtil.removeClass(o.firstChild,"leaflet-routing-geocoder-selected"),o=o[r>0?"nextSibling":"previousSibling"]),o||(o=this._resultTable[r>0?"firstChild":"lastChild"]),o&&(n.DomUtil.addClass(o.firstChild,"leaflet-routing-geocoder-selected"),this._selection=o)},_unselect:function(){this._selection&&n.DomUtil.removeClass(this._selection.firstChild,"leaflet-routing-geocoder-selected"),delete this._selection},_keyDown:function(r){if(this._isOpen)switch(r.keyCode){case 27:this.close(),n.DomEvent.preventDefault(r);return;case 38:this._select(-1),n.DomEvent.preventDefault(r);return;case 40:this._select(1),n.DomEvent.preventDefault(r);return}},_complete:function(r,o){var s=this._elem.value;function u(d){this._lastCompletedText=s,o&&d.length===1?this._resultSelected(d[0])():this._setResults(d)}s&&(s!==this._lastCompletedText?r(s,u,this):o&&u.call(this,this._results))}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],49:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./itinerary"),o=a("./line"),s=a("./plan"),u=a("./osrm-v1");e.exports=r.extend({options:{fitSelectedRoutes:"smart",routeLine:function(d,g){return new o(d,g)},autoRoute:!0,routeWhileDragging:!1,routeDragInterval:500,waypointMode:"connect",showAlternatives:!1,defaultErrorHandler:function(d){console.error("Routing error:",d.error)}},initialize:function(d){n.Util.setOptions(this,d),this._router=this.options.router||new u(d),this._plan=this.options.plan||new s(this.options.waypoints,d),this._requestCount=0,r.prototype.initialize.call(this,d),this.on("routeselected",this._routeSelected,this),this.options.defaultErrorHandler&&this.on("routingerror",this.options.defaultErrorHandler),this._plan.on("waypointschanged",this._onWaypointsChanged,this),d.routeWhileDragging&&this._setupRouteDragging()},_onZoomEnd:function(){if(!(!this._selectedRoute||!this._router.requiresMoreDetail)){var d=this._map;this._router.requiresMoreDetail(this._selectedRoute,d.getZoom(),d.getBounds())&&this.route({callback:n.bind(function(g,x){var b;if(!g){for(b=0;b<x.length;b++)this._routes[b].properties=x[b].properties;this._updateLineCallback(g,x)}},this),simplifyGeometry:!1,geometryOnly:!0})}},onAdd:function(d){this.options.autoRoute&&this.route();var g=r.prototype.onAdd.call(this,d);return this._map=d,this._map.addLayer(this._plan),this._map.on("zoomend",this._onZoomEnd,this),this._plan.options.geocoder&&g.insertBefore(this._plan.createGeocoders(),g.firstChild),g},onRemove:function(d){if(d.off("zoomend",this._onZoomEnd,this),this._line&&d.removeLayer(this._line),d.removeLayer(this._plan),this._alternatives&&this._alternatives.length>0)for(var g=0,x=this._alternatives.length;g<x;g++)d.removeLayer(this._alternatives[g]);return r.prototype.onRemove.call(this,d)},getWaypoints:function(){return this._plan.getWaypoints()},setWaypoints:function(d){return this._plan.setWaypoints(d),this},spliceWaypoints:function(){var d=this._plan.spliceWaypoints.apply(this._plan,arguments);return d},getPlan:function(){return this._plan},getRouter:function(){return this._router},_routeSelected:function(d){var g=this._selectedRoute=d.route,x=this.options.showAlternatives&&d.alternatives,b=this.options.fitSelectedRoutes,S=b==="smart"&&!this._waypointsVisible()||b!=="smart"&&b;this._updateLines({route:g,alternatives:x}),S&&this._map.fitBounds(this._line.getBounds()),this.options.waypointMode==="snap"&&(this._plan.off("waypointschanged",this._onWaypointsChanged,this),this.setWaypoints(g.waypoints),this._plan.on("waypointschanged",this._onWaypointsChanged,this))},_waypointsVisible:function(){var d=this.getWaypoints(),g,x,b,S,P;try{for(g=this._map.getSize(),S=0;S<d.length;S++)P=this._map.latLngToLayerPoint(d[S].latLng),x?x.extend(P):x=n.bounds([P]);return b=x.getSize(),(b.x>g.x/5||b.y>g.y/5)&&this._waypointsInViewport()}catch{return!1}},_waypointsInViewport:function(){var d=this.getWaypoints(),g,x;try{g=this._map.getBounds()}catch{return!1}for(x=0;x<d.length;x++)if(g.contains(d[x].latLng))return!0;return!1},_updateLines:function(d){var g=this.options.addWaypoints!==void 0?this.options.addWaypoints:!0;this._clearLines(),this._alternatives=[],d.alternatives&&d.alternatives.forEach(function(x,b){this._alternatives[b]=this.options.routeLine(x,n.extend({isAlternative:!0},this.options.altLineOptions||this.options.lineOptions)),this._alternatives[b].addTo(this._map),this._hookAltEvents(this._alternatives[b])},this),this._line=this.options.routeLine(d.route,n.extend({addWaypoints:g,extendToWaypoints:this.options.waypointMode==="connect"},this.options.lineOptions)),this._line.addTo(this._map),this._hookEvents(this._line)},_hookEvents:function(d){d.on("linetouched",function(g){this._plan.dragNewWaypoint(g)},this)},_hookAltEvents:function(d){d.on("linetouched",function(g){var x=this._routes.slice(),b=x.splice(g.target._route.routesIndex,1)[0];this.fire("routeselected",{route:b,alternatives:x})},this)},_onWaypointsChanged:function(d){this.options.autoRoute&&this.route({}),this._plan.isReady()||(this._clearLines(),this._clearAlts()),this.fire("waypointschanged",{waypoints:d.waypoints})},_setupRouteDragging:function(){var d=0,g;this._plan.on("waypointdrag",n.bind(function(x){g=x.waypoints,d||(d=setTimeout(n.bind(function(){this.route({waypoints:g,geometryOnly:!0,callback:n.bind(this._updateLineCallback,this)}),d=void 0},this),this.options.routeDragInterval))},this)),this._plan.on("waypointdragend",function(){d&&(clearTimeout(d),d=void 0),this.route()},this)},_updateLineCallback:function(d,g){if(d)d.type!=="abort"&&this._clearLines();else{g=g.slice();var x=g.splice(this._selectedRoute.routesIndex,1)[0];this._updateLines({route:x,alternatives:this.options.showAlternatives?g:[]})}},route:function(d){var g=++this._requestCount,x;this._pendingRequest&&this._pendingRequest.abort&&(this._pendingRequest.abort(),this._pendingRequest=null),d=d||{},this._plan.isReady()&&(this.options.useZoomParameter&&(d.z=this._map&&this._map.getZoom()),x=d&&d.waypoints||this._plan.getWaypoints(),this.fire("routingstart",{waypoints:x}),this._pendingRequest=this._router.route(x,function(b,S){if(this._pendingRequest=null,d.callback)return d.callback.call(this,b,S);if(g===this._requestCount){if(this._clearLines(),this._clearAlts(),b&&b.type!=="abort"){this.fire("routingerror",{error:b});return}if(S.forEach(function(I,O){I.routesIndex=O}),!d.geometryOnly)this.fire("routesfound",{waypoints:x,routes:S}),this.setAlternatives(S);else{var P=S.splice(0,1)[0];this._routeSelected({route:P,alternatives:S})}}},this,d))},_clearLines:function(){if(this._line&&(this._map.removeLayer(this._line),delete this._line),this._alternatives&&this._alternatives.length){for(var d in this._alternatives)this._map.removeLayer(this._alternatives[d]);this._alternatives=[]}}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./itinerary":55,"./line":56,"./osrm-v1":59,"./plan":60}],50:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Control.extend({options:{header:"Routing error",formatMessage:function(r){return r.status<0?"Calculating the route caused an error. Technical description follows: <code><pre>"+r.message+"</pre></code":"The route could not be calculated. "+r.message}},initialize:function(r,o){n.Control.prototype.initialize.call(this,o),r.on("routingerror",n.bind(function(s){this._element&&(this._element.children[1].innerHTML=this.options.formatMessage(s.error),this._element.style.visibility="visible")},this)).on("routingstart",n.bind(function(){this._element&&(this._element.style.visibility="hidden")},this))},onAdd:function(){var r;return this._element=n.DomUtil.create("div","leaflet-bar leaflet-routing-error"),this._element.style.visibility="hidden",r=n.DomUtil.create("h3",null,this._element),n.DomUtil.create("span",null,this._element),r.innerHTML=this.options.header,this._element},onRemove:function(){delete this._element}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],51:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./localization");e.exports=n.Class.extend({options:{units:"metric",unitNames:null,language:"en",roundingSensitivity:1,distanceTemplate:"{value} {unit}"},initialize:function(o){n.setOptions(this,o);var s=n.Util.isArray(this.options.language)?this.options.language:[this.options.language,"en"];this._localization=new r(s)},formatDistance:function(o,s){var u=this.options.unitNames||this._localization.localize("units"),d=s<=0,g=d?function(P){return P}:n.bind(this._round,this),x,b,S;return this.options.units==="imperial"?(b=o/.9144,b>=1e3?S={value:g(o/1609.344,s),unit:u.miles}:S={value:g(b,s),unit:u.yards}):(x=g(o,s),S={value:x>=1e3?x/1e3:x,unit:x>=1e3?u.kilometers:u.meters}),d&&(S.value=S.value.toFixed(-s)),n.Util.template(this.options.distanceTemplate,S)},_round:function(o,s){var u=s||this.options.roundingSensitivity,d=Math.pow(10,(Math.floor(o/u)+"").length-1),g=Math.floor(o/d),x=g>5?d:d/2;return Math.round(o/x)*x},formatTime:function(o){var s=this.options.unitNames||this._localization.localize("units");return o=Math.round(o/30)*30,o>86400?Math.round(o/3600)+" "+s.hours:o>3600?Math.floor(o/3600)+" "+s.hours+" "+Math.round(o%3600/60)+" "+s.minutes:o>300?Math.round(o/60)+" "+s.minutes:o>60?Math.floor(o/60)+" "+s.minutes+(o%60!==0?" "+o%60+" "+s.seconds:""):o+" "+s.seconds},formatInstruction:function(o,s){return o.text===void 0?this.capitalize(n.Util.template(this._getInstructionTemplate(o,s),n.extend({},o,{exitStr:o.exit?this._localization.localize("formatOrder")(o.exit):"",dir:this._localization.localize(["directions",o.direction]),modifier:this._localization.localize(["directions",o.modifier])}))):o.text},getIconName:function(o,s){switch(o.type){case"Head":if(s===0)return"depart";break;case"WaypointReached":return"via";case"Roundabout":return"enter-roundabout";case"DestinationReached":return"arrive"}switch(o.modifier){case"Straight":return"continue";case"SlightRight":return"bear-right";case"Right":return"turn-right";case"SharpRight":return"sharp-right";case"TurnAround":case"Uturn":return"u-turn";case"SharpLeft":return"sharp-left";case"Left":return"turn-left";case"SlightLeft":return"bear-left"}},capitalize:function(o){return o.charAt(0).toUpperCase()+o.substring(1)},_getInstructionTemplate:function(o,s){var u=o.type==="Straight"?s===0?"Head":"Continue":o.type,d=this._localization.localize(["instructions",u]);return d||(d=[this._localization.localize(["directions",u])," "+this._localization.localize(["instructions","Onto"])]),d[0]+(d.length>1&&o.road?d[1]:"")}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./localization":57}],52:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./autocomplete"),o=a("./localization");function s(u){u.setSelectionRange?u.setSelectionRange(0,9999):u.select()}e.exports=n.Class.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{createGeocoder:function(u,d,g){var x=n.DomUtil.create("div","leaflet-routing-geocoder"),b=n.DomUtil.create("input","",x),S=g.addWaypoints?n.DomUtil.create("span","leaflet-routing-remove-waypoint",x):void 0;return b.disabled=!g.addWaypoints,{container:x,input:b,closeButton:S}},geocoderPlaceholder:function(u,d,g){var x=new o(g.options.language).localize("ui");return u===0?x.startPlaceholder:u<d-1?n.Util.template(x.viaPlaceholder,{viaNumber:u}):x.endPlaceholder},geocoderClass:function(){return""},waypointNameFallback:function(u){var d=u.lat<0?"S":"N",g=u.lng<0?"W":"E",x=(Math.round(Math.abs(u.lat)*1e4)/1e4).toString(),b=(Math.round(Math.abs(u.lng)*1e4)/1e4).toString();return d+x+", "+g+b},maxGeocoderTolerance:200,autocompleteOptions:{},language:"en"},initialize:function(u,d,g,x){n.setOptions(this,x);var b=this.options.createGeocoder(d,g,this.options),S=b.closeButton,P=b.input;P.setAttribute("placeholder",this.options.geocoderPlaceholder(d,g,this)),P.className=this.options.geocoderClass(d,g),this._element=b,this._waypoint=u,this.update(),P.value=u.name,n.DomEvent.addListener(P,"click",function(){s(this)},P),S&&n.DomEvent.addListener(S,"click",function(){this.fire("delete",{waypoint:this._waypoint})},this),new r(P,function(I){P.value=I.name,u.name=I.name,u.latLng=I.center,this.fire("geocoded",{waypoint:u,value:I})},this,n.extend({resultFn:this.options.geocoder.geocode,resultContext:this.options.geocoder,autocompleteFn:this.options.geocoder.suggest,autocompleteContext:this.options.geocoder},this.options.autocompleteOptions))},getContainer:function(){return this._element.container},setValue:function(u){this._element.input.value=u},update:function(u){var d=this._waypoint,g;d.name=d.name||"",d.latLng&&(u||!d.name)&&(g=this.options.waypointNameFallback(d.latLng),this.options.geocoder&&this.options.geocoder.reverse?this.options.geocoder.reverse(d.latLng,67108864,function(x){x.length>0&&x[0].center.distanceTo(d.latLng)<this.options.maxGeocoderTolerance?d.name=x[0].name:d.name=g,this._update()},this):(d.name=g,this._update()))},focus:function(){var u=this._element.input;u.focus(),s(u)},_update:function(){var u=this._waypoint,d=u&&u.name?u.name:"";this.setValue(d),this.fire("reversegeocoded",{waypoint:u,value:d})}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./autocomplete":48,"./localization":57}],53:[function(a,e,t){(function(i){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./control"),o=a("./itinerary"),s=a("./line"),u=a("./osrm-v1"),d=a("./plan"),g=a("./waypoint"),x=a("./autocomplete"),b=a("./formatter"),S=a("./geocoder-element"),P=a("./localization"),I=a("./itinerary-builder"),O=a("./mapbox"),H=a("./error-control");n.routing={control:function(Q){return new r(Q)},itinerary:function(Q){return o(Q)},line:function(Q,Y){return new s(Q,Y)},plan:function(Q,Y){return new d(Q,Y)},waypoint:function(Q,Y,Z){return new g(Q,Y,Z)},osrmv1:function(Q){return new u(Q)},localization:function(Q){return new P(Q)},formatter:function(Q){return new b(Q)},geocoderElement:function(Q,Y,Z,J){return new n.Routing.GeocoderElement(Q,Y,Z,J)},itineraryBuilder:function(Q){return new I(Q)},mapbox:function(Q,Y){return new O(Q,Y)},errorControl:function(Q,Y){return new H(Q,Y)},autocomplete:function(Q,Y,Z,J){return new x(Q,Y,Z,J)}},e.exports=n.Routing={Control:r,Itinerary:o,Line:s,OSRMv1:u,Plan:d,Waypoint:g,Autocomplete:x,Formatter:b,GeocoderElement:S,Localization:P,Formatter:b,ItineraryBuilder:I,control:n.routing.control,itinerary:n.routing.itinerary,line:n.routing.line,plan:n.routing.plan,waypoint:n.routing.waypoint,osrmv1:n.routing.osrmv1,geocoderElement:n.routing.geocoderElement,mapbox:n.routing.mapbox,errorControl:n.routing.errorControl}}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./autocomplete":48,"./control":49,"./error-control":50,"./formatter":51,"./geocoder-element":52,"./itinerary":55,"./itinerary-builder":54,"./line":56,"./localization":57,"./mapbox":58,"./osrm-v1":59,"./plan":60,"./waypoint":61}],54:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{containerClassName:""},initialize:function(r){n.setOptions(this,r)},createContainer:function(r){var o=n.DomUtil.create("table",(r||"")+" "+this.options.containerClassName),s=n.DomUtil.create("colgroup","",o);return n.DomUtil.create("col","leaflet-routing-instruction-icon",s),n.DomUtil.create("col","leaflet-routing-instruction-text",s),n.DomUtil.create("col","leaflet-routing-instruction-distance",s),o},createStepsContainer:function(){return n.DomUtil.create("tbody","")},createStep:function(r,o,s,u){var d=n.DomUtil.create("tr","",u),g,x;return x=n.DomUtil.create("td","",d),g=n.DomUtil.create("span","leaflet-routing-icon leaflet-routing-icon-"+s,x),x.appendChild(g),x=n.DomUtil.create("td","",d),x.appendChild(document.createTextNode(r)),x=n.DomUtil.create("td","",d),x.appendChild(document.createTextNode(o)),d}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],55:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./formatter"),o=a("./itinerary-builder");e.exports=n.Control.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{pointMarkerStyle:{radius:5,color:"#03f",fillColor:"white",opacity:1,fillOpacity:.7},summaryTemplate:"<h2>{name}</h2><h3>{distance}, {time}</h3>",timeTemplate:"{time}",containerClassName:"",alternativeClassName:"",minimizedClassName:"",itineraryClassName:"",totalDistanceRoundingSensitivity:-1,show:!0,collapsible:void 0,collapseBtn:function(s){var u=n.DomUtil.create("span",s.options.collapseBtnClass);n.DomEvent.on(u,"click",s._toggle,s),s._container.insertBefore(u,s._container.firstChild)},collapseBtnClass:"leaflet-routing-collapse-btn"},initialize:function(s){n.setOptions(this,s),this._formatter=this.options.formatter||new r(this.options),this._itineraryBuilder=this.options.itineraryBuilder||new o({containerClassName:this.options.itineraryClassName})},onAdd:function(s){var u=this.options.collapsible;return u=u||u===void 0&&s.getSize().x<=640,this._container=n.DomUtil.create("div","leaflet-routing-container leaflet-bar "+(this.options.show?"":"leaflet-routing-container-hide ")+(u?"leaflet-routing-collapsible ":"")+this.options.containerClassName),this._altContainer=this.createAlternativesContainer(),this._container.appendChild(this._altContainer),n.DomEvent.disableClickPropagation(this._container),n.DomEvent.addListener(this._container,"mousewheel",function(d){n.DomEvent.stopPropagation(d)}),u&&this.options.collapseBtn(this),this._container},onRemove:function(){},createAlternativesContainer:function(){return n.DomUtil.create("div","leaflet-routing-alternatives-container")},setAlternatives:function(s){var u,d,g;for(this._clearAlts(),this._routes=s,u=0;u<this._routes.length;u++)d=this._routes[u],g=this._createAlternative(d,u),this._altContainer.appendChild(g),this._altElements.push(g);return this._selectRoute({route:this._routes[0],alternatives:this._routes.slice(1)}),this},show:function(){n.DomUtil.removeClass(this._container,"leaflet-routing-container-hide")},hide:function(){n.DomUtil.addClass(this._container,"leaflet-routing-container-hide")},_toggle:function(){var s=n.DomUtil.hasClass(this._container,"leaflet-routing-container-hide");this[s?"show":"hide"]()},_createAlternative:function(s,u){var d=n.DomUtil.create("div","leaflet-routing-alt "+this.options.alternativeClassName+(u>0?" leaflet-routing-alt-minimized "+this.options.minimizedClassName:"")),g=this.options.summaryTemplate,x=n.extend({name:s.name,distance:this._formatter.formatDistance(s.summary.totalDistance,this.options.totalDistanceRoundingSensitivity),time:this._formatter.formatTime(s.summary.totalTime)},s);return d.innerHTML=typeof g=="function"?g(x):n.Util.template(g,x),n.DomEvent.addListener(d,"click",this._onAltClicked,this),this.on("routeselected",this._selectAlt,this),d.appendChild(this._createItineraryContainer(s)),d},_clearAlts:function(){for(var s=this._altContainer;s&&s.firstChild;)s.removeChild(s.firstChild);this._altElements=[]},_createItineraryContainer:function(s){var u=this._itineraryBuilder.createContainer(),d=this._itineraryBuilder.createStepsContainer(),g,x,b,S,P,I;for(u.appendChild(d),g=0;g<s.instructions.length;g++)x=s.instructions[g],P=this._formatter.formatInstruction(x,g),S=this._formatter.formatDistance(x.distance),I=this._formatter.getIconName(x,g),b=this._itineraryBuilder.createStep(P,S,I,d),x.index&&this._addRowListeners(b,s.coordinates[x.index]);return u},_addRowListeners:function(s,u){n.DomEvent.addListener(s,"mouseover",function(){this._marker=n.circleMarker(u,this.options.pointMarkerStyle).addTo(this._map)},this),n.DomEvent.addListener(s,"mouseout",function(){this._marker&&(this._map.removeLayer(this._marker),delete this._marker)},this),n.DomEvent.addListener(s,"click",function(d){this._map.panTo(u),n.DomEvent.stopPropagation(d)},this)},_onAltClicked:function(s){for(var u=s.target||window.event.srcElement;!n.DomUtil.hasClass(u,"leaflet-routing-alt");)u=u.parentElement;var d=this._altElements.indexOf(u),g=this._routes.slice(),x=g.splice(d,1)[0];this.fire("routeselected",{route:x,alternatives:g})},_selectAlt:function(s){var u,d,g,x;if(u=this._altElements[s.route.routesIndex],n.DomUtil.hasClass(u,"leaflet-routing-alt-minimized"))for(d=0;d<this._altElements.length;d++)g=this._altElements[d],x=d===s.route.routesIndex?"removeClass":"addClass",n.DomUtil[x](g,"leaflet-routing-alt-minimized"),this.options.minimizedClassName&&n.DomUtil[x](g,this.options.minimizedClassName),d!==s.route.routesIndex&&(g.scrollTop=0);n.DomEvent.stop(s)},_selectRoute:function(s){this._marker&&(this._map.removeLayer(this._marker),delete this._marker),this.fire("routeselected",s)}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./formatter":51,"./itinerary-builder":54}],56:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.LayerGroup.extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{styles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"red",opacity:1,weight:2}],missingRouteStyles:[{color:"black",opacity:.15,weight:7},{color:"white",opacity:.6,weight:4},{color:"gray",opacity:.8,weight:2,dashArray:"7,12"}],addWaypoints:!0,extendToWaypoints:!0,missingRouteTolerance:10},initialize:function(r,o){n.setOptions(this,o),n.LayerGroup.prototype.initialize.call(this,o),this._route=r,this.options.extendToWaypoints&&this._extendToWaypoints(),this._addSegment(r.coordinates,this.options.styles,this.options.addWaypoints)},getBounds:function(){return n.latLngBounds(this._route.coordinates)},_findWaypointIndices:function(){var r=this._route.inputWaypoints,o=[],s;for(s=0;s<r.length;s++)o.push(this._findClosestRoutePoint(r[s].latLng));return o},_findClosestRoutePoint:function(r){var o=Number.MAX_VALUE,s,u,d;for(u=this._route.coordinates.length-1;u>=0;u--)d=r.distanceTo(this._route.coordinates[u]),d<o&&(s=u,o=d);return s},_extendToWaypoints:function(){var r=this._route.inputWaypoints,o=this._getWaypointIndices(),s,u,d;for(s=0;s<r.length;s++)u=r[s].latLng,d=n.latLng(this._route.coordinates[o[s]]),u.distanceTo(d)>this.options.missingRouteTolerance&&this._addSegment([u,d],this.options.missingRouteStyles)},_addSegment:function(r,o,s){var u,d;for(u=0;u<o.length;u++)d=n.polyline(r,o[u]),this.addLayer(d),s&&d.on("mousedown",this._onLineTouched,this)},_findNearestWpBefore:function(r){for(var o=this._getWaypointIndices(),s=o.length-1;s>=0&&o[s]>r;)s--;return s},_onLineTouched:function(r){var o=this._findNearestWpBefore(this._findClosestRoutePoint(r.latlng));this.fire("linetouched",{afterIndex:o,latlng:r.latlng}),n.DomEvent.stop(r)},_getWaypointIndices:function(){return this._wpIndices||(this._wpIndices=this._route.waypointIndices||this._findWaypointIndices()),this._wpIndices}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],57:[function(a,e,t){(function(){var i={directions:{N:"norte",NE:"noreste",E:"este",SE:"sureste",S:"sur",SW:"suroeste",W:"oeste",NW:"noroeste",SlightRight:"leve giro a la derecha",Right:"derecha",SharpRight:"giro pronunciado a la derecha",SlightLeft:"leve giro a la izquierda",Left:"izquierda",SharpLeft:"giro pronunciado a la izquierda",Uturn:"media vuelta"},instructions:{Head:["Derecho {dir}"," sobre {road}"],Continue:["Continuar {dir}"," en {road}"],TurnAround:["Dar vuelta"],WaypointReached:["Lleg a un punto del camino"],Roundabout:["Tomar {exitStr} salida en la rotonda"," en {road}"],DestinationReached:["Llegada a destino"],Fork:["En el cruce gira a {modifier}"," hacia {road}"],Merge:["Incorprate {modifier}"," hacia {road}"],OnRamp:["Gira {modifier} en la salida"," hacia {road}"],OffRamp:["Toma la salida {modifier}"," hacia {road}"],EndOfRoad:["Gira {modifier} al final de la carretera"," hacia {road}"],Onto:"hacia {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Inicio",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Destino"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}};L.Routing=L.Routing||{};var n=L.Class.extend({initialize:function(r){this._langs=L.Util.isArray(r)?r.slice():[r,"en"];for(var o=0,s=this._langs.length;o<s;o++){var u=/([A-Za-z]+)/.exec(this._langs[o])[1];if(!n[this._langs[o]])if(n[u])this._langs[o]=u;else throw new Error('No localization for language "'+this._langs[o]+'".')}},localize:function(r){var o,s,u;r=L.Util.isArray(r)?r:[r];for(var d=0,g=this._langs.length;d<g;d++){o=n[this._langs[d]];for(var x=0,b=r.length;o&&x<b;x++)s=r[x],u=o[s],o=u;if(u)return u}}});e.exports=L.extend(n,{en:{directions:{N:"north",NE:"northeast",E:"east",SE:"southeast",S:"south",SW:"southwest",W:"west",NW:"northwest",SlightRight:"slight right",Right:"right",SharpRight:"sharp right",SlightLeft:"slight left",Left:"left",SharpLeft:"sharp left",Uturn:"Turn around"},instructions:{Head:["Head {dir}"," on {road}"],Continue:["Continue {dir}"],TurnAround:["Turn around"],WaypointReached:["Waypoint reached"],Roundabout:["Take the {exitStr} exit in the roundabout"," onto {road}"],DestinationReached:["Destination reached"],Fork:["At the fork, turn {modifier}"," onto {road}"],Merge:["Merge {modifier}"," onto {road}"],OnRamp:["Turn {modifier} on the ramp"," onto {road}"],OffRamp:["Take the ramp on the {modifier}"," onto {road}"],EndOfRoad:["Turn {modifier} at the end of the road"," onto {road}"],Onto:"onto {road}"},formatOrder:function(r){var o=r%10-1,s=["st","nd","rd"];return s[o]?r+s[o]:r+"th"},ui:{startPlaceholder:"Start",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"End"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}},de:{directions:{N:"Norden",NE:"Nordosten",E:"Osten",SE:"Sdosten",S:"Sden",SW:"Sdwesten",W:"Westen",NW:"Nordwesten",SlightRight:"leicht rechts",Right:"rechts",SharpRight:"scharf rechts",SlightLeft:"leicht links",Left:"links",SharpLeft:"scharf links",Uturn:"Wenden"},instructions:{Head:["Richtung {dir}"," auf {road}"],Continue:["Geradeaus Richtung {dir}"," auf {road}"],SlightRight:["Leicht rechts abbiegen"," auf {road}"],Right:["Rechts abbiegen"," auf {road}"],SharpRight:["Scharf rechts abbiegen"," auf {road}"],TurnAround:["Wenden"],SharpLeft:["Scharf links abbiegen"," auf {road}"],Left:["Links abbiegen"," auf {road}"],SlightLeft:["Leicht links abbiegen"," auf {road}"],WaypointReached:["Zwischenhalt erreicht"],Roundabout:["Nehmen Sie die {exitStr} Ausfahrt im Kreisverkehr"," auf {road}"],DestinationReached:["Sie haben ihr Ziel erreicht"],Fork:["An der Kreuzung {modifier}"," auf {road}"],Merge:["Fahren Sie {modifier} weiter"," auf {road}"],OnRamp:["Fahren Sie {modifier} auf die Auffahrt"," auf {road}"],OffRamp:["Nehmen Sie die Ausfahrt {modifier}"," auf {road}"],EndOfRoad:["Fahren Sie {modifier} am Ende der Strae"," auf {road}"],Onto:"auf {road}"},formatOrder:function(r){return r+"."},ui:{startPlaceholder:"Start",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Ziel"}},sv:{directions:{N:"norr",NE:"nordost",E:"st",SE:"sydost",S:"syd",SW:"sydvst",W:"vst",NW:"nordvst",SlightRight:"svagt hger",Right:"hger",SharpRight:"skarpt hger",SlightLeft:"svagt vnster",Left:"vnster",SharpLeft:"skarpt vnster",Uturn:"Vnd"},instructions:{Head:["k t {dir}"," till {road}"],Continue:["Fortstt {dir}"],SlightRight:["Svagt hger"," till {road}"],Right:["Svng hger"," till {road}"],SharpRight:["Skarpt hger"," till {road}"],TurnAround:["Vnd"],SharpLeft:["Skarpt vnster"," till {road}"],Left:["Svng vnster"," till {road}"],SlightLeft:["Svagt vnster"," till {road}"],WaypointReached:["Viapunkt ndd"],Roundabout:["Tag {exitStr} avfarten i rondellen"," till {road}"],DestinationReached:["Framme vid resans ml"],Fork:["Tag av {modifier}"," till {road}"],Merge:["Anslut {modifier} "," till {road}"],OnRamp:["Tag pfarten {modifier}"," till {road}"],OffRamp:["Tag avfarten {modifier}"," till {road}"],EndOfRoad:["Svng {modifier} vid vgens slut"," till {road}"],Onto:"till {road}"},formatOrder:function(r){return["frsta","andra","tredje","fjrde","femte","sjtte","sjunde","ttonde","nionde","tionde"][r-1]},ui:{startPlaceholder:"Frn",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Till"}},es:i,sp:i,nl:{directions:{N:"noordelijke",NE:"noordoostelijke",E:"oostelijke",SE:"zuidoostelijke",S:"zuidelijke",SW:"zuidewestelijke",W:"westelijke",NW:"noordwestelijke"},instructions:{Head:["Vertrek in {dir} richting"," de {road} op"],Continue:["Ga in {dir} richting"," de {road} op"],SlightRight:["Volg de weg naar rechts"," de {road} op"],Right:["Ga rechtsaf"," de {road} op"],SharpRight:["Ga scherpe bocht naar rechts"," de {road} op"],TurnAround:["Keer om"],SharpLeft:["Ga scherpe bocht naar links"," de {road} op"],Left:["Ga linksaf"," de {road} op"],SlightLeft:["Volg de weg naar links"," de {road} op"],WaypointReached:["Aangekomen bij tussenpunt"],Roundabout:["Neem de {exitStr} afslag op de rotonde"," de {road} op"],DestinationReached:["Aangekomen op eindpunt"]},formatOrder:function(r){return r===1||r>=20?r+"ste":r+"de"},ui:{startPlaceholder:"Vertrekpunt",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Bestemming"}},fr:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-ouest",W:"ouest",NW:"nord-ouest"},instructions:{Head:["Tout droit au {dir}"," sur {road}"],Continue:["Continuer au {dir}"," sur {road}"],SlightRight:["Lgrement  droite"," sur {road}"],Right:["A droite"," sur {road}"],SharpRight:["Compltement  droite"," sur {road}"],TurnAround:["Faire demi-tour"],SharpLeft:["Compltement  gauche"," sur {road}"],Left:["A gauche"," sur {road}"],SlightLeft:["Lgrement  gauche"," sur {road}"],WaypointReached:["Point d'tape atteint"],Roundabout:["Au rond-point, prenez la {exitStr} sortie"," sur {road}"],DestinationReached:["Destination atteinte"]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Dpart",viaPlaceholder:"Intermdiaire {viaNumber}",endPlaceholder:"Arrive"}},it:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-ovest",W:"ovest",NW:"nord-ovest"},instructions:{Head:["Dritto verso {dir}"," su {road}"],Continue:["Continuare verso {dir}"," su {road}"],SlightRight:["Mantenere la destra"," su {road}"],Right:["A destra"," su {road}"],SharpRight:["Strettamente a destra"," su {road}"],TurnAround:["Fare inversione di marcia"],SharpLeft:["Strettamente a sinistra"," su {road}"],Left:["A sinistra"," sur {road}"],SlightLeft:["Mantenere la sinistra"," su {road}"],WaypointReached:["Punto di passaggio raggiunto"],Roundabout:["Alla rotonda, prendere la {exitStr} uscita"],DestinationReached:["Destinazione raggiunta"]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Partenza",viaPlaceholder:"Intermedia {viaNumber}",endPlaceholder:"Destinazione"}},pt:{directions:{N:"norte",NE:"nordeste",E:"leste",SE:"sudeste",S:"sul",SW:"sudoeste",W:"oeste",NW:"noroeste",SlightRight:"curva ligeira a direita",Right:"direita",SharpRight:"curva fechada a direita",SlightLeft:"ligeira a esquerda",Left:"esquerda",SharpLeft:"curva fechada a esquerda",Uturn:"Meia volta"},instructions:{Head:["Siga {dir}"," na {road}"],Continue:["Continue {dir}"," na {road}"],SlightRight:["Curva ligeira a direita"," na {road}"],Right:["Curva a direita"," na {road}"],SharpRight:["Curva fechada a direita"," na {road}"],TurnAround:["Retorne"],SharpLeft:["Curva fechada a esquerda"," na {road}"],Left:["Curva a esquerda"," na {road}"],SlightLeft:["Curva ligueira a esquerda"," na {road}"],WaypointReached:["Ponto de interesse atingido"],Roundabout:["Pegue a {exitStr} sada na rotatria"," na {road}"],DestinationReached:["Destino atingido"],Fork:["Na encruzilhada, vire a {modifier}"," na {road}"],Merge:["Entre  {modifier}"," na {road}"],OnRamp:["Vire {modifier} na rampa"," na {road}"],OffRamp:["Entre na rampa na {modifier}"," na {road}"],EndOfRoad:["Vire {modifier} no fim da rua"," na {road}"],Onto:"na {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Origem",viaPlaceholder:"Intermdio {viaNumber}",endPlaceholder:"Destino"}},sk:{directions:{N:"sever",NE:"serverovchod",E:"vchod",SE:"juhovchod",S:"juh",SW:"juhozpad",W:"zpad",NW:"serverozpad"},instructions:{Head:["Mierte na {dir}"," na {road}"],Continue:["Pokraujte na {dir}"," na {road}"],SlightRight:["Mierne doprava"," na {road}"],Right:["Doprava"," na {road}"],SharpRight:["Prudko doprava"," na {road}"],TurnAround:["Otote sa"],SharpLeft:["Prudko doava"," na {road}"],Left:["Doava"," na {road}"],SlightLeft:["Mierne doava"," na {road}"],WaypointReached:["Ste v prejazdovom bode."],Roundabout:["Odbote na {exitStr} vjazde"," na {road}"],DestinationReached:["Prili ste do ciea."]},formatOrder:function(r){var o=r%10-1,s=[".",".","."];return s[o]?r+s[o]:r+"."},ui:{startPlaceholder:"Zaiatok",viaPlaceholder:"Cez {viaNumber}",endPlaceholder:"Koniec"}},el:{directions:{N:"",NE:"",E:"",SE:"",S:"",SW:"",W:"",NW:""},instructions:{Head:[" {dir}","  {road}"],Continue:[" {dir}","  {road}"],SlightRight:[" ","  {road}"],Right:["","  {road}"],SharpRight:["  ","  {road}"],TurnAround:[" "],SharpLeft:["  ","  {road}"],Left:["","  {road}"],SlightLeft:[" ","  {road}"],WaypointReached:["   "],Roundabout:["  {exitStr}    ","  {road}"],DestinationReached:["   "]},formatOrder:function(r){return r+""},ui:{startPlaceholder:"",viaPlaceholder:" {viaNumber}",endPlaceholder:""}},ca:{directions:{N:"nord",NE:"nord-est",E:"est",SE:"sud-est",S:"sud",SW:"sud-oest",W:"oest",NW:"nord-oest",SlightRight:"lleu gir a la dreta",Right:"dreta",SharpRight:"gir pronunciat a la dreta",SlightLeft:"gir pronunciat a l'esquerra",Left:"esquerra",SharpLeft:"lleu gir a l'esquerra",Uturn:"mitja volta"},instructions:{Head:["Recte {dir}"," sobre {road}"],Continue:["Continuar {dir}"],TurnAround:["Donar la volta"],WaypointReached:["Ha arribat a un punt del cam"],Roundabout:["Agafar {exitStr} sortida a la rotonda"," a {road}"],DestinationReached:["Arribada al dest"],Fork:["A la crulla gira a la {modifier}"," cap a {road}"],Merge:["Incorpora't {modifier}"," a {road}"],OnRamp:["Gira {modifier} a la sortida"," cap a {road}"],OffRamp:["Pren la sortida {modifier}"," cap a {road}"],EndOfRoad:["Gira {modifier} al final de la carretera"," cap a {road}"],Onto:"cap a {road}"},formatOrder:function(r){return r+""},ui:{startPlaceholder:"Origen",viaPlaceholder:"Via {viaNumber}",endPlaceholder:"Dest"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"h",minutes:"min",seconds:"s"}},ru:{directions:{N:"",NE:"",E:"",SE:"",S:"",SW:"",W:"",NW:"",SlightRight:" ",Right:"",SharpRight:" ",SlightLeft:" ",Left:"",SharpLeft:" ",Uturn:""},instructions:{Head:["   {dir}","  {road}"],Continue:["   {dir}","  {road}"],SlightRight:["  ","  {road}"],Right:["","  {road}"],SharpRight:["  ","  {road}"],TurnAround:[""],SharpLeft:["  ","  {road}"],Left:[" ","  {road}"],SlightLeft:["  ","  {road}"],WaypointReached:[" "],Roundabout:["{exitStr}   ","  {road}"],DestinationReached:[" "],Fork:["   {modifier}","  {road}"],Merge:[" {modifier}","  {road}"],OnRamp:[" {modifier}  ","  {road}"],OffRamp:["  {modifier}","  {road}"],EndOfRoad:[" {modifier}   ","  {road}"],Onto:" {road}"},formatOrder:function(r){return r+"-"},ui:{startPlaceholder:"",viaPlaceholder:" {viaNumber}",endPlaceholder:""},units:{meters:"",kilometers:"",yards:"",miles:"",hours:"",minutes:"",seconds:""}},pl:{directions:{N:"pnoc",NE:"pnocny wschd",E:"wschd",SE:"poudniowy wschd",S:"poudnie",SW:"poudniowy zachd",W:"zachd",NW:"pnocny zachd",SlightRight:"lekko w prawo",Right:"w prawo",SharpRight:"ostro w prawo",SlightLeft:"lekko w lewo",Left:"w lewo",SharpLeft:"ostro w lewo",Uturn:"zawr"},instructions:{Head:["Kieruj si na {dir}"," na {road}"],Continue:["Jed dalej przez {dir}"],TurnAround:["Zawr"],WaypointReached:["Punkt poredni"],Roundabout:["Wyjed {exitStr} zjazdem na rondzie"," na {road}"],DestinationReached:["Dojechano do miejsca docelowego"],Fork:["Na rozwidleniu {modifier}"," na {road}"],Merge:["Zjed {modifier}"," na {road}"],OnRamp:["Wjazd {modifier}"," na {road}"],OffRamp:["Zjazd {modifier}"," na {road}"],EndOfRoad:["Skr {modifier} na kocu drogi"," na {road}"],Onto:"na {road}"},formatOrder:function(r){return r+"."},ui:{startPlaceholder:"Pocztek",viaPlaceholder:"Przez {viaNumber}",endPlaceholder:"Koniec"},units:{meters:"m",kilometers:"km",yards:"yd",miles:"mi",hours:"godz",minutes:"min",seconds:"s"}}})})()},{}],58:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./osrm-v1");e.exports=r.extend({options:{serviceUrl:"https://api.mapbox.com/directions/v5",profile:"mapbox/driving",useHints:!1},initialize:function(o,s){n.Routing.OSRMv1.prototype.initialize.call(this,s),this.options.requestParameters=this.options.requestParameters||{},this.options.requestParameters.access_token=o}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./osrm-v1":59}],59:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("@mapbox/corslite"),o=a("@mapbox/polyline"),s=a("osrm-text-instructions")("v5"),u=a("./waypoint");e.exports=n.Class.extend({options:{serviceUrl:"https://router.project-osrm.org/route/v1",profile:"driving",timeout:30*1e3,routingOptions:{alternatives:!0,steps:!0},polylinePrecision:5,useHints:!0,suppressDemoServerWarning:!1,language:"en"},initialize:function(d){n.Util.setOptions(this,d),this._hints={locations:{}},!this.options.suppressDemoServerWarning&&this.options.serviceUrl.indexOf("//router.project-osrm.org")>=0&&console.warn(`You are using OSRM's demo server. Please note that it is **NOT SUITABLE FOR PRODUCTION USE**.
Refer to the demo server's usage policy: https://github.com/Project-OSRM/osrm-backend/wiki/Api-usage-policy

To change, set the serviceUrl option.

Please do not report issues with this server to neither Leaflet Routing Machine or OSRM - it's for
demo only, and will sometimes not be available, or work in unexpected ways.

Please set up your own OSRM server, or use a paid service provider for production.`)},route:function(d,g,x,b){var S=!1,P=[],I,O,H,Q,Y;for(b=n.extend({},this.options.routingOptions,b),I=this.buildRouteUrl(d,b),this.options.requestParameters&&(I+=n.Util.getParamString(this.options.requestParameters,I)),O=setTimeout(function(){S=!0,g.call(x||g,{status:-1,message:"OSRM request timed out."})},this.options.timeout),Q=0;Q<d.length;Q++)H=d[Q],P.push(new u(H.latLng,H.name,H.options));return Y=r(I,n.bind(function(Z,J){var re,q={};if(clearTimeout(O),S)Y.abort();else{if(Z)q.message="HTTP request failed: "+Z.type+(Z.target&&Z.target.status?" HTTP "+Z.target.status+": "+Z.target.statusText:""),q.url=I,q.status=-1,q.target=Z;else try{re=JSON.parse(J.responseText);try{return this._routeDone(re,P,b,g,x)}catch(ne){q.status=-3,q.message=ne.toString()}}catch(ne){q.status=-2,q.message="Error parsing OSRM response: "+ne.toString()}g.call(x||g,q)}},this))},requiresMoreDetail:function(d,g,x){if(!d.properties.isSimplified)return!1;var b=d.inputWaypoints,S;for(S=0;S<b.length;++S)if(!x.contains(b[S].latLng))return!0;return!1},_routeDone:function(d,g,x,b,S){var P=[],I,O,H;if(S=S||b,d.code!=="Ok"){b.call(S,{status:d.code});return}for(I=this._toWaypoints(g,d.waypoints),O=0;O<d.routes.length;O++)H=this._convertRoute(d.routes[O]),H.inputWaypoints=g,H.waypoints=I,H.properties={isSimplified:!x||!x.geometryOnly||x.simplifyGeometry},P.push(H);this._saveHintData(d.waypoints,g),b.call(S,null,P)},_convertRoute:function(d){var g={name:"",coordinates:[],instructions:[],summary:{totalDistance:d.distance,totalTime:d.duration}},x=[],b=[],S=0,P=d.legs.length,I=d.legs[0].steps.length>0,O,H,Q,Y,Z,J,re,q,ne;for(this.options.stepToText?ne=this.options.stepToText:ne=n.bind(s.compile,s,this.options.language),O=0;O<P;O++)for(Q=d.legs[O],x.push(Q.summary&&Q.summary.charAt(0).toUpperCase()+Q.summary.substring(1)),H=0;H<Q.steps.length;H++)Y=Q.steps[H],Z=this._decodePolyline(Y.geometry),g.coordinates.push.apply(g.coordinates,Z),J=this._maneuverToInstructionType(Y.maneuver,O===P-1),re=this._maneuverToModifier(Y.maneuver),q=ne(Y,{legCount:P,legIndex:O}),J&&((O==0&&Y.maneuver.type=="depart"||Y.maneuver.type=="arrive")&&b.push(S),g.instructions.push({type:J,distance:Y.distance,time:Y.duration,road:Y.name,direction:this._bearingToDirection(Y.maneuver.bearing_after),exit:Y.maneuver.exit,index:S,mode:Y.mode,modifier:re,text:q})),S+=Z.length;return g.name=x.join(", "),I?g.waypointIndices=b:g.coordinates=this._decodePolyline(d.geometry),g},_bearingToDirection:function(d){var g=Math.round(d/45)%8;return["N","NE","E","SE","S","SW","W","NW"][g]},_maneuverToInstructionType:function(d,g){switch(d.type){case"new name":return"Continue";case"depart":return"Head";case"arrive":return g?"DestinationReached":"WaypointReached";case"roundabout":case"rotary":return"Roundabout";case"merge":case"fork":case"on ramp":case"off ramp":case"end of road":return this._camelCase(d.type);default:return this._camelCase(d.modifier)}},_maneuverToModifier:function(d){var g=d.modifier;switch(d.type){case"merge":case"fork":case"on ramp":case"off ramp":case"end of road":g=this._leftOrRight(g)}return g&&this._camelCase(g)},_camelCase:function(d){for(var g=d.split(" "),x="",b=0,S=g.length;b<S;b++)x+=g[b].charAt(0).toUpperCase()+g[b].substring(1);return x},_leftOrRight:function(d){return d.indexOf("left")>=0?"Left":"Right"},_decodePolyline:function(d){var g=o.decode(d,this.options.polylinePrecision),x=new Array(g.length),b;for(b=g.length-1;b>=0;b--)x[b]=n.latLng(g[b]);return x},_toWaypoints:function(d,g){var x=[],b,S;for(b=0;b<g.length;b++)S=g[b].location,x.push(new u(n.latLng(S[1],S[0]),d[b].name,d[b].options));return x},buildRouteUrl:function(d,g){for(var x=[],b=[],S,P,I,O=!0,H=0;H<d.length;H++)S=d[H],P=S.latLng,x.push(P.lng+","+P.lat),b.push(this._hints.locations[this._locationKey(P)]||"");return I=!0,this.options.serviceUrl+"/"+this.options.profile+"/"+x.join(";")+"?"+(g.geometryOnly?g.simplifyGeometry?"":"overview=full":"overview=false")+"&alternatives="+O.toString()+"&steps="+I.toString()+(this.options.useHints?"&hints="+b.join(";"):"")+(g.allowUTurns?"&continue_straight="+!g.allowUTurns:"")},_locationKey:function(d){return d.lat+","+d.lng},_saveHintData:function(d,g){var x;this._hints={locations:{}};for(var b=d.length-1;b>=0;b--)x=g[b].latLng,this._hints.locations[this._locationKey(x)]=d[b].hint}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./waypoint":61,"@mapbox/corslite":1,"@mapbox/polyline":2,"osrm-text-instructions":3}],60:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null,r=a("./geocoder-element"),o=a("./waypoint");e.exports=(n.Layer||n.Class).extend({includes:typeof n.Evented<"u"&&n.Evented.prototype||n.Mixin.Events,options:{dragStyles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"red",opacity:1,weight:2,dashArray:"7,12"}],draggableWaypoints:!0,routeWhileDragging:!1,addWaypoints:!0,reverseWaypoints:!1,addButtonClassName:"",language:"en",createGeocoderElement:function(s,u,d,g){return new r(s,u,d,g)},createMarker:function(s,u){var d={draggable:this.draggableWaypoints},g=n.marker(u.latLng,d);return g},geocodersClassName:""},initialize:function(s,u){n.Util.setOptions(this,u),this._waypoints=[],this.setWaypoints(s)},isReady:function(){var s;for(s=0;s<this._waypoints.length;s++)if(!this._waypoints[s].latLng)return!1;return!0},getWaypoints:function(){var s,u=[];for(s=0;s<this._waypoints.length;s++)u.push(this._waypoints[s]);return u},setWaypoints:function(s){var u=[0,this._waypoints.length].concat(s);return this.spliceWaypoints.apply(this,u),this},spliceWaypoints:function(){var s=[arguments[0],arguments[1]],u;for(u=2;u<arguments.length;u++)s.push(arguments[u]&&arguments[u].hasOwnProperty("latLng")?arguments[u]:new o(arguments[u]));for([].splice.apply(this._waypoints,s);this._waypoints.length<2;)this.spliceWaypoints(this._waypoints.length,0,null);this._updateMarkers(),this._fireChanged.apply(this,s)},onAdd:function(s){this._map=s,this._updateMarkers()},onRemove:function(){var s;if(this._removeMarkers(),this._newWp)for(s=0;s<this._newWp.lines.length;s++)this._map.removeLayer(this._newWp.lines[s]);delete this._map},createGeocoders:function(){var s=n.DomUtil.create("div","leaflet-routing-geocoders "+this.options.geocodersClassName),u=this._waypoints,d,g;return this._geocoderContainer=s,this._geocoderElems=[],this.options.addWaypoints&&(d=n.DomUtil.create("button","leaflet-routing-add-waypoint "+this.options.addButtonClassName,s),d.setAttribute("type","button"),n.DomEvent.addListener(d,"click",function(){this.spliceWaypoints(u.length,0,null)},this)),this.options.reverseWaypoints&&(g=n.DomUtil.create("button","leaflet-routing-reverse-waypoints",s),g.setAttribute("type","button"),n.DomEvent.addListener(g,"click",function(){this._waypoints.reverse(),this.setWaypoints(this._waypoints)},this)),this._updateGeocoders(),this.on("waypointsspliced",this._updateGeocoders),s},_createGeocoder:function(s){var u=this.options.createGeocoderElement(this._waypoints[s],s,this._waypoints.length,this.options);return u.on("delete",function(){s>0||this._waypoints.length>2?this.spliceWaypoints(s,1):this.spliceWaypoints(s,1,new o)},this).on("geocoded",function(d){this._updateMarkers(),this._fireChanged(),this._focusGeocoder(s+1),this.fire("waypointgeocoded",{waypointIndex:s,waypoint:d.waypoint})},this).on("reversegeocoded",function(d){this.fire("waypointgeocoded",{waypointIndex:s,waypoint:d.waypoint})},this),u},_updateGeocoders:function(){var s=[],u,d;for(u=0;u<this._geocoderElems.length;u++)this._geocoderContainer.removeChild(this._geocoderElems[u].getContainer());for(u=this._waypoints.length-1;u>=0;u--)d=this._createGeocoder(u),this._geocoderContainer.insertBefore(d.getContainer(),this._geocoderContainer.firstChild),s.push(d);this._geocoderElems=s.reverse()},_removeMarkers:function(){var s;if(this._markers)for(s=0;s<this._markers.length;s++)this._markers[s]&&this._map.removeLayer(this._markers[s]);this._markers=[]},_updateMarkers:function(){var s,u;if(this._map)for(this._removeMarkers(),s=0;s<this._waypoints.length;s++)this._waypoints[s].latLng?(u=this.options.createMarker(s,this._waypoints[s],this._waypoints.length),u&&(u.addTo(this._map),this.options.draggableWaypoints&&this._hookWaypointEvents(u,s))):u=null,this._markers.push(u)},_fireChanged:function(){this.fire("waypointschanged",{waypoints:this.getWaypoints()}),arguments.length>=2&&this.fire("waypointsspliced",{index:Array.prototype.shift.call(arguments),nRemoved:Array.prototype.shift.call(arguments),added:arguments})},_hookWaypointEvents:function(s,u,d){var g=function(O){return d?O.latlng:O.target.getLatLng()},x=n.bind(function(O){this.fire("waypointdragstart",{index:u,latlng:g(O)})},this),b=n.bind(function(O){this._waypoints[u].latLng=g(O),this.fire("waypointdrag",{index:u,latlng:g(O)})},this),S=n.bind(function(O){this._waypoints[u].latLng=g(O),this._waypoints[u].name="",this._geocoderElems&&this._geocoderElems[u].update(!0),this.fire("waypointdragend",{index:u,latlng:g(O)}),this._fireChanged()},this),P,I;d?(P=n.bind(function(O){this._markers[u].setLatLng(O.latlng),b(O)},this),I=n.bind(function(O){this._map.dragging.enable(),this._map.off("mouseup",I),this._map.off("mousemove",P),S(O)},this),this._map.dragging.disable(),this._map.on("mousemove",P),this._map.on("mouseup",I),x({latlng:this._waypoints[u].latLng})):(s.on("dragstart",x),s.on("drag",b),s.on("dragend",S))},dragNewWaypoint:function(s){var u=s.afterIndex+1;this.options.routeWhileDragging?(this.spliceWaypoints(u,0,s.latlng),this._hookWaypointEvents(this._markers[u],u,!0)):this._dragNewWaypoint(u,s.latlng)},_dragNewWaypoint:function(s,u){var d=new o(u),g=this._waypoints[s-1],x=this._waypoints[s],b=this.options.createMarker(s,d,this._waypoints.length+1),S=[],P=this._map.dragging.enabled(),I=n.bind(function(Q){var Y,Z;for(b&&b.setLatLng(Q.latlng),Y=0;Y<S.length;Y++)Z=S[Y].getLatLngs(),Z.splice(1,1,Q.latlng),S[Y].setLatLngs(Z);n.DomEvent.stop(Q)},this),O=n.bind(function(Q){var Y;for(b&&this._map.removeLayer(b),Y=0;Y<S.length;Y++)this._map.removeLayer(S[Y]);this._map.off("mousemove",I),this._map.off("mouseup",O),this.spliceWaypoints(s,0,Q.latlng),P&&this._map.dragging.enable(),n.DomEvent.stop(Q)},this),H;for(b&&b.addTo(this._map),H=0;H<this.options.dragStyles.length;H++)S.push(n.polyline([g.latLng,u,x.latLng],this.options.dragStyles[H]).addTo(this._map));P&&this._map.dragging.disable(),this._map.on("mousemove",I),this._map.on("mouseup",O)},_focusGeocoder:function(s){this._geocoderElems[s]?this._geocoderElems[s].focus():document.activeElement.blur()}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./geocoder-element":52,"./waypoint":61}],61:[function(a,e,t){(function(i){(function(){var n=typeof window<"u"?window.L:typeof i<"u"?i.L:null;e.exports=n.Class.extend({options:{allowUTurn:!1},initialize:function(r,o,s){n.Util.setOptions(this,s),this.latLng=n.latLng(r),this.name=o}})})()}).call(this,typeof xr<"u"?xr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[53])),Ek}KN();var Bm={exports:{}},qN=Bm.exports,Tk;function ZN(){return Tk||(Tk=1,(function(a,e){(function(t,i){i(e)})(qN,function(t){var i=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(r){L.Util.setOptions(this,r),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(r){if(r instanceof L.LayerGroup)return this.addLayers([r]);if(!r.getLatLng)return this._nonPointGroup.addLayer(r),this.fire("layeradd",{layer:r}),this;if(!this._map)return this._needsClustering.push(r),this.fire("layeradd",{layer:r}),this;if(this.hasLayer(r))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(r,this._maxZoom),this.fire("layeradd",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=r,s=this._zoom;if(r.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(r,o):this._animationAddLayerNonAnimated(r,o)),this},removeLayer:function(r){return r instanceof L.LayerGroup?this.removeLayers([r]):r.getLatLng?this._map?r.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(r)),this._removeLayer(r,!0),this.fire("layerremove",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),r.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(r)&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,r)&&this.hasLayer(r)&&this._needsRemoving.push({layer:r,latlng:r._latlng}),this.fire("layerremove",{layer:r}),this):(this._nonPointGroup.removeLayer(r),this.fire("layerremove",{layer:r}),this)},addLayers:function(r,o){if(!L.Util.isArray(r))return this.addLayer(r);var s=this._featureGroup,u=this._nonPointGroup,d=this.options.chunkedLoading,g=this.options.chunkInterval,x=this.options.chunkProgress,b=r.length,S=0,P=!0,I;if(this._map){var O=new Date().getTime(),H=L.bind(function(){var Y=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<b;S++){if(d&&S%200===0){var Z=new Date().getTime()-Y;if(Z>g)break}if(I=r[S],I instanceof L.LayerGroup){P&&(r=r.slice(),P=!1),this._extractNonGroupLayers(I,r),b=r.length;continue}if(!I.getLatLng){u.addLayer(I),o||this.fire("layeradd",{layer:I});continue}if(!this.hasLayer(I)&&(this._addLayer(I,this._maxZoom),o||this.fire("layeradd",{layer:I}),I.__parent&&I.__parent.getChildCount()===2)){var J=I.__parent.getAllChildMarkers(),re=J[0]===I?J[1]:J[0];s.removeLayer(re)}}x&&x(S,b,new Date().getTime()-O),S===b?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(H,this.options.chunkDelay)},this);H()}else for(var Q=this._needsClustering;S<b;S++){if(I=r[S],I instanceof L.LayerGroup){P&&(r=r.slice(),P=!1),this._extractNonGroupLayers(I,r),b=r.length;continue}if(!I.getLatLng){u.addLayer(I);continue}this.hasLayer(I)||Q.push(I)}return this},removeLayers:function(r){var o,s,u=r.length,d=this._featureGroup,g=this._nonPointGroup,x=!0;if(!this._map){for(o=0;o<u;o++){if(s=r[o],s instanceof L.LayerGroup){x&&(r=r.slice(),x=!1),this._extractNonGroupLayers(s,r),u=r.length;continue}this._arraySplice(this._needsClustering,s),g.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var b=r.slice(),S=u;for(o=0;o<S;o++){if(s=b[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,b),S=b.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<u;o++){if(s=r[o],s instanceof L.LayerGroup){x&&(r=r.slice(),x=!1),this._extractNonGroupLayers(s,r),u=r.length;continue}if(!s.__parent){g.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),d.hasLayer(s)&&(d.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(r){r.off(this._childMarkerEventHandlers,this),delete r.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var r=new L.LatLngBounds;this._topClusterLevel&&r.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)r.extend(this._needsClustering[o].getLatLng());return r.extend(this._nonPointGroup.getBounds()),r},eachLayer:function(r,o){var s=this._needsClustering.slice(),u=this._needsRemoving,d,g,x;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),g=s.length-1;g>=0;g--){for(d=!0,x=u.length-1;x>=0;x--)if(u[x].layer===s[g]){d=!1;break}d&&r.call(o,s[g])}this._nonPointGroup.eachLayer(r,o)},getLayers:function(){var r=[];return this.eachLayer(function(o){r.push(o)}),r},getLayer:function(r){var o=null;return r=parseInt(r,10),this.eachLayer(function(s){L.stamp(s)===r&&(o=s)}),o},hasLayer:function(r){if(!r)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===r)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===r)return!1;return!!(r.__parent&&r.__parent._group===this)||this._nonPointGroup.hasLayer(r)},zoomToShowLayer:function(r,o){var s=this._map;typeof o!="function"&&(o=function(){});var u=function(){(s.hasLayer(r)||s.hasLayer(r.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",u,this),this.off("animationend",u,this),s.hasLayer(r)?o():r.__parent._icon&&(this.once("spiderfied",o,this),r.__parent.spiderfy()))};r._icon&&this._map.getBounds().contains(r.getLatLng())?o():r.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",u,this),this._map.panTo(r.getLatLng())):(this._map.on("moveend",u,this),this.on("animationend",u,this),r.__parent.zoomToBounds())},onAdd:function(r){this._map=r;var o,s,u;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(r),this._nonPointGroup.addTo(r),this._gridClusters||this._generateInitialClusters(),this._maxLat=r.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)u=this._needsRemoving[o],u.newlatlng=u.layer._latlng,u.layer._latlng=u.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)u=this._needsRemoving[o],this._removeLayer(u.layer,!0),u.layer._latlng=u.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(r){r.off("zoomend",this._zoomEnd,this),r.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(r){for(var o=r;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(r,o){for(var s=r.length-1;s>=0;s--)if(r[s]===o)return r.splice(s,1),!0},_removeFromGridUnclustered:function(r,o){for(var s=this._map,u=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());o>=d&&u[o].removeObject(r,s.project(r.getLatLng(),o));o--);},_childMarkerDragStart:function(r){r.target.__dragStart=r.target._latlng},_childMarkerMoved:function(r){if(!this._ignoreMove&&!r.target.__dragStart){var o=r.target._popup&&r.target._popup.isOpen();this._moveChild(r.target,r.oldLatLng,r.latlng),o&&r.target.openPopup()}},_moveChild:function(r,o,s){r._latlng=o,this.removeLayer(r),r._latlng=s,this.addLayer(r)},_childMarkerDragEnd:function(r){var o=r.target.__dragStart;delete r.target.__dragStart,o&&this._moveChild(r.target,o,r.target._latlng)},_removeLayer:function(r,o,s){var u=this._gridClusters,d=this._gridUnclustered,g=this._featureGroup,x=this._map,b=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(r,this._maxZoom);var S=r.__parent,P=S._markers,I;for(this._arraySplice(P,r);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<b));)o&&S._childCount<=1?(I=S._markers[0]===r?S._markers[1]:S._markers[0],u[S._zoom].removeObject(S,x.project(S._cLatLng,S._zoom)),d[S._zoom].addObject(I,x.project(I.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(I),I.__parent=S.__parent,S._icon&&(g.removeLayer(S),s||g.addLayer(I))):S._iconNeedsUpdate=!0,S=S.__parent;delete r.__parent},_isOrIsParent:function(r,o){for(;o;){if(r===o)return!0;o=o.parentNode}return!1},fire:function(r,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;r="cluster"+r}L.FeatureGroup.prototype.fire.call(this,r,o,s)},listens:function(r,o){return L.FeatureGroup.prototype.listens.call(this,r,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+r,o)},_defaultIconCreateFunction:function(r){var o=r.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var r=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(o||u||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),r.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(r){var o=r.layer,s=o;if(!(r.type==="clusterkeypress"&&r.originalEvent&&r.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),r.originalEvent&&r.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(r){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),r.layer.getChildCount()>2&&r.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(r.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var r=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,u=this.options.spiderfyOnEveryZoom,d=this._map;(r||s||u)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var r=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,r),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),r),this._currentShownBounds=r}},_generateInitialClusters:function(){var r=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,u=s;typeof s!="function"&&(u=function(){return s}),this.options.disableClusteringAtZoom!==null&&(r=this.options.disableClusteringAtZoom-1),this._maxZoom=r,this._gridClusters={},this._gridUnclustered={};for(var d=r;d>=o;d--)this._gridClusters[d]=new L.DistanceGrid(u(d)),this._gridUnclustered[d]=new L.DistanceGrid(u(d));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(r,o){var s=this._gridClusters,u=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),g,x;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(r),r.on(this._childMarkerEventHandlers,this);o>=d;o--){g=this._map.project(r.getLatLng(),o);var b=s[o].getNearObject(g);if(b){b._addChild(r),r.__parent=b;return}if(b=u[o].getNearObject(g),b){var S=b.__parent;S&&this._removeLayer(b,!1);var P=new this._markerCluster(this,o,b,r);s[o].addObject(P,this._map.project(P._cLatLng,o)),b.__parent=P,r.__parent=P;var I=P;for(x=o-1;x>S._zoom;x--)I=new this._markerCluster(this,x,I),s[x].addObject(I,this._map.project(b.getLatLng(),x));S._addChild(I),this._removeFromGridUnclustered(b,o);return}u[o].addObject(r,g)}this._topClusterLevel._addChild(r),r.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(r){r instanceof L.MarkerCluster&&r._iconNeedsUpdate&&r._updateIcon()})},_enqueue:function(r){this._queue.push(r),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var r=0;r<this._queue.length;r++)this._queue[r].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var r=Math.round(this._map._zoom);this._processQueue(),this._zoom<r&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,r)):this._zoom>r?(this._animationStart(),this._animationZoomOut(this._zoom,r)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(r){var o=this._maxLat;return o!==void 0&&(r.getNorth()>=o&&(r._northEast.lat=1/0),r.getSouth()<=-o&&(r._southWest.lat=-1/0)),r},_animationAddLayerNonAnimated:function(r,o){if(o===r)this._featureGroup.addLayer(r);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(r,o){var s=r.getLayers(),u=0,d;for(o=o||[];u<s.length;u++){if(d=s[u],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,o);continue}o.push(d)}return o},_overrideMarkerIcon:function(r){var o=r.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[r]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(r,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(r,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(r,o){this._animationAddLayerNonAnimated(r,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(r,o){var s=this._getExpandedVisibleBounds(),u=this._featureGroup,d=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(s,r,d,function(x){var b=x._latlng,S=x._markers,P;for(s.contains(b)||(b=null),x._isSingleParent()&&r+1===o?(u.removeLayer(x),x._recursivelyAddChildrenToMap(null,o,s)):(x.clusterHide(),x._recursivelyAddChildrenToMap(b,o,s)),g=S.length-1;g>=0;g--)P=S[g],s.contains(P._latlng)||u.removeLayer(P)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),u.eachLayer(function(x){!(x instanceof L.MarkerCluster)&&x._icon&&x.clusterShow()}),this._topClusterLevel._recursively(s,r,o,function(x){x._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,r,d,function(x){u.removeLayer(x),x.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(r,o){this._animationZoomOutSingle(this._topClusterLevel,r-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r,this._getExpandedVisibleBounds())},_animationAddLayer:function(r,o){var s=this,u=this._featureGroup;u.addLayer(r),o!==r&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),r._setPos(this._map.latLngToLayerPoint(o.getLatLng())),r.clusterHide(),this._enqueue(function(){u.removeLayer(r),r.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(r,o,s){var u=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());r._recursivelyAnimateChildrenInAndAddSelfToMap(u,d,o+1,s);var g=this;this._forceLayout(),r._recursivelyBecomeVisible(u,s),this._enqueue(function(){if(r._childCount===1){var x=r._markers[0];this._ignoreMove=!0,x.setLatLng(x.getLatLng()),this._ignoreMove=!1,x.clusterShow&&x.clusterShow()}else r._recursively(u,s,d,function(b){b._recursivelyRemoveChildrenFromMap(u,d,o+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(r){return new L.MarkerClusterGroup(r)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(r,o,s,u){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:r.options.clusterPane}),this._group=r,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),u&&this._addChild(u)},getAllChildMarkers:function(r,o){r=r||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(r,o);for(var u=this._markers.length-1;u>=0;u--)o&&this._markers[u].__dragStart||r.push(this._markers[u]);return r},getChildCount:function(){return this._childCount},zoomToBounds:function(r){for(var o=this._childClusters.slice(),s=this._group._map,u=s.getBoundsZoom(this._bounds),d=this._zoom+1,g=s.getZoom(),x;o.length>0&&u>d;){d++;var b=[];for(x=0;x<o.length;x++)b=b.concat(o[x]._childClusters);o=b}u>d?this._group._map.setView(this._latlng,d):u<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,r)},getBounds:function(){var r=new L.LatLngBounds;return r.extend(this._bounds),r},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(r,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(r),r instanceof L.MarkerCluster?(o||(this._childClusters.push(r),r.__parent=this),this._childCount+=r._childCount):(o||this._markers.push(r),this._childCount++),this.__parent&&this.__parent._addChild(r,!0)},_setClusterCenter:function(r){this._cLatLng||(this._cLatLng=r._cLatLng||r._latlng)},_resetBounds:function(){var r=this._bounds;r._southWest&&(r._southWest.lat=1/0,r._southWest.lng=1/0),r._northEast&&(r._northEast.lat=-1/0,r._northEast.lng=-1/0)},_recalculateBounds:function(){var r=this._markers,o=this._childClusters,s=0,u=0,d=this._childCount,g,x,b,S;if(d!==0){for(this._resetBounds(),g=0;g<r.length;g++)b=r[g]._latlng,this._bounds.extend(b),s+=b.lat,u+=b.lng;for(g=0;g<o.length;g++)x=o[g],x._boundsNeedUpdate&&x._recalculateBounds(),this._bounds.extend(x._bounds),b=x._wLatLng,S=x._childCount,s+=b.lat*S,u+=b.lng*S;this._latlng=this._wLatLng=new L.LatLng(s/d,u/d),this._boundsNeedUpdate=!1}},_addToMap:function(r){r&&(this._backupLatlng=this._latlng,this.setLatLng(r)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(r,o,s){this._recursively(r,this._group._map.getMinZoom(),s-1,function(u){var d=u._markers,g,x;for(g=d.length-1;g>=0;g--)x=d[g],x._icon&&(x._setPos(o),x.clusterHide())},function(u){var d=u._childClusters,g,x;for(g=d.length-1;g>=0;g--)x=d[g],x._icon&&(x._setPos(o),x.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(r,o,s,u){this._recursively(r,u,o,function(d){d._recursivelyAnimateChildrenIn(r,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),s),d._isSingleParent()&&s-1===u?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(r,o,s)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(r,o){this._recursively(r,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(r,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(u){if(o!==u._zoom)for(var d=u._markers.length-1;d>=0;d--){var g=u._markers[d];s.contains(g._latlng)&&(r&&(g._backupLatlng=g.getLatLng(),g.setLatLng(r),g.clusterHide&&g.clusterHide()),u._group._featureGroup.addLayer(g))}},function(u){u._addToMap(r)})},_recursivelyRestoreChildPositions:function(r){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(r-1===this._zoom)for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(r)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(r,o,s,u){var d,g;this._recursively(r,o-1,s-1,function(x){for(g=x._markers.length-1;g>=0;g--)d=x._markers[g],(!u||!u.contains(d._latlng))&&(x._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(x){for(g=x._childClusters.length-1;g>=0;g--)d=x._childClusters[g],(!u||!u.contains(d._latlng))&&(x._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(r,o,s,u,d){var g=this._childClusters,x=this._zoom,b,S;if(o<=x&&(u&&u(this),d&&x===s&&d(this)),x<o||x<s)for(b=g.length-1;b>=0;b--)S=g[b],S._boundsNeedUpdate&&S._recalculateBounds(),r.intersects(S._bounds)&&S._recursively(r,o,s,u,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var r=this.options.opacity;return this.setOpacity(0),this.options.opacity=r,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(r){this._cellSize=r,this._sqCellSize=r*r,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(r,o){var s=this._getCoord(o.x),u=this._getCoord(o.y),d=this._grid,g=d[u]=d[u]||{},x=g[s]=g[s]||[],b=L.Util.stamp(r);this._objectPoint[b]=o,x.push(r)},updateObject:function(r,o){this.removeObject(r),this.addObject(r,o)},removeObject:function(r,o){var s=this._getCoord(o.x),u=this._getCoord(o.y),d=this._grid,g=d[u]=d[u]||{},x=g[s]=g[s]||[],b,S;for(delete this._objectPoint[L.Util.stamp(r)],b=0,S=x.length;b<S;b++)if(x[b]===r)return x.splice(b,1),S===1&&delete g[s],!0},eachObject:function(r,o){var s,u,d,g,x,b,S,P=this._grid;for(s in P){x=P[s];for(u in x)for(b=x[u],d=0,g=b.length;d<g;d++)S=r.call(o,b[d]),S&&(d--,g--)}},getNearObject:function(r){var o=this._getCoord(r.x),s=this._getCoord(r.y),u,d,g,x,b,S,P,I,O=this._objectPoint,H=this._sqCellSize,Q=null;for(u=s-1;u<=s+1;u++)if(x=this._grid[u],x){for(d=o-1;d<=o+1;d++)if(b=x[d],b)for(g=0,S=b.length;g<S;g++)P=b[g],I=this._sqDist(O[L.Util.stamp(P)],r),(I<H||I<=H&&Q===null)&&(H=I,Q=P)}return Q},_getCoord:function(r){var o=Math.floor(r/this._cellSize);return isFinite(o)?o:r},_sqDist:function(r,o){var s=o.x-r.x,u=o.y-r.y;return s*s+u*u}},(function(){L.QuickHull={getDistant:function(r,o){var s=o[1].lat-o[0].lat,u=o[0].lng-o[1].lng;return u*(r.lat-o[0].lat)+s*(r.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(r,o){var s=0,u=null,d=[],g,x,b;for(g=o.length-1;g>=0;g--){if(x=o[g],b=this.getDistant(x,r),b>0)d.push(x);else continue;b>s&&(s=b,u=x)}return{maxPoint:u,newPoints:d}},buildConvexHull:function(r,o){var s=[],u=this.findMostDistantPointFromBaseLine(r,o);return u.maxPoint?(s=s.concat(this.buildConvexHull([r[0],u.maxPoint],u.newPoints)),s=s.concat(this.buildConvexHull([u.maxPoint,r[1]],u.newPoints)),s):[r[0]]},getConvexHull:function(r){var o=!1,s=!1,u=!1,d=!1,g=null,x=null,b=null,S=null,P=null,I=null,O;for(O=r.length-1;O>=0;O--){var H=r[O];(o===!1||H.lat>o)&&(g=H,o=H.lat),(s===!1||H.lat<s)&&(x=H,s=H.lat),(u===!1||H.lng>u)&&(b=H,u=H.lng),(d===!1||H.lng<d)&&(S=H,d=H.lng)}s!==o?(I=x,P=g):(I=S,P=b);var Q=[].concat(this.buildConvexHull([I,P],r),this.buildConvexHull([P,I],r));return Q}}})(),L.MarkerCluster.include({getConvexHull:function(){var r=this.getAllChildMarkers(),o=[],s,u;for(u=r.length-1;u>=0;u--)s=r[u].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var r=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,u=s.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(r.length,u):r.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(r.length,u):(u.y+=10,d=this._generatePointsCircle(r.length,u)),this._animationSpiderfy(r,d)}},unspiderfy:function(r){this._group._inZoomAnimation||(this._animationUnspiderfy(r),this._group._spiderfied=null)},_generatePointsCircle:function(r,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+r),u=s/this._2PI,d=this._2PI/r,g=[],x,b;for(u=Math.max(u,35),g.length=r,x=0;x<r;x++)b=this._circleStartAngle+x*d,g[x]=new L.Point(o.x+u*Math.cos(b),o.y+u*Math.sin(b))._round();return g},_generatePointsSpiral:function(r,o){var s=this._group.options.spiderfyDistanceMultiplier,u=s*this._spiralLengthStart,d=s*this._spiralFootSeparation,g=s*this._spiralLengthFactor*this._2PI,x=0,b=[],S;for(b.length=r,S=r;S>=0;S--)S<r&&(b[S]=new L.Point(o.x+u*Math.cos(x),o.y+u*Math.sin(x))._round()),x+=d/u+S*5e-4,u+=g/x;return b},_noanimationUnspiderfy:function(){var r=this._group,o=r._map,s=r._featureGroup,u=this.getAllChildMarkers(null,!0),d,g;for(r._ignoreMove=!0,this.setOpacity(1),g=u.length-1;g>=0;g--)d=u[g],s.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(o.removeLayer(d._spiderLeg),delete d._spiderLeg);r.fire("unspiderfied",{cluster:this,markers:u}),r._ignoreMove=!1,r._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(r,o){var s=this._group,u=s._map,d=s._featureGroup,g=this._group.options.spiderLegPolylineOptions,x,b,S,P;for(s._ignoreMove=!0,x=0;x<r.length;x++)P=u.layerPointToLatLng(o[x]),b=r[x],S=new L.Polyline([this._latlng,P],g),u.addLayer(S),b._spiderLeg=S,b._preSpiderfyLatlng=b._latlng,b.setLatLng(P),b.setZIndexOffset&&b.setZIndexOffset(1e6),d.addLayer(b);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:r})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(r,o){var s=this,u=this._group,d=u._map,g=u._featureGroup,x=this._latlng,b=d.latLngToLayerPoint(x),S=L.Path.SVG,P=L.extend({},this._group.options.spiderLegPolylineOptions),I=P.opacity,O,H,Q,Y,Z,J;for(I===void 0&&(I=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),S?(P.opacity=0,P.className=(P.className||"")+" leaflet-cluster-spider-leg"):P.opacity=I,u._ignoreMove=!0,O=0;O<r.length;O++)H=r[O],J=d.layerPointToLatLng(o[O]),Q=new L.Polyline([x,J],P),d.addLayer(Q),H._spiderLeg=Q,S&&(Y=Q._path,Z=Y.getTotalLength()+.1,Y.style.strokeDasharray=Z,Y.style.strokeDashoffset=Z),H.setZIndexOffset&&H.setZIndexOffset(1e6),H.clusterHide&&H.clusterHide(),g.addLayer(H),H._setPos&&H._setPos(b);for(u._forceLayout(),u._animationStart(),O=r.length-1;O>=0;O--)J=d.layerPointToLatLng(o[O]),H=r[O],H._preSpiderfyLatlng=H._latlng,H.setLatLng(J),H.clusterShow&&H.clusterShow(),S&&(Q=H._spiderLeg,Y=Q._path,Y.style.strokeDashoffset=0,Q.setStyle({opacity:I}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout(function(){u._animationEnd(),u.fire("spiderfied",{cluster:s,markers:r})},200)},_animationUnspiderfy:function(r){var o=this,s=this._group,u=s._map,d=s._featureGroup,g=r?u._latLngToNewLayerPoint(this._latlng,r.zoom,r.center):u.latLngToLayerPoint(this._latlng),x=this.getAllChildMarkers(null,!0),b=L.Path.SVG,S,P,I,O,H,Q;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),P=x.length-1;P>=0;P--)S=x[P],S._preSpiderfyLatlng&&(S.closePopup(),S.setLatLng(S._preSpiderfyLatlng),delete S._preSpiderfyLatlng,Q=!0,S._setPos&&(S._setPos(g),Q=!1),S.clusterHide&&(S.clusterHide(),Q=!1),Q&&d.removeLayer(S),b&&(I=S._spiderLeg,O=I._path,H=O.getTotalLength()+.1,O.style.strokeDashoffset=H,I.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var Y=0;for(P=x.length-1;P>=0;P--)S=x[P],S._spiderLeg&&Y++;for(P=x.length-1;P>=0;P--)S=x[P],S._spiderLeg&&(S.clusterShow&&S.clusterShow(),S.setZIndexOffset&&S.setZIndexOffset(0),Y>1&&d.removeLayer(S),u.removeLayer(S._spiderLeg),delete S._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:x})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(r){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(r))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(r){this._spiderfied&&this._spiderfied.unspiderfy(r)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(r){r._spiderLeg&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow(),r.setZIndexOffset&&r.setZIndexOffset(0),this._map.removeLayer(r._spiderLeg),delete r._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(r){return r?r instanceof L.MarkerClusterGroup?r=r._topClusterLevel.getAllChildMarkers():r instanceof L.LayerGroup?r=r._layers:r instanceof L.MarkerCluster?r=r.getAllChildMarkers():r instanceof L.Marker&&(r=[r]):r=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(r),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(r),this},_flagParentsIconsNeedUpdate:function(r){var o,s;for(o in r)for(s=r[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(r){var o,s;for(o in r)s=r[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(r,o){var s=this.options.icon;return L.setOptions(s,r),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=i,t.MarkerCluster=n,Object.defineProperty(t,"__esModule",{value:!0})})})(Bm,Bm.exports)),Bm.exports}ZN();function Jh(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function LF(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.__proto__=e}var kc={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},cg={duration:.5,overwrite:!1,delay:0},IS,Wo,ys,Zc=1e8,$r=1/Zc,D1=Math.PI*2,JN=D1/4,ez=0,FF=Math.sqrt,tz=Math.cos,iz=Math.sin,Fo=function(e){return typeof e=="string"},Us=function(e){return typeof e=="function"},Ad=function(e){return typeof e=="number"},MS=function(e){return typeof e>"u"},gh=function(e){return typeof e=="object"},Zl=function(e){return e!==!1},LS=function(){return typeof window<"u"},Vy=function(e){return Us(e)||Fo(e)},PF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},dl=Array.isArray,nz=/random\([^)]+\)/g,az=/,\s*/g,Ik=/(?:-?\.?\d|\.)+/gi,DF=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Hp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Vw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,RF=/[+-]=-?[.\d]+/,rz=/[^,'"\[\]\s]+/gi,sz=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Es,lh,R1,FS,Ic={},__={},OF,UF=function(e){return(__=ug(e,Ic))&&ic},PS=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},y0=function(e,t){return!t&&console.warn(e)},NF=function(e,t){return e&&(Ic[e]=t)&&__&&(__[e]=t)||Ic},x0=function(){return 0},oz={suppressEvents:!0,isStart:!0,kill:!1},Wx={suppressEvents:!0,kill:!1},lz={suppressEvents:!0},DS={},Yd=[],O1={},zF,wc={},Gw={},Mk=30,$x=[],RS="",OS=function(e){var t=e[0],i,n;if(gh(t)||Us(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=$x.length;n--&&!$x[n].targetTest(t););i=$x[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new uP(e[n],i)))||e.splice(n,1);return e},gA=function(e){return e._gsap||OS(Jc(e))[0]._gsap},HF=function(e,t,i){return(i=e[t])&&Us(i)?e[t]():MS(i)&&e.getAttribute&&e.getAttribute(t)||i},Jl=function(e,t){return(e=e.split(",")).forEach(t)||e},qs=function(e){return Math.round(e*1e5)/1e5||0},Bs=function(e){return Math.round(e*1e7)/1e7||0},Jp=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},cz=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},v_=function(){var e=Yd.length,t=Yd.slice(0),i,n;for(O1={},Yd.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},US=function(e){return!!(e._initted||e._startAt||e.add)},QF=function(e,t,i,n){Yd.length&&!Wo&&v_(),e.render(t,i,!!(Wo&&t<0&&US(e))),Yd.length&&!Wo&&v_()},jF=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(rz).length<2?t:Fo(e)?e.trim():e},VF=function(e){return e},Mc=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},uz=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},ug=function(e,t){for(var i in t)e[i]=t[i];return e},Lk=function a(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=gh(t[i])?a(e[i]||(e[i]={}),t[i]):t[i]);return e},w_=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},$m=function(e){var t=e.parent||Es,i=e.keyframes?uz(dl(e.keyframes)):Mc;if(Zl(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},hz=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},GF=function(e,t,i,n,r){var o=e[n],s;if(r)for(s=t[r];o&&o[r]>s;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e,t},uv=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=t._prev,o=t._next;r?r._next=o:e[i]===t&&(e[i]=o),o?o._prev=r:e[n]===t&&(e[n]=r),t._next=t._prev=t.parent=null},nf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},mA=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},dz=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},U1=function(e,t,i,n){return e._startAt&&(Wo?e._startAt.revert(Wx):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},fz=function a(e){return!e||e._ts&&a(e.parent)},Fk=function(e){return e._repeat?hg(e._tTime,e=e.duration()+e._rDelay)*e:0},hg=function(e,t){var i=Math.floor(e=Bs(e/t));return e&&i===e?i-1:i},b_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},hv=function(e){return e._end=Bs(e._start+(e._tDur/Math.abs(e._ts||e._rts||$r)||0))},dv=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Bs(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),hv(e),i._dirty||mA(i,e)),e},WF=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=b_(e.rawTime(),t),(!t._dur||Y0(0,t.totalDuration(),i)-t._tTime>$r)&&t.render(i,!0)),mA(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-$r}},hh=function(e,t,i,n){return t.parent&&nf(t),t._start=Bs((Ad(i)?i:i||e!==Es?Wc(e,i,t):e._time)+t._delay),t._end=Bs(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),GF(e,t,"_first","_last",e._sort?"_start":0),N1(t)||(e._recent=t),n||WF(e,t),e._ts<0&&dv(e,e._tTime),e},$F=function(e,t){return(Ic.ScrollTrigger||PS("scrollTrigger",t))&&Ic.ScrollTrigger.create(t,e)},XF=function(e,t,i,n,r){if(zS(e,t,r),!e._initted)return 1;if(!i&&e._pt&&!Wo&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&zF!==Cc.frame)return Yd.push(e),e._lazy=[r,n],1},Az=function a(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||a(t))},N1=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},pz=function(e,t,i,n){var r=e.ratio,o=t<0||!t&&(!e._start&&Az(e)&&!(!e._initted&&N1(e))||(e._ts<0||e._dp._ts<0)&&!N1(e))?0:1,s=e._rDelay,u=0,d,g,x;if(s&&e._repeat&&(u=Y0(0,e._tDur,t),g=hg(u,s),e._yoyo&&g&1&&(o=1-o),g!==hg(e._tTime,s)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||Wo||n||e._zTime===$r||!t&&e._zTime){if(!e._initted&&XF(e,t,n,i,u))return;for(x=e._zTime,e._zTime=t||(i?$r:0),i||(i=t&&!x),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,d=e._pt;d;)d.r(o,d.d),d=d._next;t<0&&U1(e,t,i,!0),e._onUpdate&&!i&&Bc(e,"onUpdate"),u&&e._repeat&&!i&&e.parent&&Bc(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&nf(e,1),!i&&!Wo&&(Bc(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},gz=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},dg=function(e,t,i,n){var r=e._repeat,o=Bs(t)||0,s=e._tTime/e._tDur;return s&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:Bs(o*(r+1)+e._rDelay*r):o,s>0&&!n&&dv(e,e._tTime=e._tDur*s),e.parent&&hv(e),i||mA(e.parent,e),e},Pk=function(e){return e instanceof kl?mA(e):dg(e,e._dur)},mz={_start:0,endTime:x0,totalDuration:x0},Wc=function a(e,t,i){var n=e.labels,r=e._recent||mz,o=e.duration()>=Zc?r.endTime(!1):e._dur,s,u,d;return Fo(t)&&(isNaN(t)||t in n)?(u=t.charAt(0),d=t.substr(-1)==="%",s=t.indexOf("="),u==="<"||u===">"?(s>=0&&(t=t.replace(/=/,"")),(u==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(d?(s<0?r:i).totalDuration()/100:1)):s<0?(t in n||(n[t]=o),n[t]):(u=parseFloat(t.charAt(s-1)+t.substr(s+1)),d&&i&&(u=u/100*(dl(i)?i[0]:i).totalDuration()),s>1?a(e,t.substr(0,s-1),i)+u:o+u)):t==null?o:+t},Xm=function(e,t,i){var n=Ad(t[1]),r=(n?2:1)+(e<2?0:1),o=t[r],s,u;if(n&&(o.duration=t[1]),o.parent=i,e){for(s=o,u=i;u&&!("immediateRender"in s);)s=u.vars.defaults||{},u=Zl(u.vars.inherit)&&u.parent;o.immediateRender=Zl(s.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new co(t[0],o,t[r+1])},Af=function(e,t){return e||e===0?t(e):t},Y0=function(e,t,i){return i<e?e:i>t?t:i},cl=function(e,t){return!Fo(e)||!(t=sz.exec(e))?"":t[1]},yz=function(e,t,i){return Af(i,function(n){return Y0(e,t,n)})},z1=[].slice,YF=function(e,t){return e&&gh(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&gh(e[0]))&&!e.nodeType&&e!==lh},xz=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var r;return Fo(n)&&!t||YF(n,1)?(r=i).push.apply(r,Jc(n)):i.push(n)})||i},Jc=function(e,t,i){return ys&&!t&&ys.selector?ys.selector(e):Fo(e)&&!i&&(R1||!fg())?z1.call((t||FS).querySelectorAll(e),0):dl(e)?xz(e,i):YF(e)?z1.call(e,0):e?[e]:[]},H1=function(e){return e=Jc(e)[0]||y0("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Jc(t,i.querySelectorAll?i:i===e?y0("Invalid scope")||FS.createElement("div"):e)}},KF=function(e){return e.sort(function(){return .5-Math.random()})},qF=function(e){if(Us(e))return e;var t=gh(e)?e:{each:e},i=yA(t.ease),n=t.from||0,r=parseFloat(t.base)||0,o={},s=n>0&&n<1,u=isNaN(n)||s,d=t.axis,g=n,x=n;return Fo(n)?g=x={center:.5,edges:.5,end:1}[n]||0:!s&&u&&(g=n[0],x=n[1]),function(b,S,P){var I=(P||t).length,O=o[I],H,Q,Y,Z,J,re,q,ne,te;if(!O){if(te=t.grid==="auto"?0:(t.grid||[1,Zc])[1],!te){for(q=-Zc;q<(q=P[te++].getBoundingClientRect().left)&&te<I;);te<I&&te--}for(O=o[I]=[],H=u?Math.min(te,I)*g-.5:n%te,Q=te===Zc?0:u?I*x/te-.5:n/te|0,q=0,ne=Zc,re=0;re<I;re++)Y=re%te-H,Z=Q-(re/te|0),O[re]=J=d?Math.abs(d==="y"?Z:Y):FF(Y*Y+Z*Z),J>q&&(q=J),J<ne&&(ne=J);n==="random"&&KF(O),O.max=q-ne,O.min=ne,O.v=I=(parseFloat(t.amount)||parseFloat(t.each)*(te>I?I-1:d?d==="y"?I/te:te:Math.max(te,I/te))||0)*(n==="edges"?-1:1),O.b=I<0?r-I:r,O.u=cl(t.amount||t.each)||0,i=i&&I<0?oP(i):i}return I=(O[b]-O.min)/O.max||0,Bs(O.b+(i?i(I):I)*O.v)+O.u}},Q1=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=Bs(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(Ad(i)?0:cl(i))}},ZF=function(e,t){var i=dl(e),n,r;return!i&&gh(e)&&(n=i=e.radius||Zc,e.values?(e=Jc(e.values),(r=!Ad(e[0]))&&(n*=n)):e=Q1(e.increment)),Af(t,i?Us(e)?function(o){return r=e(o),Math.abs(r-o)<=n?r:o}:function(o){for(var s=parseFloat(r?o.x:o),u=parseFloat(r?o.y:0),d=Zc,g=0,x=e.length,b,S;x--;)r?(b=e[x].x-s,S=e[x].y-u,b=b*b+S*S):b=Math.abs(e[x]-s),b<d&&(d=b,g=x);return g=!n||d<=n?e[g]:o,r||g===o||Ad(o)?g:g+cl(o)}:Q1(e))},JF=function(e,t,i,n){return Af(dl(e)?!t:i===!0?!!(i=0):!n,function(){return dl(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},_z=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(r,o){return o(r)},n)}},vz=function(e,t){return function(i){return e(parseFloat(i))+(t||cl(i))}},wz=function(e,t,i){return tP(e,t,0,1,i)},eP=function(e,t,i){return Af(i,function(n){return e[~~t(n)]})},bz=function a(e,t,i){var n=t-e;return dl(e)?eP(e,a(0,e.length),t):Af(i,function(r){return(n+(r-e)%n)%n+e})},Cz=function a(e,t,i){var n=t-e,r=n*2;return dl(e)?eP(e,a(0,e.length-1),t):Af(i,function(o){return o=(r+(o-e)%r)%r||0,e+(o>n?r-o:o)})},_0=function(e){return e.replace(nz,function(t){var i=t.indexOf("[")+1,n=t.substring(i||7,i?t.indexOf("]"):t.length-1).split(az);return JF(i?n:+n[0],i?0:+n[1],+n[2]||1e-5)})},tP=function(e,t,i,n,r){var o=t-e,s=n-i;return Af(r,function(u){return i+((u-e)/o*s||0)})},Sz=function a(e,t,i,n){var r=isNaN(e+t)?0:function(S){return(1-S)*e+S*t};if(!r){var o=Fo(e),s={},u,d,g,x,b;if(i===!0&&(n=1)&&(i=null),o)e={p:e},t={p:t};else if(dl(e)&&!dl(t)){for(g=[],x=e.length,b=x-2,d=1;d<x;d++)g.push(a(e[d-1],e[d]));x--,r=function(P){P*=x;var I=Math.min(b,~~P);return g[I](P-I)},i=t}else n||(e=ug(dl(e)?[]:{},e));if(!g){for(u in t)NS.call(s,e,u,"get",t[u]);r=function(P){return jS(P,s)||(o?e.p:e)}}}return Af(i,r)},Dk=function(e,t,i){var n=e.labels,r=Zc,o,s,u;for(o in n)s=n[o]-t,s<0==!!i&&s&&r>(s=Math.abs(s))&&(u=o,r=s);return u},Bc=function(e,t,i){var n=e.vars,r=n[t],o=ys,s=e._ctx,u,d,g;if(r)return u=n[t+"Params"],d=n.callbackScope||e,i&&Yd.length&&v_(),s&&(ys=s),g=u?r.apply(d,u):r.call(d),ys=o,g},Em=function(e){return nf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Wo),e.progress()<1&&Bc(e,"onInterrupt"),e},Qp,iP=[],nP=function(e){if(e)if(e=!e.name&&e.default||e,LS()||e.headless){var t=e.name,i=Us(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:x0,render:jS,add:NS,kill:Hz,modifier:zz,rawVars:0},o={targetTest:0,get:0,getSetter:QS,aliases:{},register:0};if(fg(),e!==n){if(wc[t])return;Mc(n,Mc(w_(e,r),o)),ug(n.prototype,ug(r,w_(e,o))),wc[n.prop=t]=n,e.targetTest&&($x.push(n),DS[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}NF(t,n),e.register&&e.register(ic,n,ec)}else iP.push(e)},Wr=255,km={aqua:[0,Wr,Wr],lime:[0,Wr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Wr],navy:[0,0,128],white:[Wr,Wr,Wr],olive:[128,128,0],yellow:[Wr,Wr,0],orange:[Wr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Wr,0,0],pink:[Wr,192,203],cyan:[0,Wr,Wr],transparent:[Wr,Wr,Wr,0]},Ww=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Wr+.5|0},aP=function(e,t,i){var n=e?Ad(e)?[e>>16,e>>8&Wr,e&Wr]:0:km.black,r,o,s,u,d,g,x,b,S,P;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),km[e])n=km[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),s=e.charAt(3),e="#"+r+r+o+o+s+s+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&Wr,n&Wr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&Wr,e&Wr]}else if(e.substr(0,3)==="hsl"){if(n=P=e.match(Ik),!t)u=+n[0]%360/360,d=+n[1]/100,g=+n[2]/100,o=g<=.5?g*(d+1):g+d-g*d,r=g*2-o,n.length>3&&(n[3]*=1),n[0]=Ww(u+1/3,r,o),n[1]=Ww(u,r,o),n[2]=Ww(u-1/3,r,o);else if(~e.indexOf("="))return n=e.match(DF),i&&n.length<4&&(n[3]=1),n}else n=e.match(Ik)||km.transparent;n=n.map(Number)}return t&&!P&&(r=n[0]/Wr,o=n[1]/Wr,s=n[2]/Wr,x=Math.max(r,o,s),b=Math.min(r,o,s),g=(x+b)/2,x===b?u=d=0:(S=x-b,d=g>.5?S/(2-x-b):S/(x+b),u=x===r?(o-s)/S+(o<s?6:0):x===o?(s-r)/S+2:(r-o)/S+4,u*=60),n[0]=~~(u+.5),n[1]=~~(d*100+.5),n[2]=~~(g*100+.5)),i&&n.length<4&&(n[3]=1),n},rP=function(e){var t=[],i=[],n=-1;return e.split(Kd).forEach(function(r){var o=r.match(Hp)||[];t.push.apply(t,o),i.push(n+=o.length+1)}),t.c=i,t},Rk=function(e,t,i){var n="",r=(e+n).match(Kd),o=t?"hsla(":"rgba(",s=0,u,d,g,x;if(!r)return e;if(r=r.map(function(b){return(b=aP(b,t,1))&&o+(t?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),i&&(g=rP(e),u=i.c,u.join(n)!==g.c.join(n)))for(d=e.replace(Kd,"1").split(Hp),x=d.length-1;s<x;s++)n+=d[s]+(~u.indexOf(s)?r.shift()||o+"0,0,0,0)":(g.length?g:r.length?r:i).shift());if(!d)for(d=e.split(Kd),x=d.length-1;s<x;s++)n+=d[s]+r[s];return n+d[x]},Kd=(function(){var a="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in km)a+="|"+e+"\\b";return new RegExp(a+")","gi")})(),Bz=/hsl[a]?\(/,sP=function(e){var t=e.join(" "),i;if(Kd.lastIndex=0,Kd.test(t))return i=Bz.test(t),e[1]=Rk(e[1],i),e[0]=Rk(e[0],i,rP(e[1])),!0},v0,Cc=(function(){var a=Date.now,e=500,t=33,i=a(),n=i,r=1e3/240,o=r,s=[],u,d,g,x,b,S,P=function I(O){var H=a()-n,Q=O===!0,Y,Z,J,re;if((H>e||H<0)&&(i+=H-t),n+=H,J=n-i,Y=J-o,(Y>0||Q)&&(re=++x.frame,b=J-x.time*1e3,x.time=J=J/1e3,o+=Y+(Y>=r?4:r-Y),Z=1),Q||(u=d(I)),Z)for(S=0;S<s.length;S++)s[S](J,b,re,O)};return x={time:0,frame:0,tick:function(){P(!0)},deltaRatio:function(O){return b/(1e3/(O||60))},wake:function(){OF&&(!R1&&LS()&&(lh=R1=window,FS=lh.document||{},Ic.gsap=ic,(lh.gsapVersions||(lh.gsapVersions=[])).push(ic.version),UF(__||lh.GreenSockGlobals||!lh.gsap&&lh||{}),iP.forEach(nP)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&x.sleep(),d=g||function(O){return setTimeout(O,o-x.time*1e3+1|0)},v0=1,P(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(u),v0=0,d=x0},lagSmoothing:function(O,H){e=O||1/0,t=Math.min(H||33,e)},fps:function(O){r=1e3/(O||240),o=x.time*1e3+r},add:function(O,H,Q){var Y=H?function(Z,J,re,q){O(Z,J,re,q),x.remove(Y)}:O;return x.remove(O),s[Q?"unshift":"push"](Y),fg(),Y},remove:function(O,H){~(H=s.indexOf(O))&&s.splice(H,1)&&S>=H&&S--},_listeners:s},x})(),fg=function(){return!v0&&Cc.wake()},$a={},Ez=/^[\d.\-M][\d.\-,\s]/,kz=/["']/g,Tz=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],r=1,o=i.length,s,u,d;r<o;r++)u=i[r],s=r!==o-1?u.lastIndexOf(","):u.length,d=u.substr(0,s),t[n]=isNaN(d)?d.replace(kz,"").trim():+d,n=u.substr(s+1).trim();return t},Iz=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Mz=function(e){var t=(e+"").split("("),i=$a[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Tz(t[1])]:Iz(e).split(",").map(jF)):$a._CE&&Ez.test(e)?$a._CE("",e):i},oP=function(e){return function(t){return 1-e(1-t)}},lP=function a(e,t){for(var i=e._first,n;i;)i instanceof kl?a(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?a(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},yA=function(e,t){return e&&(Us(e)?e:$a[e]||Mz(e))||t},UA=function(e,t,i,n){i===void 0&&(i=function(u){return 1-t(1-u)}),n===void 0&&(n=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var r={easeIn:t,easeOut:i,easeInOut:n},o;return Jl(e,function(s){$a[s]=Ic[s]=r,$a[o=s.toLowerCase()]=i;for(var u in r)$a[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=$a[s+"."+u]=r[u]}),r},cP=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},$w=function a(e,t,i){var n=t>=1?t:1,r=(i||(e?.3:.45))/(t<1?t:1),o=r/D1*(Math.asin(1/n)||0),s=function(g){return g===1?1:n*Math.pow(2,-10*g)*iz((g-o)*r)+1},u=e==="out"?s:e==="in"?function(d){return 1-s(1-d)}:cP(s);return r=D1/r,u.config=function(d,g){return a(e,d,g)},u},Xw=function a(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},n=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:cP(i);return n.config=function(r){return a(e,r)},n};Jl("Linear,Quad,Cubic,Quart,Quint,Strong",function(a,e){var t=e<5?e+1:e;UA(a+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});$a.Linear.easeNone=$a.none=$a.Linear.easeIn;UA("Elastic",$w("in"),$w("out"),$w());(function(a,e){var t=1/e,i=2*t,n=2.5*t,r=function(s){return s<t?a*s*s:s<i?a*Math.pow(s-1.5/e,2)+.75:s<n?a*(s-=2.25/e)*s+.9375:a*Math.pow(s-2.625/e,2)+.984375};UA("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);UA("Expo",function(a){return Math.pow(2,10*(a-1))*a+a*a*a*a*a*a*(1-a)});UA("Circ",function(a){return-(FF(1-a*a)-1)});UA("Sine",function(a){return a===1?1:-tz(a*JN)+1});UA("Back",Xw("in"),Xw("out"),Xw());$a.SteppedEase=$a.steps=Ic.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0,o=1-$r;return function(s){return((n*Y0(0,o,s)|0)+r)*i}}};cg.ease=$a["quad.out"];Jl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(a){return RS+=a+","+a+"Params,"});var uP=function(e,t){this.id=ez++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:HF,this.set=t?t.getSetter:QS},w0=(function(){function a(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,dg(this,+t.duration,1,1),this.data=t.data,ys&&(this._ctx=ys,ys.data.push(this)),v0||Cc.wake()}var e=a.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,dg(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(fg(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(dv(this,i),!r._dp||r.parent||WF(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&hh(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===$r||!this._initted&&this._dur&&i||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),QF(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Fk(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Fk(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?hg(this._tTime,r)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-$r?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?b_(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-$r?0:this._rts,this.totalTime(Y0(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),hv(this),dz(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(fg(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==$r&&(this._tTime-=$r)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=Bs(i);var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&hh(n,this,this._start-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Zl(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?b_(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=lz);var n=Wo;return Wo=i,US(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Wo=n,this},e.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Pk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,Pk(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(Wc(this,i),Zl(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Zl(n)),this._dur||(this._zTime=-$r),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-$r:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-$r,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-$r)},e.eventCallback=function(i,n,r){var o=this.vars;return arguments.length>1?(n?(o[i]=n,r&&(o[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this,r=n._prom;return new Promise(function(o){var s=Us(i)?i:VF,u=function(){var g=n.then;n.then=null,r&&r(),Us(s)&&(s=s(n))&&(s.then||s===n)&&(n.then=g),o(s),n.then=g};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?u():n._prom=u})},e.kill=function(){Em(this)},a})();Mc(w0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$r,_prom:0,_ps:!1,_rts:1});var kl=(function(a){LF(e,a);function e(i,n){var r;return i===void 0&&(i={}),r=a.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=Zl(i.sortChildren),Es&&hh(i.parent||Es,Jh(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&$F(Jh(r),i.scrollTrigger),r}var t=e.prototype;return t.to=function(n,r,o){return Xm(0,arguments,this),this},t.from=function(n,r,o){return Xm(1,arguments,this),this},t.fromTo=function(n,r,o,s){return Xm(2,arguments,this),this},t.set=function(n,r,o){return r.duration=0,r.parent=this,$m(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new co(n,r,Wc(this,o),1),this},t.call=function(n,r,o){return hh(this,co.delayedCall(0,n,r),o)},t.staggerTo=function(n,r,o,s,u,d,g){return o.duration=r,o.stagger=o.stagger||s,o.onComplete=d,o.onCompleteParams=g,o.parent=this,new co(n,o,Wc(this,u)),this},t.staggerFrom=function(n,r,o,s,u,d,g){return o.runBackwards=1,$m(o).immediateRender=Zl(o.immediateRender),this.staggerTo(n,r,o,s,u,d,g)},t.staggerFromTo=function(n,r,o,s,u,d,g,x){return s.startAt=o,$m(s).immediateRender=Zl(s.immediateRender),this.staggerTo(n,r,s,u,d,g,x)},t.render=function(n,r,o){var s=this._time,u=this._dirty?this.totalDuration():this._tDur,d=this._dur,g=n<=0?0:Bs(n),x=this._zTime<0!=n<0&&(this._initted||!d),b,S,P,I,O,H,Q,Y,Z,J,re,q;if(this!==Es&&g>u&&n>=0&&(g=u),g!==this._tTime||o||x){if(s!==this._time&&d&&(g+=this._time-s,n+=this._time-s),b=g,Z=this._start,Y=this._ts,H=!Y,x&&(d||(s=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(re=this._yoyo,O=d+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(O*100+n,r,o);if(b=Bs(g%O),g===u?(I=this._repeat,b=d):(J=Bs(g/O),I=~~J,I&&I===J&&(b=d,I--),b>d&&(b=d)),J=hg(this._tTime,O),!s&&this._tTime&&J!==I&&this._tTime-J*O-this._dur<=0&&(J=I),re&&I&1&&(b=d-b,q=1),I!==J&&!this._lock){var ne=re&&J&1,te=ne===(re&&I&1);if(I<J&&(ne=!ne),s=ne?0:g%d?d:g,this._lock=1,this.render(s||(q?0:Bs(I*O)),r,!d)._lock=0,this._tTime=g,!r&&this.parent&&Bc(this,"onRepeat"),this.vars.repeatRefresh&&!q&&(this.invalidate()._lock=1,J=I),s&&s!==this._time||H!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,u=this._tDur,te&&(this._lock=2,s=ne?d:-1e-4,this.render(s,!0),this.vars.repeatRefresh&&!q&&this.invalidate()),this._lock=0,!this._ts&&!H)return this;lP(this,q)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Q=gz(this,Bs(s),Bs(b)),Q&&(g-=b-(b=Q._start))),this._tTime=g,this._time=b,this._act=!Y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,s=0),!s&&g&&d&&!r&&!J&&(Bc(this,"onStart"),this._tTime!==g))return this;if(b>=s&&n>=0)for(S=this._first;S;){if(P=S._next,(S._act||b>=S._start)&&S._ts&&Q!==S){if(S.parent!==this)return this.render(n,r,o);if(S.render(S._ts>0?(b-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(b-S._start)*S._ts,r,o),b!==this._time||!this._ts&&!H){Q=0,P&&(g+=this._zTime=-$r);break}}S=P}else{S=this._last;for(var he=n<0?n:b;S;){if(P=S._prev,(S._act||he<=S._end)&&S._ts&&Q!==S){if(S.parent!==this)return this.render(n,r,o);if(S.render(S._ts>0?(he-S._start)*S._ts:(S._dirty?S.totalDuration():S._tDur)+(he-S._start)*S._ts,r,o||Wo&&US(S)),b!==this._time||!this._ts&&!H){Q=0,P&&(g+=this._zTime=he?-$r:$r);break}}S=P}}if(Q&&!r&&(this.pause(),Q.render(b>=s?0:-$r)._zTime=b>=s?1:-1,this._ts))return this._start=Z,hv(this),this.render(n,r,o);this._onUpdate&&!r&&Bc(this,"onUpdate",!0),(g===u&&this._tTime>=this.totalDuration()||!g&&s)&&(Z===this._start||Math.abs(Y)!==Math.abs(this._ts))&&(this._lock||((n||!d)&&(g===u&&this._ts>0||!g&&this._ts<0)&&nf(this,1),!r&&!(n<0&&!s)&&(g||s||!u)&&(Bc(this,g===u&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,r){var o=this;if(Ad(r)||(r=Wc(this,r,n)),!(n instanceof w0)){if(dl(n))return n.forEach(function(s){return o.add(s,r)}),this;if(Fo(n))return this.addLabel(n,r);if(Us(n))n=co.delayedCall(0,n);else return this}return this!==n?hh(this,n,r):this},t.getChildren=function(n,r,o,s){n===void 0&&(n=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),s===void 0&&(s=-Zc);for(var u=[],d=this._first;d;)d._start>=s&&(d instanceof co?r&&u.push(d):(o&&u.push(d),n&&u.push.apply(u,d.getChildren(!0,r,o)))),d=d._next;return u},t.getById=function(n){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===n)return r[o]},t.remove=function(n){return Fo(n)?this.removeLabel(n):Us(n)?this.killTweensOf(n):(n.parent===this&&uv(this,n),n===this._recent&&(this._recent=this._last),mA(this))},t.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Bs(Cc.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),a.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},t.addLabel=function(n,r){return this.labels[n]=Wc(this,r),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,r,o){var s=co.delayedCall(0,r||x0,o);return s.data="isPause",this._hasPause=1,hh(this,s,Wc(this,n))},t.removePause=function(n){var r=this._first;for(n=Wc(this,n);r;)r._start===n&&r.data==="isPause"&&nf(r),r=r._next},t.killTweensOf=function(n,r,o){for(var s=this.getTweensOf(n,o),u=s.length;u--;)Od!==s[u]&&s[u].kill(n,r);return this},t.getTweensOf=function(n,r){for(var o=[],s=Jc(n),u=this._first,d=Ad(r),g;u;)u instanceof co?cz(u._targets,s)&&(d?(!Od||u._initted&&u._ts)&&u.globalTime(0)<=r&&u.globalTime(u.totalDuration())>r:!r||u.isActive())&&o.push(u):(g=u.getTweensOf(s,r)).length&&o.push.apply(o,g),u=u._next;return o},t.tweenTo=function(n,r){r=r||{};var o=this,s=Wc(o,n),u=r,d=u.startAt,g=u.onStart,x=u.onStartParams,b=u.immediateRender,S,P=co.to(o,Mc({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:r.duration||Math.abs((s-(d&&"time"in d?d.time:o._time))/o.timeScale())||$r,onStart:function(){if(o.pause(),!S){var O=r.duration||Math.abs((s-(d&&"time"in d?d.time:o._time))/o.timeScale());P._dur!==O&&dg(P,O,0,1).render(P._time,!0,!0),S=1}g&&g.apply(P,x||[])}},r));return b?P.render(0):P},t.tweenFromTo=function(n,r,o){return this.tweenTo(r,Mc({startAt:{time:Wc(this,n)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),Dk(this,Wc(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),Dk(this,Wc(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+$r)},t.shiftChildren=function(n,r,o){o===void 0&&(o=0);var s=this._first,u=this.labels,d;for(n=Bs(n);s;)s._start>=o&&(s._start+=n,s._end+=n),s=s._next;if(r)for(d in u)u[d]>=o&&(u[d]+=n);return mA(this)},t.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return a.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),mA(this)},t.totalDuration=function(n){var r=0,o=this,s=o._last,u=Zc,d,g,x;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(x=o.parent;s;)d=s._prev,s._dirty&&s.totalDuration(),g=s._start,g>u&&o._sort&&s._ts&&!o._lock?(o._lock=1,hh(o,s,g-s._delay,1)._lock=0):u=g,g<0&&s._ts&&(r-=g,(!x&&!o._dp||x&&x.smoothChildTiming)&&(o._start+=Bs(g/o._ts),o._time-=g,o._tTime-=g),o.shiftChildren(-g,!1,-1/0),u=0),s._end>r&&s._ts&&(r=s._end),s=d;dg(o,o===Es&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(Es._ts&&(QF(Es,b_(n,Es)),zF=Cc.frame),Cc.frame>=Mk){Mk+=kc.autoSleep||120;var r=Es._first;if((!r||!r._ts)&&kc.autoSleep&&Cc._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Cc.sleep()}}},e})(w0);Mc(kl.prototype,{_lock:0,_hasPause:0,_forcing:0});var Lz=function(e,t,i,n,r,o,s){var u=new ec(this._pt,e,t,0,1,gP,null,r),d=0,g=0,x,b,S,P,I,O,H,Q;for(u.b=i,u.e=n,i+="",n+="",(H=~n.indexOf("random("))&&(n=_0(n)),o&&(Q=[i,n],o(Q,e,t),i=Q[0],n=Q[1]),b=i.match(Vw)||[];x=Vw.exec(n);)P=x[0],I=n.substring(d,x.index),S?S=(S+1)%5:I.substr(-5)==="rgba("&&(S=1),P!==b[g++]&&(O=parseFloat(b[g-1])||0,u._pt={_next:u._pt,p:I||g===1?I:",",s:O,c:P.charAt(1)==="="?Jp(O,P)-O:parseFloat(P)-O,m:S&&S<4?Math.round:0},d=Vw.lastIndex);return u.c=d<n.length?n.substring(d,n.length):"",u.fp=s,(RF.test(n)||H)&&(u.e=0),this._pt=u,u},NS=function(e,t,i,n,r,o,s,u,d,g){Us(n)&&(n=n(r||0,e,o));var x=e[t],b=i!=="get"?i:Us(x)?d?e[t.indexOf("set")||!Us(e["get"+t.substr(3)])?t:"get"+t.substr(3)](d):e[t]():x,S=Us(x)?d?Oz:AP:HS,P;if(Fo(n)&&(~n.indexOf("random(")&&(n=_0(n)),n.charAt(1)==="="&&(P=Jp(b,n)+(cl(b)||0),(P||P===0)&&(n=P))),!g||b!==n||j1)return!isNaN(b*n)&&n!==""?(P=new ec(this._pt,e,t,+b||0,n-(b||0),typeof x=="boolean"?Nz:pP,0,S),d&&(P.fp=d),s&&P.modifier(s,this,e),this._pt=P):(!x&&!(t in e)&&PS(t,n),Lz.call(this,e,t,b,n,S,u||kc.stringFilter,d))},Fz=function(e,t,i,n,r){if(Us(e)&&(e=Ym(e,r,t,i,n)),!gh(e)||e.style&&e.nodeType||dl(e)||PF(e))return Fo(e)?Ym(e,r,t,i,n):e;var o={},s;for(s in e)o[s]=Ym(e[s],r,t,i,n);return o},hP=function(e,t,i,n,r,o){var s,u,d,g;if(wc[e]&&(s=new wc[e]).init(r,s.rawVars?t[e]:Fz(t[e],n,r,o,i),i,n,o)!==!1&&(i._pt=u=new ec(i._pt,r,e,0,1,s.render,s,0,s.priority),i!==Qp))for(d=i._ptLookup[i._targets.indexOf(r)],g=s._props.length;g--;)d[s._props[g]]=u;return s},Od,j1,zS=function a(e,t,i){var n=e.vars,r=n.ease,o=n.startAt,s=n.immediateRender,u=n.lazy,d=n.onUpdate,g=n.runBackwards,x=n.yoyoEase,b=n.keyframes,S=n.autoRevert,P=e._dur,I=e._startAt,O=e._targets,H=e.parent,Q=H&&H.data==="nested"?H.vars.targets:O,Y=e._overwrite==="auto"&&!IS,Z=e.timeline,J,re,q,ne,te,he,ve,de,be,De,Ie,nt,je;if(Z&&(!b||!r)&&(r="none"),e._ease=yA(r,cg.ease),e._yEase=x?oP(yA(x===!0?r:x,cg.ease)):0,x&&e._yoyo&&!e._repeat&&(x=e._yEase,e._yEase=e._ease,e._ease=x),e._from=!Z&&!!n.runBackwards,!Z||b&&!n.stagger){if(de=O[0]?gA(O[0]).harness:0,nt=de&&n[de.prop],J=w_(n,DS),I&&(I._zTime<0&&I.progress(1),t<0&&g&&s&&!S?I.render(-1,!0):I.revert(g&&P?Wx:oz),I._lazy=0),o){if(nf(e._startAt=co.set(O,Mc({data:"isStart",overwrite:!1,parent:H,immediateRender:!0,lazy:!I&&Zl(u),startAt:null,delay:0,onUpdate:d&&function(){return Bc(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Wo||!s&&!S)&&e._startAt.revert(Wx),s&&P&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(g&&P&&!I){if(t&&(s=!1),q=Mc({overwrite:!1,data:"isFromStart",lazy:s&&!I&&Zl(u),immediateRender:s,stagger:0,parent:H},J),nt&&(q[de.prop]=nt),nf(e._startAt=co.set(O,q)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Wo?e._startAt.revert(Wx):e._startAt.render(-1,!0)),e._zTime=t,!s)a(e._startAt,$r,$r);else if(!t)return}for(e._pt=e._ptCache=0,u=P&&Zl(u)||u&&!P,re=0;re<O.length;re++){if(te=O[re],ve=te._gsap||OS(O)[re]._gsap,e._ptLookup[re]=De={},O1[ve.id]&&Yd.length&&v_(),Ie=Q===O?re:Q.indexOf(te),de&&(be=new de).init(te,nt||J,e,Ie,Q)!==!1&&(e._pt=ne=new ec(e._pt,te,be.name,0,1,be.render,be,0,be.priority),be._props.forEach(function(dt){De[dt]=ne}),be.priority&&(he=1)),!de||nt)for(q in J)wc[q]&&(be=hP(q,J,e,Ie,te,Q))?be.priority&&(he=1):De[q]=ne=NS.call(e,te,q,"get",J[q],Ie,Q,0,n.stringFilter);e._op&&e._op[re]&&e.kill(te,e._op[re]),Y&&e._pt&&(Od=e,Es.killTweensOf(te,De,e.globalTime(t)),je=!e.parent,Od=0),e._pt&&u&&(O1[ve.id]=1)}he&&mP(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!je,b&&t<=0&&Z.render(Zc,!0,!0)},Pz=function(e,t,i,n,r,o,s,u){var d=(e._pt&&e._ptCache||(e._ptCache={}))[t],g,x,b,S;if(!d)for(d=e._ptCache[t]=[],b=e._ptLookup,S=e._targets.length;S--;){if(g=b[S][t],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==t&&g.fp!==t;)g=g._next;if(!g)return j1=1,e.vars[t]="+=0",zS(e,s),j1=0,u?y0(t+" not eligible for reset"):1;d.push(g)}for(S=d.length;S--;)x=d[S],g=x._pt||x,g.s=(n||n===0)&&!r?n:g.s+(n||0)+o*g.c,g.c=i-g.s,x.e&&(x.e=qs(i)+cl(x.e)),x.b&&(x.b=g.s+cl(x.b))},Dz=function(e,t){var i=e[0]?gA(e[0]).harness:0,n=i&&i.aliases,r,o,s,u;if(!n)return t;r=ug({},t);for(o in n)if(o in r)for(u=n[o].split(","),s=u.length;s--;)r[u[s]]=r[o];return r},Rz=function(e,t,i,n){var r=t.ease||n||"power1.inOut",o,s;if(dl(t))s=i[e]||(i[e]=[]),t.forEach(function(u,d){return s.push({t:d/(t.length-1)*100,v:u,e:r})});else for(o in t)s=i[o]||(i[o]=[]),o==="ease"||s.push({t:parseFloat(e),v:t[o],e:r})},Ym=function(e,t,i,n,r){return Us(e)?e.call(t,i,n,r):Fo(e)&&~e.indexOf("random(")?_0(e):e},dP=RS+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",fP={};Jl(dP+",id,stagger,delay,duration,paused,scrollTrigger",function(a){return fP[a]=1});var co=(function(a){LF(e,a);function e(i,n,r,o){var s;typeof n=="number"&&(r.duration=n,n=r,r=null),s=a.call(this,o?n:$m(n))||this;var u=s.vars,d=u.duration,g=u.delay,x=u.immediateRender,b=u.stagger,S=u.overwrite,P=u.keyframes,I=u.defaults,O=u.scrollTrigger,H=u.yoyoEase,Q=n.parent||Es,Y=(dl(i)||PF(i)?Ad(i[0]):"length"in n)?[i]:Jc(i),Z,J,re,q,ne,te,he,ve;if(s._targets=Y.length?OS(Y):y0("GSAP target "+i+" not found. https://gsap.com",!kc.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=S,P||b||Vy(d)||Vy(g)){if(n=s.vars,Z=s.timeline=new kl({data:"nested",defaults:I||{},targets:Q&&Q.data==="nested"?Q.vars.targets:Y}),Z.kill(),Z.parent=Z._dp=Jh(s),Z._start=0,b||Vy(d)||Vy(g)){if(q=Y.length,he=b&&qF(b),gh(b))for(ne in b)~dP.indexOf(ne)&&(ve||(ve={}),ve[ne]=b[ne]);for(J=0;J<q;J++)re=w_(n,fP),re.stagger=0,H&&(re.yoyoEase=H),ve&&ug(re,ve),te=Y[J],re.duration=+Ym(d,Jh(s),J,te,Y),re.delay=(+Ym(g,Jh(s),J,te,Y)||0)-s._delay,!b&&q===1&&re.delay&&(s._delay=g=re.delay,s._start+=g,re.delay=0),Z.to(te,re,he?he(J,te,Y):0),Z._ease=$a.none;Z.duration()?d=g=0:s.timeline=0}else if(P){$m(Mc(Z.vars.defaults,{ease:"none"})),Z._ease=yA(P.ease||n.ease||"none");var de=0,be,De,Ie;if(dl(P))P.forEach(function(nt){return Z.to(Y,nt,">")}),Z.duration();else{re={};for(ne in P)ne==="ease"||ne==="easeEach"||Rz(ne,P[ne],re,P.easeEach);for(ne in re)for(be=re[ne].sort(function(nt,je){return nt.t-je.t}),de=0,J=0;J<be.length;J++)De=be[J],Ie={ease:De.e,duration:(De.t-(J?be[J-1].t:0))/100*d},Ie[ne]=De.v,Z.to(Y,Ie,de),de+=Ie.duration;Z.duration()<d&&Z.to({},{duration:d-Z.duration()})}}d||s.duration(d=Z.duration())}else s.timeline=0;return S===!0&&!IS&&(Od=Jh(s),Es.killTweensOf(Y),Od=0),hh(Q,Jh(s),r),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(x||!d&&!P&&s._start===Bs(Q._time)&&Zl(x)&&fz(Jh(s))&&Q.data!=="nested")&&(s._tTime=-$r,s.render(Math.max(0,-g)||0)),O&&$F(Jh(s),O),s}var t=e.prototype;return t.render=function(n,r,o){var s=this._time,u=this._tDur,d=this._dur,g=n<0,x=n>u-$r&&!g?u:n<$r?0:n,b,S,P,I,O,H,Q,Y,Z;if(!d)pz(this,n,r,o);else if(x!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(b=x,Y=this.timeline,this._repeat){if(I=d+this._rDelay,this._repeat<-1&&g)return this.totalTime(I*100+n,r,o);if(b=Bs(x%I),x===u?(P=this._repeat,b=d):(O=Bs(x/I),P=~~O,P&&P===O?(b=d,P--):b>d&&(b=d)),H=this._yoyo&&P&1,H&&(Z=this._yEase,b=d-b),O=hg(this._tTime,I),b===s&&!o&&this._initted&&P===O)return this._tTime=x,this;P!==O&&(Y&&this._yEase&&lP(Y,H),this.vars.repeatRefresh&&!H&&!this._lock&&b!==I&&this._initted&&(this._lock=o=1,this.render(Bs(I*P),!0).invalidate()._lock=0))}if(!this._initted){if(XF(this,g?n:b,o,r,x))return this._tTime=0,this;if(s!==this._time&&!(o&&this.vars.repeatRefresh&&P!==O))return this;if(d!==this._dur)return this.render(n,r,o)}if(this._tTime=x,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Q=(Z||this._ease)(b/d),this._from&&(this.ratio=Q=1-Q),!s&&x&&!r&&!O&&(Bc(this,"onStart"),this._tTime!==x))return this;for(S=this._pt;S;)S.r(Q,S.d),S=S._next;Y&&Y.render(n<0?n:Y._dur*Y._ease(b/this._dur),r,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(g&&U1(this,n,r,o),Bc(this,"onUpdate")),this._repeat&&P!==O&&this.vars.onRepeat&&!r&&this.parent&&Bc(this,"onRepeat"),(x===this._tDur||!x)&&this._tTime===x&&(g&&!this._onUpdate&&U1(this,n,!0,!0),(n||!d)&&(x===this._tDur&&this._ts>0||!x&&this._ts<0)&&nf(this,1),!r&&!(g&&!s)&&(x||s||H)&&(Bc(this,x===u?"onComplete":"onReverseComplete",!0),this._prom&&!(x<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),a.prototype.invalidate.call(this,n)},t.resetTo=function(n,r,o,s,u){v0||Cc.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||zS(this,d),g=this._ease(d/this._dur),Pz(this,n,r,o,s,g,d,u)?this.resetTo(n,r,o,s,1):(dv(this,0),this.parent||GF(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Em(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Wo),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,Od&&Od.vars.overwrite!==!0)._first||Em(this),this.parent&&o!==this.timeline.totalDuration()&&dg(this,this._dur*this.timeline._tDur/o,0,1),this}var s=this._targets,u=n?Jc(n):s,d=this._ptLookup,g=this._pt,x,b,S,P,I,O,H;if((!r||r==="all")&&hz(s,u))return r==="all"&&(this._pt=0),Em(this);for(x=this._op=this._op||[],r!=="all"&&(Fo(r)&&(I={},Jl(r,function(Q){return I[Q]=1}),r=I),r=Dz(s,r)),H=s.length;H--;)if(~u.indexOf(s[H])){b=d[H],r==="all"?(x[H]=r,P=b,S={}):(S=x[H]=x[H]||{},P=r);for(I in P)O=b&&b[I],O&&((!("kill"in O.d)||O.d.kill(I)===!0)&&uv(this,O,"_pt"),delete b[I]),S!=="all"&&(S[I]=1)}return this._initted&&!this._pt&&g&&Em(this),this},e.to=function(n,r){return new e(n,r,arguments[2])},e.from=function(n,r){return Xm(1,arguments)},e.delayedCall=function(n,r,o,s){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:s})},e.fromTo=function(n,r,o){return Xm(2,arguments)},e.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(n,r)},e.killTweensOf=function(n,r,o){return Es.killTweensOf(n,r,o)},e})(w0);Mc(co.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Jl("staggerTo,staggerFrom,staggerFromTo",function(a){co[a]=function(){var e=new kl,t=z1.call(arguments,0);return t.splice(a==="staggerFromTo"?5:4,0,0),e[a].apply(e,t)}});var HS=function(e,t,i){return e[t]=i},AP=function(e,t,i){return e[t](i)},Oz=function(e,t,i,n){return e[t](n.fp,i)},Uz=function(e,t,i){return e.setAttribute(t,i)},QS=function(e,t){return Us(e[t])?AP:MS(e[t])&&e.setAttribute?Uz:HS},pP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Nz=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},gP=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},jS=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},zz=function(e,t,i,n){for(var r=this._pt,o;r;)o=r._next,r.p===n&&r.modifier(e,t,i),r=o},Hz=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?uv(this,t,"_pt"):t.dep||(i=1),t=n;return!i},Qz=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},mP=function(e){for(var t=e._pt,i,n,r,o;t;){for(i=t._next,n=r;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:o)?t._prev._next=t:r=t,(t._next=n)?n._prev=t:o=t,t=i}e._pt=r},ec=(function(){function a(t,i,n,r,o,s,u,d,g){this.t=i,this.s=r,this.c=o,this.p=n,this.r=s||pP,this.d=u||this,this.set=d||HS,this.pr=g||0,this._next=t,t&&(t._prev=this)}var e=a.prototype;return e.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=Qz,this.m=i,this.mt=r,this.tween=n},a})();Jl(RS+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(a){return DS[a]=1});Ic.TweenMax=Ic.TweenLite=co;Ic.TimelineLite=Ic.TimelineMax=kl;Es=new kl({sortChildren:!1,defaults:cg,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});kc.stringFilter=sP;var xA=[],Xx={},jz=[],Ok=0,Vz=0,Yw=function(e){return(Xx[e]||jz).map(function(t){return t()})},V1=function(){var e=Date.now(),t=[];e-Ok>2&&(Yw("matchMediaInit"),xA.forEach(function(i){var n=i.queries,r=i.conditions,o,s,u,d;for(s in n)o=lh.matchMedia(n[s]).matches,o&&(u=1),o!==r[s]&&(r[s]=o,d=1);d&&(i.revert(),u&&t.push(i))}),Yw("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Ok=e,Yw("matchMedia"))},yP=(function(){function a(t,i){this.selector=i&&H1(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Vz++,t&&this.add(t)}var e=a.prototype;return e.add=function(i,n,r){Us(i)&&(r=n,n=i,i=Us);var o=this,s=function(){var d=ys,g=o.selector,x;return d&&d!==o&&d.data.push(o),r&&(o.selector=H1(r)),ys=o,x=n.apply(o,arguments),Us(x)&&o._r.push(x),ys=d,o.selector=g,o.isReverted=!1,x};return o.last=s,i===Us?s(o,function(u){return o.add(null,u)}):i?o[i]=s:s},e.ignore=function(i){var n=ys;ys=null,i(this),ys=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof a?i.push.apply(i,n.getTweens()):n instanceof co&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var r=this;if(i?(function(){for(var s=r.getTweens(),u=r.data.length,d;u--;)d=r.data[u],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(g){return s.splice(s.indexOf(g),1)}));for(s.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,x){return x.g-g.g||-1/0}).forEach(function(g){return g.t.revert(i)}),u=r.data.length;u--;)d=r.data[u],d instanceof kl?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof co)&&d.revert&&d.revert(i);r._r.forEach(function(g){return g(i,r)}),r.isReverted=!0})():this.data.forEach(function(s){return s.kill&&s.kill()}),this.clear(),n)for(var o=xA.length;o--;)xA[o].id===this.id&&xA.splice(o,1)},e.revert=function(i){this.kill(i||{})},a})(),Gz=(function(){function a(t){this.contexts=[],this.scope=t,ys&&ys.data.push(this)}var e=a.prototype;return e.add=function(i,n,r){gh(i)||(i={matches:i});var o=new yP(0,r||this.scope),s=o.conditions={},u,d,g;ys&&!o.selector&&(o.selector=ys.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(d in i)d==="all"?g=1:(u=lh.matchMedia(i[d]),u&&(xA.indexOf(o)<0&&xA.push(o),(s[d]=u.matches)&&(g=1),u.addListener?u.addListener(V1):u.addEventListener("change",V1)));return g&&n(o,function(x){return o.add(null,x)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},a})(),C_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return nP(n)})},timeline:function(e){return new kl(e)},getTweensOf:function(e,t){return Es.getTweensOf(e,t)},getProperty:function(e,t,i,n){Fo(e)&&(e=Jc(e)[0]);var r=gA(e||{}).get,o=i?VF:jF;return i==="native"&&(i=""),e&&(t?o((wc[t]&&wc[t].get||r)(e,t,i,n)):function(s,u,d){return o((wc[s]&&wc[s].get||r)(e,s,u,d))})},quickSetter:function(e,t,i){if(e=Jc(e),e.length>1){var n=e.map(function(g){return ic.quickSetter(g,t,i)}),r=n.length;return function(g){for(var x=r;x--;)n[x](g)}}e=e[0]||{};var o=wc[t],s=gA(e),u=s.harness&&(s.harness.aliases||{})[t]||t,d=o?function(g){var x=new o;Qp._pt=0,x.init(e,i?g+i:g,Qp,0,[e]),x.render(1,x),Qp._pt&&jS(1,Qp)}:s.set(e,u);return o?d:function(g){return d(e,u,i?g+i:g,s,1)}},quickTo:function(e,t,i){var n,r=ic.to(e,Mc((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),o=function(u,d,g){return r.resetTo(t,u,d,g)};return o.tween=r,o},isTweening:function(e){return Es.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yA(e.ease,cg.ease)),Lk(cg,e||{})},config:function(e){return Lk(kc,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(s){return s&&!wc[s]&&!Ic[s]&&y0(t+" effect requires "+s+" plugin.")}),Gw[t]=function(s,u,d){return i(Jc(s),Mc(u||{},r),d)},o&&(kl.prototype[t]=function(s,u,d){return this.add(Gw[t](s,gh(u)?u:(d=u)&&{},this),d)})},registerEase:function(e,t){$a[e]=yA(t)},parseEase:function(e,t){return arguments.length?yA(e,t):$a},getById:function(e){return Es.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new kl(e),n,r;for(i.smoothChildTiming=Zl(e.smoothChildTiming),Es.remove(i),i._dp=0,i._time=i._tTime=Es._time,n=Es._first;n;)r=n._next,(t||!(!n._dur&&n instanceof co&&n.vars.onComplete===n._targets[0]))&&hh(i,n,n._start-n._delay),n=r;return hh(Es,i,0),i},context:function(e,t){return e?new yP(e,t):ys},matchMedia:function(e){return new Gz(e)},matchMediaRefresh:function(){return xA.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||V1()},addEventListener:function(e,t){var i=Xx[e]||(Xx[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Xx[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:bz,wrapYoyo:Cz,distribute:qF,random:JF,snap:ZF,normalize:wz,getUnit:cl,clamp:yz,splitColor:aP,toArray:Jc,selector:H1,mapRange:tP,pipe:_z,unitize:vz,interpolate:Sz,shuffle:KF},install:UF,effects:Gw,ticker:Cc,updateRoot:kl.updateRoot,plugins:wc,globalTimeline:Es,core:{PropTween:ec,globals:NF,Tween:co,Timeline:kl,Animation:w0,getCache:gA,_removeLinkedListItem:uv,reverting:function(){return Wo},context:function(e){return e&&ys&&(ys.data.push(e),e._ctx=ys),ys},suppressOverwrites:function(e){return IS=e}}};Jl("to,from,fromTo,delayedCall,set,killTweensOf",function(a){return C_[a]=co[a]});Cc.add(kl.updateRoot);Qp=C_.to({},{duration:0});var Wz=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},$z=function(e,t){var i=e._targets,n,r,o;for(n in t)for(r=i.length;r--;)o=e._ptLookup[r][n],o&&(o=o.d)&&(o._pt&&(o=Wz(o,n)),o&&o.modifier&&o.modifier(t[n],e,i[r],n))},Kw=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,r,o){o._onInit=function(s){var u,d;if(Fo(r)&&(u={},Jl(r,function(g){return u[g]=1}),r=u),t){u={};for(d in r)u[d]=t(r[d]);r=u}$z(s,r)}}}},ic=C_.registerPlugin({name:"attr",init:function(e,t,i,n,r){var o,s,u;this.tween=i;for(o in t)u=e.getAttribute(o)||"",s=this.add(e,"setAttribute",(u||0)+"",t[o],n,r,0,0,o),s.op=o,s.b=u,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)Wo?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Kw("roundProps",Q1),Kw("modifiers"),Kw("snap",ZF))||C_;co.version=kl.version=ic.version="3.14.2";OF=1;LS()&&fg();$a.Power0;$a.Power1;$a.Power2;$a.Power3;$a.Power4;$a.Linear;$a.Quad;$a.Cubic;$a.Quart;$a.Quint;$a.Strong;$a.Elastic;$a.Back;$a.SteppedEase;$a.Bounce;$a.Sine;$a.Expo;$a.Circ;var Uk,Ud,eg,VS,oA,Nk,GS,Xz=function(){return typeof window<"u"},pd={},Xf=180/Math.PI,tg=Math.PI/180,yp=Math.atan2,zk=1e8,WS=/([A-Z])/g,Yz=/(left|right|width|margin|padding|x)/i,Kz=/[\s,\(]\S/,dh={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},G1=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},qz=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Zz=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Jz=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},e5=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},xP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_P=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},t5=function(e,t,i){return e.style[t]=i},i5=function(e,t,i){return e.style.setProperty(t,i)},n5=function(e,t,i){return e._gsap[t]=i},a5=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},r5=function(e,t,i,n,r){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(r,o)},s5=function(e,t,i,n,r){var o=e._gsap;o[t]=i,o.renderTransform(r,o)},Ts="transform",tc=Ts+"Origin",o5=function a(e,t){var i=this,n=this.target,r=n.style,o=n._gsap;if(e in pd&&r){if(this.tfm=this.tfm||{},e!=="transform")e=dh[e]||e,~e.indexOf(",")?e.split(",").forEach(function(s){return i.tfm[s]=td(n,s)}):this.tfm[e]=o.x?o[e]:td(n,e),e===tc&&(this.tfm.zOrigin=o.zOrigin);else return dh.transform.split(",").forEach(function(s){return a.call(i,s,t)});if(this.props.indexOf(Ts)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(tc,t,"")),e=Ts}(r||t)&&this.props.push(e,t,r[e])},vP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},l5=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?i[e[r]]=e[r+2]:i.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(WS,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=GS(),(!r||!r.isStart)&&!i[Ts]&&(vP(i),n.zOrigin&&i[tc]&&(i[tc]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},wP=function(e,t){var i={target:e,props:[],revert:l5,save:o5};return e._gsap||ic.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},bP,W1=function(e,t){var i=Ud.createElementNS?Ud.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ud.createElement(e);return i&&i.style?i:Ud.createElement(e)},Ec=function a(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(WS,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&a(e,Ag(t)||t,1)||""},Hk="O,Moz,ms,Ms,Webkit".split(","),Ag=function(e,t,i){var n=t||oA,r=n.style,o=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Hk[o]+e in r););return o<0?null:(o===3?"ms":o>=0?Hk[o]:"")+e},$1=function(){Xz()&&window.document&&(Uk=window,Ud=Uk.document,eg=Ud.documentElement,oA=W1("div")||{style:{}},W1("div"),Ts=Ag(Ts),tc=Ts+"Origin",oA.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",bP=!!Ag("perspective"),GS=ic.core.reverting,VS=1)},Qk=function(e){var t=e.ownerSVGElement,i=W1("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),r;n.style.display="block",i.appendChild(n),eg.appendChild(i);try{r=n.getBBox()}catch{}return i.removeChild(n),eg.removeChild(i),r},jk=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},CP=function(e){var t,i;try{t=e.getBBox()}catch{t=Qk(e),i=1}return t&&(t.width||t.height)||i||(t=Qk(e)),t&&!t.width&&!t.x&&!t.y?{x:+jk(e,["x","cx","x1"])||0,y:+jk(e,["y","cy","y1"])||0,width:0,height:0}:t},SP=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&CP(e))},af=function(e,t){if(t){var i=e.style,n;t in pd&&t!==tc&&(t=Ts),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(WS,"-$1").toLowerCase())):i.removeAttribute(t)}},Nd=function(e,t,i,n,r,o){var s=new ec(e._pt,t,i,0,1,o?_P:xP);return e._pt=s,s.b=n,s.e=r,e._props.push(i),s},Vk={deg:1,rad:1,turn:1},c5={grid:1,flex:1},rf=function a(e,t,i,n){var r=parseFloat(i)||0,o=(i+"").trim().substr((r+"").length)||"px",s=oA.style,u=Yz.test(t),d=e.tagName.toLowerCase()==="svg",g=(d?"client":"offset")+(u?"Width":"Height"),x=100,b=n==="px",S=n==="%",P,I,O,H;if(n===o||!r||Vk[n]||Vk[o])return r;if(o!=="px"&&!b&&(r=a(e,t,i,"px")),H=e.getCTM&&SP(e),(S||o==="%")&&(pd[t]||~t.indexOf("adius")))return P=H?e.getBBox()[u?"width":"height"]:e[g],qs(S?r/P*x:r/100*P);if(s[u?"width":"height"]=x+(b?o:n),I=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!d?e:e.parentNode,H&&(I=(e.ownerSVGElement||{}).parentNode),(!I||I===Ud||!I.appendChild)&&(I=Ud.body),O=I._gsap,O&&S&&O.width&&u&&O.time===Cc.time&&!O.uncache)return qs(r/O.width*x);if(S&&(t==="height"||t==="width")){var Q=e.style[t];e.style[t]=x+n,P=e[g],Q?e.style[t]=Q:af(e,t)}else(S||o==="%")&&!c5[Ec(I,"display")]&&(s.position=Ec(e,"position")),I===e&&(s.position="static"),I.appendChild(oA),P=oA[g],I.removeChild(oA),s.position="absolute";return u&&S&&(O=gA(I),O.time=Cc.time,O.width=I[g]),qs(b?P*r/x:P&&r?x/P*r:0)},td=function(e,t,i,n){var r;return VS||$1(),t in dh&&t!=="transform"&&(t=dh[t],~t.indexOf(",")&&(t=t.split(",")[0])),pd[t]&&t!=="transform"?(r=C0(e,n),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:B_(Ec(e,tc))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=S_[t]&&S_[t](e,t,i)||Ec(e,t)||HF(e,t)||(t==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?rf(e,t,r,i)+i:r},u5=function(e,t,i,n){if(!i||i==="none"){var r=Ag(t,e,1),o=r&&Ec(e,r,1);o&&o!==i?(t=r,i=o):t==="borderColor"&&(i=Ec(e,"borderTopColor"))}var s=new ec(this._pt,e.style,t,0,1,gP),u=0,d=0,g,x,b,S,P,I,O,H,Q,Y,Z,J;if(s.b=i,s.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=Ec(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(I=e.style[t],e.style[t]=n,n=Ec(e,t)||n,I?e.style[t]=I:af(e,t)),g=[i,n],sP(g),i=g[0],n=g[1],b=i.match(Hp)||[],J=n.match(Hp)||[],J.length){for(;x=Hp.exec(n);)O=x[0],Q=n.substring(u,x.index),P?P=(P+1)%5:(Q.substr(-5)==="rgba("||Q.substr(-5)==="hsla(")&&(P=1),O!==(I=b[d++]||"")&&(S=parseFloat(I)||0,Z=I.substr((S+"").length),O.charAt(1)==="="&&(O=Jp(S,O)+Z),H=parseFloat(O),Y=O.substr((H+"").length),u=Hp.lastIndex-Y.length,Y||(Y=Y||kc.units[t]||Z,u===n.length&&(n+=Y,s.e+=Y)),Z!==Y&&(S=rf(e,t,I,Y)||0),s._pt={_next:s._pt,p:Q||d===1?Q:",",s:S,c:H-S,m:P&&P<4||t==="zIndex"?Math.round:0});s.c=u<n.length?n.substring(u,n.length):""}else s.r=t==="display"&&n==="none"?_P:xP;return RF.test(n)&&(s.e=0),this._pt=s,s},Gk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},h5=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=Gk[i]||i,t[1]=Gk[n]||n,t.join(" ")},d5=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,r=t.u,o=i._gsap,s,u,d;if(r==="all"||r===!0)n.cssText="",u=1;else for(r=r.split(","),d=r.length;--d>-1;)s=r[d],pd[s]&&(u=1,s=s==="transformOrigin"?tc:Ts),af(i,s);u&&(af(i,Ts),o&&(o.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",C0(i,1),o.uncache=1,vP(n)))}},S_={clearProps:function(e,t,i,n,r){if(r.data!=="isFromStart"){var o=e._pt=new ec(e._pt,t,i,0,0,d5);return o.u=n,o.pr=-10,o.tween=r,e._props.push(i),1}}},b0=[1,0,0,1,0,0],BP={},EP=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Wk=function(e){var t=Ec(e,Ts);return EP(t)?b0:t.substr(7).match(DF).map(qs)},$S=function(e,t){var i=e._gsap||gA(e),n=e.style,r=Wk(e),o,s,u,d;return i.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,r=[u.a,u.b,u.c,u.d,u.e,u.f],r.join(",")==="1,0,0,1,0,0"?b0:r):(r===b0&&!e.offsetParent&&e!==eg&&!i.svg&&(u=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,s=e.nextElementSibling,eg.appendChild(e)),r=Wk(e),u?n.display=u:af(e,"display"),d&&(s?o.insertBefore(e,s):o?o.appendChild(e):eg.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},X1=function(e,t,i,n,r,o){var s=e._gsap,u=r||$S(e,!0),d=s.xOrigin||0,g=s.yOrigin||0,x=s.xOffset||0,b=s.yOffset||0,S=u[0],P=u[1],I=u[2],O=u[3],H=u[4],Q=u[5],Y=t.split(" "),Z=parseFloat(Y[0])||0,J=parseFloat(Y[1])||0,re,q,ne,te;i?u!==b0&&(q=S*O-P*I)&&(ne=Z*(O/q)+J*(-I/q)+(I*Q-O*H)/q,te=Z*(-P/q)+J*(S/q)-(S*Q-P*H)/q,Z=ne,J=te):(re=CP(e),Z=re.x+(~Y[0].indexOf("%")?Z/100*re.width:Z),J=re.y+(~(Y[1]||Y[0]).indexOf("%")?J/100*re.height:J)),n||n!==!1&&s.smooth?(H=Z-d,Q=J-g,s.xOffset=x+(H*S+Q*I)-H,s.yOffset=b+(H*P+Q*O)-Q):s.xOffset=s.yOffset=0,s.xOrigin=Z,s.yOrigin=J,s.smooth=!!n,s.origin=t,s.originIsAbsolute=!!i,e.style[tc]="0px 0px",o&&(Nd(o,s,"xOrigin",d,Z),Nd(o,s,"yOrigin",g,J),Nd(o,s,"xOffset",x,s.xOffset),Nd(o,s,"yOffset",b,s.yOffset)),e.setAttribute("data-svg-origin",Z+" "+J)},C0=function(e,t){var i=e._gsap||new uP(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,r=i.scaleX<0,o="px",s="deg",u=getComputedStyle(e),d=Ec(e,tc)||"0",g,x,b,S,P,I,O,H,Q,Y,Z,J,re,q,ne,te,he,ve,de,be,De,Ie,nt,je,dt,Mt,We,Pt,Kt,di,It,bt;return g=x=b=I=O=H=Q=Y=Z=0,S=P=1,i.svg=!!(e.getCTM&&SP(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(n[Ts]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Ts]!=="none"?u[Ts]:"")),n.scale=n.rotate=n.translate="none"),q=$S(e,i.svg),i.svg&&(i.uncache?(dt=e.getBBox(),d=i.xOrigin-dt.x+"px "+(i.yOrigin-dt.y)+"px",je=""):je=!t&&e.getAttribute("data-svg-origin"),X1(e,je||d,!!je||i.originIsAbsolute,i.smooth!==!1,q)),J=i.xOrigin||0,re=i.yOrigin||0,q!==b0&&(ve=q[0],de=q[1],be=q[2],De=q[3],g=Ie=q[4],x=nt=q[5],q.length===6?(S=Math.sqrt(ve*ve+de*de),P=Math.sqrt(De*De+be*be),I=ve||de?yp(de,ve)*Xf:0,Q=be||De?yp(be,De)*Xf+I:0,Q&&(P*=Math.abs(Math.cos(Q*tg))),i.svg&&(g-=J-(J*ve+re*be),x-=re-(J*de+re*De))):(bt=q[6],di=q[7],We=q[8],Pt=q[9],Kt=q[10],It=q[11],g=q[12],x=q[13],b=q[14],ne=yp(bt,Kt),O=ne*Xf,ne&&(te=Math.cos(-ne),he=Math.sin(-ne),je=Ie*te+We*he,dt=nt*te+Pt*he,Mt=bt*te+Kt*he,We=Ie*-he+We*te,Pt=nt*-he+Pt*te,Kt=bt*-he+Kt*te,It=di*-he+It*te,Ie=je,nt=dt,bt=Mt),ne=yp(-be,Kt),H=ne*Xf,ne&&(te=Math.cos(-ne),he=Math.sin(-ne),je=ve*te-We*he,dt=de*te-Pt*he,Mt=be*te-Kt*he,It=De*he+It*te,ve=je,de=dt,be=Mt),ne=yp(de,ve),I=ne*Xf,ne&&(te=Math.cos(ne),he=Math.sin(ne),je=ve*te+de*he,dt=Ie*te+nt*he,de=de*te-ve*he,nt=nt*te-Ie*he,ve=je,Ie=dt),O&&Math.abs(O)+Math.abs(I)>359.9&&(O=I=0,H=180-H),S=qs(Math.sqrt(ve*ve+de*de+be*be)),P=qs(Math.sqrt(nt*nt+bt*bt)),ne=yp(Ie,nt),Q=Math.abs(ne)>2e-4?ne*Xf:0,Z=It?1/(It<0?-It:It):0),i.svg&&(je=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!EP(Ec(e,Ts)),je&&e.setAttribute("transform",je))),Math.abs(Q)>90&&Math.abs(Q)<270&&(r?(S*=-1,Q+=I<=0?180:-180,I+=I<=0?180:-180):(P*=-1,Q+=Q<=0?180:-180)),t=t||i.uncache,i.x=g-((i.xPercent=g&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-g)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=x-((i.yPercent=x&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-x)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=b+o,i.scaleX=qs(S),i.scaleY=qs(P),i.rotation=qs(I)+s,i.rotationX=qs(O)+s,i.rotationY=qs(H)+s,i.skewX=Q+s,i.skewY=Y+s,i.transformPerspective=Z+o,(i.zOrigin=parseFloat(d.split(" ")[2])||!t&&i.zOrigin||0)&&(n[tc]=B_(d)),i.xOffset=i.yOffset=0,i.force3D=kc.force3D,i.renderTransform=i.svg?A5:bP?kP:f5,i.uncache=0,i},B_=function(e){return(e=e.split(" "))[0]+" "+e[1]},qw=function(e,t,i){var n=cl(t);return qs(parseFloat(t)+parseFloat(rf(e,"x",i+"px",n)))+n},f5=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,kP(e,t)},Nf="0deg",hm="0px",zf=") ",kP=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,s=i.y,u=i.z,d=i.rotation,g=i.rotationY,x=i.rotationX,b=i.skewX,S=i.skewY,P=i.scaleX,I=i.scaleY,O=i.transformPerspective,H=i.force3D,Q=i.target,Y=i.zOrigin,Z="",J=H==="auto"&&e&&e!==1||H===!0;if(Y&&(x!==Nf||g!==Nf)){var re=parseFloat(g)*tg,q=Math.sin(re),ne=Math.cos(re),te;re=parseFloat(x)*tg,te=Math.cos(re),o=qw(Q,o,q*te*-Y),s=qw(Q,s,-Math.sin(re)*-Y),u=qw(Q,u,ne*te*-Y+Y)}O!==hm&&(Z+="perspective("+O+zf),(n||r)&&(Z+="translate("+n+"%, "+r+"%) "),(J||o!==hm||s!==hm||u!==hm)&&(Z+=u!==hm||J?"translate3d("+o+", "+s+", "+u+") ":"translate("+o+", "+s+zf),d!==Nf&&(Z+="rotate("+d+zf),g!==Nf&&(Z+="rotateY("+g+zf),x!==Nf&&(Z+="rotateX("+x+zf),(b!==Nf||S!==Nf)&&(Z+="skew("+b+", "+S+zf),(P!==1||I!==1)&&(Z+="scale("+P+", "+I+zf),Q.style[Ts]=Z||"translate(0, 0)"},A5=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,o=i.x,s=i.y,u=i.rotation,d=i.skewX,g=i.skewY,x=i.scaleX,b=i.scaleY,S=i.target,P=i.xOrigin,I=i.yOrigin,O=i.xOffset,H=i.yOffset,Q=i.forceCSS,Y=parseFloat(o),Z=parseFloat(s),J,re,q,ne,te;u=parseFloat(u),d=parseFloat(d),g=parseFloat(g),g&&(g=parseFloat(g),d+=g,u+=g),u||d?(u*=tg,d*=tg,J=Math.cos(u)*x,re=Math.sin(u)*x,q=Math.sin(u-d)*-b,ne=Math.cos(u-d)*b,d&&(g*=tg,te=Math.tan(d-g),te=Math.sqrt(1+te*te),q*=te,ne*=te,g&&(te=Math.tan(g),te=Math.sqrt(1+te*te),J*=te,re*=te)),J=qs(J),re=qs(re),q=qs(q),ne=qs(ne)):(J=x,ne=b,re=q=0),(Y&&!~(o+"").indexOf("px")||Z&&!~(s+"").indexOf("px"))&&(Y=rf(S,"x",o,"px"),Z=rf(S,"y",s,"px")),(P||I||O||H)&&(Y=qs(Y+P-(P*J+I*q)+O),Z=qs(Z+I-(P*re+I*ne)+H)),(n||r)&&(te=S.getBBox(),Y=qs(Y+n/100*te.width),Z=qs(Z+r/100*te.height)),te="matrix("+J+","+re+","+q+","+ne+","+Y+","+Z+")",S.setAttribute("transform",te),Q&&(S.style[Ts]=te)},p5=function(e,t,i,n,r){var o=360,s=Fo(r),u=parseFloat(r)*(s&&~r.indexOf("rad")?Xf:1),d=u-n,g=n+d+"deg",x,b;return s&&(x=r.split("_")[1],x==="short"&&(d%=o,d!==d%(o/2)&&(d+=d<0?o:-o)),x==="cw"&&d<0?d=(d+o*zk)%o-~~(d/o)*o:x==="ccw"&&d>0&&(d=(d-o*zk)%o-~~(d/o)*o)),e._pt=b=new ec(e._pt,t,i,n,d,qz),b.e=g,b.u="deg",e._props.push(i),b},$k=function(e,t){for(var i in t)e[i]=t[i];return e},g5=function(e,t,i){var n=$k({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=i.style,s,u,d,g,x,b,S,P;n.svg?(d=i.getAttribute("transform"),i.setAttribute("transform",""),o[Ts]=t,s=C0(i,1),af(i,Ts),i.setAttribute("transform",d)):(d=getComputedStyle(i)[Ts],o[Ts]=t,s=C0(i,1),o[Ts]=d);for(u in pd)d=n[u],g=s[u],d!==g&&r.indexOf(u)<0&&(S=cl(d),P=cl(g),x=S!==P?rf(i,u,d,P):parseFloat(d),b=parseFloat(g),e._pt=new ec(e._pt,s,u,x,b-x,G1),e._pt.u=P||0,e._props.push(u));$k(s,n)};Jl("padding,margin,Width,Radius",function(a,e){var t="Top",i="Right",n="Bottom",r="Left",o=(e<3?[t,i,n,r]:[t+r,t+i,n+i,n+r]).map(function(s){return e<2?a+s:"border"+s+a});S_[e>1?"border"+a:a]=function(s,u,d,g,x){var b,S;if(arguments.length<4)return b=o.map(function(P){return td(s,P,d)}),S=b.join(" "),S.split(b[0]).length===5?b[0]:S;b=(g+"").split(" "),S={},o.forEach(function(P,I){return S[P]=b[I]=b[I]||b[(I-1)/2|0]}),s.init(u,S,x)}});var TP={name:"css",register:$1,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var o=this._props,s=e.style,u=i.vars.startAt,d,g,x,b,S,P,I,O,H,Q,Y,Z,J,re,q,ne,te;VS||$1(),this.styles=this.styles||wP(e),ne=this.styles.props,this.tween=i;for(I in t)if(I!=="autoRound"&&(g=t[I],!(wc[I]&&hP(I,t,i,n,e,r)))){if(S=typeof g,P=S_[I],S==="function"&&(g=g.call(i,n,e,r),S=typeof g),S==="string"&&~g.indexOf("random(")&&(g=_0(g)),P)P(this,e,I,g,i)&&(q=1);else if(I.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(I)+"").trim(),g+="",Kd.lastIndex=0,Kd.test(d)||(O=cl(d),H=cl(g),H?O!==H&&(d=rf(e,I,d,H)+H):O&&(g+=O)),this.add(s,"setProperty",d,g,n,r,0,0,I),o.push(I),ne.push(I,0,s[I]);else if(S!=="undefined"){if(u&&I in u?(d=typeof u[I]=="function"?u[I].call(i,n,e,r):u[I],Fo(d)&&~d.indexOf("random(")&&(d=_0(d)),cl(d+"")||d==="auto"||(d+=kc.units[I]||cl(td(e,I))||""),(d+"").charAt(1)==="="&&(d=td(e,I))):d=td(e,I),b=parseFloat(d),Q=S==="string"&&g.charAt(1)==="="&&g.substr(0,2),Q&&(g=g.substr(2)),x=parseFloat(g),I in dh&&(I==="autoAlpha"&&(b===1&&td(e,"visibility")==="hidden"&&x&&(b=0),ne.push("visibility",0,s.visibility),Nd(this,s,"visibility",b?"inherit":"hidden",x?"inherit":"hidden",!x)),I!=="scale"&&I!=="transform"&&(I=dh[I],~I.indexOf(",")&&(I=I.split(",")[0]))),Y=I in pd,Y){if(this.styles.save(I),te=g,S==="string"&&g.substring(0,6)==="var(--"){if(g=Ec(e,g.substring(4,g.indexOf(")"))),g.substring(0,5)==="calc("){var he=e.style.perspective;e.style.perspective=g,g=Ec(e,"perspective"),he?e.style.perspective=he:af(e,"perspective")}x=parseFloat(g)}if(Z||(J=e._gsap,J.renderTransform&&!t.parseTransform||C0(e,t.parseTransform),re=t.smoothOrigin!==!1&&J.smooth,Z=this._pt=new ec(this._pt,s,Ts,0,1,J.renderTransform,J,0,-1),Z.dep=1),I==="scale")this._pt=new ec(this._pt,J,"scaleY",J.scaleY,(Q?Jp(J.scaleY,Q+x):x)-J.scaleY||0,G1),this._pt.u=0,o.push("scaleY",I),I+="X";else if(I==="transformOrigin"){ne.push(tc,0,s[tc]),g=h5(g),J.svg?X1(e,g,0,re,0,this):(H=parseFloat(g.split(" ")[2])||0,H!==J.zOrigin&&Nd(this,J,"zOrigin",J.zOrigin,H),Nd(this,s,I,B_(d),B_(g)));continue}else if(I==="svgOrigin"){X1(e,g,1,re,0,this);continue}else if(I in BP){p5(this,J,I,b,Q?Jp(b,Q+g):g);continue}else if(I==="smoothOrigin"){Nd(this,J,"smooth",J.smooth,g);continue}else if(I==="force3D"){J[I]=g;continue}else if(I==="transform"){g5(this,g,e);continue}}else I in s||(I=Ag(I)||I);if(Y||(x||x===0)&&(b||b===0)&&!Kz.test(g)&&I in s)O=(d+"").substr((b+"").length),x||(x=0),H=cl(g)||(I in kc.units?kc.units[I]:O),O!==H&&(b=rf(e,I,d,H)),this._pt=new ec(this._pt,Y?J:s,I,b,(Q?Jp(b,Q+x):x)-b,!Y&&(H==="px"||I==="zIndex")&&t.autoRound!==!1?e5:G1),this._pt.u=H||0,Y&&te!==g?(this._pt.b=d,this._pt.e=te,this._pt.r=Jz):O!==H&&H!=="%"&&(this._pt.b=d,this._pt.r=Zz);else if(I in s)u5.call(this,e,I,d,Q?Q+g:g);else if(I in e)this.add(e,I,d||e[I],Q?Q+g:g,n,r);else if(I!=="parseTransform"){PS(I,g);continue}Y||(I in s?ne.push(I,0,s[I]):typeof e[I]=="function"?ne.push(I,2,e[I]()):ne.push(I,1,d||e[I])),o.push(I)}}q&&mP(this)},render:function(e,t){if(t.tween._time||!GS())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:td,aliases:dh,getSetter:function(e,t,i){var n=dh[t];return n&&n.indexOf(",")<0&&(t=n),t in pd&&t!==tc&&(e._gsap.x||td(e,"x"))?i&&Nk===i?t==="scale"?a5:n5:(Nk=i||{})&&(t==="scale"?r5:s5):e.style&&!MS(e.style[t])?t5:~t.indexOf("-")?i5:QS(e,t)},core:{_removeProperty:af,_getMatrix:$S}};ic.utils.checkPrefix=Ag;ic.core.getStyleSaver=wP;(function(a,e,t,i){var n=Jl(a+","+e+","+t,function(r){pd[r]=1});Jl(e,function(r){kc.units[r]="deg",BP[r]=1}),dh[n[13]]=a+","+e,Jl(i,function(r){var o=r.split(":");dh[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Jl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(a){kc.units[a]="px"});ic.registerPlugin(TP);var XS=ic.registerPlugin(TP)||ic;XS.core.Tween;function m5(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function y5(a,e,t){return e&&m5(a.prototype,e),a}var jo,Yx,Sc,zd,Hd,ig,IP,Yf,Km,MP,sd,bu,LP,FP=function(){return jo||typeof window<"u"&&(jo=window.gsap)&&jo.registerPlugin&&jo},PP=1,jp=[],Ra=[],Ah=[],qm=Date.now,Y1=function(e,t){return t},x5=function(){var e=Km.core,t=e.bridge||{},i=e._scrollers,n=e._proxies;i.push.apply(i,Ra),n.push.apply(n,Ah),Ra=i,Ah=n,Y1=function(o,s){return t[o](s)}},qd=function(e,t){return~Ah.indexOf(e)&&Ah[Ah.indexOf(e)+1][t]},Zm=function(e){return!!~MP.indexOf(e)},wl=function(e,t,i,n,r){return e.addEventListener(t,i,{passive:n!==!1,capture:!!r})},vl=function(e,t,i,n){return e.removeEventListener(t,i,!!n)},Gy="scrollLeft",Wy="scrollTop",K1=function(){return sd&&sd.isPressed||Ra.cache++},E_=function(e,t){var i=function n(r){if(r||r===0){PP&&(Sc.history.scrollRestoration="manual");var o=sd&&sd.isPressed;r=n.v=Math.round(r)||(sd&&sd.iOS?1:0),e(r),n.cacheID=Ra.cache,o&&Y1("ss",r)}else(t||Ra.cache!==n.cacheID||Y1("ref"))&&(n.cacheID=Ra.cache,n.v=e());return n.v+n.offset};return i.offset=0,e&&i},Tl={s:Gy,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:E_(function(a){return arguments.length?Sc.scrollTo(a,po.sc()):Sc.pageXOffset||zd[Gy]||Hd[Gy]||ig[Gy]||0})},po={s:Wy,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Tl,sc:E_(function(a){return arguments.length?Sc.scrollTo(Tl.sc(),a):Sc.pageYOffset||zd[Wy]||Hd[Wy]||ig[Wy]||0})},$l=function(e,t){return(t&&t._ctx&&t._ctx.selector||jo.utils.toArray)(e)[0]||(typeof e=="string"&&jo.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},_5=function(e,t){for(var i=t.length;i--;)if(t[i]===e||t[i].contains(e))return!0;return!1},sf=function(e,t){var i=t.s,n=t.sc;Zm(e)&&(e=zd.scrollingElement||Hd);var r=Ra.indexOf(e),o=n===po.sc?1:2;!~r&&(r=Ra.push(e)-1),Ra[r+o]||wl(e,"scroll",K1);var s=Ra[r+o],u=s||(Ra[r+o]=E_(qd(e,i),!0)||(Zm(e)?n:E_(function(d){return arguments.length?e[i]=d:e[i]})));return u.target=e,s||(u.smooth=jo.getProperty(e,"scrollBehavior")==="smooth"),u},q1=function(e,t,i){var n=e,r=e,o=qm(),s=o,u=t||50,d=Math.max(500,u*3),g=function(P,I){var O=qm();I||O-o>u?(r=n,n=P,s=o,o=O):i?n+=P:n=r+(P-r)/(O-s)*(o-s)},x=function(){r=n=i?0:n,s=o=0},b=function(P){var I=s,O=r,H=qm();return(P||P===0)&&P!==n&&g(P),o===s||H-s>d?0:(n+(i?O:-O))/((i?H:o)-I)*1e3};return{update:g,reset:x,getVelocity:b}},dm=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},Xk=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},DP=function(){Km=jo.core.globals().ScrollTrigger,Km&&Km.core&&x5()},RP=function(e){return jo=e||FP(),!Yx&&jo&&typeof document<"u"&&document.body&&(Sc=window,zd=document,Hd=zd.documentElement,ig=zd.body,MP=[Sc,zd,Hd,ig],jo.utils.clamp,LP=jo.core.context||function(){},Yf="onpointerenter"in ig?"pointer":"mouse",IP=Zs.isTouch=Sc.matchMedia&&Sc.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Sc||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,bu=Zs.eventTypes=("ontouchstart"in Hd?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Hd?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return PP=0},500),DP(),Yx=1),Yx};Tl.op=po;Ra.cache=0;var Zs=(function(){function a(t){this.init(t)}var e=a.prototype;return e.init=function(i){Yx||RP(jo)||console.warn("Please gsap.registerPlugin(Observer)"),Km||DP();var n=i.tolerance,r=i.dragMinimum,o=i.type,s=i.target,u=i.lineHeight,d=i.debounce,g=i.preventDefault,x=i.onStop,b=i.onStopDelay,S=i.ignore,P=i.wheelSpeed,I=i.event,O=i.onDragStart,H=i.onDragEnd,Q=i.onDrag,Y=i.onPress,Z=i.onRelease,J=i.onRight,re=i.onLeft,q=i.onUp,ne=i.onDown,te=i.onChangeX,he=i.onChangeY,ve=i.onChange,de=i.onToggleX,be=i.onToggleY,De=i.onHover,Ie=i.onHoverEnd,nt=i.onMove,je=i.ignoreCheck,dt=i.isNormalizer,Mt=i.onGestureStart,We=i.onGestureEnd,Pt=i.onWheel,Kt=i.onEnable,di=i.onDisable,It=i.onClick,bt=i.scrollSpeed,mt=i.capture,si=i.allowClicks,gi=i.lockAxis,Vi=i.onLockAxis;this.target=s=$l(s)||Hd,this.vars=i,S&&(S=jo.utils.toArray(S)),n=n||1e-9,r=r||0,P=P||1,bt=bt||1,o=o||"wheel,touch,pointer",d=d!==!1,u||(u=parseFloat(Sc.getComputedStyle(ig).lineHeight)||22);var Ii,oi,fn,Mi,Ji,rn,xn,Ye=this,Yt=0,ci=0,Oi=i.passive||!g&&i.passive!==!1,ui=sf(s,Tl),$i=sf(s,po),wi=ui(),Ei=$i(),Fi=~o.indexOf("touch")&&!~o.indexOf("pointer")&&bu[0]==="pointerdown",ft=Zm(s),xe=s.ownerDocument||zd,we=[0,0,0],Ee=[0,0,0],tt=0,st=function(){return tt=qm()},Ct=function(Di,gn){return(Ye.event=Di)&&S&&_5(Di.target,S)||gn&&Fi&&Di.pointerType!=="touch"||je&&je(Di,gn)},yt=function(){Ye._vx.reset(),Ye._vy.reset(),oi.pause(),x&&x(Ye)},Ve=function(){var Di=Ye.deltaX=Xk(we),gn=Ye.deltaY=Xk(Ee),fi=Math.abs(Di)>=n,Xi=Math.abs(gn)>=n;ve&&(fi||Xi)&&ve(Ye,Di,gn,we,Ee),fi&&(J&&Ye.deltaX>0&&J(Ye),re&&Ye.deltaX<0&&re(Ye),te&&te(Ye),de&&Ye.deltaX<0!=Yt<0&&de(Ye),Yt=Ye.deltaX,we[0]=we[1]=we[2]=0),Xi&&(ne&&Ye.deltaY>0&&ne(Ye),q&&Ye.deltaY<0&&q(Ye),he&&he(Ye),be&&Ye.deltaY<0!=ci<0&&be(Ye),ci=Ye.deltaY,Ee[0]=Ee[1]=Ee[2]=0),(Mi||fn)&&(nt&&nt(Ye),fn&&(O&&fn===1&&O(Ye),Q&&Q(Ye),fn=0),Mi=!1),rn&&!(rn=!1)&&Vi&&Vi(Ye),Ji&&(Pt(Ye),Ji=!1),Ii=0},xt=function(Di,gn,fi){we[fi]+=Di,Ee[fi]+=gn,Ye._vx.update(Di),Ye._vy.update(gn),d?Ii||(Ii=requestAnimationFrame(Ve)):Ve()},jt=function(Di,gn){gi&&!xn&&(Ye.axis=xn=Math.abs(Di)>Math.abs(gn)?"x":"y",rn=!0),xn!=="y"&&(we[2]+=Di,Ye._vx.update(Di,!0)),xn!=="x"&&(Ee[2]+=gn,Ye._vy.update(gn,!0)),d?Ii||(Ii=requestAnimationFrame(Ve)):Ve()},kt=function(Di){if(!Ct(Di,1)){Di=dm(Di,g);var gn=Di.clientX,fi=Di.clientY,Xi=gn-Ye.x,sn=fi-Ye.y,Ue=Ye.isDragging;Ye.x=gn,Ye.y=fi,(Ue||(Xi||sn)&&(Math.abs(Ye.startX-gn)>=r||Math.abs(Ye.startY-fi)>=r))&&(fn||(fn=Ue?2:1),Ue||(Ye.isDragging=!0),jt(Xi,sn))}},Lt=Ye.onPress=function(Ni){Ct(Ni,1)||Ni&&Ni.button||(Ye.axis=xn=null,oi.pause(),Ye.isPressed=!0,Ni=dm(Ni),Yt=ci=0,Ye.startX=Ye.x=Ni.clientX,Ye.startY=Ye.y=Ni.clientY,Ye._vx.reset(),Ye._vy.reset(),wl(dt?s:xe,bu[1],kt,Oi,!0),Ye.deltaX=Ye.deltaY=0,Y&&Y(Ye))},ai=Ye.onRelease=function(Ni){if(!Ct(Ni,1)){vl(dt?s:xe,bu[1],kt,!0);var Di=!isNaN(Ye.y-Ye.startY),gn=Ye.isDragging,fi=gn&&(Math.abs(Ye.x-Ye.startX)>3||Math.abs(Ye.y-Ye.startY)>3),Xi=dm(Ni);!fi&&Di&&(Ye._vx.reset(),Ye._vy.reset(),g&&si&&jo.delayedCall(.08,function(){if(qm()-tt>300&&!Ni.defaultPrevented){if(Ni.target.click)Ni.target.click();else if(xe.createEvent){var sn=xe.createEvent("MouseEvents");sn.initMouseEvent("click",!0,!0,Sc,1,Xi.screenX,Xi.screenY,Xi.clientX,Xi.clientY,!1,!1,!1,!1,0,null),Ni.target.dispatchEvent(sn)}}})),Ye.isDragging=Ye.isGesturing=Ye.isPressed=!1,x&&gn&&!dt&&oi.restart(!0),fn&&Ve(),H&&gn&&H(Ye),Z&&Z(Ye,fi)}},bi=function(Di){return Di.touches&&Di.touches.length>1&&(Ye.isGesturing=!0)&&Mt(Di,Ye.isDragging)},Bi=function(){return(Ye.isGesturing=!1)||We(Ye)},In=function(Di){if(!Ct(Di)){var gn=ui(),fi=$i();xt((gn-wi)*bt,(fi-Ei)*bt,1),wi=gn,Ei=fi,x&&oi.restart(!0)}},Tt=function(Di){if(!Ct(Di)){Di=dm(Di,g),Pt&&(Ji=!0);var gn=(Di.deltaMode===1?u:Di.deltaMode===2?Sc.innerHeight:1)*P;xt(Di.deltaX*gn,Di.deltaY*gn,0),x&&!dt&&oi.restart(!0)}},Dn=function(Di){if(!Ct(Di)){var gn=Di.clientX,fi=Di.clientY,Xi=gn-Ye.x,sn=fi-Ye.y;Ye.x=gn,Ye.y=fi,Mi=!0,x&&oi.restart(!0),(Xi||sn)&&jt(Xi,sn)}},Kn=function(Di){Ye.event=Di,De(Ye)},yn=function(Di){Ye.event=Di,Ie(Ye)},An=function(Di){return Ct(Di)||dm(Di,g)&&It(Ye)};oi=Ye._dc=jo.delayedCall(b||.25,yt).pause(),Ye.deltaX=Ye.deltaY=0,Ye._vx=q1(0,50,!0),Ye._vy=q1(0,50,!0),Ye.scrollX=ui,Ye.scrollY=$i,Ye.isDragging=Ye.isGesturing=Ye.isPressed=!1,LP(this),Ye.enable=function(Ni){return Ye.isEnabled||(wl(ft?xe:s,"scroll",K1),o.indexOf("scroll")>=0&&wl(ft?xe:s,"scroll",In,Oi,mt),o.indexOf("wheel")>=0&&wl(s,"wheel",Tt,Oi,mt),(o.indexOf("touch")>=0&&IP||o.indexOf("pointer")>=0)&&(wl(s,bu[0],Lt,Oi,mt),wl(xe,bu[2],ai),wl(xe,bu[3],ai),si&&wl(s,"click",st,!0,!0),It&&wl(s,"click",An),Mt&&wl(xe,"gesturestart",bi),We&&wl(xe,"gestureend",Bi),De&&wl(s,Yf+"enter",Kn),Ie&&wl(s,Yf+"leave",yn),nt&&wl(s,Yf+"move",Dn)),Ye.isEnabled=!0,Ye.isDragging=Ye.isGesturing=Ye.isPressed=Mi=fn=!1,Ye._vx.reset(),Ye._vy.reset(),wi=ui(),Ei=$i(),Ni&&Ni.type&&Lt(Ni),Kt&&Kt(Ye)),Ye},Ye.disable=function(){Ye.isEnabled&&(jp.filter(function(Ni){return Ni!==Ye&&Zm(Ni.target)}).length||vl(ft?xe:s,"scroll",K1),Ye.isPressed&&(Ye._vx.reset(),Ye._vy.reset(),vl(dt?s:xe,bu[1],kt,!0)),vl(ft?xe:s,"scroll",In,mt),vl(s,"wheel",Tt,mt),vl(s,bu[0],Lt,mt),vl(xe,bu[2],ai),vl(xe,bu[3],ai),vl(s,"click",st,!0),vl(s,"click",An),vl(xe,"gesturestart",bi),vl(xe,"gestureend",Bi),vl(s,Yf+"enter",Kn),vl(s,Yf+"leave",yn),vl(s,Yf+"move",Dn),Ye.isEnabled=Ye.isPressed=Ye.isDragging=!1,di&&di(Ye))},Ye.kill=Ye.revert=function(){Ye.disable();var Ni=jp.indexOf(Ye);Ni>=0&&jp.splice(Ni,1),sd===Ye&&(sd=0)},jp.push(Ye),dt&&Zm(s)&&(sd=Ye),Ye.enable(I)},y5(a,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),a})();Zs.version="3.14.2";Zs.create=function(a){return new Zs(a)};Zs.register=RP;Zs.getAll=function(){return jp.slice()};Zs.getById=function(a){return jp.filter(function(e){return e.vars.id===a})[0]};FP()&&jo.registerPlugin(Zs);var zn,Rp,Da,es,bc,wr,YS,k_,S0,Jm,Tm,$y,nl,fv,Z1,Sl,Yk,Kk,Op,OP,Zw,UP,Cl,J1,NP,zP,Md,eC,KS,ng,qS,e0,tC,Jw,Xy=1,sl=Date.now,eb=sl(),nu=0,Im=0,qk=function(e,t,i){var n=vc(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=n,n?e.substr(6,e.length-7):e},Zk=function(e,t){return t&&(!vc(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},v5=function a(){return Im&&requestAnimationFrame(a)},Jk=function(){return fv=1},eT=function(){return fv=0},ch=function(e){return e},Mm=function(e){return Math.round(e*1e5)/1e5||0},HP=function(){return typeof window<"u"},QP=function(){return zn||HP()&&(zn=window.gsap)&&zn.registerPlugin&&zn},TA=function(e){return!!~YS.indexOf(e)},jP=function(e){return(e==="Height"?qS:Da["inner"+e])||bc["client"+e]||wr["client"+e]},VP=function(e){return qd(e,"getBoundingClientRect")||(TA(e)?function(){return e_.width=Da.innerWidth,e_.height=qS,e_}:function(){return nd(e)})},w5=function(e,t,i){var n=i.d,r=i.d2,o=i.a;return(o=qd(e,"getBoundingClientRect"))?function(){return o()[n]}:function(){return(t?jP(r):e["client"+r])||0}},b5=function(e,t){return!t||~Ah.indexOf(e)?VP(e):function(){return e_}},fh=function(e,t){var i=t.s,n=t.d2,r=t.d,o=t.a;return Math.max(0,(i="scroll"+n)&&(o=qd(e,i))?o()-VP(e)()[r]:TA(e)?(bc[i]||wr[i])-jP(n):e[i]-e["offset"+n])},Yy=function(e,t){for(var i=0;i<Op.length;i+=3)(!t||~t.indexOf(Op[i+1]))&&e(Op[i],Op[i+1],Op[i+2])},vc=function(e){return typeof e=="string"},ul=function(e){return typeof e=="function"},Lm=function(e){return typeof e=="number"},Kf=function(e){return typeof e=="object"},fm=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},tb=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},xp=Math.abs,GP="left",WP="top",ZS="right",JS="bottom",_A="width",vA="height",t0="Right",i0="Left",n0="Top",a0="Bottom",lo="padding",Yc="margin",pg="Width",e2="Height",Ao="px",Kc=function(e){return Da.getComputedStyle(e)},C5=function(e){var t=Kc(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},tT=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},nd=function(e,t){var i=t&&Kc(e)[Z1]!=="matrix(1, 0, 0, 1, 0, 0)"&&zn.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return i&&i.progress(0).kill(),n},T_=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},$P=function(e){var t=[],i=e.labels,n=e.duration(),r;for(r in i)t.push(i[r]/n);return t},S5=function(e){return function(t){return zn.utils.snap($P(e),t)}},t2=function(e){var t=zn.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(n,r){return n-r});return i?function(n,r,o){o===void 0&&(o=.001);var s;if(!r)return t(n);if(r>0){for(n-=o,s=0;s<i.length;s++)if(i[s]>=n)return i[s];return i[s-1]}else for(s=i.length,n+=o;s--;)if(i[s]<=n)return i[s];return i[0]}:function(n,r,o){o===void 0&&(o=.001);var s=t(n);return!r||Math.abs(s-n)<o||s-n<0==r<0?s:t(r<0?n-e:n+e)}},B5=function(e){return function(t,i){return t2($P(e))(t,i.direction)}},Ky=function(e,t,i,n){return i.split(",").forEach(function(r){return e(t,r,n)})},Mo=function(e,t,i,n,r){return e.addEventListener(t,i,{passive:!n,capture:!!r})},Io=function(e,t,i,n){return e.removeEventListener(t,i,!!n)},qy=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},iT={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Zy={toggleActions:"play",anticipatePin:0},I_={top:0,left:0,center:.5,bottom:1,right:1},Kx=function(e,t){if(vc(e)){var i=e.indexOf("="),n=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(n*=t/100),e=e.substr(0,i-1)),e=n+(e in I_?I_[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Jy=function(e,t,i,n,r,o,s,u){var d=r.startColor,g=r.endColor,x=r.fontSize,b=r.indent,S=r.fontWeight,P=es.createElement("div"),I=TA(i)||qd(i,"pinType")==="fixed",O=e.indexOf("scroller")!==-1,H=I?wr:i,Q=e.indexOf("start")!==-1,Y=Q?d:g,Z="border-color:"+Y+";font-size:"+x+";color:"+Y+";font-weight:"+S+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Z+="position:"+((O||u)&&I?"fixed;":"absolute;"),(O||u||!I)&&(Z+=(n===po?ZS:JS)+":"+(o+parseFloat(b))+"px;"),s&&(Z+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),P._isStart=Q,P.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),P.style.cssText=Z,P.innerText=t||t===0?e+"-"+t:e,H.children[0]?H.insertBefore(P,H.children[0]):H.appendChild(P),P._offset=P["offset"+n.op.d2],qx(P,0,n,Q),P},qx=function(e,t,i,n){var r={display:"block"},o=i[n?"os2":"p2"],s=i[n?"p2":"os2"];e._isFlipped=n,r[i.a+"Percent"]=n?-100:0,r[i.a]=n?"1px":0,r["border"+o+pg]=1,r["border"+s+pg]=0,r[i.p]=t+"px",zn.set(e,r)},Fa=[],iC={},B0,nT=function(){return sl()-nu>34&&(B0||(B0=requestAnimationFrame(hd)))},_p=function(){(!Cl||!Cl.isPressed||Cl.startX>wr.clientWidth)&&(Ra.cache++,Cl?B0||(B0=requestAnimationFrame(hd)):hd(),nu||MA("scrollStart"),nu=sl())},ib=function(){zP=Da.innerWidth,NP=Da.innerHeight},Fm=function(e){Ra.cache++,(e===!0||!nl&&!UP&&!es.fullscreenElement&&!es.webkitFullscreenElement&&(!J1||zP!==Da.innerWidth||Math.abs(Da.innerHeight-NP)>Da.innerHeight*.25))&&k_.restart(!0)},IA={},E5=[],XP=function a(){return Io(Oa,"scrollEnd",a)||lA(!0)},MA=function(e){return IA[e]&&IA[e].map(function(t){return t()})||E5},_c=[],YP=function(e){for(var t=0;t<_c.length;t+=5)(!e||_c[t+4]&&_c[t+4].query===e)&&(_c[t].style.cssText=_c[t+1],_c[t].getBBox&&_c[t].setAttribute("transform",_c[t+2]||""),_c[t+3].uncache=1)},KP=function(){return Ra.forEach(function(e){return ul(e)&&++e.cacheID&&(e.rec=e())})},i2=function(e,t){var i;for(Sl=0;Sl<Fa.length;Sl++)i=Fa[Sl],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));e0=!0,t&&YP(t),t||MA("revert")},qP=function(e,t){Ra.cache++,(t||!Bl)&&Ra.forEach(function(i){return ul(i)&&i.cacheID++&&(i.rec=0)}),vc(e)&&(Da.history.scrollRestoration=KS=e)},Bl,wA=0,aT,k5=function(){if(aT!==wA){var e=aT=wA;requestAnimationFrame(function(){return e===wA&&lA(!0)})}},ZP=function(){wr.appendChild(ng),qS=!Cl&&ng.offsetHeight||Da.innerHeight,wr.removeChild(ng)},rT=function(e){return S0(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},lA=function(e,t){if(bc=es.documentElement,wr=es.body,YS=[Da,es,bc,wr],nu&&!e&&!e0){Mo(Oa,"scrollEnd",XP);return}ZP(),Bl=Oa.isRefreshing=!0,e0||KP();var i=MA("refreshInit");OP&&Oa.sort(),t||i2(),Ra.forEach(function(n){ul(n)&&(n.smooth&&(n.target.style.scrollBehavior="auto"),n(0))}),Fa.slice(0).forEach(function(n){return n.refresh()}),e0=!1,Fa.forEach(function(n){if(n._subPinOffset&&n.pin){var r=n.vars.horizontal?"offsetWidth":"offsetHeight",o=n.pin[r];n.revert(!0,1),n.adjustPinSpacing(n.pin[r]-o),n.refresh()}}),tC=1,rT(!0),Fa.forEach(function(n){var r=fh(n.scroller,n._dir),o=n.vars.end==="max"||n._endClamp&&n.end>r,s=n._startClamp&&n.start>=r;(o||s)&&n.setPositions(s?r-1:n.start,o?Math.max(s?r:n.start+1,r):n.end,!0)}),rT(!1),tC=0,i.forEach(function(n){return n&&n.render&&n.render(-1)}),Ra.forEach(function(n){ul(n)&&(n.smooth&&requestAnimationFrame(function(){return n.target.style.scrollBehavior="smooth"}),n.rec&&n(n.rec))}),qP(KS,1),k_.pause(),wA++,Bl=2,hd(2),Fa.forEach(function(n){return ul(n.vars.onRefresh)&&n.vars.onRefresh(n)}),Bl=Oa.isRefreshing=!1,MA("refresh")},nC=0,Zx=1,r0,hd=function(e){if(e===2||!Bl&&!e0){Oa.isUpdating=!0,r0&&r0.update(0);var t=Fa.length,i=sl(),n=i-eb>=50,r=t&&Fa[0].scroll();if(Zx=nC>r?-1:1,Bl||(nC=r),n&&(nu&&!fv&&i-nu>200&&(nu=0,MA("scrollEnd")),Tm=eb,eb=i),Zx<0){for(Sl=t;Sl-- >0;)Fa[Sl]&&Fa[Sl].update(0,n);Zx=1}else for(Sl=0;Sl<t;Sl++)Fa[Sl]&&Fa[Sl].update(0,n);Oa.isUpdating=!1}B0=0},aC=[GP,WP,JS,ZS,Yc+a0,Yc+t0,Yc+n0,Yc+i0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Jx=aC.concat([_A,vA,"boxSizing","max"+pg,"max"+e2,"position",Yc,lo,lo+n0,lo+t0,lo+a0,lo+i0]),T5=function(e,t,i){ag(i);var n=e._gsap;if(n.spacerIsNative)ag(n.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1},nb=function(e,t,i,n){if(!e._gsap.swappedIn){for(var r=aC.length,o=t.style,s=e.style,u;r--;)u=aC[r],o[u]=i[u];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),s[JS]=s[ZS]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[_A]=T_(e,Tl)+Ao,o[vA]=T_(e,po)+Ao,o[lo]=s[Yc]=s[WP]=s[GP]="0",ag(n),s[_A]=s["max"+pg]=i[_A],s[vA]=s["max"+e2]=i[vA],s[lo]=i[lo],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},I5=/([A-Z])/g,ag=function(e){if(e){var t=e.t.style,i=e.length,n=0,r,o;for((e.t._gsap||zn.core.getCache(e.t)).uncache=1;n<i;n+=2)o=e[n+1],r=e[n],o?t[r]=o:t[r]&&t.removeProperty(r.replace(I5,"-$1").toLowerCase())}},ex=function(e){for(var t=Jx.length,i=e.style,n=[],r=0;r<t;r++)n.push(Jx[r],i[Jx[r]]);return n.t=e,n},M5=function(e,t,i){for(var n=[],r=e.length,o=i?8:0,s;o<r;o+=2)s=e[o],n.push(s,s in t?t[s]:e[o+1]);return n.t=e.t,n},e_={left:0,top:0},sT=function(e,t,i,n,r,o,s,u,d,g,x,b,S,P){ul(e)&&(e=e(u)),vc(e)&&e.substr(0,3)==="max"&&(e=b+(e.charAt(4)==="="?Kx("0"+e.substr(3),i):0));var I=S?S.time():0,O,H,Q;if(S&&S.seek(0),isNaN(e)||(e=+e),Lm(e))S&&(e=zn.utils.mapRange(S.scrollTrigger.start,S.scrollTrigger.end,0,b,e)),s&&qx(s,i,n,!0);else{ul(t)&&(t=t(u));var Y=(e||"0").split(" "),Z,J,re,q;Q=$l(t,u)||wr,Z=nd(Q)||{},(!Z||!Z.left&&!Z.top)&&Kc(Q).display==="none"&&(q=Q.style.display,Q.style.display="block",Z=nd(Q),q?Q.style.display=q:Q.style.removeProperty("display")),J=Kx(Y[0],Z[n.d]),re=Kx(Y[1]||"0",i),e=Z[n.p]-d[n.p]-g+J+r-re,s&&qx(s,re,n,i-re<20||s._isStart&&re>20),i-=i-re}if(P&&(u[P]=e||-.001,e<0&&(e=0)),o){var ne=e+i,te=o._isStart;O="scroll"+n.d2,qx(o,ne,n,te&&ne>20||!te&&(x?Math.max(wr[O],bc[O]):o.parentNode[O])<=ne+1),x&&(d=nd(s),x&&(o.style[n.op.p]=d[n.op.p]-n.op.m-o._offset+Ao))}return S&&Q&&(O=nd(Q),S.seek(b),H=nd(Q),S._caScrollDist=O[n.p]-H[n.p],e=e/S._caScrollDist*b),S&&S.seek(I),S?e:Math.round(e)},L5=/(webkit|moz|length|cssText|inset)/i,oT=function(e,t,i,n){if(e.parentNode!==t){var r=e.style,o,s;if(t===wr){e._stOrig=r.cssText,s=Kc(e);for(o in s)!+o&&!L5.test(o)&&s[o]&&typeof r[o]=="string"&&o!=="0"&&(r[o]=s[o]);r.top=i,r.left=n}else r.cssText=e._stOrig;zn.core.getCache(e).uncache=1,t.appendChild(e)}},JP=function(e,t,i){var n=t,r=n;return function(o){var s=Math.round(e());return s!==n&&s!==r&&Math.abs(s-n)>3&&Math.abs(s-r)>3&&(o=s,i&&i()),r=n,n=Math.round(o),n}},tx=function(e,t,i){var n={};n[t.p]="+="+i,zn.set(e,n)},lT=function(e,t){var i=sf(e,t),n="_scroll"+t.p2,r=function o(s,u,d,g,x){var b=o.tween,S=u.onComplete,P={};d=d||i();var I=JP(i,d,function(){b.kill(),o.tween=0});return x=g&&x||0,g=g||s-d,b&&b.kill(),u[n]=s,u.inherit=!1,u.modifiers=P,P[n]=function(){return I(d+g*b.ratio+x*b.ratio*b.ratio)},u.onUpdate=function(){Ra.cache++,o.tween&&hd()},u.onComplete=function(){o.tween=0,S&&S.call(b)},b=o.tween=zn.to(e,u),b};return e[n]=i,i.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},Mo(e,"wheel",i.wheelHandler),Oa.isTouch&&Mo(e,"touchmove",i.wheelHandler),r},Oa=(function(){function a(t,i){Rp||a.register(zn)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),eC(this),this.init(t,i)}var e=a.prototype;return e.init=function(i,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Im){this.update=this.refresh=this.kill=ch;return}i=tT(vc(i)||Lm(i)||i.nodeType?{trigger:i}:i,Zy);var r=i,o=r.onUpdate,s=r.toggleClass,u=r.id,d=r.onToggle,g=r.onRefresh,x=r.scrub,b=r.trigger,S=r.pin,P=r.pinSpacing,I=r.invalidateOnRefresh,O=r.anticipatePin,H=r.onScrubComplete,Q=r.onSnapComplete,Y=r.once,Z=r.snap,J=r.pinReparent,re=r.pinSpacer,q=r.containerAnimation,ne=r.fastScrollEnd,te=r.preventOverlaps,he=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Tl:po,ve=!x&&x!==0,de=$l(i.scroller||Da),be=zn.core.getCache(de),De=TA(de),Ie=("pinType"in i?i.pinType:qd(de,"pinType")||De&&"fixed")==="fixed",nt=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],je=ve&&i.toggleActions.split(" "),dt="markers"in i?i.markers:Zy.markers,Mt=De?0:parseFloat(Kc(de)["border"+he.p2+pg])||0,We=this,Pt=i.onRefreshInit&&function(){return i.onRefreshInit(We)},Kt=w5(de,De,he),di=b5(de,De),It=0,bt=0,mt=0,si=sf(de,he),gi,Vi,Ii,oi,fn,Mi,Ji,rn,xn,Ye,Yt,ci,Oi,ui,$i,wi,Ei,Fi,ft,xe,we,Ee,tt,st,Ct,yt,Ve,xt,jt,kt,Lt,ai,bi,Bi,In,Tt,Dn,Kn,yn;if(We._startClamp=We._endClamp=!1,We._dir=he,O*=45,We.scroller=de,We.scroll=q?q.time.bind(q):si,oi=si(),We.vars=i,n=n||i.animation,"refreshPriority"in i&&(OP=1,i.refreshPriority===-9999&&(r0=We)),be.tweenScroll=be.tweenScroll||{top:lT(de,po),left:lT(de,Tl)},We.tweenTo=gi=be.tweenScroll[he.p],We.scrubDuration=function(fi){bi=Lm(fi)&&fi,bi?ai?ai.duration(fi):ai=zn.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:bi,paused:!0,onComplete:function(){return H&&H(We)}}):(ai&&ai.progress(1).kill(),ai=0)},n&&(n.vars.lazy=!1,n._initted&&!We.isReverted||n.vars.immediateRender!==!1&&i.immediateRender!==!1&&n.duration()&&n.render(0,!0,!0),We.animation=n.pause(),n.scrollTrigger=We,We.scrubDuration(x),kt=0,u||(u=n.vars.id)),Z&&((!Kf(Z)||Z.push)&&(Z={snapTo:Z}),"scrollBehavior"in wr.style&&zn.set(De?[wr,bc]:de,{scrollBehavior:"auto"}),Ra.forEach(function(fi){return ul(fi)&&fi.target===(De?es.scrollingElement||bc:de)&&(fi.smooth=!1)}),Ii=ul(Z.snapTo)?Z.snapTo:Z.snapTo==="labels"?S5(n):Z.snapTo==="labelsDirectional"?B5(n):Z.directional!==!1?function(fi,Xi){return t2(Z.snapTo)(fi,sl()-bt<500?0:Xi.direction)}:zn.utils.snap(Z.snapTo),Bi=Z.duration||{min:.1,max:2},Bi=Kf(Bi)?Jm(Bi.min,Bi.max):Jm(Bi,Bi),In=zn.delayedCall(Z.delay||bi/2||.1,function(){var fi=si(),Xi=sl()-bt<500,sn=gi.tween;if((Xi||Math.abs(We.getVelocity())<10)&&!sn&&!fv&&It!==fi){var Ue=(fi-Mi)/ui,Re=n&&!ve?n.totalProgress():Ue,_t=Xi?0:(Re-Lt)/(sl()-Tm)*1e3||0,ut=zn.utils.clamp(-Ue,1-Ue,xp(_t/2)*_t/.185),Jt=Ue+(Z.inertia===!1?0:ut),ni,pt,Gt=Z,ti=Gt.onStart,Ci=Gt.onInterrupt,pn=Gt.onComplete;if(ni=Ii(Jt,We),Lm(ni)||(ni=Jt),pt=Math.max(0,Math.round(Mi+ni*ui)),fi<=Ji&&fi>=Mi&&pt!==fi){if(sn&&!sn._initted&&sn.data<=xp(pt-fi))return;Z.inertia===!1&&(ut=ni-Ue),gi(pt,{duration:Bi(xp(Math.max(xp(Jt-Re),xp(ni-Re))*.185/_t/.05||0)),ease:Z.ease||"power3",data:xp(pt-fi),onInterrupt:function(){return In.restart(!0)&&Ci&&Ci(We)},onComplete:function(){We.update(),It=si(),n&&!ve&&(ai?ai.resetTo("totalProgress",ni,n._tTime/n._tDur):n.progress(ni)),kt=Lt=n&&!ve?n.totalProgress():We.progress,Q&&Q(We),pn&&pn(We)}},fi,ut*ui,pt-fi-ut*ui),ti&&ti(We,gi.tween)}}else We.isActive&&It!==fi&&In.restart(!0)}).pause()),u&&(iC[u]=We),b=We.trigger=$l(b||S!==!0&&S),yn=b&&b._gsap&&b._gsap.stRevert,yn&&(yn=yn(We)),S=S===!0?b:$l(S),vc(s)&&(s={targets:b,className:s}),S&&(P===!1||P===Yc||(P=!P&&S.parentNode&&S.parentNode.style&&Kc(S.parentNode).display==="flex"?!1:lo),We.pin=S,Vi=zn.core.getCache(S),Vi.spacer?$i=Vi.pinState:(re&&(re=$l(re),re&&!re.nodeType&&(re=re.current||re.nativeElement),Vi.spacerIsNative=!!re,re&&(Vi.spacerState=ex(re))),Vi.spacer=Fi=re||es.createElement("div"),Fi.classList.add("pin-spacer"),u&&Fi.classList.add("pin-spacer-"+u),Vi.pinState=$i=ex(S)),i.force3D!==!1&&zn.set(S,{force3D:!0}),We.spacer=Fi=Vi.spacer,jt=Kc(S),st=jt[P+he.os2],xe=zn.getProperty(S),we=zn.quickSetter(S,he.a,Ao),nb(S,Fi,jt),Ei=ex(S)),dt){ci=Kf(dt)?tT(dt,iT):iT,Ye=Jy("scroller-start",u,de,he,ci,0),Yt=Jy("scroller-end",u,de,he,ci,0,Ye),ft=Ye["offset"+he.op.d2];var An=$l(qd(de,"content")||de);rn=this.markerStart=Jy("start",u,An,he,ci,ft,0,q),xn=this.markerEnd=Jy("end",u,An,he,ci,ft,0,q),q&&(Kn=zn.quickSetter([rn,xn],he.a,Ao)),!Ie&&!(Ah.length&&qd(de,"fixedMarkers")===!0)&&(C5(De?wr:de),zn.set([Ye,Yt],{force3D:!0}),yt=zn.quickSetter(Ye,he.a,Ao),xt=zn.quickSetter(Yt,he.a,Ao))}if(q){var Ni=q.vars.onUpdate,Di=q.vars.onUpdateParams;q.eventCallback("onUpdate",function(){We.update(0,0,1),Ni&&Ni.apply(q,Di||[])})}if(We.previous=function(){return Fa[Fa.indexOf(We)-1]},We.next=function(){return Fa[Fa.indexOf(We)+1]},We.revert=function(fi,Xi){if(!Xi)return We.kill(!0);var sn=fi!==!1||!We.enabled,Ue=nl;sn!==We.isReverted&&(sn&&(Tt=Math.max(si(),We.scroll.rec||0),mt=We.progress,Dn=n&&n.progress()),rn&&[rn,xn,Ye,Yt].forEach(function(Re){return Re.style.display=sn?"none":"block"}),sn&&(nl=We,We.update(sn)),S&&(!J||!We.isActive)&&(sn?T5(S,Fi,$i):nb(S,Fi,Kc(S),Ct)),sn||We.update(sn),nl=Ue,We.isReverted=sn)},We.refresh=function(fi,Xi,sn,Ue){if(!((nl||!We.enabled)&&!Xi)){if(S&&fi&&nu){Mo(a,"scrollEnd",XP);return}!Bl&&Pt&&Pt(We),nl=We,gi.tween&&!sn&&(gi.tween.kill(),gi.tween=0),ai&&ai.pause(),I&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(Cn){return Cn.vars.immediateRender&&Cn.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),We.isReverted||We.revert(!0,!0),We._subPinOffset=!1;var Re=Kt(),_t=di(),ut=q?q.duration():fh(de,he),Jt=ui<=.01||!ui,ni=0,pt=Ue||0,Gt=Kf(sn)?sn.end:i.end,ti=i.endTrigger||b,Ci=Kf(sn)?sn.start:i.start||(i.start===0||!b?0:S?"0 0":"0 100%"),pn=We.pinnedContainer=i.pinnedContainer&&$l(i.pinnedContainer,We),Gi=b&&Math.max(0,Fa.indexOf(We))||0,ki=Gi,Hi,Yi,on,ha,_n,Wn,qt,Ma,nn,Ja,nr,qn,Zn;for(dt&&Kf(sn)&&(qn=zn.getProperty(Ye,he.p),Zn=zn.getProperty(Yt,he.p));ki-- >0;)Wn=Fa[ki],Wn.end||Wn.refresh(0,1)||(nl=We),qt=Wn.pin,qt&&(qt===b||qt===S||qt===pn)&&!Wn.isReverted&&(Ja||(Ja=[]),Ja.unshift(Wn),Wn.revert(!0,!0)),Wn!==Fa[ki]&&(Gi--,ki--);for(ul(Ci)&&(Ci=Ci(We)),Ci=qk(Ci,"start",We),Mi=sT(Ci,b,Re,he,si(),rn,Ye,We,_t,Mt,Ie,ut,q,We._startClamp&&"_startClamp")||(S?-.001:0),ul(Gt)&&(Gt=Gt(We)),vc(Gt)&&!Gt.indexOf("+=")&&(~Gt.indexOf(" ")?Gt=(vc(Ci)?Ci.split(" ")[0]:"")+Gt:(ni=Kx(Gt.substr(2),Re),Gt=vc(Ci)?Ci:(q?zn.utils.mapRange(0,q.duration(),q.scrollTrigger.start,q.scrollTrigger.end,Mi):Mi)+ni,ti=b)),Gt=qk(Gt,"end",We),Ji=Math.max(Mi,sT(Gt||(ti?"100% 0":ut),ti,Re,he,si()+ni,xn,Yt,We,_t,Mt,Ie,ut,q,We._endClamp&&"_endClamp"))||-.001,ni=0,ki=Gi;ki--;)Wn=Fa[ki]||{},qt=Wn.pin,qt&&Wn.start-Wn._pinPush<=Mi&&!q&&Wn.end>0&&(Hi=Wn.end-(We._startClamp?Math.max(0,Wn.start):Wn.start),(qt===b&&Wn.start-Wn._pinPush<Mi||qt===pn)&&isNaN(Ci)&&(ni+=Hi*(1-Wn.progress)),qt===S&&(pt+=Hi));if(Mi+=ni,Ji+=ni,We._startClamp&&(We._startClamp+=ni),We._endClamp&&!Bl&&(We._endClamp=Ji||-.001,Ji=Math.min(Ji,fh(de,he))),ui=Ji-Mi||(Mi-=.01)&&.001,Jt&&(mt=zn.utils.clamp(0,1,zn.utils.normalize(Mi,Ji,Tt))),We._pinPush=pt,rn&&ni&&(Hi={},Hi[he.a]="+="+ni,pn&&(Hi[he.p]="-="+si()),zn.set([rn,xn],Hi)),S&&!(tC&&We.end>=fh(de,he)))Hi=Kc(S),ha=he===po,on=si(),Ee=parseFloat(xe(he.a))+pt,!ut&&Ji>1&&(nr=(De?es.scrollingElement||bc:de).style,nr={style:nr,value:nr["overflow"+he.a.toUpperCase()]},De&&Kc(wr)["overflow"+he.a.toUpperCase()]!=="scroll"&&(nr.style["overflow"+he.a.toUpperCase()]="scroll")),nb(S,Fi,Hi),Ei=ex(S),Yi=nd(S,!0),Ma=Ie&&sf(de,ha?Tl:po)(),P?(Ct=[P+he.os2,ui+pt+Ao],Ct.t=Fi,ki=P===lo?T_(S,he)+ui+pt:0,ki&&(Ct.push(he.d,ki+Ao),Fi.style.flexBasis!=="auto"&&(Fi.style.flexBasis=ki+Ao)),ag(Ct),pn&&Fa.forEach(function(Cn){Cn.pin===pn&&Cn.vars.pinSpacing!==!1&&(Cn._subPinOffset=!0)}),Ie&&si(Tt)):(ki=T_(S,he),ki&&Fi.style.flexBasis!=="auto"&&(Fi.style.flexBasis=ki+Ao)),Ie&&(_n={top:Yi.top+(ha?on-Mi:Ma)+Ao,left:Yi.left+(ha?Ma:on-Mi)+Ao,boxSizing:"border-box",position:"fixed"},_n[_A]=_n["max"+pg]=Math.ceil(Yi.width)+Ao,_n[vA]=_n["max"+e2]=Math.ceil(Yi.height)+Ao,_n[Yc]=_n[Yc+n0]=_n[Yc+t0]=_n[Yc+a0]=_n[Yc+i0]="0",_n[lo]=Hi[lo],_n[lo+n0]=Hi[lo+n0],_n[lo+t0]=Hi[lo+t0],_n[lo+a0]=Hi[lo+a0],_n[lo+i0]=Hi[lo+i0],wi=M5($i,_n,J),Bl&&si(0)),n?(nn=n._initted,Zw(1),n.render(n.duration(),!0,!0),tt=xe(he.a)-Ee+ui+pt,Ve=Math.abs(ui-tt)>1,Ie&&Ve&&wi.splice(wi.length-2,2),n.render(0,!0,!0),nn||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),Zw(0)):tt=ui,nr&&(nr.value?nr.style["overflow"+he.a.toUpperCase()]=nr.value:nr.style.removeProperty("overflow-"+he.a));else if(b&&si()&&!q)for(Yi=b.parentNode;Yi&&Yi!==wr;)Yi._pinOffset&&(Mi-=Yi._pinOffset,Ji-=Yi._pinOffset),Yi=Yi.parentNode;Ja&&Ja.forEach(function(Cn){return Cn.revert(!1,!0)}),We.start=Mi,We.end=Ji,oi=fn=Bl?Tt:si(),!q&&!Bl&&(oi<Tt&&si(Tt),We.scroll.rec=0),We.revert(!1,!0),bt=sl(),In&&(It=-1,In.restart(!0)),nl=0,n&&ve&&(n._initted||Dn)&&n.progress()!==Dn&&n.progress(Dn||0,!0).render(n.time(),!0,!0),(Jt||mt!==We.progress||q||I||n&&!n._initted)&&(n&&!ve&&(n._initted||mt||n.vars.immediateRender!==!1)&&n.totalProgress(q&&Mi<-.001&&!mt?zn.utils.normalize(Mi,Ji,0):mt,!0),We.progress=Jt||(oi-Mi)/ui===mt?0:mt),S&&P&&(Fi._pinOffset=Math.round(We.progress*tt)),ai&&ai.invalidate(),isNaN(qn)||(qn-=zn.getProperty(Ye,he.p),Zn-=zn.getProperty(Yt,he.p),tx(Ye,he,qn),tx(rn,he,qn-(Ue||0)),tx(Yt,he,Zn),tx(xn,he,Zn-(Ue||0))),Jt&&!Bl&&We.update(),g&&!Bl&&!Oi&&(Oi=!0,g(We),Oi=!1)}},We.getVelocity=function(){return(si()-fn)/(sl()-Tm)*1e3||0},We.endAnimation=function(){fm(We.callbackAnimation),n&&(ai?ai.progress(1):n.paused()?ve||fm(n,We.direction<0,1):fm(n,n.reversed()))},We.labelToScroll=function(fi){return n&&n.labels&&(Mi||We.refresh()||Mi)+n.labels[fi]/n.duration()*ui||0},We.getTrailing=function(fi){var Xi=Fa.indexOf(We),sn=We.direction>0?Fa.slice(0,Xi).reverse():Fa.slice(Xi+1);return(vc(fi)?sn.filter(function(Ue){return Ue.vars.preventOverlaps===fi}):sn).filter(function(Ue){return We.direction>0?Ue.end<=Mi:Ue.start>=Ji})},We.update=function(fi,Xi,sn){if(!(q&&!sn&&!fi)){var Ue=Bl===!0?Tt:We.scroll(),Re=fi?0:(Ue-Mi)/ui,_t=Re<0?0:Re>1?1:Re||0,ut=We.progress,Jt,ni,pt,Gt,ti,Ci,pn,Gi;if(Xi&&(fn=oi,oi=q?si():Ue,Z&&(Lt=kt,kt=n&&!ve?n.totalProgress():_t)),O&&S&&!nl&&!Xy&&nu&&(!_t&&Mi<Ue+(Ue-fn)/(sl()-Tm)*O?_t=1e-4:_t===1&&Ji>Ue+(Ue-fn)/(sl()-Tm)*O&&(_t=.9999)),_t!==ut&&We.enabled){if(Jt=We.isActive=!!_t&&_t<1,ni=!!ut&&ut<1,Ci=Jt!==ni,ti=Ci||!!_t!=!!ut,We.direction=_t>ut?1:-1,We.progress=_t,ti&&!nl&&(pt=_t&&!ut?0:_t===1?1:ut===1?2:3,ve&&(Gt=!Ci&&je[pt+1]!=="none"&&je[pt+1]||je[pt],Gi=n&&(Gt==="complete"||Gt==="reset"||Gt in n))),te&&(Ci||Gi)&&(Gi||x||!n)&&(ul(te)?te(We):We.getTrailing(te).forEach(function(on){return on.endAnimation()})),ve||(ai&&!nl&&!Xy?(ai._dp._time-ai._start!==ai._time&&ai.render(ai._dp._time-ai._start),ai.resetTo?ai.resetTo("totalProgress",_t,n._tTime/n._tDur):(ai.vars.totalProgress=_t,ai.invalidate().restart())):n&&n.totalProgress(_t,!!(nl&&(bt||fi)))),S){if(fi&&P&&(Fi.style[P+he.os2]=st),!Ie)we(Mm(Ee+tt*_t));else if(ti){if(pn=!fi&&_t>ut&&Ji+1>Ue&&Ue+1>=fh(de,he),J)if(!fi&&(Jt||pn)){var ki=nd(S,!0),Hi=Ue-Mi;oT(S,wr,ki.top+(he===po?Hi:0)+Ao,ki.left+(he===po?0:Hi)+Ao)}else oT(S,Fi);ag(Jt||pn?wi:Ei),Ve&&_t<1&&Jt||we(Ee+(_t===1&&!pn?tt:0))}}Z&&!gi.tween&&!nl&&!Xy&&In.restart(!0),s&&(Ci||Y&&_t&&(_t<1||!Jw))&&S0(s.targets).forEach(function(on){return on.classList[Jt||Y?"add":"remove"](s.className)}),o&&!ve&&!fi&&o(We),ti&&!nl?(ve&&(Gi&&(Gt==="complete"?n.pause().totalProgress(1):Gt==="reset"?n.restart(!0).pause():Gt==="restart"?n.restart(!0):n[Gt]()),o&&o(We)),(Ci||!Jw)&&(d&&Ci&&tb(We,d),nt[pt]&&tb(We,nt[pt]),Y&&(_t===1?We.kill(!1,1):nt[pt]=0),Ci||(pt=_t===1?1:3,nt[pt]&&tb(We,nt[pt]))),ne&&!Jt&&Math.abs(We.getVelocity())>(Lm(ne)?ne:2500)&&(fm(We.callbackAnimation),ai?ai.progress(1):fm(n,Gt==="reverse"?1:!_t,1))):ve&&o&&!nl&&o(We)}if(xt){var Yi=q?Ue/q.duration()*(q._caScrollDist||0):Ue;yt(Yi+(Ye._isFlipped?1:0)),xt(Yi)}Kn&&Kn(-Ue/q.duration()*(q._caScrollDist||0))}},We.enable=function(fi,Xi){We.enabled||(We.enabled=!0,Mo(de,"resize",Fm),De||Mo(de,"scroll",_p),Pt&&Mo(a,"refreshInit",Pt),fi!==!1&&(We.progress=mt=0,oi=fn=It=si()),Xi!==!1&&We.refresh())},We.getTween=function(fi){return fi&&gi?gi.tween:ai},We.setPositions=function(fi,Xi,sn,Ue){if(q){var Re=q.scrollTrigger,_t=q.duration(),ut=Re.end-Re.start;fi=Re.start+ut*fi/_t,Xi=Re.start+ut*Xi/_t}We.refresh(!1,!1,{start:Zk(fi,sn&&!!We._startClamp),end:Zk(Xi,sn&&!!We._endClamp)},Ue),We.update()},We.adjustPinSpacing=function(fi){if(Ct&&fi){var Xi=Ct.indexOf(he.d)+1;Ct[Xi]=parseFloat(Ct[Xi])+fi+Ao,Ct[1]=parseFloat(Ct[1])+fi+Ao,ag(Ct)}},We.disable=function(fi,Xi){if(fi!==!1&&We.revert(!0,!0),We.enabled&&(We.enabled=We.isActive=!1,Xi||ai&&ai.pause(),Tt=0,Vi&&(Vi.uncache=1),Pt&&Io(a,"refreshInit",Pt),In&&(In.pause(),gi.tween&&gi.tween.kill()&&(gi.tween=0)),!De)){for(var sn=Fa.length;sn--;)if(Fa[sn].scroller===de&&Fa[sn]!==We)return;Io(de,"resize",Fm),De||Io(de,"scroll",_p)}},We.kill=function(fi,Xi){We.disable(fi,Xi),ai&&!Xi&&ai.kill(),u&&delete iC[u];var sn=Fa.indexOf(We);sn>=0&&Fa.splice(sn,1),sn===Sl&&Zx>0&&Sl--,sn=0,Fa.forEach(function(Ue){return Ue.scroller===We.scroller&&(sn=1)}),sn||Bl||(We.scroll.rec=0),n&&(n.scrollTrigger=null,fi&&n.revert({kill:!1}),Xi||n.kill()),rn&&[rn,xn,Ye,Yt].forEach(function(Ue){return Ue.parentNode&&Ue.parentNode.removeChild(Ue)}),r0===We&&(r0=0),S&&(Vi&&(Vi.uncache=1),sn=0,Fa.forEach(function(Ue){return Ue.pin===S&&sn++}),sn||(Vi.spacer=0)),i.onKill&&i.onKill(We)},Fa.push(We),We.enable(!1,!1),yn&&yn(We),n&&n.add&&!ui){var gn=We.update;We.update=function(){We.update=gn,Ra.cache++,Mi||Ji||We.refresh()},zn.delayedCall(.01,We.update),ui=.01,Mi=Ji=0}else We.refresh();S&&k5()},a.register=function(i){return Rp||(zn=i||QP(),HP()&&window.document&&a.enable(),Rp=Im),Rp},a.defaults=function(i){if(i)for(var n in i)Zy[n]=i[n];return Zy},a.disable=function(i,n){Im=0,Fa.forEach(function(o){return o[n?"kill":"disable"](i)}),Io(Da,"wheel",_p),Io(es,"scroll",_p),clearInterval($y),Io(es,"touchcancel",ch),Io(wr,"touchstart",ch),Ky(Io,es,"pointerdown,touchstart,mousedown",Jk),Ky(Io,es,"pointerup,touchend,mouseup",eT),k_.kill(),Yy(Io);for(var r=0;r<Ra.length;r+=3)qy(Io,Ra[r],Ra[r+1]),qy(Io,Ra[r],Ra[r+2])},a.enable=function(){if(Da=window,es=document,bc=es.documentElement,wr=es.body,zn&&(S0=zn.utils.toArray,Jm=zn.utils.clamp,eC=zn.core.context||ch,Zw=zn.core.suppressOverwrites||ch,KS=Da.history.scrollRestoration||"auto",nC=Da.pageYOffset||0,zn.core.globals("ScrollTrigger",a),wr)){Im=1,ng=document.createElement("div"),ng.style.height="100vh",ng.style.position="absolute",ZP(),v5(),Zs.register(zn),a.isTouch=Zs.isTouch,Md=Zs.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),J1=Zs.isTouch===1,Mo(Da,"wheel",_p),YS=[Da,es,bc,wr],zn.matchMedia?(a.matchMedia=function(d){var g=zn.matchMedia(),x;for(x in d)g.add(x,d[x]);return g},zn.addEventListener("matchMediaInit",function(){KP(),i2()}),zn.addEventListener("matchMediaRevert",function(){return YP()}),zn.addEventListener("matchMedia",function(){lA(0,1),MA("matchMedia")}),zn.matchMedia().add("(orientation: portrait)",function(){return ib(),ib})):console.warn("Requires GSAP 3.11.0 or later"),ib(),Mo(es,"scroll",_p);var i=wr.hasAttribute("style"),n=wr.style,r=n.borderTopStyle,o=zn.core.Animation.prototype,s,u;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",s=nd(wr),po.m=Math.round(s.top+po.sc())||0,Tl.m=Math.round(s.left+Tl.sc())||0,r?n.borderTopStyle=r:n.removeProperty("border-top-style"),i||(wr.setAttribute("style",""),wr.removeAttribute("style")),$y=setInterval(nT,250),zn.delayedCall(.5,function(){return Xy=0}),Mo(es,"touchcancel",ch),Mo(wr,"touchstart",ch),Ky(Mo,es,"pointerdown,touchstart,mousedown",Jk),Ky(Mo,es,"pointerup,touchend,mouseup",eT),Z1=zn.utils.checkPrefix("transform"),Jx.push(Z1),Rp=sl(),k_=zn.delayedCall(.2,lA).pause(),Op=[es,"visibilitychange",function(){var d=Da.innerWidth,g=Da.innerHeight;es.hidden?(Yk=d,Kk=g):(Yk!==d||Kk!==g)&&Fm()},es,"DOMContentLoaded",lA,Da,"load",lA,Da,"resize",Fm],Yy(Mo),Fa.forEach(function(d){return d.enable(0,1)}),u=0;u<Ra.length;u+=3)qy(Io,Ra[u],Ra[u+1]),qy(Io,Ra[u],Ra[u+2])}},a.config=function(i){"limitCallbacks"in i&&(Jw=!!i.limitCallbacks);var n=i.syncInterval;n&&clearInterval($y)||($y=n)&&setInterval(nT,n),"ignoreMobileResize"in i&&(J1=a.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Yy(Io)||Yy(Mo,i.autoRefreshEvents||"none"),UP=(i.autoRefreshEvents+"").indexOf("resize")===-1)},a.scrollerProxy=function(i,n){var r=$l(i),o=Ra.indexOf(r),s=TA(r);~o&&Ra.splice(o,s?6:2),n&&(s?Ah.unshift(Da,n,wr,n,bc,n):Ah.unshift(r,n))},a.clearMatchMedia=function(i){Fa.forEach(function(n){return n._ctx&&n._ctx.query===i&&n._ctx.kill(!0,!0)})},a.isInViewport=function(i,n,r){var o=(vc(i)?$l(i):i).getBoundingClientRect(),s=o[r?_A:vA]*n||0;return r?o.right-s>0&&o.left+s<Da.innerWidth:o.bottom-s>0&&o.top+s<Da.innerHeight},a.positionInViewport=function(i,n,r){vc(i)&&(i=$l(i));var o=i.getBoundingClientRect(),s=o[r?_A:vA],u=n==null?s/2:n in I_?I_[n]*s:~n.indexOf("%")?parseFloat(n)*s/100:parseFloat(n)||0;return r?(o.left+u)/Da.innerWidth:(o.top+u)/Da.innerHeight},a.killAll=function(i){if(Fa.slice(0).forEach(function(r){return r.vars.id!=="ScrollSmoother"&&r.kill()}),i!==!0){var n=IA.killAll||[];IA={},n.forEach(function(r){return r()})}},a})();Oa.version="3.14.2";Oa.saveStyles=function(a){return a?S0(a).forEach(function(e){if(e&&e.style){var t=_c.indexOf(e);t>=0&&_c.splice(t,5),_c.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),zn.core.getCache(e),eC())}}):_c};Oa.revert=function(a,e){return i2(!a,e)};Oa.create=function(a,e){return new Oa(a,e)};Oa.refresh=function(a){return a?Fm(!0):(Rp||Oa.register())&&lA(!0)};Oa.update=function(a){return++Ra.cache&&hd(a===!0?2:0)};Oa.clearScrollMemory=qP;Oa.maxScroll=function(a,e){return fh(a,e?Tl:po)};Oa.getScrollFunc=function(a,e){return sf($l(a),e?Tl:po)};Oa.getById=function(a){return iC[a]};Oa.getAll=function(){return Fa.filter(function(a){return a.vars.id!=="ScrollSmoother"})};Oa.isScrolling=function(){return!!nu};Oa.snapDirectional=t2;Oa.addEventListener=function(a,e){var t=IA[a]||(IA[a]=[]);~t.indexOf(e)||t.push(e)};Oa.removeEventListener=function(a,e){var t=IA[a],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};Oa.batch=function(a,e){var t=[],i={},n=e.interval||.016,r=e.batchMax||1e9,o=function(d,g){var x=[],b=[],S=zn.delayedCall(n,function(){g(x,b),x=[],b=[]}).pause();return function(P){x.length||S.restart(!0),x.push(P.trigger),b.push(P),r<=x.length&&S.progress(1)}},s;for(s in e)i[s]=s.substr(0,2)==="on"&&ul(e[s])&&s!=="onRefreshInit"?o(s,e[s]):e[s];return ul(r)&&(r=r(),Mo(Oa,"refresh",function(){return r=e.batchMax()})),S0(a).forEach(function(u){var d={};for(s in i)d[s]=i[s];d.trigger=u,t.push(Oa.create(d))}),t};var cT=function(e,t,i,n){return t>n?e(n):t<0&&e(0),i>n?(n-t)/(i-t):i<0?t/(t-i):1},ab=function a(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Zs.isTouch?" pinch-zoom":""):"none",e===bc&&a(wr,t)},ix={auto:1,scroll:1},F5=function(e){var t=e.event,i=e.target,n=e.axis,r=(t.changedTouches?t.changedTouches[0]:t).target,o=r._gsap||zn.core.getCache(r),s=sl(),u;if(!o._isScrollT||s-o._isScrollT>2e3){for(;r&&r!==wr&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!(ix[(u=Kc(r)).overflowY]||ix[u.overflowX]));)r=r.parentNode;o._isScroll=r&&r!==i&&!TA(r)&&(ix[(u=Kc(r)).overflowY]||ix[u.overflowX]),o._isScrollT=s}(o._isScroll||n==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},eD=function(e,t,i,n){return Zs.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:n=n&&F5,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return i&&Mo(es,Zs.eventTypes[0],hT,!1,!0)},onDisable:function(){return Io(es,Zs.eventTypes[0],hT,!0)}})},P5=/(input|label|select|textarea)/i,uT,hT=function(e){var t=P5.test(e.target.tagName);(t||uT)&&(e._gsapAllow=!0,uT=t)},D5=function(e){Kf(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,n=t.momentum,r=t.allowNestedScroll,o=t.onRelease,s,u,d=$l(e.target)||bc,g=zn.core.globals().ScrollSmoother,x=g&&g.get(),b=Md&&(e.content&&$l(e.content)||x&&e.content!==!1&&!x.smooth()&&x.content()),S=sf(d,po),P=sf(d,Tl),I=1,O=(Zs.isTouch&&Da.visualViewport?Da.visualViewport.scale*Da.visualViewport.width:Da.outerWidth)/Da.innerWidth,H=0,Q=ul(n)?function(){return n(s)}:function(){return n||2.8},Y,Z,J=eD(d,e.type,!0,r),re=function(){return Z=!1},q=ch,ne=ch,te=function(){u=fh(d,po),ne=Jm(Md?1:0,u),i&&(q=Jm(0,fh(d,Tl))),Y=wA},he=function(){b._gsap.y=Mm(parseFloat(b._gsap.y)+S.offset)+"px",b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(b._gsap.y)+", 0, 1)",S.offset=S.cacheID=0},ve=function(){if(Z){requestAnimationFrame(re);var dt=Mm(s.deltaY/2),Mt=ne(S.v-dt);if(b&&Mt!==S.v+S.offset){S.offset=Mt-S.v;var We=Mm((parseFloat(b&&b._gsap.y)||0)-S.offset);b.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+We+", 0, 1)",b._gsap.y=We+"px",S.cacheID=Ra.cache,hd()}return!0}S.offset&&he(),Z=!0},de,be,De,Ie,nt=function(){te(),de.isActive()&&de.vars.scrollY>u&&(S()>u?de.progress(1)&&S(u):de.resetTo("scrollY",u))};return b&&zn.set(b,{y:"+=0"}),e.ignoreCheck=function(je){return Md&&je.type==="touchmove"&&ve()||I>1.05&&je.type!=="touchstart"||s.isGesturing||je.touches&&je.touches.length>1},e.onPress=function(){Z=!1;var je=I;I=Mm((Da.visualViewport&&Da.visualViewport.scale||1)/O),de.pause(),je!==I&&ab(d,I>1.01?!0:i?!1:"x"),be=P(),De=S(),te(),Y=wA},e.onRelease=e.onGestureStart=function(je,dt){if(S.offset&&he(),!dt)Ie.restart(!0);else{Ra.cache++;var Mt=Q(),We,Pt;i&&(We=P(),Pt=We+Mt*.05*-je.velocityX/.227,Mt*=cT(P,We,Pt,fh(d,Tl)),de.vars.scrollX=q(Pt)),We=S(),Pt=We+Mt*.05*-je.velocityY/.227,Mt*=cT(S,We,Pt,fh(d,po)),de.vars.scrollY=ne(Pt),de.invalidate().duration(Mt).play(.01),(Md&&de.vars.scrollY>=u||We>=u-1)&&zn.to({},{onUpdate:nt,duration:Mt})}o&&o(je)},e.onWheel=function(){de._ts&&de.pause(),sl()-H>1e3&&(Y=0,H=sl())},e.onChange=function(je,dt,Mt,We,Pt){if(wA!==Y&&te(),dt&&i&&P(q(We[2]===dt?be+(je.startX-je.x):P()+dt-We[1])),Mt){S.offset&&he();var Kt=Pt[2]===Mt,di=Kt?De+je.startY-je.y:S()+Mt-Pt[1],It=ne(di);Kt&&di!==It&&(De+=It-di),S(It)}(Mt||dt)&&hd()},e.onEnable=function(){ab(d,i?!1:"x"),Oa.addEventListener("refresh",nt),Mo(Da,"resize",nt),S.smooth&&(S.target.style.scrollBehavior="auto",S.smooth=P.smooth=!1),J.enable()},e.onDisable=function(){ab(d,!0),Io(Da,"resize",nt),Oa.removeEventListener("refresh",nt),J.kill()},e.lockAxis=e.lockAxis!==!1,s=new Zs(e),s.iOS=Md,Md&&!S()&&S(1),Md&&zn.ticker.add(ch),Ie=s._dc,de=zn.to(s,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:JP(S,S(),function(){return de.pause()})},onUpdate:hd,onComplete:Ie.vars.onComplete}),s};Oa.sort=function(a){if(ul(a))return Fa.sort(a);var e=Da.pageYOffset||0;return Oa.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Da.innerHeight}),Fa.sort(a||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Oa.observe=function(a){return new Zs(a)};Oa.normalizeScroll=function(a){if(typeof a>"u")return Cl;if(a===!0&&Cl)return Cl.enable();if(a===!1){Cl&&Cl.kill(),Cl=a;return}var e=a instanceof Zs?a:D5(a);return Cl&&Cl.target===e.target&&Cl.kill(),TA(e.target)&&(Cl=e),e};Oa.core={_getVelocityProp:q1,_inputObserver:eD,_scrollers:Ra,_proxies:Ah,bridge:{ss:function(){nu||MA("scrollStart"),nu=sl()},ref:function(){return nl}}};QP()&&zn.registerPlugin(Oa);function K0(a){return a+.5|0}const Qd=(a,e,t)=>Math.max(Math.min(a,t),e);function Pm(a){return Qd(K0(a*2.55),0,255)}function Zd(a){return Qd(K0(a*255),0,255)}function id(a){return Qd(K0(a/2.55)/100,0,1)}function dT(a){return Qd(K0(a*100),0,100)}const Vc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rC=[..."0123456789ABCDEF"],R5=a=>rC[a&15],O5=a=>rC[(a&240)>>4]+rC[a&15],nx=a=>(a&240)>>4===(a&15),U5=a=>nx(a.r)&&nx(a.g)&&nx(a.b)&&nx(a.a);function N5(a){var e=a.length,t;return a[0]==="#"&&(e===4||e===5?t={r:255&Vc[a[1]]*17,g:255&Vc[a[2]]*17,b:255&Vc[a[3]]*17,a:e===5?Vc[a[4]]*17:255}:(e===7||e===9)&&(t={r:Vc[a[1]]<<4|Vc[a[2]],g:Vc[a[3]]<<4|Vc[a[4]],b:Vc[a[5]]<<4|Vc[a[6]],a:e===9?Vc[a[7]]<<4|Vc[a[8]]:255})),t}const z5=(a,e)=>a<255?e(a):"";function H5(a){var e=U5(a)?R5:O5;return a?"#"+e(a.r)+e(a.g)+e(a.b)+z5(a.a,e):void 0}const Q5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tD(a,e,t){const i=e*Math.min(t,1-t),n=(r,o=(r+a/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function j5(a,e,t){const i=(n,r=(n+a/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function V5(a,e,t){const i=tD(a,1,.5);let n;for(e+t>1&&(n=1/(e+t),e*=n,t*=n),n=0;n<3;n++)i[n]*=1-e-t,i[n]+=e;return i}function G5(a,e,t,i,n){return a===n?(e-t)/i+(e<t?6:0):e===n?(t-a)/i+2:(a-e)/i+4}function n2(a){const t=a.r/255,i=a.g/255,n=a.b/255,r=Math.max(t,i,n),o=Math.min(t,i,n),s=(r+o)/2;let u,d,g;return r!==o&&(g=r-o,d=s>.5?g/(2-r-o):g/(r+o),u=G5(t,i,n,g,r),u=u*60+.5),[u|0,d||0,s]}function a2(a,e,t,i){return(Array.isArray(e)?a(e[0],e[1],e[2]):a(e,t,i)).map(Zd)}function r2(a,e,t){return a2(tD,a,e,t)}function W5(a,e,t){return a2(V5,a,e,t)}function $5(a,e,t){return a2(j5,a,e,t)}function iD(a){return(a%360+360)%360}function X5(a){const e=Q5.exec(a);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Pm(+e[5]):Zd(+e[5]));const n=iD(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=W5(n,r,o):e[1]==="hsv"?i=$5(n,r,o):i=r2(n,r,o),{r:i[0],g:i[1],b:i[2],a:t}}function Y5(a,e){var t=n2(a);t[0]=iD(t[0]+e),t=r2(t),a.r=t[0],a.g=t[1],a.b=t[2]}function K5(a){if(!a)return;const e=n2(a),t=e[0],i=dT(e[1]),n=dT(e[2]);return a.a<255?`hsla(${t}, ${i}%, ${n}%, ${id(a.a)})`:`hsl(${t}, ${i}%, ${n}%)`}const fT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function q5(){const a={},e=Object.keys(AT),t=Object.keys(fT);let i,n,r,o,s;for(i=0;i<e.length;i++){for(o=s=e[i],n=0;n<t.length;n++)r=t[n],s=s.replace(r,fT[r]);r=parseInt(AT[o],16),a[s]=[r>>16&255,r>>8&255,r&255]}return a}let ax;function Z5(a){ax||(ax=q5(),ax.transparent=[0,0,0,0]);const e=ax[a.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const J5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function e8(a){const e=J5.exec(a);let t=255,i,n,r;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Pm(o):Qd(o*255,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?Pm(i):Qd(i,0,255)),n=255&(e[4]?Pm(n):Qd(n,0,255)),r=255&(e[6]?Pm(r):Qd(r,0,255)),{r:i,g:n,b:r,a:t}}}function t8(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${id(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}const rb=a=>a<=.0031308?a*12.92:Math.pow(a,1/2.4)*1.055-.055,vp=a=>a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4);function i8(a,e,t){const i=vp(id(a.r)),n=vp(id(a.g)),r=vp(id(a.b));return{r:Zd(rb(i+t*(vp(id(e.r))-i))),g:Zd(rb(n+t*(vp(id(e.g))-n))),b:Zd(rb(r+t*(vp(id(e.b))-r))),a:a.a+t*(e.a-a.a)}}function rx(a,e,t){if(a){let i=n2(a);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=r2(i),a.r=i[0],a.g=i[1],a.b=i[2]}}function nD(a,e){return a&&Object.assign(e||{},a)}function pT(a){var e={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(e={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(e.a=Zd(a[3]))):(e=nD(a,{r:0,g:0,b:0,a:1}),e.a=Zd(e.a)),e}function n8(a){return a.charAt(0)==="r"?e8(a):X5(a)}class E0{constructor(e){if(e instanceof E0)return e;const t=typeof e;let i;t==="object"?i=pT(e):t==="string"&&(i=N5(e)||Z5(e)||n8(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=nD(this._rgb);return e&&(e.a=id(e.a)),e}set rgb(e){this._rgb=pT(e)}rgbString(){return this._valid?t8(this._rgb):void 0}hexString(){return this._valid?H5(this._rgb):void 0}hslString(){return this._valid?K5(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let r;const o=t===r?.5:t,s=2*o-1,u=i.a-n.a,d=((s*u===-1?s:(s+u)/(1+s*u))+1)/2;r=1-d,i.r=255&d*i.r+r*n.r+.5,i.g=255&d*i.g+r*n.g+.5,i.b=255&d*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=i8(this._rgb,e._rgb,t)),this}clone(){return new E0(this.rgb)}alpha(e){return this._rgb.a=Zd(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=K0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return rx(this._rgb,2,e),this}darken(e){return rx(this._rgb,2,-e),this}saturate(e){return rx(this._rgb,1,e),this}desaturate(e){return rx(this._rgb,1,-e),this}rotate(e){return Y5(this._rgb,e),this}}function Wh(){}const a8=(()=>{let a=0;return()=>a++})();function Qa(a){return a==null}function xs(a){if(Array.isArray&&Array.isArray(a))return!0;const e=Object.prototype.toString.call(a);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Wa(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function Ns(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function xc(a,e){return Ns(a)?a:e}function xa(a,e){return typeof a>"u"?e:a}const r8=(a,e)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/e,aD=(a,e)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*e:+a;function ts(a,e,t){if(a&&typeof a.call=="function")return a.apply(t,e)}function Mr(a,e,t,i){let n,r,o;if(xs(a))for(r=a.length,n=0;n<r;n++)e.call(t,a[n],n);else if(Wa(a))for(o=Object.keys(a),r=o.length,n=0;n<r;n++)e.call(t,a[o[n]],o[n])}function M_(a,e){let t,i,n,r;if(!a||!e||a.length!==e.length)return!1;for(t=0,i=a.length;t<i;++t)if(n=a[t],r=e[t],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function L_(a){if(xs(a))return a.map(L_);if(Wa(a)){const e=Object.create(null),t=Object.keys(a),i=t.length;let n=0;for(;n<i;++n)e[t[n]]=L_(a[t[n]]);return e}return a}function rD(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function s8(a,e,t,i){if(!rD(a))return;const n=e[a],r=t[a];Wa(n)&&Wa(r)?k0(n,r,i):e[a]=L_(r)}function k0(a,e,t){const i=xs(e)?e:[e],n=i.length;if(!Wa(a))return a;t=t||{};const r=t.merger||s8;let o;for(let s=0;s<n;++s){if(o=i[s],!Wa(o))continue;const u=Object.keys(o);for(let d=0,g=u.length;d<g;++d)r(u[d],a,o,t)}return a}function s0(a,e){return k0(a,e,{merger:o8})}function o8(a,e,t){if(!rD(a))return;const i=e[a],n=t[a];Wa(i)&&Wa(n)?s0(i,n):Object.prototype.hasOwnProperty.call(e,a)||(e[a]=L_(n))}const gT={"":a=>a,x:a=>a.x,y:a=>a.y};function l8(a){const e=a.split("."),t=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function c8(a){const e=l8(a);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function of(a,e){return(gT[e]||(gT[e]=c8(e)))(a)}function s2(a){return a.charAt(0).toUpperCase()+a.slice(1)}const T0=a=>typeof a<"u",lf=a=>typeof a=="function",mT=(a,e)=>{if(a.size!==e.size)return!1;for(const t of a)if(!e.has(t))return!1;return!0};function u8(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const or=Math.PI,hs=2*or,h8=hs+or,F_=Number.POSITIVE_INFINITY,d8=or/180,Js=or/2,Hf=or/4,yT=or*2/3,jd=Math.log10,ph=Math.sign;function o0(a,e,t){return Math.abs(a-e)<t}function xT(a){const e=Math.round(a);a=o0(a,e,a/1e3)?e:a;const t=Math.pow(10,Math.floor(jd(a))),i=a/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function f8(a){const e=[],t=Math.sqrt(a);let i;for(i=1;i<t;i++)a%i===0&&(e.push(i),e.push(a/i));return t===(t|0)&&e.push(t),e.sort((n,r)=>n-r).pop(),e}function A8(a){return typeof a=="symbol"||typeof a=="object"&&a!==null&&!(Symbol.toPrimitive in a||"toString"in a||"valueOf"in a)}function gg(a){return!A8(a)&&!isNaN(parseFloat(a))&&isFinite(a)}function p8(a,e){const t=Math.round(a);return t-e<=a&&t+e>=a}function sD(a,e,t){let i,n,r;for(i=0,n=a.length;i<n;i++)r=a[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Bu(a){return a*(or/180)}function o2(a){return a*(180/or)}function _T(a){if(!Ns(a))return;let e=1,t=0;for(;Math.round(a*e)/e!==a;)e*=10,t++;return t}function oD(a,e){const t=e.x-a.x,i=e.y-a.y,n=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*or&&(r+=hs),{angle:r,distance:n}}function sC(a,e){return Math.sqrt(Math.pow(e.x-a.x,2)+Math.pow(e.y-a.y,2))}function g8(a,e){return(a-e+h8)%hs-or}function ol(a){return(a%hs+hs)%hs}function I0(a,e,t,i){const n=ol(a),r=ol(e),o=ol(t),s=ol(r-n),u=ol(o-n),d=ol(n-r),g=ol(n-o);return n===r||n===o||i&&r===o||s>u&&d<g}function Lo(a,e,t){return Math.max(e,Math.min(t,a))}function m8(a){return Lo(a,-32768,32767)}function od(a,e,t,i=1e-6){return a>=Math.min(e,t)-i&&a<=Math.max(e,t)+i}function l2(a,e,t){t=t||(o=>a[o]<e);let i=a.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,t(r)?n=r:i=r;return{lo:n,hi:i}}const ld=(a,e,t,i)=>l2(a,t,i?n=>{const r=a[n][e];return r<t||r===t&&a[n+1][e]===t}:n=>a[n][e]<t),y8=(a,e,t)=>l2(a,t,i=>a[i][e]>=t);function x8(a,e,t){let i=0,n=a.length;for(;i<n&&a[i]<e;)i++;for(;n>i&&a[n-1]>t;)n--;return i>0||n<a.length?a.slice(i,n):a}const lD=["push","pop","shift","splice","unshift"];function _8(a,e){if(a._chartjs){a._chartjs.listeners.push(e);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),lD.forEach(t=>{const i="_onData"+s2(t),n=a[t];Object.defineProperty(a,t,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return a._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...r)}),o}})})}function vT(a,e){const t=a._chartjs;if(!t)return;const i=t.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&(lD.forEach(r=>{delete a[r]}),delete a._chartjs)}function cD(a){const e=new Set(a);return e.size===a.length?a:Array.from(e)}const uD=(function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame})();function hD(a,e){let t=[],i=!1;return function(...n){t=n,i||(i=!0,uD.call(window,()=>{i=!1,a.apply(e,t)}))}}function v8(a,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(a,e,i)):a.apply(this,i),e}}const c2=a=>a==="start"?"left":a==="end"?"right":"center",rl=(a,e,t)=>a==="start"?e:a==="end"?t:(e+t)/2,w8=(a,e,t,i)=>a===(i?"left":"right")?t:a==="center"?(e+t)/2:e;function dD(a,e,t){const i=e.length;let n=0,r=i;if(a._sorted){const{iScale:o,vScale:s,_parsed:u}=a,d=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null,g=o.axis,{min:x,max:b,minDefined:S,maxDefined:P}=o.getUserBounds();if(S){if(n=Math.min(ld(u,g,x).lo,t?i:ld(e,g,o.getPixelForValue(x)).lo),d){const I=u.slice(0,n+1).reverse().findIndex(O=>!Qa(O[s.axis]));n-=Math.max(0,I)}n=Lo(n,0,i-1)}if(P){let I=Math.max(ld(u,o.axis,b,!0).hi+1,t?0:ld(e,g,o.getPixelForValue(b),!0).hi+1);if(d){const O=u.slice(I-1).findIndex(H=>!Qa(H[s.axis]));I+=Math.max(0,O)}r=Lo(I,n,i)-n}else r=i-n}return{start:n,count:r}}function fD(a){const{xScale:e,yScale:t,_scaleRanges:i}=a,n={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return a._scaleRanges=n,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,n),r}const sx=a=>a===0||a===1,wT=(a,e,t)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-e)*hs/t)),bT=(a,e,t)=>Math.pow(2,-10*a)*Math.sin((a-e)*hs/t)+1,l0={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*Js)+1,easeOutSine:a=>Math.sin(a*Js),easeInOutSine:a=>-.5*(Math.cos(or*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>sx(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>sx(a)?a:wT(a,.075,.3),easeOutElastic:a=>sx(a)?a:bT(a,.075,.3),easeInOutElastic(a){return sx(a)?a:a<.5?.5*wT(a*2,.1125,.45):.5+.5*bT(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let e=1.70158;return(a/=.5)<1?.5*(a*a*(((e*=1.525)+1)*a-e)):.5*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)},easeInBounce:a=>1-l0.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?l0.easeInBounce(a*2)*.5:l0.easeOutBounce(a*2-1)*.5+.5};function u2(a){if(a&&typeof a=="object"){const e=a.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function CT(a){return u2(a)?a:new E0(a)}function sb(a){return u2(a)?a:new E0(a).saturate(.5).darken(.1).hexString()}const b8=["x","y","borderWidth","radius","tension"],C8=["color","borderColor","backgroundColor"];function S8(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),a.set("animations",{colors:{type:"color",properties:C8},numbers:{type:"number",properties:b8}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function B8(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ST=new Map;function E8(a,e){e=e||{};const t=a+JSON.stringify(e);let i=ST.get(t);return i||(i=new Intl.NumberFormat(a,e),ST.set(t,i)),i}function q0(a,e,t){return E8(e,t).format(a)}const AD={values(a){return xs(a)?a:""+a},numeric(a,e,t){if(a===0)return"0";const i=this.chart.options.locale;let n,r=a;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(n="scientific"),r=k8(a,t)}const o=jd(Math.abs(r)),s=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:n,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(u,this.options.ticks.format),q0(a,i,u)},logarithmic(a,e,t){if(a===0)return"0";const i=t[e].significand||a/Math.pow(10,Math.floor(jd(a)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?AD.numeric.call(this,a,e,t):""}};function k8(a,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&a!==Math.floor(a)&&(t=a-Math.floor(a)),t}var Av={formatters:AD};function T8(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Av.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const LA=Object.create(null),oC=Object.create(null);function c0(a,e){if(!e)return a;const t=e.split(".");for(let i=0,n=t.length;i<n;++i){const r=t[i];a=a[r]||(a[r]=Object.create(null))}return a}function ob(a,e,t){return typeof e=="string"?k0(c0(a,e),t):k0(c0(a,""),e)}class I8{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>sb(n.backgroundColor),this.hoverBorderColor=(i,n)=>sb(n.borderColor),this.hoverColor=(i,n)=>sb(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return ob(this,e,t)}get(e){return c0(this,e)}describe(e,t){return ob(oC,e,t)}override(e,t){return ob(LA,e,t)}route(e,t,i,n){const r=c0(this,e),o=c0(this,i),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[s],d=o[n];return Wa(u)?Object.assign({},d,u):xa(u,d)},set(u){this[s]=u}}})}apply(e){e.forEach(t=>t(this))}}var _s=new I8({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[S8,B8,T8]);function M8(a){return!a||Qa(a.size)||Qa(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function P_(a,e,t,i,n){let r=e[n];return r||(r=e[n]=a.measureText(n).width,t.push(n)),r>i&&(i=r),i}function L8(a,e,t,i){i=i||{};let n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(n=i.data={},r=i.garbageCollect=[],i.font=e),a.save(),a.font=e;let o=0;const s=t.length;let u,d,g,x,b;for(u=0;u<s;u++)if(x=t[u],x!=null&&!xs(x))o=P_(a,n,r,o,x);else if(xs(x))for(d=0,g=x.length;d<g;d++)b=x[d],b!=null&&!xs(b)&&(o=P_(a,n,r,o,b));a.restore();const S=r.length/2;if(S>t.length){for(u=0;u<S;u++)delete n[r[u]];r.splice(0,S)}return o}function Qf(a,e,t){const i=a.currentDevicePixelRatio,n=t!==0?Math.max(t/2,.5):0;return Math.round((e-n)*i)/i+n}function BT(a,e){!e&&!a||(e=e||a.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,a.width,a.height),e.restore())}function lC(a,e,t,i){pD(a,e,t,i,null)}function pD(a,e,t,i,n){let r,o,s,u,d,g,x,b;const S=e.pointStyle,P=e.rotation,I=e.radius;let O=(P||0)*d8;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){a.save(),a.translate(t,i),a.rotate(O),a.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),a.restore();return}if(!(isNaN(I)||I<=0)){switch(a.beginPath(),S){default:n?a.ellipse(t,i,n/2,I,0,0,hs):a.arc(t,i,I,0,hs),a.closePath();break;case"triangle":g=n?n/2:I,a.moveTo(t+Math.sin(O)*g,i-Math.cos(O)*I),O+=yT,a.lineTo(t+Math.sin(O)*g,i-Math.cos(O)*I),O+=yT,a.lineTo(t+Math.sin(O)*g,i-Math.cos(O)*I),a.closePath();break;case"rectRounded":d=I*.516,u=I-d,o=Math.cos(O+Hf)*u,x=Math.cos(O+Hf)*(n?n/2-d:u),s=Math.sin(O+Hf)*u,b=Math.sin(O+Hf)*(n?n/2-d:u),a.arc(t-x,i-s,d,O-or,O-Js),a.arc(t+b,i-o,d,O-Js,O),a.arc(t+x,i+s,d,O,O+Js),a.arc(t-b,i+o,d,O+Js,O+or),a.closePath();break;case"rect":if(!P){u=Math.SQRT1_2*I,g=n?n/2:u,a.rect(t-g,i-u,2*g,2*u);break}O+=Hf;case"rectRot":x=Math.cos(O)*(n?n/2:I),o=Math.cos(O)*I,s=Math.sin(O)*I,b=Math.sin(O)*(n?n/2:I),a.moveTo(t-x,i-s),a.lineTo(t+b,i-o),a.lineTo(t+x,i+s),a.lineTo(t-b,i+o),a.closePath();break;case"crossRot":O+=Hf;case"cross":x=Math.cos(O)*(n?n/2:I),o=Math.cos(O)*I,s=Math.sin(O)*I,b=Math.sin(O)*(n?n/2:I),a.moveTo(t-x,i-s),a.lineTo(t+x,i+s),a.moveTo(t+b,i-o),a.lineTo(t-b,i+o);break;case"star":x=Math.cos(O)*(n?n/2:I),o=Math.cos(O)*I,s=Math.sin(O)*I,b=Math.sin(O)*(n?n/2:I),a.moveTo(t-x,i-s),a.lineTo(t+x,i+s),a.moveTo(t+b,i-o),a.lineTo(t-b,i+o),O+=Hf,x=Math.cos(O)*(n?n/2:I),o=Math.cos(O)*I,s=Math.sin(O)*I,b=Math.sin(O)*(n?n/2:I),a.moveTo(t-x,i-s),a.lineTo(t+x,i+s),a.moveTo(t+b,i-o),a.lineTo(t-b,i+o);break;case"line":o=n?n/2:Math.cos(O)*I,s=Math.sin(O)*I,a.moveTo(t-o,i-s),a.lineTo(t+o,i+s);break;case"dash":a.moveTo(t,i),a.lineTo(t+Math.cos(O)*(n?n/2:I),i+Math.sin(O)*I);break;case!1:a.closePath();break}a.fill(),e.borderWidth>0&&a.stroke()}}function cd(a,e,t){return t=t||.5,!e||a&&a.x>e.left-t&&a.x<e.right+t&&a.y>e.top-t&&a.y<e.bottom+t}function pv(a,e){a.save(),a.beginPath(),a.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),a.clip()}function gv(a){a.restore()}function F8(a,e,t,i,n){if(!e)return a.lineTo(t.x,t.y);if(n==="middle"){const r=(e.x+t.x)/2;a.lineTo(r,e.y),a.lineTo(r,t.y)}else n==="after"!=!!i?a.lineTo(e.x,t.y):a.lineTo(t.x,e.y);a.lineTo(t.x,t.y)}function P8(a,e,t,i){if(!e)return a.lineTo(t.x,t.y);a.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function D8(a,e){e.translation&&a.translate(e.translation[0],e.translation[1]),Qa(e.rotation)||a.rotate(e.rotation),e.color&&(a.fillStyle=e.color),e.textAlign&&(a.textAlign=e.textAlign),e.textBaseline&&(a.textBaseline=e.textBaseline)}function R8(a,e,t,i,n){if(n.strikethrough||n.underline){const r=a.measureText(i),o=e-r.actualBoundingBoxLeft,s=e+r.actualBoundingBoxRight,u=t-r.actualBoundingBoxAscent,d=t+r.actualBoundingBoxDescent,g=n.strikethrough?(u+d)/2:d;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=n.decorationWidth||2,a.moveTo(o,g),a.lineTo(s,g),a.stroke()}}function O8(a,e){const t=a.fillStyle;a.fillStyle=e.color,a.fillRect(e.left,e.top,e.width,e.height),a.fillStyle=t}function FA(a,e,t,i,n,r={}){const o=xs(e)?e:[e],s=r.strokeWidth>0&&r.strokeColor!=="";let u,d;for(a.save(),a.font=n.string,D8(a,r),u=0;u<o.length;++u)d=o[u],r.backdrop&&O8(a,r.backdrop),s&&(r.strokeColor&&(a.strokeStyle=r.strokeColor),Qa(r.strokeWidth)||(a.lineWidth=r.strokeWidth),a.strokeText(d,t,i,r.maxWidth)),a.fillText(d,t,i,r.maxWidth),R8(a,t,i,d,r),i+=Number(n.lineHeight);a.restore()}function M0(a,e){const{x:t,y:i,w:n,h:r,radius:o}=e;a.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*or,or,!0),a.lineTo(t,i+r-o.bottomLeft),a.arc(t+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,or,Js,!0),a.lineTo(t+n-o.bottomRight,i+r),a.arc(t+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Js,0,!0),a.lineTo(t+n,i+o.topRight),a.arc(t+n-o.topRight,i+o.topRight,o.topRight,0,-Js,!0),a.lineTo(t+o.topLeft,i)}const U8=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,N8=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function z8(a,e){const t=(""+a).match(U8);if(!t||t[1]==="normal")return e*1.2;switch(a=+t[2],t[3]){case"px":return a;case"%":a/=100;break}return e*a}const H8=a=>+a||0;function h2(a,e){const t={},i=Wa(e),n=i?Object.keys(e):e,r=Wa(a)?i?o=>xa(a[o],a[e[o]]):o=>a[o]:()=>a;for(const o of n)t[o]=H8(r(o));return t}function gD(a){return h2(a,{top:"y",right:"x",bottom:"y",left:"x"})}function bA(a){return h2(a,["topLeft","topRight","bottomLeft","bottomRight"])}function fl(a){const e=gD(a);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mo(a,e){a=a||{},e=e||_s.font;let t=xa(a.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=xa(a.style,e.style);i&&!(""+i).match(N8)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:xa(a.family,e.family),lineHeight:z8(xa(a.lineHeight,e.lineHeight),t),size:t,style:i,weight:xa(a.weight,e.weight),string:""};return n.string=M8(n),n}function Dm(a,e,t,i){let n,r,o;for(n=0,r=a.length;n<r;++n)if(o=a[n],o!==void 0&&o!==void 0)return o}function Q8(a,e,t){const{min:i,max:n}=a,r=aD(e,(n-i)/2),o=(s,u)=>t&&s===0?0:s+u;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function pf(a,e){return Object.assign(Object.create(a),e)}function d2(a,e=[""],t,i,n=()=>a[0]){const r=t||a;typeof i>"u"&&(i=_D("_fallback",a));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:r,_fallback:i,_getTarget:n,override:s=>d2([s,...a],e,r,i)};return new Proxy(o,{deleteProperty(s,u){return delete s[u],delete s._keys,delete a[0][u],!0},get(s,u){return yD(s,u,()=>K8(u,e,a,s))},getOwnPropertyDescriptor(s,u){return Reflect.getOwnPropertyDescriptor(s._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(s,u){return kT(s).includes(u)},ownKeys(s){return kT(s)},set(s,u,d){const g=s._storage||(s._storage=n());return s[u]=g[u]=d,delete s._keys,!0}})}function mg(a,e,t,i){const n={_cacheable:!1,_proxy:a,_context:e,_subProxy:t,_stack:new Set,_descriptors:mD(a,i),setContext:r=>mg(a,r,t,i),override:r=>mg(a.override(r),e,t,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete a[o],!0},get(r,o,s){return yD(r,o,()=>V8(r,o,s))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(a,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,o)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(r,o){return Reflect.has(a,o)},ownKeys(){return Reflect.ownKeys(a)},set(r,o,s){return a[o]=s,delete r[o],!0}})}function mD(a,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=a;return{allKeys:n,scriptable:t,indexable:i,isScriptable:lf(t)?t:()=>t,isIndexable:lf(i)?i:()=>i}}const j8=(a,e)=>a?a+s2(e):e,f2=(a,e)=>Wa(e)&&a!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yD(a,e,t){if(Object.prototype.hasOwnProperty.call(a,e)||e==="constructor")return a[e];const i=t();return a[e]=i,i}function V8(a,e,t){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=a;let s=i[e];return lf(s)&&o.isScriptable(e)&&(s=G8(e,s,a,t)),xs(s)&&s.length&&(s=W8(e,s,a,o.isIndexable)),f2(e,s)&&(s=mg(s,n,r&&r[e],o)),s}function G8(a,e,t,i){const{_proxy:n,_context:r,_subProxy:o,_stack:s}=t;if(s.has(a))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+a);s.add(a);let u=e(r,o||i);return s.delete(a),f2(a,u)&&(u=A2(n._scopes,n,a,u)),u}function W8(a,e,t,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=t;if(typeof r.index<"u"&&i(a))return e[r.index%e.length];if(Wa(e[0])){const u=e,d=n._scopes.filter(g=>g!==u);e=[];for(const g of u){const x=A2(d,n,a,g);e.push(mg(x,r,o&&o[a],s))}}return e}function xD(a,e,t){return lf(a)?a(e,t):a}const $8=(a,e)=>a===!0?e:typeof a=="string"?of(e,a):void 0;function X8(a,e,t,i,n){for(const r of e){const o=$8(t,r);if(o){a.add(o);const s=xD(o._fallback,t,n);if(typeof s<"u"&&s!==t&&s!==i)return s}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function A2(a,e,t,i){const n=e._rootScopes,r=xD(e._fallback,t,i),o=[...a,...n],s=new Set;s.add(i);let u=ET(s,o,t,r||t,i);return u===null||typeof r<"u"&&r!==t&&(u=ET(s,o,r,u,i),u===null)?!1:d2(Array.from(s),[""],n,r,()=>Y8(e,t,i))}function ET(a,e,t,i,n){for(;t;)t=X8(a,e,t,i,n);return t}function Y8(a,e,t){const i=a._getTarget();e in i||(i[e]={});const n=i[e];return xs(n)&&Wa(t)?t:n||{}}function K8(a,e,t,i){let n;for(const r of e)if(n=_D(j8(r,a),t),typeof n<"u")return f2(a,n)?A2(t,i,a,n):n}function _D(a,e){for(const t of e){if(!t)continue;const i=t[a];if(typeof i<"u")return i}}function kT(a){let e=a._keys;return e||(e=a._keys=q8(a._scopes)),e}function q8(a){const e=new Set;for(const t of a)for(const i of Object.keys(t).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}function vD(a,e,t,i){const{iScale:n}=a,{key:r="r"}=this._parsing,o=new Array(i);let s,u,d,g;for(s=0,u=i;s<u;++s)d=s+t,g=e[d],o[s]={r:n.parse(of(g,r),d)};return o}const Z8=Number.EPSILON||1e-14,yg=(a,e)=>e<a.length&&!a[e].skip&&a[e],wD=a=>a==="x"?"y":"x";function J8(a,e,t,i){const n=a.skip?e:a,r=e,o=t.skip?e:t,s=sC(r,n),u=sC(o,r);let d=s/(s+u),g=u/(s+u);d=isNaN(d)?0:d,g=isNaN(g)?0:g;const x=i*d,b=i*g;return{previous:{x:r.x-x*(o.x-n.x),y:r.y-x*(o.y-n.y)},next:{x:r.x+b*(o.x-n.x),y:r.y+b*(o.y-n.y)}}}function e6(a,e,t){const i=a.length;let n,r,o,s,u,d=yg(a,0);for(let g=0;g<i-1;++g)if(u=d,d=yg(a,g+1),!(!u||!d)){if(o0(e[g],0,Z8)){t[g]=t[g+1]=0;continue}n=t[g]/e[g],r=t[g+1]/e[g],s=Math.pow(n,2)+Math.pow(r,2),!(s<=9)&&(o=3/Math.sqrt(s),t[g]=n*o*e[g],t[g+1]=r*o*e[g])}}function t6(a,e,t="x"){const i=wD(t),n=a.length;let r,o,s,u=yg(a,0);for(let d=0;d<n;++d){if(o=s,s=u,u=yg(a,d+1),!s)continue;const g=s[t],x=s[i];o&&(r=(g-o[t])/3,s[`cp1${t}`]=g-r,s[`cp1${i}`]=x-r*e[d]),u&&(r=(u[t]-g)/3,s[`cp2${t}`]=g+r,s[`cp2${i}`]=x+r*e[d])}}function i6(a,e="x"){const t=wD(e),i=a.length,n=Array(i).fill(0),r=Array(i);let o,s,u,d=yg(a,0);for(o=0;o<i;++o)if(s=u,u=d,d=yg(a,o+1),!!u){if(d){const g=d[e]-u[e];n[o]=g!==0?(d[t]-u[t])/g:0}r[o]=s?d?ph(n[o-1])!==ph(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}e6(a,n,r),t6(a,r,e)}function ox(a,e,t){return Math.max(Math.min(a,t),e)}function n6(a,e){let t,i,n,r,o,s=cd(a[0],e);for(t=0,i=a.length;t<i;++t)o=r,r=s,s=t<i-1&&cd(a[t+1],e),r&&(n=a[t],o&&(n.cp1x=ox(n.cp1x,e.left,e.right),n.cp1y=ox(n.cp1y,e.top,e.bottom)),s&&(n.cp2x=ox(n.cp2x,e.left,e.right),n.cp2y=ox(n.cp2y,e.top,e.bottom)))}function a6(a,e,t,i,n){let r,o,s,u;if(e.spanGaps&&(a=a.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")i6(a,n);else{let d=i?a[a.length-1]:a[0];for(r=0,o=a.length;r<o;++r)s=a[r],u=J8(d,s,a[Math.min(r+1,o-(i?0:1))%o],e.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,d=s}e.capBezierPoints&&n6(a,t)}function p2(){return typeof window<"u"&&typeof document<"u"}function g2(a){let e=a.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function D_(a,e,t){let i;return typeof a=="string"?(i=parseInt(a,10),a.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=a,i}const mv=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function r6(a,e){return mv(a).getPropertyValue(e)}const s6=["top","right","bottom","left"];function CA(a,e,t){const i={};t=t?"-"+t:"";for(let n=0;n<4;n++){const r=s6[n];i[r]=parseFloat(a[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const o6=(a,e,t)=>(a>0||e>0)&&(!t||!t.shadowRoot);function l6(a,e){const t=a.touches,i=t&&t.length?t[0]:a,{offsetX:n,offsetY:r}=i;let o=!1,s,u;if(o6(n,r,a.target))s=n,u=r;else{const d=e.getBoundingClientRect();s=i.clientX-d.left,u=i.clientY-d.top,o=!0}return{x:s,y:u,box:o}}function qf(a,e){if("native"in a)return a;const{canvas:t,currentDevicePixelRatio:i}=e,n=mv(t),r=n.boxSizing==="border-box",o=CA(n,"padding"),s=CA(n,"border","width"),{x:u,y:d,box:g}=l6(a,t),x=o.left+(g&&s.left),b=o.top+(g&&s.top);let{width:S,height:P}=e;return r&&(S-=o.width+s.width,P-=o.height+s.height),{x:Math.round((u-x)/S*t.width/i),y:Math.round((d-b)/P*t.height/i)}}function c6(a,e,t){let i,n;if(e===void 0||t===void 0){const r=a&&g2(a);if(!r)e=a.clientWidth,t=a.clientHeight;else{const o=r.getBoundingClientRect(),s=mv(r),u=CA(s,"border","width"),d=CA(s,"padding");e=o.width-d.width-u.width,t=o.height-d.height-u.height,i=D_(s.maxWidth,r,"clientWidth"),n=D_(s.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||F_,maxHeight:n||F_}}const Vd=a=>Math.round(a*10)/10;function u6(a,e,t,i){const n=mv(a),r=CA(n,"margin"),o=D_(n.maxWidth,a,"clientWidth")||F_,s=D_(n.maxHeight,a,"clientHeight")||F_,u=c6(a,e,t);let{width:d,height:g}=u;if(n.boxSizing==="content-box"){const b=CA(n,"border","width"),S=CA(n,"padding");d-=S.width+b.width,g-=S.height+b.height}return d=Math.max(0,d-r.width),g=Math.max(0,i?d/i:g-r.height),d=Vd(Math.min(d,o,u.maxWidth)),g=Vd(Math.min(g,s,u.maxHeight)),d&&!g&&(g=Vd(d/2)),(e!==void 0||t!==void 0)&&i&&u.height&&g>u.height&&(g=u.height,d=Vd(Math.floor(g*i))),{width:d,height:g}}function TT(a,e,t){const i=e||1,n=Vd(a.height*i),r=Vd(a.width*i);a.height=Vd(a.height),a.width=Vd(a.width);const o=a.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${a.height}px`,o.style.width=`${a.width}px`),a.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(a.currentDevicePixelRatio=i,o.height=n,o.width=r,a.ctx.setTransform(i,0,0,i,0,0),!0):!1}const h6=(function(){let a=!1;try{const e={get passive(){return a=!0,!1}};p2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return a})();function IT(a,e){const t=r6(a,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Zf(a,e,t,i){return{x:a.x+t*(e.x-a.x),y:a.y+t*(e.y-a.y)}}function d6(a,e,t,i){return{x:a.x+t*(e.x-a.x),y:i==="middle"?t<.5?a.y:e.y:i==="after"?t<1?a.y:e.y:t>0?e.y:a.y}}function f6(a,e,t,i){const n={x:a.cp2x,y:a.cp2y},r={x:e.cp1x,y:e.cp1y},o=Zf(a,n,t),s=Zf(n,r,t),u=Zf(r,e,t),d=Zf(o,s,t),g=Zf(s,u,t);return Zf(d,g,t)}const A6=function(a,e){return{x(t){return a+a+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},p6=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,e){return a+e},leftForLtr(a,e){return a}}};function rg(a,e,t){return a?A6(e,t):p6()}function bD(a,e){let t,i;(e==="ltr"||e==="rtl")&&(t=a.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),a.prevTextDirection=i)}function CD(a,e){e!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",e[0],e[1]))}function SD(a){return a==="angle"?{between:I0,compare:g8,normalize:ol}:{between:od,compare:(e,t)=>e-t,normalize:e=>e}}function MT({start:a,end:e,count:t,loop:i,style:n}){return{start:a%t,end:e%t,loop:i&&(e-a+1)%t===0,style:n}}function g6(a,e,t){const{property:i,start:n,end:r}=t,{between:o,normalize:s}=SD(i),u=e.length;let{start:d,end:g,loop:x}=a,b,S;if(x){for(d+=u,g+=u,b=0,S=u;b<S&&o(s(e[d%u][i]),n,r);++b)d--,g--;d%=u,g%=u}return g<d&&(g+=u),{start:d,end:g,loop:x,style:a.style}}function BD(a,e,t){if(!t)return[a];const{property:i,start:n,end:r}=t,o=e.length,{compare:s,between:u,normalize:d}=SD(i),{start:g,end:x,loop:b,style:S}=g6(a,e,t),P=[];let I=!1,O=null,H,Q,Y;const Z=()=>u(n,Y,H)&&s(n,Y)!==0,J=()=>s(r,H)===0||u(r,Y,H),re=()=>I||Z(),q=()=>!I||J();for(let ne=g,te=g;ne<=x;++ne)Q=e[ne%o],!Q.skip&&(H=d(Q[i]),H!==Y&&(I=u(H,n,r),O===null&&re()&&(O=s(H,n)===0?ne:te),O!==null&&q()&&(P.push(MT({start:O,end:ne,loop:b,count:o,style:S})),O=null),te=ne,Y=H));return O!==null&&P.push(MT({start:O,end:x,loop:b,count:o,style:S})),P}function ED(a,e){const t=[],i=a.segments;for(let n=0;n<i.length;n++){const r=BD(i[n],a.points,e);r.length&&t.push(...r)}return t}function m6(a,e,t,i){let n=0,r=e-1;if(t&&!i)for(;n<e&&!a[n].skip;)n++;for(;n<e&&a[n].skip;)n++;for(n%=e,t&&(r+=n);r>n&&a[r%e].skip;)r--;return r%=e,{start:n,end:r}}function y6(a,e,t,i){const n=a.length,r=[];let o=e,s=a[e],u;for(u=e+1;u<=t;++u){const d=a[u%n];d.skip||d.stop?s.skip||(i=!1,r.push({start:e%n,end:(u-1)%n,loop:i}),e=o=d.stop?u:null):(o=u,s.skip&&(e=u)),s=d}return o!==null&&r.push({start:e%n,end:o%n,loop:i}),r}function x6(a,e){const t=a.points,i=a.options.spanGaps,n=t.length;if(!n)return[];const r=!!a._loop,{start:o,end:s}=m6(t,n,r,i);if(i===!0)return LT(a,[{start:o,end:s,loop:r}],t,e);const u=s<o?s+n:s,d=!!a._fullLoop&&o===0&&s===n-1;return LT(a,y6(t,o,u,d),t,e)}function LT(a,e,t,i){return!i||!i.setContext||!t?e:_6(a,e,t,i)}function _6(a,e,t,i){const n=a._chart.getContext(),r=FT(a.options),{_datasetIndex:o,options:{spanGaps:s}}=a,u=t.length,d=[];let g=r,x=e[0].start,b=x;function S(P,I,O,H){const Q=s?-1:1;if(P!==I){for(P+=u;t[P%u].skip;)P-=Q;for(;t[I%u].skip;)I+=Q;P%u!==I%u&&(d.push({start:P%u,end:I%u,loop:O,style:H}),g=H,x=I%u)}}for(const P of e){x=s?x:P.start;let I=t[x%u],O;for(b=x+1;b<=P.end;b++){const H=t[b%u];O=FT(i.setContext(pf(n,{type:"segment",p0:I,p1:H,p0DataIndex:(b-1)%u,p1DataIndex:b%u,datasetIndex:o}))),v6(O,g)&&S(x,b-1,P.loop,g),I=H,g=O}x<b-1&&S(x,b-1,P.loop,g)}return d}function FT(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function v6(a,e){if(!e)return!1;const t=[],i=function(n,r){return u2(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(a,i)!==JSON.stringify(e,i)}function lx(a,e,t){return a.options.clip?a[t]:e[t]}function w6(a,e){const{xScale:t,yScale:i}=a;return t&&i?{left:lx(t,e,"left"),right:lx(t,e,"right"),top:lx(i,e,"top"),bottom:lx(i,e,"bottom")}:e}function kD(a,e){const t=e._clip;if(t.disabled)return!1;const i=w6(e,a.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?a.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?a.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class b6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const r=t.listeners[n],o=t.duration;r.forEach(s=>s({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=uD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,s=!1,u;for(;o>=0;--o)u=r[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(n.draw(),this._notify(n,i,e,"progress")),r.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Kh=new b6;const PT="transparent",C6={boolean(a,e,t){return t>.5?e:a},color(a,e,t){const i=CT(a||PT),n=i.valid&&CT(e||PT);return n&&n.valid?n.mix(i,t).hexString():e},number(a,e,t){return a+(e-a)*t}};class S6{constructor(e,t,i,n){const r=t[i];n=Dm([e.to,n,r,e.from]);const o=Dm([e.from,r,n]);this._active=!0,this._fn=e.fn||C6[e.type||typeof o],this._easing=l0[e.easing]||l0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Dm([e.to,t,n,e.from]),this._from=Dm([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,s=this._to;let u;if(this._active=r!==s&&(o||t<i),!this._active){this._target[n]=s,this._notify(!0);return}if(t<0){this._target[n]=r;return}u=t/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[n]=this._fn(r,s,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][t]()}}class TD{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Wa(e))return;const t=Object.keys(_s.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!Wa(r))return;const o={};for(const s of t)o[s]=r[s];(xs(r.properties)&&r.properties||[n]).forEach(s=>{(s===n||!i.has(s))&&i.set(s,o)})})}_animateOptions(e,t){const i=t.options,n=E6(e,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&B6(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,n=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let u;for(u=o.length-1;u>=0;--u){const d=o[u];if(d.charAt(0)==="$")continue;if(d==="options"){n.push(...this._animateOptions(e,t));continue}const g=t[d];let x=r[d];const b=i.get(d);if(x)if(b&&x.active()){x.update(b,g,s);continue}else x.cancel();if(!b||!b.duration){e[d]=g;continue}r[d]=x=new S6(b,e,d,g),n.push(x)}return n}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Kh.add(this._chart,i),!0}}function B6(a,e){const t=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const r=a[i[n]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function E6(a,e){if(!e)return;let t=a.options;if(!t){a.options=e;return}return t.$shared&&(a.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function DT(a,e){const t=a&&a.options||{},i=t.reverse,n=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:n,end:i?n:r}}function k6(a,e,t){if(t===!1)return!1;const i=DT(a,t),n=DT(e,t);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function T6(a){let e,t,i,n;return Wa(a)?(e=a.top,t=a.right,i=a.bottom,n=a.left):e=t=i=n=a,{top:e,right:t,bottom:i,left:n,disabled:a===!1}}function ID(a,e){const t=[],i=a._getSortedDatasetMetas(e);let n,r;for(n=0,r=i.length;n<r;++n)t.push(i[n].index);return t}function RT(a,e,t,i={}){const n=a.keys,r=i.mode==="single";let o,s,u,d;if(e===null)return;let g=!1;for(o=0,s=n.length;o<s;++o){if(u=+n[o],u===t){if(g=!0,i.all)continue;break}d=a.values[u],Ns(d)&&(r||e===0||ph(e)===ph(d))&&(e+=d)}return!g&&!i.all?0:e}function I6(a,e){const{iScale:t,vScale:i}=e,n=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(a),s=new Array(o.length);let u,d,g;for(u=0,d=o.length;u<d;++u)g=o[u],s[u]={[n]:g,[r]:a[g]};return s}function lb(a,e){const t=a&&a.options.stacked;return t||t===void 0&&e.stack!==void 0}function M6(a,e,t){return`${a.id}.${e.id}.${t.stack||t.type}`}function L6(a){const{min:e,max:t,minDefined:i,maxDefined:n}=a.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?t:Number.POSITIVE_INFINITY}}function F6(a,e,t){const i=a[e]||(a[e]={});return i[t]||(i[t]={})}function OT(a,e,t,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const r=a[n.index];if(t&&r>0||!t&&r<0)return n.index}return null}function UT(a,e){const{chart:t,_cachedMeta:i}=a,n=t._stacks||(t._stacks={}),{iScale:r,vScale:o,index:s}=i,u=r.axis,d=o.axis,g=M6(r,o,i),x=e.length;let b;for(let S=0;S<x;++S){const P=e[S],{[u]:I,[d]:O}=P,H=P._stacks||(P._stacks={});b=H[d]=F6(n,g,I),b[s]=O,b._top=OT(b,o,!0,i.type),b._bottom=OT(b,o,!1,i.type);const Q=b._visualValues||(b._visualValues={});Q[s]=O}}function cb(a,e){const t=a.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function P6(a,e){return pf(a,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function D6(a,e,t){return pf(a,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Am(a,e){const t=a.controller.index,i=a.vScale&&a.vScale.axis;if(i){e=e||a._parsed;for(const n of e){const r=n._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const ub=a=>a==="reset"||a==="none",NT=(a,e)=>e?a:Object.assign({},a),R6=(a,e,t)=>a&&!e.hidden&&e._stacked&&{keys:ID(t,!0),values:null};class gf{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Am(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(x,b,S,P)=>x==="x"?b:x==="r"?P:S,r=t.xAxisID=xa(i.xAxisID,cb(e,"x")),o=t.yAxisID=xa(i.yAxisID,cb(e,"y")),s=t.rAxisID=xa(i.rAxisID,cb(e,"r")),u=t.indexAxis,d=t.iAxisID=n(u,r,o,s),g=t.vAxisID=n(u,o,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vT(this._data,this),e._stacked&&Am(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Wa(t)){const n=this._cachedMeta;this._data=I6(t,n)}else if(i!==t){if(i){vT(i,this);const n=this._cachedMeta;Am(n),n._parsed=[]}t&&Object.isExtensible(t)&&_8(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=lb(t.vScale,t),t.stack!==i.stack&&(n=!0,Am(t),t.stack=i.stack),this._resyncElements(e),(n||r!==t._stacked)&&(UT(this,t._parsed),t._stacked=lb(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,s=r.axis;let u=e===0&&t===n.length?!0:i._sorted,d=e>0&&i._parsed[e-1],g,x,b;if(this._parsing===!1)i._parsed=n,i._sorted=!0,b=n;else{xs(n[e])?b=this.parseArrayData(i,n,e,t):Wa(n[e])?b=this.parseObjectData(i,n,e,t):b=this.parsePrimitiveData(i,n,e,t);const S=()=>x[s]===null||d&&x[s]<d[s];for(g=0;g<t;++g)i._parsed[g+e]=x=b[g],u&&(S()&&(u=!1),d=x);i._sorted=u}o&&UT(this,b)}parsePrimitiveData(e,t,i,n){const{iScale:r,vScale:o}=e,s=r.axis,u=o.axis,d=r.getLabels(),g=r===o,x=new Array(n);let b,S,P;for(b=0,S=n;b<S;++b)P=b+i,x[b]={[s]:g||r.parse(d[P],P),[u]:o.parse(t[P],P)};return x}parseArrayData(e,t,i,n){const{xScale:r,yScale:o}=e,s=new Array(n);let u,d,g,x;for(u=0,d=n;u<d;++u)g=u+i,x=t[g],s[u]={x:r.parse(x[0],g),y:o.parse(x[1],g)};return s}parseObjectData(e,t,i,n){const{xScale:r,yScale:o}=e,{xAxisKey:s="x",yAxisKey:u="y"}=this._parsing,d=new Array(n);let g,x,b,S;for(g=0,x=n;g<x;++g)b=g+i,S=t[b],d[g]={x:r.parse(of(S,s),b),y:o.parse(of(S,u),b)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,r=this._cachedMeta,o=t[e.axis],s={keys:ID(n,!0),values:t._stacks[e.axis]._visualValues};return RT(s,o,r.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const r=i[t.axis];let o=r===null?NaN:r;const s=n&&i._stacks[t.axis];n&&s&&(n.values=s,o=RT(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&e===i.iScale,o=n.length,s=this._getOtherScale(e),u=R6(t,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:x}=L6(s);let b,S;function P(){S=n[b];const I=S[s.axis];return!Ns(S[e.axis])||g>I||x<I}for(b=0;b<o&&!(!P()&&(this.updateRangeFromParsed(d,e,S,u),r));++b);if(r){for(b=o-1;b>=0;--b)if(!P()){this.updateRangeFromParsed(d,e,S,u);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=t.length;n<r;++n)o=t[n][e.axis],Ns(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=T6(xa(this.options.clip,k6(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],r=t.chartArea,o=[],s=this._drawStart||0,u=this._drawCount||n.length-s,d=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,r,s,u),g=s;g<s+u;++g){const x=n[g];x.hidden||(x.active&&d?o.push(x):x.draw(e,r))}for(g=0;g<o.length;++g)o[g].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=D6(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=P6(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n=t==="active",r=this._cachedDataOpts,o=e+"-"+t,s=r[o],u=this.enableOptionSharing&&T0(i);if(s)return NT(s,u);const d=this.chart.config,g=d.datasetElementScopeKeys(this._type,e),x=n?[`${e}Hover`,"hover",e,""]:[e,""],b=d.getOptionScopes(this.getDataset(),g),S=Object.keys(_s.elements[e]),P=()=>this.getContext(i,n,t),I=d.resolveNamedOptions(b,S,P,x);return I.$shared&&(I.$shared=u,r[o]=Object.freeze(NT(I,u))),I}_resolveAnimations(e,t,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,s=r[o];if(s)return s;let u;if(n.options.animation!==!1){const g=this.chart.config,x=g.datasetAnimationScopeKeys(this._type,t),b=g.getOptionScopes(this.getDataset(),x);u=g.createResolver(b,this.getContext(e,i,t))}const d=new TD(n,u&&u.animations);return u&&u._cacheable&&(r[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||ub(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:o}}updateElement(e,t,i,n){ub(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!ub(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[s,u,d]of this._syncList)this[s](u,d);this._syncList=[];const n=i.length,r=t.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,i=!0){const n=this._cachedMeta,r=n.data,o=e+t;let s;const u=d=>{for(d.length+=t,s=d.length-1;s>=o;s--)d[s]=d[s-t]};for(u(r),s=e;s<o;++s)r[s]=new this.dataElementType;this._parsing&&u(n._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&Am(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function O6(a,e){if(!a._cache.$bar){const t=a.getMatchingVisibleMetas(e);let i=[];for(let n=0,r=t.length;n<r;n++)i=i.concat(t[n].controller.getAllParsedValues(a));a._cache.$bar=cD(i.sort((n,r)=>n-r))}return a._cache.$bar}function U6(a){const e=a.iScale,t=O6(e,a.type);let i=e._length,n,r,o,s;const u=()=>{o===32767||o===-32768||(T0(s)&&(i=Math.min(i,Math.abs(o-s)||i)),s=o)};for(n=0,r=t.length;n<r;++n)o=e.getPixelForValue(t[n]),u();for(s=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),u();return i}function N6(a,e,t,i){const n=t.barThickness;let r,o;return Qa(n)?(r=e.min*t.categoryPercentage,o=t.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[a]-r/2}}function z6(a,e,t,i){const n=e.pixels,r=n[a];let o=a>0?n[a-1]:null,s=a<n.length-1?n[a+1]:null;const u=t.categoryPercentage;o===null&&(o=r-(s===null?e.end-e.start:s-r)),s===null&&(s=r+r-o);const d=r-(r-Math.min(o,s))/2*u;return{chunk:Math.abs(s-o)/2*u/i,ratio:t.barPercentage,start:d}}function H6(a,e,t,i){const n=t.parse(a[0],i),r=t.parse(a[1],i),o=Math.min(n,r),s=Math.max(n,r);let u=o,d=s;Math.abs(o)>Math.abs(s)&&(u=s,d=o),e[t.axis]=d,e._custom={barStart:u,barEnd:d,start:n,end:r,min:o,max:s}}function MD(a,e,t,i){return xs(a)?H6(a,e,t,i):e[t.axis]=t.parse(a,i),e}function zT(a,e,t,i){const n=a.iScale,r=a.vScale,o=n.getLabels(),s=n===r,u=[];let d,g,x,b;for(d=t,g=t+i;d<g;++d)b=e[d],x={},x[n.axis]=s||n.parse(o[d],d),u.push(MD(b,x,r,d));return u}function hb(a){return a&&a.barStart!==void 0&&a.barEnd!==void 0}function Q6(a,e,t){return a!==0?ph(a):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function j6(a){let e,t,i,n,r;return a.horizontal?(e=a.base>a.x,t="left",i="right"):(e=a.base<a.y,t="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:t,end:i,reverse:e,top:n,bottom:r}}function V6(a,e,t,i){let n=e.borderSkipped;const r={};if(!n){a.borderSkipped=r;return}if(n===!0){a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:s,reverse:u,top:d,bottom:g}=j6(a);n==="middle"&&t&&(a.enableBorderRadius=!0,(t._top||0)===i?n=d:(t._bottom||0)===i?n=g:(r[HT(g,o,s,u)]=!0,n=d)),r[HT(n,o,s,u)]=!0,a.borderSkipped=r}function HT(a,e,t,i){return i?(a=G6(a,e,t),a=QT(a,t,e)):a=QT(a,e,t),a}function G6(a,e,t){return a===e?t:a===t?e:a}function QT(a,e,t){return a==="start"?e:a==="end"?t:a}function W6(a,{inflateAmount:e},t){a.inflateAmount=e==="auto"?t===1?.33:0:e}class $6 extends gf{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return zT(e,t,i,n)}parseArrayData(e,t,i,n){return zT(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:r,vScale:o}=e,{xAxisKey:s="x",yAxisKey:u="y"}=this._parsing,d=r.axis==="x"?s:u,g=o.axis==="x"?s:u,x=[];let b,S,P,I;for(b=i,S=i+n;b<S;++b)I=t[b],P={},P[r.axis]=r.parse(of(I,d),b),x.push(MD(of(I,g),P,o,b));return x}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const r=i._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,r=this.getParsed(e),o=r._custom,s=hb(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:s}}=this,u=s.getBasePixel(),d=s.isHorizontal(),g=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(t,n);for(let S=t;S<t+i;S++){const P=this.getParsed(S),I=r||Qa(P[s.axis])?{base:u,head:u}:this._calculateBarValuePixels(S),O=this._calculateBarIndexPixels(S,g),H=(P._stacks||{})[s.axis],Q={horizontal:d,base:I.base,enableBorderRadius:!H||hb(P._custom)||o===H._top||o===H._bottom,x:d?I.head:O.center,y:d?O.center:I.head,height:d?O.size:Math.abs(I.size),width:d?Math.abs(I.size):O.size};b&&(Q.options=x||this.resolveDataElementOptions(S,e[S].active?"active":n));const Y=Q.options||e[S].options;V6(Q,Y,H,o),W6(Q,Y,g.ratio),this.updateElement(e[S],S,Q,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),r=i.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(t),u=s&&s[i.axis],d=g=>{const x=g._parsed.find(S=>S[i.axis]===u),b=x&&x[g.vScale.axis];if(Qa(b)||isNaN(b))return!0};for(const g of n)if(!(t!==void 0&&d(g))&&((r===!1||o.indexOf(g.stack)===-1||r===void 0&&g.stack===void 0)&&o.push(g.stack),g.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[xa(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,i){const n=this._getStacks(e,i),r=t!==void 0?n.indexOf(t):-1;return r===-1?n.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let r,o;for(r=0,o=t.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const s=e.barThickness;return{min:s||U6(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,s=r||0,u=this.getParsed(e),d=u._custom,g=hb(d);let x=u[t.axis],b=0,S=i?this.applyStack(t,u,i):x,P,I;S!==x&&(b=S-x,S=x),g&&(x=d.barStart,S=d.barEnd-d.barStart,x!==0&&ph(x)!==ph(d.barEnd)&&(b=0),b+=x);const O=!Qa(r)&&!g?r:b;let H=t.getPixelForValue(O);if(this.chart.getDataVisibility(e)?P=t.getPixelForValue(b+S):P=H,I=P-H,Math.abs(I)<o){I=Q6(I,t,s)*o,x===s&&(H-=I/2);const Q=t.getPixelForDecimal(0),Y=t.getPixelForDecimal(1),Z=Math.min(Q,Y),J=Math.max(Q,Y);H=Math.max(Math.min(H,J),Z),P=H+I,i&&!g&&(u._stacks[t.axis]._visualValues[n]=t.getValueForPixel(P)-t.getValueForPixel(H))}if(H===t.getPixelForValue(s)){const Q=ph(I)*t.getLineWidthForValue(s)/2;H+=Q,I-=Q}return{size:I,base:H,head:P,center:P+I/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,r=n.skipNull,o=xa(n.maxBarThickness,1/0);let s,u;const d=this._getAxisCount();if(t.grouped){const g=r?this._getStackCount(e):t.stackCount,x=n.barThickness==="flex"?z6(e,t,n,g*d):N6(e,t,n,g*d),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(xa(b,this.getFirstScaleIdForIndexAxis())),P=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+S;s=x.start+x.chunk*P+x.chunk/2,u=Math.min(o,x.chunk*x.ratio)}else s=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(o,t.min*t.ratio);return{base:s-u/2,head:s+u/2,center:s,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[t.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class X6 extends gf{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){const r=super.parsePrimitiveData(e,t,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,t,i,n){const r=super.parseArrayData(e,t,i,n);for(let o=0;o<r.length;o++){const s=t[i+o];r[o]._custom=xa(s[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,t,i,n){const r=super.parseObjectData(e,t,i,n);for(let o=0;o<r.length;o++){const s=t[i+o];r[o]._custom=xa(s&&s.r&&+s.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,o=this.getParsed(e),s=n.getLabelForValue(o.x),u=r.getLabelForValue(o.y),d=o._custom;return{label:i[e]||"",value:"("+s+", "+u+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,n),g=o.axis,x=s.axis;for(let b=t;b<t+i;b++){const S=e[b],P=!r&&this.getParsed(b),I={},O=I[g]=r?o.getPixelForDecimal(.5):o.getPixelForValue(P[g]),H=I[x]=r?s.getBasePixel():s.getPixelForValue(P[x]);I.skip=isNaN(O)||isNaN(H),d&&(I.options=u||this.resolveDataElementOptions(b,S.active?"active":n),r&&(I.options.radius=0)),this.updateElement(S,b,I,n)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return t!=="active"&&(n.radius=0),n.radius+=xa(i&&i._custom,r),n}}function Y6(a,e,t){let i=1,n=1,r=0,o=0;if(e<hs){const s=a,u=s+e,d=Math.cos(s),g=Math.sin(s),x=Math.cos(u),b=Math.sin(u),S=(Y,Z,J)=>I0(Y,s,u,!0)?1:Math.max(Z,Z*t,J,J*t),P=(Y,Z,J)=>I0(Y,s,u,!0)?-1:Math.min(Z,Z*t,J,J*t),I=S(0,d,x),O=S(Js,g,b),H=P(or,d,x),Q=P(or+Js,g,b);i=(I-H)/2,n=(O-Q)/2,r=-(I+H)/2,o=-(O+Q)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}class m2 extends gf{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:s}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((u,d)=>{const x=e.getDatasetMeta(0).controller.getStyle(d);return{text:u,fillStyle:x.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(d),lineDash:x.borderDash,lineDashOffset:x.borderDashOffset,lineJoin:x.borderJoinStyle,lineWidth:x.borderWidth,strokeStyle:x.borderColor,textAlign:n,pointStyle:i,borderRadius:o&&(s||x.borderRadius),index:d}}):[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let r=u=>+i[u];if(Wa(i[e])){const{key:u="value"}=this._parsing;r=d=>+of(i[d],u)}let o,s;for(o=e,s=e+t;o<s;++o)n._parsed[o]=r(o)}}_getRotation(){return Bu(this.options.rotation-90)}_getCircumference(){return Bu(this.options.circumference)}_getRotationExtents(){let e=hs,t=-hs;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(r8(this.options.cutout,s),1),d=this._getRingWeight(this.index),{circumference:g,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:P,offsetY:I}=Y6(x,g,u),O=(i.width-o)/b,H=(i.height-o)/S,Q=Math.max(Math.min(O,H)/2,0),Y=aD(this.options.radius,Q),Z=Math.max(Y*u,0),J=(Y-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=P*Y,this.offsetY=I*Y,n.total=this.calculateTotal(),this.outerRadius=Y-J*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-J*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||n._parsed[e]===null||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/hs)}updateElements(e,t,i,n){const r=n==="reset",o=this.chart,s=o.chartArea,d=o.options.animation,g=(s.left+s.right)/2,x=(s.top+s.bottom)/2,b=r&&d.animateScale,S=b?0:this.innerRadius,P=b?0:this.outerRadius,{sharedOptions:I,includeOptions:O}=this._getSharedOptions(t,n);let H=this._getRotation(),Q;for(Q=0;Q<t;++Q)H+=this._circumference(Q,r);for(Q=t;Q<t+i;++Q){const Y=this._circumference(Q,r),Z=e[Q],J={x:g+this.offsetX,y:x+this.offsetY,startAngle:H,endAngle:H+Y,circumference:Y,outerRadius:P,innerRadius:S};O&&(J.options=I||this.resolveDataElementOptions(Q,Z.active?"active":n)),H+=Y,this.updateElement(Z,Q,J,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i=0,n;for(n=0;n<t.length;n++){const r=e._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!t[n].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?hs*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=q0(t._parsed[e],i.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,r,o,s,u;if(!e){for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,s=o.controller;break}}if(!e)return 0;for(n=0,r=e.length;n<r;++n)u=s.resolveDataElementOptions(n),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const r=this.resolveDataElementOptions(i);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(xa(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class K6 extends gf{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:s,count:u}=dD(t,n,o);this._drawStart=s,this._drawCount=u,fD(t)&&(s=0,u=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(n,s,u,e)}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:s,_stacked:u,_dataset:d}=this._cachedMeta,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(t,n),b=o.axis,S=s.axis,{spanGaps:P,segment:I}=this.options,O=gg(P)?P:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||r||n==="none",Q=t+i,Y=e.length;let Z=t>0&&this.getParsed(t-1);for(let J=0;J<Y;++J){const re=e[J],q=H?re:{};if(J<t||J>=Q){q.skip=!0;continue}const ne=this.getParsed(J),te=Qa(ne[S]),he=q[b]=o.getPixelForValue(ne[b],J),ve=q[S]=r||te?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,ne,u):ne[S],J);q.skip=isNaN(he)||isNaN(ve)||te,q.stop=J>0&&Math.abs(ne[b]-Z[b])>O,I&&(q.parsed=ne,q.raw=d.data[J]),x&&(q.options=g||this.resolveDataElementOptions(J,re.active?"active":n)),H||this.updateElement(re,J,q,n),Z=ne}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class LD extends gf{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map((r,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:n,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=q0(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,i,n){return vD.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),s=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,i,n){const r=n==="reset",o=this.chart,u=o.options.animation,d=this._cachedMeta.rScale,g=d.xCenter,x=d.yCenter,b=d.getIndexAngle(0)-.5*or;let S=b,P;const I=360/this.countVisibleElements();for(P=0;P<t;++P)S+=this._computeAngle(P,n,I);for(P=t;P<t+i;P++){const O=e[P];let H=S,Q=S+this._computeAngle(P,n,I),Y=o.getDataVisibility(P)?d.getDistanceFromCenterForValue(this.getParsed(P).r):0;S=Q,r&&(u.animateScale&&(Y=0),u.animateRotate&&(H=Q=b));const Z={x:g,y:x,innerRadius:0,outerRadius:Y,startAngle:H,endAngle:Q,options:this.resolveDataElementOptions(P,O.active?"active":n)};this.updateElement(O,P,Z,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?Bu(this.resolveDataElementOptions(e,t).angle||i):0}}class q6 extends m2{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Z6 extends gf{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return vD.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta,i=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(i.points=n,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(i,void 0,s,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let s=t;s<t+i;s++){const u=e[s],d=this.resolveDataElementOptions(s,u.active?"active":n),g=r.getPointPositionForValue(s,this.getParsed(s).r),x=o?r.xCenter:g.x,b=o?r.yCenter:g.y,S={x,y:b,angle:g.angle,skip:isNaN(x)||isNaN(b),options:d};this.updateElement(u,s,S,n)}}}class J6 extends gf{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=t,o=this.getParsed(e),s=n.getLabelForValue(o.x),u=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+s+", "+u+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled;let{start:r,count:o}=dD(t,i,n);if(this._drawStart=r,this._drawCount=o,fD(t)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:u}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!u._decimated,s.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){const r=n==="reset",{iScale:o,vScale:s,_stacked:u,_dataset:d}=this._cachedMeta,g=this.resolveDataElementOptions(t,n),x=this.getSharedOptions(g),b=this.includeOptions(n,x),S=o.axis,P=s.axis,{spanGaps:I,segment:O}=this.options,H=gg(I)?I:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||r||n==="none";let Y=t>0&&this.getParsed(t-1);for(let Z=t;Z<t+i;++Z){const J=e[Z],re=this.getParsed(Z),q=Q?J:{},ne=Qa(re[P]),te=q[S]=o.getPixelForValue(re[S],Z),he=q[P]=r||ne?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,re,u):re[P],Z);q.skip=isNaN(te)||isNaN(he)||ne,q.stop=Z>0&&Math.abs(re[S]-Y[S])>H,O&&(q.parsed=re,q.raw=d.data[Z]),b&&(q.options=x||this.resolveDataElementOptions(Z,J.active?"active":n)),Q||this.updateElement(J,Z,q,n),Y=re}this.updateSharedOptions(x,n,g)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let s=0;for(let u=t.length-1;u>=0;--u)s=Math.max(s,t[u].size(this.resolveDataElementOptions(u))/2);return s>0&&s}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!t.length)return n;const r=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,r,o)/2}}var eH=Object.freeze({__proto__:null,BarController:$6,BubbleController:X6,DoughnutController:m2,LineController:K6,PieController:q6,PolarAreaController:LD,RadarController:Z6,ScatterController:J6});function jf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class y2{static override(e){Object.assign(y2.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return jf()}parse(){return jf()}format(){return jf()}add(){return jf()}diff(){return jf()}startOf(){return jf()}endOf(){return jf()}}var tH={_date:y2};function iH(a,e,t,i){const{controller:n,data:r,_sorted:o}=a,s=n._cachedMeta.iScale,u=a.dataset&&a.dataset.options?a.dataset.options.spanGaps:null;if(s&&e===s.axis&&e!=="r"&&o&&r.length){const d=s._reversePixels?y8:ld;if(i){if(n._sharedOptions){const g=r[0],x=typeof g.getRange=="function"&&g.getRange(e);if(x){const b=d(r,e,t-x),S=d(r,e,t+x);return{lo:b.lo,hi:S.hi}}}}else{const g=d(r,e,t);if(u){const{vScale:x}=n._cachedMeta,{_parsed:b}=a,S=b.slice(0,g.lo+1).reverse().findIndex(I=>!Qa(I[x.axis]));g.lo-=Math.max(0,S);const P=b.slice(g.hi).findIndex(I=>!Qa(I[x.axis]));g.hi+=Math.max(0,P)}return g}}return{lo:0,hi:r.length-1}}function yv(a,e,t,i,n){const r=a.getSortedVisibleDatasetMetas(),o=t[e];for(let s=0,u=r.length;s<u;++s){const{index:d,data:g}=r[s],{lo:x,hi:b}=iH(r[s],e,o,n);for(let S=x;S<=b;++S){const P=g[S];P.skip||i(P,d,S)}}}function nH(a){const e=a.indexOf("x")!==-1,t=a.indexOf("y")!==-1;return function(i,n){const r=e?Math.abs(i.x-n.x):0,o=t?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function db(a,e,t,i,n){const r=[];return!n&&!a.isPointInArea(e)||yv(a,t,e,function(s,u,d){!n&&!cd(s,a.chartArea,0)||s.inRange(e.x,e.y,i)&&r.push({element:s,datasetIndex:u,index:d})},!0),r}function aH(a,e,t,i){let n=[];function r(o,s,u){const{startAngle:d,endAngle:g}=o.getProps(["startAngle","endAngle"],i),{angle:x}=oD(o,{x:e.x,y:e.y});I0(x,d,g)&&n.push({element:o,datasetIndex:s,index:u})}return yv(a,t,e,r),n}function rH(a,e,t,i,n,r){let o=[];const s=nH(t);let u=Number.POSITIVE_INFINITY;function d(g,x,b){const S=g.inRange(e.x,e.y,n);if(i&&!S)return;const P=g.getCenterPoint(n);if(!(!!r||a.isPointInArea(P))&&!S)return;const O=s(e,P);O<u?(o=[{element:g,datasetIndex:x,index:b}],u=O):O===u&&o.push({element:g,datasetIndex:x,index:b})}return yv(a,t,e,d),o}function fb(a,e,t,i,n,r){return!r&&!a.isPointInArea(e)?[]:t==="r"&&!i?aH(a,e,t,n):rH(a,e,t,i,n,r)}function jT(a,e,t,i,n){const r=[],o=t==="x"?"inXRange":"inYRange";let s=!1;return yv(a,t,e,(u,d,g)=>{u[o]&&u[o](e[t],n)&&(r.push({element:u,datasetIndex:d,index:g}),s=s||u.inRange(e.x,e.y,n))}),i&&!s?[]:r}var sH={modes:{index(a,e,t,i){const n=qf(e,a),r=t.axis||"x",o=t.includeInvisible||!1,s=t.intersect?db(a,n,r,i,o):fb(a,n,r,!1,i,o),u=[];return s.length?(a.getSortedVisibleDatasetMetas().forEach(d=>{const g=s[0].index,x=d.data[g];x&&!x.skip&&u.push({element:x,datasetIndex:d.index,index:g})}),u):[]},dataset(a,e,t,i){const n=qf(e,a),r=t.axis||"xy",o=t.includeInvisible||!1;let s=t.intersect?db(a,n,r,i,o):fb(a,n,r,!1,i,o);if(s.length>0){const u=s[0].datasetIndex,d=a.getDatasetMeta(u).data;s=[];for(let g=0;g<d.length;++g)s.push({element:d[g],datasetIndex:u,index:g})}return s},point(a,e,t,i){const n=qf(e,a),r=t.axis||"xy",o=t.includeInvisible||!1;return db(a,n,r,i,o)},nearest(a,e,t,i){const n=qf(e,a),r=t.axis||"xy",o=t.includeInvisible||!1;return fb(a,n,r,t.intersect,i,o)},x(a,e,t,i){const n=qf(e,a);return jT(a,n,"x",t.intersect,i)},y(a,e,t,i){const n=qf(e,a);return jT(a,n,"y",t.intersect,i)}}};const FD=["left","top","right","bottom"];function pm(a,e){return a.filter(t=>t.pos===e)}function VT(a,e){return a.filter(t=>FD.indexOf(t.pos)===-1&&t.box.axis===e)}function gm(a,e){return a.sort((t,i)=>{const n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function oH(a){const e=[];let t,i,n,r,o,s;for(t=0,i=(a||[]).length;t<i;++t)n=a[t],{position:r,options:{stack:o,stackWeight:s=1}}=n,e.push({index:t,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:s});return e}function lH(a){const e={};for(const t of a){const{stack:i,pos:n,stackWeight:r}=t;if(!i||!FD.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function cH(a,e){const t=lH(a),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,o,s;for(r=0,o=a.length;r<o;++r){s=a[r];const{fullSize:u}=s.box,d=t[s.stack],g=d&&s.stackWeight/d.weight;s.horizontal?(s.width=g?g*i:u&&e.availableWidth,s.height=n):(s.width=i,s.height=g?g*n:u&&e.availableHeight)}return t}function uH(a){const e=oH(a),t=gm(e.filter(d=>d.box.fullSize),!0),i=gm(pm(e,"left"),!0),n=gm(pm(e,"right")),r=gm(pm(e,"top"),!0),o=gm(pm(e,"bottom")),s=VT(e,"x"),u=VT(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:n.concat(u).concat(o).concat(s),chartArea:pm(e,"chartArea"),vertical:i.concat(n).concat(u),horizontal:r.concat(o).concat(s)}}function GT(a,e,t,i){return Math.max(a[t],e[t])+Math.max(a[i],e[i])}function PD(a,e){a.top=Math.max(a.top,e.top),a.left=Math.max(a.left,e.left),a.bottom=Math.max(a.bottom,e.bottom),a.right=Math.max(a.right,e.right)}function hH(a,e,t,i){const{pos:n,box:r}=t,o=a.maxPadding;if(!Wa(n)){t.size&&(a[n]-=t.size);const x=i[t.stack]||{size:0,count:1};x.size=Math.max(x.size,t.horizontal?r.height:r.width),t.size=x.size/x.count,a[n]+=t.size}r.getPadding&&PD(o,r.getPadding());const s=Math.max(0,e.outerWidth-GT(o,a,"left","right")),u=Math.max(0,e.outerHeight-GT(o,a,"top","bottom")),d=s!==a.w,g=u!==a.h;return a.w=s,a.h=u,t.horizontal?{same:d,other:g}:{same:g,other:d}}function dH(a){const e=a.maxPadding;function t(i){const n=Math.max(e[i]-a[i],0);return a[i]+=n,n}a.y+=t("top"),a.x+=t("left"),t("right"),t("bottom")}function fH(a,e){const t=e.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(e[o],t[o])}),r}return i(a?["left","right"]:["top","bottom"])}function Rm(a,e,t,i){const n=[];let r,o,s,u,d,g;for(r=0,o=a.length,d=0;r<o;++r){s=a[r],u=s.box,u.update(s.width||e.w,s.height||e.h,fH(s.horizontal,e));const{same:x,other:b}=hH(e,t,s,i);d|=x&&n.length,g=g||b,u.fullSize||n.push(s)}return d&&Rm(n,e,t,i)||g}function cx(a,e,t,i,n){a.top=t,a.left=e,a.right=e+i,a.bottom=t+n,a.width=i,a.height=n}function WT(a,e,t,i){const n=t.padding;let{x:r,y:o}=e;for(const s of a){const u=s.box,d=i[s.stack]||{placed:0,weight:1},g=s.stackWeight/d.weight||1;if(s.horizontal){const x=e.w*g,b=d.size||u.height;T0(d.start)&&(o=d.start),u.fullSize?cx(u,n.left,o,t.outerWidth-n.right-n.left,b):cx(u,e.left+d.placed,o,x,b),d.start=o,d.placed+=x,o=u.bottom}else{const x=e.h*g,b=d.size||u.width;T0(d.start)&&(r=d.start),u.fullSize?cx(u,r,n.top,b,t.outerHeight-n.bottom-n.top):cx(u,r,e.top+d.placed,b,x),d.start=r,d.placed+=x,r=u.right}}e.x=r,e.y=o}var hl={addBox(a,e){a.boxes||(a.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},a.boxes.push(e)},removeBox(a,e){const t=a.boxes?a.boxes.indexOf(e):-1;t!==-1&&a.boxes.splice(t,1)},configure(a,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(a,e,t,i){if(!a)return;const n=fl(a.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(t-n.height,0),s=uH(a.boxes),u=s.vertical,d=s.horizontal;Mr(a.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const g=u.reduce((I,O)=>O.box.options&&O.box.options.display===!1?I:I+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:t,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/g,hBoxMaxHeight:o/2}),b=Object.assign({},n);PD(b,fl(i));const S=Object.assign({maxPadding:b,w:r,h:o,x:n.left,y:n.top},n),P=cH(u.concat(d),x);Rm(s.fullSize,S,x,P),Rm(u,S,x,P),Rm(d,S,x,P)&&Rm(u,S,x,P),dH(S),WT(s.leftAndTop,S,x,P),S.x+=S.w,S.y+=S.h,WT(s.rightAndBottom,S,x,P),a.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Mr(s.chartArea,I=>{const O=I.box;Object.assign(O,a.chartArea),O.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class DD{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class AH extends DD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const t_="$chartjs",pH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},$T=a=>a===null||a==="";function gH(a,e){const t=a.style,i=a.getAttribute("height"),n=a.getAttribute("width");if(a[t_]={initial:{height:i,width:n,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",$T(n)){const r=IT(a,"width");r!==void 0&&(a.width=r)}if($T(i))if(a.style.height==="")a.height=a.width/(e||2);else{const r=IT(a,"height");r!==void 0&&(a.height=r)}return a}const RD=h6?{passive:!0}:!1;function mH(a,e,t){a&&a.addEventListener(e,t,RD)}function yH(a,e,t){a&&a.canvas&&a.canvas.removeEventListener(e,t,RD)}function xH(a,e){const t=pH[a.type]||a.type,{x:i,y:n}=qf(a,e);return{type:t,chart:e,native:a,x:i!==void 0?i:null,y:n!==void 0?n:null}}function R_(a,e){for(const t of a)if(t===e||t.contains(e))return!0}function _H(a,e,t){const i=a.canvas,n=new MutationObserver(r=>{let o=!1;for(const s of r)o=o||R_(s.addedNodes,i),o=o&&!R_(s.removedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}function vH(a,e,t){const i=a.canvas,n=new MutationObserver(r=>{let o=!1;for(const s of r)o=o||R_(s.removedNodes,i),o=o&&!R_(s.addedNodes,i);o&&t()});return n.observe(document,{childList:!0,subtree:!0}),n}const L0=new Map;let XT=0;function OD(){const a=window.devicePixelRatio;a!==XT&&(XT=a,L0.forEach((e,t)=>{t.currentDevicePixelRatio!==a&&e()}))}function wH(a,e){L0.size||window.addEventListener("resize",OD),L0.set(a,e)}function bH(a){L0.delete(a),L0.size||window.removeEventListener("resize",OD)}function CH(a,e,t){const i=a.canvas,n=i&&g2(i);if(!n)return;const r=hD((s,u)=>{const d=n.clientWidth;t(s,u),d<n.clientWidth&&t()},window),o=new ResizeObserver(s=>{const u=s[0],d=u.contentRect.width,g=u.contentRect.height;d===0&&g===0||r(d,g)});return o.observe(n),wH(a,r),o}function Ab(a,e,t){t&&t.disconnect(),e==="resize"&&bH(a)}function SH(a,e,t){const i=a.canvas,n=hD(r=>{a.ctx!==null&&t(xH(r,a))},a);return mH(i,e,n),n}class BH extends DD{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(gH(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[t_])return!1;const i=t[t_].initial;["height","width"].forEach(r=>{const o=i[r];Qa(o)?t.removeAttribute(r):t.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{t.style[r]=n[r]}),t.width=t.width,delete t[t_],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),o={attach:_H,detach:vH,resize:CH}[t]||SH;n[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];if(!n)return;({attach:Ab,detach:Ab,resize:Ab}[t]||yH)(e,t,n),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return u6(e,t,i,n)}isAttached(e){const t=e&&g2(e);return!!(t&&t.isConnected)}}function EH(a){return!p2()||typeof OffscreenCanvas<"u"&&a instanceof OffscreenCanvas?AH:BH}let md=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return gg(this.x)&&gg(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}};function kH(a,e){const t=a.options.ticks,i=TH(a),n=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?MH(e):[],o=r.length,s=r[0],u=r[o-1],d=[];if(o>n)return LH(e,d,r,o/n),d;const g=IH(r,e,n);if(o>0){let x,b;const S=o>1?Math.round((u-s)/(o-1)):null;for(ux(e,d,g,Qa(S)?0:s-S,s),x=0,b=o-1;x<b;x++)ux(e,d,g,r[x],r[x+1]);return ux(e,d,g,u,Qa(S)?e.length:u+S),d}return ux(e,d,g),d}function TH(a){const e=a.options.offset,t=a._tickSize(),i=a._length/t+(e?0:1),n=a._maxLength/t;return Math.floor(Math.min(i,n))}function IH(a,e,t){const i=FH(a),n=e.length/t;if(!i)return Math.max(n,1);const r=f8(i);for(let o=0,s=r.length-1;o<s;o++){const u=r[o];if(u>n)return u}return Math.max(n,1)}function MH(a){const e=[];let t,i;for(t=0,i=a.length;t<i;t++)a[t].major&&e.push(t);return e}function LH(a,e,t,i){let n=0,r=t[0],o;for(i=Math.ceil(i),o=0;o<a.length;o++)o===r&&(e.push(a[o]),n++,r=t[n*i])}function ux(a,e,t,i,n){const r=xa(i,0),o=Math.min(xa(n,a.length),a.length);let s=0,u,d,g;for(t=Math.ceil(t),n&&(u=n-i,t=u/Math.floor(u/t)),g=r;g<0;)s++,g=Math.round(r+s*t);for(d=Math.max(r,0);d<o;d++)d===g&&(e.push(a[d]),s++,g=Math.round(r+s*t))}function FH(a){const e=a.length;let t,i;if(e<2)return!1;for(i=a[0],t=1;t<e;++t)if(a[t]-a[t-1]!==i)return!1;return i}const PH=a=>a==="left"?"right":a==="right"?"left":a,YT=(a,e,t)=>e==="top"||e==="left"?a[e]+t:a[e]-t,KT=(a,e)=>Math.min(e||a,a);function qT(a,e){const t=[],i=a.length/e,n=a.length;let r=0;for(;r<n;r+=i)t.push(a[Math.floor(r)]);return t}function DH(a,e,t){const i=a.ticks.length,n=Math.min(e,i-1),r=a._startPixel,o=a._endPixel,s=1e-6;let u=a.getPixelForTick(n),d;if(!(t&&(i===1?d=Math.max(u-r,o-u):e===0?d=(a.getPixelForTick(1)-u)/2:d=(u-a.getPixelForTick(n-1))/2,u+=n<e?d:-d,u<r-s||u>o+s)))return u}function RH(a,e){Mr(a,t=>{const i=t.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete t.data[i[r]];i.splice(0,n)}})}function mm(a){return a.drawTicks?a.tickLength:0}function ZT(a,e){if(!a.display)return 0;const t=mo(a.font,e),i=fl(a.padding);return(xs(a.text)?a.text.length:1)*t.lineHeight+i.height}function OH(a,e){return pf(a,{scale:e,type:"scale"})}function UH(a,e,t){return pf(a,{tick:t,index:e,type:"tick"})}function NH(a,e,t){let i=c2(a);return(t&&e!=="right"||!t&&e==="right")&&(i=PH(i)),i}function zH(a,e,t,i){const{top:n,left:r,bottom:o,right:s,chart:u}=a,{chartArea:d,scales:g}=u;let x=0,b,S,P;const I=o-n,O=s-r;if(a.isHorizontal()){if(S=rl(i,r,s),Wa(t)){const H=Object.keys(t)[0],Q=t[H];P=g[H].getPixelForValue(Q)+I-e}else t==="center"?P=(d.bottom+d.top)/2+I-e:P=YT(a,t,e);b=s-r}else{if(Wa(t)){const H=Object.keys(t)[0],Q=t[H];S=g[H].getPixelForValue(Q)-O+e}else t==="center"?S=(d.left+d.right)/2-O+e:S=YT(a,t,e);P=rl(i,o,n),x=t==="left"?-Js:Js}return{titleX:S,titleY:P,maxWidth:b,rotation:x}}class NA extends md{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=xc(e,Number.POSITIVE_INFINITY),t=xc(t,Number.NEGATIVE_INFINITY),i=xc(i,Number.POSITIVE_INFINITY),n=xc(n,Number.NEGATIVE_INFINITY),{min:xc(e,i),max:xc(t,n),minDefined:Ns(e),maxDefined:Ns(t)}}getMinMax(e){let{min:t,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:t,max:i};const s=this.getMatchingVisibleMetas();for(let u=0,d=s.length;u<d;++u)o=s[u].controller.getMinMax(this,e),n||(t=Math.min(t,o.min)),r||(i=Math.max(i,o.max));return t=r&&t>i?i:t,i=n&&t>i?t:i,{min:xc(t,xc(i,t)),max:xc(i,xc(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ts(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Q8(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=s<this.ticks.length;this._convertTicksToLabels(u?qT(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ts(this.options.afterUpdate,[this])}beforeSetDimensions(){ts(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ts(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ts(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ts(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,r;for(i=0,n=e.length;i<n;i++)r=e[i],r.label=ts(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){ts(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ts(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=KT(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let o=n,s,u,d;if(!this._isVisible()||!t.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const g=this._getLabelSizes(),x=g.widest.width,b=g.highest.height,S=Lo(this.chart.width-x,0,this.maxWidth);s=e.offset?this.maxWidth/i:S/(i-1),x+6>s&&(s=S/(i-(e.offset?.5:1)),u=this.maxHeight-mm(e.grid)-t.padding-ZT(e.title,this.chart.options.font),d=Math.sqrt(x*x+b*b),o=o2(Math.min(Math.asin(Lo((g.highest.height+6)/s,-1,1)),Math.asin(Lo(u/d,-1,1))-Math.asin(Lo(b/d,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ts(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ts(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const u=ZT(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=mm(r)+u):(e.height=this.maxHeight,e.width=mm(r)+u),i.display&&this.ticks.length){const{first:d,last:g,widest:x,highest:b}=this._getLabelSizes(),S=i.padding*2,P=Bu(this.labelRotation),I=Math.cos(P),O=Math.sin(P);if(s){const H=i.mirror?0:O*x.width+I*b.height;e.height=Math.min(this.maxHeight,e.height+H+S)}else{const H=i.mirror?0:I*x.width+O*b.height;e.width=Math.min(this.maxWidth,e.width+H+S)}this._calculatePadding(d,g,O,I)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:r,padding:o},position:s}=this.options,u=this.labelRotation!==0,d=s!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;u?d?(b=n*e.width,S=i*t.height):(b=i*e.height,S=n*t.width):r==="start"?S=t.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,S=t.width/2),this.paddingLeft=Math.max((b-g+o)*this.width/(this.width-g),0),this.paddingRight=Math.max((S-x+o)*this.width/(this.width-x),0)}else{let g=t.height/2,x=e.height/2;r==="start"?(g=0,x=e.height):r==="end"&&(g=t.height,x=0),this.paddingTop=g+o,this.paddingBottom=x+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ts(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Qa(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=qT(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:r}=this,o=[],s=[],u=Math.floor(t/KT(t,i));let d=0,g=0,x,b,S,P,I,O,H,Q,Y,Z,J;for(x=0;x<t;x+=u){if(P=e[x].label,I=this._resolveTickFontOptions(x),n.font=O=I.string,H=r[O]=r[O]||{data:{},gc:[]},Q=I.lineHeight,Y=Z=0,!Qa(P)&&!xs(P))Y=P_(n,H.data,H.gc,Y,P),Z=Q;else if(xs(P))for(b=0,S=P.length;b<S;++b)J=P[b],!Qa(J)&&!xs(J)&&(Y=P_(n,H.data,H.gc,Y,J),Z+=Q);o.push(Y),s.push(Z),d=Math.max(Y,d),g=Math.max(Z,g)}RH(r,t);const re=o.indexOf(d),q=s.indexOf(g),ne=te=>({width:o[te]||0,height:s[te]||0});return{first:ne(0),last:ne(t-1),widest:ne(re),highest:ne(q),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return m8(this._alignToPixels?Qf(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=UH(this.getContext(),e,i))}return this.$context||(this.$context=OH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Bu(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,s=r?r.widest.width+o:0,u=r?r.highest.height+o:0;return this.isHorizontal()?u*i>s*n?s/i:u/n:u*n<s*i?u/i:s/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:s}=n,u=r.offset,d=this.isHorizontal(),x=this.ticks.length+(u?1:0),b=mm(r),S=[],P=s.setContext(this.getContext()),I=P.display?P.width:0,O=I/2,H=function(nt){return Qf(i,nt,I)};let Q,Y,Z,J,re,q,ne,te,he,ve,de,be;if(o==="top")Q=H(this.bottom),q=this.bottom-b,te=Q-O,ve=H(e.top)+O,be=e.bottom;else if(o==="bottom")Q=H(this.top),ve=e.top,be=H(e.bottom)-O,q=Q+O,te=this.top+b;else if(o==="left")Q=H(this.right),re=this.right-b,ne=Q-O,he=H(e.left)+O,de=e.right;else if(o==="right")Q=H(this.left),he=e.left,de=H(e.right)-O,re=Q+O,ne=this.left+b;else if(t==="x"){if(o==="center")Q=H((e.top+e.bottom)/2+.5);else if(Wa(o)){const nt=Object.keys(o)[0],je=o[nt];Q=H(this.chart.scales[nt].getPixelForValue(je))}ve=e.top,be=e.bottom,q=Q+O,te=q+b}else if(t==="y"){if(o==="center")Q=H((e.left+e.right)/2);else if(Wa(o)){const nt=Object.keys(o)[0],je=o[nt];Q=H(this.chart.scales[nt].getPixelForValue(je))}re=Q-O,ne=re-b,he=e.left,de=e.right}const De=xa(n.ticks.maxTicksLimit,x),Ie=Math.max(1,Math.ceil(x/De));for(Y=0;Y<x;Y+=Ie){const nt=this.getContext(Y),je=r.setContext(nt),dt=s.setContext(nt),Mt=je.lineWidth,We=je.color,Pt=dt.dash||[],Kt=dt.dashOffset,di=je.tickWidth,It=je.tickColor,bt=je.tickBorderDash||[],mt=je.tickBorderDashOffset;Z=DH(this,Y,u),Z!==void 0&&(J=Qf(i,Z,Mt),d?re=ne=he=de=J:q=te=ve=be=J,S.push({tx1:re,ty1:q,tx2:ne,ty2:te,x1:he,y1:ve,x2:de,y2:be,width:Mt,color:We,borderDash:Pt,borderDashOffset:Kt,tickWidth:di,tickColor:It,tickBorderDash:bt,tickBorderDashOffset:mt}))}return this._ticksLength=x,this._borderValue=Q,S}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),s=this.ticks,{align:u,crossAlign:d,padding:g,mirror:x}=r,b=mm(i.grid),S=b+g,P=x?-g:S,I=-Bu(this.labelRotation),O=[];let H,Q,Y,Z,J,re,q,ne,te,he,ve,de,be="middle";if(n==="top")re=this.bottom-P,q=this._getXAxisLabelAlignment();else if(n==="bottom")re=this.top+P,q=this._getXAxisLabelAlignment();else if(n==="left"){const Ie=this._getYAxisLabelAlignment(b);q=Ie.textAlign,J=Ie.x}else if(n==="right"){const Ie=this._getYAxisLabelAlignment(b);q=Ie.textAlign,J=Ie.x}else if(t==="x"){if(n==="center")re=(e.top+e.bottom)/2+S;else if(Wa(n)){const Ie=Object.keys(n)[0],nt=n[Ie];re=this.chart.scales[Ie].getPixelForValue(nt)+S}q=this._getXAxisLabelAlignment()}else if(t==="y"){if(n==="center")J=(e.left+e.right)/2-S;else if(Wa(n)){const Ie=Object.keys(n)[0],nt=n[Ie];J=this.chart.scales[Ie].getPixelForValue(nt)}q=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(u==="start"?be="top":u==="end"&&(be="bottom"));const De=this._getLabelSizes();for(H=0,Q=s.length;H<Q;++H){Y=s[H],Z=Y.label;const Ie=r.setContext(this.getContext(H));ne=this.getPixelForTick(H)+r.labelOffset,te=this._resolveTickFontOptions(H),he=te.lineHeight,ve=xs(Z)?Z.length:1;const nt=ve/2,je=Ie.color,dt=Ie.textStrokeColor,Mt=Ie.textStrokeWidth;let We=q;o?(J=ne,q==="inner"&&(H===Q-1?We=this.options.reverse?"left":"right":H===0?We=this.options.reverse?"right":"left":We="center"),n==="top"?d==="near"||I!==0?de=-ve*he+he/2:d==="center"?de=-De.highest.height/2-nt*he+he:de=-De.highest.height+he/2:d==="near"||I!==0?de=he/2:d==="center"?de=De.highest.height/2-nt*he:de=De.highest.height-ve*he,x&&(de*=-1),I!==0&&!Ie.showLabelBackdrop&&(J+=he/2*Math.sin(I))):(re=ne,de=(1-ve)*he/2);let Pt;if(Ie.showLabelBackdrop){const Kt=fl(Ie.backdropPadding),di=De.heights[H],It=De.widths[H];let bt=de-Kt.top,mt=0-Kt.left;switch(be){case"middle":bt-=di/2;break;case"bottom":bt-=di;break}switch(q){case"center":mt-=It/2;break;case"right":mt-=It;break;case"inner":H===Q-1?mt-=It:H>0&&(mt-=It/2);break}Pt={left:mt,top:bt,width:It+Kt.width,height:di+Kt.height,color:Ie.backdropColor}}O.push({label:Z,font:te,textOffset:de,options:{rotation:I,color:je,strokeColor:dt,strokeWidth:Mt,textAlign:We,textBaseline:be,translation:[J,re],backdrop:Pt}})}return O}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Bu(this.labelRotation))return e==="top"?"left":"right";let n="center";return t.align==="start"?n="left":t.align==="end"?n="right":t.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),s=e+r,u=o.widest.width;let d,g;return t==="left"?n?(g=this.right+r,i==="near"?d="left":i==="center"?(d="center",g+=u/2):(d="right",g+=u)):(g=this.right-s,i==="near"?d="right":i==="center"?(d="center",g-=u/2):(d="left",g=this.left)):t==="right"?n?(g=this.left+r,i==="near"?d="right":i==="center"?(d="center",g-=u/2):(d="left",g-=u)):(g=this.left+s,i==="near"?d="left":i==="center"?(d="center",g+=u/2):(d="right",g=this.right)):d="right",{textAlign:d,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(r=>r.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const s=(u,d,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(r=0,o=n.length;r<o;++r){const u=n[r];t.drawOnChartArea&&s({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&s({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const s=n.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let d,g,x,b;this.isHorizontal()?(d=Qf(e,this.left,o)-o/2,g=Qf(e,this.right,s)+s/2,x=b=u):(x=Qf(e,this.top,o)-o/2,b=Qf(e,this.bottom,s)+s/2,d=g=u),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(d,x),t.lineTo(g,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&pv(i,n);const r=this.getLabelItems(e);for(const o of r){const s=o.options,u=o.font,d=o.label,g=o.textOffset;FA(i,d,0,g,u,s)}n&&gv(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const r=mo(i.font),o=fl(i.padding),s=i.align;let u=r.lineHeight/2;t==="bottom"||t==="center"||Wa(t)?(u+=o.bottom,xs(i.text)&&(u+=r.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:d,titleY:g,maxWidth:x,rotation:b}=zH(this,u,t,s);FA(e,i.text,0,0,r,{color:i.color,maxWidth:x,rotation:b,textAlign:NH(s,t,n),textBaseline:"middle",translation:[d,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=xa(e.grid&&e.grid.z,-1),n=xa(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==NA.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=t.length;r<o;++r){const s=t[r];s[i]===this.id&&(!e||s.type===e)&&n.push(s)}return n}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return mo(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hx{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;jH(t)&&(i=this.register(t));const n=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,HH(e,o,i),this.override&&_s.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in _s[n]&&(delete _s[n][i],this.override&&delete LA[i])}}function HH(a,e,t){const i=k0(Object.create(null),[t?_s.get(t):{},_s.get(e),a.defaults]);_s.set(e,i),a.defaultRoutes&&QH(e,a.defaultRoutes),a.descriptors&&_s.describe(e,a.descriptors)}function QH(a,e){Object.keys(e).forEach(t=>{const i=t.split("."),n=i.pop(),r=[a].concat(i).join("."),o=e[t].split("."),s=o.pop(),u=o.join(".");_s.route(r,n,u,s)})}function jH(a){return"id"in a&&"defaults"in a}class VH{constructor(){this.controllers=new hx(gf,"datasets",!0),this.elements=new hx(md,"elements"),this.plugins=new hx(Object,"plugins"),this.scales=new hx(NA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(e,r,n):Mr(n,o=>{const s=i||this._getRegistryForType(o);this._exec(e,s,o)})})}_exec(e,t,i){const n=s2(e);ts(i["before"+n],[],i),t[e](i),ts(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var sh=new VH;class GH{constructor(){this._init=void 0}notify(e,t,i,n){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,t,i,n){n=n||{};for(const r of e){const o=r.plugin,s=o[i],u=[t,n,r.options];if(ts(s,u,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Qa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=xa(i.options&&i.options.plugins,{}),r=WH(i);return n===!1&&!t?[]:XH(e,r,n,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(s=>!o.some(u=>s.plugin.id===u.plugin.id));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function WH(a){const e={},t=[],i=Object.keys(sh.plugins.items);for(let r=0;r<i.length;r++)t.push(sh.getPlugin(i[r]));const n=a.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function $H(a,e){return!e&&a===!1?null:a===!0?{}:a}function XH(a,{plugins:e,localIds:t},i,n){const r=[],o=a.getContext();for(const s of e){const u=s.id,d=$H(i[u],n);d!==null&&r.push({plugin:s,options:YH(a.config,{plugin:s,local:t[u]},d,o)})}return r}function YH(a,{plugin:e,local:t},i,n){const r=a.pluginScopeKeys(e),o=a.getOptionScopes(i,r);return t&&e.defaults&&o.push(e.defaults),a.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cC(a,e){const t=_s.datasets[a]||{};return((e.datasets||{})[a]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function KH(a,e){let t=a;return a==="_index_"?t=e:a==="_value_"&&(t=e==="x"?"y":"x"),t}function qH(a,e){return a===e?"_index_":"_value_"}function JT(a){if(a==="x"||a==="y"||a==="r")return a}function ZH(a){if(a==="top"||a==="bottom")return"x";if(a==="left"||a==="right")return"y"}function uC(a,...e){if(JT(a))return a;for(const t of e){const i=t.axis||ZH(t.position)||a.length>1&&JT(a[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${a}' axis. Please provide 'axis' or 'position' option.`)}function eI(a,e,t){if(t[e+"AxisID"]===a)return{axis:e}}function JH(a,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===a||i.yAxisID===a);if(t.length)return eI(a,"x",t[0])||eI(a,"y",t[0])}return{}}function eQ(a,e){const t=LA[a.type]||{scales:{}},i=e.scales||{},n=cC(a.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const s=i[o];if(!Wa(s))return console.error(`Invalid scale configuration for scale: ${o}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=uC(o,s,JH(o,a),_s.scales[s.type]),d=qH(u,n),g=t.scales||{};r[o]=s0(Object.create(null),[{axis:u},s,g[u],g[d]])}),a.data.datasets.forEach(o=>{const s=o.type||a.type,u=o.indexAxis||cC(s,e),g=(LA[s]||{}).scales||{};Object.keys(g).forEach(x=>{const b=KH(x,u),S=o[b+"AxisID"]||b;r[S]=r[S]||Object.create(null),s0(r[S],[{axis:b},i[S],g[x]])})}),Object.keys(r).forEach(o=>{const s=r[o];s0(s,[_s.scales[s.type],_s.scale])}),r}function UD(a){const e=a.options||(a.options={});e.plugins=xa(e.plugins,{}),e.scales=eQ(a,e)}function ND(a){return a=a||{},a.datasets=a.datasets||[],a.labels=a.labels||[],a}function tQ(a){return a=a||{},a.data=ND(a.data),UD(a),a}const tI=new Map,zD=new Set;function dx(a,e){let t=tI.get(a);return t||(t=e(),tI.set(a,t),zD.add(t)),t}const ym=(a,e,t)=>{const i=of(e,t);i!==void 0&&a.add(i)};class iQ{constructor(e){this._config=tQ(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ND(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),UD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return dx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return dx(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return dx(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return dx(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return(!n||t)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:r}=this,o=this._cachedScopes(e,i),s=o.get(t);if(s)return s;const u=new Set;t.forEach(g=>{e&&(u.add(e),g.forEach(x=>ym(u,e,x))),g.forEach(x=>ym(u,n,x)),g.forEach(x=>ym(u,LA[r]||{},x)),g.forEach(x=>ym(u,_s,x)),g.forEach(x=>ym(u,oC,x))});const d=Array.from(u);return d.length===0&&d.push(Object.create(null)),zD.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,LA[t]||{},_s.datasets[t]||{},{type:t},_s,oC]}resolveNamedOptions(e,t,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=iI(this._resolverCache,e,n);let u=o;if(aQ(o,t)){r.$shared=!1,i=lf(i)?i():i;const d=this.createResolver(e,i,s);u=mg(o,i,d)}for(const d of t)r[d]=u[d];return r}createResolver(e,t,i=[""],n){const{resolver:r}=iI(this._resolverCache,e,i);return Wa(t)?mg(r,t,void 0,n):r}}function iI(a,e,t){let i=a.get(e);i||(i=new Map,a.set(e,i));const n=t.join();let r=i.get(n);return r||(r={resolver:d2(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},i.set(n,r)),r}const nQ=a=>Wa(a)&&Object.getOwnPropertyNames(a).some(e=>lf(a[e]));function aQ(a,e){const{isScriptable:t,isIndexable:i}=mD(a);for(const n of e){const r=t(n),o=i(n),s=(o||r)&&a[n];if(r&&(lf(s)||nQ(s))||o&&xs(s))return!0}return!1}var rQ="4.5.1";const sQ=["top","bottom","left","right","chartArea"];function nI(a,e){return a==="top"||a==="bottom"||sQ.indexOf(a)===-1&&e==="x"}function aI(a,e){return function(t,i){return t[a]===i[a]?t[e]-i[e]:t[a]-i[a]}}function rI(a){const e=a.chart,t=e.options.animation;e.notifyPlugins("afterRender"),ts(t&&t.onComplete,[a],e)}function oQ(a){const e=a.chart,t=e.options.animation;ts(t&&t.onProgress,[a],e)}function HD(a){return p2()&&typeof a=="string"?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}const i_={},sI=a=>{const e=HD(a);return Object.values(i_).filter(t=>t.canvas===e).pop()};function lQ(a,e,t){const i=Object.keys(a);for(const n of i){const r=+n;if(r>=e){const o=a[n];delete a[n],(t>0||r>e)&&(a[r+t]=o)}}}function cQ(a,e,t,i){return!t||a.type==="mouseout"?null:i?e:a}class x2{static defaults=_s;static instances=i_;static overrides=LA;static registry=sh;static version=rQ;static getChart=sI;static register(...e){sh.add(...e),oI()}static unregister(...e){sh.remove(...e),oI()}constructor(e,t){const i=this.config=new iQ(t),n=HD(e),r=sI(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||EH(n)),this.platform.updateConfig(i);const s=this.platform.acquireContext(n,o.aspectRatio),u=s&&s.canvas,d=u&&u.height,g=u&&u.width;if(this.id=a8(),this.ctx=s,this.canvas=u,this.width=g,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v8(x=>this.update(x),o.resizeDelay||0),this._dataChanges=[],i_[this.id]=this,!s||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Kh.listen(this,"complete",rI),Kh.listen(this,"progress",oQ),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:r}=this;return Qa(e)?t&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():TT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return BT(this.canvas,this.ctx),this}stop(){return Kh.stop(this),this}resize(e,t){Kh.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,TT(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),ts(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Mr(t,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce((o,s)=>(o[s]=!1,o),{});let r=[];t&&(r=r.concat(Object.keys(t).map(o=>{const s=t[o],u=uC(o,s),d=u==="r",g=u==="x";return{options:s,dposition:d?"chartArea":g?"bottom":"left",dtype:d?"radialLinear":g?"category":"linear"}}))),Mr(r,o=>{const s=o.options,u=s.id,d=uC(u,s),g=xa(s.type,o.dtype);(s.position===void 0||nI(s.position,d)!==nI(o.dposition))&&(s.position=o.dposition),n[u]=!0;let x=null;if(u in i&&i[u].type===g)x=i[u];else{const b=sh.getScale(g);x=new b({id:u,type:g,ctx:this.ctx,chart:this}),i[x.id]=x}x.init(s,e)}),Mr(n,(o,s)=>{o||delete i[s]}),Mr(i,o=>{hl.configure(this,o,o.options),hl.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((n,r)=>n.index-r.index),i>t){for(let n=t;n<i;++n)this._destroyDatasetMeta(n);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(aI("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,n)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const r=t[i];let o=this.getDatasetMeta(i);const s=r.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=s,o.indexAxis=r.indexAxis||cC(s,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=sh.getController(s),{datasetElementType:d,dataElementType:g}=_s.datasets[s];Object.assign(u,{dataElementType:sh.getElement(g),datasetElementType:d&&sh.getElement(d)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Mr(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,g=this.data.datasets.length;d<g;d++){const{controller:x}=this.getDatasetMeta(d),b=!n&&r.indexOf(x)===-1;x.buildOrUpdateElements(b),o=Math.max(+x.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||Mr(r,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aI("z","_idx"));const{_active:s,_lastEvent:u}=this;u?this._eventHandler(u,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Mr(this.scales,e=>{hl.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!mT(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of t){const o=i==="_removeElements"?-r:r;lQ(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,s)=>s+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<t;r++)if(!mT(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hl.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Mr(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,lf(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Kh.has(this)?this.attached&&!Kh.running(this)&&Kh.start(this):(this.draw(),rI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,r;for(n=0,r=t.length;n<r;++n){const o=t[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=kD(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&pv(t,n),e.controller.draw(),n&&gv(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return cd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const r=sH.modes[t];return typeof r=="function"?r(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter(r=>r&&r._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=pf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,n);T0(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(s=>s.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Kh.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),BT(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete i_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,o)=>{t.addEventListener(this,r,o),e[r]=o},n=(r,o,s)=>{r.offsetX=o,r.offsetY=s,this._eventHandler(r)};Mr(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(u,d)=>{t.addEventListener(this,u,d),e[u]=d},n=(u,d)=>{e[u]&&(t.removeEventListener(this,u,d),delete e[u])},r=(u,d)=>{this.canvas&&this.resize(u,d)};let o;const s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){Mr(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Mr(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let r,o,s,u;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),s=0,u=e.length;s<u;++s){o=e[s];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const s=this.getDatasetMeta(r);if(!s)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:s.data[o],index:o}});!M_(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const n=this.options.hover,r=(u,d)=>u.filter(g=>!d.some(x=>g.datasetIndex===x.datasetIndex&&g.index===x.index)),o=r(t,e),s=i?e:r(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:r}=this,o=t,s=this._getActiveElements(e,n,i,o),u=u8(e),d=cQ(e,this._lastEvent,i,u);i&&(this._lastEvent=null,ts(r.onHover,[e,s,this],this),u&&ts(r.onClick,[e,s,this],this));const g=!M_(s,n);return(g||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=d,g}_getActiveElements(e,t,i,n){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function oI(){return Mr(x2.instances,a=>a._plugins.invalidate())}function uQ(a,e,t){const{startAngle:i,x:n,y:r,outerRadius:o,innerRadius:s,options:u}=e,{borderWidth:d,borderJoinStyle:g}=u,x=Math.min(d/o,ol(i-t));if(a.beginPath(),a.arc(n,r,o-d/2,i+x/2,t-x/2),s>0){const b=Math.min(d/s,ol(i-t));a.arc(n,r,s+d/2,t-b/2,i+b/2,!0)}else{const b=Math.min(d/2,o*ol(i-t));if(g==="round")a.arc(n,r,b,t-or/2,i+or/2,!0);else if(g==="bevel"){const S=2*b*b,P=-S*Math.cos(t+or/2)+n,I=-S*Math.sin(t+or/2)+r,O=S*Math.cos(i+or/2)+n,H=S*Math.sin(i+or/2)+r;a.lineTo(P,I),a.lineTo(O,H)}}a.closePath(),a.moveTo(0,0),a.rect(0,0,a.canvas.width,a.canvas.height),a.clip("evenodd")}function hQ(a,e,t){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:s,innerRadius:u}=e;let d=n/s;a.beginPath(),a.arc(r,o,s,i-d,t+d),u>n?(d=n/u,a.arc(r,o,u,t+d,i-d,!0)):a.arc(r,o,n,t+Js,i-Js),a.closePath(),a.clip()}function dQ(a){return h2(a,["outerStart","outerEnd","innerStart","innerEnd"])}function fQ(a,e,t,i){const n=dQ(a.options.borderRadius),r=(t-e)/2,o=Math.min(r,i*e/2),s=u=>{const d=(t-Math.min(r,u))*i/2;return Lo(u,0,Math.min(r,d))};return{outerStart:s(n.outerStart),outerEnd:s(n.outerEnd),innerStart:Lo(n.innerStart,0,o),innerEnd:Lo(n.innerEnd,0,o)}}function wp(a,e,t,i){return{x:t+a*Math.cos(e),y:i+a*Math.sin(e)}}function O_(a,e,t,i,n,r){const{x:o,y:s,startAngle:u,pixelMargin:d,innerRadius:g}=e,x=Math.max(e.outerRadius+i+t-d,0),b=g>0?g+i+t+d:0;let S=0;const P=n-u;if(i){const Ie=g>0?g-i:0,nt=x>0?x-i:0,je=(Ie+nt)/2,dt=je!==0?P*je/(je+i):P;S=(P-dt)/2}const I=Math.max(.001,P*x-t/or)/x,O=(P-I)/2,H=u+O+S,Q=n-O-S,{outerStart:Y,outerEnd:Z,innerStart:J,innerEnd:re}=fQ(e,b,x,Q-H),q=x-Y,ne=x-Z,te=H+Y/q,he=Q-Z/ne,ve=b+J,de=b+re,be=H+J/ve,De=Q-re/de;if(a.beginPath(),r){const Ie=(te+he)/2;if(a.arc(o,s,x,te,Ie),a.arc(o,s,x,Ie,he),Z>0){const Mt=wp(ne,he,o,s);a.arc(Mt.x,Mt.y,Z,he,Q+Js)}const nt=wp(de,Q,o,s);if(a.lineTo(nt.x,nt.y),re>0){const Mt=wp(de,De,o,s);a.arc(Mt.x,Mt.y,re,Q+Js,De+Math.PI)}const je=(Q-re/b+(H+J/b))/2;if(a.arc(o,s,b,Q-re/b,je,!0),a.arc(o,s,b,je,H+J/b,!0),J>0){const Mt=wp(ve,be,o,s);a.arc(Mt.x,Mt.y,J,be+Math.PI,H-Js)}const dt=wp(q,H,o,s);if(a.lineTo(dt.x,dt.y),Y>0){const Mt=wp(q,te,o,s);a.arc(Mt.x,Mt.y,Y,H-Js,te)}}else{a.moveTo(o,s);const Ie=Math.cos(te)*x+o,nt=Math.sin(te)*x+s;a.lineTo(Ie,nt);const je=Math.cos(he)*x+o,dt=Math.sin(he)*x+s;a.lineTo(je,dt)}a.closePath()}function AQ(a,e,t,i,n){const{fullCircles:r,startAngle:o,circumference:s}=e;let u=e.endAngle;if(r){O_(a,e,t,i,u,n);for(let d=0;d<r;++d)a.fill();isNaN(s)||(u=o+(s%hs||hs))}return O_(a,e,t,i,u,n),a.fill(),u}function pQ(a,e,t,i,n){const{fullCircles:r,startAngle:o,circumference:s,options:u}=e,{borderWidth:d,borderJoinStyle:g,borderDash:x,borderDashOffset:b,borderRadius:S}=u,P=u.borderAlign==="inner";if(!d)return;a.setLineDash(x||[]),a.lineDashOffset=b,P?(a.lineWidth=d*2,a.lineJoin=g||"round"):(a.lineWidth=d,a.lineJoin=g||"bevel");let I=e.endAngle;if(r){O_(a,e,t,i,I,n);for(let O=0;O<r;++O)a.stroke();isNaN(s)||(I=o+(s%hs||hs))}P&&hQ(a,e,I),u.selfJoin&&I-o>=or&&S===0&&g!=="miter"&&uQ(a,e,I),r||(O_(a,e,t,i,I,n),a.stroke())}class gQ extends md{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.getProps(["x","y"],i),{angle:r,distance:o}=oD(n,{x:e,y:t}),{startAngle:s,endAngle:u,innerRadius:d,outerRadius:g,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,S=xa(x,u-s),P=I0(r,s,u)&&s!==u,I=S>=hs||P,O=od(o,d+b,g+b);return I&&O}getCenterPoint(e){const{x:t,y:i,startAngle:n,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:d}=this.options,g=(n+r)/2,x=(o+s+d+u)/2;return{x:t+Math.cos(g)*x,y:i+Math.sin(g)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>hs?Math.floor(i/hs):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const s=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(s)*n,Math.sin(s)*n);const u=1-Math.sin(Math.min(or,i||0)),d=n*u;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,AQ(e,this,d,r,o),pQ(e,this,d,r,o),e.restore()}}function QD(a,e,t=e){a.lineCap=xa(t.borderCapStyle,e.borderCapStyle),a.setLineDash(xa(t.borderDash,e.borderDash)),a.lineDashOffset=xa(t.borderDashOffset,e.borderDashOffset),a.lineJoin=xa(t.borderJoinStyle,e.borderJoinStyle),a.lineWidth=xa(t.borderWidth,e.borderWidth),a.strokeStyle=xa(t.borderColor,e.borderColor)}function mQ(a,e,t){a.lineTo(t.x,t.y)}function yQ(a){return a.stepped?F8:a.tension||a.cubicInterpolationMode==="monotone"?P8:mQ}function jD(a,e,t={}){const i=a.length,{start:n=0,end:r=i-1}=t,{start:o,end:s}=e,u=Math.max(n,o),d=Math.min(r,s),g=n<o&&r<o||n>s&&r>s;return{count:i,start:u,loop:e.loop,ilen:d<u&&!g?i+d-u:d-u}}function xQ(a,e,t,i){const{points:n,options:r}=e,{count:o,start:s,loop:u,ilen:d}=jD(n,t,i),g=yQ(r);let{move:x=!0,reverse:b}=i||{},S,P,I;for(S=0;S<=d;++S)P=n[(s+(b?d-S:S))%o],!P.skip&&(x?(a.moveTo(P.x,P.y),x=!1):g(a,I,P,b,r.stepped),I=P);return u&&(P=n[(s+(b?d:0))%o],g(a,I,P,b,r.stepped)),!!u}function _Q(a,e,t,i){const n=e.points,{count:r,start:o,ilen:s}=jD(n,t,i),{move:u=!0,reverse:d}=i||{};let g=0,x=0,b,S,P,I,O,H;const Q=Z=>(o+(d?s-Z:Z))%r,Y=()=>{I!==O&&(a.lineTo(g,O),a.lineTo(g,I),a.lineTo(g,H))};for(u&&(S=n[Q(0)],a.moveTo(S.x,S.y)),b=0;b<=s;++b){if(S=n[Q(b)],S.skip)continue;const Z=S.x,J=S.y,re=Z|0;re===P?(J<I?I=J:J>O&&(O=J),g=(x*g+Z)/++x):(Y(),a.lineTo(Z,J),P=re,x=0,I=O=J),H=J}Y()}function hC(a){const e=a.options,t=e.borderDash&&e.borderDash.length;return!a._decimated&&!a._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?_Q:xQ}function vQ(a){return a.stepped?d6:a.tension||a.cubicInterpolationMode==="monotone"?f6:Zf}function wQ(a,e,t,i){let n=e._path;n||(n=e._path=new Path2D,e.path(n,t,i)&&n.closePath()),QD(a,e.options),a.stroke(n)}function bQ(a,e,t,i){const{segments:n,options:r}=e,o=hC(e);for(const s of n)QD(a,r,s.style),a.beginPath(),o(a,e,s,{start:t,end:t+i-1})&&a.closePath(),a.stroke()}const CQ=typeof Path2D=="function";function SQ(a,e,t,i){CQ&&!e.options.segment?wQ(a,e,t,i):bQ(a,e,t,i)}class xv extends md{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;a6(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=x6(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],r=this.points,o=ED(this,{property:t,start:n,end:n});if(!o.length)return;const s=[],u=vQ(i);let d,g;for(d=0,g=o.length;d<g;++d){const{start:x,end:b}=o[d],S=r[x],P=r[b];if(S===P){s.push(S);continue}const I=Math.abs((n-S[t])/(P[t]-S[t])),O=u(S,P,I,i.stepped);O[t]=e[t],s.push(O)}return s.length===1?s[0]:s}pathSegment(e,t,i){return hC(this)(e,this,t,i)}path(e,t,i){const n=this.segments,r=hC(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const s of n)o&=r(e,this,s,{start:t,end:t+i-1});return!!o}draw(e,t,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),SQ(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lI(a,e,t,i){const n=a.options,{[t]:r}=a.getProps([t],i);return Math.abs(e-r)<n.radius+n.hitRadius}class BQ extends md{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return lI(this,e,"x",t)}inYRange(e,t){return lI(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!cd(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,lC(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function VD(a,e){const{x:t,y:i,base:n,width:r,height:o}=a.getProps(["x","y","base","width","height"],e);let s,u,d,g,x;return a.horizontal?(x=o/2,s=Math.min(t,n),u=Math.max(t,n),d=i-x,g=i+x):(x=r/2,s=t-x,u=t+x,d=Math.min(i,n),g=Math.max(i,n)),{left:s,top:d,right:u,bottom:g}}function Gd(a,e,t,i){return a?0:Lo(e,t,i)}function EQ(a,e,t){const i=a.options.borderWidth,n=a.borderSkipped,r=gD(i);return{t:Gd(n.top,r.top,0,t),r:Gd(n.right,r.right,0,e),b:Gd(n.bottom,r.bottom,0,t),l:Gd(n.left,r.left,0,e)}}function kQ(a,e,t){const{enableBorderRadius:i}=a.getProps(["enableBorderRadius"]),n=a.options.borderRadius,r=bA(n),o=Math.min(e,t),s=a.borderSkipped,u=i||Wa(n);return{topLeft:Gd(!u||s.top||s.left,r.topLeft,0,o),topRight:Gd(!u||s.top||s.right,r.topRight,0,o),bottomLeft:Gd(!u||s.bottom||s.left,r.bottomLeft,0,o),bottomRight:Gd(!u||s.bottom||s.right,r.bottomRight,0,o)}}function TQ(a){const e=VD(a),t=e.right-e.left,i=e.bottom-e.top,n=EQ(a,t/2,i/2),r=kQ(a,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:t-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function pb(a,e,t,i){const n=e===null,r=t===null,s=a&&!(n&&r)&&VD(a,i);return s&&(n||od(e,s.left,s.right))&&(r||od(t,s.top,s.bottom))}function IQ(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}function MQ(a,e){a.rect(e.x,e.y,e.w,e.h)}function gb(a,e,t={}){const i=a.x!==t.x?-e:0,n=a.y!==t.y?-e:0,r=(a.x+a.w!==t.x+t.w?e:0)-i,o=(a.y+a.h!==t.y+t.h?e:0)-n;return{x:a.x+i,y:a.y+n,w:a.w+r,h:a.h+o,radius:a.radius}}class LQ extends md{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=TQ(this),s=IQ(o.radius)?M0:MQ;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),s(e,gb(o,t,r)),e.clip(),s(e,gb(r,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,gb(r,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return pb(this,e,t,i)}inXRange(e,t){return pb(this,e,null,t)}inYRange(e,t){return pb(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var FQ=Object.freeze({__proto__:null,ArcElement:gQ,BarElement:LQ,LineElement:xv,PointElement:BQ});const dC=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],cI=dC.map(a=>a.replace("rgb(","rgba(").replace(")",", 0.5)"));function GD(a){return dC[a%dC.length]}function WD(a){return cI[a%cI.length]}function PQ(a,e){return a.borderColor=GD(e),a.backgroundColor=WD(e),++e}function DQ(a,e){return a.backgroundColor=a.data.map(()=>GD(e++)),e}function RQ(a,e){return a.backgroundColor=a.data.map(()=>WD(e++)),e}function OQ(a){let e=0;return(t,i)=>{const n=a.getDatasetMeta(i).controller;n instanceof m2?e=DQ(t,e):n instanceof LD?e=RQ(t,e):n&&(e=PQ(t,e))}}function uI(a){let e;for(e in a)if(a[e].borderColor||a[e].backgroundColor)return!0;return!1}function UQ(a){return a&&(a.borderColor||a.backgroundColor)}function NQ(){return _s.borderColor!=="rgba(0,0,0,0.1)"||_s.backgroundColor!=="rgba(0,0,0,0.1)"}var zQ={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(a,e,t){if(!t.enabled)return;const{data:{datasets:i},options:n}=a.config,{elements:r}=n,o=uI(i)||UQ(n)||r&&uI(r)||NQ();if(!t.forceOverride&&o)return;const s=OQ(a);i.forEach(s)}};function HQ(a,e,t,i,n){const r=n.samples||i;if(r>=t)return a.slice(e,e+t);const o=[],s=(t-2)/(r-2);let u=0;const d=e+t-1;let g=e,x,b,S,P,I;for(o[u++]=a[g],x=0;x<r-2;x++){let O=0,H=0,Q;const Y=Math.floor((x+1)*s)+1+e,Z=Math.min(Math.floor((x+2)*s)+1,t)+e,J=Z-Y;for(Q=Y;Q<Z;Q++)O+=a[Q].x,H+=a[Q].y;O/=J,H/=J;const re=Math.floor(x*s)+1+e,q=Math.min(Math.floor((x+1)*s)+1,t)+e,{x:ne,y:te}=a[g];for(S=P=-1,Q=re;Q<q;Q++)P=.5*Math.abs((ne-O)*(a[Q].y-te)-(ne-a[Q].x)*(H-te)),P>S&&(S=P,b=a[Q],I=Q);o[u++]=b,g=I}return o[u++]=a[d],o}function QQ(a,e,t,i){let n=0,r=0,o,s,u,d,g,x,b,S,P,I;const O=[],H=e+t-1,Q=a[e].x,Z=a[H].x-Q;for(o=e;o<e+t;++o){s=a[o],u=(s.x-Q)/Z*i,d=s.y;const J=u|0;if(J===g)d<P?(P=d,x=o):d>I&&(I=d,b=o),n=(r*n+s.x)/++r;else{const re=o-1;if(!Qa(x)&&!Qa(b)){const q=Math.min(x,b),ne=Math.max(x,b);q!==S&&q!==re&&O.push({...a[q],x:n}),ne!==S&&ne!==re&&O.push({...a[ne],x:n})}o>0&&re!==S&&O.push(a[re]),O.push(s),g=J,r=0,P=I=d,x=b=S=o}}return O}function $D(a){if(a._decimated){const e=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function hI(a){a.data.datasets.forEach(e=>{$D(e)})}function jQ(a,e){const t=e.length;let i=0,n;const{iScale:r}=a,{min:o,max:s,minDefined:u,maxDefined:d}=r.getUserBounds();return u&&(i=Lo(ld(e,r.axis,o).lo,0,t-1)),d?n=Lo(ld(e,r.axis,s).hi+1,i,t)-i:n=t-i,{start:i,count:n}}var VQ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,e,t)=>{if(!t.enabled){hI(a);return}const i=a.width;a.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:s}=n,u=a.getDatasetMeta(r),d=o||n.data;if(Dm([s,a.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const g=a.scales[u.xAxisID];if(g.type!=="linear"&&g.type!=="time"||a.options.parsing)return;let{start:x,count:b}=jQ(u,d);const S=t.threshold||4*i;if(b<=S){$D(n);return}Qa(o)&&(n._data=d,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(I){this._data=I}}));let P;switch(t.algorithm){case"lttb":P=HQ(d,x,b,i,t);break;case"min-max":P=QQ(d,x,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}n._decimated=P})},destroy(a){hI(a)}};function GQ(a,e,t){const i=a.segments,n=a.points,r=e.points,o=[];for(const s of i){let{start:u,end:d}=s;d=_v(u,d,n);const g=fC(t,n[u],n[d],s.loop);if(!e.segments){o.push({source:s,target:g,start:n[u],end:n[d]});continue}const x=ED(e,g);for(const b of x){const S=fC(t,r[b.start],r[b.end],b.loop),P=BD(s,n,S);for(const I of P)o.push({source:I,target:b,start:{[t]:dI(g,S,"start",Math.max)},end:{[t]:dI(g,S,"end",Math.min)}})}}return o}function fC(a,e,t,i){if(i)return;let n=e[a],r=t[a];return a==="angle"&&(n=ol(n),r=ol(r)),{property:a,start:n,end:r}}function WQ(a,e){const{x:t=null,y:i=null}=a||{},n=e.points,r=[];return e.segments.forEach(({start:o,end:s})=>{s=_v(o,s,n);const u=n[o],d=n[s];i!==null?(r.push({x:u.x,y:i}),r.push({x:d.x,y:i})):t!==null&&(r.push({x:t,y:u.y}),r.push({x:t,y:d.y}))}),r}function _v(a,e,t){for(;e>a;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function dI(a,e,t,i){return a&&e?i(a[t],e[t]):a?a[t]:e?e[t]:0}function XD(a,e){let t=[],i=!1;return xs(a)?(i=!0,t=a):t=WQ(a,e),t.length?new xv({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function fI(a){return a&&a.fill!==!1}function $Q(a,e,t){let n=a[e].fill;const r=[e];let o;if(!t)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!Ns(n))return n;if(o=a[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function XQ(a,e,t){const i=ZQ(a);if(Wa(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return Ns(n)&&Math.floor(n)===n?YQ(i[0],e,n,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function YQ(a,e,t,i){return(a==="-"||a==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function KQ(a,e){let t=null;return a==="start"?t=e.bottom:a==="end"?t=e.top:Wa(a)?t=e.getPixelForValue(a.value):e.getBasePixel&&(t=e.getBasePixel()),t}function qQ(a,e,t){let i;return a==="start"?i=t:a==="end"?i=e.options.reverse?e.min:e.max:Wa(a)?i=a.value:i=e.getBaseValue(),i}function ZQ(a){const e=a.options,t=e.fill;let i=xa(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function JQ(a){const{scale:e,index:t,line:i}=a,n=[],r=i.segments,o=i.points,s=ej(e,t);s.push(XD({x:null,y:e.bottom},i));for(let u=0;u<r.length;u++){const d=r[u];for(let g=d.start;g<=d.end;g++)tj(n,o[g],s)}return new xv({points:n,options:{}})}function ej(a,e){const t=[],i=a.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const r=i[n];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function tj(a,e,t){const i=[];for(let n=0;n<t.length;n++){const r=t[n],{first:o,last:s,point:u}=ij(r,e,"x");if(!(!u||o&&s)){if(o)i.unshift(u);else if(a.push(u),!s)break}}a.push(...i)}function ij(a,e,t){const i=a.interpolate(e,t);if(!i)return{};const n=i[t],r=a.segments,o=a.points;let s=!1,u=!1;for(let d=0;d<r.length;d++){const g=r[d],x=o[g.start][t],b=o[g.end][t];if(od(n,x,b)){s=n===x,u=n===b;break}}return{first:s,last:u,point:i}}class YD{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:n,y:r,radius:o}=this;return t=t||{start:0,end:hs},e.arc(n,r,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:n}=this,r=e.angle;return{x:t+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function nj(a){const{chart:e,fill:t,line:i}=a;if(Ns(t))return aj(e,t);if(t==="stack")return JQ(a);if(t==="shape")return!0;const n=rj(a);return n instanceof YD?n:XD(n,i)}function aj(a,e){const t=a.getDatasetMeta(e);return t&&a.isDatasetVisible(e)?t.dataset:null}function rj(a){return(a.scale||{}).getPointPositionForValue?oj(a):sj(a)}function sj(a){const{scale:e={},fill:t}=a,i=KQ(t,e);if(Ns(i)){const n=e.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function oj(a){const{scale:e,fill:t}=a,i=e.options,n=e.getLabels().length,r=i.reverse?e.max:e.min,o=qQ(t,e,r),s=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,r);return new YD({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<n;++u)s.push(e.getPointPositionForValue(u,o));return s}function mb(a,e,t){const i=nj(e),{chart:n,index:r,line:o,scale:s,axis:u}=e,d=o.options,g=d.fill,x=d.backgroundColor,{above:b=x,below:S=x}=g||{},P=n.getDatasetMeta(r),I=kD(n,P);i&&o.points.length&&(pv(a,t),lj(a,{line:o,target:i,above:b,below:S,area:t,scale:s,axis:u,clip:I}),gv(a))}function lj(a,e){const{line:t,target:i,above:n,below:r,area:o,scale:s,clip:u}=e,d=t._loop?"angle":e.axis;a.save();let g=r;r!==n&&(d==="x"?(AI(a,i,o.top),yb(a,{line:t,target:i,color:n,scale:s,property:d,clip:u}),a.restore(),a.save(),AI(a,i,o.bottom)):d==="y"&&(pI(a,i,o.left),yb(a,{line:t,target:i,color:r,scale:s,property:d,clip:u}),a.restore(),a.save(),pI(a,i,o.right),g=n)),yb(a,{line:t,target:i,color:g,scale:s,property:d,clip:u}),a.restore()}function AI(a,e,t){const{segments:i,points:n}=e;let r=!0,o=!1;a.beginPath();for(const s of i){const{start:u,end:d}=s,g=n[u],x=n[_v(u,d,n)];r?(a.moveTo(g.x,g.y),r=!1):(a.lineTo(g.x,t),a.lineTo(g.x,g.y)),o=!!e.pathSegment(a,s,{move:o}),o?a.closePath():a.lineTo(x.x,t)}a.lineTo(e.first().x,t),a.closePath(),a.clip()}function pI(a,e,t){const{segments:i,points:n}=e;let r=!0,o=!1;a.beginPath();for(const s of i){const{start:u,end:d}=s,g=n[u],x=n[_v(u,d,n)];r?(a.moveTo(g.x,g.y),r=!1):(a.lineTo(t,g.y),a.lineTo(g.x,g.y)),o=!!e.pathSegment(a,s,{move:o}),o?a.closePath():a.lineTo(t,x.y)}a.lineTo(t,e.first().y),a.closePath(),a.clip()}function yb(a,e){const{line:t,target:i,property:n,color:r,scale:o,clip:s}=e,u=GQ(t,i,n);for(const{source:d,target:g,start:x,end:b}of u){const{style:{backgroundColor:S=r}={}}=d,P=i!==!0;a.save(),a.fillStyle=S,cj(a,o,s,P&&fC(n,x,b)),a.beginPath();const I=!!t.pathSegment(a,d);let O;if(P){I?a.closePath():gI(a,i,b,n);const H=!!i.pathSegment(a,g,{move:I,reverse:!0});O=I&&H,O||gI(a,i,x,n)}a.closePath(),a.fill(O?"evenodd":"nonzero"),a.restore()}}function cj(a,e,t,i){const n=e.chart.chartArea,{property:r,start:o,end:s}=i||{};if(r==="x"||r==="y"){let u,d,g,x;r==="x"?(u=o,d=n.top,g=s,x=n.bottom):(u=n.left,d=o,g=n.right,x=s),a.beginPath(),t&&(u=Math.max(u,t.left),g=Math.min(g,t.right),d=Math.max(d,t.top),x=Math.min(x,t.bottom)),a.rect(u,d,g-u,x-d),a.clip()}}function gI(a,e,t,i){const n=e.interpolate(t,i);n&&a.lineTo(n.x,n.y)}var uj={id:"filler",afterDatasetsUpdate(a,e,t){const i=(a.data.datasets||[]).length,n=[];let r,o,s,u;for(o=0;o<i;++o)r=a.getDatasetMeta(o),s=r.dataset,u=null,s&&s.options&&s instanceof xv&&(u={visible:a.isDatasetVisible(o),index:o,fill:XQ(s,o,i),chart:a,axis:r.controller.options.indexAxis,scale:r.vScale,line:s}),r.$filler=u,n.push(u);for(o=0;o<i;++o)u=n[o],!(!u||u.fill===!1)&&(u.fill=$Q(n,o,t.propagate))},beforeDraw(a,e,t){const i=t.drawTime==="beforeDraw",n=a.getSortedVisibleDatasetMetas(),r=a.chartArea;for(let o=n.length-1;o>=0;--o){const s=n[o].$filler;s&&(s.line.updateControlPoints(r,s.axis),i&&s.fill&&mb(a.ctx,s,r))}},beforeDatasetsDraw(a,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=a.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const r=i[n].$filler;fI(r)&&mb(a.ctx,r,a.chartArea)}},beforeDatasetDraw(a,e,t){const i=e.meta.$filler;!fI(i)||t.drawTime!=="beforeDatasetDraw"||mb(a.ctx,i,a.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mI=(a,e)=>{let{boxHeight:t=e,boxWidth:i=e}=a;return a.usePointStyle&&(t=Math.min(t,e),i=a.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},hj=(a,e)=>a!==null&&e!==null&&a.datasetIndex===e.datasetIndex&&a.index===e.index;class yI extends md{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=ts(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=mo(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:u}=mI(i,r);let d,g;t.font=n.string,this.isHorizontal()?(d=this.maxWidth,g=this._fitRows(o,r,s,u)+10):(g=this.maxHeight,d=this._fitCols(o,n,s,u)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,u=this.legendHitBoxes=[],d=this.lineWidths=[0],g=n+s;let x=e;r.textAlign="left",r.textBaseline="middle";let b=-1,S=-g;return this.legendItems.forEach((P,I)=>{const O=i+t/2+r.measureText(P.text).width;(I===0||d[d.length-1]+O+2*s>o)&&(x+=g,d[d.length-(I>0?0:1)]=0,S+=g,b++),u[I]={left:0,top:S,row:b,width:O,height:n},d[d.length-1]+=O+s}),x}_fitCols(e,t,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,u=this.legendHitBoxes=[],d=this.columnSizes=[],g=o-e;let x=s,b=0,S=0,P=0,I=0;return this.legendItems.forEach((O,H)=>{const{itemWidth:Q,itemHeight:Y}=dj(i,t,r,O,n);H>0&&S+Y+2*s>g&&(x+=b+s,d.push({width:b,height:S}),P+=b+s,I++,b=S=0),u[H]={left:P,top:S,col:I,width:Q,height:Y},b=Math.max(b,Q),S+=Y+s}),x+=b,d.push({width:b,height:S}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:r}}=this,o=rg(r,this.left,this.width);if(this.isHorizontal()){let s=0,u=rl(i,this.left+n,this.right-this.lineWidths[s]);for(const d of t)s!==d.row&&(s=d.row,u=rl(i,this.left+n,this.right-this.lineWidths[s])),d.top+=this.top+e+n,d.left=o.leftForLtr(o.x(u),d.width),u+=d.width+n}else{let s=0,u=rl(i,this.top+e+n,this.bottom-this.columnSizes[s].height);for(const d of t)d.col!==s&&(s=d.col,u=rl(i,this.top+e+n,this.bottom-this.columnSizes[s].height)),d.top=u,d.left+=this.left+n,d.left=o.leftForLtr(o.x(d.left),d.width),u+=d.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;pv(e,this),this._draw(),gv(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:r,labels:o}=e,s=_s.color,u=rg(e.rtl,this.left,this.width),d=mo(o.font),{padding:g}=o,x=d.size,b=x/2;let S;this.drawTitle(),n.textAlign=u.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=d.string;const{boxWidth:P,boxHeight:I,itemHeight:O}=mI(o,x),H=function(re,q,ne){if(isNaN(P)||P<=0||isNaN(I)||I<0)return;n.save();const te=xa(ne.lineWidth,1);if(n.fillStyle=xa(ne.fillStyle,s),n.lineCap=xa(ne.lineCap,"butt"),n.lineDashOffset=xa(ne.lineDashOffset,0),n.lineJoin=xa(ne.lineJoin,"miter"),n.lineWidth=te,n.strokeStyle=xa(ne.strokeStyle,s),n.setLineDash(xa(ne.lineDash,[])),o.usePointStyle){const he={radius:I*Math.SQRT2/2,pointStyle:ne.pointStyle,rotation:ne.rotation,borderWidth:te},ve=u.xPlus(re,P/2),de=q+b;pD(n,he,ve,de,o.pointStyleWidth&&P)}else{const he=q+Math.max((x-I)/2,0),ve=u.leftForLtr(re,P),de=bA(ne.borderRadius);n.beginPath(),Object.values(de).some(be=>be!==0)?M0(n,{x:ve,y:he,w:P,h:I,radius:de}):n.rect(ve,he,P,I),n.fill(),te!==0&&n.stroke()}n.restore()},Q=function(re,q,ne){FA(n,ne.text,re,q+O/2,d,{strikethrough:ne.hidden,textAlign:u.textAlign(ne.textAlign)})},Y=this.isHorizontal(),Z=this._computeTitleHeight();Y?S={x:rl(r,this.left+g,this.right-i[0]),y:this.top+g+Z,line:0}:S={x:this.left+g,y:rl(r,this.top+Z+g,this.bottom-t[0].height),line:0},bD(this.ctx,e.textDirection);const J=O+g;this.legendItems.forEach((re,q)=>{n.strokeStyle=re.fontColor,n.fillStyle=re.fontColor;const ne=n.measureText(re.text).width,te=u.textAlign(re.textAlign||(re.textAlign=o.textAlign)),he=P+b+ne;let ve=S.x,de=S.y;u.setWidth(this.width),Y?q>0&&ve+he+g>this.right&&(de=S.y+=J,S.line++,ve=S.x=rl(r,this.left+g,this.right-i[S.line])):q>0&&de+J>this.bottom&&(ve=S.x=ve+t[S.line].width+g,S.line++,de=S.y=rl(r,this.top+Z+g,this.bottom-t[S.line].height));const be=u.x(ve);if(H(be,de,re),ve=w8(te,ve+P+b,Y?ve+he:this.right,e.rtl),Q(u.x(ve),de,re),Y)S.x+=he+g;else if(typeof re.text!="string"){const De=d.lineHeight;S.y+=KD(re,De)+g}else S.y+=J}),CD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=mo(t.font),n=fl(t.padding);if(!t.display)return;const r=rg(e.rtl,this.left,this.width),o=this.ctx,s=t.position,u=i.size/2,d=n.top+u;let g,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),g=this.top+d,x=rl(e.align,x,this.right-b);else{const P=this.columnSizes.reduce((I,O)=>Math.max(I,O.height),0);g=d+rl(e.align,this.top,this.bottom-P-e.labels.padding-this._computeTitleHeight())}const S=rl(s,x,x+b);o.textAlign=r.textAlign(c2(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,FA(o,t.text,S,g,i)}_computeTitleHeight(){const e=this.options.title,t=mo(e.font),i=fl(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,r;if(od(e,this.left,this.right)&&od(t,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],od(e,n.left,n.left+n.width)&&od(t,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!pj(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,r=hj(n,i);n&&!r&&ts(t.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!r&&ts(t.onHover,[e,i,this],this)}else i&&ts(t.onClick,[e,i,this],this)}}function dj(a,e,t,i,n){const r=fj(i,a,e,t),o=Aj(n,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function fj(a,e,t,i){let n=a.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),e+t.size/2+i.measureText(n).width}function Aj(a,e,t){let i=a;return typeof e.text!="string"&&(i=KD(e,t)),i}function KD(a,e){const t=a.text?a.text.length:0;return e*t}function pj(a,e){return!!((a==="mousemove"||a==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(a==="click"||a==="mouseup"))}var gj={id:"legend",_element:yI,start(a,e,t){const i=a.legend=new yI({ctx:a.ctx,options:t,chart:a});hl.configure(a,i,t),hl.addBox(a,i)},stop(a){hl.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,e,t){const i=a.legend;hl.configure(a,i,t),i.options=t},afterUpdate(a){const e=a.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(a,e){e.replay||a.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(a,e,t){const i=e.datasetIndex,n=t.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const e=a.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:s}}=a.legend.options;return a._getSortedDatasetMetas().map(u=>{const d=u.controller.getStyle(t?0:void 0),g=fl(d.borderWidth);return{text:e[u.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:n||d.textAlign,borderRadius:o&&(s||d.borderRadius),datasetIndex:u.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}};class _2 extends md{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const n=xs(i.text)?i.text.length:1;this._padding=fl(i.padding);const r=n*mo(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:n,right:r,options:o}=this,s=o.align;let u=0,d,g,x;return this.isHorizontal()?(g=rl(s,i,r),x=t+e,d=r-i):(o.position==="left"?(g=i+e,x=rl(s,n,t),u=or*-.5):(g=r-e,x=rl(s,t,n),u=or*.5),d=n-t),{titleX:g,titleY:x,maxWidth:d,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=mo(t.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:s,maxWidth:u,rotation:d}=this._drawArgs(r);FA(e,t.text,0,0,i,{color:t.color,maxWidth:u,rotation:d,textAlign:c2(t.align),textBaseline:"middle",translation:[o,s]})}}function mj(a,e){const t=new _2({ctx:a.ctx,options:e,chart:a});hl.configure(a,t,e),hl.addBox(a,t),a.titleBlock=t}var yj={id:"title",_element:_2,start(a,e,t){mj(a,t)},stop(a){const e=a.titleBlock;hl.removeBox(a,e),delete a.titleBlock},beforeUpdate(a,e,t){const i=a.titleBlock;hl.configure(a,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fx=new WeakMap;var xj={id:"subtitle",start(a,e,t){const i=new _2({ctx:a.ctx,options:t,chart:a});hl.configure(a,i,t),hl.addBox(a,i),fx.set(a,i)},stop(a){hl.removeBox(a,fx.get(a)),fx.delete(a)},beforeUpdate(a,e,t){const i=fx.get(a);hl.configure(a,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Om={average(a){if(!a.length)return!1;let e,t,i=new Set,n=0,r=0;for(e=0,t=a.length;e<t;++e){const s=a[e].element;if(s&&s.hasValue()){const u=s.tooltipPosition();i.add(u.x),n+=u.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((s,u)=>s+u)/i.size,y:n/r}},nearest(a,e){if(!a.length)return!1;let t=e.x,i=e.y,n=Number.POSITIVE_INFINITY,r,o,s;for(r=0,o=a.length;r<o;++r){const u=a[r].element;if(u&&u.hasValue()){const d=u.getCenterPoint(),g=sC(e,d);g<n&&(n=g,s=u)}}if(s){const u=s.tooltipPosition();t=u.x,i=u.y}return{x:t,y:i}}};function rh(a,e){return e&&(xs(e)?Array.prototype.push.apply(a,e):a.push(e)),a}function qh(a){return(typeof a=="string"||a instanceof String)&&a.indexOf(`
`)>-1?a.split(`
`):a}function _j(a,e){const{element:t,datasetIndex:i,index:n}=e,r=a.getDatasetMeta(i).controller,{label:o,value:s}=r.getLabelAndValue(n);return{chart:a,label:o,parsed:r.getParsed(n),raw:a.data.datasets[i].data[n],formattedValue:s,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:t}}function xI(a,e){const t=a.chart.ctx,{body:i,footer:n,title:r}=a,{boxWidth:o,boxHeight:s}=e,u=mo(e.bodyFont),d=mo(e.titleFont),g=mo(e.footerFont),x=r.length,b=n.length,S=i.length,P=fl(e.padding);let I=P.height,O=0,H=i.reduce((Z,J)=>Z+J.before.length+J.lines.length+J.after.length,0);if(H+=a.beforeBody.length+a.afterBody.length,x&&(I+=x*d.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),H){const Z=e.displayColors?Math.max(s,u.lineHeight):u.lineHeight;I+=S*Z+(H-S)*u.lineHeight+(H-1)*e.bodySpacing}b&&(I+=e.footerMarginTop+b*g.lineHeight+(b-1)*e.footerSpacing);let Q=0;const Y=function(Z){O=Math.max(O,t.measureText(Z).width+Q)};return t.save(),t.font=d.string,Mr(a.title,Y),t.font=u.string,Mr(a.beforeBody.concat(a.afterBody),Y),Q=e.displayColors?o+2+e.boxPadding:0,Mr(i,Z=>{Mr(Z.before,Y),Mr(Z.lines,Y),Mr(Z.after,Y)}),Q=0,t.font=g.string,Mr(a.footer,Y),t.restore(),O+=P.width,{width:O,height:I}}function vj(a,e){const{y:t,height:i}=e;return t<i/2?"top":t>a.height-i/2?"bottom":"center"}function wj(a,e,t,i){const{x:n,width:r}=i,o=t.caretSize+t.caretPadding;if(a==="left"&&n+r+o>e.width||a==="right"&&n-r-o<0)return!0}function bj(a,e,t,i){const{x:n,width:r}=t,{width:o,chartArea:{left:s,right:u}}=a;let d="center";return i==="center"?d=n<=(s+u)/2?"left":"right":n<=r/2?d="left":n>=o-r/2&&(d="right"),wj(d,a,e,t)&&(d="center"),d}function _I(a,e,t){const i=t.yAlign||e.yAlign||vj(a,t);return{xAlign:t.xAlign||e.xAlign||bj(a,e,t,i),yAlign:i}}function Cj(a,e){let{x:t,width:i}=a;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Sj(a,e,t){let{y:i,height:n}=a;return e==="top"?i+=t:e==="bottom"?i-=n+t:i-=n/2,i}function vI(a,e,t,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=a,{xAlign:s,yAlign:u}=t,d=n+r,{topLeft:g,topRight:x,bottomLeft:b,bottomRight:S}=bA(o);let P=Cj(e,s);const I=Sj(e,u,d);return u==="center"?s==="left"?P+=d:s==="right"&&(P-=d):s==="left"?P-=Math.max(g,b)+n:s==="right"&&(P+=Math.max(x,S)+n),{x:Lo(P,0,i.width-e.width),y:Lo(I,0,i.height-e.height)}}function Ax(a,e,t){const i=fl(t.padding);return e==="center"?a.x+a.width/2:e==="right"?a.x+a.width-i.right:a.x+i.left}function wI(a){return rh([],qh(a))}function Bj(a,e,t){return pf(a,{tooltip:e,tooltipItems:t,type:"tooltip"})}function bI(a,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?a.override(t):a}const qD={beforeTitle:Wh,title(a){if(a.length>0){const e=a[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Wh,beforeBody:Wh,beforeLabel:Wh,label(a){if(this&&this.options&&this.options.mode==="dataset")return a.label+": "+a.formattedValue||a.formattedValue;let e=a.dataset.label||"";e&&(e+=": ");const t=a.formattedValue;return Qa(t)||(e+=t),e},labelColor(a){const t=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const t=a.chart.getDatasetMeta(a.datasetIndex).controller.getStyle(a.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Wh,afterBody:Wh,beforeFooter:Wh,footer:Wh,afterFooter:Wh};function Vl(a,e,t,i){const n=a[e].call(t,i);return typeof n>"u"?qD[e].call(t,i):n}class CI extends md{static positioners=Om;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,r=new TD(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Bj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,n=Vl(i,"beforeTitle",this,e),r=Vl(i,"title",this,e),o=Vl(i,"afterTitle",this,e);let s=[];return s=rh(s,qh(n)),s=rh(s,qh(r)),s=rh(s,qh(o)),s}getBeforeBody(e,t){return wI(Vl(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return Mr(e,r=>{const o={before:[],lines:[],after:[]},s=bI(i,r);rh(o.before,qh(Vl(s,"beforeLabel",this,r))),rh(o.lines,Vl(s,"label",this,r)),rh(o.after,qh(Vl(s,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(e,t){return wI(Vl(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=Vl(i,"beforeFooter",this,e),r=Vl(i,"footer",this,e),o=Vl(i,"afterFooter",this,e);let s=[];return s=rh(s,qh(n)),s=rh(s,qh(r)),s=rh(s,qh(o)),s}_createItems(e){const t=this._active,i=this.chart.data,n=[],r=[],o=[];let s=[],u,d;for(u=0,d=t.length;u<d;++u)s.push(_j(this.chart,t[u]));return e.filter&&(s=s.filter((g,x,b)=>e.filter(g,x,b,i))),e.itemSort&&(s=s.sort((g,x)=>e.itemSort(g,x,i))),Mr(s,g=>{const x=bI(e.callbacks,g);n.push(Vl(x,"labelColor",this,g)),r.push(Vl(x,"labelPointStyle",this,g)),o.push(Vl(x,"labelTextColor",this,g))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=s,s}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const s=Om[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=xI(this,i),d=Object.assign({},s,u),g=_I(this.chart,i,d),x=vI(i,d,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:x.x,y:x.y,width:u.width,height:u.height,caretX:s.x,caretY:s.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const r=this.getCaretPosition(e,i,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:s}=i,{topLeft:u,topRight:d,bottomLeft:g,bottomRight:x}=bA(s),{x:b,y:S}=e,{width:P,height:I}=t;let O,H,Q,Y,Z,J;return r==="center"?(Z=S+I/2,n==="left"?(O=b,H=O-o,Y=Z+o,J=Z-o):(O=b+P,H=O+o,Y=Z-o,J=Z+o),Q=O):(n==="left"?H=b+Math.max(u,g)+o:n==="right"?H=b+P-Math.max(d,x)-o:H=this.caretX,r==="top"?(Y=S,Z=Y-o,O=H-o,Q=H+o):(Y=S+I,Z=Y+o,O=H+o,Q=H-o),J=Y),{x1:O,x2:H,x3:Q,y1:Y,y2:Z,y3:J}}drawTitle(e,t,i){const n=this.title,r=n.length;let o,s,u;if(r){const d=rg(i.rtl,this.x,this.width);for(e.x=Ax(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",o=mo(i.titleFont),s=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,u=0;u<r;++u)t.fillText(n[u],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,u+1===r&&(e.y+=i.titleMarginBottom-s)}}_drawColorBox(e,t,i,n,r){const o=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:u,boxWidth:d}=r,g=mo(r.bodyFont),x=Ax(this,"left",r),b=n.x(x),S=u<g.lineHeight?(g.lineHeight-u)/2:0,P=t.y+S;if(r.usePointStyle){const I={radius:Math.min(d,u)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},O=n.leftForLtr(b,d)+d/2,H=P+u/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,lC(e,I,O,H),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,lC(e,I,O,H)}else{e.lineWidth=Wa(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const I=n.leftForLtr(b,d),O=n.leftForLtr(n.xPlus(b,1),d-2),H=bA(o.borderRadius);Object.values(H).some(Q=>Q!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,M0(e,{x:I,y:P,w:d,h:u,radius:H}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),M0(e,{x:O,y:P+1,w:d-2,h:u-2,radius:H}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(I,P,d,u),e.strokeRect(I,P,d,u),e.fillStyle=o.backgroundColor,e.fillRect(O,P+1,d-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:u,boxWidth:d,boxPadding:g}=i,x=mo(i.bodyFont);let b=x.lineHeight,S=0;const P=rg(i.rtl,this.x,this.width),I=function(ne){t.fillText(ne,P.x(e.x+S),e.y+b/2),e.y+=b+r},O=P.textAlign(o);let H,Q,Y,Z,J,re,q;for(t.textAlign=o,t.textBaseline="middle",t.font=x.string,e.x=Ax(this,O,i),t.fillStyle=i.bodyColor,Mr(this.beforeBody,I),S=s&&O!=="right"?o==="center"?d/2+g:d+2+g:0,Z=0,re=n.length;Z<re;++Z){for(H=n[Z],Q=this.labelTextColors[Z],t.fillStyle=Q,Mr(H.before,I),Y=H.lines,s&&Y.length&&(this._drawColorBox(t,e,Z,P,i),b=Math.max(x.lineHeight,u)),J=0,q=Y.length;J<q;++J)I(Y[J]),b=x.lineHeight;Mr(H.after,I)}S=0,b=x.lineHeight,Mr(this.afterBody,I),e.y-=r}drawFooter(e,t,i){const n=this.footer,r=n.length;let o,s;if(r){const u=rg(i.rtl,this.x,this.width);for(e.x=Ax(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=u.textAlign(i.footerAlign),t.textBaseline="middle",o=mo(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,s=0;s<r;++s)t.fillText(n[s],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:r,yAlign:o}=this,{x:s,y:u}=e,{width:d,height:g}=i,{topLeft:x,topRight:b,bottomLeft:S,bottomRight:P}=bA(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+x,u),o==="top"&&this.drawCaret(e,t,i,n),t.lineTo(s+d-b,u),t.quadraticCurveTo(s+d,u,s+d,u+b),o==="center"&&r==="right"&&this.drawCaret(e,t,i,n),t.lineTo(s+d,u+g-P),t.quadraticCurveTo(s+d,u+g,s+d-P,u+g),o==="bottom"&&this.drawCaret(e,t,i,n),t.lineTo(s+S,u+g),t.quadraticCurveTo(s,u+g,s,u+g-S),o==="center"&&r==="left"&&this.drawCaret(e,t,i,n),t.lineTo(s,u+x),t.quadraticCurveTo(s,u,s+x,u),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=Om[e.position].call(this,this._active,this._eventPosition);if(!o)return;const s=this._size=xI(this,e),u=Object.assign({},o,this._size),d=_I(t,e,u),g=vI(e,u,d,t);(n._to!==g.x||r._to!==g.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=s.width,this.height=s.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=fl(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,n,t),bD(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),CD(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map(({datasetIndex:s,index:u})=>{const d=this.chart.getDatasetMeta(s);if(!d)throw new Error("Cannot find a dataset at index "+s);return{datasetIndex:s,element:d.data[u],index:u}}),r=!M_(i,n),o=this._positionChanged(n,t);(r||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,i),s=this._positionChanged(o,e),u=t||!M_(o,r)||s;return u&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,i,n){const r=this.options;if(e.type==="mouseout")return[];if(!n)return t.filter(s=>this.chart.data.datasets[s.datasetIndex]&&this.chart.getDatasetMeta(s.datasetIndex).controller.getParsed(s.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:n,options:r}=this,o=Om[r.position].call(this,e,t);return o!==!1&&(i!==o.x||n!==o.y)}}var Ej={id:"tooltip",_element:CI,positioners:Om,afterInit(a,e,t){t&&(a.tooltip=new CI({chart:a,options:t}))},beforeUpdate(a,e,t){a.tooltip&&a.tooltip.initialize(t)},reset(a,e,t){a.tooltip&&a.tooltip.initialize(t)},afterDraw(a){const e=a.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(a.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",t)}},afterEvent(a,e){if(a.tooltip){const t=e.replay;a.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(a,e)=>e.bodyFont.size,boxWidth:(a,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>a!=="filter"&&a!=="itemSort"&&a!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kj=Object.freeze({__proto__:null,Colors:zQ,Decimation:VQ,Filler:uj,Legend:gj,SubTitle:xj,Title:yj,Tooltip:Ej});const Tj=(a,e,t,i)=>(typeof e=="string"?(t=a.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Ij(a,e,t,i){const n=a.indexOf(e);if(n===-1)return Tj(a,e,t,i);const r=a.lastIndexOf(e);return n!==r?t:n}const Mj=(a,e)=>a===null?null:Lo(Math.round(a),0,e);function SI(a){const e=this.getLabels();return a>=0&&a<e.length?e[a]:a}class Lj extends NA{static id="category";static defaults={ticks:{callback:SI}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:n,label:r}of t)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Qa(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Ij(i,e,xa(t,e),this._addedLabels),Mj(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)n.push({value:o});return n}getLabelForValue(e){return SI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Fj(a,e){const t=[],{bounds:n,step:r,min:o,max:s,precision:u,count:d,maxTicks:g,maxDigits:x,includeBounds:b}=a,S=r||1,P=g-1,{min:I,max:O}=e,H=!Qa(o),Q=!Qa(s),Y=!Qa(d),Z=(O-I)/(x+1);let J=xT((O-I)/P/S)*S,re,q,ne,te;if(J<1e-14&&!H&&!Q)return[{value:I},{value:O}];te=Math.ceil(O/J)-Math.floor(I/J),te>P&&(J=xT(te*J/P/S)*S),Qa(u)||(re=Math.pow(10,u),J=Math.ceil(J*re)/re),n==="ticks"?(q=Math.floor(I/J)*J,ne=Math.ceil(O/J)*J):(q=I,ne=O),H&&Q&&r&&p8((s-o)/r,J/1e3)?(te=Math.round(Math.min((s-o)/J,g)),J=(s-o)/te,q=o,ne=s):Y?(q=H?o:q,ne=Q?s:ne,te=d-1,J=(ne-q)/te):(te=(ne-q)/J,o0(te,Math.round(te),J/1e3)?te=Math.round(te):te=Math.ceil(te));const he=Math.max(_T(J),_T(q));re=Math.pow(10,Qa(u)?he:u),q=Math.round(q*re)/re,ne=Math.round(ne*re)/re;let ve=0;for(H&&(b&&q!==o?(t.push({value:o}),q<o&&ve++,o0(Math.round((q+ve*J)*re)/re,o,BI(o,Z,a))&&ve++):q<o&&ve++);ve<te;++ve){const de=Math.round((q+ve*J)*re)/re;if(Q&&de>s)break;t.push({value:de})}return Q&&b&&ne!==s?t.length&&o0(t[t.length-1].value,s,BI(s,Z,a))?t[t.length-1].value=s:t.push({value:s}):(!Q||ne===s)&&t.push({value:ne}),t}function BI(a,e,{horizontal:t,minRotation:i}){const n=Bu(i),r=(t?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+a).length;return Math.min(e/r,o)}class U_ extends NA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Qa(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=u=>n=t?n:u,s=u=>r=i?r:u;if(e){const u=ph(n),d=ph(r);u<0&&d<0?s(0):u>0&&d>0&&o(0)}if(n===r){let u=r===0?1:Math.abs(r*.05);s(r+u),e||o(n-u)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,o=Fj(n,r);return e.bounds==="ticks"&&sD(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return q0(e,this.chart.options.locale,this.options.ticks.format)}}class Pj extends U_{static id="linear";static defaults={ticks:{callback:Av.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ns(e)?e:0,this.max=Ns(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=Bu(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const F0=a=>Math.floor(jd(a)),Vf=(a,e)=>Math.pow(10,F0(a)+e);function EI(a){return a/Math.pow(10,F0(a))===1}function kI(a,e,t){const i=Math.pow(10,t),n=Math.floor(a/i);return Math.ceil(e/i)-n}function Dj(a,e){const t=e-a;let i=F0(t);for(;kI(a,e,i)>10;)i++;for(;kI(a,e,i)<10;)i--;return Math.min(i,F0(a))}function Rj(a,{min:e,max:t}){e=xc(a.min,e);const i=[],n=F0(e);let r=Dj(e,t),o=r<0?Math.pow(10,Math.abs(r)):1;const s=Math.pow(10,r),u=n>r?Math.pow(10,n):0,d=Math.round((e-u)*o)/o,g=Math.floor((e-u)/s/10)*s*10;let x=Math.floor((d-g)/Math.pow(10,r)),b=xc(a.min,Math.round((u+g+x*Math.pow(10,r))*o)/o);for(;b<t;)i.push({value:b,major:EI(b),significand:x}),x>=10?x=x<15?15:20:x++,x>=20&&(r++,x=2,o=r>=0?1:o),b=Math.round((u+g+x*Math.pow(10,r))*o)/o;const S=xc(a.max,b);return i.push({value:S,major:EI(S),significand:x}),i}class Oj extends NA{static id="logarithmic";static defaults={ticks:{callback:Av.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=U_.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Ns(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ns(e)?Math.max(0,e):null,this.max=Ns(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ns(this._userMin)&&(this.min=e===Vf(this.min,0)?Vf(this.min,-1):Vf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const r=s=>i=e?i:s,o=s=>n=t?n:s;i===n&&(i<=0?(r(1),o(10)):(r(Vf(i,-1)),o(Vf(n,1)))),i<=0&&r(Vf(n,-1)),n<=0&&o(Vf(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},i=Rj(t,this);return e.bounds==="ticks"&&sD(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":q0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=jd(e),this._valueRange=jd(this.max)-jd(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(jd(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function AC(a){const e=a.ticks;if(e.display&&a.display){const t=fl(e.backdropPadding);return xa(e.font&&e.font.size,_s.font.size)+t.height}return 0}function Uj(a,e,t){return t=xs(t)?t:[t],{w:L8(a,e.string,t),h:t.length*e.lineHeight}}function TI(a,e,t,i,n){return a===i||a===n?{start:e-t/2,end:e+t/2}:a<i||a>n?{start:e-t,end:e}:{start:e,end:e+t}}function Nj(a){const e={l:a.left+a._padding.left,r:a.right-a._padding.right,t:a.top+a._padding.top,b:a.bottom-a._padding.bottom},t=Object.assign({},e),i=[],n=[],r=a._pointLabels.length,o=a.options.pointLabels,s=o.centerPointLabels?or/r:0;for(let u=0;u<r;u++){const d=o.setContext(a.getPointLabelContext(u));n[u]=d.padding;const g=a.getPointPosition(u,a.drawingArea+n[u],s),x=mo(d.font),b=Uj(a.ctx,x,a._pointLabels[u]);i[u]=b;const S=ol(a.getIndexAngle(u)+s),P=Math.round(o2(S)),I=TI(P,g.x,b.w,0,180),O=TI(P,g.y,b.h,90,270);zj(t,e,S,I,O)}a.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),a._pointLabelItems=jj(a,i,n)}function zj(a,e,t,i,n){const r=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let s=0,u=0;i.start<e.l?(s=(e.l-i.start)/r,a.l=Math.min(a.l,e.l-s)):i.end>e.r&&(s=(i.end-e.r)/r,a.r=Math.max(a.r,e.r+s)),n.start<e.t?(u=(e.t-n.start)/o,a.t=Math.min(a.t,e.t-u)):n.end>e.b&&(u=(n.end-e.b)/o,a.b=Math.max(a.b,e.b+u))}function Hj(a,e,t){const i=a.drawingArea,{extra:n,additionalAngle:r,padding:o,size:s}=t,u=a.getPointPosition(e,i+n+o,r),d=Math.round(o2(ol(u.angle+Js))),g=Wj(u.y,s.h,d),x=Vj(d),b=Gj(u.x,s.w,x);return{visible:!0,x:u.x,y:g,textAlign:x,left:b,top:g,right:b+s.w,bottom:g+s.h}}function Qj(a,e){if(!e)return!0;const{left:t,top:i,right:n,bottom:r}=a;return!(cd({x:t,y:i},e)||cd({x:t,y:r},e)||cd({x:n,y:i},e)||cd({x:n,y:r},e))}function jj(a,e,t){const i=[],n=a._pointLabels.length,r=a.options,{centerPointLabels:o,display:s}=r.pointLabels,u={extra:AC(r)/2,additionalAngle:o?or/n:0};let d;for(let g=0;g<n;g++){u.padding=t[g],u.size=e[g];const x=Hj(a,g,u);i.push(x),s==="auto"&&(x.visible=Qj(x,d),x.visible&&(d=x))}return i}function Vj(a){return a===0||a===180?"center":a<180?"left":"right"}function Gj(a,e,t){return t==="right"?a-=e:t==="center"&&(a-=e/2),a}function Wj(a,e,t){return t===90||t===270?a-=e/2:(t>270||t<90)&&(a-=e),a}function $j(a,e,t){const{left:i,top:n,right:r,bottom:o}=t,{backdropColor:s}=e;if(!Qa(s)){const u=bA(e.borderRadius),d=fl(e.backdropPadding);a.fillStyle=s;const g=i-d.left,x=n-d.top,b=r-i+d.width,S=o-n+d.height;Object.values(u).some(P=>P!==0)?(a.beginPath(),M0(a,{x:g,y:x,w:b,h:S,radius:u}),a.fill()):a.fillRect(g,x,b,S)}}function Xj(a,e){const{ctx:t,options:{pointLabels:i}}=a;for(let n=e-1;n>=0;n--){const r=a._pointLabelItems[n];if(!r.visible)continue;const o=i.setContext(a.getPointLabelContext(n));$j(t,o,r);const s=mo(o.font),{x:u,y:d,textAlign:g}=r;FA(t,a._pointLabels[n],u,d+s.lineHeight/2,s,{color:o.color,textAlign:g,textBaseline:"middle"})}}function ZD(a,e,t,i){const{ctx:n}=a;if(t)n.arc(a.xCenter,a.yCenter,e,0,hs);else{let r=a.getPointPosition(0,e);n.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=a.getPointPosition(o,e),n.lineTo(r.x,r.y)}}function Yj(a,e,t,i,n){const r=a.ctx,o=e.circular,{color:s,lineWidth:u}=e;!o&&!i||!s||!u||t<0||(r.save(),r.strokeStyle=s,r.lineWidth=u,r.setLineDash(n.dash||[]),r.lineDashOffset=n.dashOffset,r.beginPath(),ZD(a,t,o,i),r.closePath(),r.stroke(),r.restore())}function Kj(a,e,t){return pf(a,{label:t,index:e,type:"pointLabel"})}class qj extends U_{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Av.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=fl(AC(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ns(e)&&!isNaN(e)?e:0,this.max=Ns(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/AC(this.options))}generateTickLabels(e){U_.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const n=ts(this.options.pointLabels.callback,[t,i],this);return n||n===0?n:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?Nj(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){const t=hs/(this._pointLabels.length||1),i=this.options.startAngle||0;return ol(e*t+Bu(i))}getDistanceFromCenterForValue(e){if(Qa(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Qa(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return Kj(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const n=this.getIndexAngle(e)-Js+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),ZD(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:n,border:r}=t,o=this._pointLabels.length;let s,u,d;if(t.pointLabels.display&&Xj(this,o),n.display&&this.ticks.forEach((g,x)=>{if(x!==0||x===0&&this.min<0){u=this.getDistanceFromCenterForValue(g.value);const b=this.getContext(x),S=n.setContext(b),P=r.setContext(b);Yj(this,S,u,o,P)}}),i.display){for(e.save(),s=o-1;s>=0;s--){const g=i.setContext(this.getPointLabelContext(s)),{color:x,lineWidth:b}=g;!b||!x||(e.lineWidth=b,e.strokeStyle=x,e.setLineDash(g.borderDash),e.lineDashOffset=g.borderDashOffset,u=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(s,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,u)=>{if(u===0&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(u)),g=mo(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),d.showLabelBackdrop){e.font=g.string,o=e.measureText(s.label).width,e.fillStyle=d.backdropColor;const x=fl(d.backdropPadding);e.fillRect(-o/2-x.left,-r-g.size/2-x.top,o+x.width,g.size+x.height)}FA(e,s.label,0,-r,g,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}const vv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ql=Object.keys(vv);function II(a,e){return a-e}function MI(a,e){if(Qa(e))return null;const t=a._adapter,{parser:i,round:n,isoWeekday:r}=a._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ns(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(n&&(o=n==="week"&&(gg(r)||r===!0)?t.startOf(o,"isoWeek",r):t.startOf(o,n)),+o)}function LI(a,e,t,i){const n=ql.length;for(let r=ql.indexOf(a);r<n-1;++r){const o=vv[ql[r]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(s*o.size))<=i)return ql[r]}return ql[n-1]}function Zj(a,e,t,i,n){for(let r=ql.length-1;r>=ql.indexOf(t);r--){const o=ql[r];if(vv[o].common&&a._adapter.diff(n,i,o)>=e-1)return o}return ql[t?ql.indexOf(t):0]}function Jj(a){for(let e=ql.indexOf(a)+1,t=ql.length;e<t;++e)if(vv[ql[e]].common)return ql[e]}function FI(a,e,t){if(!t)a[e]=!0;else if(t.length){const{lo:i,hi:n}=l2(t,e),r=t[i]>=e?t[i]:t[n];a[r]=!0}}function eV(a,e,t,i){const n=a._adapter,r=+n.startOf(e[0].value,i),o=e[e.length-1].value;let s,u;for(s=r;s<=o;s=+n.add(s,1,i))u=t[s],u>=0&&(e[u].major=!0);return e}function PI(a,e,t){const i=[],n={},r=e.length;let o,s;for(o=0;o<r;++o)s=e[o],n[s]=o,i.push({value:s,major:!1});return r===0||!t?i:eV(a,i,n,t)}class pC extends NA{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new tH._date(e.adapters.date);n.init(t),s0(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:MI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function u(d){!o&&!isNaN(d.min)&&(n=Math.min(n,d.min)),!s&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!o||!s)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),n=Ns(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),r=Ns(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,s=x8(n,r,o);return this._unit=t.unit||(i.autoSkip?LI(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):Zj(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Jj(this._unit),this.initOffsets(n),e.reverse&&s.reverse(),PI(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,n,r;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?t=1-n:t=(this.getDecimalForValue(e[1])-n)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=Lo(t,0,o),i=Lo(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||LI(r.minUnit,t,i,this._getLabelCapacity(t)),s=xa(n.ticks.stepSize,1),u=o==="week"?r.isoWeekday:!1,d=gg(u)||u===!0,g={};let x=t,b,S;if(d&&(x=+e.startOf(x,"isoWeek",u)),x=+e.startOf(x,d?"day":o),e.diff(i,t,o)>1e5*s)throw new Error(t+" and "+i+" are too far apart with stepSize of "+s+" "+o);const P=n.ticks.source==="data"&&this.getDataTimestamps();for(b=x,S=0;b<i;b=+e.add(b,s,o),S++)FI(g,b,P);return(b===i||n.bounds==="ticks"||S===1)&&FI(g,b,P),Object.keys(g).sort(II).map(I=>+I)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,o=t||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,n){const r=this.options,o=r.ticks.callback;if(o)return ts(o,[e,t,i],this);const s=r.time.displayFormats,u=this._unit,d=this._majorUnit,g=u&&s[u],x=d&&s[d],b=i[t],S=d&&x&&b&&b.major;return this._adapter.format(e,n||(S?x:g))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=Bu(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),o=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*o,h:i*o+s*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,PI(this,[e],this._majorUnit),n),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,i=n.length;t<i;++t)e=e.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(MI(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return cD(e.sort(II))}}function px(a,e,t){let i=0,n=a.length-1,r,o,s,u;t?(e>=a[i].pos&&e<=a[n].pos&&({lo:i,hi:n}=ld(a,"pos",e)),{pos:r,time:s}=a[i],{pos:o,time:u}=a[n]):(e>=a[i].time&&e<=a[n].time&&({lo:i,hi:n}=ld(a,"time",e)),{time:r,pos:s}=a[i],{time:o,pos:u}=a[n]);const d=o-r;return d?s+(u-s)*(e-r)/d:s}class tV extends pC{static id="timeseries";static defaults=pC.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=px(t,this.min),this._tableRange=px(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],r=[];let o,s,u,d,g;for(o=0,s=e.length;o<s;++o)d=e[o],d>=t&&d<=i&&n.push(d);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)g=n[o+1],u=n[o-1],d=n[o],Math.round((g+u)/2)!==d&&r.push({time:d,pos:o/(s-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(px(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return px(this._table,i*this._tableRange+this._minPos,!0)}}var iV=Object.freeze({__proto__:null,CategoryScale:Lj,LinearScale:Pj,LogarithmicScale:Oj,RadialLinearScale:qj,TimeScale:pC,TimeSeriesScale:tV});const nV=[eH,FQ,kj,iV];x2.register(...nV);var bp={},xb,DI;function aV(){return DI||(DI=1,xb=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),xb}var _b={},Id={},RI;function zA(){if(RI)return Id;RI=1;let a;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Id.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},Id.getSymbolTotalCodewords=function(i){return e[i]},Id.getBCHDigit=function(t){let i=0;for(;t!==0;)i++,t>>>=1;return i},Id.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');a=i},Id.isKanjiModeEnabled=function(){return typeof a<"u"},Id.toSJIS=function(i){return a(i)},Id}var vb={},OI;function v2(){return OI||(OI=1,(function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+t)}}a.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},a.from=function(i,n){if(a.isValid(i))return i;try{return e(i)}catch{return n}}})(vb)),vb}var wb,UI;function rV(){if(UI)return wb;UI=1;function a(){this.buffer=[],this.length=0}return a.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},wb=a,wb}var bb,NI;function sV(){if(NI)return bb;NI=1;function a(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return a.prototype.set=function(e,t,i,n){const r=e*this.size+t;this.data[r]=i,n&&(this.reservedBit[r]=!0)},a.prototype.get=function(e,t){return this.data[e*this.size+t]},a.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},a.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},bb=a,bb}var Cb={},zI;function oV(){return zI||(zI=1,(function(a){const e=zA().getSymbolSize;a.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,r=e(i),o=r===145?26:Math.ceil((r-13)/(2*n-2))*2,s=[r-7];for(let u=1;u<n-1;u++)s[u]=s[u-1]-o;return s.push(6),s.reverse()},a.getPositions=function(i){const n=[],r=a.getRowColCoords(i),o=r.length;for(let s=0;s<o;s++)for(let u=0;u<o;u++)s===0&&u===0||s===0&&u===o-1||s===o-1&&u===0||n.push([r[s],r[u]]);return n}})(Cb)),Cb}var Sb={},HI;function lV(){if(HI)return Sb;HI=1;const a=zA().getSymbolSize,e=7;return Sb.getPositions=function(i){const n=a(i);return[[0,0],[n-e,0],[0,n-e]]},Sb}var Bb={},QI;function cV(){return QI||(QI=1,(function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};a.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},a.from=function(n){return a.isValid(n)?parseInt(n,10):void 0},a.getPenaltyN1=function(n){const r=n.size;let o=0,s=0,u=0,d=null,g=null;for(let x=0;x<r;x++){s=u=0,d=g=null;for(let b=0;b<r;b++){let S=n.get(x,b);S===d?s++:(s>=5&&(o+=e.N1+(s-5)),d=S,s=1),S=n.get(b,x),S===g?u++:(u>=5&&(o+=e.N1+(u-5)),g=S,u=1)}s>=5&&(o+=e.N1+(s-5)),u>=5&&(o+=e.N1+(u-5))}return o},a.getPenaltyN2=function(n){const r=n.size;let o=0;for(let s=0;s<r-1;s++)for(let u=0;u<r-1;u++){const d=n.get(s,u)+n.get(s,u+1)+n.get(s+1,u)+n.get(s+1,u+1);(d===4||d===0)&&o++}return o*e.N2},a.getPenaltyN3=function(n){const r=n.size;let o=0,s=0,u=0;for(let d=0;d<r;d++){s=u=0;for(let g=0;g<r;g++)s=s<<1&2047|n.get(d,g),g>=10&&(s===1488||s===93)&&o++,u=u<<1&2047|n.get(g,d),g>=10&&(u===1488||u===93)&&o++}return o*e.N3},a.getPenaltyN4=function(n){let r=0;const o=n.data.length;for(let u=0;u<o;u++)r+=n.data[u];return Math.abs(Math.ceil(r*100/o/5)-10)*e.N4};function t(i,n,r){switch(i){case a.Patterns.PATTERN000:return(n+r)%2===0;case a.Patterns.PATTERN001:return n%2===0;case a.Patterns.PATTERN010:return r%3===0;case a.Patterns.PATTERN011:return(n+r)%3===0;case a.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case a.Patterns.PATTERN101:return n*r%2+n*r%3===0;case a.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case a.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}a.applyMask=function(n,r){const o=r.size;for(let s=0;s<o;s++)for(let u=0;u<o;u++)r.isReserved(u,s)||r.xor(u,s,t(n,u,s))},a.getBestMask=function(n,r){const o=Object.keys(a.Patterns).length;let s=0,u=1/0;for(let d=0;d<o;d++){r(d),a.applyMask(d,n);const g=a.getPenaltyN1(n)+a.getPenaltyN2(n)+a.getPenaltyN3(n)+a.getPenaltyN4(n);a.applyMask(d,n),g<u&&(u=g,s=d)}return s}})(Bb)),Bb}var gx={},jI;function JD(){if(jI)return gx;jI=1;const a=v2(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return gx.getBlocksCount=function(n,r){switch(r){case a.L:return e[(n-1)*4+0];case a.M:return e[(n-1)*4+1];case a.Q:return e[(n-1)*4+2];case a.H:return e[(n-1)*4+3];default:return}},gx.getTotalCodewordsCount=function(n,r){switch(r){case a.L:return t[(n-1)*4+0];case a.M:return t[(n-1)*4+1];case a.Q:return t[(n-1)*4+2];case a.H:return t[(n-1)*4+3];default:return}},gx}var Eb={},xm={},VI;function uV(){if(VI)return xm;VI=1;const a=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let n=0;n<255;n++)a[n]=i,e[i]=n,i<<=1,i&256&&(i^=285);for(let n=255;n<512;n++)a[n]=a[n-255]})(),xm.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},xm.exp=function(i){return a[i]},xm.mul=function(i,n){return i===0||n===0?0:a[e[i]+e[n]]},xm}var GI;function hV(){return GI||(GI=1,(function(a){const e=uV();a.mul=function(i,n){const r=new Uint8Array(i.length+n.length-1);for(let o=0;o<i.length;o++)for(let s=0;s<n.length;s++)r[o+s]^=e.mul(i[o],n[s]);return r},a.mod=function(i,n){let r=new Uint8Array(i);for(;r.length-n.length>=0;){const o=r[0];for(let u=0;u<n.length;u++)r[u]^=e.mul(n[u],o);let s=0;for(;s<r.length&&r[s]===0;)s++;r=r.slice(s)}return r},a.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let r=0;r<i;r++)n=a.mul(n,new Uint8Array([1,e.exp(r)]));return n}})(Eb)),Eb}var kb,WI;function dV(){if(WI)return kb;WI=1;const a=hV();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=a.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(i.length+this.degree);n.set(i);const r=a.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){const s=new Uint8Array(this.degree);return s.set(r,o),s}return r},kb=e,kb}var Tb={},Ib={},Mb={},$I;function eR(){return $I||($I=1,Mb.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Mb}var nh={},XI;function tR(){if(XI)return nh;XI=1;const a="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;nh.KANJI=new RegExp(t,"g"),nh.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),nh.BYTE=new RegExp(i,"g"),nh.NUMERIC=new RegExp(a,"g"),nh.ALPHANUMERIC=new RegExp(e,"g");const n=new RegExp("^"+t+"$"),r=new RegExp("^"+a+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return nh.testKanji=function(u){return n.test(u)},nh.testNumeric=function(u){return r.test(u)},nh.testAlphanumeric=function(u){return o.test(u)},nh}var YI;function HA(){return YI||(YI=1,(function(a){const e=eR(),t=tR();a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},a.getBestModeForData=function(r){return t.testNumeric(r)?a.NUMERIC:t.testAlphanumeric(r)?a.ALPHANUMERIC:t.testKanji(r)?a.KANJI:a.BYTE},a.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},a.isValid=function(r){return r&&r.bit&&r.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+n)}}a.from=function(r,o){if(a.isValid(r))return r;try{return i(r)}catch{return o}}})(Ib)),Ib}var KI;function fV(){return KI||(KI=1,(function(a){const e=zA(),t=JD(),i=v2(),n=HA(),r=eR(),o=7973,s=e.getBCHDigit(o);function u(b,S,P){for(let I=1;I<=40;I++)if(S<=a.getCapacity(I,P,b))return I}function d(b,S){return n.getCharCountIndicator(b,S)+4}function g(b,S){let P=0;return b.forEach(function(I){const O=d(I.mode,S);P+=O+I.getBitsLength()}),P}function x(b,S){for(let P=1;P<=40;P++)if(g(b,P)<=a.getCapacity(P,S,n.MIXED))return P}a.from=function(S,P){return r.isValid(S)?parseInt(S,10):P},a.getCapacity=function(S,P,I){if(!r.isValid(S))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=n.BYTE);const O=e.getSymbolTotalCodewords(S),H=t.getTotalCodewordsCount(S,P),Q=(O-H)*8;if(I===n.MIXED)return Q;const Y=Q-d(I,S);switch(I){case n.NUMERIC:return Math.floor(Y/10*3);case n.ALPHANUMERIC:return Math.floor(Y/11*2);case n.KANJI:return Math.floor(Y/13);case n.BYTE:default:return Math.floor(Y/8)}},a.getBestVersionForData=function(S,P){let I;const O=i.from(P,i.M);if(Array.isArray(S)){if(S.length>1)return x(S,O);if(S.length===0)return 1;I=S[0]}else I=S;return u(I.mode,I.getLength(),O)},a.getEncodedBits=function(S){if(!r.isValid(S)||S<7)throw new Error("Invalid QR Code version");let P=S<<12;for(;e.getBCHDigit(P)-s>=0;)P^=o<<e.getBCHDigit(P)-s;return S<<12|P}})(Tb)),Tb}var Lb={},qI;function AV(){if(qI)return Lb;qI=1;const a=zA(),e=1335,t=21522,i=a.getBCHDigit(e);return Lb.getEncodedBits=function(r,o){const s=r.bit<<3|o;let u=s<<10;for(;a.getBCHDigit(u)-i>=0;)u^=e<<a.getBCHDigit(u)-i;return(s<<10|u)^t},Lb}var Fb={},Pb,ZI;function pV(){if(ZI)return Pb;ZI=1;const a=HA();function e(t){this.mode=a.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let n,r,o;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),o=parseInt(r,10),i.put(o,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),o=parseInt(r,10),i.put(o,s*3+1))},Pb=e,Pb}var Db,JI;function gV(){if(JI)return Db;JI=1;const a=HA(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=a.ALPHANUMERIC,this.data=i}return t.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let r;for(r=0;r+2<=this.data.length;r+=2){let o=e.indexOf(this.data[r])*45;o+=e.indexOf(this.data[r+1]),n.put(o,11)}this.data.length%2&&n.put(e.indexOf(this.data[r]),6)},Db=t,Db}var Rb,eM;function mV(){if(eM)return Rb;eM=1;const a=HA();function e(t){this.mode=a.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let i=0,n=this.data.length;i<n;i++)t.put(this.data[i],8)},Rb=e,Rb}var Ob,tM;function yV(){if(tM)return Ob;tM=1;const a=HA(),e=zA();function t(i){this.mode=a.KANJI,this.data=i}return t.getBitsLength=function(n){return n*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let n;for(n=0;n<this.data.length;n++){let r=e.toSJIS(this.data[n]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),i.put(r,13)}},Ob=t,Ob}var Ub={exports:{}},iM;function xV(){return iM||(iM=1,(function(a){var e={single_source_shortest_paths:function(t,i,n){var r={},o={};o[i]=0;var s=e.PriorityQueue.make();s.push(i,0);for(var u,d,g,x,b,S,P,I,O;!s.empty();){u=s.pop(),d=u.value,x=u.cost,b=t[d]||{};for(g in b)b.hasOwnProperty(g)&&(S=b[g],P=x+S,I=o[g],O=typeof o[g]>"u",(O||I>P)&&(o[g]=P,s.push(g,P),r[g]=d))}if(typeof n<"u"&&typeof o[n]>"u"){var H=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(H)}return r},extract_shortest_path_from_predecessor_list:function(t,i){for(var n=[],r=i;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,i,n){var r=e.single_source_shortest_paths(t,i,n);return e.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var i=e.PriorityQueue,n={},r;t=t||{};for(r in i)i.hasOwnProperty(r)&&(n[r]=i[r]);return n.queue=[],n.sorter=t.sorter||i.default_sorter,n},default_sorter:function(t,i){return t.cost-i.cost},push:function(t,i){var n={value:t,cost:i};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};a.exports=e})(Ub)),Ub.exports}var nM;function _V(){return nM||(nM=1,(function(a){const e=HA(),t=pV(),i=gV(),n=mV(),r=yV(),o=tR(),s=zA(),u=xV();function d(H){return unescape(encodeURIComponent(H)).length}function g(H,Q,Y){const Z=[];let J;for(;(J=H.exec(Y))!==null;)Z.push({data:J[0],index:J.index,mode:Q,length:J[0].length});return Z}function x(H){const Q=g(o.NUMERIC,e.NUMERIC,H),Y=g(o.ALPHANUMERIC,e.ALPHANUMERIC,H);let Z,J;return s.isKanjiModeEnabled()?(Z=g(o.BYTE,e.BYTE,H),J=g(o.KANJI,e.KANJI,H)):(Z=g(o.BYTE_KANJI,e.BYTE,H),J=[]),Q.concat(Y,Z,J).sort(function(q,ne){return q.index-ne.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function b(H,Q){switch(Q){case e.NUMERIC:return t.getBitsLength(H);case e.ALPHANUMERIC:return i.getBitsLength(H);case e.KANJI:return r.getBitsLength(H);case e.BYTE:return n.getBitsLength(H)}}function S(H){return H.reduce(function(Q,Y){const Z=Q.length-1>=0?Q[Q.length-1]:null;return Z&&Z.mode===Y.mode?(Q[Q.length-1].data+=Y.data,Q):(Q.push(Y),Q)},[])}function P(H){const Q=[];for(let Y=0;Y<H.length;Y++){const Z=H[Y];switch(Z.mode){case e.NUMERIC:Q.push([Z,{data:Z.data,mode:e.ALPHANUMERIC,length:Z.length},{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.ALPHANUMERIC:Q.push([Z,{data:Z.data,mode:e.BYTE,length:Z.length}]);break;case e.KANJI:Q.push([Z,{data:Z.data,mode:e.BYTE,length:d(Z.data)}]);break;case e.BYTE:Q.push([{data:Z.data,mode:e.BYTE,length:d(Z.data)}])}}return Q}function I(H,Q){const Y={},Z={start:{}};let J=["start"];for(let re=0;re<H.length;re++){const q=H[re],ne=[];for(let te=0;te<q.length;te++){const he=q[te],ve=""+re+te;ne.push(ve),Y[ve]={node:he,lastCount:0},Z[ve]={};for(let de=0;de<J.length;de++){const be=J[de];Y[be]&&Y[be].node.mode===he.mode?(Z[be][ve]=b(Y[be].lastCount+he.length,he.mode)-b(Y[be].lastCount,he.mode),Y[be].lastCount+=he.length):(Y[be]&&(Y[be].lastCount=he.length),Z[be][ve]=b(he.length,he.mode)+4+e.getCharCountIndicator(he.mode,Q))}}J=ne}for(let re=0;re<J.length;re++)Z[J[re]].end=0;return{map:Z,table:Y}}function O(H,Q){let Y;const Z=e.getBestModeForData(H);if(Y=e.from(Q,Z),Y!==e.BYTE&&Y.bit<Z.bit)throw new Error('"'+H+'" cannot be encoded with mode '+e.toString(Y)+`.
 Suggested mode is: `+e.toString(Z));switch(Y===e.KANJI&&!s.isKanjiModeEnabled()&&(Y=e.BYTE),Y){case e.NUMERIC:return new t(H);case e.ALPHANUMERIC:return new i(H);case e.KANJI:return new r(H);case e.BYTE:return new n(H)}}a.fromArray=function(Q){return Q.reduce(function(Y,Z){return typeof Z=="string"?Y.push(O(Z,null)):Z.data&&Y.push(O(Z.data,Z.mode)),Y},[])},a.fromString=function(Q,Y){const Z=x(Q,s.isKanjiModeEnabled()),J=P(Z),re=I(J,Y),q=u.find_path(re.map,"start","end"),ne=[];for(let te=1;te<q.length-1;te++)ne.push(re.table[q[te]].node);return a.fromArray(S(ne))},a.rawSplit=function(Q){return a.fromArray(x(Q,s.isKanjiModeEnabled()))}})(Fb)),Fb}var aM;function vV(){if(aM)return _b;aM=1;const a=zA(),e=v2(),t=rV(),i=sV(),n=oV(),r=lV(),o=cV(),s=JD(),u=dV(),d=fV(),g=AV(),x=HA(),b=_V();function S(re,q){const ne=re.size,te=r.getPositions(q);for(let he=0;he<te.length;he++){const ve=te[he][0],de=te[he][1];for(let be=-1;be<=7;be++)if(!(ve+be<=-1||ne<=ve+be))for(let De=-1;De<=7;De++)de+De<=-1||ne<=de+De||(be>=0&&be<=6&&(De===0||De===6)||De>=0&&De<=6&&(be===0||be===6)||be>=2&&be<=4&&De>=2&&De<=4?re.set(ve+be,de+De,!0,!0):re.set(ve+be,de+De,!1,!0))}}function P(re){const q=re.size;for(let ne=8;ne<q-8;ne++){const te=ne%2===0;re.set(ne,6,te,!0),re.set(6,ne,te,!0)}}function I(re,q){const ne=n.getPositions(q);for(let te=0;te<ne.length;te++){const he=ne[te][0],ve=ne[te][1];for(let de=-2;de<=2;de++)for(let be=-2;be<=2;be++)de===-2||de===2||be===-2||be===2||de===0&&be===0?re.set(he+de,ve+be,!0,!0):re.set(he+de,ve+be,!1,!0)}}function O(re,q){const ne=re.size,te=d.getEncodedBits(q);let he,ve,de;for(let be=0;be<18;be++)he=Math.floor(be/3),ve=be%3+ne-8-3,de=(te>>be&1)===1,re.set(he,ve,de,!0),re.set(ve,he,de,!0)}function H(re,q,ne){const te=re.size,he=g.getEncodedBits(q,ne);let ve,de;for(ve=0;ve<15;ve++)de=(he>>ve&1)===1,ve<6?re.set(ve,8,de,!0):ve<8?re.set(ve+1,8,de,!0):re.set(te-15+ve,8,de,!0),ve<8?re.set(8,te-ve-1,de,!0):ve<9?re.set(8,15-ve-1+1,de,!0):re.set(8,15-ve-1,de,!0);re.set(te-8,8,1,!0)}function Q(re,q){const ne=re.size;let te=-1,he=ne-1,ve=7,de=0;for(let be=ne-1;be>0;be-=2)for(be===6&&be--;;){for(let De=0;De<2;De++)if(!re.isReserved(he,be-De)){let Ie=!1;de<q.length&&(Ie=(q[de]>>>ve&1)===1),re.set(he,be-De,Ie),ve--,ve===-1&&(de++,ve=7)}if(he+=te,he<0||ne<=he){he-=te,te=-te;break}}}function Y(re,q,ne){const te=new t;ne.forEach(function(De){te.put(De.mode.bit,4),te.put(De.getLength(),x.getCharCountIndicator(De.mode,re)),De.write(te)});const he=a.getSymbolTotalCodewords(re),ve=s.getTotalCodewordsCount(re,q),de=(he-ve)*8;for(te.getLengthInBits()+4<=de&&te.put(0,4);te.getLengthInBits()%8!==0;)te.putBit(0);const be=(de-te.getLengthInBits())/8;for(let De=0;De<be;De++)te.put(De%2?17:236,8);return Z(te,re,q)}function Z(re,q,ne){const te=a.getSymbolTotalCodewords(q),he=s.getTotalCodewordsCount(q,ne),ve=te-he,de=s.getBlocksCount(q,ne),be=te%de,De=de-be,Ie=Math.floor(te/de),nt=Math.floor(ve/de),je=nt+1,dt=Ie-nt,Mt=new u(dt);let We=0;const Pt=new Array(de),Kt=new Array(de);let di=0;const It=new Uint8Array(re.buffer);for(let Vi=0;Vi<de;Vi++){const Ii=Vi<De?nt:je;Pt[Vi]=It.slice(We,We+Ii),Kt[Vi]=Mt.encode(Pt[Vi]),We+=Ii,di=Math.max(di,Ii)}const bt=new Uint8Array(te);let mt=0,si,gi;for(si=0;si<di;si++)for(gi=0;gi<de;gi++)si<Pt[gi].length&&(bt[mt++]=Pt[gi][si]);for(si=0;si<dt;si++)for(gi=0;gi<de;gi++)bt[mt++]=Kt[gi][si];return bt}function J(re,q,ne,te){let he;if(Array.isArray(re))he=b.fromArray(re);else if(typeof re=="string"){let Ie=q;if(!Ie){const nt=b.rawSplit(re);Ie=d.getBestVersionForData(nt,ne)}he=b.fromString(re,Ie||40)}else throw new Error("Invalid data");const ve=d.getBestVersionForData(he,ne);if(!ve)throw new Error("The amount of data is too big to be stored in a QR Code");if(!q)q=ve;else if(q<ve)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ve+`.
`);const de=Y(q,ne,he),be=a.getSymbolSize(q),De=new i(be);return S(De,q),P(De),I(De,q),H(De,ne,0),q>=7&&O(De,q),Q(De,de),isNaN(te)&&(te=o.getBestMask(De,H.bind(null,De,ne))),o.applyMask(te,De),H(De,ne,te),{modules:De,version:q,errorCorrectionLevel:ne,maskPattern:te,segments:he}}return _b.create=function(q,ne){if(typeof q>"u"||q==="")throw new Error("No input text");let te=e.M,he,ve;return typeof ne<"u"&&(te=e.from(ne.errorCorrectionLevel,e.M),he=d.from(ne.version),ve=o.from(ne.maskPattern),ne.toSJISFunc&&a.setToSJISFunction(ne.toSJISFunc)),J(q,he,te,ve)},_b}var Nb={},zb={},rM;function iR(){return rM||(rM=1,(function(a){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let i=t.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+t);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(r){return[r,r]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}a.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,r=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:r,scale:r?4:o,margin:n,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},a.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},a.getImageWidth=function(i,n){const r=a.getScale(i,n);return Math.floor((i+n.margin*2)*r)},a.qrToImageData=function(i,n,r){const o=n.modules.size,s=n.modules.data,u=a.getScale(o,r),d=Math.floor((o+r.margin*2)*u),g=r.margin*u,x=[r.color.light,r.color.dark];for(let b=0;b<d;b++)for(let S=0;S<d;S++){let P=(b*d+S)*4,I=r.color.light;if(b>=g&&S>=g&&b<d-g&&S<d-g){const O=Math.floor((b-g)/u),H=Math.floor((S-g)/u);I=x[s[O*o+H]?1:0]}i[P++]=I.r,i[P++]=I.g,i[P++]=I.b,i[P]=I.a}}})(zb)),zb}var sM;function wV(){return sM||(sM=1,(function(a){const e=iR();function t(n,r,o){n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(r,o,s){let u=s,d=o;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),o||(d=i()),u=e.getOptions(u);const g=e.getImageWidth(r.modules.size,u),x=d.getContext("2d"),b=x.createImageData(g,g);return e.qrToImageData(b.data,r,u),t(x,d,g),x.putImageData(b,0,0),d},a.renderToDataURL=function(r,o,s){let u=s;typeof u>"u"&&(!o||!o.getContext)&&(u=o,o=void 0),u||(u={});const d=a.render(r,o,u),g=u.type||"image/png",x=u.rendererOpts||{};return d.toDataURL(g,x.quality)}})(Nb)),Nb}var Hb={},oM;function bV(){if(oM)return Hb;oM=1;const a=iR();function e(n,r){const o=n.a/255,s=r+'="'+n.hex+'"';return o<1?s+" "+r+'-opacity="'+o.toFixed(2).slice(1)+'"':s}function t(n,r,o){let s=n+r;return typeof o<"u"&&(s+=" "+o),s}function i(n,r,o){let s="",u=0,d=!1,g=0;for(let x=0;x<n.length;x++){const b=Math.floor(x%r),S=Math.floor(x/r);!b&&!d&&(d=!0),n[x]?(g++,x>0&&b>0&&n[x-1]||(s+=d?t("M",b+o,.5+S+o):t("m",u,0),u=0,d=!1),b+1<r&&n[x+1]||(s+=t("h",g),g=0)):u++}return s}return Hb.render=function(r,o,s){const u=a.getOptions(o),d=r.modules.size,g=r.modules.data,x=d+u.margin*2,b=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",S="<path "+e(u.color.dark,"stroke")+' d="'+i(g,d,u.margin)+'"/>',P='viewBox="0 0 '+x+" "+x+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+P+' shape-rendering="crispEdges">'+b+S+`</svg>
`;return typeof s=="function"&&s(null,O),O},Hb}var lM;function CV(){if(lM)return bp;lM=1;const a=aV(),e=vV(),t=wV(),i=bV();function n(r,o,s,u,d){const g=[].slice.call(arguments,1),x=g.length,b=typeof g[x-1]=="function";if(!b&&!a())throw new Error("Callback required as last argument");if(b){if(x<2)throw new Error("Too few arguments provided");x===2?(d=s,s=o,o=u=void 0):x===3&&(o.getContext&&typeof d>"u"?(d=u,u=void 0):(d=u,u=s,s=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(s=o,o=u=void 0):x===2&&!o.getContext&&(u=s,s=o,o=void 0),new Promise(function(S,P){try{const I=e.create(s,u);S(r(I,o,u))}catch(I){P(I)}})}try{const S=e.create(s,u);d(null,r(S,o,u))}catch(S){d(S)}}return bp.create=e.create,bp.toCanvas=n.bind(null,t.render),bp.toDataURL=n.bind(null,t.renderToDataURL),bp.toString=n.bind(null,function(r,o,s){return i.render(r,s)}),bp}var SV=CV();const BV=TS(SV);var gC=function(a,e){return gC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},gC(a,e)};function Mu(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gC(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mC=function(){return mC=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},mC.apply(this,arguments)};function bl(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,[])).next())})}function al(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function mx(a,e,t){if(arguments.length===2)for(var i=0,n=e.length,r;i<n;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return a.concat(r||e)}var gd=(function(){function a(e,t,i,n){this.left=e,this.top=t,this.width=i,this.height=n}return a.prototype.add=function(e,t,i,n){return new a(this.left+e,this.top+t,this.width+i,this.height+n)},a.fromClientRect=function(e,t){return new a(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},a.fromDOMRectList=function(e,t){var i=Array.from(t).find(function(n){return n.width!==0});return i?new a(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):a.EMPTY},a.EMPTY=new a(0,0,0,0),a})(),wv=function(a,e){return gd.fromClientRect(a,e.getBoundingClientRect())},EV=function(a){var e=a.body,t=a.documentElement;if(!e||!t)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),n=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new gd(0,0,i,n)},bv=function(a){for(var e=[],t=0,i=a.length;t<i;){var n=a.charCodeAt(t++);if(n>=55296&&n<=56319&&t<i){var r=a.charCodeAt(t++);(r&64512)===56320?e.push(((n&1023)<<10)+(r&1023)+65536):(e.push(n),t--)}else e.push(n)}return e},Ks=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,a);var t=a.length;if(!t)return"";for(var i=[],n=-1,r="";++n<t;){var o=a[n];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(n+1===t||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},cM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yx=0;yx<cM.length;yx++)kV[cM.charCodeAt(yx)]=yx;var uM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Um=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xx=0;xx<uM.length;xx++)Um[uM.charCodeAt(xx)]=xx;var TV=function(a){var e=a.length*.75,t=a.length,i,n=0,r,o,s,u;a[a.length-1]==="="&&(e--,a[a.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(d)?d:new Uint8Array(d);for(i=0;i<t;i+=4)r=Um[a.charCodeAt(i)],o=Um[a.charCodeAt(i+1)],s=Um[a.charCodeAt(i+2)],u=Um[a.charCodeAt(i+3)],g[n++]=r<<2|o>>4,g[n++]=(o&15)<<4|s>>2,g[n++]=(s&3)<<6|u&63;return d},IV=function(a){for(var e=a.length,t=[],i=0;i<e;i+=2)t.push(a[i+1]<<8|a[i]);return t},MV=function(a){for(var e=a.length,t=[],i=0;i<e;i+=4)t.push(a[i+3]<<24|a[i+2]<<16|a[i+1]<<8|a[i]);return t},SA=5,w2=11,Qb=2,LV=w2-SA,nR=65536>>SA,FV=1<<SA,jb=FV-1,PV=1024>>SA,DV=nR+PV,RV=DV,OV=32,UV=RV+OV,NV=65536>>w2,zV=1<<LV,HV=zV-1,hM=function(a,e,t){return a.slice?a.slice(e,t):new Uint16Array(Array.prototype.slice.call(a,e,t))},QV=function(a,e,t){return a.slice?a.slice(e,t):new Uint32Array(Array.prototype.slice.call(a,e,t))},jV=function(a,e){var t=TV(a),i=Array.isArray(t)?MV(t):new Uint32Array(t),n=Array.isArray(t)?IV(t):new Uint16Array(t),r=24,o=hM(n,r/2,i[4]/2),s=i[5]===2?hM(n,(r+i[4])/2):QV(i,Math.ceil((r+i[4])/4));return new VV(i[0],i[1],i[2],i[3],o,s)},VV=(function(){function a(e,t,i,n,r,o){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=n,this.index=r,this.data=o}return a.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>SA],t=(t<<Qb)+(e&jb),this.data[t];if(e<=65535)return t=this.index[nR+(e-55296>>SA)],t=(t<<Qb)+(e&jb),this.data[t];if(e<this.highStart)return t=UV-NV+(e>>w2),t=this.index[t],t+=e>>SA&HV,t=this.index[t],t=(t<<Qb)+(e&jb),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},a})(),dM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GV=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _x=0;_x<dM.length;_x++)GV[dM.charCodeAt(_x)]=_x;var WV="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",fM=50,$V=1,aR=2,rR=3,XV=4,YV=5,AM=7,sR=8,pM=9,Wd=10,yC=11,gM=12,xC=13,KV=14,Nm=15,_C=16,vx=17,_m=18,qV=19,mM=20,vC=21,vm=22,Vb=23,Cp=24,mc=25,zm=26,Hm=27,Sp=28,ZV=29,iA=30,JV=31,wx=32,bx=33,wC=34,bC=35,CC=36,P0=37,SC=38,n_=39,a_=40,Gb=41,oR=42,e7=43,t7=[9001,65288],lR="!",Ga="",Cx="",BC=jV(WV),$h=[iA,CC],EC=[$V,aR,rR,YV],cR=[Wd,sR],yM=[Hm,zm],i7=EC.concat(cR),xM=[SC,n_,a_,wC,bC],n7=[Nm,xC],a7=function(a,e){e===void 0&&(e="strict");var t=[],i=[],n=[];return a.forEach(function(r,o){var s=BC.get(r);if(s>fM?(n.push(!0),s-=fM):n.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(r)!==-1)return i.push(o),t.push(_C);if(s===XV||s===yC){if(o===0)return i.push(o),t.push(iA);var u=t[o-1];return i7.indexOf(u)===-1?(i.push(i[o-1]),t.push(u)):(i.push(o),t.push(iA))}if(i.push(o),s===JV)return t.push(e==="strict"?vC:P0);if(s===oR||s===ZV)return t.push(iA);if(s===e7)return r>=131072&&r<=196605||r>=196608&&r<=262141?t.push(P0):t.push(iA);t.push(s)}),[i,t,n]},Wb=function(a,e,t,i){var n=i[t];if(Array.isArray(a)?a.indexOf(n)!==-1:a===n)for(var r=t;r<=i.length;){r++;var o=i[r];if(o===e)return!0;if(o!==Wd)break}if(n===Wd)for(var r=t;r>0;){r--;var s=i[r];if(Array.isArray(a)?a.indexOf(s)!==-1:a===s)for(var u=t;u<=i.length;){u++;var o=i[u];if(o===e)return!0;if(o!==Wd)break}if(s!==Wd)break}return!1},_M=function(a,e){for(var t=a;t>=0;){var i=e[t];if(i===Wd)t--;else return i}return 0},r7=function(a,e,t,i,n){if(t[i]===0)return Ga;var r=i-1;if(Array.isArray(n)&&n[r]===!0)return Ga;var o=r-1,s=r+1,u=e[r],d=o>=0?e[o]:0,g=e[s];if(u===aR&&g===rR)return Ga;if(EC.indexOf(u)!==-1)return lR;if(EC.indexOf(g)!==-1||cR.indexOf(g)!==-1)return Ga;if(_M(r,e)===sR)return Cx;if(BC.get(a[r])===yC||(u===wx||u===bx)&&BC.get(a[s])===yC||u===AM||g===AM||u===pM||[Wd,xC,Nm].indexOf(u)===-1&&g===pM||[vx,_m,qV,Cp,Sp].indexOf(g)!==-1||_M(r,e)===vm||Wb(Vb,vm,r,e)||Wb([vx,_m],vC,r,e)||Wb(gM,gM,r,e))return Ga;if(u===Wd)return Cx;if(u===Vb||g===Vb)return Ga;if(g===_C||u===_C)return Cx;if([xC,Nm,vC].indexOf(g)!==-1||u===KV||d===CC&&n7.indexOf(u)!==-1||u===Sp&&g===CC||g===mM||$h.indexOf(g)!==-1&&u===mc||$h.indexOf(u)!==-1&&g===mc||u===Hm&&[P0,wx,bx].indexOf(g)!==-1||[P0,wx,bx].indexOf(u)!==-1&&g===zm||$h.indexOf(u)!==-1&&yM.indexOf(g)!==-1||yM.indexOf(u)!==-1&&$h.indexOf(g)!==-1||[Hm,zm].indexOf(u)!==-1&&(g===mc||[vm,Nm].indexOf(g)!==-1&&e[s+1]===mc)||[vm,Nm].indexOf(u)!==-1&&g===mc||u===mc&&[mc,Sp,Cp].indexOf(g)!==-1)return Ga;if([mc,Sp,Cp,vx,_m].indexOf(g)!==-1)for(var x=r;x>=0;){var b=e[x];if(b===mc)return Ga;if([Sp,Cp].indexOf(b)!==-1)x--;else break}if([Hm,zm].indexOf(g)!==-1)for(var x=[vx,_m].indexOf(u)!==-1?o:r;x>=0;){var b=e[x];if(b===mc)return Ga;if([Sp,Cp].indexOf(b)!==-1)x--;else break}if(SC===u&&[SC,n_,wC,bC].indexOf(g)!==-1||[n_,wC].indexOf(u)!==-1&&[n_,a_].indexOf(g)!==-1||[a_,bC].indexOf(u)!==-1&&g===a_||xM.indexOf(u)!==-1&&[mM,zm].indexOf(g)!==-1||xM.indexOf(g)!==-1&&u===Hm||$h.indexOf(u)!==-1&&$h.indexOf(g)!==-1||u===Cp&&$h.indexOf(g)!==-1||$h.concat(mc).indexOf(u)!==-1&&g===vm&&t7.indexOf(a[s])===-1||$h.concat(mc).indexOf(g)!==-1&&u===_m)return Ga;if(u===Gb&&g===Gb){for(var S=t[r],P=1;S>0&&(S--,e[S]===Gb);)P++;if(P%2!==0)return Ga}return u===wx&&g===bx?Ga:Cx},s7=function(a,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=a7(a,e.lineBreak),i=t[0],n=t[1],r=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(n=n.map(function(s){return[mc,iA,oR].indexOf(s)!==-1?P0:s}));var o=e.wordBreak==="keep-all"?r.map(function(s,u){return s&&a[u]>=19968&&a[u]<=40959}):void 0;return[i,n,o]},o7=(function(){function a(e,t,i,n){this.codePoints=e,this.required=t===lR,this.start=i,this.end=n}return a.prototype.slice=function(){return Ks.apply(void 0,this.codePoints.slice(this.start,this.end))},a})(),l7=function(a,e){var t=bv(a),i=s7(t,e),n=i[0],r=i[1],o=i[2],s=t.length,u=0,d=0;return{next:function(){if(d>=s)return{done:!0,value:null};for(var g=Ga;d<s&&(g=r7(t,r,n,++d,o))===Ga;);if(g!==Ga||d===s){var x=new o7(t,g,u,d);return u=d,{value:x,done:!1}}return{done:!0,value:null}}}},c7=1,u7=2,Z0=4,vM=8,N_=10,wM=47,u0=92,h7=9,d7=32,Sx=34,wm=61,f7=35,A7=36,p7=37,Bx=39,Ex=40,bm=41,g7=95,Kl=45,m7=33,y7=60,x7=62,_7=64,v7=91,w7=93,b7=61,C7=123,kx=63,S7=125,bM=124,B7=126,E7=128,CM=65533,$b=42,cA=43,k7=44,T7=58,I7=59,D0=46,M7=0,L7=8,F7=11,P7=14,D7=31,R7=127,ah=-1,uR=48,hR=97,dR=101,O7=102,U7=117,N7=122,fR=65,AR=69,pR=70,z7=85,H7=90,ll=function(a){return a>=uR&&a<=57},Q7=function(a){return a>=55296&&a<=57343},Bp=function(a){return ll(a)||a>=fR&&a<=pR||a>=hR&&a<=O7},j7=function(a){return a>=hR&&a<=N7},V7=function(a){return a>=fR&&a<=H7},G7=function(a){return j7(a)||V7(a)},W7=function(a){return a>=E7},Tx=function(a){return a===N_||a===h7||a===d7},z_=function(a){return G7(a)||W7(a)||a===g7},SM=function(a){return z_(a)||ll(a)||a===Kl},$7=function(a){return a>=M7&&a<=L7||a===F7||a>=P7&&a<=D7||a===R7},Pd=function(a,e){return a!==u0?!1:e!==N_},Ix=function(a,e,t){return a===Kl?z_(e)||Pd(e,t):z_(a)?!0:!!(a===u0&&Pd(a,e))},Xb=function(a,e,t){return a===cA||a===Kl?ll(e)?!0:e===D0&&ll(t):ll(a===D0?e:a)},X7=function(a){var e=0,t=1;(a[e]===cA||a[e]===Kl)&&(a[e]===Kl&&(t=-1),e++);for(var i=[];ll(a[e]);)i.push(a[e++]);var n=i.length?parseInt(Ks.apply(void 0,i),10):0;a[e]===D0&&e++;for(var r=[];ll(a[e]);)r.push(a[e++]);var o=r.length,s=o?parseInt(Ks.apply(void 0,r),10):0;(a[e]===AR||a[e]===dR)&&e++;var u=1;(a[e]===cA||a[e]===Kl)&&(a[e]===Kl&&(u=-1),e++);for(var d=[];ll(a[e]);)d.push(a[e++]);var g=d.length?parseInt(Ks.apply(void 0,d),10):0;return t*(n+s*Math.pow(10,-o))*Math.pow(10,u*g)},Y7={type:2},K7={type:3},q7={type:4},Z7={type:13},J7={type:8},eG={type:21},tG={type:9},iG={type:10},nG={type:11},aG={type:12},rG={type:14},Mx={type:23},sG={type:1},oG={type:25},lG={type:24},cG={type:26},uG={type:27},hG={type:28},dG={type:29},fG={type:31},kC={type:32},gR=(function(){function a(){this._value=[]}return a.prototype.write=function(e){this._value=this._value.concat(bv(e))},a.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kC;)e.push(t),t=this.consumeToken();return e},a.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Sx:return this.consumeStringToken(Sx);case f7:var t=this.peekCodePoint(0),i=this.peekCodePoint(1),n=this.peekCodePoint(2);if(SM(t)||Pd(i,n)){var r=Ix(t,i,n)?u7:c7,o=this.consumeName();return{type:5,value:o,flags:r}}break;case A7:if(this.peekCodePoint(0)===wm)return this.consumeCodePoint(),Z7;break;case Bx:return this.consumeStringToken(Bx);case Ex:return Y7;case bm:return K7;case $b:if(this.peekCodePoint(0)===wm)return this.consumeCodePoint(),rG;break;case cA:if(Xb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case k7:return q7;case Kl:var s=e,u=this.peekCodePoint(0),d=this.peekCodePoint(1);if(Xb(s,u,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ix(s,u,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Kl&&d===x7)return this.consumeCodePoint(),this.consumeCodePoint(),lG;break;case D0:if(Xb(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wM:if(this.peekCodePoint(0)===$b)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===$b&&(g=this.consumeCodePoint(),g===wM))return this.consumeToken();if(g===ah)return this.consumeToken()}break;case T7:return cG;case I7:return uG;case y7:if(this.peekCodePoint(0)===m7&&this.peekCodePoint(1)===Kl&&this.peekCodePoint(2)===Kl)return this.consumeCodePoint(),this.consumeCodePoint(),oG;break;case _7:var x=this.peekCodePoint(0),b=this.peekCodePoint(1),S=this.peekCodePoint(2);if(Ix(x,b,S)){var o=this.consumeName();return{type:7,value:o}}break;case v7:return hG;case u0:if(Pd(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case w7:return dG;case b7:if(this.peekCodePoint(0)===wm)return this.consumeCodePoint(),J7;break;case C7:return nG;case S7:return aG;case U7:case z7:var P=this.peekCodePoint(0),I=this.peekCodePoint(1);return P===cA&&(Bp(I)||I===kx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case bM:if(this.peekCodePoint(0)===wm)return this.consumeCodePoint(),tG;if(this.peekCodePoint(0)===bM)return this.consumeCodePoint(),eG;break;case B7:if(this.peekCodePoint(0)===wm)return this.consumeCodePoint(),iG;break;case ah:return kC}return Tx(e)?(this.consumeWhiteSpace(),fG):ll(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):z_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Ks(e)}},a.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},a.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},a.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},a.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Bp(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var i=!1;t===kx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),i=!0;if(i){var n=parseInt(Ks.apply(void 0,e.map(function(u){return u===kx?uR:u})),16),r=parseInt(Ks.apply(void 0,e.map(function(u){return u===kx?pR:u})),16);return{type:30,start:n,end:r}}var o=parseInt(Ks.apply(void 0,e),16);if(this.peekCodePoint(0)===Kl&&Bp(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Bp(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();var r=parseInt(Ks.apply(void 0,s),16);return{type:30,start:o,end:r}}else return{type:30,start:o,end:o}},a.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ex?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ex?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},a.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ah)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Bx||t===Sx){var i=this.consumeStringToken(this.consumeCodePoint());return i.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ah||this.peekCodePoint(0)===bm)?(this.consumeCodePoint(),{type:22,value:i.value}):(this.consumeBadUrlRemnants(),Mx)}for(;;){var n=this.consumeCodePoint();if(n===ah||n===bm)return{type:22,value:Ks.apply(void 0,e)};if(Tx(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ah||this.peekCodePoint(0)===bm?(this.consumeCodePoint(),{type:22,value:Ks.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Mx);if(n===Sx||n===Bx||n===Ex||$7(n))return this.consumeBadUrlRemnants(),Mx;if(n===u0)if(Pd(n,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Mx;else e.push(n)}},a.prototype.consumeWhiteSpace=function(){for(;Tx(this.peekCodePoint(0));)this.consumeCodePoint()},a.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===bm||e===ah)return;Pd(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},a.prototype.consumeStringSlice=function(e){for(var t=5e4,i="";e>0;){var n=Math.min(t,e);i+=Ks.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),i},a.prototype.consumeStringToken=function(e){var t="",i=0;do{var n=this._value[i];if(n===ah||n===void 0||n===e)return t+=this.consumeStringSlice(i),{type:0,value:t};if(n===N_)return this._value.splice(0,i),sG;if(n===u0){var r=this._value[i+1];r!==ah&&r!==void 0&&(r===N_?(t+=this.consumeStringSlice(i),i=-1,this._value.shift()):Pd(n,r)&&(t+=this.consumeStringSlice(i),t+=Ks(this.consumeEscapedCodePoint()),i=-1))}i++}while(!0)},a.prototype.consumeNumber=function(){var e=[],t=Z0,i=this.peekCodePoint(0);for((i===cA||i===Kl)&&e.push(this.consumeCodePoint());ll(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(i===D0&&ll(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=vM;ll(this.peekCodePoint(0));)e.push(this.consumeCodePoint());i=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((i===AR||i===dR)&&((n===cA||n===Kl)&&ll(r)||ll(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=vM;ll(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[X7(e),t]},a.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],i=e[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ix(n,r,o)){var s=this.consumeName();return{type:15,number:t,flags:i,unit:s}}return n===p7?(this.consumeCodePoint(),{type:16,number:t,flags:i}):{type:17,number:t,flags:i}},a.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Bp(e)){for(var t=Ks(e);Bp(this.peekCodePoint(0))&&t.length<6;)t+=Ks(this.consumeCodePoint());Tx(this.peekCodePoint(0))&&this.consumeCodePoint();var i=parseInt(t,16);return i===0||Q7(i)||i>1114111?CM:i}return e===ah?CM:e},a.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(SM(t))e+=Ks(t);else if(Pd(t,this.peekCodePoint(0)))e+=Ks(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},a})(),mR=(function(){function a(e){this._tokens=e}return a.create=function(e){var t=new gR;return t.write(e),new a(t.read())},a.parseValue=function(e){return a.create(e).parseComponentValue()},a.parseValues=function(e){return a.create(e).parseComponentValues()},a.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},a.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},a.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},a.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},i=this.consumeToken();;){if(i.type===32||pG(i,e))return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue()),i=this.consumeToken()}},a.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var i=this.consumeToken();if(i.type===32||i.type===3)return t;this.reconsumeToken(i),t.values.push(this.consumeComponentValue())}},a.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?kC:e},a.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},a})(),J0=function(a){return a.type===15},Sg=function(a){return a.type===17},Ur=function(a){return a.type===20},AG=function(a){return a.type===0},TC=function(a,e){return Ur(a)&&a.value===e},yR=function(a){return a.type!==31},xg=function(a){return a.type!==31&&a.type!==4},yh=function(a){var e=[],t=[];return a.forEach(function(i){if(i.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}i.type!==31&&t.push(i)}),t.length&&e.push(t),e},pG=function(a,e){return e===11&&a.type===12||e===28&&a.type===29?!0:e===2&&a.type===3},cf=function(a){return a.type===17||a.type===15},uo=function(a){return a.type===16||cf(a)},xR=function(a){return a.length>1?[a[0],a[1]]:[a[0]]},Vo={type:17,number:0,flags:Z0},b2={type:16,number:50,flags:Z0},$d={type:16,number:100,flags:Z0},Qm=function(a,e,t){var i=a[0],n=a[1];return[ns(i,e),ns(typeof n<"u"?n:i,t)]},ns=function(a,e){if(a.type===16)return a.number/100*e;if(J0(a))switch(a.unit){case"rem":case"em":return 16*a.number;case"px":default:return a.number}return a.number},_R="deg",vR="grad",wR="rad",bR="turn",Cv={name:"angle",parse:function(a,e){if(e.type===15)switch(e.unit){case _R:return Math.PI*e.number/180;case vR:return Math.PI/200*e.number;case wR:return e.number;case bR:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},CR=function(a){return a.type===15&&(a.unit===_R||a.unit===vR||a.unit===wR||a.unit===bR)},SR=function(a){var e=a.filter(Ur).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Vo,Vo];case"to top":case"bottom":return eu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Vo,$d];case"to right":case"left":return eu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[$d,$d];case"to bottom":case"top":return eu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[$d,Vo];case"to left":case"right":return eu(270)}return 0},eu=function(a){return Math.PI*a/180},Jd={name:"color",parse:function(a,e){if(e.type===18){var t=gG[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(a,e.values)}if(e.type===5){if(e.value.length===3){var i=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3);return Xd(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),1)}if(e.value.length===4){var i=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3),o=e.value.substring(3,4);return Xd(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(e.value.length===6){var i=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6);return Xd(parseInt(i,16),parseInt(n,16),parseInt(r,16),1)}if(e.value.length===8){var i=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8);return Xd(parseInt(i,16),parseInt(n,16),parseInt(r,16),parseInt(o,16)/255)}}if(e.type===20){var s=dd[e.value.toUpperCase()];if(typeof s<"u")return s}return dd.TRANSPARENT}},ef=function(a){return(255&a)===0},To=function(a){var e=255&a,t=255&a>>8,i=255&a>>16,n=255&a>>24;return e<255?"rgba("+n+","+i+","+t+","+e/255+")":"rgb("+n+","+i+","+t+")"},Xd=function(a,e,t,i){return(a<<24|e<<16|t<<8|Math.round(i*255)<<0)>>>0},BM=function(a,e){if(a.type===17)return a.number;if(a.type===16){var t=e===3?1:255;return e===3?a.number/100*t:Math.round(a.number/100*t)}return 0},EM=function(a,e){var t=e.filter(xg);if(t.length===3){var i=t.map(BM),n=i[0],r=i[1],o=i[2];return Xd(n,r,o,1)}if(t.length===4){var s=t.map(BM),n=s[0],r=s[1],o=s[2],u=s[3];return Xd(n,r,o,u)}return 0};function Yb(a,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-a)*t*6+a:t<1/2?e:t<2/3?(e-a)*6*(2/3-t)+a:a}var kM=function(a,e){var t=e.filter(xg),i=t[0],n=t[1],r=t[2],o=t[3],s=(i.type===17?eu(i.number):Cv.parse(a,i))/(Math.PI*2),u=uo(n)?n.number/100:0,d=uo(r)?r.number/100:0,g=typeof o<"u"&&uo(o)?ns(o,1):1;if(u===0)return Xd(d*255,d*255,d*255,1);var x=d<=.5?d*(u+1):d+u-d*u,b=d*2-x,S=Yb(b,x,s+1/3),P=Yb(b,x,s),I=Yb(b,x,s-1/3);return Xd(S*255,P*255,I*255,g)},gG={hsl:kM,hsla:kM,rgb:EM,rgba:EM},h0=function(a,e){return Jd.parse(a,mR.create(e).parseComponentValue())},dd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},mG={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(a,e){return e.map(function(t){if(Ur(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yG={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Sv=function(a,e){var t=Jd.parse(a,e[0]),i=e[1];return i&&uo(i)?{color:t,stop:i}:{color:t,stop:null}},TM=function(a,e){var t=a[0],i=a[a.length-1];t.stop===null&&(t.stop=Vo),i.stop===null&&(i.stop=$d);for(var n=[],r=0,o=0;o<a.length;o++){var s=a[o].stop;if(s!==null){var u=ns(s,e);u>r?n.push(u):n.push(r),r=u}else n.push(null)}for(var d=null,o=0;o<n.length;o++){var g=n[o];if(g===null)d===null&&(d=o);else if(d!==null){for(var x=o-d,b=n[d-1],S=(g-b)/(x+1),P=1;P<=x;P++)n[d+P-1]=S*P;d=null}}return a.map(function(I,O){var H=I.color;return{color:H,stop:Math.max(Math.min(1,n[O]/e),0)}})},xG=function(a,e,t){var i=e/2,n=t/2,r=ns(a[0],e)-i,o=n-ns(a[1],t);return(Math.atan2(o,r)+Math.PI*2)%(Math.PI*2)},_G=function(a,e,t){var i=typeof a=="number"?a:xG(a,e,t),n=Math.abs(e*Math.sin(i))+Math.abs(t*Math.cos(i)),r=e/2,o=t/2,s=n/2,u=Math.sin(i-Math.PI/2)*s,d=Math.cos(i-Math.PI/2)*s;return[n,r-d,r+d,o-u,o+u]},Cu=function(a,e){return Math.sqrt(a*a+e*e)},IM=function(a,e,t,i,n){var r=[[0,0],[0,e],[a,0],[a,e]];return r.reduce(function(o,s){var u=s[0],d=s[1],g=Cu(t-u,i-d);return(n?g<o.optimumDistance:g>o.optimumDistance)?{optimumCorner:s,optimumDistance:g}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},vG=function(a,e,t,i,n){var r=0,o=0;switch(a.size){case 0:a.shape===0?r=o=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-n)):a.shape===1&&(r=Math.min(Math.abs(e),Math.abs(e-i)),o=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(a.shape===0)r=o=Math.min(Cu(e,t),Cu(e,t-n),Cu(e-i,t),Cu(e-i,t-n));else if(a.shape===1){var s=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(e),Math.abs(e-i)),u=IM(i,n,e,t,!0),d=u[0],g=u[1];r=Cu(d-e,(g-t)/s),o=s*r}break;case 1:a.shape===0?r=o=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(t),Math.abs(t-n)):a.shape===1&&(r=Math.max(Math.abs(e),Math.abs(e-i)),o=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(a.shape===0)r=o=Math.max(Cu(e,t),Cu(e,t-n),Cu(e-i,t),Cu(e-i,t-n));else if(a.shape===1){var s=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(e),Math.abs(e-i)),x=IM(i,n,e,t,!1),d=x[0],g=x[1];r=Cu(d-e,(g-t)/s),o=s*r}break}return Array.isArray(a.size)&&(r=ns(a.size[0],i),o=a.size.length===2?ns(a.size[1],n):r),[r,o]},wG=function(a,e){var t=eu(180),i=[];return yh(e).forEach(function(n,r){if(r===0){var o=n[0];if(o.type===20&&o.value==="to"){t=SR(n);return}else if(CR(o)){t=Cv.parse(a,o);return}}var s=Sv(a,n);i.push(s)}),{angle:t,stops:i,type:1}},Lx=function(a,e){var t=eu(180),i=[];return yh(e).forEach(function(n,r){if(r===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=SR(n);return}else if(CR(o)){t=(Cv.parse(a,o)+eu(270))%eu(360);return}}var s=Sv(a,n);i.push(s)}),{angle:t,stops:i,type:1}},bG=function(a,e){var t=eu(180),i=[],n=1,r=0,o=3,s=[];return yh(e).forEach(function(u,d){var g=u[0];if(d===0){if(Ur(g)&&g.value==="linear"){n=1;return}else if(Ur(g)&&g.value==="radial"){n=2;return}}if(g.type===18){if(g.name==="from"){var x=Jd.parse(a,g.values[0]);i.push({stop:Vo,color:x})}else if(g.name==="to"){var x=Jd.parse(a,g.values[0]);i.push({stop:$d,color:x})}else if(g.name==="color-stop"){var b=g.values.filter(xg);if(b.length===2){var x=Jd.parse(a,b[1]),S=b[0];Sg(S)&&i.push({stop:{type:16,number:S.number*100,flags:S.flags},color:x})}}}}),n===1?{angle:(t+eu(180))%eu(360),stops:i,type:n}:{size:o,shape:r,stops:i,position:s,type:n}},BR="closest-side",ER="farthest-side",kR="closest-corner",TR="farthest-corner",IR="circle",MR="ellipse",LR="cover",FR="contain",CG=function(a,e){var t=0,i=3,n=[],r=[];return yh(e).forEach(function(o,s){var u=!0;if(s===0){var d=!1;u=o.reduce(function(x,b){if(d)if(Ur(b))switch(b.value){case"center":return r.push(b2),x;case"top":case"left":return r.push(Vo),x;case"right":case"bottom":return r.push($d),x}else(uo(b)||cf(b))&&r.push(b);else if(Ur(b))switch(b.value){case IR:return t=0,!1;case MR:return t=1,!1;case"at":return d=!0,!1;case BR:return i=0,!1;case LR:case ER:return i=1,!1;case FR:case kR:return i=2,!1;case TR:return i=3,!1}else if(cf(b)||uo(b))return Array.isArray(i)||(i=[]),i.push(b),!1;return x},u)}if(u){var g=Sv(a,o);n.push(g)}}),{size:i,shape:t,stops:n,position:r,type:2}},Fx=function(a,e){var t=0,i=3,n=[],r=[];return yh(e).forEach(function(o,s){var u=!0;if(s===0?u=o.reduce(function(g,x){if(Ur(x))switch(x.value){case"center":return r.push(b2),!1;case"top":case"left":return r.push(Vo),!1;case"right":case"bottom":return r.push($d),!1}else if(uo(x)||cf(x))return r.push(x),!1;return g},u):s===1&&(u=o.reduce(function(g,x){if(Ur(x))switch(x.value){case IR:return t=0,!1;case MR:return t=1,!1;case FR:case BR:return i=0,!1;case ER:return i=1,!1;case kR:return i=2,!1;case LR:case TR:return i=3,!1}else if(cf(x)||uo(x))return Array.isArray(i)||(i=[]),i.push(x),!1;return g},u)),u){var d=Sv(a,o);n.push(d)}}),{size:i,shape:t,stops:n,position:r,type:2}},SG=function(a){return a.type===1},BG=function(a){return a.type===2},C2={name:"image",parse:function(a,e){if(e.type===22){var t={url:e.value,type:0};return a.cache.addImage(e.value),t}if(e.type===18){var i=PR[e.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(a,e.values)}throw new Error("Unsupported image type "+e.type)}};function EG(a){return!(a.type===20&&a.value==="none")&&(a.type!==18||!!PR[a.name])}var PR={"linear-gradient":wG,"-moz-linear-gradient":Lx,"-ms-linear-gradient":Lx,"-o-linear-gradient":Lx,"-webkit-linear-gradient":Lx,"radial-gradient":CG,"-moz-radial-gradient":Fx,"-ms-radial-gradient":Fx,"-o-radial-gradient":Fx,"-webkit-radial-gradient":Fx,"-webkit-gradient":bG},kG={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(a,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(i){return xg(i)&&EG(i)}).map(function(i){return C2.parse(a,i)})}},TG={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(a,e){return e.map(function(t){if(Ur(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},IG={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(a,e){return yh(e).map(function(t){return t.filter(uo)}).map(xR)}},MG={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(a,e){return yh(e).map(function(t){return t.filter(Ur).map(function(i){return i.value}).join(" ")}).map(LG)}},LG=function(a){switch(a){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},sg;(function(a){a.AUTO="auto",a.CONTAIN="contain",a.COVER="cover"})(sg||(sg={}));var FG={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(a,e){return yh(e).map(function(t){return t.filter(PG)})}},PG=function(a){return Ur(a)||uo(a)},Bv=function(a){return{name:"border-"+a+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},DG=Bv("top"),RG=Bv("right"),OG=Bv("bottom"),UG=Bv("left"),Ev=function(a){return{name:"border-radius-"+a,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return xR(t.filter(uo))}}},NG=Ev("top-left"),zG=Ev("top-right"),HG=Ev("bottom-right"),QG=Ev("bottom-left"),kv=function(a){return{name:"border-"+a+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jG=kv("top"),VG=kv("right"),GG=kv("bottom"),WG=kv("left"),Tv=function(a){return{name:"border-"+a+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return J0(t)?t.number:0}}},$G=Tv("top"),XG=Tv("right"),YG=Tv("bottom"),KG=Tv("left"),qG={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZG={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(a,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},JG={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(a,e){return e.filter(Ur).reduce(function(t,i){return t|e9(i.value)},0)}},e9=function(a){switch(a){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},t9={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(a,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},i9={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(a,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},H_;(function(a){a.NORMAL="normal",a.STRICT="strict"})(H_||(H_={}));var n9={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(a,e){switch(e){case"strict":return H_.STRICT;case"normal":default:return H_.NORMAL}}},a9={name:"line-height",initialValue:"normal",prefix:!1,type:4},MM=function(a,e){return Ur(a)&&a.value==="normal"?1.2*e:a.type===17?e*a.number:uo(a)?ns(a,e):e},r9={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(a,e){return e.type===20&&e.value==="none"?null:C2.parse(a,e)}},s9={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(a,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},IC={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(a,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Iv=function(a){return{name:"margin-"+a,initialValue:"0",prefix:!1,type:4}},o9=Iv("top"),l9=Iv("right"),c9=Iv("bottom"),u9=Iv("left"),h9={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(a,e){return e.filter(Ur).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},d9={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(a,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Mv=function(a){return{name:"padding-"+a,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},f9=Mv("top"),A9=Mv("right"),p9=Mv("bottom"),g9=Mv("left"),m9={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(a,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},y9={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(a,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},x9={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,e){return e.length===1&&TC(e[0],"none")?[]:yh(e).map(function(t){for(var i={color:dd.TRANSPARENT,offsetX:Vo,offsetY:Vo,blur:Vo},n=0,r=0;r<t.length;r++){var o=t[r];cf(o)?(n===0?i.offsetX=o:n===1?i.offsetY=o:i.blur=o,n++):i.color=Jd.parse(a,o)}return i})}},_9={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(a,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},v9={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(a,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=C9[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},w9=function(a){var e=a.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},b9=function(a){var e=a.filter(function(u){return u.type===17}).map(function(u){return u.number}),t=e[0],i=e[1];e[2],e[3];var n=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],e.length===16?[t,i,n,r,o,s]:null},C9={matrix:w9,matrix3d:b9},LM={type:16,number:50,flags:Z0},S9=[LM,LM],B9={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(a,e){var t=e.filter(uo);return t.length!==2?S9:[t[0],t[1]]}},E9={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(a,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},d0;(function(a){a.NORMAL="normal",a.BREAK_ALL="break-all",a.KEEP_ALL="keep-all"})(d0||(d0={}));var k9={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(a,e){switch(e){case"break-all":return d0.BREAK_ALL;case"keep-all":return d0.KEEP_ALL;case"normal":default:return d0.NORMAL}}},T9={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(a,e){if(e.type===20)return{auto:!0,order:0};if(Sg(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},DR={name:"time",parse:function(a,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},I9={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(a,e){return Sg(e)?e.number:1}},M9={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},L9={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(a,e){return e.filter(Ur).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},F9={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(a,e){var t=[],i=[];return e.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:i.push(t.join(" ")),t.length=0;break}}),t.length&&i.push(t.join(" ")),i.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},P9={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},D9={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(a,e){if(Sg(e))return e.number;if(Ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},R9={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(a,e){return e.filter(Ur).map(function(t){return t.value})}},O9={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(a,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},go=function(a,e){return(a&e)!==0},U9={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(a,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},N9={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(a,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var i=[],n=e.filter(yR),r=0;r<n.length;r++){var o=n[r],s=n[r+1];if(o.type===20){var u=s&&Sg(s)?s.number:1;i.push({counter:o.value,increment:u})}}return i}},z9={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(a,e){if(e.length===0)return[];for(var t=[],i=e.filter(yR),n=0;n<i.length;n++){var r=i[n],o=i[n+1];if(Ur(r)&&r.value!=="none"){var s=o&&Sg(o)?o.number:0;t.push({counter:r.value,reset:s})}}return t}},H9={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(a,e){return e.filter(J0).map(function(t){return DR.parse(a,t)})}},Q9={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(a,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var i=[],n=e.filter(AG);if(n.length%2!==0)return null;for(var r=0;r<n.length;r+=2){var o=n[r].value,s=n[r+1].value;i.push({open:o,close:s})}return i}},FM=function(a,e,t){if(!a)return"";var i=a[Math.min(e,a.length-1)];return i?t?i.open:i.close:""},j9={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(a,e){return e.length===1&&TC(e[0],"none")?[]:yh(e).map(function(t){for(var i={color:255,offsetX:Vo,offsetY:Vo,blur:Vo,spread:Vo,inset:!1},n=0,r=0;r<t.length;r++){var o=t[r];TC(o,"inset")?i.inset=!0:cf(o)?(n===0?i.offsetX=o:n===1?i.offsetY=o:n===2?i.blur=o:i.spread=o,n++):i.color=Jd.parse(a,o)}return i})}},V9={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(a,e){var t=[0,1,2],i=[];return e.filter(Ur).forEach(function(n){switch(n.value){case"stroke":i.push(1);break;case"fill":i.push(0);break;case"markers":i.push(2);break}}),t.forEach(function(n){i.indexOf(n)===-1&&i.push(n)}),i}},G9={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},W9={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(a,e){return J0(e)?e.number:0}},$9=(function(){function a(e,t){var i,n;this.animationDuration=Pn(e,H9,t.animationDuration),this.backgroundClip=Pn(e,mG,t.backgroundClip),this.backgroundColor=Pn(e,yG,t.backgroundColor),this.backgroundImage=Pn(e,kG,t.backgroundImage),this.backgroundOrigin=Pn(e,TG,t.backgroundOrigin),this.backgroundPosition=Pn(e,IG,t.backgroundPosition),this.backgroundRepeat=Pn(e,MG,t.backgroundRepeat),this.backgroundSize=Pn(e,FG,t.backgroundSize),this.borderTopColor=Pn(e,DG,t.borderTopColor),this.borderRightColor=Pn(e,RG,t.borderRightColor),this.borderBottomColor=Pn(e,OG,t.borderBottomColor),this.borderLeftColor=Pn(e,UG,t.borderLeftColor),this.borderTopLeftRadius=Pn(e,NG,t.borderTopLeftRadius),this.borderTopRightRadius=Pn(e,zG,t.borderTopRightRadius),this.borderBottomRightRadius=Pn(e,HG,t.borderBottomRightRadius),this.borderBottomLeftRadius=Pn(e,QG,t.borderBottomLeftRadius),this.borderTopStyle=Pn(e,jG,t.borderTopStyle),this.borderRightStyle=Pn(e,VG,t.borderRightStyle),this.borderBottomStyle=Pn(e,GG,t.borderBottomStyle),this.borderLeftStyle=Pn(e,WG,t.borderLeftStyle),this.borderTopWidth=Pn(e,$G,t.borderTopWidth),this.borderRightWidth=Pn(e,XG,t.borderRightWidth),this.borderBottomWidth=Pn(e,YG,t.borderBottomWidth),this.borderLeftWidth=Pn(e,KG,t.borderLeftWidth),this.boxShadow=Pn(e,j9,t.boxShadow),this.color=Pn(e,qG,t.color),this.direction=Pn(e,ZG,t.direction),this.display=Pn(e,JG,t.display),this.float=Pn(e,t9,t.cssFloat),this.fontFamily=Pn(e,F9,t.fontFamily),this.fontSize=Pn(e,P9,t.fontSize),this.fontStyle=Pn(e,O9,t.fontStyle),this.fontVariant=Pn(e,R9,t.fontVariant),this.fontWeight=Pn(e,D9,t.fontWeight),this.letterSpacing=Pn(e,i9,t.letterSpacing),this.lineBreak=Pn(e,n9,t.lineBreak),this.lineHeight=Pn(e,a9,t.lineHeight),this.listStyleImage=Pn(e,r9,t.listStyleImage),this.listStylePosition=Pn(e,s9,t.listStylePosition),this.listStyleType=Pn(e,IC,t.listStyleType),this.marginTop=Pn(e,o9,t.marginTop),this.marginRight=Pn(e,l9,t.marginRight),this.marginBottom=Pn(e,c9,t.marginBottom),this.marginLeft=Pn(e,u9,t.marginLeft),this.opacity=Pn(e,I9,t.opacity);var r=Pn(e,h9,t.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=Pn(e,d9,t.overflowWrap),this.paddingTop=Pn(e,f9,t.paddingTop),this.paddingRight=Pn(e,A9,t.paddingRight),this.paddingBottom=Pn(e,p9,t.paddingBottom),this.paddingLeft=Pn(e,g9,t.paddingLeft),this.paintOrder=Pn(e,V9,t.paintOrder),this.position=Pn(e,y9,t.position),this.textAlign=Pn(e,m9,t.textAlign),this.textDecorationColor=Pn(e,M9,(i=t.textDecorationColor)!==null&&i!==void 0?i:t.color),this.textDecorationLine=Pn(e,L9,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=Pn(e,x9,t.textShadow),this.textTransform=Pn(e,_9,t.textTransform),this.transform=Pn(e,v9,t.transform),this.transformOrigin=Pn(e,B9,t.transformOrigin),this.visibility=Pn(e,E9,t.visibility),this.webkitTextStrokeColor=Pn(e,G9,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pn(e,W9,t.webkitTextStrokeWidth),this.wordBreak=Pn(e,k9,t.wordBreak),this.zIndex=Pn(e,T9,t.zIndex)}return a.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},a.prototype.isTransparent=function(){return ef(this.backgroundColor)},a.prototype.isTransformed=function(){return this.transform!==null},a.prototype.isPositioned=function(){return this.position!==0},a.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},a.prototype.isFloating=function(){return this.float!==0},a.prototype.isInlineLevel=function(){return go(this.display,4)||go(this.display,33554432)||go(this.display,268435456)||go(this.display,536870912)||go(this.display,67108864)||go(this.display,134217728)},a})(),X9=(function(){function a(e,t){this.content=Pn(e,U9,t.content),this.quotes=Pn(e,Q9,t.quotes)}return a})(),PM=(function(){function a(e,t){this.counterIncrement=Pn(e,N9,t.counterIncrement),this.counterReset=Pn(e,z9,t.counterReset)}return a})(),Pn=function(a,e,t){var i=new gR,n=t!==null&&typeof t<"u"?t.toString():e.initialValue;i.write(n);var r=new mR(i.read());switch(e.type){case 2:var o=r.parseComponentValue();return e.parse(a,Ur(o)?o.value:e.initialValue);case 0:return e.parse(a,r.parseComponentValue());case 1:return e.parse(a,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return Cv.parse(a,r.parseComponentValue());case"color":return Jd.parse(a,r.parseComponentValue());case"image":return C2.parse(a,r.parseComponentValue());case"length":var s=r.parseComponentValue();return cf(s)?s:Vo;case"length-percentage":var u=r.parseComponentValue();return uo(u)?u:Vo;case"time":return DR.parse(a,r.parseComponentValue())}break}},Y9="data-html2canvas-debug",K9=function(a){var e=a.getAttribute(Y9);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},MC=function(a,e){var t=K9(a);return t===1||e===t},xh=(function(){function a(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,MC(t,3))debugger;this.styles=new $9(e,window.getComputedStyle(t,null)),PC(t)&&(this.styles.animationDuration.some(function(i){return i>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=wv(this.context,t),MC(t,4)&&(this.flags|=16)}return a})(),q9="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",DM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Px=0;Px<DM.length;Px++)jm[DM.charCodeAt(Px)]=Px;var Z9=function(a){var e=a.length*.75,t=a.length,i,n=0,r,o,s,u;a[a.length-1]==="="&&(e--,a[a.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(d)?d:new Uint8Array(d);for(i=0;i<t;i+=4)r=jm[a.charCodeAt(i)],o=jm[a.charCodeAt(i+1)],s=jm[a.charCodeAt(i+2)],u=jm[a.charCodeAt(i+3)],g[n++]=r<<2|o>>4,g[n++]=(o&15)<<4|s>>2,g[n++]=(s&3)<<6|u&63;return d},J9=function(a){for(var e=a.length,t=[],i=0;i<e;i+=2)t.push(a[i+1]<<8|a[i]);return t},eW=function(a){for(var e=a.length,t=[],i=0;i<e;i+=4)t.push(a[i+3]<<24|a[i+2]<<16|a[i+1]<<8|a[i]);return t},BA=5,S2=11,Kb=2,tW=S2-BA,RR=65536>>BA,iW=1<<BA,qb=iW-1,nW=1024>>BA,aW=RR+nW,rW=aW,sW=32,oW=rW+sW,lW=65536>>S2,cW=1<<tW,uW=cW-1,RM=function(a,e,t){return a.slice?a.slice(e,t):new Uint16Array(Array.prototype.slice.call(a,e,t))},hW=function(a,e,t){return a.slice?a.slice(e,t):new Uint32Array(Array.prototype.slice.call(a,e,t))},dW=function(a,e){var t=Z9(a),i=Array.isArray(t)?eW(t):new Uint32Array(t),n=Array.isArray(t)?J9(t):new Uint16Array(t),r=24,o=RM(n,r/2,i[4]/2),s=i[5]===2?RM(n,(r+i[4])/2):hW(i,Math.ceil((r+i[4])/4));return new fW(i[0],i[1],i[2],i[3],o,s)},fW=(function(){function a(e,t,i,n,r,o){this.initialValue=e,this.errorValue=t,this.highStart=i,this.highValueIndex=n,this.index=r,this.data=o}return a.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>BA],t=(t<<Kb)+(e&qb),this.data[t];if(e<=65535)return t=this.index[RR+(e-55296>>BA)],t=(t<<Kb)+(e&qb),this.data[t];if(e<this.highStart)return t=oW-lW+(e>>S2),t=this.index[t],t+=e>>BA&uW,t=this.index[t],t=(t<<Kb)+(e&qb),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},a})(),OM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AW=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dx=0;Dx<OM.length;Dx++)AW[OM.charCodeAt(Dx)]=Dx;var pW=1,Zb=2,Jb=3,UM=4,NM=5,gW=7,zM=8,e1=9,t1=10,HM=11,QM=12,jM=13,VM=14,i1=15,mW=function(a){for(var e=[],t=0,i=a.length;t<i;){var n=a.charCodeAt(t++);if(n>=55296&&n<=56319&&t<i){var r=a.charCodeAt(t++);(r&64512)===56320?e.push(((n&1023)<<10)+(r&1023)+65536):(e.push(n),t--)}else e.push(n)}return e},yW=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,a);var t=a.length;if(!t)return"";for(var i=[],n=-1,r="";++n<t;){var o=a[n];o<=65535?i.push(o):(o-=65536,i.push((o>>10)+55296,o%1024+56320)),(n+1===t||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},xW=dW(q9),$c="",n1="",_W=function(a){return xW.get(a)},vW=function(a,e,t){var i=t-2,n=e[i],r=e[t-1],o=e[t];if(r===Zb&&o===Jb)return $c;if(r===Zb||r===Jb||r===UM||o===Zb||o===Jb||o===UM)return n1;if(r===zM&&[zM,e1,HM,QM].indexOf(o)!==-1||(r===HM||r===e1)&&(o===e1||o===t1)||(r===QM||r===t1)&&o===t1||o===jM||o===NM||o===gW||r===pW)return $c;if(r===jM&&o===VM){for(;n===NM;)n=e[--i];if(n===VM)return $c}if(r===i1&&o===i1){for(var s=0;n===i1;)s++,n=e[--i];if(s%2===0)return $c}return n1},wW=function(a){var e=mW(a),t=e.length,i=0,n=0,r=e.map(_W);return{next:function(){if(i>=t)return{done:!0,value:null};for(var o=$c;i<t&&(o=vW(e,r,++i))===$c;);if(o!==$c||i===t){var s=yW.apply(null,e.slice(n,i));return n=i,{value:s,done:!1}}return{done:!0,value:null}}}},bW=function(a){for(var e=wW(a),t=[],i;!(i=e.next()).done;)i.value&&t.push(i.value.slice());return t},CW=function(a){var e=123;if(a.createRange){var t=a.createRange();if(t.getBoundingClientRect){var i=a.createElement("boundtest");i.style.height=e+"px",i.style.display="block",a.body.appendChild(i),t.selectNode(i);var n=t.getBoundingClientRect(),r=Math.round(n.height);if(a.body.removeChild(i),r===e)return!0}}return!1},SW=function(a){var e=a.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",a.body.appendChild(e);var t=a.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var i=e.firstChild,n=bv(i.data).map(function(u){return Ks(u)}),r=0,o={},s=n.every(function(u,d){t.setStart(i,r),t.setEnd(i,r+u.length);var g=t.getBoundingClientRect();r+=u.length;var x=g.x>o.x||g.y>o.y;return o=g,d===0?!0:x});return a.body.removeChild(e),s},BW=function(){return typeof new Image().crossOrigin<"u"},EW=function(){return typeof new XMLHttpRequest().responseType=="string"},kW=function(a){var e=new Image,t=a.createElement("canvas"),i=t.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},GM=function(a){return a[0]===0&&a[1]===255&&a[2]===0&&a[3]===255},TW=function(a){var e=a.createElement("canvas"),t=100;e.width=t,e.height=t;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,t,t);var n=new Image,r=e.toDataURL();n.src=r;var o=LC(t,t,0,0,n);return i.fillStyle="red",i.fillRect(0,0,t,t),WM(o).then(function(s){i.drawImage(s,0,0);var u=i.getImageData(0,0,t,t).data;i.fillStyle="red",i.fillRect(0,0,t,t);var d=a.createElement("div");return d.style.backgroundImage="url("+r+")",d.style.height=t+"px",GM(u)?WM(LC(t,t,0,0,d)):Promise.reject(!1)}).then(function(s){return i.drawImage(s,0,0),GM(i.getImageData(0,0,t,t).data)}).catch(function(){return!1})},LC=function(a,e,t,i,n){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",a.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},WM=function(a){return new Promise(function(e,t){var i=new Image;i.onload=function(){return e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(a))})},Ho={get SUPPORT_RANGE_BOUNDS(){var a=CW(document);return Object.defineProperty(Ho,"SUPPORT_RANGE_BOUNDS",{value:a}),a},get SUPPORT_WORD_BREAKING(){var a=Ho.SUPPORT_RANGE_BOUNDS&&SW(document);return Object.defineProperty(Ho,"SUPPORT_WORD_BREAKING",{value:a}),a},get SUPPORT_SVG_DRAWING(){var a=kW(document);return Object.defineProperty(Ho,"SUPPORT_SVG_DRAWING",{value:a}),a},get SUPPORT_FOREIGNOBJECT_DRAWING(){var a=typeof Array.from=="function"&&typeof window.fetch=="function"?TW(document):Promise.resolve(!1);return Object.defineProperty(Ho,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:a}),a},get SUPPORT_CORS_IMAGES(){var a=BW();return Object.defineProperty(Ho,"SUPPORT_CORS_IMAGES",{value:a}),a},get SUPPORT_RESPONSE_TYPE(){var a=EW();return Object.defineProperty(Ho,"SUPPORT_RESPONSE_TYPE",{value:a}),a},get SUPPORT_CORS_XHR(){var a="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ho,"SUPPORT_CORS_XHR",{value:a}),a},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var a=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ho,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:a}),a}},f0=(function(){function a(e,t){this.text=e,this.bounds=t}return a})(),IW=function(a,e,t,i){var n=FW(e,t),r=[],o=0;return n.forEach(function(s){if(t.textDecorationLine.length||s.trim().length>0)if(Ho.SUPPORT_RANGE_BOUNDS){var u=$M(i,o,s.length).getClientRects();if(u.length>1){var d=B2(s),g=0;d.forEach(function(b){r.push(new f0(b,gd.fromDOMRectList(a,$M(i,g+o,b.length).getClientRects()))),g+=b.length})}else r.push(new f0(s,gd.fromDOMRectList(a,u)))}else{var x=i.splitText(s.length);r.push(new f0(s,MW(a,i))),i=x}else Ho.SUPPORT_RANGE_BOUNDS||(i=i.splitText(s.length));o+=s.length}),r},MW=function(a,e){var t=e.ownerDocument;if(t){var i=t.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(i,e);var r=wv(a,i);return i.firstChild&&n.replaceChild(i.firstChild,i),r}}return gd.EMPTY},$M=function(a,e,t){var i=a.ownerDocument;if(!i)throw new Error("Node has no owner document");var n=i.createRange();return n.setStart(a,e),n.setEnd(a,e+t),n},B2=function(a){if(Ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(a)).map(function(t){return t.segment})}return bW(a)},LW=function(a,e){if(Ho.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(a)).map(function(i){return i.segment})}return DW(a,e)},FW=function(a,e){return e.letterSpacing!==0?B2(a):LW(a,e)},PW=[32,160,4961,65792,65793,4153,4241],DW=function(a,e){for(var t=l7(a,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),i=[],n,r=function(){if(n.value){var o=n.value.slice(),s=bv(o),u="";s.forEach(function(d){PW.indexOf(d)===-1?u+=Ks(d):(u.length&&i.push(u),i.push(Ks(d)),u="")}),u.length&&i.push(u)}};!(n=t.next()).done;)r();return i},RW=(function(){function a(e,t,i){this.text=OW(t.data,i.textTransform),this.textBounds=IW(e,this.text,i,t)}return a})(),OW=function(a,e){switch(e){case 1:return a.toLowerCase();case 3:return a.replace(UW,NW);case 2:return a.toUpperCase();default:return a}},UW=/(^|\s|:|-|\(|\))([a-z])/g,NW=function(a,e,t){return a.length>0?e+t.toUpperCase():a},OR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.src=i.currentSrc||i.src,n.intrinsicWidth=i.naturalWidth,n.intrinsicHeight=i.naturalHeight,n.context.cache.addImage(n.src),n}return e})(xh),UR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.canvas=i,n.intrinsicWidth=i.width,n.intrinsicHeight=i.height,n}return e})(xh),NR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this,r=new XMLSerializer,o=wv(t,i);return i.setAttribute("width",o.width+"px"),i.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(i)),n.intrinsicWidth=i.width.baseVal.value,n.intrinsicHeight=i.height.baseVal.value,n.context.cache.addImage(n.svg),n}return e})(xh),zR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.value=i.value,n}return e})(xh),FC=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.start=i.start,n.reversed=typeof i.reversed=="boolean"&&i.reversed===!0,n}return e})(xh),zW=[{type:15,flags:0,unit:"px",number:3}],HW=[{type:16,flags:0,number:50}],QW=function(a){return a.width>a.height?new gd(a.left+(a.width-a.height)/2,a.top,a.height,a.height):a.width<a.height?new gd(a.left,a.top+(a.height-a.width)/2,a.width,a.width):a},jW=function(a){var e=a.type===VW?new Array(a.value.length+1).join(""):a.value;return e.length===0?a.placeholder||"":e},Q_="checkbox",j_="radio",VW="password",XM=707406591,E2=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;switch(n.type=i.type.toLowerCase(),n.checked=i.checked,n.value=jW(i),(n.type===Q_||n.type===j_)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=QW(n.bounds)),n.type){case Q_:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=zW;break;case j_:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=HW;break}return n}return e})(xh),HR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this,r=i.options[i.selectedIndex||0];return n.value=r&&r.text||"",n}return e})(xh),QR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.value=i.value,n}return e})(xh),jR=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;n.src=i.src,n.width=parseInt(i.width,10)||0,n.height=parseInt(i.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(i.contentWindow&&i.contentWindow.document&&i.contentWindow.document.documentElement){n.tree=GR(t,i.contentWindow.document.documentElement);var r=i.contentWindow.document.documentElement?h0(t,getComputedStyle(i.contentWindow.document.documentElement).backgroundColor):dd.TRANSPARENT,o=i.contentWindow.document.body?h0(t,getComputedStyle(i.contentWindow.document.body).backgroundColor):dd.TRANSPARENT;n.backgroundColor=ef(r)?ef(o)?n.styles.backgroundColor:o:r}}catch{}return n}return e})(xh),GW=["OL","UL","MENU"],r_=function(a,e,t,i){for(var n=e.firstChild,r=void 0;n;n=r)if(r=n.nextSibling,WR(n)&&n.data.trim().length>0)t.textNodes.push(new RW(a,n,t.styles));else if(Vp(n))if(KR(n)&&n.assignedNodes)n.assignedNodes().forEach(function(s){return r_(a,s,t,i)});else{var o=VR(a,n);o.styles.isVisible()&&(WW(n,o,i)?o.flags|=4:$W(o.styles)&&(o.flags|=2),GW.indexOf(n.tagName)!==-1&&(o.flags|=8),t.elements.push(o),n.slot,n.shadowRoot?r_(a,n.shadowRoot,o,i):!V_(n)&&!$R(n)&&!G_(n)&&r_(a,n,o,i))}},VR=function(a,e){return DC(e)?new OR(a,e):XR(e)?new UR(a,e):$R(e)?new NR(a,e):XW(e)?new zR(a,e):YW(e)?new FC(a,e):KW(e)?new E2(a,e):G_(e)?new HR(a,e):V_(e)?new QR(a,e):YR(e)?new jR(a,e):new xh(a,e)},GR=function(a,e){var t=VR(a,e);return t.flags|=4,r_(a,e,t,t),t},WW=function(a,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||k2(a)&&t.styles.isTransparent()},$W=function(a){return a.isPositioned()||a.isFloating()},WR=function(a){return a.nodeType===Node.TEXT_NODE},Vp=function(a){return a.nodeType===Node.ELEMENT_NODE},PC=function(a){return Vp(a)&&typeof a.style<"u"&&!s_(a)},s_=function(a){return typeof a.className=="object"},XW=function(a){return a.tagName==="LI"},YW=function(a){return a.tagName==="OL"},KW=function(a){return a.tagName==="INPUT"},qW=function(a){return a.tagName==="HTML"},$R=function(a){return a.tagName==="svg"},k2=function(a){return a.tagName==="BODY"},XR=function(a){return a.tagName==="CANVAS"},YM=function(a){return a.tagName==="VIDEO"},DC=function(a){return a.tagName==="IMG"},YR=function(a){return a.tagName==="IFRAME"},KM=function(a){return a.tagName==="STYLE"},ZW=function(a){return a.tagName==="SCRIPT"},V_=function(a){return a.tagName==="TEXTAREA"},G_=function(a){return a.tagName==="SELECT"},KR=function(a){return a.tagName==="SLOT"},qM=function(a){return a.tagName.indexOf("-")>0},JW=(function(){function a(){this.counters={}}return a.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},a.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},a.prototype.pop=function(e){var t=this;e.forEach(function(i){return t.counters[i].pop()})},a.prototype.parse=function(e){var t=this,i=e.counterIncrement,n=e.counterReset,r=!0;i!==null&&i.forEach(function(s){var u=t.counters[s.counter];u&&s.increment!==0&&(r=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=s.increment)});var o=[];return r&&n.forEach(function(s){var u=t.counters[s.counter];o.push(s.counter),u||(u=t.counters[s.counter]=[]),u.push(s.reset)}),o},a})(),ZM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},JM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},e$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},t$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ep=function(a,e,t,i,n,r){return a<e||a>t?R0(a,n,r.length>0):i.integers.reduce(function(o,s,u){for(;a>=s;)a-=s,o+=i.values[u];return o},"")+r},qR=function(a,e,t,i){var n="";do t||a--,n=i(a)+n,a/=e;while(a*e>=e);return n},Xs=function(a,e,t,i,n){var r=t-e+1;return(a<0?"-":"")+(qR(Math.abs(a),r,i,function(o){return Ks(Math.floor(o%r)+e)})+n)},Gf=function(a,e,t){t===void 0&&(t=". ");var i=e.length;return qR(Math.abs(a),i,!1,function(n){return e[Math.floor(n%i)]})+t},Up=1,Ld=2,Fd=4,Vm=8,Xh=function(a,e,t,i,n,r){if(a<-9999||a>9999)return R0(a,4,n.length>0);var o=Math.abs(a),s=n;if(o===0)return e[0]+s;for(var u=0;o>0&&u<=4;u++){var d=o%10;d===0&&go(r,Up)&&s!==""?s=e[d]+s:d>1||d===1&&u===0||d===1&&u===1&&go(r,Ld)||d===1&&u===1&&go(r,Fd)&&a>100||d===1&&u>1&&go(r,Vm)?s=e[d]+(u>0?t[u-1]:"")+s:d===1&&u>0&&(s=t[u-1]+s),o=Math.floor(o/10)}return(a<0?i:"")+s},eL="",tL="",iL="",a1="",R0=function(a,e,t){var i=t?". ":"",n=t?"":"",r=t?", ":"",o=t?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=Xs(a,48,57,!0,i);return s.length<4?"0"+s:s;case 4:return Gf(a,"",n);case 6:return Ep(a,1,3999,ZM,3,i).toLowerCase();case 7:return Ep(a,1,3999,ZM,3,i);case 8:return Xs(a,945,969,!1,i);case 9:return Xs(a,97,122,!1,i);case 10:return Xs(a,65,90,!1,i);case 11:return Xs(a,1632,1641,!0,i);case 12:case 49:return Ep(a,1,9999,JM,3,i);case 35:return Ep(a,1,9999,JM,3,i).toLowerCase();case 13:return Xs(a,2534,2543,!0,i);case 14:case 30:return Xs(a,6112,6121,!0,i);case 15:return Gf(a,"",n);case 16:return Gf(a,"",n);case 17:case 48:return Xh(a,"",eL,"",n,Ld|Fd|Vm);case 47:return Xh(a,"",tL,"",n,Up|Ld|Fd|Vm);case 42:return Xh(a,"",eL,"",n,Ld|Fd|Vm);case 41:return Xh(a,"",tL,"",n,Up|Ld|Fd|Vm);case 26:return Xh(a,"","",iL,n,0);case 25:return Xh(a,"","",iL,n,Up|Ld|Fd);case 31:return Xh(a,"","",a1,r,Up|Ld|Fd);case 33:return Xh(a,"","",a1,r,0);case 32:return Xh(a,"","",a1,r,Up|Ld|Fd);case 18:return Xs(a,2406,2415,!0,i);case 20:return Ep(a,1,19999,t$,3,i);case 21:return Xs(a,2790,2799,!0,i);case 22:return Xs(a,2662,2671,!0,i);case 22:return Ep(a,1,10999,e$,3,i);case 23:return Gf(a,"");case 24:return Gf(a,"");case 27:return Xs(a,3302,3311,!0,i);case 28:return Gf(a,"",n);case 29:return Gf(a,"",n);case 34:return Xs(a,3792,3801,!0,i);case 37:return Xs(a,6160,6169,!0,i);case 38:return Xs(a,4160,4169,!0,i);case 39:return Xs(a,2918,2927,!0,i);case 40:return Xs(a,1776,1785,!0,i);case 43:return Xs(a,3046,3055,!0,i);case 44:return Xs(a,3174,3183,!0,i);case 45:return Xs(a,3664,3673,!0,i);case 46:return Xs(a,3872,3881,!0,i);case 3:default:return Xs(a,48,57,!0,i)}},ZR="data-html2canvas-ignore",nL=(function(){function a(e,t,i){if(this.context=e,this.options=i,this.scrolledElements=[],this.referenceElement=t,this.counters=new JW,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return a.prototype.toIFrame=function(e,t){var i=this,n=i$(e,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var r=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=n.contentWindow,u=s.document,d=r$(n).then(function(){return bl(i,void 0,void 0,function(){var g,x;return al(this,function(b){switch(b.label){case 0:return this.scrolledElements.forEach(c$),s&&(s.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==t.top||s.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-t.left,s.scrollY-t.top,0,0))),g=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:b.sent(),b.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,a$(u)]:[3,4];case 3:b.sent(),b.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(u,x)}).then(function(){return n})]:[2,n]}})})});return u.open(),u.write(o$(document.doctype)+"<html></html>"),l$(this.referenceElement.ownerDocument,r,o),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),d},a.prototype.createElementClone=function(e){if(MC(e,2))debugger;if(XR(e))return this.createCanvasClone(e);if(YM(e))return this.createVideoClone(e);if(KM(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return DC(t)&&(DC(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),qM(t)?this.createCustomElementClone(t):t},a.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return r1(e.style,t),t},a.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var i=[].slice.call(t.cssRules,0).reduce(function(r,o){return o&&typeof o.cssText=="string"?r+o.cssText:r},""),n=e.cloneNode(!1);return n.textContent=i,n}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),r.name!=="SecurityError")throw r}return e.cloneNode(!1)},a.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var i=e.ownerDocument.createElement("img");try{return i.src=e.toDataURL(),i}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&r)o.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var s=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(s){var u=s.getContextAttributes();u?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},a.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var i=t.getContext("2d");try{return i&&(i.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||i.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},a.prototype.appendChildNode=function(e,t,i){(!Vp(t)||!ZW(t)&&!t.hasAttribute(ZR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Vp(t)||!KM(t))&&e.appendChild(this.cloneNode(t,i))},a.prototype.cloneChildNodes=function(e,t,i){for(var n=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(Vp(r)&&KR(r)&&typeof r.assignedNodes=="function"){var o=r.assignedNodes();o.length&&o.forEach(function(s){return n.appendChildNode(t,s,i)})}else this.appendChildNode(t,r,i)},a.prototype.cloneNode=function(e,t){if(WR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var i=e.ownerDocument.defaultView;if(i&&Vp(e)&&(PC(e)||s_(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=i.getComputedStyle(e),o=i.getComputedStyle(e,":before"),s=i.getComputedStyle(e,":after");this.referenceElement===e&&PC(n)&&(this.clonedReferenceElement=n),k2(n)&&d$(n);var u=this.counters.parse(new PM(this.context,r)),d=this.resolvePseudoContent(e,n,o,A0.BEFORE);qM(e)&&(t=!0),YM(e)||this.cloneChildNodes(e,n,t),d&&n.insertBefore(d,n.firstChild);var g=this.resolvePseudoContent(e,n,s,A0.AFTER);return g&&n.appendChild(g),this.counters.pop(u),(r&&(this.options.copyStyles||s_(e))&&!YR(e)||t)&&r1(r,n),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(V_(e)||G_(e))&&(V_(n)||G_(n))&&(n.value=e.value),n}return e.cloneNode(!1)},a.prototype.resolvePseudoContent=function(e,t,i,n){var r=this;if(i){var o=i.content,s=t.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||i.display==="none")){this.counters.parse(new PM(this.context,i));var u=new X9(this.context,i),d=s.createElement("html2canvaspseudoelement");r1(i,d),u.content.forEach(function(x){if(x.type===0)d.appendChild(s.createTextNode(x.value));else if(x.type===22){var b=s.createElement("img");b.src=x.value,b.style.opacity="1",d.appendChild(b)}else if(x.type===18){if(x.name==="attr"){var S=x.values.filter(Ur);S.length&&d.appendChild(s.createTextNode(e.getAttribute(S[0].value)||""))}else if(x.name==="counter"){var P=x.values.filter(xg),I=P[0],O=P[1];if(I&&Ur(I)){var H=r.counters.getCounterValue(I.value),Q=O&&Ur(O)?IC.parse(r.context,O.value):3;d.appendChild(s.createTextNode(R0(H,Q,!1)))}}else if(x.name==="counters"){var Y=x.values.filter(xg),I=Y[0],Z=Y[1],O=Y[2];if(I&&Ur(I)){var J=r.counters.getCounterValues(I.value),re=O&&Ur(O)?IC.parse(r.context,O.value):3,q=Z&&Z.type===0?Z.value:"",ne=J.map(function(ve){return R0(ve,re,!1)}).join(q);d.appendChild(s.createTextNode(ne))}}}else if(x.type===20)switch(x.value){case"open-quote":d.appendChild(s.createTextNode(FM(u.quotes,r.quoteDepth++,!0)));break;case"close-quote":d.appendChild(s.createTextNode(FM(u.quotes,--r.quoteDepth,!1)));break;default:d.appendChild(s.createTextNode(x.value))}}),d.className=RC+" "+OC;var g=n===A0.BEFORE?" "+RC:" "+OC;return s_(t)?t.className.baseValue+=g:t.className+=g,d}}},a.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},a})(),A0;(function(a){a[a.BEFORE=0]="BEFORE",a[a.AFTER=1]="AFTER"})(A0||(A0={}));var i$=function(a,e){var t=a.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(ZR,"true"),a.body.appendChild(t),t},n$=function(a){return new Promise(function(e){if(a.complete){e();return}if(!a.src){e();return}a.onload=e,a.onerror=e})},a$=function(a){return Promise.all([].slice.call(a.images,0).map(n$))},r$=function(a){return new Promise(function(e,t){var i=a.contentWindow;if(!i)return t("No window assigned for iframe");var n=i.document;i.onload=a.onload=function(){i.onload=a.onload=null;var r=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(r),e(a))},50)}})},s$=["all","d","content"],r1=function(a,e){for(var t=a.length-1;t>=0;t--){var i=a.item(t);s$.indexOf(i)===-1&&e.style.setProperty(i,a.getPropertyValue(i))}return e},o$=function(a){var e="";return a&&(e+="<!DOCTYPE ",a.name&&(e+=a.name),a.internalSubset&&(e+=a.internalSubset),a.publicId&&(e+='"'+a.publicId+'"'),a.systemId&&(e+='"'+a.systemId+'"'),e+=">"),e},l$=function(a,e,t){a&&a.defaultView&&(e!==a.defaultView.pageXOffset||t!==a.defaultView.pageYOffset)&&a.defaultView.scrollTo(e,t)},c$=function(a){var e=a[0],t=a[1],i=a[2];e.scrollLeft=t,e.scrollTop=i},u$=":before",h$=":after",RC="___html2canvas___pseudoelement_before",OC="___html2canvas___pseudoelement_after",aL=`{
    content: "" !important;
    display: none !important;
}`,d$=function(a){f$(a,"."+RC+u$+aL+`
         .`+OC+h$+aL)},f$=function(a,e){var t=a.ownerDocument;if(t){var i=t.createElement("style");i.textContent=e,a.appendChild(i)}},JR=(function(){function a(){}return a.getOrigin=function(e){var t=a._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},a.isSameOrigin=function(e){return a.getOrigin(e)===a._origin},a.setContext=function(e){a._link=e.document.createElement("a"),a._origin=a.getOrigin(e.location.href)},a._origin="about:blank",a})(),A$=(function(){function a(e,t){this.context=e,this._options=t,this._cache={}}return a.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(o1(e)||y$(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},a.prototype.match=function(e){return this._cache[e]},a.prototype.loadImage=function(e){return bl(this,void 0,void 0,function(){var t,i,n,r,o=this;return al(this,function(s){switch(s.label){case 0:return t=JR.isSameOrigin(e),i=!s1(e)&&this._options.useCORS===!0&&Ho.SUPPORT_CORS_IMAGES&&!t,n=!s1(e)&&!t&&!o1(e)&&typeof this._options.proxy=="string"&&Ho.SUPPORT_CORS_XHR&&!i,!t&&this._options.allowTaint===!1&&!s1(e)&&!o1(e)&&!n&&!i?[2]:(r=e,n?[4,this.proxy(r)]:[3,2]);case 1:r=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,d){var g=new Image;g.onload=function(){return u(g)},g.onerror=d,(x$(r)||i)&&(g.crossOrigin="anonymous"),g.src=r,g.complete===!0&&setTimeout(function(){return u(g)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},a.prototype.has=function(e){return typeof this._cache[e]<"u"},a.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},a.prototype.proxy=function(e){var t=this,i=this._options.proxy;if(!i)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise(function(r,o){var s=Ho.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(s==="text")r(u.response);else{var x=new FileReader;x.addEventListener("load",function(){return r(x.result)},!1),x.addEventListener("error",function(b){return o(b)},!1),x.readAsDataURL(u.response)}else o("Failed to proxy resource "+n+" with status code "+u.status)},u.onerror=o;var d=i.indexOf("?")>-1?"&":"?";if(u.open("GET",""+i+d+"url="+encodeURIComponent(e)+"&responseType="+s),s!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=s),t._options.imageTimeout){var g=t._options.imageTimeout;u.timeout=g,u.ontimeout=function(){return o("Timed out ("+g+"ms) proxying "+n)}}u.send()})},a})(),p$=/^data:image\/svg\+xml/i,g$=/^data:image\/.*;base64,/i,m$=/^data:image\/.*/i,y$=function(a){return Ho.SUPPORT_SVG_DRAWING||!_$(a)},s1=function(a){return m$.test(a)},x$=function(a){return g$.test(a)},o1=function(a){return a.substr(0,4)==="blob"},_$=function(a){return a.substr(-3).toLowerCase()==="svg"||p$.test(a)},Bn=(function(){function a(e,t){this.type=0,this.x=e,this.y=t}return a.prototype.add=function(e,t){return new a(this.x+e,this.y+t)},a})(),kp=function(a,e,t){return new Bn(a.x+(e.x-a.x)*t,a.y+(e.y-a.y)*t)},Rx=(function(){function a(e,t,i,n){this.type=1,this.start=e,this.startControl=t,this.endControl=i,this.end=n}return a.prototype.subdivide=function(e,t){var i=kp(this.start,this.startControl,e),n=kp(this.startControl,this.endControl,e),r=kp(this.endControl,this.end,e),o=kp(i,n,e),s=kp(n,r,e),u=kp(o,s,e);return t?new a(this.start,i,o,u):new a(u,s,r,this.end)},a.prototype.add=function(e,t){return new a(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},a.prototype.reverse=function(){return new a(this.end,this.endControl,this.startControl,this.start)},a})(),qc=function(a){return a.type===1},v$=(function(){function a(e){var t=e.styles,i=e.bounds,n=Qm(t.borderTopLeftRadius,i.width,i.height),r=n[0],o=n[1],s=Qm(t.borderTopRightRadius,i.width,i.height),u=s[0],d=s[1],g=Qm(t.borderBottomRightRadius,i.width,i.height),x=g[0],b=g[1],S=Qm(t.borderBottomLeftRadius,i.width,i.height),P=S[0],I=S[1],O=[];O.push((r+u)/i.width),O.push((P+x)/i.width),O.push((o+I)/i.height),O.push((d+b)/i.height);var H=Math.max.apply(Math,O);H>1&&(r/=H,o/=H,u/=H,d/=H,x/=H,b/=H,P/=H,I/=H);var Q=i.width-u,Y=i.height-b,Z=i.width-x,J=i.height-I,re=t.borderTopWidth,q=t.borderRightWidth,ne=t.borderBottomWidth,te=t.borderLeftWidth,he=ns(t.paddingTop,e.bounds.width),ve=ns(t.paddingRight,e.bounds.width),de=ns(t.paddingBottom,e.bounds.width),be=ns(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||o>0?ms(i.left+te/3,i.top+re/3,r-te/3,o-re/3,vr.TOP_LEFT):new Bn(i.left+te/3,i.top+re/3),this.topRightBorderDoubleOuterBox=r>0||o>0?ms(i.left+Q,i.top+re/3,u-q/3,d-re/3,vr.TOP_RIGHT):new Bn(i.left+i.width-q/3,i.top+re/3),this.bottomRightBorderDoubleOuterBox=x>0||b>0?ms(i.left+Z,i.top+Y,x-q/3,b-ne/3,vr.BOTTOM_RIGHT):new Bn(i.left+i.width-q/3,i.top+i.height-ne/3),this.bottomLeftBorderDoubleOuterBox=P>0||I>0?ms(i.left+te/3,i.top+J,P-te/3,I-ne/3,vr.BOTTOM_LEFT):new Bn(i.left+te/3,i.top+i.height-ne/3),this.topLeftBorderDoubleInnerBox=r>0||o>0?ms(i.left+te*2/3,i.top+re*2/3,r-te*2/3,o-re*2/3,vr.TOP_LEFT):new Bn(i.left+te*2/3,i.top+re*2/3),this.topRightBorderDoubleInnerBox=r>0||o>0?ms(i.left+Q,i.top+re*2/3,u-q*2/3,d-re*2/3,vr.TOP_RIGHT):new Bn(i.left+i.width-q*2/3,i.top+re*2/3),this.bottomRightBorderDoubleInnerBox=x>0||b>0?ms(i.left+Z,i.top+Y,x-q*2/3,b-ne*2/3,vr.BOTTOM_RIGHT):new Bn(i.left+i.width-q*2/3,i.top+i.height-ne*2/3),this.bottomLeftBorderDoubleInnerBox=P>0||I>0?ms(i.left+te*2/3,i.top+J,P-te*2/3,I-ne*2/3,vr.BOTTOM_LEFT):new Bn(i.left+te*2/3,i.top+i.height-ne*2/3),this.topLeftBorderStroke=r>0||o>0?ms(i.left+te/2,i.top+re/2,r-te/2,o-re/2,vr.TOP_LEFT):new Bn(i.left+te/2,i.top+re/2),this.topRightBorderStroke=r>0||o>0?ms(i.left+Q,i.top+re/2,u-q/2,d-re/2,vr.TOP_RIGHT):new Bn(i.left+i.width-q/2,i.top+re/2),this.bottomRightBorderStroke=x>0||b>0?ms(i.left+Z,i.top+Y,x-q/2,b-ne/2,vr.BOTTOM_RIGHT):new Bn(i.left+i.width-q/2,i.top+i.height-ne/2),this.bottomLeftBorderStroke=P>0||I>0?ms(i.left+te/2,i.top+J,P-te/2,I-ne/2,vr.BOTTOM_LEFT):new Bn(i.left+te/2,i.top+i.height-ne/2),this.topLeftBorderBox=r>0||o>0?ms(i.left,i.top,r,o,vr.TOP_LEFT):new Bn(i.left,i.top),this.topRightBorderBox=u>0||d>0?ms(i.left+Q,i.top,u,d,vr.TOP_RIGHT):new Bn(i.left+i.width,i.top),this.bottomRightBorderBox=x>0||b>0?ms(i.left+Z,i.top+Y,x,b,vr.BOTTOM_RIGHT):new Bn(i.left+i.width,i.top+i.height),this.bottomLeftBorderBox=P>0||I>0?ms(i.left,i.top+J,P,I,vr.BOTTOM_LEFT):new Bn(i.left,i.top+i.height),this.topLeftPaddingBox=r>0||o>0?ms(i.left+te,i.top+re,Math.max(0,r-te),Math.max(0,o-re),vr.TOP_LEFT):new Bn(i.left+te,i.top+re),this.topRightPaddingBox=u>0||d>0?ms(i.left+Math.min(Q,i.width-q),i.top+re,Q>i.width+q?0:Math.max(0,u-q),Math.max(0,d-re),vr.TOP_RIGHT):new Bn(i.left+i.width-q,i.top+re),this.bottomRightPaddingBox=x>0||b>0?ms(i.left+Math.min(Z,i.width-te),i.top+Math.min(Y,i.height-ne),Math.max(0,x-q),Math.max(0,b-ne),vr.BOTTOM_RIGHT):new Bn(i.left+i.width-q,i.top+i.height-ne),this.bottomLeftPaddingBox=P>0||I>0?ms(i.left+te,i.top+Math.min(J,i.height-ne),Math.max(0,P-te),Math.max(0,I-ne),vr.BOTTOM_LEFT):new Bn(i.left+te,i.top+i.height-ne),this.topLeftContentBox=r>0||o>0?ms(i.left+te+be,i.top+re+he,Math.max(0,r-(te+be)),Math.max(0,o-(re+he)),vr.TOP_LEFT):new Bn(i.left+te+be,i.top+re+he),this.topRightContentBox=u>0||d>0?ms(i.left+Math.min(Q,i.width+te+be),i.top+re+he,Q>i.width+te+be?0:u-te+be,d-(re+he),vr.TOP_RIGHT):new Bn(i.left+i.width-(q+ve),i.top+re+he),this.bottomRightContentBox=x>0||b>0?ms(i.left+Math.min(Z,i.width-(te+be)),i.top+Math.min(Y,i.height+re+he),Math.max(0,x-(q+ve)),b-(ne+de),vr.BOTTOM_RIGHT):new Bn(i.left+i.width-(q+ve),i.top+i.height-(ne+de)),this.bottomLeftContentBox=P>0||I>0?ms(i.left+te+be,i.top+J,Math.max(0,P-(te+be)),I-(ne+de),vr.BOTTOM_LEFT):new Bn(i.left+te+be,i.top+i.height-(ne+de))}return a})(),vr;(function(a){a[a.TOP_LEFT=0]="TOP_LEFT",a[a.TOP_RIGHT=1]="TOP_RIGHT",a[a.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",a[a.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(vr||(vr={}));var ms=function(a,e,t,i,n){var r=4*((Math.sqrt(2)-1)/3),o=t*r,s=i*r,u=a+t,d=e+i;switch(n){case vr.TOP_LEFT:return new Rx(new Bn(a,d),new Bn(a,d-s),new Bn(u-o,e),new Bn(u,e));case vr.TOP_RIGHT:return new Rx(new Bn(a,e),new Bn(a+o,e),new Bn(u,d-s),new Bn(u,d));case vr.BOTTOM_RIGHT:return new Rx(new Bn(u,e),new Bn(u,e+s),new Bn(a+o,d),new Bn(a,d));case vr.BOTTOM_LEFT:default:return new Rx(new Bn(u,d),new Bn(u-o,d),new Bn(a,e+s),new Bn(a,e))}},W_=function(a){return[a.topLeftBorderBox,a.topRightBorderBox,a.bottomRightBorderBox,a.bottomLeftBorderBox]},w$=function(a){return[a.topLeftContentBox,a.topRightContentBox,a.bottomRightContentBox,a.bottomLeftContentBox]},$_=function(a){return[a.topLeftPaddingBox,a.topRightPaddingBox,a.bottomRightPaddingBox,a.bottomLeftPaddingBox]},b$=(function(){function a(e,t,i){this.offsetX=e,this.offsetY=t,this.matrix=i,this.type=0,this.target=6}return a})(),Ox=(function(){function a(e,t){this.path=e,this.target=t,this.type=1}return a})(),C$=(function(){function a(e){this.opacity=e,this.type=2,this.target=6}return a})(),S$=function(a){return a.type===0},eO=function(a){return a.type===1},B$=function(a){return a.type===2},rL=function(a,e){return a.length===e.length?a.some(function(t,i){return t===e[i]}):!1},E$=function(a,e,t,i,n){return a.map(function(r,o){switch(o){case 0:return r.add(e,t);case 1:return r.add(e+i,t);case 2:return r.add(e+i,t+n);case 3:return r.add(e,t+n)}return r})},tO=(function(){function a(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return a})(),iO=(function(){function a(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new v$(this.container),this.container.styles.opacity<1&&this.effects.push(new C$(this.container.styles.opacity)),this.container.styles.transform!==null){var i=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new b$(i,n,r))}if(this.container.styles.overflowX!==0){var o=W_(this.curves),s=$_(this.curves);rL(o,s)?this.effects.push(new Ox(o,6)):(this.effects.push(new Ox(o,2)),this.effects.push(new Ox(s,4)))}}return a.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,i=this.parent,n=this.effects.slice(0);i;){var r=i.effects.filter(function(u){return!eO(u)});if(t||i.container.styles.position!==0||!i.parent){if(n.unshift.apply(n,r),t=[2,3].indexOf(i.container.styles.position)===-1,i.container.styles.overflowX!==0){var o=W_(i.curves),s=$_(i.curves);rL(o,s)||n.unshift(new Ox(s,6))}}else n.unshift.apply(n,r);i=i.parent}return n.filter(function(u){return go(u.target,e)})},a})(),UC=function(a,e,t,i){a.container.elements.forEach(function(n){var r=go(n.flags,4),o=go(n.flags,2),s=new iO(n,a);go(n.styles.display,2048)&&i.push(s);var u=go(n.flags,8)?[]:i;if(r||o){var d=r||n.styles.isPositioned()?t:e,g=new tO(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var x=n.styles.zIndex.order;if(x<0){var b=0;d.negativeZIndex.some(function(P,I){return x>P.element.container.styles.zIndex.order?(b=I,!1):b>0}),d.negativeZIndex.splice(b,0,g)}else if(x>0){var S=0;d.positiveZIndex.some(function(P,I){return x>=P.element.container.styles.zIndex.order?(S=I+1,!1):S>0}),d.positiveZIndex.splice(S,0,g)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else n.styles.isFloating()?d.nonPositionedFloats.push(g):d.nonPositionedInlineLevel.push(g);UC(s,g,r?g:t,u)}else n.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),UC(s,e,t,u);go(n.flags,8)&&nO(n,u)})},nO=function(a,e){for(var t=a instanceof FC?a.start:1,i=a instanceof FC?a.reversed:!1,n=0;n<e.length;n++){var r=e[n];r.container instanceof zR&&typeof r.container.value=="number"&&r.container.value!==0&&(t=r.container.value),r.listValue=R0(t,r.container.styles.listStyleType,!0),t+=i?-1:1}},k$=function(a){var e=new iO(a,null),t=new tO(e),i=[];return UC(e,t,t,i),nO(e.container,i),t},sL=function(a,e){switch(e){case 0:return tu(a.topLeftBorderBox,a.topLeftPaddingBox,a.topRightBorderBox,a.topRightPaddingBox);case 1:return tu(a.topRightBorderBox,a.topRightPaddingBox,a.bottomRightBorderBox,a.bottomRightPaddingBox);case 2:return tu(a.bottomRightBorderBox,a.bottomRightPaddingBox,a.bottomLeftBorderBox,a.bottomLeftPaddingBox);case 3:default:return tu(a.bottomLeftBorderBox,a.bottomLeftPaddingBox,a.topLeftBorderBox,a.topLeftPaddingBox)}},T$=function(a,e){switch(e){case 0:return tu(a.topLeftBorderBox,a.topLeftBorderDoubleOuterBox,a.topRightBorderBox,a.topRightBorderDoubleOuterBox);case 1:return tu(a.topRightBorderBox,a.topRightBorderDoubleOuterBox,a.bottomRightBorderBox,a.bottomRightBorderDoubleOuterBox);case 2:return tu(a.bottomRightBorderBox,a.bottomRightBorderDoubleOuterBox,a.bottomLeftBorderBox,a.bottomLeftBorderDoubleOuterBox);case 3:default:return tu(a.bottomLeftBorderBox,a.bottomLeftBorderDoubleOuterBox,a.topLeftBorderBox,a.topLeftBorderDoubleOuterBox)}},I$=function(a,e){switch(e){case 0:return tu(a.topLeftBorderDoubleInnerBox,a.topLeftPaddingBox,a.topRightBorderDoubleInnerBox,a.topRightPaddingBox);case 1:return tu(a.topRightBorderDoubleInnerBox,a.topRightPaddingBox,a.bottomRightBorderDoubleInnerBox,a.bottomRightPaddingBox);case 2:return tu(a.bottomRightBorderDoubleInnerBox,a.bottomRightPaddingBox,a.bottomLeftBorderDoubleInnerBox,a.bottomLeftPaddingBox);case 3:default:return tu(a.bottomLeftBorderDoubleInnerBox,a.bottomLeftPaddingBox,a.topLeftBorderDoubleInnerBox,a.topLeftPaddingBox)}},M$=function(a,e){switch(e){case 0:return Ux(a.topLeftBorderStroke,a.topRightBorderStroke);case 1:return Ux(a.topRightBorderStroke,a.bottomRightBorderStroke);case 2:return Ux(a.bottomRightBorderStroke,a.bottomLeftBorderStroke);case 3:default:return Ux(a.bottomLeftBorderStroke,a.topLeftBorderStroke)}},Ux=function(a,e){var t=[];return qc(a)?t.push(a.subdivide(.5,!1)):t.push(a),qc(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},tu=function(a,e,t,i){var n=[];return qc(a)?n.push(a.subdivide(.5,!1)):n.push(a),qc(t)?n.push(t.subdivide(.5,!0)):n.push(t),qc(i)?n.push(i.subdivide(.5,!0).reverse()):n.push(i),qc(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},aO=function(a){var e=a.bounds,t=a.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},X_=function(a){var e=a.styles,t=a.bounds,i=ns(e.paddingLeft,t.width),n=ns(e.paddingRight,t.width),r=ns(e.paddingTop,t.width),o=ns(e.paddingBottom,t.width);return t.add(i+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+n),-(e.borderTopWidth+e.borderBottomWidth+r+o))},L$=function(a,e){return a===0?e.bounds:a===2?X_(e):aO(e)},F$=function(a,e){return a===0?e.bounds:a===2?X_(e):aO(e)},l1=function(a,e,t){var i=L$(Np(a.styles.backgroundOrigin,e),a),n=F$(Np(a.styles.backgroundClip,e),a),r=P$(Np(a.styles.backgroundSize,e),t,i),o=r[0],s=r[1],u=Qm(Np(a.styles.backgroundPosition,e),i.width-o,i.height-s),d=D$(Np(a.styles.backgroundRepeat,e),u,r,i,n),g=Math.round(i.left+u[0]),x=Math.round(i.top+u[1]);return[d,g,x,o,s]},Tp=function(a){return Ur(a)&&a.value===sg.AUTO},Nx=function(a){return typeof a=="number"},P$=function(a,e,t){var i=e[0],n=e[1],r=e[2],o=a[0],s=a[1];if(!o)return[0,0];if(uo(o)&&s&&uo(s))return[ns(o,t.width),ns(s,t.height)];var u=Nx(r);if(Ur(o)&&(o.value===sg.CONTAIN||o.value===sg.COVER)){if(Nx(r)){var d=t.width/t.height;return d<r!=(o.value===sg.COVER)?[t.width,t.width/r]:[t.height*r,t.height]}return[t.width,t.height]}var g=Nx(i),x=Nx(n),b=g||x;if(Tp(o)&&(!s||Tp(s))){if(g&&x)return[i,n];if(!u&&!b)return[t.width,t.height];if(b&&u){var S=g?i:n*r,P=x?n:i/r;return[S,P]}var I=g?i:t.width,O=x?n:t.height;return[I,O]}if(u){var H=0,Q=0;return uo(o)?H=ns(o,t.width):uo(s)&&(Q=ns(s,t.height)),Tp(o)?H=Q*r:(!s||Tp(s))&&(Q=H/r),[H,Q]}var Y=null,Z=null;if(uo(o)?Y=ns(o,t.width):s&&uo(s)&&(Z=ns(s,t.height)),Y!==null&&(!s||Tp(s))&&(Z=g&&x?Y/i*n:t.height),Z!==null&&Tp(o)&&(Y=g&&x?Z/n*i:t.width),Y!==null&&Z!==null)return[Y,Z];throw new Error("Unable to calculate background-size for element")},Np=function(a,e){var t=a[e];return typeof t>"u"?a[0]:t},D$=function(a,e,t,i,n){var r=e[0],o=e[1],s=t[0],u=t[1];switch(a){case 2:return[new Bn(Math.round(i.left),Math.round(i.top+o)),new Bn(Math.round(i.left+i.width),Math.round(i.top+o)),new Bn(Math.round(i.left+i.width),Math.round(u+i.top+o)),new Bn(Math.round(i.left),Math.round(u+i.top+o))];case 3:return[new Bn(Math.round(i.left+r),Math.round(i.top)),new Bn(Math.round(i.left+r+s),Math.round(i.top)),new Bn(Math.round(i.left+r+s),Math.round(i.height+i.top)),new Bn(Math.round(i.left+r),Math.round(i.height+i.top))];case 1:return[new Bn(Math.round(i.left+r),Math.round(i.top+o)),new Bn(Math.round(i.left+r+s),Math.round(i.top+o)),new Bn(Math.round(i.left+r+s),Math.round(i.top+o+u)),new Bn(Math.round(i.left+r),Math.round(i.top+o+u))];default:return[new Bn(Math.round(n.left),Math.round(n.top)),new Bn(Math.round(n.left+n.width),Math.round(n.top)),new Bn(Math.round(n.left+n.width),Math.round(n.height+n.top)),new Bn(Math.round(n.left),Math.round(n.height+n.top))]}},R$="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oL="Hidden Text",O$=(function(){function a(e){this._data={},this._document=e}return a.prototype.parseMetrics=function(e,t){var i=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.style.whiteSpace="nowrap",o.appendChild(i),n.src=R$,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(oL)),i.appendChild(r),i.appendChild(n);var s=n.offsetTop-r.offsetTop+2;i.removeChild(r),i.appendChild(this._document.createTextNode(oL)),i.style.lineHeight="normal",n.style.verticalAlign="super";var u=n.offsetTop-i.offsetTop+2;return o.removeChild(i),{baseline:s,middle:u}},a.prototype.getMetrics=function(e,t){var i=e+" "+t;return typeof this._data[i]>"u"&&(this._data[i]=this.parseMetrics(e,t)),this._data[i]},a})(),rO=(function(){function a(e,t){this.context=e,this.options=t}return a})(),U$=1e4,N$=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n._activeEffects=[],n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),i.canvas||(n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px"),n.fontMetrics=new O$(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+i.width+"x"+i.height+") with scale "+i.scale),n}return e.prototype.applyEffects=function(t){for(var i=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return i.applyEffect(n)})},e.prototype.applyEffect=function(t){this.ctx.save(),B$(t)&&(this.ctx.globalAlpha=t.opacity),S$(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),eO(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return bl(this,void 0,void 0,function(){var i;return al(this,function(n){switch(n.label){case 0:return i=t.element.container.styles,i.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return bl(this,void 0,void 0,function(){return al(this,function(i){switch(i.label){case 0:if(go(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return i.sent(),[4,this.renderNodeContent(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,i,n){var r=this;if(i===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var o=B2(t.text);o.reduce(function(s,u){return r.ctx.fillText(u,s,t.bounds.top+n),s+r.ctx.measureText(u).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var i=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=V$(t.fontFamily).join(", "),r=J0(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,i,t.fontWeight,r,n].join(" "),n,r]},e.prototype.renderTextNode=function(t,i){return bl(this,void 0,void 0,function(){var n,r,o,s,u,d,g,x,b=this;return al(this,function(S){return n=this.createFontStyle(i),r=n[0],o=n[1],s=n[2],this.ctx.font=r,this.ctx.direction=i.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(o,s),d=u.baseline,g=u.middle,x=i.paintOrder,t.textBounds.forEach(function(P){x.forEach(function(I){switch(I){case 0:b.ctx.fillStyle=To(i.color),b.renderTextWithLetterSpacing(P,i.letterSpacing,d);var O=i.textShadow;O.length&&P.text.trim().length&&(O.slice(0).reverse().forEach(function(H){b.ctx.shadowColor=To(H.color),b.ctx.shadowOffsetX=H.offsetX.number*b.options.scale,b.ctx.shadowOffsetY=H.offsetY.number*b.options.scale,b.ctx.shadowBlur=H.blur.number,b.renderTextWithLetterSpacing(P,i.letterSpacing,d)}),b.ctx.shadowColor="",b.ctx.shadowOffsetX=0,b.ctx.shadowOffsetY=0,b.ctx.shadowBlur=0),i.textDecorationLine.length&&(b.ctx.fillStyle=To(i.textDecorationColor||i.color),i.textDecorationLine.forEach(function(H){switch(H){case 1:b.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top+d),P.bounds.width,1);break;case 2:b.ctx.fillRect(P.bounds.left,Math.round(P.bounds.top),P.bounds.width,1);break;case 3:b.ctx.fillRect(P.bounds.left,Math.ceil(P.bounds.top+g),P.bounds.width,1);break}}));break;case 1:i.webkitTextStrokeWidth&&P.text.trim().length&&(b.ctx.strokeStyle=To(i.webkitTextStrokeColor),b.ctx.lineWidth=i.webkitTextStrokeWidth,b.ctx.lineJoin=window.chrome?"miter":"round",b.ctx.strokeText(P.text,P.bounds.left,P.bounds.top+d)),b.ctx.strokeStyle="",b.ctx.lineWidth=0,b.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,i,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=X_(t),o=$_(i);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return bl(this,void 0,void 0,function(){var i,n,r,o,s,u,Q,Q,d,g,x,b,Z,S,P,J,I,O,H,Q,Y,Z,J;return al(this,function(re){switch(re.label){case 0:this.applyEffects(t.getEffects(4)),i=t.container,n=t.curves,r=i.styles,o=0,s=i.textNodes,re.label=1;case 1:return o<s.length?(u=s[o],[4,this.renderTextNode(u,r)]):[3,4];case 2:re.sent(),re.label=3;case 3:return o++,[3,1];case 4:if(!(i instanceof OR))return[3,8];re.label=5;case 5:return re.trys.push([5,7,,8]),[4,this.context.cache.match(i.src)];case 6:return Q=re.sent(),this.renderReplacedElement(i,n,Q),[3,8];case 7:return re.sent(),this.context.logger.error("Error loading image "+i.src),[3,8];case 8:if(i instanceof UR&&this.renderReplacedElement(i,n,i.canvas),!(i instanceof NR))return[3,12];re.label=9;case 9:return re.trys.push([9,11,,12]),[4,this.context.cache.match(i.svg)];case 10:return Q=re.sent(),this.renderReplacedElement(i,n,Q),[3,12];case 11:return re.sent(),this.context.logger.error("Error loading svg "+i.svg.substring(0,255)),[3,12];case 12:return i instanceof jR&&i.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:i.backgroundColor,x:0,y:0,width:i.width,height:i.height}),[4,d.render(i.tree)]):[3,14];case 13:g=re.sent(),i.width&&i.height&&this.ctx.drawImage(g,0,0,i.width,i.height,i.bounds.left,i.bounds.top,i.bounds.width,i.bounds.height),re.label=14;case 14:if(i instanceof E2&&(x=Math.min(i.bounds.width,i.bounds.height),i.type===Q_?i.checked&&(this.ctx.save(),this.path([new Bn(i.bounds.left+x*.39363,i.bounds.top+x*.79),new Bn(i.bounds.left+x*.16,i.bounds.top+x*.5549),new Bn(i.bounds.left+x*.27347,i.bounds.top+x*.44071),new Bn(i.bounds.left+x*.39694,i.bounds.top+x*.5649),new Bn(i.bounds.left+x*.72983,i.bounds.top+x*.23),new Bn(i.bounds.left+x*.84,i.bounds.top+x*.34085),new Bn(i.bounds.left+x*.39363,i.bounds.top+x*.79)]),this.ctx.fillStyle=To(XM),this.ctx.fill(),this.ctx.restore()):i.type===j_&&i.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.bounds.left+x/2,i.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=To(XM),this.ctx.fill(),this.ctx.restore())),z$(i)&&i.value.length){switch(b=this.createFontStyle(r),Z=b[0],S=b[1],P=this.fontMetrics.getMetrics(Z,S).baseline,this.ctx.font=Z,this.ctx.fillStyle=To(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Q$(i.styles.textAlign),J=X_(i),I=0,i.styles.textAlign){case 1:I+=J.width/2;break;case 2:I+=J.width;break}O=J.add(I,0,0,-J.height/2+1),this.ctx.save(),this.path([new Bn(J.left,J.top),new Bn(J.left+J.width,J.top),new Bn(J.left+J.width,J.top+J.height),new Bn(J.left,J.top+J.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new f0(i.value,O),r.letterSpacing,P),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!go(i.styles.display,2048))return[3,20];if(i.styles.listStyleImage===null)return[3,19];if(H=i.styles.listStyleImage,H.type!==0)return[3,18];Q=void 0,Y=H.url,re.label=15;case 15:return re.trys.push([15,17,,18]),[4,this.context.cache.match(Y)];case 16:return Q=re.sent(),this.ctx.drawImage(Q,i.bounds.left-(Q.width+10),i.bounds.top),[3,18];case 17:return re.sent(),this.context.logger.error("Error loading list-style-image "+Y),[3,18];case 18:return[3,20];case 19:t.listValue&&i.styles.listStyleType!==-1&&(Z=this.createFontStyle(r)[0],this.ctx.font=Z,this.ctx.fillStyle=To(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",J=new gd(i.bounds.left,i.bounds.top+ns(i.styles.paddingTop,i.bounds.width),i.bounds.width,MM(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new f0(t.listValue,J),r.letterSpacing,MM(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),re.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return bl(this,void 0,void 0,function(){var i,n,H,r,o,H,s,u,H,d,g,H,x,b,H,S,P,H,I,O,H;return al(this,function(Q){switch(Q.label){case 0:if(go(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:Q.sent(),i=0,n=t.negativeZIndex,Q.label=2;case 2:return i<n.length?(H=n[i],[4,this.renderStack(H)]):[3,5];case 3:Q.sent(),Q.label=4;case 4:return i++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:Q.sent(),r=0,o=t.nonInlineLevel,Q.label=7;case 7:return r<o.length?(H=o[r],[4,this.renderNode(H)]):[3,10];case 8:Q.sent(),Q.label=9;case 9:return r++,[3,7];case 10:s=0,u=t.nonPositionedFloats,Q.label=11;case 11:return s<u.length?(H=u[s],[4,this.renderStack(H)]):[3,14];case 12:Q.sent(),Q.label=13;case 13:return s++,[3,11];case 14:d=0,g=t.nonPositionedInlineLevel,Q.label=15;case 15:return d<g.length?(H=g[d],[4,this.renderStack(H)]):[3,18];case 16:Q.sent(),Q.label=17;case 17:return d++,[3,15];case 18:x=0,b=t.inlineLevel,Q.label=19;case 19:return x<b.length?(H=b[x],[4,this.renderNode(H)]):[3,22];case 20:Q.sent(),Q.label=21;case 21:return x++,[3,19];case 22:S=0,P=t.zeroOrAutoZIndexOrTransformedOrOpacity,Q.label=23;case 23:return S<P.length?(H=P[S],[4,this.renderStack(H)]):[3,26];case 24:Q.sent(),Q.label=25;case 25:return S++,[3,23];case 26:I=0,O=t.positiveZIndex,Q.label=27;case 27:return I<O.length?(H=O[I],[4,this.renderStack(H)]):[3,30];case 28:Q.sent(),Q.label=29;case 29:return I++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var i=this;t.forEach(function(n,r){var o=qc(n)?n.start:n;r===0?i.ctx.moveTo(o.x,o.y):i.ctx.lineTo(o.x,o.y),qc(n)&&i.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},e.prototype.renderRepeat=function(t,i,n,r){this.path(t),this.ctx.fillStyle=i,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},e.prototype.resizeImage=function(t,i,n){var r;if(t.width===i&&t.height===n)return t;var o=(r=this.canvas.ownerDocument)!==null&&r!==void 0?r:document,s=o.createElement("canvas");s.width=Math.max(1,i),s.height=Math.max(1,n);var u=s.getContext("2d");return u.drawImage(t,0,0,t.width,t.height,0,0,i,n),s},e.prototype.renderBackgroundImage=function(t){return bl(this,void 0,void 0,function(){var i,n,r,o,s,u;return al(this,function(d){switch(d.label){case 0:i=t.styles.backgroundImage.length-1,n=function(g){var x,b,S,he,nt,je,be,De,ne,P,he,nt,je,be,De,I,O,H,Q,Y,Z,J,re,q,ne,te,he,ve,de,be,De,Ie,nt,je,dt,Mt,We,Pt,Kt,di,It,bt;return al(this,function(mt){switch(mt.label){case 0:if(g.type!==0)return[3,5];x=void 0,b=g.url,mt.label=1;case 1:return mt.trys.push([1,3,,4]),[4,r.context.cache.match(b)];case 2:return x=mt.sent(),[3,4];case 3:return mt.sent(),r.context.logger.error("Error loading background-image "+b),[3,4];case 4:return x&&(S=l1(t,i,[x.width,x.height,x.width/x.height]),he=S[0],nt=S[1],je=S[2],be=S[3],De=S[4],ne=r.ctx.createPattern(r.resizeImage(x,be,De),"repeat"),r.renderRepeat(he,ne,nt,je)),[3,6];case 5:SG(g)?(P=l1(t,i,[null,null,null]),he=P[0],nt=P[1],je=P[2],be=P[3],De=P[4],I=_G(g.angle,be,De),O=I[0],H=I[1],Q=I[2],Y=I[3],Z=I[4],J=document.createElement("canvas"),J.width=be,J.height=De,re=J.getContext("2d"),q=re.createLinearGradient(H,Y,Q,Z),TM(g.stops,O).forEach(function(si){return q.addColorStop(si.stop,To(si.color))}),re.fillStyle=q,re.fillRect(0,0,be,De),be>0&&De>0&&(ne=r.ctx.createPattern(J,"repeat"),r.renderRepeat(he,ne,nt,je))):BG(g)&&(te=l1(t,i,[null,null,null]),he=te[0],ve=te[1],de=te[2],be=te[3],De=te[4],Ie=g.position.length===0?[b2]:g.position,nt=ns(Ie[0],be),je=ns(Ie[Ie.length-1],De),dt=vG(g,nt,je,be,De),Mt=dt[0],We=dt[1],Mt>0&&We>0&&(Pt=r.ctx.createRadialGradient(ve+nt,de+je,0,ve+nt,de+je,Mt),TM(g.stops,Mt*2).forEach(function(si){return Pt.addColorStop(si.stop,To(si.color))}),r.path(he),r.ctx.fillStyle=Pt,Mt!==We?(Kt=t.bounds.left+.5*t.bounds.width,di=t.bounds.top+.5*t.bounds.height,It=We/Mt,bt=1/It,r.ctx.save(),r.ctx.translate(Kt,di),r.ctx.transform(1,0,0,It,0,0),r.ctx.translate(-Kt,-di),r.ctx.fillRect(ve,bt*(de-di)+di,be,De*bt),r.ctx.restore()):r.ctx.fill())),mt.label=6;case 6:return i--,[2]}})},r=this,o=0,s=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<s.length?(u=s[o],[5,n(u)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,i,n){return bl(this,void 0,void 0,function(){return al(this,function(r){return this.path(sL(n,i)),this.ctx.fillStyle=To(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,i,n,r){return bl(this,void 0,void 0,function(){var o,s;return al(this,function(u){switch(u.label){case 0:return i<3?[4,this.renderSolidBorder(t,n,r)]:[3,2];case 1:return u.sent(),[2];case 2:return o=T$(r,n),this.path(o),this.ctx.fillStyle=To(t),this.ctx.fill(),s=I$(r,n),this.path(s),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return bl(this,void 0,void 0,function(){var i,n,r,o,s,u,d,g,x=this;return al(this,function(b){switch(b.label){case 0:return this.applyEffects(t.getEffects(2)),i=t.container.styles,n=!ef(i.backgroundColor)||i.backgroundImage.length,r=[{style:i.borderTopStyle,color:i.borderTopColor,width:i.borderTopWidth},{style:i.borderRightStyle,color:i.borderRightColor,width:i.borderRightWidth},{style:i.borderBottomStyle,color:i.borderBottomColor,width:i.borderBottomWidth},{style:i.borderLeftStyle,color:i.borderLeftColor,width:i.borderLeftWidth}],o=H$(Np(i.backgroundClip,0),t.curves),n||i.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),ef(i.backgroundColor)||(this.ctx.fillStyle=To(i.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:b.sent(),this.ctx.restore(),i.boxShadow.slice(0).reverse().forEach(function(S){x.ctx.save();var P=W_(t.curves),I=S.inset?0:U$,O=E$(P,-I+(S.inset?1:-1)*S.spread.number,(S.inset?1:-1)*S.spread.number,S.spread.number*(S.inset?-2:2),S.spread.number*(S.inset?-2:2));S.inset?(x.path(P),x.ctx.clip(),x.mask(O)):(x.mask(P),x.ctx.clip(),x.path(O)),x.ctx.shadowOffsetX=S.offsetX.number+I,x.ctx.shadowOffsetY=S.offsetY.number,x.ctx.shadowColor=To(S.color),x.ctx.shadowBlur=S.blur.number,x.ctx.fillStyle=S.inset?To(S.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),b.label=2;case 2:s=0,u=0,d=r,b.label=3;case 3:return u<d.length?(g=d[u],g.style!==0&&!ef(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,s,t.curves,2)]:[3,11]):[3,13];case 4:return b.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,s,t.curves,3)];case 6:return b.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,s,t.curves)];case 8:return b.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,s,t.curves)];case 10:b.sent(),b.label=11;case 11:s++,b.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,i,n,r,o){return bl(this,void 0,void 0,function(){var s,u,d,g,x,b,S,P,I,O,H,Q,Y,Z,J,re,J,re;return al(this,function(q){return this.ctx.save(),s=M$(r,n),u=sL(r,n),o===2&&(this.path(u),this.ctx.clip()),qc(u[0])?(d=u[0].start.x,g=u[0].start.y):(d=u[0].x,g=u[0].y),qc(u[1])?(x=u[1].end.x,b=u[1].end.y):(x=u[1].x,b=u[1].y),n===0||n===2?S=Math.abs(d-x):S=Math.abs(g-b),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(u.slice(0,2)),P=i<3?i*3:i*2,I=i<3?i*2:i,o===3&&(P=i,I=i),O=!0,S<=P*2?O=!1:S<=P*2+I?(H=S/(2*P+I),P*=H,I*=H):(Q=Math.floor((S+I)/(P+I)),Y=(S-Q*P)/(Q-1),Z=(S-(Q+1)*P)/Q,I=Z<=0||Math.abs(I-Y)<Math.abs(I-Z)?Y:Z),O&&(o===3?this.ctx.setLineDash([0,P+I]):this.ctx.setLineDash([P,I])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=i):this.ctx.lineWidth=i*2+1.1,this.ctx.strokeStyle=To(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(qc(u[0])&&(J=u[3],re=u[0],this.ctx.beginPath(),this.formatPath([new Bn(J.end.x,J.end.y),new Bn(re.start.x,re.start.y)]),this.ctx.stroke()),qc(u[1])&&(J=u[1],re=u[2],this.ctx.beginPath(),this.formatPath([new Bn(J.end.x,J.end.y),new Bn(re.start.x,re.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return bl(this,void 0,void 0,function(){var i;return al(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=To(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=k$(t),[4,this.renderStack(i)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(rO),z$=function(a){return a instanceof QR||a instanceof HR?!0:a instanceof E2&&a.type!==j_&&a.type!==Q_},H$=function(a,e){switch(a){case 0:return W_(e);case 2:return w$(e);case 1:default:return $_(e)}},Q$=function(a){switch(a){case 1:return"center";case 2:return"right";case 0:default:return"left"}},j$=["-apple-system","system-ui"],V$=function(a){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?a.filter(function(e){return j$.indexOf(e)===-1}):a},G$=(function(a){Mu(e,a);function e(t,i){var n=a.call(this,t,i)||this;return n.canvas=i.canvas?i.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=i,n.canvas.width=Math.floor(i.width*i.scale),n.canvas.height=Math.floor(i.height*i.scale),n.canvas.style.width=i.width+"px",n.canvas.style.height=i.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-i.x,-i.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+i.width+"x"+i.height+" at "+i.x+","+i.y+") with scale "+i.scale),n}return e.prototype.render=function(t){return bl(this,void 0,void 0,function(){var i,n;return al(this,function(r){switch(r.label){case 0:return i=LC(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,W$(i)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=To(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(rO),W$=function(a){return new Promise(function(e,t){var i=new Image;i.onload=function(){e(i)},i.onerror=t,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(a))})},$$=(function(){function a(e){var t=e.id,i=e.enabled;this.id=t,this.enabled=i,this.start=Date.now()}return a.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},a.prototype.getTime=function(){return Date.now()-this.start},a.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mx([this.id,this.getTime()+"ms"],e))},a.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},a.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},a.instances={},a})(),X$=(function(){function a(e,t){var i;this.windowBounds=t,this.instanceName="#"+a.instanceCount++,this.logger=new $$({id:this.instanceName,enabled:e.logging}),this.cache=(i=e.cache)!==null&&i!==void 0?i:new A$(this,e)}return a.instanceCount=1,a})(),Y$=function(a,e){return e===void 0&&(e={}),K$(a,e)};typeof window<"u"&&JR.setContext(window);var K$=function(a,e){return bl(void 0,void 0,void 0,function(){var t,i,n,r,o,s,u,d,g,x,b,S,P,I,O,H,Q,Y,Z,J,q,re,q,ne,te,he,ve,de,be,De,Ie,nt,je,dt,Mt,We,Pt,Kt,di,It;return al(this,function(bt){switch(bt.label){case 0:if(!a||typeof a!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=a.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return n={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,imageTimeout:(te=e.imageTimeout)!==null&&te!==void 0?te:15e3,proxy:e.proxy,useCORS:(he=e.useCORS)!==null&&he!==void 0?he:!1},r=mC({logging:(ve=e.logging)!==null&&ve!==void 0?ve:!0,cache:e.cache},n),o={windowWidth:(de=e.windowWidth)!==null&&de!==void 0?de:i.innerWidth,windowHeight:(be=e.windowHeight)!==null&&be!==void 0?be:i.innerHeight,scrollX:(De=e.scrollX)!==null&&De!==void 0?De:i.pageXOffset,scrollY:(Ie=e.scrollY)!==null&&Ie!==void 0?Ie:i.pageYOffset},s=new gd(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),u=new X$(r,s),d=(nt=e.foreignObjectRendering)!==null&&nt!==void 0?nt:!1,g={allowTaint:(je=e.allowTaint)!==null&&je!==void 0?je:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},u.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),x=new nL(u,a,g),b=x.clonedReferenceElement,b?[4,x.toIFrame(t,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return S=bt.sent(),P=k2(b)||qW(b)?EV(b.ownerDocument):wv(u,b),I=P.width,O=P.height,H=P.left,Q=P.top,Y=q$(u,b,e.backgroundColor),Z={canvas:e.canvas,backgroundColor:Y,scale:(Mt=(dt=e.scale)!==null&&dt!==void 0?dt:i.devicePixelRatio)!==null&&Mt!==void 0?Mt:1,x:((We=e.x)!==null&&We!==void 0?We:0)+H,y:((Pt=e.y)!==null&&Pt!==void 0?Pt:0)+Q,width:(Kt=e.width)!==null&&Kt!==void 0?Kt:Math.ceil(I),height:(di=e.height)!==null&&di!==void 0?di:Math.ceil(O)},d?(u.logger.debug("Document cloned, using foreign object rendering"),q=new G$(u,Z),[4,q.render(b)]):[3,3];case 2:return J=bt.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+H+","+Q+" with size "+I+"x"+O+" using computed rendering"),u.logger.debug("Starting DOM parsing"),re=GR(u,b),Y===re.styles.backgroundColor&&(re.styles.backgroundColor=dd.TRANSPARENT),u.logger.debug("Starting renderer for element at "+Z.x+","+Z.y+" with size "+Z.width+"x"+Z.height),q=new N$(u,Z),[4,q.render(re)];case 4:J=bt.sent(),bt.label=5;case 5:return(!((It=e.removeContainer)!==null&&It!==void 0)||It)&&(nL.destroy(S)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,J]}})})},q$=function(a,e,t){var i=e.ownerDocument,n=i.documentElement?h0(a,getComputedStyle(i.documentElement).backgroundColor):dd.TRANSPARENT,r=i.body?h0(a,getComputedStyle(i.body).backgroundColor):dd.TRANSPARENT,o=typeof t=="string"?h0(a,t):t===null?dd.TRANSPARENT:4294967295;return e===i.documentElement?ef(n)?ef(r)?o:r:n:o};class Z${static CorrectLevel={L:"L",M:"M",Q:"Q",H:"H"};constructor(e,t){typeof t=="string"&&(t={text:t}),this.element=typeof e=="string"?document.getElementById(e):e,this.options=t,this._render()}_render(){if(!this.element||!this.options.text)return;const e=this.options.width||256,t=this.options.height||256,i=this.options.colorDark||"#000000",n=this.options.colorLight||"#ffffff",r=this.options.correctLevel||"H",o=document.createElement("canvas");o.width=e,o.height=t,BV.toCanvas(o,this.options.text,{width:e,margin:0,color:{dark:i,light:n},errorCorrectionLevel:r},s=>{if(s){console.error("QRCode generation error:",s);return}this.element.innerHTML="",this.element.appendChild(o)})}clear(){this.element&&(this.element.innerHTML="")}makeCode(e){this.options.text=e,this._render()}}window.QRCode=Z$;window.html2canvas=Y$;function NC(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,i=Array(e);t<e;t++)i[t]=a[t];return i}function sO(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function wn(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function lL(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,cO(i.key),i)}}function bn(a,e,t){return e&&lL(a.prototype,e),t&&lL(a,t),Object.defineProperty(a,"prototype",{writable:!1}),a}function Gm(a,e){var t=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!t){if(Array.isArray(a)||(t=T2(a))||e){t&&(a=t);var i=0,n=function(){};return{s:n,n:function(){return i>=a.length?{done:!0}:{done:!1,value:a[i++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,o=!0,s=!1;return{s:function(){t=t.call(a)},n:function(){var u=t.next();return o=u.done,u},e:function(u){s=!0,r=u},f:function(){try{o||t.return==null||t.return()}finally{if(s)throw r}}}}function ey(a){var e=oO();return function(){var t,i=K_(a);if(e){var n=K_(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return(function(r,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sO(r)})(this,t)}}function Y_(a,e,t){return(e=cO(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function K_(a){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K_(a)}function ty(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&zC(a,e)}function oO(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(oO=function(){return!!a})()}function cL(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable}))),t.push.apply(t,i)}return t}function ji(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(t),!0).forEach((function(i){Y_(a,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):cL(Object(t)).forEach((function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(t,i))}))}return a}function zC(a,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},zC(a,e)}function lO(a,e){return(function(t){if(Array.isArray(t))return t})(a)||(function(t,i){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,s,u,d=[],g=!0,x=!1;try{if(s=(n=n.call(t)).next,i===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(r=s.call(n)).done)&&(d.push(r.value),d.length!==i);g=!0);}catch(b){x=!0,o=b}finally{try{if(!g&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(x)throw o}}return d}})(a,e)||T2(a,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function yo(a){return(function(e){if(Array.isArray(e))return NC(e)})(a)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(a)||T2(a)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function cO(a){var e=(function(t,i){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)})(a,"string");return typeof e=="symbol"?e:e+""}function El(a){return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(a)}function T2(a,e){if(a){if(typeof a=="string")return NC(a,e);var t={}.toString.call(a).slice(8,-1);return t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set"?Array.from(a):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?NC(a,e):void 0}}var Et=(function(){function a(){wn(this,a)}return bn(a,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),n=e<0?0:255,r=e<0?-1*e:e,o=parseInt(i[0].slice(4),10),s=parseInt(i[1],10),u=parseInt(i[2],10);return"rgb("+(Math.round((n-o)*r)+o)+","+(Math.round((n-s)*r)+s)+","+(Math.round((n-u)*r)+u)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),n=e<0?0:255,r=e<0?-1*e:e,o=i>>16,s=i>>8&255,u=255&i;return"#"+(16777216+65536*(Math.round((n-o)*r)+o)+256*(Math.round((n-s)*r)+s)+(Math.round((n-u)*r)+u)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return a.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&El(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),s=1;s<arguments.length;s++){var u=arguments[s];if(u!=null)for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])}return o});var n=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(r){i.isObject(t[r])&&r in e?n[r]=i.extend(e[r],t[r]):Object.assign(n,Y_({},r,t[r]))})),n}},{key:"extendArray",value:function(e,t){var i=[];return e.map((function(n){i.push(a.extend(t,n))})),e=i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||El(e)!=="object")return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){t=[],i.set(e,t);for(var n=0;n<e.length;n++)t[n]=this.clone(e[n],i)}else if(e instanceof Date)t=new Date(e.getTime());else for(var r in t={},i.set(e,t),e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r],i));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&a.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return a.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,i=e.getRootNode&&e.getRootNode();if(i&&i!==document&&i.host){var n=i.host.getBoundingClientRect();return[n.width,n.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var r=e.clientHeight,o=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[o-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,i){return Array.isArray(i)&&(i=i.reduce((function(n,r){return n.length>r.length?n:r}))),t.length>i.length?t:i}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var n=0;n<i.length;n++)i[n]=parseInt(i[n].length===1?i[n]+i[n]:i[n],16);return t!==void 0&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],n=2*Math.PI/t,r=0;r<t;r++){var o={};o.x=e*Math.sin(r*n),o.y=-e*Math.cos(r*n),i.push(o)}return i}},{key:"polarToCartesian",value:function(e,t,i,n){var r=(n-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=e.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var n=i-e.length+1;n--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"preciseAddition",value:function(e,t){var i=(String(e).split(".")[1]||"").length,n=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(i,n));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,n=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));for(n>1?(e=Math.round(Math.abs(e)*n),t=Math.round(Math.abs(t)*n)):n=1;t;){var r=t;t=e%t,e=r}return e/n}},{key:"getPrimeFactors",value:function(e){for(var t=[],i=2;e>=2;)e%i==0?(t.push(i),e/=i):i++;return t}},{key:"mod",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,n=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*n))%(t=Math.round(Math.abs(t)*n))/n}}]),a})(),Bg=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"animateLine",value:function(e,t,i,n){e.attr(t).animate(n).attr(i)}},{key:"animateMarker",value:function(e,t,i,n){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){n()}))}},{key:"animateRect",value:function(e,t,i,n,r){e.attr(t).animate(n).attr(i).after((function(){return r()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,i=e.realIndex,n=e.j,r=e.fill,o=e.pathFrom,s=e.pathTo,u=e.speed,d=e.delay,g=this.w,x=0;g.config.chart.animations.animateGradually.enabled&&(x=g.config.chart.animations.animateGradually.delay),g.config.chart.animations.dynamicAnimation.enabled&&g.globals.dataChanged&&g.config.chart.type!=="bar"&&(x=0),this.morphSVG(t,i,n,g.config.chart.type!=="line"||g.globals.comboCharts?r:"stroke",o,s,u,d*x)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,n,r,o,s,u){var d=this,g=this.w;r||(r=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var x=function(b){return g.config.chart.type==="radar"&&(s=1),"M 0 ".concat(g.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=x()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=x()),g.globals.shouldAnimate||(s=1),e.plot(r).animate(1,u).plot(r).animate(s,u).plot(o).after((function(){Et.isNumber(i)?i===g.globals.series[g.globals.maxValsInArrayIndex].length-2&&g.globals.shouldAnimate&&d.animationCompleted(e):n!=="none"&&g.globals.shouldAnimate&&(!g.globals.comboCharts&&t===g.globals.series.length-1||g.globals.comboCharts)&&d.animationCompleted(e),d.showDelayedElements()}))}}]),a})();const HC={},uO=[];function Ia(a,e){if(Array.isArray(a))for(const t of a)Ia(t,e);else if(typeof a!="object")hO(Object.getOwnPropertyNames(e)),HC[a]=Object.assign(HC[a]||{},e);else for(const t in a)Ia(t,a[t])}function Gl(a){return HC[a]||{}}function hO(a){uO.push(...a)}function I2(a,e){let t;const i=a.length,n=[];for(t=0;t<i;t++)n.push(e(a[t]));return n}function c1(a){return a%360*Math.PI/180}function Eg(a){return a.charAt(0).toUpperCase()+a.slice(1)}function kg(a,e,t,i){return e!=null&&t!=null||(i=i||a.bbox(),e==null?e=i.width/i.height*t:t==null&&(t=i.height/i.width*e)),{width:e,height:t}}function QC(a,e){const t=a.origin;let i=a.ox!=null?a.ox:a.originX!=null?a.originX:"center",n=a.oy!=null?a.oy:a.originY!=null?a.originY:"center";t!=null&&([i,n]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const r=typeof i=="string",o=typeof n=="string";if(r||o){const{height:s,width:u,x:d,y:g}=e.bbox();r&&(i=i.includes("left")?d:i.includes("right")?d+u:d+u/2),o&&(n=n.includes("top")?g:n.includes("bottom")?g+s:g+s/2)}return[i,n]}const J$=new Set(["desc","metadata","title"]),jC=a=>J$.has(a.nodeName),dO=(a,e,t={})=>{const i={...e};for(const n in i)i[n].valueOf()===t[n]&&delete i[n];Object.keys(i).length?a.node.setAttribute("data-svgjs",JSON.stringify(i)):(a.node.removeAttribute("data-svgjs"),a.node.removeAttribute("svgjs:data"))},M2="http://www.w3.org/2000/svg",u1="http://www.w3.org/2000/xmlns/",Tg="http://www.w3.org/1999/xlink",qa={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function iy(){return qa.window}let L2=class{};const EA={},F2="___SYMBOL___ROOT___";function O0(a,e=M2){return qa.document.createElementNS(e,a)}function Il(a,e=!1){if(a instanceof L2)return a;if(typeof a=="object")return h1(a);if(a==null)return new EA[F2];if(typeof a=="string"&&a.charAt(0)!=="<")return h1(qa.document.querySelector(a));const t=e?qa.document.createElement("div"):O0("svg");return t.innerHTML=a,a=h1(t.firstChild),t.removeChild(t.firstChild),a}function zr(a,e){return e&&(e instanceof qa.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:O0(a)}function Xc(a){if(!a)return null;if(a.instance instanceof L2)return a.instance;if(a.nodeName==="#document-fragment")return new EA.Fragment(a);let e=Eg(a.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":EA[e]||(e="Dom"),new EA[e](a)}let h1=Xc;function Za(a,e=a.name,t=!1){return EA[e]=a,t&&(EA[F2]=a),hO(Object.getOwnPropertyNames(a.prototype)),a}let eX=1e3;function fO(a){return"Svgjs"+Eg(a)+eX++}function AO(a){for(let e=a.children.length-1;e>=0;e--)AO(a.children[e]);return a.id&&(a.id=fO(a.nodeName)),a}function la(a,e){let t,i;for(i=(a=Array.isArray(a)?a:[a]).length-1;i>=0;i--)for(t in e)a[i].prototype[t]=e[t]}function Nr(a){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?a.apply(this,e):a.apply(this,e.slice(0,-1)).attr(t)}}Ia("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const a=this.position();return this.parent().add(this.remove(),a+1),this},backward:function(){const a=this.position();return this.parent().add(this.remove(),a?a-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(a){(a=Il(a)).remove();const e=this.position();return this.parent().add(a,e),this},after:function(a){(a=Il(a)).remove();const e=this.position();return this.parent().add(a,e+1),this},insertBefore:function(a){return(a=Il(a)).before(this),this},insertAfter:function(a){return(a=Il(a)).after(this),this}});const pO=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,tX=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,iX=/rgb\((\d+),(\d+),(\d+)\)/,nX=/(#[a-z_][a-z0-9\-_]*)/i,aX=/\)\s*,?\s*/,rX=/\s/g,uL=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,hL=/^rgb\(/,dL=/^(\s+)?$/,fL=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sX=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,yd=/[\s,]+/,P2=/[MLHVCSQTAZ]/i;function oX(a){const e=Math.round(a),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Ip(a,e){for(let t=e.length;t--;)if(a[e[t]]==null)return!1;return!0}function d1(a,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?a+6*(e-a)*t:t<.5?e:t<2/3?a+(e-a)*(2/3-t)*6:a}Ia("Dom",{classes:function(){const a=this.attr("class");return a==null?[]:a.trim().split(yd)},hasClass:function(a){return this.classes().indexOf(a)!==-1},addClass:function(a){if(!this.hasClass(a)){const e=this.classes();e.push(a),this.attr("class",e.join(" "))}return this},removeClass:function(a){return this.hasClass(a)&&this.attr("class",this.classes().filter((function(e){return e!==a})).join(" ")),this},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)}}),Ia("Dom",{css:function(a,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(i){return!!i.length})).forEach((function(i){const n=i.split(/\s*:\s*/);t[n[0]]=n[1]})),t;if(arguments.length<2){if(Array.isArray(a)){for(const i of a){const n=i;t[i]=this.node.style.getPropertyValue(n)}return t}if(typeof a=="string")return this.node.style.getPropertyValue(a);if(typeof a=="object")for(const i in a)this.node.style.setProperty(i,a[i]==null||dL.test(a[i])?"":a[i])}return arguments.length===2&&this.node.style.setProperty(a,e==null||dL.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Ia("Dom",{data:function(a,e,t){if(a==null)return this.data(I2((function(i,n){let r;const o=i.length,s=[];for(r=0;r<o;r++)n(i[r])&&s.push(i[r]);return s})(this.node.attributes,(i=>i.nodeName.indexOf("data-")===0)),(i=>i.nodeName.slice(5))));if(a instanceof Array){const i={};for(const n of a)i[n]=this.data(n);return i}if(typeof a=="object")for(e in a)this.data(e,a[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+a))}catch{return this.attr("data-"+a)}else this.attr("data-"+a,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Ia("Dom",{remember:function(a,e){if(typeof arguments[0]=="object")for(const t in a)this.remember(t,a[t]);else{if(arguments.length===1)return this.memory()[a];this.memory()[a]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let a=arguments.length-1;a>=0;a--)delete this.memory()[arguments[a]];return this},memory:function(){return this._memory=this._memory||{}}});class Ir{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Ir||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:i,round:n,sin:r,PI:o}=Math;if(e==="vibrant"){const s=24*i()+57,u=38*i()+45,d=360*i();return new Ir(s,u,d,"lch")}if(e==="sine"){const s=n(80*r(2*o*(t=t??i())/.5+.01)+150),u=n(50*r(2*o*t/.5+4.6)+200),d=n(100*r(2*o*t/.5+2.3)+150);return new Ir(s,u,d)}if(e==="pastel"){const s=8*i()+86,u=17*i()+9,d=360*i();return new Ir(s,u,d,"lch")}if(e==="dark"){const s=10+10*i(),u=50*i()+86,d=360*i();return new Ir(s,u,d,"lch")}if(e==="rgb"){const s=255*i(),u=255*i(),d=255*i();return new Ir(s,u,d)}if(e==="lab"){const s=100*i(),u=256*i()-128,d=256*i()-128;return new Ir(s,u,d,"lab")}if(e==="grey"){const s=255*i();return new Ir(s,s,s)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(uL.test(e)||hL.test(e))}cmyk(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((u=>u/255)),s=Math.min(1-n,1-r,1-o);return s===1?new Ir(0,0,0,1,"cmyk"):new Ir((1-n-s)/(1-s),(1-r-s)/(1-s),(1-o-s)/(1-s),s,"cmyk")}hsl(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((b=>b/255)),s=Math.max(n,r,o),u=Math.min(n,r,o),d=(s+u)/2,g=s===u,x=s-u;return new Ir(360*(g?0:s===n?((r-o)/x+(r<o?6:0))/6:s===r?((o-n)/x+2)/6:s===o?((n-r)/x+4)/6:0),100*(g?0:d>.5?x/(2-s-u):x/(s+u)),100*d,"hsl")}init(e=0,t=0,i=0,n=0,r="rgb"){if(e=e||0,this.space)for(const x in this.space)delete this[this.space[x]];if(typeof e=="number")r=typeof n=="string"?n:r,n=typeof n=="string"?0:n,Object.assign(this,{_a:e,_b:t,_c:i,_d:n,space:r});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const x=(function(b,S){const P=Ip(b,"rgb")?{_a:b.r,_b:b.g,_c:b.b,_d:0,space:"rgb"}:Ip(b,"xyz")?{_a:b.x,_b:b.y,_c:b.z,_d:0,space:"xyz"}:Ip(b,"hsl")?{_a:b.h,_b:b.s,_c:b.l,_d:0,space:"hsl"}:Ip(b,"lab")?{_a:b.l,_b:b.a,_c:b.b,_d:0,space:"lab"}:Ip(b,"lch")?{_a:b.l,_b:b.c,_c:b.h,_d:0,space:"lch"}:Ip(b,"cmyk")?{_a:b.c,_b:b.m,_c:b.y,_d:b.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return P.space=S||P.space,P})(e,t);Object.assign(this,x)}else if(typeof e=="string")if(hL.test(e)){const x=e.replace(rX,""),[b,S,P]=iX.exec(x).slice(1,4).map((I=>parseInt(I)));Object.assign(this,{_a:b,_b:S,_c:P,_d:0,space:"rgb"})}else{if(!uL.test(e))throw Error("Unsupported string format, can't construct Color");{const x=I=>parseInt(I,16),[,b,S,P]=tX.exec((function(I){return I.length===4?["#",I.substring(1,2),I.substring(1,2),I.substring(2,3),I.substring(2,3),I.substring(3,4),I.substring(3,4)].join(""):I})(e)).map(x);Object.assign(this,{_a:b,_b:S,_c:P,_d:0,space:"rgb"})}}const{_a:o,_b:s,_c:u,_d:d}=this,g=this.space==="rgb"?{r:o,g:s,b:u}:this.space==="xyz"?{x:o,y:s,z:u}:this.space==="hsl"?{h:o,s,l:u}:this.space==="lab"?{l:o,a:s,b:u}:this.space==="lch"?{l:o,c:s,h:u}:this.space==="cmyk"?{c:o,m:s,y:u,k:d}:{};Object.assign(this,g)}lab(){const{x:e,y:t,z:i}=this.xyz();return new Ir(116*t-16,500*(e-t),200*(t-i),"lab")}lch(){const{l:e,a:t,b:i}=this.lab(),n=Math.sqrt(t**2+i**2);let r=180*Math.atan2(i,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new Ir(e,n,r,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:i,z:n}=this;if(this.space==="lab"||this.space==="lch"){let{l:S,a:P,b:I}=this;if(this.space==="lch"){const{c:re,h:q}=this,ne=Math.PI/180;P=re*Math.cos(ne*q),I=re*Math.sin(ne*q)}const O=(S+16)/116,H=P/500+O,Q=O-I/200,Y=16/116,Z=.008856,J=7.787;t=.95047*(H**3>Z?H**3:(H-Y)/J),i=1*(O**3>Z?O**3:(O-Y)/J),n=1.08883*(Q**3>Z?Q**3:(Q-Y)/J)}const r=3.2406*t+-1.5372*i+-.4986*n,o=-.9689*t+1.8758*i+.0415*n,s=.0557*t+-.204*i+1.057*n,u=Math.pow,d=.0031308,g=r>d?1.055*u(r,1/2.4)-.055:12.92*r,x=o>d?1.055*u(o,1/2.4)-.055:12.92*o,b=s>d?1.055*u(s,1/2.4)-.055:12.92*s;return new Ir(255*g,255*x,255*b)}if(this.space==="hsl"){let{h:t,s:i,l:n}=this;if(t/=360,i/=100,n/=100,i===0)return n*=255,new Ir(n,n,n);const r=n<.5?n*(1+i):n+i-n*i,o=2*n-r,s=255*d1(o,r,t+1/3),u=255*d1(o,r,t),d=255*d1(o,r,t-1/3);return new Ir(s,u,d)}if(this.space==="cmyk"){const{c:t,m:i,y:n,k:r}=this,o=255*(1-Math.min(1,t*(1-r)+r)),s=255*(1-Math.min(1,i*(1-r)+r)),u=255*(1-Math.min(1,n*(1-r)+r));return new Ir(o,s,u)}return this;var e}toArray(){const{_a:e,_b:t,_c:i,_d:n,space:r}=this;return[e,t,i,n,r]}toHex(){const[e,t,i]=this._clamped().map(oX);return`#${e}${t}${i}`}toRgb(){const[e,t,i]=this._clamped();return`rgb(${e},${t},${i})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:i}=this.rgb(),[n,r,o]=[e,t,i].map((O=>O/255)),s=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,u=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,g=(.4124*s+.3576*u+.1805*d)/.95047,x=(.2126*s+.7152*u+.0722*d)/1,b=(.0193*s+.1192*u+.9505*d)/1.08883,S=g>.008856?Math.pow(g,1/3):7.787*g+16/116,P=x>.008856?Math.pow(x,1/3):7.787*x+16/116,I=b>.008856?Math.pow(b,1/3):7.787*b+16/116;return new Ir(S,P,I,"xyz")}_clamped(){const{_a:e,_b:t,_c:i}=this.rgb(),{max:n,min:r,round:o}=Math;return[e,t,i].map((s=>n(0,r(o(s),255))))}}class ur{constructor(...e){this.init(...e)}clone(){return new ur(this)}init(e,t){const r=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=r.x==null?0:r.x,this.y=r.y==null?0:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Yn.isMatrixLike(e)||(e=new Yn(e));const{x:t,y:i}=this;return this.x=e.a*t+e.c*i+e.e,this.y=e.b*t+e.d*i+e.f,this}}function Mp(a,e,t){return Math.abs(e-a)<1e-6}class Yn{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,i=e.flip&&(t||e.flip==="x")?-1:1,n=e.flip&&(t||e.flip==="y")?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,s=e.scale&&e.scale.length?e.scale[0]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleX)?e.scaleX*i:i,u=e.scale&&e.scale.length?e.scale[1]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleY)?e.scaleY*n:n,d=e.shear||0,g=e.rotate||e.theta||0,x=new ur(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),b=x.x,S=x.y,P=new ur(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),I=P.x,O=P.y,H=new ur(e.translate||e.tx||e.translateX,e.ty||e.translateY),Q=H.x,Y=H.y,Z=new ur(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:s,scaleY:u,skewX:r,skewY:o,shear:d,theta:g,rx:Z.x,ry:Z.y,tx:Q,ty:Y,ox:b,oy:S,px:I,py:O}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,i){const n=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,s=e.b*t.c+e.d*t.d,u=e.e+e.a*t.e+e.c*t.f,d=e.f+e.b*t.e+e.d*t.f;return i.a=n,i.b=r,i.c=o,i.d=s,i.e=u,i.f=d,i}around(e,t,i){return this.clone().aroundO(e,t,i)}aroundO(e,t,i){const n=e||0,r=t||0;return this.translateO(-n,-r).lmultiplyO(i).translateO(n,r)}clone(){return new Yn(this)}decompose(e=0,t=0){const i=this.a,n=this.b,r=this.c,o=this.d,s=this.e,u=this.f,d=i*o-n*r,g=d>0?1:-1,x=g*Math.sqrt(i*i+n*n),b=Math.atan2(g*n,g*i),S=180/Math.PI*b,P=Math.cos(b),I=Math.sin(b),O=(i*r+n*o)/d,H=r*x/(O*i-n)||o*x/(O*n+i);return{scaleX:x,scaleY:H,shear:O,rotate:S,translateX:s-e+e*P*x+t*(O*P*x-I*H),translateY:u-t+e*I*x+t*(O*I*x+P*H),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Yn(e);return Mp(this.a,t.a)&&Mp(this.b,t.b)&&Mp(this.c,t.c)&&Mp(this.d,t.d)&&Mp(this.e,t.e)&&Mp(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Yn.fromArray([1,0,0,1,0,0]);return e=e instanceof $o?e.matrixify():typeof e=="string"?Yn.fromArray(e.split(yd).map(parseFloat)):Array.isArray(e)?Yn.fromArray(e):typeof e=="object"&&Yn.isMatrixLike(e)?e:typeof e=="object"?new Yn().transform(e):arguments.length===6?Yn.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,i=this.c,n=this.d,r=this.e,o=this.f,s=e*n-t*i;if(!s)throw new Error("Cannot invert "+this);const u=n/s,d=-t/s,g=-i/s,x=e/s,b=-(u*r+g*o),S=-(d*r+x*o);return this.a=u,this.b=d,this.c=g,this.d=x,this.e=b,this.f=S,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Yn?e:new Yn(e);return Yn.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Yn?e:new Yn(e);return Yn.matrixMultiply(this,t,this)}rotate(e,t,i){return this.clone().rotateO(e,t,i)}rotateO(e,t=0,i=0){e=c1(e);const n=Math.cos(e),r=Math.sin(e),{a:o,b:s,c:u,d,e:g,f:x}=this;return this.a=o*n-s*r,this.b=s*n+o*r,this.c=u*n-d*r,this.d=d*n+u*r,this.e=g*n-x*r+i*r-t*n+t,this.f=x*n+g*r-t*r-i*n+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,i=0,n=0){arguments.length===3&&(n=i,i=t,t=e);const{a:r,b:o,c:s,d:u,e:d,f:g}=this;return this.a=r*e,this.b=o*t,this.c=s*e,this.d=u*t,this.e=d*e-i*e+i,this.f=g*t-n*t+n,this}shear(e,t,i){return this.clone().shearO(e,t,i)}shearO(e,t=0,i=0){const{a:n,b:r,c:o,d:s,e:u,f:d}=this;return this.a=n+r*e,this.c=o+s*e,this.e=u+d*e-i*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,i=0,n=0){arguments.length===3&&(n=i,i=t,t=e),e=c1(e),t=c1(t);const r=Math.tan(e),o=Math.tan(t),{a:s,b:u,c:d,d:g,e:x,f:b}=this;return this.a=s+u*r,this.b=u+s*o,this.c=d+g*r,this.d=g+d*o,this.e=x+b*r-n*r,this.f=b+x*o-i*o,this}skewX(e,t,i){return this.skew(e,0,t,i)}skewY(e,t,i){return this.skew(0,e,t,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Yn.isMatrixLike(e))return new Yn(e).multiplyO(this);const t=Yn.formatTransforms(e),{x:i,y:n}=new ur(t.ox,t.oy).transform(this),r=new Yn().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-i,-n).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(i,n);if(isFinite(t.px)||isFinite(t.py)){const o=new ur(i,n).transform(r),s=isFinite(t.px)?t.px-o.x:0,u=isFinite(t.py)?t.py-o.y:0;r.translateO(s,u)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Dd(){if(!Dd.nodes){const a=Il().size(2,0);a.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),a.attr("focusable","false"),a.attr("aria-hidden","true");const e=a.path().node;Dd.nodes={svg:a,path:e}}if(!Dd.nodes.svg.node.parentNode){const a=qa.document.body||qa.document.documentElement;Dd.nodes.svg.addTo(a)}return Dd.nodes}function gO(a){return!(a.width||a.height||a.x||a.y)}Za(Yn,"Matrix");class zs{constructor(...e){this.init(...e)}addOffset(){return this.x+=qa.window.pageXOffset,this.y+=qa.window.pageYOffset,new zs(this)}init(e){return e=typeof e=="string"?e.split(yd).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return gO(this)}merge(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),n=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-i;return new zs(t,i,n,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Yn||(e=new Yn(e));let t=1/0,i=-1/0,n=1/0,r=-1/0;return[new ur(this.x,this.y),new ur(this.x2,this.y),new ur(this.x,this.y2),new ur(this.x2,this.y2)].forEach((function(o){o=o.transform(e),t=Math.min(t,o.x),i=Math.max(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.y)})),new zs(t,n,i-t,r-n)}}function AL(a,e,t){let i;try{if(i=e(a.node),gO(i)&&(n=a.node)!==qa.document&&!(qa.document.documentElement.contains||function(r){for(;r.parentNode;)r=r.parentNode;return r===qa.document}).call(qa.document.documentElement,n))throw new Error("Element not in the dom")}catch{i=t(a)}var n;return i}Ia({viewbox:{viewbox(a,e,t,i){return a==null?new zs(this.attr("viewBox")):this.attr("viewBox",new zs(a,e,t,i))},zoom(a,e){let{width:t,height:i}=this.attr(["width","height"]);if((t||i)&&typeof t!="string"&&typeof i!="string"||(t=this.node.clientWidth,i=this.node.clientHeight),!t||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const n=this.viewbox(),r=t/n.width,o=i/n.height,s=Math.min(r,o);if(a==null)return s;let u=s/a;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),e=e||new ur(t/2/r+n.x,i/2/o+n.y);const d=new zs(n).transform(new Yn({scale:u,origin:e}));return this.viewbox(d)}}}),Za(zs,"Box");class PA extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}la([PA],{each(a,...e){return typeof a=="function"?this.map(((t,i,n)=>a.call(t,t,i,n))):this.map((t=>t[a](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const lX=["toArray","constructor","each"];function QA(a,e){return new PA(I2((e||qa.document).querySelectorAll(a),(function(t){return Xc(t)})))}PA.extend=function(a){a=a.reduce(((e,t)=>(lX.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...i){return this.each(t,...i)}),e)),{}),la([PA],a)};let cX=0;const mO={};function yO(a){let e=a.getEventHolder();return e===qa.window&&(e=mO),e.events||(e.events={}),e.events}function D2(a){return a.getEventTarget()}function ud(a,e,t,i,n){const r=t.bind(i||a),o=Il(a),s=yO(o),u=D2(o);e=Array.isArray(e)?e:e.split(yd),t._svgjsListenerId||(t._svgjsListenerId=++cX),e.forEach((function(d){const g=d.split(".")[0],x=d.split(".")[1]||"*";s[g]=s[g]||{},s[g][x]=s[g][x]||{},s[g][x][t._svgjsListenerId]=r,u.addEventListener(g,r,n||!1)}))}function iu(a,e,t,i){const n=Il(a),r=yO(n),o=D2(n);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(yd)).forEach((function(s){const u=s&&s.split(".")[0],d=s&&s.split(".")[1];let g,x;if(t)r[u]&&r[u][d||"*"]&&(o.removeEventListener(u,r[u][d||"*"][t],i||!1),delete r[u][d||"*"][t]);else if(u&&d){if(r[u]&&r[u][d]){for(x in r[u][d])iu(o,[u,d].join("."),x);delete r[u][d]}}else if(d)for(s in r)for(g in r[s])d===g&&iu(o,[s,d].join("."));else if(u){if(r[u]){for(g in r[u])iu(o,[u,g].join("."));delete r[u]}}else{for(s in r)iu(o,s);(function(b){let S=b.getEventHolder();S===qa.window&&(S=mO),S.events&&(S.events={})})(n)}}))}class ny extends L2{addEventListener(){}dispatch(e,t,i){return(function(n,r,o,s){const u=D2(n);return r instanceof qa.window.Event||(r=new qa.window.CustomEvent(r,{detail:o,cancelable:!0,...s})),u.dispatchEvent(r),r})(this,e,t,i)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const i=t[e.type];for(const n in i)for(const r in i[n])i[n][r](e);return!e.defaultPrevented}fire(e,t,i){return this.dispatch(e,t,i),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,i){return iu(this,e,t,i),this}on(e,t,i,n){return ud(this,e,t,i,n),this}removeEventListener(){}}function pL(){}Za(ny,"EventTarget");const f1=400,uX=">",hX=0,dX={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class DA extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(yd).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class ya{constructor(...e){this.init(...e)}convert(e){return new ya(this.value,e)}divide(e){return e=new ya(e),new ya(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(pO))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof ya&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new ya(e),new ya(this-e,this.unit||e.unit)}plus(e){return e=new ya(e),new ya(this+e,this.unit||e.unit)}times(e){return e=new ya(e),new ya(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const fX=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),xO=[];class uf extends ny{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Il(e)).removeNamespace&&this.node instanceof qa.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Il(e).put(this,t)}children(){return new PA(I2(this.node.children,(function(e){return Xc(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let i=this.node.cloneNode(e);return t&&(i=AO(i)),new this.constructor(i)}each(e,t){const i=this.children();let n,r;for(n=0,r=i.length;n<r;n++)e.apply(i[n],[n,i]),t&&i[n].each(e,t);return this}element(e,t){return this.put(new uf(O0(e),t))}first(){return Xc(this.node.firstChild)}get(e){return Xc(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=fO(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Xc(this.node.lastChild)}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Xc(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Xc(t.node.parentNode));return t}put(e,t){return e=Il(e),this.add(e,t),e}putIn(e,t){return Il(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Il(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const i=10**e,n=this.attr(t);for(const r in n)typeof n[r]=="number"&&(n[r]=Math.round(n[r]*i)/i);return this.attr(n),this}svg(e,t){return this.xml(e,t,M2)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const i=t.index(this);return t.put(e,i).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let s=this;if(e!=null){if(s=Xc(s.node.cloneNode(!0)),t){const u=e(s);if(s=u||s,u===!1)return""}s.each((function(){const u=e(this),d=u||this;u===!1?this.remove():u&&this!==d&&this.replace(d)}),!0)}return t?s.node.outerHTML:s.node.innerHTML}t=t!=null&&t;const n=O0("wrapper",i),r=qa.document.createDocumentFragment();n.innerHTML=e;for(let s=n.children.length;s--;)r.appendChild(n.firstElementChild);const o=this.parent();return t?this.replace(r)&&o:this.add(r)}}la(uf,{attr:function(a,e,t){if(a==null){a={},e=this.node.attributes;for(const i of e)a[i.nodeName]=fL.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return a}if(a instanceof Array)return a.reduce(((i,n)=>(i[n]=this.attr(n),i)),{});if(typeof a=="object"&&a.constructor===Object)for(e in a)this.attr(e,a[e]);else if(e===null)this.node.removeAttribute(a);else{if(e==null)return(e=this.node.getAttribute(a))==null?dX[a]:fL.test(e)?parseFloat(e):e;typeof(e=xO.reduce(((i,n)=>n(a,i,this)),e))=="number"?e=new ya(e):fX.has(a)&&Ir.isColor(e)?e=new Ir(e):e.constructor===Array&&(e=new DA(e)),a==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,a,e.toString()):this.node.setAttribute(a,e.toString()),!this.rebuild||a!=="font-size"&&a!=="x"||this.rebuild()}return this},find:function(a){return QA(a,this.node)},findOne:function(a){return Xc(this.node.querySelector(a))}}),Za(uf,"Dom");let $o=class extends uf{constructor(a,e){super(a,e),this.dom={},this.node.instance=this,(a.hasAttribute("data-svgjs")||a.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(a.getAttribute("data-svgjs"))??JSON.parse(a.getAttribute("svgjs:data"))??{})}center(a,e){return this.cx(a).cy(e)}cx(a){return a==null?this.x()+this.width()/2:this.x(a-this.width()/2)}cy(a){return a==null?this.y()+this.height()/2:this.y(a-this.height()/2)}defs(){const a=this.root();return a&&a.defs()}dmove(a,e){return this.dx(a).dy(e)}dx(a=0){return this.x(new ya(a).plus(this.x()))}dy(a=0){return this.y(new ya(a).plus(this.y()))}getEventHolder(){return this}height(a){return this.attr("height",a)}move(a,e){return this.x(a).y(e)}parents(a=this.root()){const e=typeof a=="string";e||(a=Il(a));const t=new PA;let i=this;for(;(i=i.parent())&&i.node!==qa.document&&i.nodeName!=="#document-fragment"&&(t.push(i),e||i.node!==a.node)&&(!e||!i.matches(a));)if(i.node===this.root().node)return null;return t}reference(a){if(!(a=this.attr(a)))return null;const e=(a+"").match(nX);return e?Il(e[1]):null}root(){const a=this.parent((function(e){return EA[e]})(F2));return a&&a.root()}setData(a){return this.dom=a,this}size(a,e){const t=kg(this,a,e);return this.width(new ya(t.width)).height(new ya(t.height))}width(a){return this.attr("width",a)}writeDataToDom(){return dO(this,this.dom),super.writeDataToDom()}x(a){return this.attr("x",a)}y(a){return this.attr("y",a)}};la($o,{bbox:function(){const a=AL(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(Dd().svg).show(),i=t.node.getBBox();return t.remove(),i}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new zs(a)},rbox:function(a){const e=AL(this,(i=>i.getBoundingClientRect()),(i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)})),t=new zs(e);return a?t.transform(a.screenCTM().inverseO()):t.addOffset()},inside:function(a,e){const t=this.bbox();return a>t.x&&e>t.y&&a<t.x+t.width&&e<t.y+t.height},point:function(a,e){return new ur(a,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Yn(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const a=this.rect(1,1),e=a.node.getScreenCTM();return a.remove(),new Yn(e)}return new Yn(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Yn}}}),Za($o,"Element");const Cm={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(a,e){return e==="color"?a:a+"-"+e}};["fill","stroke"].forEach((function(a){const e={};let t;e[a]=function(i){if(i===void 0)return this.attr(a);if(typeof i=="string"||i instanceof Ir||Ir.isRgb(i)||i instanceof $o)this.attr(a,i);else for(t=Cm[a].length-1;t>=0;t--)i[Cm[a][t]]!=null&&this.attr(Cm.prefix(a,Cm[a][t]),i[Cm[a][t]]);return this},Ia(["Element","Runner"],e)})),Ia(["Element","Runner"],{matrix:function(a,e,t,i,n,r){return a==null?new Yn(this):this.attr("transform",new Yn(a,e,t,i,n,r))},rotate:function(a,e,t){return this.transform({rotate:a,ox:e,oy:t},!0)},skew:function(a,e,t,i){return arguments.length===1||arguments.length===3?this.transform({skew:a,ox:e,oy:t},!0):this.transform({skew:[a,e],ox:t,oy:i},!0)},shear:function(a,e,t){return this.transform({shear:a,ox:e,oy:t},!0)},scale:function(a,e,t,i){return arguments.length===1||arguments.length===3?this.transform({scale:a,ox:e,oy:t},!0):this.transform({scale:[a,e],ox:t,oy:i},!0)},translate:function(a,e){return this.transform({translate:[a,e]},!0)},relative:function(a,e){return this.transform({relative:[a,e]},!0)},flip:function(a="both",e="center"){return"xybothtrue".indexOf(a)===-1&&(e=a,a="both"),this.transform({flip:a,origin:e},!0)},opacity:function(a){return this.attr("opacity",a)}}),Ia("radius",{radius:function(a,e=a){return(this._element||this).type==="radialGradient"?this.attr("r",new ya(a)):this.rx(a).ry(e)}}),Ia("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(a){return new ur(this.node.getPointAtLength(a))}}),Ia(["Element","Runner"],{font:function(a,e){if(typeof a=="object"){for(e in a)this.font(e,a[e]);return this}return a==="leading"?this.leading(e):a==="anchor"?this.attr("text-anchor",e):a==="size"||a==="family"||a==="weight"||a==="stretch"||a==="variant"||a==="style"?this.attr("font-"+a,e):this.attr(a,e)}});Ia("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(a,e){return a[e]=function(t){return t===null?this.off(e):this.on(e,t),this},a}),{})),Ia("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(aX).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(yd).map((function(i){return parseFloat(i)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Yn.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Yn)},toParent:function(a,e){if(this===a)return this;if(jC(this.node))return this.addTo(a,e);const t=this.screenCTM(),i=a.screenCTM().inverse();return this.addTo(a,e).untransform().transform(i.multiply(t)),this},toRoot:function(a){return this.toParent(this.root(),a)},transform:function(a,e){if(a==null||typeof a=="string"){const i=new Yn(this).decompose();return a==null?i:i[a]}Yn.isMatrixLike(a)||(a={...a,origin:QC(a,this)});const t=new Yn(e===!0?this:e||!1).transform(a);return this.attr("transform",t)}});class Ll extends $o{flatten(){return this.each((function(){if(this instanceof Ll)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(i,n){return n[n.length-i-1].toParent(e,t)})),this.remove()}}Za(Ll,"Container");class Lv extends Ll{constructor(e,t=e){super(zr("defs",e),t)}flatten(){return this}ungroup(){return this}}Za(Lv,"Defs");class Lc extends $o{}function R2(a){return this.attr("rx",a)}function O2(a){return this.attr("ry",a)}function _O(a){return a==null?this.cx()-this.rx():this.cx(a+this.rx())}function vO(a){return a==null?this.cy()-this.ry():this.cy(a+this.ry())}function wO(a){return this.attr("cx",a)}function bO(a){return this.attr("cy",a)}function CO(a){return a==null?2*this.rx():this.rx(new ya(a).divide(2))}function SO(a){return a==null?2*this.ry():this.ry(new ya(a).divide(2))}Za(Lc,"Shape");var AX=Object.freeze({__proto__:null,cx:wO,cy:bO,height:SO,rx:R2,ry:O2,width:CO,x:_O,y:vO});class o_ extends Lc{constructor(e,t=e){super(zr("ellipse",e),t)}size(e,t){const i=kg(this,e,t);return this.rx(new ya(i.width).divide(2)).ry(new ya(i.height).divide(2))}}la(o_,AX),Ia("Container",{ellipse:Nr((function(a=0,e=a){return this.put(new o_).size(a,e).move(0,0)}))}),Za(o_,"Ellipse");class BO extends uf{constructor(e=qa.document.createDocumentFragment()){super(e)}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){const n=new uf(O0("wrapper",i));return n.add(this.node.cloneNode(!0)),n.xml(!1,i)}return super.xml(e,!1,i)}}function EO(a,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new ya(a),fy:new ya(e)}):this.attr({x1:new ya(a),y1:new ya(e)})}function kO(a,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new ya(a),cy:new ya(e)}):this.attr({x2:new ya(a),y2:new ya(e)})}Za(BO,"Fragment");var pX=Object.freeze({__proto__:null,from:EO,to:kO});class p0 extends Ll{constructor(e,t){super(zr(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,i){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,i)}bbox(){return new zs}targets(){return QA("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}la(p0,pX),Ia({Container:{gradient(...a){return this.defs().gradient(...a)}},Defs:{gradient:Nr((function(a,e){return this.put(new p0(a)).update(e)}))}}),Za(p0,"Gradient");class U0 extends Ll{constructor(e,t=e){super(zr("pattern",e),t)}attr(e,t,i){return e==="transform"&&(e="patternTransform"),super.attr(e,t,i)}bbox(){return new zs}targets(){return QA("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ia({Container:{pattern(...a){return this.defs().pattern(...a)}},Defs:{pattern:Nr((function(a,e,t){return this.put(new U0).update(t).attr({x:0,y:0,width:a,height:e,patternUnits:"userSpaceOnUse"})}))}}),Za(U0,"Pattern");let l_=class extends Lc{constructor(a,e=a){super(zr("image",a),e)}load(a,e){if(!a)return this;const t=new qa.window.Image;return ud(t,"load",(function(i){const n=this.parent(U0);this.width()===0&&this.height()===0&&this.size(t.width,t.height),n instanceof U0&&n.width()===0&&n.height()===0&&n.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)}),this),ud(t,"load error",(function(){iu(t)})),this.attr("href",t.src=a,Tg)}};var gL;gL=function(a,e,t){return a!=="fill"&&a!=="stroke"||sX.test(e)&&(e=t.root().defs().image(e)),e instanceof l_&&(e=t.root().defs().pattern(0,0,(i=>{i.add(e)}))),e},xO.push(gL),Ia({Container:{image:Nr((function(a,e){return this.put(new l_).size(0,0).load(a,e)}))}}),Za(l_,"Image");class hf extends DA{bbox(){let e=-1/0,t=-1/0,i=1/0,n=1/0;return this.forEach((function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),i=Math.min(r[0],i),n=Math.min(r[1],n)})),new zs(i,n,e-i,t-n)}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let n=this.length-1;n>=0;n--)this[n]=[this[n][0]+e,this[n][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(yd).map(parseFloat)).length%2!=0&&e.pop();for(let i=0,n=e.length;i<n;i+=2)t.push([e[i],e[i+1]]);return t}size(e,t){let i;const n=this.bbox();for(i=this.length-1;i>=0;i--)n.width&&(this[i][0]=(this[i][0]-n.x)*e/n.width+n.x),n.height&&(this[i][1]=(this[i][1]-n.y)*t/n.height+n.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,i=this.length;t<i;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Yn.isMatrixLike(e)||(e=new Yn(e));for(let t=this.length;t--;){const[i,n]=this[t];this[t][0]=e.a*i+e.c*n+e.e,this[t][1]=e.b*i+e.d*n+e.f}return this}}const gX=hf;var U2=Object.freeze({__proto__:null,MorphArray:gX,height:function(a){const e=this.bbox();return a==null?e.height:this.size(e.width,a)},width:function(a){const e=this.bbox();return a==null?e.width:this.size(a,e.height)},x:function(a){return a==null?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return a==null?this.bbox().y:this.move(this.bbox().x,a)}});let uA=class extends Lc{constructor(a,e=a){super(zr("line",a),e)}array(){return new hf([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(a,e){return this.attr(this.array().move(a,e).toLine())}plot(a,e,t,i){return a==null?this.array():(a=e!==void 0?{x1:a,y1:e,x2:t,y2:i}:new hf(a).toLine(),this.attr(a))}size(a,e){const t=kg(this,a,e);return this.attr(this.array().size(t.width,t.height).toLine())}};la(uA,U2),Ia({Container:{line:Nr((function(...a){return uA.prototype.plot.apply(this.put(new uA),a[0]!=null?a:[0,0,0,0])}))}}),Za(uA,"Line");let c_=class extends Ll{constructor(a,e=a){super(zr("marker",a),e)}height(a){return this.attr("markerHeight",a)}orient(a){return this.attr("orient",a)}ref(a,e){return this.attr("refX",a).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(a){return this.clear(),typeof a=="function"&&a.call(this,this),this}width(a){return this.attr("markerWidth",a)}};function Gp(a,e){return function(t){return t==null?this[a]:(this[a]=t,e&&e.call(this),this)}}Ia({Container:{marker(...a){return this.defs().marker(...a)}},Defs:{marker:Nr((function(a,e,t){return this.put(new c_).size(a,e).ref(a/2,e/2).viewbox(0,0,a,e).attr("orient","auto").update(t)}))},marker:{marker(a,e,t,i){let n=["marker"];return a!=="all"&&n.push(a),n=n.join("-"),a=arguments[1]instanceof c_?arguments[1]:this.defs().marker(e,t,i),this.attr(n,a)}}}),Za(c_,"Marker");const mX={"-":function(a){return a},"<>":function(a){return-Math.cos(a*Math.PI)/2+.5},">":function(a){return Math.sin(a*Math.PI/2)},"<":function(a){return 1-Math.cos(a*Math.PI/2)},bezier:function(a,e,t,i){return function(n){return n<0?a>0?e/a*n:t>0?i/t*n:0:n>1?t<1?(1-i)/(1-t)*n+(i-t)/(1-t):a<1?(1-e)/(1-a)*n+(e-a)/(1-a):1:3*n*(1-n)**2*e+3*n**2*(1-n)*i+n**3}},steps:function(a,e="end"){e=e.split("-").reverse()[0];let t=a;return e==="none"?--t:e==="both"&&++t,(i,n=!1)=>{let r=Math.floor(i*a);const o=i*r%1==0;return e!=="start"&&e!=="both"||++r,n&&o&&--r,i>=0&&r<0&&(r=0),i<=1&&r>t&&(r=t),r/t}}};class N2{done(){return!1}}class VC extends N2{constructor(e=uX){super(),this.ease=mX[e]||e}step(e,t,i){return typeof e!="number"?i<1?e:t:e+(t-e)*this.ease(i)}}class q_ extends N2{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,i,n){return this.stepper(e,t,i,n)}}function mL(){const a=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,i=Math.log(e/100+1e-10),n=-i/Math.sqrt(t*t+i*i),r=3.9/(n*a);this.d=2*n*r,this.k=r*r}la(class extends q_{constructor(a=500,e=0){super(),this.duration(a).overshoot(e)}step(a,e,t,i){if(typeof a=="string")return a;if(i.done=t===1/0,t===1/0)return e;if(t===0)return a;t>100&&(t=16),t/=1e3;const n=i.velocity||0,r=-this.d*n-this.k*(a-e),o=a+n*t+r*t*t/2;return i.velocity=n+r*t,i.done=Math.abs(e-o)+Math.abs(n)<.002,i.done?e:o}},{duration:Gp("_duration",mL),overshoot:Gp("_overshoot",mL)});la(class extends q_{constructor(a=.1,e=.01,t=0,i=1e3){super(),this.p(a).i(e).d(t).windup(i)}step(a,e,t,i){if(typeof a=="string")return a;if(i.done=t===1/0,t===1/0)return e;if(t===0)return a;const n=e-a;let r=(i.integral||0)+n*t;const o=(n-(i.error||0))/t,s=this._windup;return s!==!1&&(r=Math.max(-s,Math.min(r,s))),i.error=n,i.integral=r,i.done=Math.abs(n)<.001,i.done?e:a+(this.P*n+this.I*r+this.D*o)}},{windup:Gp("_windup"),p:Gp("P"),i:Gp("I"),d:Gp("D")});const yX={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},GC={M:function(a,e,t){return e.x=t.x=a[0],e.y=t.y=a[1],["M",e.x,e.y]},L:function(a,e){return e.x=a[0],e.y=a[1],["L",a[0],a[1]]},H:function(a,e){return e.x=a[0],["H",a[0]]},V:function(a,e){return e.y=a[0],["V",a[0]]},C:function(a,e){return e.x=a[4],e.y=a[5],["C",a[0],a[1],a[2],a[3],a[4],a[5]]},S:function(a,e){return e.x=a[2],e.y=a[3],["S",a[0],a[1],a[2],a[3]]},Q:function(a,e){return e.x=a[2],e.y=a[3],["Q",a[0],a[1],a[2],a[3]]},T:function(a,e){return e.x=a[0],e.y=a[1],["T",a[0],a[1]]},Z:function(a,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(a,e){return e.x=a[5],e.y=a[6],["A",a[0],a[1],a[2],a[3],a[4],a[5],a[6]]}},A1="mlhvqtcsaz".split("");for(let a=0,e=A1.length;a<e;++a)GC[A1[a]]=(function(t){return function(i,n,r){if(t==="H")i[0]=i[0]+n.x;else if(t==="V")i[0]=i[0]+n.y;else if(t==="A")i[5]=i[5]+n.x,i[6]=i[6]+n.y;else for(let o=0,s=i.length;o<s;++o)i[o]=i[o]+(o%2?n.y:n.x);return GC[t](i,n,r)}})(A1[a].toUpperCase());function WC(a){return a.segment.length&&a.segment.length-1===yX[a.segment[0].toUpperCase()]}function xX(a,e){a.inNumber&&Jf(a,!1);const t=P2.test(e);if(t)a.segment=[e];else{const i=a.lastCommand,n=i.toLowerCase(),r=i===n;a.segment=[n==="m"?r?"l":"L":i]}return a.inSegment=!0,a.lastCommand=a.segment[0],t}function Jf(a,e){if(!a.inNumber)throw new Error("Parser Error");a.number&&a.segment.push(parseFloat(a.number)),a.inNumber=e,a.number="",a.pointSeen=!1,a.hasExponent=!1,WC(a)&&$C(a)}function $C(a){a.inSegment=!1,a.absolute&&(a.segment=(function(e){const t=e.segment[0];return GC[t](e.segment.slice(1),e.p,e.p0)})(a)),a.segments.push(a.segment)}function _X(a){if(!a.segment.length)return!1;const e=a.segment[0].toUpperCase()==="A",t=a.segment.length;return e&&(t===4||t===5)}function vX(a){return a.lastToken.toUpperCase()==="E"}const wX=new Set([" ",",","	",`
`,"\r","\f"]);class Eu extends DA{bbox(){return Dd().path.setAttribute("d",this.toString()),new zs(Dd.nodes.path.getBBox())}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let n,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]+=e,this[r][2]+=t):n==="H"?this[r][1]+=e:n==="V"?this[r][1]+=t:n==="C"||n==="S"||n==="Q"?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,n==="C"&&(this[r][5]+=e,this[r][6]+=t)):n==="A"&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,i=!0){let n=0,r="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new ur,p:new ur};for(;o.lastToken=r,r=t.charAt(n++);)if(o.inSegment||!xX(o,r))if(r!==".")if(isNaN(parseInt(r)))if(wX.has(r))o.inNumber&&Jf(o,!1);else if(r!=="-"&&r!=="+")if(r.toUpperCase()!=="E"){if(P2.test(r)){if(o.inNumber)Jf(o,!1);else{if(!WC(o))throw new Error("parser Error");$C(o)}--n}}else o.number+=r,o.hasExponent=!0;else{if(o.inNumber&&!vX(o)){Jf(o,!1),--n;continue}o.number+=r,o.inNumber=!0}else{if(o.number==="0"||_X(o)){o.inNumber=!0,o.number=r,Jf(o,!0);continue}o.inNumber=!0,o.number+=r}else{if(o.pointSeen||o.hasExponent){Jf(o,!1),--n;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=r}return o.inNumber&&Jf(o,!1),o.inSegment&&WC(o)&&$C(o),o.segments})(e)}size(e,t){const i=this.bbox();let n,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y):r==="H"?this[n][1]=(this[n][1]-i.x)*e/i.width+i.x:r==="V"?this[n][1]=(this[n][1]-i.y)*t/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[n][1]=(this[n][1]-i.x)*e/i.width+i.x,this[n][2]=(this[n][2]-i.y)*t/i.height+i.y,this[n][3]=(this[n][3]-i.x)*e/i.width+i.x,this[n][4]=(this[n][4]-i.y)*t/i.height+i.y,r==="C"&&(this[n][5]=(this[n][5]-i.x)*e/i.width+i.x,this[n][6]=(this[n][6]-i.y)*t/i.height+i.y)):r==="A"&&(this[n][1]=this[n][1]*e/i.width,this[n][2]=this[n][2]*t/i.height,this[n][6]=(this[n][6]-i.x)*e/i.width+i.x,this[n][7]=(this[n][7]-i.y)*t/i.height+i.y);return this}toString(){return(function(e){let t="";for(let i=0,n=e.length;i<n;i++)t+=e[i][0],e[i][1]!=null&&(t+=e[i][1],e[i][2]!=null&&(t+=" ",t+=e[i][2],e[i][3]!=null&&(t+=" ",t+=e[i][3],t+=" ",t+=e[i][4],e[i][5]!=null&&(t+=" ",t+=e[i][5],t+=" ",t+=e[i][6],e[i][7]!=null&&(t+=" ",t+=e[i][7])))));return t+" "})(this)}}const TO=a=>{const e=typeof a;return e==="number"?ya:e==="string"?Ir.isColor(a)?Ir:yd.test(a)?P2.test(a)?Eu:DA:pO.test(a)?ya:XC:YC.indexOf(a.constructor)>-1?a.constructor:Array.isArray(a)?DA:e==="object"?N0:XC};class eA{constructor(e){this._stepper=e||new VC("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(TO(e));let t=new this._type(e);return this._type===Ir&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===N0&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(i){return i.done=!0,i})),t}}class XC{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class ay{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,ay.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}ay.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const bX=(a,e)=>a[0]<e[0]?-1:a[0]>e[0]?1:0;class N0{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let i=0,n=t.length;i<n;++i){if(t[i+1]===e[i+1]){if(t[i+1]===Ir&&e[i+7]!==t[i+7]){const s=e[i+7],u=new Ir(this.values.splice(i+3,5))[s]().toArray();this.values.splice(i+3,0,...u)}i+=t[i+2]+2;continue}if(!e[i+1])return this;const r=new e[i+1]().toArray(),o=t[i+2]+3;t.splice(i,o,e[i],e[i+1],e[i+2],...r),i+=t[i+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const i in e){const n=TO(e[i]),r=new n(e[i]).toArray();t.push([i,n,r.length,...r])}return t.sort(bX),this.values=t.reduce(((i,n)=>i.concat(n)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const i=t.shift(),n=t.shift(),r=t.shift(),o=t.splice(0,r);e[i]=new n(o)}return e}}const YC=[XC,ay,N0];class og extends Lc{constructor(e,t=e){super(zr("path",e),t)}array(){return this._array||(this._array=new Eu(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Eu(e))}size(e,t){const i=kg(this,e,t);return this.attr("d",this.array().size(i.width,i.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}og.prototype.MorphArray=Eu,Ia({Container:{path:Nr((function(a){return this.put(new og).plot(a||new Eu)}))}}),Za(og,"Path");var IO=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new hf(this.attr("points")))},clear:function(){return delete this._array,this},move:function(a,e){return this.attr("points",this.array().move(a,e))},plot:function(a){return a==null?this.array():this.clear().attr("points",typeof a=="string"?a:this._array=new hf(a))},size:function(a,e){const t=kg(this,a,e);return this.attr("points",this.array().size(t.width,t.height))}});class hA extends Lc{constructor(e,t=e){super(zr("polygon",e),t)}}Ia({Container:{polygon:Nr((function(a){return this.put(new hA).plot(a||new hf)}))}}),la(hA,U2),la(hA,IO),Za(hA,"Polygon");class dA extends Lc{constructor(e,t=e){super(zr("polyline",e),t)}}Ia({Container:{polyline:Nr((function(a){return this.put(new dA).plot(a||new hf)}))}}),la(dA,U2),la(dA,IO),Za(dA,"Polyline");class u_ extends Lc{constructor(e,t=e){super(zr("rect",e),t)}}la(u_,{rx:R2,ry:O2}),Ia({Container:{rect:Nr((function(a,e){return this.put(new u_).size(a,e)}))}}),Za(u_,"Rect");class p1{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const _r={nextDraw:null,frames:new p1,timeouts:new p1,immediates:new p1,timer:()=>qa.window.performance||qa.window.Date,transforms:[],frame(a){const e=_r.frames.push({run:a});return _r.nextDraw===null&&(_r.nextDraw=qa.window.requestAnimationFrame(_r._draw)),e},timeout(a,e){e=e||0;const t=_r.timer().now()+e,i=_r.timeouts.push({run:a,time:t});return _r.nextDraw===null&&(_r.nextDraw=qa.window.requestAnimationFrame(_r._draw)),i},immediate(a){const e=_r.immediates.push(a);return _r.nextDraw===null&&(_r.nextDraw=qa.window.requestAnimationFrame(_r._draw)),e},cancelFrame(a){a!=null&&_r.frames.remove(a)},clearTimeout(a){a!=null&&_r.timeouts.remove(a)},cancelImmediate(a){a!=null&&_r.immediates.remove(a)},_draw(a){let e=null;const t=_r.timeouts.last();for(;(e=_r.timeouts.shift())&&(a>=e.time?e.run():_r.timeouts.push(e),e!==t););let i=null;const n=_r.frames.last();for(;i!==n&&(i=_r.frames.shift());)i.run(a);let r=null;for(;r=_r.immediates.shift();)r();_r.nextDraw=_r.timeouts.first()||_r.frames.first()?qa.window.requestAnimationFrame(_r._draw):null}},CX=function(a){const e=a.start,t=a.runner.duration();return{start:e,duration:t,end:e+t,runner:a.runner}},SX=function(){const a=qa.window;return(a.performance||a.Date).now()};class MO extends ny{constructor(e=SX){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const i=Math.abs(t);return this.speed(e?-i:i)}schedule(e,t,i){if(e==null)return this._runners.map(CX);let n=0;const r=this.getEndTime();if(t=t||0,i==null||i==="last"||i==="after")n=r;else if(i==="absolute"||i==="start")n=t,t=0;else if(i==="now")n=this._time;else if(i==="relative"){const u=this.getRunnerInfoById(e.id);u&&(n=u.start+t,t=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const u=this.getLastRunnerInfo();n=u?u.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),s={persist:o===null?this._persist:o,start:n+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(s),this._runners.sort(((u,d)=>u.start-d.start)),this._runnerIds=this._runners.map((u=>u.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return _r.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=_r.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let i=t-this._lastSourceTime;e&&(i=0);const n=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=n,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const s=this._runners[o],u=s.runner;this._time-s.start<=0&&u.reset()}let r=!1;for(let o=0,s=this._runners.length;o<s;o++){const u=this._runners[o],d=u.runner;let g=n;const x=this._time-u.start;if(x<=0){r=!0;continue}x<g&&(g=x),d.active()&&(d.step(g).done?u.persist!==!0&&d.duration()-d.time()+this._time+u.persist<this._time&&(d.unschedule(),--o,--s):r=!0)}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Ia({Element:{timeline:function(a){return a==null?(this._timeline=this._timeline||new MO,this._timeline):(this._timeline=a,this)}}});class Tc extends ny{constructor(e){super(),this.id=Tc.id++,e=typeof(e=e??f1)=="function"?new q_(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof q_,this._stepper=this._isDeclarative?e:new VC,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Yn,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,i){let n=1,r=!1,o=0;return t=t??hX,i=i||"last",typeof(e=e??f1)!="object"||e instanceof N2||(t=e.delay??t,i=e.when??i,r=e.swing||r,n=e.times??n,o=e.wait??o,e=e.duration??f1),{duration:e,delay:t,swing:r,times:n,wait:o,when:i}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,i){const n=Tc.sanitise(e,t,i),r=new Tc(n.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(n).schedule(n.delay,n.when)}clearTransform(){return this.transforms=new Yn,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new VC(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,i){return typeof e=="object"&&(t=e.swing,i=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const r=Math.floor(this._time/t),o=(this._time-r*t)/this._duration;return Math.min(r+o,this._times)}const i=e%1,n=t*Math.floor(e)+this._duration*i;return this.time(n)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,i=this._duration,n=this._wait,r=this._times,o=this._swing,s=this._reverse;let u;if(e==null){const x=function(S){const P=o*Math.floor(S%(2*(n+i))/(n+i)),I=P&&!s||!P&&s,O=Math.pow(-1,I)*(S%(n+i))/i+I;return Math.max(Math.min(O,1),0)},b=r*(n+i)-n;return u=t<=0?Math.round(x(1e-5)):t<b?x(t):Math.round(x(b-1e-5)),u}const d=Math.floor(this.loops()),g=o&&d%2==0;return u=d+(g&&!s||s&&g?e:1-e),this.loops(u)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,i,n){return this._queue.push({initialiser:e||pL,runner:t||pL,retarget:i,isTransform:n,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,i){if(e instanceof MO||(i=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,i),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),i=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const n=this.duration(),r=this._lastTime<=0&&this._time>0,o=this._lastTime<n&&this._time>=n;this._lastTime=this._time,r&&this.fire("start",this);const s=this._isDeclarative;this.done=!s&&!o&&this._time>=n,this._reseted=!1;let u=!1;return(i||s)&&(this._initialise(i),this.transforms=new Yn,u=this._run(s?e:t),this.fire("step",this)),this.done=this.done||u&&s,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,i=this._queue.length;t<i;++t){const n=this._queue[t],r=this._isDeclarative||!n.initialised&&e;e=!n.finished,r&&e&&(n.initialiser.call(this),n.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(e){let t=!0;for(let i=0,n=this._queue.length;i<n;++i){const r=this._queue[i],o=r.runner.call(this,e);r.finished=r.finished||o===!0,t=t&&r.finished}return t}_tryRetarget(e,t,i){if(this._history[e]){if(!this._history[e].caller.initialised){const r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,i):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const n=this.timeline();return n&&n.play(),!0}return!1}}Tc.id=0;class Z_{constructor(e=new Yn,t=-1,i=!0){this.transforms=e,this.id=t,this.done=i}clearTransformsFromQueue(){}}la([Tc,Z_],{mergeWith(a){return new Z_(a.transforms.lmultiply(this.transforms),a.id)}});const LO=(a,e)=>a.lmultiplyO(e),FO=a=>a.transforms;function BX(){const a=this._transformationRunners.runners.map(FO).reduce(LO,new Yn);this.transform(a),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class EX{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Z_).forEach((i=>i.clearTransformsFromQueue())),this}edit(e,t){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1,e+1),this.runners.splice(i,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const i=this.runners[t];if(e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(i.id);const n=i.mergeWith(e);this.edit(e.id,n),e=n,--t}else e=i}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Ia({Element:{animate(a,e,t){const i=Tc.sanitise(a,e,t),n=this.timeline();return new Tc(i.duration).loop(i).element(this).timeline(n.play()).schedule(i.delay,i.when)},delay(a,e){return this.animate(0,a,e)},_clearTransformRunnersBefore(a){this._transformationRunners.clearBefore(a.id)},_currentTransform(a){return this._transformationRunners.runners.filter((e=>e.id<=a.id)).map(FO).reduce(LO,new Yn)},_addRunner(a){this._transformationRunners.add(a),_r.cancelImmediate(this._frameId),this._frameId=_r.immediate(BX.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new EX().add(new Z_(new Yn(this))))}}});la(Tc,{attr(a,e){return this.styleAttr("attr",a,e)},css(a,e){return this.styleAttr("css",a,e)},styleAttr(a,e,t){if(typeof e=="string")return this.styleAttr(a,{[e]:t});let i=e;if(this._tryRetarget(a,i))return this;let n=new eA(this._stepper).to(i),r=Object.keys(i);return this.queue((function(){n=n.from(this.element()[a](r))}),(function(o){return this.element()[a](n.at(o).valueOf()),n.done()}),(function(o){const s=Object.keys(o),u=(d=r,s.filter((x=>!d.includes(x))));var d;if(u.length){const x=this.element()[a](u),b=new N0(n.from()).valueOf();Object.assign(b,x),n.from(b)}const g=new N0(n.to()).valueOf();Object.assign(g,o),n.to(g),r=s,i=o})),this._rememberMorpher(a,n),this},zoom(a,e){if(this._tryRetarget("zoom",a,e))return this;let t=new eA(this._stepper).to(new ya(a));return this.queue((function(){t=t.from(this.element().zoom())}),(function(i){return this.element().zoom(t.at(i),e),t.done()}),(function(i,n){e=n,t.to(i)})),this._rememberMorpher("zoom",t),this},transform(a,e,t){if(e=a.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",a))return this;const i=Yn.isMatrixLike(a);t=a.affine!=null?a.affine:t??!i;const n=new eA(this._stepper).type(t?ay:Yn);let r,o,s,u,d;return this.queue((function(){o=o||this.element(),r=r||QC(a,o),d=new Yn(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)}),(function(g){e||this.clearTransform();const{x,y:b}=new ur(r).transform(o._currentTransform(this));let S=new Yn({...a,origin:[x,b]}),P=this._isDeclarative&&s?s:d;if(t){S=S.decompose(x,b),P=P.decompose(x,b);const O=S.rotate,H=P.rotate,Q=[O-360,O,O+360],Y=Q.map((re=>Math.abs(re-H))),Z=Math.min(...Y),J=Y.indexOf(Z);S.rotate=Q[J]}e&&(i||(S.rotate=a.rotate||0),this._isDeclarative&&u&&(P.rotate=u)),n.from(P),n.to(S);const I=n.at(g);return u=I.rotate,s=new Yn(I),this.addTransform(s),o._addRunner(this),n.done()}),(function(g){(g.origin||"center").toString()!==(a.origin||"center").toString()&&(r=QC(g,o)),a={...g,origin:r}}),!0),this._isDeclarative&&this._rememberMorpher("transform",n),this},x(a){return this._queueNumber("x",a)},y(a){return this._queueNumber("y",a)},ax(a){return this._queueNumber("ax",a)},ay(a){return this._queueNumber("ay",a)},dx(a=0){return this._queueNumberDelta("x",a)},dy(a=0){return this._queueNumberDelta("y",a)},dmove(a,e){return this.dx(a).dy(e)},_queueNumberDelta(a,e){if(e=new ya(e),this._tryRetarget(a,e))return this;const t=new eA(this._stepper).to(e);let i=null;return this.queue((function(){i=this.element()[a](),t.from(i),t.to(i+e)}),(function(n){return this.element()[a](t.at(n)),t.done()}),(function(n){t.to(i+new ya(n))})),this._rememberMorpher(a,t),this},_queueObject(a,e){if(this._tryRetarget(a,e))return this;const t=new eA(this._stepper).to(e);return this.queue((function(){t.from(this.element()[a]())}),(function(i){return this.element()[a](t.at(i)),t.done()})),this._rememberMorpher(a,t),this},_queueNumber(a,e){return this._queueObject(a,new ya(e))},cx(a){return this._queueNumber("cx",a)},cy(a){return this._queueNumber("cy",a)},move(a,e){return this.x(a).y(e)},amove(a,e){return this.ax(a).ay(e)},center(a,e){return this.cx(a).cy(e)},size(a,e){let t;return a&&e||(t=this._element.bbox()),a||(a=t.width/t.height*e),e||(e=t.height/t.width*a),this.width(a).height(e)},width(a){return this._queueNumber("width",a)},height(a){return this._queueNumber("height",a)},plot(a,e,t,i){if(arguments.length===4)return this.plot([a,e,t,i]);if(this._tryRetarget("plot",a))return this;const n=new eA(this._stepper).type(this._element.MorphArray).to(a);return this.queue((function(){n.from(this._element.array())}),(function(r){return this._element.plot(n.at(r)),n.done()})),this._rememberMorpher("plot",n),this},leading(a){return this._queueNumber("leading",a)},viewbox(a,e,t,i){return this._queueObject("viewbox",new zs(a,e,t,i))},update(a){return typeof a!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(a.opacity!=null&&this.attr("stop-opacity",a.opacity),a.color!=null&&this.attr("stop-color",a.color),a.offset!=null&&this.attr("offset",a.offset),this)}}),la(Tc,{rx:R2,ry:O2,from:EO,to:kO}),Za(Tc,"Runner");class KC extends Ll{constructor(e,t=e){super(zr("svg",e),t),this.namespace()}defs(){return this.isRoot()?Xc(this.node.querySelector("defs"))||this.put(new Lv):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof qa.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:M2,version:"1.1"}).attr("xmlns:xlink",Tg,u1):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,u1).attr("xmlns:svgjs",null,u1)}root(){return this.isRoot()?this:super.root()}}Ia({Container:{nested:Nr((function(){return this.put(new KC)}))}}),Za(KC,"Svg",!0);let qC=class extends Ll{constructor(a,e=a){super(zr("symbol",a),e)}};Ia({Container:{symbol:Nr((function(){return this.put(new qC)}))}}),Za(qC,"Symbol");var PO=Object.freeze({__proto__:null,amove:function(a,e){return this.ax(a).ay(e)},ax:function(a){return this.attr("x",a)},ay:function(a){return this.attr("y",a)},build:function(a){return this._build=!!a,this},center:function(a,e,t=this.bbox()){return this.cx(a,t).cy(e,t)},cx:function(a,e=this.bbox()){return a==null?e.cx:this.attr("x",this.attr("x")+a-e.cx)},cy:function(a,e=this.bbox()){return a==null?e.cy:this.attr("y",this.attr("y")+a-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(a,e,t=this.bbox()){return this.x(a,t).y(e,t)},plain:function(a){return this._build===!1&&this.clear(),this.node.appendChild(qa.document.createTextNode(a)),this},x:function(a,e=this.bbox()){return a==null?e.x:this.attr("x",this.attr("x")+a-e.x)},y:function(a,e=this.bbox()){return a==null?e.y:this.attr("y",this.attr("y")+a-e.y)}});class ku extends Lc{constructor(e,t=e){super(zr("text",e),t),this.dom.leading=this.dom.leading??new ya(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new ya(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let i=0;const n=this.dom.leading;this.each((function(r){if(jC(this.node))return;const o=qa.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=n*new ya(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?i+=s:(this.attr("dy",r?s+i:0),i=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new ya(e.leading||1.3),this}writeDataToDom(){return dO(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let i=0;e="";for(let n=0,r=t.length;n<r;++n)t[n].nodeName==="textPath"||jC(t[n])?n===0&&(i=n+1):(n!==i&&t[n].nodeType!==3&&Xc(t[n]).dom.newLined===!0&&(e+=`
`),e+=t[n].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,i=(e=(e+"").split(`
`)).length;t<i;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}la(ku,PO),Ia({Container:{text:Nr((function(a=""){return this.put(new ku).text(a)})),plain:Nr((function(a=""){return this.put(new ku).plain(a)}))}}),Za(ku,"Text");class h_ extends Lc{constructor(e,t=e){super(zr("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof ku))return this;const t=e.index(this),i=qa.window.getComputedStyle(this.node).getPropertyValue("font-size"),n=e.dom.leading*new ya(i);return this.dy(t?n:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}la(h_,PO),Ia({Tspan:{tspan:Nr((function(a=""){const e=new h_;return this._build||this.clear(),this.put(e).text(a)}))},Text:{newLine:function(a=""){return this.tspan(a).newLine()}}}),Za(h_,"Tspan");class g1 extends Lc{constructor(e,t=e){super(zr("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new ya(e).divide(2))}}la(g1,{x:_O,y:vO,cx:wO,cy:bO,width:CO,height:SO}),Ia({Container:{circle:Nr((function(a=0){return this.put(new g1).size(a).move(0,0)}))}}),Za(g1,"Circle");class m1 extends Ll{constructor(e,t=e){super(zr("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return QA("svg [clip-path*="+this.id()+"]")}}Ia({Container:{clip:Nr((function(){return this.defs().put(new m1)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(a){const e=a instanceof m1?a:this.parent().clip().add(a);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Za(m1,"ClipPath");class yL extends $o{constructor(e,t=e){super(zr("foreignObject",e),t)}}Ia({Container:{foreignObject:Nr((function(a,e){return this.put(new yL).size(a,e)}))}}),Za(yL,"ForeignObject");var DO=Object.freeze({__proto__:null,dmove:function(a,e){return this.children().forEach((t=>{let i;try{i=t.node instanceof iy().SVGSVGElement?new zs(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const n=new Yn(t),r=n.translate(a,e).transform(n.inverse()),o=new ur(i.x,i.y).transform(r);t.move(o.x,o.y)})),this},dx:function(a){return this.dmove(a,0)},dy:function(a){return this.dmove(0,a)},height:function(a,e=this.bbox()){return a==null?e.height:this.size(e.width,a,e)},move:function(a=0,e=0,t=this.bbox()){const i=a-t.x,n=e-t.y;return this.dmove(i,n)},size:function(a,e,t=this.bbox()){const i=kg(this,a,e,t),n=i.width/t.width,r=i.height/t.height;return this.children().forEach((o=>{const s=new ur(t).transform(new Yn(o).inverse());o.scale(n,r,s.x,s.y)})),this},width:function(a,e=this.bbox()){return a==null?e.width:this.size(a,e.height,e)},x:function(a,e=this.bbox()){return a==null?e.x:this.move(a,e.y,e)},y:function(a,e=this.bbox()){return a==null?e.y:this.move(e.x,a,e)}});class tf extends Ll{constructor(e,t=e){super(zr("g",e),t)}}la(tf,DO),Ia({Container:{group:Nr((function(){return this.put(new tf)}))}}),Za(tf,"G");class zx extends Ll{constructor(e,t=e){super(zr("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Tg)}}la(zx,DO),Ia({Container:{link:Nr((function(a){return this.put(new zx).to(a)}))},Element:{unlink(){const a=this.linker();if(!a)return this;const e=a.parent();if(!e)return this.remove();const t=e.index(a);return e.add(this,t),a.remove(),this},linkTo(a){let e=this.linker();return e||(e=new zx,this.wrap(e)),typeof a=="function"?a.call(e,e):e.to(a),this},linker(){const a=this.parent();return a&&a.node.nodeName.toLowerCase()==="a"?a:null}}}),Za(zx,"A");class y1 extends Ll{constructor(e,t=e){super(zr("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return QA("svg [mask*="+this.id()+"]")}}Ia({Container:{mask:Nr((function(){return this.defs().put(new y1)}))},Element:{masker(){return this.reference("mask")},maskWith(a){const e=a instanceof y1?a:this.parent().mask().add(a);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Za(y1,"Mask");class xL extends $o{constructor(e,t=e){super(zr("stop",e),t)}update(e){return(typeof e=="number"||e instanceof ya)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new ya(e.offset)),this}}Ia({Gradient:{stop:function(a,e,t){return this.put(new xL).update(a,e,t)}}}),Za(xL,"Stop");class x1 extends $o{constructor(e,t=e){super(zr("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,i={}){return this.rule("@font-face",{fontFamily:e,src:t,...i})}rule(e,t){return this.addText((function(i,n){if(!i)return"";if(!n)return i;let r=i+"{";for(const o in n)r+=o.replace(/([A-Z])/g,(function(s,u){return"-"+u.toLowerCase()}))+":"+n[o]+";";return r+="}",r})(e,t))}}Ia("Dom",{style(a,e){return this.put(new x1).rule(a,e)},fontface(a,e,t){return this.put(new x1).font(a,e,t)}}),Za(x1,"Style");class _1 extends ku{constructor(e,t=e){super(zr("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let i=null;return t&&(i=t.plot(e)),e==null?i:this}track(){return this.reference("href")}}Ia({Container:{textPath:Nr((function(a,e){return a instanceof ku||(a=this.text(a)),a.path(e)}))},Text:{path:Nr((function(a,e=!0){const t=new _1;let i;if(a instanceof og||(a=this.defs().path(a)),t.attr("href","#"+a,Tg),e)for(;i=this.node.firstChild;)t.node.appendChild(i);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:Nr((function(a){return a instanceof ku||(a=new ku().addTo(this.parent()).text(a)),a.path(this)})),targets(){return QA("svg textPath").filter((a=>(a.attr("href")||"").includes(this.id())))}}}),_1.prototype.MorphArray=Eu,Za(_1,"TextPath");class _L extends Lc{constructor(e,t=e){super(zr("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Tg)}}Ia({Container:{use:Nr((function(a,e){return this.put(new _L).use(a,e)}))}}),Za(_L,"Use");const kX=Il;la([KC,qC,l_,U0,c_],Gl("viewbox")),la([uA,dA,hA,og],Gl("marker")),la(ku,Gl("Text")),la(og,Gl("Path")),la(Lv,Gl("Defs")),la([ku,h_],Gl("Tspan")),la([u_,o_,p0,Tc],Gl("radius")),la(ny,Gl("EventTarget")),la(uf,Gl("Dom")),la($o,Gl("Element")),la(Lc,Gl("Shape")),la([Ll,BO],Gl("Container")),la(p0,Gl("Gradient")),la(Tc,Gl("Runner")),PA.extend([...new Set(uO)]),(function(a=[]){YC.push(...[].concat(a))})([ya,Ir,zs,Yn,DA,hf,Eu,ur]),la(YC,{to(a){return new eA().type(this.constructor).from(this.toArray()).to(a)},fromArray(a){return this.init(a),this},toConsumable(){return this.toArray()},morph(a,e,t,i,n){return this.fromArray(a.map((function(r,o){return i.step(r,e[o],t,n[o],n)})))}});class is extends $o{constructor(e){super(zr("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return QA('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class z2 extends $o{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Gc=a=>function(...e){for(let t=a.length;t--;)e[t]!=null&&this.attr(a[t],e[t])},TX={blend:Gc(["in","in2","mode"]),colorMatrix:Gc(["type","values"]),composite:Gc(["in","in2","operator"]),convolveMatrix:function(a){a=new DA(a).toString(),this.attr({order:Math.sqrt(a.split(" ").length),kernelMatrix:a})},diffuseLighting:Gc(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Gc(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Gc(["in","dx","dy","stdDeviation"]),flood:Gc(["flood-color","flood-opacity"]),gaussianBlur:function(a=0,e=a){this.attr("stdDeviation",a+" "+e)},image:function(a){this.attr("href",a,Tg)},morphology:Gc(["operator","radius"]),offset:Gc(["dx","dy"]),specularLighting:Gc(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Gc([]),turbulence:Gc(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((a=>{const e=Eg(a),t=TX[a];is[e+"Effect"]=class extends z2{constructor(i){super(zr("fe"+e,i),i)}update(i){return t.apply(this,i),this}},is.prototype[a]=Nr((function(i,...n){const r=new is[e+"Effect"];return i==null?this.put(r):(typeof i=="function"?i.call(r,r):n.unshift(i),this.put(r).update(n))}))})),la(is,{merge(a){const e=this.put(new is.MergeEffect);return typeof a=="function"?(a.call(e,e),e):((a instanceof Array?a:[...arguments]).forEach((t=>{t instanceof is.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(a={}){const e=this.put(new is.ComponentTransferEffect);if(typeof a=="function")return a.call(e,e),e;a.r||a.g||a.b||a.a||(a={r:a,g:a,b:a,a});for(const t in a)e.add(new is["Func"+t.toUpperCase()](a[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((a=>{const e=Eg(a);is[e]=class extends z2{constructor(t){super(zr("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(a){const e=is[Eg(a)],t=Nr((function(){return this.put(new e)}));is.ComponentTransferEffect.prototype[a]=t}));["distantLight","pointLight","spotLight"].forEach((a=>{const e=is[Eg(a)],t=Nr((function(){return this.put(new e)}));is.DiffuseLightingEffect.prototype[a]=t,is.SpecularLightingEffect.prototype[a]=t})),la(is.MergeEffect,{mergeNode(a){return this.put(new is.MergeNode).attr("in",a)}}),la(Lv,{filter:function(a){const e=this.put(new is);return typeof a=="function"&&a.call(e,e),e}}),la(Ll,{filter:function(a){return this.defs().filter(a)}}),la($o,{filterWith:function(a){const e=a instanceof is?a:this.defs().filter(a);return this.attr("filter",e)},unfilter:function(a){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const IX={blend:function(a,e){return this.parent()&&this.parent().blend(this,a,e)},colorMatrix:function(a,e){return this.parent()&&this.parent().colorMatrix(a,e).in(this)},componentTransfer:function(a){return this.parent()&&this.parent().componentTransfer(a).in(this)},composite:function(a,e){return this.parent()&&this.parent().composite(this,a,e)},convolveMatrix:function(a){return this.parent()&&this.parent().convolveMatrix(a).in(this)},diffuseLighting:function(a,e,t,i){return this.parent()&&this.parent().diffuseLighting(a,t,i).in(this)},displacementMap:function(a,e,t,i){return this.parent()&&this.parent().displacementMap(this,a,e,t,i)},dropShadow:function(a,e,t){return this.parent()&&this.parent().dropShadow(this,a,e,t).in(this)},flood:function(a,e){return this.parent()&&this.parent().flood(a,e)},gaussianBlur:function(a,e){return this.parent()&&this.parent().gaussianBlur(a,e).in(this)},image:function(a){return this.parent()&&this.parent().image(a)},merge:function(a){return a=a instanceof Array?a:[...a],this.parent()&&this.parent().merge(this,...a)},morphology:function(a,e){return this.parent()&&this.parent().morphology(a,e).in(this)},offset:function(a,e){return this.parent()&&this.parent().offset(a,e).in(this)},specularLighting:function(a,e,t,i,n){return this.parent()&&this.parent().specularLighting(a,t,i,n).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(a,e,t,i,n){return this.parent()&&this.parent().turbulence(a,e,t,i,n).in(this)}};la(z2,IX),la(is.MergeEffect,{in:function(a){return a instanceof is.MergeNode?this.add(a,0):this.add(new is.MergeNode().in(a),0),this}}),la([is.CompositeEffect,is.BlendEffect,is.DisplacementMapEffect],{in2:function(a){if(a==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",a)}}),is.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Go=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),new is().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,i){var n,r=this,o=this.w;if(e.unfilter(!0),i!=="none"){var s,u,d=o.config.chart.dropShadow,g=i==="lighten"?2:.3;e.filterWith((function(x){x.colorMatrix({type:"matrix",values:`
          `.concat(g,` 0 0 0 0
          0 `).concat(g,` 0 0 0
          0 0 `).concat(g,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),d.enabled&&r.addShadow(x,t,d,"brightness")})),!d.noUserSpaceOnUse&&((s=e.filterer())===null||s===void 0||(u=s.node)===null||u===void 0||u.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((n=e.filterer())===null||n===void 0?void 0:n.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,i,n){var r,o=this.w,s=i.blur,u=i.top,d=i.left,g=i.color,x=i.opacity;if(g=Array.isArray(g)?g[t]:g,((r=o.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:n,dx:d,dy:u,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:s,result:"blur"}),e.flood({"flood-color":g,"flood-opacity":x,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",n])}},{key:"dropShadow",value:function(e,t){var i,n,r,o,s,u=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=this.w;return e.unfilter(!0),Et.isMsEdge()&&g.config.chart.type==="radialBar"||((i=g.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((r=g.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.indexOf(d))===-1?e:(e.filterWith((function(x){u.addShadow(x,d,t,"SourceGraphic")})),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(s=o.node)===null||s===void 0||s.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((n=e.filterer())===null||n===void 0?void 0:n.node),e)}},{key:"setSelectionFilter",value:function(e,t,i){var n=this.w;if(n.globals.selectedDataPoints[t]!==void 0&&n.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var r=n.config.states.active.filter;r!=="none"&&this.applyFilter(e,t,r.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),a})(),vi=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"roundPathCorners",value:function(e,t){function i(ne,te,he){var ve=te.x-ne.x,de=te.y-ne.y,be=Math.sqrt(ve*ve+de*de);return n(ne,te,Math.min(1,he/be))}function n(ne,te,he){return{x:ne.x+(te.x-ne.x)*he,y:ne.y+(te.y-ne.y)*he}}function r(ne,te){ne.length>2&&(ne[ne.length-2]=te.x,ne[ne.length-1]=te.y)}function o(ne){return{x:parseFloat(ne[ne.length-2]),y:parseFloat(ne[ne.length-1])}}e.indexOf("NaN")>-1&&(e="");var s=e.split(/[,\s]/).reduce((function(ne,te){var he=te.match(/^([a-zA-Z])(.+)/);return he?(ne.push(he[1]),ne.push(he[2])):ne.push(te),ne}),[]).reduce((function(ne,te){return parseFloat(te)==te&&ne.length?ne[ne.length-1].push(te):ne.push([te]),ne}),[]),u=[];if(s.length>1){var d=o(s[0]),g=null;s[s.length-1][0]=="Z"&&s[0].length>2&&(g=["L",d.x,d.y],s[s.length-1]=g),u.push(s[0]);for(var x=1;x<s.length;x++){var b=u[u.length-1],S=s[x],P=S==g?s[1]:s[x+1];if(P&&b&&b.length>2&&S[0]=="L"&&P.length>2&&P[0]=="L"){var I,O,H=o(b),Q=o(S),Y=o(P);I=i(Q,H,t),O=i(Q,Y,t),r(S,I),S.origPoint=Q,u.push(S);var Z=n(I,Q,.5),J=n(Q,O,.5),re=["C",Z.x,Z.y,J.x,J.y,O.x,O.y];re.origPoint=Q,u.push(re)}else u.push(S)}if(g){var q=o(u[u.length-1]);u.push(["Z"]),r(u[0],q)}}else u=s;return u.reduce((function(ne,te){return ne+te.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:n,stroke:r,"stroke-dasharray":o,"stroke-width":s,"stroke-linecap":u})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,d=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,g=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,x=this.w.globals.dom.Paper.rect();return x.attr({x:e,y:t,width:i>0?i:0,height:n>0?n:0,rx:r,ry:r,opacity:s,"stroke-width":u!==null?u:0,stroke:d!==null?d:"none","stroke-dasharray":g}),x.node.setAttribute("fill",o),x}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:n,stroke:t,"stroke-width":i})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var i=this.w.globals.dom.Paper.circle(2*e);return t!==null&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,i=t===void 0?"":t,n=e.stroke,r=n===void 0?"#a8a8a8":n,o=e.strokeWidth,s=o===void 0?1:o,u=e.fill,d=e.fillOpacity,g=d===void 0?1:d,x=e.strokeOpacity,b=x===void 0?1:x,S=e.classes,P=e.strokeLinecap,I=P===void 0?null:P,O=e.strokeDashArray,H=O===void 0?0:O,Q=this.w;return I===null&&(I=Q.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(Q.globals.gridHeight)),Q.globals.dom.Paper.path(i).attr({fill:u,"fill-opacity":g,stroke:r,"stroke-opacity":b,"stroke-linecap":I,"stroke-width":s,"stroke-dasharray":H,class:S})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var i=["M",e,t].join(" ");return i}},{key:"line",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=null;return i===null?n=[" L",e,t].join(" "):i==="H"?n=[" H",e].join(" "):i==="V"&&(n=[" V",t].join(" ")),n}},{key:"curve",value:function(e,t,i,n,r,o){var s=["C",e,t,i,n,r,o].join(" ");return s}},{key:"quadraticCurve",value:function(e,t,i,n){return["Q",e,t,i,n].join(" ")}},{key:"arc",value:function(e,t,i,n,r,o,s){var u="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(u="a");var d=[u,e,t,i,n,r,o,s].join(" ");return d}},{key:"renderPaths",value:function(e){var t,i=e.j,n=e.realIndex,r=e.pathFrom,o=e.pathTo,s=e.stroke,u=e.strokeWidth,d=e.strokeLinecap,g=e.fill,x=e.animationDelay,b=e.initialSpeed,S=e.dataChangeSpeed,P=e.className,I=e.chartType,O=e.shouldClipToGrid,H=O===void 0||O,Q=e.bindEventsOnPaths,Y=Q===void 0||Q,Z=e.drawShadow,J=Z===void 0||Z,re=this.w,q=new Go(this.ctx),ne=new Bg(this.ctx),te=this.w.config.chart.animations.enabled,he=te&&this.w.config.chart.animations.dynamicAnimation.enabled;if(r&&r.startsWith("M 0 0")&&o){var ve=o.match(/^M\s+[\d.-]+\s+[\d.-]+/);ve&&(r=r.replace(/^M\s+0\s+0/,ve[0]))}var de=!!(te&&!re.globals.resized||he&&re.globals.dataChanged&&re.globals.shouldAnimate);de?t=r:(t=o,re.globals.animationEnded=!0);var be=re.config.stroke.dashArray,De=0;De=Array.isArray(be)?be[n]:re.config.stroke.dashArray;var Ie=this.drawPath({d:t,stroke:s,strokeWidth:u,fill:g,fillOpacity:1,classes:P,strokeLinecap:d,strokeDashArray:De});Ie.attr("index",n),H&&(I==="bar"&&!re.globals.isHorizontal||re.globals.comboCharts?Ie.attr({"clip-path":"url(#gridRectBarMask".concat(re.globals.cuid,")")}):Ie.attr({"clip-path":"url(#gridRectMask".concat(re.globals.cuid,")")})),re.config.chart.dropShadow.enabled&&J&&q.dropShadow(Ie,re.config.chart.dropShadow,n),Y&&(Ie.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Ie)),Ie.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Ie)),Ie.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Ie))),Ie.attr({pathTo:o,pathFrom:r});var nt={el:Ie,j:i,realIndex:n,pathFrom:r,pathTo:o,fill:g,strokeWidth:u,delay:x};return!te||re.globals.resized||re.globals.dataChanged?!re.globals.resized&&re.globals.dataChanged||ne.showDelayedElements():ne.animatePathsGradually(ji(ji({},nt),{},{speed:b})),re.globals.dataChanged&&he&&de&&ne.animatePathsGradually(ji(ji({},nt),{},{speed:S})),Ie}},{key:"drawPattern",value:function(e,t,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,i,(function(o){e==="horizontalLines"?o.line(0,0,i,0).stroke({color:n,width:r+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:n,width:r+1}):e==="slantedLines"?o.line(0,0,t,i).stroke({color:n,width:r}):e==="squares"?o.rect(t,i).fill("none").stroke({color:n,width:r}):e==="circles"&&o.circle(t).fill("none").stroke({color:n,width:r})}))}},{key:"drawGradient",value:function(e,t,i,n,r){var o,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],g=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,x=this.w;t.length<9&&t.indexOf("#")===0&&(t=Et.hexToRgba(t,n)),i.length<9&&i.indexOf("#")===0&&(i=Et.hexToRgba(i,r));var b=0,S=1,P=1,I=null;u!==null&&(b=u[0]!==void 0?u[0]/100:0,S=u[1]!==void 0?u[1]/100:1,P=u[2]!==void 0?u[2]/100:1,I=u[3]!==void 0?u[3]/100:null);var O=!(x.config.chart.type!=="donut"&&x.config.chart.type!=="pie"&&x.config.chart.type!=="polarArea"&&x.config.chart.type!=="bubble");if(o=d&&d.length!==0?x.globals.dom.Paper.gradient(O?"radial":"linear",(function(Y){(Array.isArray(d[g])?d[g]:d).forEach((function(Z){Y.stop(Z.offset/100,Z.color,Z.opacity)}))})):x.globals.dom.Paper.gradient(O?"radial":"linear",(function(Y){Y.stop(b,t,n),Y.stop(S,i,r),Y.stop(P,i,r),I!==null&&Y.stop(I,t,n)})),O){var H=x.globals.gridWidth/2,Q=x.globals.gridHeight/2;x.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:H,cy:Q,r:s}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,n=e.fontSize,r=e.fontFamily,o=this.getTextRects(t,n,r),s=o.width/t.length,u=Math.floor(i/s);return i<o.width?t.slice(0,u-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,n=e.y,r=e.text,o=e.textAnchor,s=e.fontSize,u=e.fontFamily,d=e.fontWeight,g=e.foreColor,x=e.opacity,b=e.maxWidth,S=e.cssClass,P=S===void 0?"":S,I=e.isPlainText,O=I===void 0||I,H=e.dominantBaseline,Q=H===void 0?"auto":H,Y=this.w;r===void 0&&(r="");var Z=r;o||(o="start"),g&&g.length||(g=Y.config.chart.foreColor),u=u||Y.config.chart.fontFamily,d=d||"regular";var J,re={maxWidth:b,fontSize:s=s||"11px",fontFamily:u};return Array.isArray(r)?J=Y.globals.dom.Paper.text((function(q){for(var ne=0;ne<r.length;ne++)Z=r[ne],b&&(Z=t.getTextBasedOnMaxWidth(ji({text:r[ne]},re))),ne===0?q.tspan(Z):q.tspan(Z).newLine()})):(b&&(Z=this.getTextBasedOnMaxWidth(ji({text:r},re))),J=O?Y.globals.dom.Paper.plain(r):Y.globals.dom.Paper.text((function(q){return q.tspan(Z)}))),J.attr({x:i,y:n,"text-anchor":o,"dominant-baseline":Q,"font-size":s,"font-family":u,"font-weight":d,fill:g,class:"apexcharts-text "+P}),J.node.style.fontFamily=u,J.node.style.opacity=x,J}},{key:"getMarkerPath",value:function(e,t,i,n){var r="";switch(i){case"cross":r="M ".concat(e-(n/=1.4)," ").concat(t-n," L ").concat(e+n," ").concat(t+n,"  M ").concat(e-n," ").concat(t+n," L ").concat(e+n," ").concat(t-n);break;case"plus":r="M ".concat(e-(n/=1.12)," ").concat(t," L ").concat(e+n," ").concat(t,"  M ").concat(e," ").concat(t-n," L ").concat(e," ").concat(t+n);break;case"star":case"sparkle":var o=5;n*=1.15,i==="sparkle"&&(n/=1.1,o=4);for(var s=Math.PI/o,u=0;u<=2*o;u++){var d=u*s,g=u%2==0?n:n/2;r+=(u===0?"M":"L")+(e+g*Math.sin(d))+","+(t-g*Math.cos(d))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-n,` 
             L `).concat(e+n," ").concat(t+n,` 
             L `).concat(e-n," ").concat(t+n,` 
             Z`);break;case"square":case"rect":r="M ".concat(e-(n/=1.125)," ").concat(t-n,` 
           L `).concat(e+n," ").concat(t-n,` 
           L `).concat(e+n," ").concat(t+n,` 
           L `).concat(e-n," ").concat(t+n,` 
           Z`);break;case"diamond":n*=1.05,r="M ".concat(e," ").concat(t-n,` 
             L `).concat(e+n," ").concat(t,` 
             L `).concat(e," ").concat(t+n,` 
             L `).concat(e-n," ").concat(t,` 
            Z`);break;case"line":r="M ".concat(e-(n/=1.1)," ").concat(t,` 
           L `).concat(e+n," ").concat(t);break;default:n*=2,r="M ".concat(e,", ").concat(t,` 
           m -`).concat(n/2,`, 0 
           a `).concat(n/2,",").concat(n/2," 0 1,0 ").concat(n,`,0 
           a `).concat(n/2,",").concat(n/2," 0 1,0 -").concat(n,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,i,n,r){var o=this.drawPath({d:this.getMarkerPath(e,t,i,n,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),o}},{key:"drawMarker",value:function(e,t,i){e=e||0;var n=i.pSize||0;return Et.isNumber(t)||(n=0,t=0),this.drawMarkerShape(e,t,i?.shape,n,ji(ji({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,n=new Go(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}]),(i.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var s=i.config.states.hover.filter;n.applyFilter(e,r,s.type)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,n=new Go(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:o,w:i}]),i.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&n.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,n=new Go(this.ctx),r=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),s="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[r].indexOf(o)>-1){var u=i.globals.selectedDataPoints[r].indexOf(o);i.globals.selectedDataPoints[r].splice(u,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var d=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),g=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),x=function(P){Array.prototype.forEach.call(P,(function(I){I.node.setAttribute("selected","false"),n.getDefaultFilter(I,r)}))};x(d),x(g)}e.node.setAttribute("selected","true"),s="true",i.globals.selectedDataPoints[r]===void 0&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(o)}if(s==="true"){var b=i.config.states.active.filter;if(b!=="none")n.applyFilter(e,r,b.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var S=i.config.states.hover.filter;n.applyFilter(e,r,S.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?n.getDefaultFilter(e,r):(S=i.config.states.hover.filter,n.applyFilter(e,r,S.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,n){var r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,s=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});n&&s.attr("transform",n),o.globals.dom.Paper.add(s);var u=s.bbox();return r||(u=s.node.getBoundingClientRect()),s.remove(),{width:u.width,height:u.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var n=t.length-3;n>0;n-=3)if(e.getSubStringLength(0,n)<=i/1.1)return void(e.textContent=t.substring(0,n)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),a})(),Hs=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,i=[];if(t.globals.series.length===0)return i;for(var n=0;n<t.globals.series[t.globals.maxValsInArrayIndex].length;n++){for(var r=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][n]!==void 0&&e.indexOf(o)===-1&&(r+=t.globals.series[o][n]);i.push(r)}return i}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,i){return t+i}),0):this.w.globals.series[e].reduce((function(t,i){return t+i}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,i=[];return t.globals.seriesGroups.forEach((function(n){var r=[];t.config.series.forEach((function(s,u){n.indexOf(t.globals.seriesNames[u])>-1&&r.push(u)}));var o=t.globals.series.map((function(s,u){return r.indexOf(u)===-1?u:-1})).filter((function(s){return s!==-1}));i.push(e.getStackedSeriesTotals(o))})),i}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,i=[],n=[],r=[],o=e.series.length>t.yaxis.length||t.yaxis.some((function(x){return Array.isArray(x.seriesName)}));t.series.forEach((function(x,b){r.push(b),n.push(null)})),t.yaxis.forEach((function(x,b){i[b]=[]}));var s=[];t.yaxis.forEach((function(x,b){var S=!1;if(x.seriesName){var P=[];Array.isArray(x.seriesName)?P=x.seriesName:P.push(x.seriesName),P.forEach((function(I){t.series.forEach((function(O,H){if(O.name===I){var Q=H;b===H||o?!o||r.indexOf(H)>-1?i[b].push([b,H]):console.warn("Series '"+O.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[H].push([H,b]),Q=b),S=!0,(Q=r.indexOf(Q))!==-1&&r.splice(Q,1)}}))}))}S||s.push(b)})),i=i.map((function(x,b){var S=[];return x.forEach((function(P){n[P[1]]=P[0],S.push(P[1])})),S}));for(var u=t.yaxis.length-1,d=0;d<s.length&&(u=s[d],i[u]=[],r);d++){var g=r[0];r.shift(),i[u].push(g),n[g]=u}r.forEach((function(x){i[u].push(x),n[x]=u})),e.seriesYAxisMap=i.map((function(x){return x})),e.seriesYAxisReverseMap=n.map((function(x){return x})),e.seriesYAxisMap.forEach((function(x,b){x.forEach((function(S){t.series[S]&&t.series[S].group===void 0&&(t.series[S].group="apexcharts-axis-".concat(b.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,i,n){return t===n[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map((function(n,r){return t.config.xaxis.labels.formatter(n-t.globals.minX+1)}))),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(i){t=Math.max(t,i)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(i){t=Math.max(t,i.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,i){var n=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)n+=t[r];else n+=t;return n}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map((function(n,r){for(var o=0,s=0;s<n.length;s++)i.globals.seriesX[r][s]>e&&i.globals.seriesX[r][s]<t&&(o+=n[s]);return o}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,i){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var o=e.globals.stackedSeriesTotals[r],s=0;o&&(s=100*t[r]/o),n.push(s)}else{var u=100*t/e.globals.seriesTotals.reduce((function(d,g){return d+g}),0);n.push(u)}return n}))}},{key:"getCalculatedRatios",value:function(){var e,t,i,n=this,r=this.w,o=r.globals,s=[],u=0,d=[],g=.1,x=0;if(o.yRange=[],o.isMultipleYAxis)for(var b=0;b<o.minYArr.length;b++)o.yRange.push(Math.abs(o.minYArr[b]-o.maxYArr[b])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var S=0;S<o.yRange.length;S++)s.push(o.yRange[S]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,i=o.xRange/o.gridHeight,(u=o.zRange/o.gridHeight*16)||(u=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var P=function(O,H){var Q=r.config.yaxis[r.globals.seriesYAxisReverseMap[H]],Y=O<0?-1:1;return O=Math.abs(O),Q.logarithmic&&(O=n.getBaseLog(Q.logBase,O)),-Y*O/s[H]};if(o.isMultipleYAxis){d=[];for(var I=0;I<s.length;I++)d.push(P(o.minYArr[I],I))}else(d=[]).push(P(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(g=-o.minY/e,x=o.minX/t)}else(d=[]).push(0),g=0,x=0;return{yRatio:s,invertedYRatio:e,zRatio:u,xRatio:t,invertedXRatio:i,baseLineInvertedY:g,baseLineY:d,baseLineX:x}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map((function(n,r){var o=i.globals.seriesYAxisReverseMap[r];return i.config.yaxis[o]&&i.config.yaxis[o].logarithmic?n.map((function(s){return s===null?null:t.getLogVal(i.config.yaxis[o].logBase,s,r)})):n})),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var i=this.w,n=i.globals.seriesYAxisReverseMap[t];return i.config.yaxis[n]&&i.config.yaxis[n].logarithmic?this.getLogVal(i.config.yaxis[n].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(t<=0)return 0;var n=this.w,r=n.globals.minYArr[i]===0?-1:this.getBaseLog(e,n.globals.minYArr[i]),o=(n.globals.maxYArr[i]===0?0:this.getBaseLog(e,n.globals.maxYArr[i]))-r;return t<1?t/o:(this.getBaseLog(e,t)-r)/o}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,n=this.w.globals;return n.yLogRatio=e.slice(),n.logYRange=n.yRange.map((function(r,o){var s=i.globals.seriesYAxisReverseMap[o];if(i.config.yaxis[s]&&t.w.config.yaxis[s].logarithmic){var u,d=-Number.MAX_VALUE,g=Number.MIN_VALUE;return n.seriesLog.forEach((function(x,b){x.forEach((function(S){i.config.yaxis[b]&&i.config.yaxis[b].logarithmic&&(d=Math.max(S,d),g=Math.min(S,g))}))})),u=Math.pow(n.yRange[o],Math.abs(g-d)/n.yRange[o]),n.yLogRatio[o]=u/n.gridHeight,u}})),n.invalidLogScale?e.slice():n.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,i,n){var r=this.w,o=[];return e.series.length>0&&t.forEach((function(s){var u=[],d=[];e.i.forEach((function(g,x){r.config.series[g].group===s&&(u.push(e.series[x]),d.push(g))})),u.length>0&&o.push(n.draw(u,i,d))})),o}}],[{key:"checkComboSeries",value:function(e,t){var i=!1,n=0,r=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||n++,o.type!==void 0&&o.type!==t&&r++})),r>0&&(i=!0),{comboBarCount:n,comboCharts:i}}},{key:"extendArrayProps",value:function(e,t,i){var n,r,o,s,u,d;return(n=t)!==null&&n!==void 0&&n.yaxis&&(t=e.extendYAxis(t,i)),(r=t)!==null&&r!==void 0&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(s=o.annotations)!==null&&s!==void 0&&s.xaxis&&(t=e.extendXAxisAnnotations(t)),(u=t)!==null&&u!==void 0&&(d=u.annotations)!==null&&d!==void 0&&d.points&&(t=e.extendPointAnnotations(t))),t}}]),a})(),Fv=(function(){function a(e){wn(this,a),this.w=e.w,this.annoCtx=e}return bn(a,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(e.label.orientation==="vertical"){var n=t!==null?t:0,r=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(n,"']"));if(r!==null){var o=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-o.height+4);var s=e.label.position==="top"?o.width:-o.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+s);var u=this.annoCtx.graphics.rotateAroundCenter(r),d=u.x,g=u.y;r.setAttribute("transform","rotate(-90 ".concat(d," ").concat(g,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var n=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),o=t.label.style.padding,s=o.left,u=o.right,d=o.top,g=o.bottom;if(t.label.orientation==="vertical"){var x=[s,u,d,g];d=x[0],g=x[1],s=x[2],u=x[3]}var b=r.left-n.left-s,S=r.top-n.top-d,P=this.annoCtx.graphics.drawRect(b-i.globals.barPadForNumericAxis,S,r.width+s+u,r.height+d+g,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&P.node.classList.add(t.id),P}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(n,r,o){var s=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(r,"']"));if(s){var u=s.parentNode,d=e.addBackgroundToAnno(s,n);d&&(u.insertBefore(d.node,s),n.label.mouseEnter&&d.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&d.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)),n.label.click&&d.node.addEventListener("click",n.label.click.bind(e,n)))}};t.config.annotations.xaxis.forEach((function(n,r){return i(n,r,"xaxis")})),t.config.annotations.yaxis.forEach((function(n,r){return i(n,r,"yaxis")})),t.config.annotations.points.forEach((function(n,r){return i(n,r,"point")}))}},{key:"getY1Y2",value:function(e,t){var i,n=this.w,r=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var s=n.config.xaxis.convertedCatToNumeric?n.globals.categoryLabels:n.globals.labels,u=s.indexOf(r),d=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(u+1,")"));i=d?parseFloat(d.getAttribute("y")):(n.globals.gridHeight/s.length-1)*(u+1)-n.globals.barHeight,t.seriesIndex!==void 0&&n.globals.barHeight&&(i-=n.globals.barHeight/2*(n.globals.series.length-1)-n.globals.barHeight*t.seriesIndex)}else{var g,x=n.globals.seriesYAxisMap[t.yAxisIndex][0],b=n.config.yaxis[t.yAxisIndex].logarithmic?new Hs(this.annoCtx.ctx).getLogVal(n.config.yaxis[t.yAxisIndex].logBase,r,x)/n.globals.yLogRatio[x]:(r-n.globals.minYArr[x])/(n.globals.yRange[x]/n.globals.gridHeight);i=n.globals.gridHeight-Math.min(Math.max(b,0),n.globals.gridHeight),o=b>n.globals.gridHeight||b<0,!t.marker||t.y!==void 0&&t.y!==null||(i=0),(g=n.config.yaxis[t.yAxisIndex])!==null&&g!==void 0&&g.reversed&&(i=b)}return typeof r=="string"&&r.includes("px")&&(i=parseFloat(r)),{yP:i,clipped:o}}},{key:"getX1X2",value:function(e,t){var i=this.w,n=e==="x1"?t.x:t.x2,r=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,o=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,s=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,u=!1,d=this.annoCtx.inversedReversedAxis?(o-n)/(s/i.globals.gridWidth):(n-r)/(s/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(d=this.getStringX(n)),typeof n=="string"&&n.includes("px")&&(d=parseFloat(n)),n==null&&t.marker&&(d=i.globals.gridWidth),t.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*t.seriesIndex),typeof d!="number"&&(d=0,u=!0),parseFloat(d.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(d=i.globals.gridWidth,u=!0):d<0&&(d=0,u=!0),{x:d,clipped:u}}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var n=t.globals.labels.map((function(o){return Array.isArray(o)?o.join(" "):o})).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(n+1,")"));return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),a})(),MX=(function(){function a(e){wn(this,a),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Fv(this.annoCtx)}return bn(a,[{key:"addXaxisAnnotation",value:function(e,t,i){var n,r=this.w,o=this.helpers.getX1X2("x1",e),s=o.x,u=o.clipped,d=!0,g=e.label.text,x=e.strokeDashArray;if(Et.isNumber(s)){if(e.x2===null||e.x2===void 0){if(!u){var b=this.annoCtx.graphics.drawLine(s+e.offsetX,0+e.offsetY,s+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,x,e.borderWidth);t.appendChild(b.node),e.id&&b.node.classList.add(e.id)}}else{var S=this.helpers.getX1X2("x2",e);if(n=S.x,d=S.clipped,n<s){var P=s;s=n,n=P}var I=this.annoCtx.graphics.drawRect(s+e.offsetX,0+e.offsetY,n-s,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,x);I.node.classList.add("apexcharts-annotation-rect"),I.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(I.node),e.id&&I.node.classList.add(e.id)}if(!u||!d){var O=this.annoCtx.graphics.getTextRects(g,parseFloat(e.label.style.fontSize)),H=e.label.position==="top"?4:e.label.position==="center"?r.globals.gridHeight/2+(e.label.orientation==="vertical"?O.width/2:0):r.globals.gridHeight,Q=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:H+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?O.width/2-12:-O.width/2:0),text:g,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});Q.attr({rel:i}),t.appendChild(Q.node),this.annoCtx.helpers.setOrientations(e,i)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(n,r){e.addXaxisAnnotation(n,i.node,r)})),i}}]),a})(),Qo=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return bn(a,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,n=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(yo(i.months)),o=[""].concat(yo(i.shortMonths)),s=[""].concat(yo(i.days)),u=[""].concat(yo(i.shortDays));function d(ne,te){var he=ne+"";for(te=te||2;he.length<te;)he="0"+he;return he}var g=n?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+g)).replace(/(^|[^\\])yy/g,"$1"+g.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+g);var x=(n?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(x))).replace(/(^|[^\\])M/g,"$1"+x);var b=n?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+u[0])).replace(/(^|[^\\])dd/g,"$1"+d(b))).replace(/(^|[^\\])d/g,"$1"+b);var S=n?e.getUTCHours():e.getHours(),P=S>12?S-12:S===0?12:S;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+d(S))).replace(/(^|[^\\])H/g,"$1"+S)).replace(/(^|[^\\])hh+/g,"$1"+d(P))).replace(/(^|[^\\])h/g,"$1"+P);var I=n?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+d(I))).replace(/(^|[^\\])m/g,"$1"+I);var O=n?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+d(O))).replace(/(^|[^\\])s/g,"$1"+O);var H=n?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+d(H,3)),H=Math.round(H/10),t=t.replace(/(^|[^\\])ff/g,"$1"+d(H)),H=Math.round(H/10);var Q=S<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+H)).replace(/(^|[^\\])TT+/g,"$1"+Q)).replace(/(^|[^\\])T/g,"$1"+Q.charAt(0));var Y=Q.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+Y)).replace(/(^|[^\\])t/g,"$1"+Y.charAt(0));var Z=-e.getTimezoneOffset(),J=n||!Z?"Z":Z>0?"+":"-";if(!n){var re=(Z=Math.abs(Z))%60;J+=d(Math.floor(Z/60))+":"+d(re)}t=t.replace(/(^|[^\\])K/g,"$1"+J);var q=(n?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(s[0],"g"),s[q])).replace(new RegExp(u[0],"g"),u[q])).replace(new RegExp(r[0],"g"),r[x])).replace(new RegExp(o[0],"g"),o[x])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var n=this.w;n.config.xaxis.min!==void 0&&(e=n.config.xaxis.min),n.config.xaxis.max!==void 0&&(t=n.config.xaxis.max);var r=this.getDate(e),o=this.getDate(t),s=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),u=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(s[6],10),maxMillisecond:parseInt(u[6],10),minSecond:parseInt(s[5],10),maxSecond:parseInt(u[5],10),minMinute:parseInt(s[4],10),maxMinute:parseInt(u[4],10),minHour:parseInt(s[3],10),maxHour:parseInt(u[3],10),minDate:parseInt(s[2],10),maxDate:parseInt(u[2],10),minMonth:parseInt(s[1],10)-1,maxMonth:parseInt(u[1],10)-1,minYear:parseInt(s[0],10),maxYear:parseInt(u[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var n=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&n++,n}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=Et.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),a})(),ry=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return bn(a,[{key:"xLabelFormat",value:function(e,t,i,n){var r=this.w;if(r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0&&r.config.tooltip.x.formatter===void 0){var o=new Qo(this.ctx);return o.formatDate(o.getDate(t),r.config.tooltip.x.format)}return e(t,i,n)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,i){var n=this.w;if(Et.isNumber(e))if(n.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:n.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(i){if(Et.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(Et.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?i.toFixed(1):i.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(i,n){i.labels.formatter!==void 0?t.globals.yLabelFormatters[n]=i.labels.formatter:t.globals.yLabelFormatters[n]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map((function(o){return e.defaultYFormatter(o,i,n)})):e.defaultYFormatter(r,i,n):r}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(i,n){return i.length>n.length?i:n}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),a})(),df=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"getLabel",value:function(e,t,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",s=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],u=this.w,d=e[n]===void 0?"":e[n],g=d,x=u.globals.xLabelFormatter,b=u.config.xaxis.labels.formatter,S=!1,P=new ry(this.ctx),I=d;s&&(g=P.xLabelFormat(x,d,I,{i:n,dateFormatter:new Qo(this.ctx).formatDate,w:u}),b!==void 0&&(g=b(d,e[n],{i:n,dateFormatter:new Qo(this.ctx).formatDate,w:u})));var O,H;t.length>0?(O=t[n].unit,H=null,t.forEach((function(J){J.unit==="month"?H="year":J.unit==="day"?H="month":J.unit==="hour"?H="day":J.unit==="minute"&&(H="hour")})),S=H===O,i=t[n].position,g=t[n].value):u.config.xaxis.type==="datetime"&&b===void 0&&(g=""),g===void 0&&(g=""),g=Array.isArray(g)?g:g.toString();var Q=new vi(this.ctx),Y={};Y=u.globals.rotateXLabels&&s?Q.getTextRects(g,parseInt(o,10),null,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1):Q.getTextRects(g,parseInt(o,10));var Z=!u.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(g)&&(String(g)==="NaN"||r.indexOf(g)>=0&&Z)&&(g=""),{x:i,text:g,textRect:Y,isBold:S}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var n=this.w,r=n.config.xaxis.tickAmount;return r==="dataPoints"&&(r=Math.round(n.globals.gridWidth/120)),r>i||e%Math.round(i/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,n,r){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&n.length>0){var s=r[r.length-1];if(o.config.xaxis.labels.trim&&o.config.xaxis.type!=="datetime")return t;t.x<s.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+s.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(i){return t.collapsedSeriesIndices.indexOf(i)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,i=t.globals,n=t.config.yaxis;return i.series.length>n.length||n.some((function(r){return Array.isArray(r.seriesName)}))?e:i.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=t.config.yaxis[e];if(!i.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!i.showForNullSeries){var n=t.globals.seriesYAxisMap[e],r=new Hs(this.ctx);return n.every((function(o){return r.isSeriesNull(o)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,n,r,o,s){var u=this.w,d=new vi(this.ctx),g=u.globals.translateY+u.config.yaxis[r].labels.offsetY;if(u.globals.isBarHorizontal?g=0:u.config.chart.type==="heatmap"&&(g+=o/2),n.show&&t>0){u.config.yaxis[r].opposite===!0&&(e+=n.width);for(var x=t;x>=0;x--){var b=d.drawLine(e+i.offsetX-n.width+n.offsetX,g+n.offsetY,e+i.offsetX+n.offsetX,g+n.offsetY,n.color);s.add(b),g+=o}}}}]),a})(),LX=(function(){function a(e){wn(this,a),this.w=e.w,this.annoCtx=e,this.helpers=new Fv(this.annoCtx),this.axesUtils=new df(this.annoCtx)}return bn(a,[{key:"addYaxisAnnotation",value:function(e,t,i){var n,r=this.w,o=e.strokeDashArray,s=this.helpers.getY1Y2("y1",e),u=s.yP,d=s.clipped,g=!0,x=!1,b=e.label.text;if(e.y2===null||e.y2===void 0){if(!d){x=!0;var S=this.annoCtx.graphics.drawLine(0+e.offsetX,u+e.offsetY,this._getYAxisAnnotationWidth(e),u+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(S.node),e.id&&S.node.classList.add(e.id)}}else{if(n=(s=this.helpers.getY1Y2("y2",e)).yP,g=s.clipped,n>u){var P=u;u=n,n=P}if(!d||!g){x=!0;var I=this.annoCtx.graphics.drawRect(0+e.offsetX,n+e.offsetY,this._getYAxisAnnotationWidth(e),u-n,0,e.fillColor,e.opacity,1,e.borderColor,o);I.node.classList.add("apexcharts-annotation-rect"),I.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(I.node),e.id&&I.node.classList.add(e.id)}}if(x){var O=e.label.position==="right"?r.globals.gridWidth:e.label.position==="center"?r.globals.gridWidth/2:0,H=this.annoCtx.graphics.drawText({x:O+e.label.offsetX,y:(n??u)+e.label.offsetY-3,text:b,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});H.attr({rel:i}),t.appendChild(H.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(n,r){n.yAxisIndex=e.axesUtils.translateYAxisIndex(n.yAxisIndex),e.axesUtils.isYAxisHidden(n.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(n.yAxisIndex)||e.addYaxisAnnotation(n,i.node,r)})),i}}]),a})(),FX=(function(){function a(e){wn(this,a),this.w=e.w,this.annoCtx=e,this.helpers=new Fv(this.annoCtx)}return bn(a,[{key:"addPointAnnotation",value:function(e,t,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var n=this.helpers.getX1X2("x1",e),r=n.x,o=n.clipped,s=(n=this.helpers.getY1Y2("y1",e)).yP,u=n.clipped;if(Et.isNumber(r)&&!u&&!o){var d={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},g=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,s+e.marker.offsetY,d);t.appendChild(g.node);var x=e.label.text?e.label.text:"",b=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:s+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:x,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(b.attr({rel:i}),t.appendChild(b.node),e.customSVG.SVG){var S=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});S.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(s+e.customSVG.offsetY,")")}),S.node.innerHTML=e.customSVG.SVG,t.appendChild(S.node)}if(e.image.path){var P=e.image.width?e.image.width:20,I=e.image.height?e.image.height:20;g=this.annoCtx.addImage({x:r+e.image.offsetX-P/2,y:s+e.image.offsetY-I/2,width:P,height:I,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&g.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&g.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&g.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(n,r){e.addPointAnnotation(n,i.node,r)})),i}}]),a})(),RO={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},nA=(function(){function a(){wn(this,a),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return bn(a,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[RO],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,i){return t+i}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,i){return t+i}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),a})(),PX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.graphics=new vi(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Fv(this),this.xAxisAnnotations=new MX(this),this.yAxisAnnotations=new LX(this),this.pointsAnnotations=new FX(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return bn(a,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),n=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,o=[t,i,n],s=[i.node,t.node,n.node],u=0;u<3;u++)e.globals.dom.elGraphical.add(o[u]),!r||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&s[u].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:s[u],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,i){e.addImage(t,i)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,i){e.addText(t,i)}))}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var i=e.x,n=e.y,r=e.text,o=e.textAnchor,s=e.foreColor,u=e.fontSize,d=e.fontFamily,g=e.fontWeight,x=e.cssClass,b=e.backgroundColor,S=e.borderWidth,P=e.strokeDashArray,I=e.borderRadius,O=e.borderColor,H=e.appendTo,Q=H===void 0?".apexcharts-svg":H,Y=e.paddingLeft,Z=Y===void 0?4:Y,J=e.paddingRight,re=J===void 0?4:J,q=e.paddingBottom,ne=q===void 0?2:q,te=e.paddingTop,he=te===void 0?2:te,ve=this.w,de=this.graphics.drawText({x:i,y:n,text:r,textAnchor:o||"start",fontSize:u||"12px",fontWeight:g||"regular",fontFamily:d||ve.config.chart.fontFamily,foreColor:s||ve.config.chart.foreColor,cssClass:x}),be=ve.globals.dom.baseEl.querySelector(Q);be&&be.appendChild(de.node);var De=de.bbox();if(r){var Ie=this.graphics.drawRect(De.x-Z,De.y-he,De.width+Z+re,De.height+ne+he,I,b||"transparent",1,S,O,P);be.insertBefore(Ie.node,de.node)}}},{key:"addImage",value:function(e,t){var i=this.w,n=e.path,r=e.x,o=r===void 0?0:r,s=e.y,u=s===void 0?0:s,d=e.width,g=d===void 0?20:d,x=e.height,b=x===void 0?20:x,S=e.appendTo,P=S===void 0?".apexcharts-svg":S,I=i.globals.dom.Paper.image(n);I.size(g,b).move(o,u);var O=i.globals.dom.baseEl.querySelector(P);return O&&O.appendChild(I.node),I}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,n=e.context,r=e.type,o=e.contextMethod,s=n,u=s.w,d=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),g=d.childNodes.length+1,x=new nA,b=Object.assign({},r==="xaxis"?x.xAxisAnnotation:r==="yaxis"?x.yAxisAnnotation:x.pointAnnotation),S=Et.extend(b,t);switch(r){case"xaxis":this.addXaxisAnnotation(S,d,g);break;case"yaxis":this.addYaxisAnnotation(S,d,g);break;case"point":this.addPointAnnotation(S,d,g)}var P=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(g,"']")),I=this.helpers.addBackgroundToAnno(P,S);return I&&d.insertBefore(I.node,P),i&&u.globals.memory.methodsToExec.push({context:s,id:S.id?S.id:Et.randomId(),method:o,label:"addAnnotation",params:t}),n}},{key:"clearAnnotations",value:function(e){for(var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),n=t.globals.memory.methodsToExec.length-1;n>=0;n--)t.globals.memory.methodsToExec[n].label!=="addText"&&t.globals.memory.methodsToExec[n].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(n,1);i=Et.listToArray(i),Array.prototype.forEach.call(i,(function(r){for(;r.firstChild;)r.removeChild(r.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var i=e.w,n=i.globals.dom.baseEl.querySelectorAll(".".concat(t));n&&(i.globals.memory.methodsToExec.map((function(r,o){r.id===t&&i.globals.memory.methodsToExec.splice(o,1)})),Object.keys(i.config.annotations).forEach((function(r){var o=i.config.annotations[r];Array.isArray(o)&&(i.config.annotations[r]=o.filter((function(s){return s.id!==t})))})),Array.prototype.forEach.call(n,(function(r){r.parentElement.removeChild(r)})))}}]),a})(),v1=function(a){var e,t=a.isTimeline,i=a.ctx,n=a.seriesIndex,r=a.dataPointIndex,o=a.y1,s=a.y2,u=a.w,d=u.globals.seriesRangeStart[n][r],g=u.globals.seriesRangeEnd[n][r],x=u.globals.labels[r],b=u.config.series[n].name?u.config.series[n].name:"",S=u.globals.ttKeyFormatter,P=u.config.tooltip.y.title.formatter,I={w:u,seriesIndex:n,dataPointIndex:r,start:d,end:g};typeof P=="function"&&(b=P(b,I)),(e=u.config.series[n].data[r])!==null&&e!==void 0&&e.x&&(x=u.config.series[n].data[r].x),t||u.config.xaxis.type==="datetime"&&(x=new ry(i).xLabelFormat(u.globals.ttKeyFormatter,x,x,{i:void 0,dateFormatter:new Qo(i).formatDate,w:u})),typeof S=="function"&&(x=S(x,I)),Number.isFinite(o)&&Number.isFinite(s)&&(d=o,g=s);var O="",H="",Q=u.globals.colors[n];if(u.config.tooltip.x.formatter===void 0)if(u.config.xaxis.type==="datetime"){var Y=new Qo(i);O=Y.formatDate(Y.getDate(d),u.config.tooltip.x.format),H=Y.formatDate(Y.getDate(g),u.config.tooltip.x.format)}else O=d,H=g;else O=u.config.tooltip.x.formatter(d),H=u.config.tooltip.x.formatter(g);return{start:d,end:g,startVal:O,endVal:H,ylabel:x,color:Q,seriesName:b}},w1=function(a){var e=a.color,t=a.seriesName,i=a.ylabel,n=a.start,r=a.end,o=a.seriesIndex,s=a.dataPointIndex,u=a.ctx.tooltip.tooltipLabels.getFormatters(o);n=u.yLbFormatter(n),r=u.yLbFormatter(r);var d=u.yLbFormatter(a.w.globals.series[o][s]),g=`<span class="value start-value">
  `.concat(n,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(r,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+i+": </span> "+(a.w.globals.comboCharts?a.w.config.series[o].type==="rangeArea"||a.w.config.series[o].type==="rangeBar"?g:"<span>".concat(d,"</span>"):g)+" </div></div>"},z0=(function(){function a(e){wn(this,a),this.opts=e}return bn(a,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),Et.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var i=t.w.config.series[t.seriesIndex].name;return e!==null?i+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),ji(ji({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,n=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,n,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,n=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,n,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var i=t.seriesIndex,n=t.dataPointIndex,r=t.w,o=function(){var s=r.globals.seriesRangeStart[i][n];return r.globals.seriesRangeEnd[i][n]-s};return r.globals.comboCharts?r.config.series[i].type==="rangeBar"||r.config.series[i].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var i=v1(ji(ji({},t),{},{isTimeline:!0})),n=i.color,r=i.seriesName,o=i.ylabel,s=i.startVal,u=i.endVal;return w1(ji(ji({},t),{},{color:n,seriesName:r,ylabel:o,start:s,end:u}))})(e):(function(t){var i=v1(t),n=i.color,r=i.seriesName,o=i.ylabel,s=i.start,u=i.end;return w1(ji(ji({},t),{},{color:n,seriesName:r,ylabel:o,start:s,end:u}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,i;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(i=e.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var i=v1(t),n=i.color,r=i.seriesName,o=i.ylabel,s=i.start,u=i.end;return w1(ji(ji({},t),{},{color:n,seriesName:r,ylabel:o,start:s,end:u}))})(e)}}}}},{key:"brush",value:function(e){return Et.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(i,n){e.yaxis[n].min=0,e.yaxis[n].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),e}},{key:"stackedBars",value:function(){var e=this.bar();return ji(ji({},e),{},{plotOptions:ji(ji({},e.plotOptions),{},{bar:ji(ji({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return Et.isNumber(o)?Math.floor(o):o};var n=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(r=i.map((function(o){return Array.isArray(o)?o:String(o)}))),r&&r.length&&(e.xaxis.labels.formatter=function(o){return Et.isNumber(o)?n(r[Math.floor(o)-1]):n(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,i,n,r){var o=e.globals.seriesCandleO[t][i],s=e.globals.seriesCandleH[t][i],u=e.globals.seriesCandleM[t][i],d=e.globals.seriesCandleL[t][i],g=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==r?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(n[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(n[1],': <span class="value">')+s+"</span></div>"+(u?"<div>".concat(n[2],': <span class="value">')+u+"</span></div>":"")+"<div>".concat(n[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(n[4],': <span class="value">')+g+"</span></div></div>"}}]),a})(),H0=(function(){function a(e){wn(this,a),this.opts=e}return bn(a,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,n=new nA,r=new z0(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=n.init(),s={};if(i&&El(i)==="object"){var u,d,g,x,b,S,P,I,O,H,Q={};Q=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?r[i.chart.type]():r.line(),(u=i.plotOptions)!==null&&u!==void 0&&(d=u.bar)!==null&&d!==void 0&&d.isFunnel&&(Q=r.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(Q=r.stackedBars()),(g=i.chart.brush)!==null&&g!==void 0&&g.enabled&&(Q=r.brush(Q)),(x=i.plotOptions)!==null&&x!==void 0&&(b=x.line)!==null&&b!==void 0&&b.isSlopeChart&&(Q=r.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=r.stacked100(i)),(S=i.plotOptions)!==null&&S!==void 0&&(P=S.bar)!==null&&P!==void 0&&P.isDumbbell&&(i=r.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((I=(i=this.checkForCatToNumericXAxis(this.chartType,Q,i)).chart.sparkline)!==null&&I!==void 0&&I.enabled||(O=window.Apex.chart)!==null&&O!==void 0&&(H=O.sparkline)!==null&&H!==void 0&&H.enabled)&&(Q=r.sparkline(Q)),s=Et.extend(o,Q)}var Y=Et.extend(s,window.Apex);return o=Et.extend(Y,i),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var n,r,o=new z0(i),s=(e==="bar"||e==="boxPlot")&&((n=i.plotOptions)===null||n===void 0||(r=n.bar)===null||r===void 0?void 0:r.horizontal),u=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",d=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",g=i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return s||u||!d||g==="between"||(i=o.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new nA;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=Et.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[Et.extend(i.yAxis,e.yaxis)]:e.yaxis=Et.extendArray(e.yaxis,i.yAxis);var n=!1;e.yaxis.forEach((function(o){o.logarithmic&&(n=!0)}));var r=e.series;return t&&!r&&(r=t.config.series),n&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map((function(o,s){if(o.name||(r[s].name="series-".concat(s+1)),e.yaxis[s])return e.yaxis[s].seriesName=r[s].name,e.yaxis[s];var u=Et.extend(i.yAxis,e.yaxis[0]);return u.show=!1,u}))),n&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new nA;return e.annotations.yaxis=Et.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new nA;return e.annotations.xaxis=Et.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new nA;return e.annotations.points=Et.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),a})(),OO=(function(){function a(){wn(this,a)}return bn(a,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=Et.extend({},e),t.initialSeries=Et.clone(e.series),t.lastXAxis=Et.clone(t.initialConfig.xaxis),t.lastYAxis=Et.clone(t.initialConfig.yaxis),t}}]),a})(),DX=(function(){function a(e){wn(this,a),this.opts=e}return bn(a,[{key:"init",value:function(){var e=new H0(this.opts).init({responsiveOverride:!1});return{config:e,globals:new OO().init(e)}}}]),a})(),Tu=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return bn(a,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,n=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),o=n>r?n:r,s=e.image,u=0,d=0;e.width===void 0&&e.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(u=i.fill.image.width+1,d=i.fill.image.height):(u=o+1,d=o):(u=e.width,d=e.height);var g=document.createElementNS(t.globals.SVGNS,"pattern");vi.setAttrs(g,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:u+"px",height:d+"px"});var x=document.createElementNS(t.globals.SVGNS,"image");g.appendChild(x),x.setAttributeNS(window.SVG.xlink,"href",s),vi.setAttrs(x,{x:0,y:0,preserveAspectRatio:"none",width:u+"px",height:d+"px"}),x.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(g)}},{key:"getSeriesIndex",value:function(e){var t=this.w,i=t.config.chart.type;return(i==="bar"||i==="rangeBar")&&t.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var i,n=this.w,r=null,o=null,s=Gm(e);try{for(s.s();!(i=s.n()).done;){var u=i.value;u>=t.threshold?(r===null||u>r)&&(r=u):(o===null||u<o)&&(o=u)}}catch(x){s.e(x)}finally{s.f()}r===null&&(r=t.threshold),o===null&&(o=t.threshold);var d=r-t.threshold+(t.threshold-o);d===0&&(d=1);var g=100-(t.threshold-o)/d*100;return[{offset:g=Math.max(0,Math.min(g,100)),color:t.colorAboveThreshold,opacity:n.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:n.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,i,n,r=this.w;this.opts=e;var o,s,u,d=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var g=d.plotOptions.line.colors.colorAboveThreshold&&d.plotOptions.line.colors.colorBelowThreshold,x=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(x=r.globals.seriesColors[this.seriesIndex]),typeof x=="function"&&(x=x({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:r}));var b,S,P,I=e.fillType?e.fillType:this.getFillType(this.seriesIndex),O=Array.isArray(d.fill.opacity)?d.fill.opacity[this.seriesIndex]:d.fill.opacity,H=I==="gradient"||g;e.color&&(x=e.color),(t=r.config.series[this.seriesIndex])!==null&&t!==void 0&&(i=t.data)!==null&&i!==void 0&&(n=i[e.dataPointIndex])!==null&&n!==void 0&&n.fillColor&&(x=(b=r.config.series[this.seriesIndex])===null||b===void 0||(S=b.data)===null||S===void 0||(P=S[e.dataPointIndex])===null||P===void 0?void 0:P.fillColor),x||(x="#fff",console.warn("undefined color - ApexCharts"));var Q=x;if(x.indexOf("rgb")===-1?x.indexOf("#")===-1?Q=x:x.length<9&&(Q=Et.hexToRgba(x,O)):x.indexOf("rgba")>-1?O=Et.getOpacityFromRGBA(x):Q=Et.hexToRgba(Et.rgb2hex(x),O),e.opacity&&(O=e.opacity),I==="pattern"&&(s=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:s,fillColor:x,fillOpacity:O,defaultColor:Q})),H){var Y=yo(d.fill.gradient.colorStops)||[],Z=d.fill.gradient.type;g&&(Y[this.seriesIndex]=this.computeColorStops(r.globals.series[this.seriesIndex],d.plotOptions.line.colors),Z="vertical"),u=this.handleGradientFill({type:Z,fillConfig:e.fillConfig,fillColor:x,fillOpacity:O,colorStops:Y,i:this.seriesIndex})}if(I==="image"){var J=d.fill.image.src,re=e.patternID?e.patternID:"",q="pattern".concat(r.globals.cuid).concat(e.seriesNumber+1).concat(re);this.patternIDs.indexOf(q)===-1&&(this.clippedImgArea({opacity:O,image:Array.isArray(J)?e.seriesNumber<J.length?J[e.seriesNumber]:J[0]:J,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:q}),this.patternIDs.push(q)),o="url(#".concat(q,")")}else o=H?u:I==="pattern"?s:Q;return e.solid&&(o=Q),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,n=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?n=e.globals.stroke.colors:n.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?n=e.globals.fill.colors:n.push(e.globals.fill.colors),i.fillColors!==void 0&&(n=[],Array.isArray(i.fillColors)?n=i.fillColors.slice():n.push(i.fillColors)),n}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,i=e.patternFill,n=e.fillColor,r=e.fillOpacity,o=e.defaultColor,s=this.w.config.fill;t&&(s=t);var u=this.opts,d=new vi(this.ctx),g=Array.isArray(s.pattern.strokeWidth)?s.pattern.strokeWidth[this.seriesIndex]:s.pattern.strokeWidth,x=n;return Array.isArray(s.pattern.style)?i=s.pattern.style[u.seriesNumber]!==void 0?d.drawPattern(s.pattern.style[u.seriesNumber],s.pattern.width,s.pattern.height,x,g,r):o:i=d.drawPattern(s.pattern.style,s.pattern.width,s.pattern.height,x,g,r),i}},{key:"handleGradientFill",value:function(e){var t=e.type,i=e.fillColor,n=e.fillOpacity,r=e.fillConfig,o=e.colorStops,s=e.i,u=this.w.config.fill;r&&(u=ji(ji({},u),r));var d=this.opts,g=new vi(this.ctx),x=new Et;t=t||u.gradient.type;var b,S=i,P=u.gradient.opacityFrom===void 0?n:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[s]:u.gradient.opacityFrom;S.indexOf("rgba")>-1&&(P=Et.getOpacityFromRGBA(S));var I=u.gradient.opacityTo===void 0?n:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[s]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)b=u.gradient.shade==="dark"?x.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?Et.rgb2hex(i):i):x.shadeColor(parseFloat(u.gradient.shadeIntensity),i.indexOf("rgb")>-1?Et.rgb2hex(i):i);else if(u.gradient.gradientToColors[d.seriesNumber]){var O=u.gradient.gradientToColors[d.seriesNumber];b=O,O.indexOf("rgba")>-1&&(I=Et.getOpacityFromRGBA(O))}else b=i;if(u.gradient.gradientFrom&&(S=u.gradient.gradientFrom),u.gradient.gradientTo&&(b=u.gradient.gradientTo),u.gradient.inverseColors){var H=S;S=b,b=H}return S.indexOf("rgb")>-1&&(S=Et.rgb2hex(S)),b.indexOf("rgb")>-1&&(b=Et.rgb2hex(b)),g.drawGradient(t,S,b,P,I,d.size,u.gradient.stops,o,s)}}]),a})(),Ig=(function(){function a(e,t){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(i){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,i=e.seriesIndex,n=e.j,r=e.pSize,o=e.alwaysDrawMarker,s=o!==void 0&&o,u=e.isVirtualPoint,d=u!==void 0&&u,g=this.w,x=i,b=t,S=null,P=new vi(this.ctx),I=g.config.markers.discrete&&g.config.markers.discrete.length;if(Array.isArray(b.x))for(var O=0;O<b.x.length;O++){var H=void 0,Q=n,Y=!Et.isNumber(b.y[O]);g.globals.markers.largestSize===0&&g.globals.hasNullValues&&g.globals.series[x][n+1]!==null&&!d&&(Y=!0),n===1&&O===0&&(Q=0),n===1&&O===1&&(Q=1);var Z="apexcharts-marker";if(g.config.chart.type!=="line"&&g.config.chart.type!=="area"||g.globals.comboCharts||g.config.tooltip.intersect||(Z+=" no-pointer-events"),(Array.isArray(g.config.markers.size)?g.globals.markers.size[i]>0:g.config.markers.size>0)||s||I){Y||(Z+=" w".concat(Et.randomId()));var J=this.getMarkerConfig({cssClass:Z,seriesIndex:i,dataPointIndex:Q});g.config.series[x].data[Q]&&(g.config.series[x].data[Q].fillColor&&(J.pointFillColor=g.config.series[x].data[Q].fillColor),g.config.series[x].data[Q].strokeColor&&(J.pointStrokeColor=g.config.series[x].data[Q].strokeColor)),r!==void 0&&(J.pSize=r),(b.x[O]<-g.globals.markers.largestSize||b.x[O]>g.globals.gridWidth+g.globals.markers.largestSize||b.y[O]<-g.globals.markers.largestSize||b.y[O]>g.globals.gridHeight+g.globals.markers.largestSize)&&(J.pSize=0),!Y&&((g.globals.markers.size[i]>0||s||I)&&!S&&(S=P.group({class:s||I?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(g.globals.cuid,")")),(H=P.drawMarker(b.x[O],b.y[O],J)).attr("rel",Q),H.attr("j",Q),H.attr("index",i),H.node.setAttribute("default-marker-size",J.pSize),new Go(this.ctx).setSelectionFilter(H,i,Q),this.addEvents(H),S&&S.add(H))}else g.globals.pointsArray[i]===void 0&&(g.globals.pointsArray[i]=[]),g.globals.pointsArray[i].push([b.x[O],b.y[O]])}return S}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,n=e.dataPointIndex,r=n===void 0?null:n,o=e.radius,s=o===void 0?null:o,u=e.size,d=u===void 0?null:u,g=e.strokeWidth,x=g===void 0?null:g,b=this.w,S=this.getMarkerStyle(i),P=d===null?b.globals.markers.size[i]:d,I=b.config.markers;return r!==null&&I.discrete.length&&I.discrete.map((function(O){O.seriesIndex===i&&O.dataPointIndex===r&&(S.pointStrokeColor=O.strokeColor,S.pointFillColor=O.fillColor,P=O.size,S.pointShape=O.shape)})),{pSize:s===null?P:s,pRadius:s!==null?s:I.radius,pointStrokeWidth:x!==null?x:Array.isArray(I.strokeWidth)?I.strokeWidth[i]:I.strokeWidth,pointStrokeColor:S.pointStrokeColor,pointFillColor:S.pointFillColor,shape:S.pointShape||(Array.isArray(I.shape)?I.shape[i]:I.shape),class:t,pointStrokeOpacity:Array.isArray(I.strokeOpacity)?I.strokeOpacity[i]:I.strokeOpacity,pointStrokeDashArray:Array.isArray(I.strokeDashArray)?I.strokeDashArray[i]:I.strokeDashArray,pointFillOpacity:Array.isArray(I.fillOpacity)?I.fillOpacity[i]:I.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new vi(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,n=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(n)?n[e]:n,pointFillColor:Array.isArray(i)?i[e]:i}}}]),a})(),UO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return bn(a,[{key:"draw",value:function(e,t,i){var n=this.w,r=new vi(this.ctx),o=i.realIndex,s=i.pointsPos,u=i.zRatio,d=i.elParent,g=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(n.config.chart.type)});if(g.attr("clip-path","url(#gridRectMarkerMask".concat(n.globals.cuid,")")),Array.isArray(s.x))for(var x=0;x<s.x.length;x++){var b=t+1,S=!0;t===0&&x===0&&(b=0),t===0&&x===1&&(b=1);var P=n.globals.markers.size[o];if(u!==1/0){var I=n.config.plotOptions.bubble;P=n.globals.seriesZ[o][b],I.zScaling&&(P/=u),I.minBubbleRadius&&P<I.minBubbleRadius&&(P=I.minBubbleRadius),I.maxBubbleRadius&&P>I.maxBubbleRadius&&(P=I.maxBubbleRadius)}var O=s.x[x],H=s.y[x];if(P=P||0,H!==null&&n.globals.series[o][b]!==void 0||(S=!1),S){var Q=this.drawPoint(O,H,P,o,b,t);g.add(Q)}d.add(g)}}},{key:"drawPoint",value:function(e,t,i,n,r,o){var s=this.w,u=n,d=new Bg(this.ctx),g=new Go(this.ctx),x=new Tu(this.ctx),b=new Ig(this.ctx),S=new vi(this.ctx),P=b.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:u,dataPointIndex:r,radius:s.config.chart.type==="bubble"||s.globals.comboCharts&&s.config.series[n]&&s.config.series[n].type==="bubble"?i:null}),I=x.fillPath({seriesNumber:n,dataPointIndex:r,color:P.pointFillColor,patternUnits:"objectBoundingBox",value:s.globals.series[n][o]}),O=S.drawMarker(e,t,P);if(s.config.series[u].data[r]&&s.config.series[u].data[r].fillColor&&(I=s.config.series[u].data[r].fillColor),O.attr({fill:I}),s.config.chart.dropShadow.enabled){var H=s.config.chart.dropShadow;g.dropShadow(O,H,n)}if(!this.initialAnim||s.globals.dataChanged||s.globals.resized)s.globals.animationEnded=!0;else{var Q=s.config.chart.animations.speed;d.animateMarker(O,Q,s.globals.easing,(function(){window.setTimeout((function(){d.animationCompleted(O)}),100)}))}return O.attr({rel:r,j:r,index:n,"default-marker-size":P.pSize}),g.setSelectionFilter(O,n,r),b.addEvents(O),O.node.classList.add("apexcharts-marker"),O}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),a})(),_g=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"dataLabelsCorrection",value:function(e,t,i,n,r,o,s){var u=this.w,d=!1,g=new vi(this.ctx).getTextRects(i,s),x=g.width,b=g.height;t<0&&(t=0),t>u.globals.gridHeight+b&&(t=u.globals.gridHeight+b/2),u.globals.dataLabelsRects[n]===void 0&&(u.globals.dataLabelsRects[n]=[]),u.globals.dataLabelsRects[n].push({x:e,y:t,width:x,height:b});var S=u.globals.dataLabelsRects[n].length-2,P=u.globals.lastDrawnDataLabelsIndexes[n]!==void 0?u.globals.lastDrawnDataLabelsIndexes[n][u.globals.lastDrawnDataLabelsIndexes[n].length-1]:0;if(u.globals.dataLabelsRects[n][S]!==void 0){var I=u.globals.dataLabelsRects[n][P];(e>I.x+I.width||t>I.y+I.height||t+b<I.y||e+x<I.x)&&(d=!0)}return(r===0||o)&&(d=!0),{x:e,y:t,textRects:g,drawnextLabel:d}}},{key:"drawDataLabel",value:function(e){var t=this,i=e.type,n=e.pos,r=e.i,o=e.j,s=e.isRangeStart,u=e.strokeWidth,d=u===void 0?2:u,g=this.w,x=new vi(this.ctx),b=g.config.dataLabels,S=0,P=0,I=o,O=null;if(g.globals.collapsedSeriesIndices.indexOf(r)!==-1||!b.enabled||!Array.isArray(n.x))return O;O=x.group({class:"apexcharts-data-labels"});for(var H=0;H<n.x.length;H++)if(S=n.x[H]+b.offsetX,P=n.y[H]+b.offsetY+d,!isNaN(S)){o===1&&H===0&&(I=0),o===1&&H===1&&(I=1);var Q=g.globals.series[r][I];i==="rangeArea"&&(Q=s?g.globals.seriesRangeStart[r][I]:g.globals.seriesRangeEnd[r][I]);var Y="",Z=function(re){return g.config.dataLabels.formatter(re,{ctx:t.ctx,seriesIndex:r,dataPointIndex:I,w:g})};g.config.chart.type==="bubble"?(Y=Z(Q=g.globals.seriesZ[r][I]),P=n.y[H],P=new UO(this.ctx).centerTextInBubble(P,r,I).y):Q!==void 0&&(Y=Z(Q));var J=g.config.dataLabels.textAnchor;g.globals.isSlopeChart&&(J=I===0?"end":I===g.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:S,y:P,text:Y,i:r,j:I,parent:O,offsetCorrection:!0,dataLabelsConfig:g.config.dataLabels,textAnchor:J})}return O}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new vi(this.ctx),n=e.x,r=e.y,o=e.i,s=e.j,u=e.text,d=e.textAnchor,g=e.fontSize,x=e.parent,b=e.dataLabelsConfig,S=e.color,P=e.alwaysDrawDataLabel,I=e.offsetCorrection,O=e.className,H=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return H;var Q={x:n,y:r,drawnextLabel:!0,textRects:null};I&&(Q=this.dataLabelsCorrection(n,r,u,o,s,P,parseInt(b.style.fontSize,10))),t.globals.zoomed||(n=Q.x,r=Q.y),Q.textRects&&(n<-20-Q.textRects.width||n>t.globals.gridWidth+Q.textRects.width+30)&&(u="");var Y=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(Y=t.globals.dataLabels.style.colors[s]),typeof Y=="function"&&(Y=Y({series:t.globals.series,seriesIndex:o,dataPointIndex:s,w:t})),S&&(Y=S);var Z=b.offsetX,J=b.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(Z=0,J=0),t.globals.isSlopeChart&&(s!==0&&(Z=-2*b.offsetX+5),s!==0&&s!==t.config.series[o].data.length-1&&(Z=0)),Q.drawnextLabel){if(d==="middle"&&n===t.globals.gridWidth&&(d="end"),(H=i.drawText({width:100,height:parseInt(b.style.fontSize,10),x:n+Z,y:r+J,foreColor:Y,textAnchor:d||b.textAnchor,text:u,fontSize:g||b.style.fontSize,fontFamily:b.style.fontFamily,fontWeight:b.style.fontWeight||"normal"})).attr({class:O||"apexcharts-datalabel",cx:n,cy:r}),b.dropShadow.enabled){var re=b.dropShadow;new Go(this.ctx).dropShadow(H,re)}x.add(H),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(s)}return H}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,n=i.config.dataLabels.background,r=n.padding,o=n.padding/2,s=t.width,u=t.height,d=new vi(this.ctx).drawRect(t.x-r,t.y-o/2,s+2*r,u+o,n.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",n.opacity,n.borderWidth,n.borderColor);return n.dropShadow.enabled&&new Go(this.ctx).dropShadow(d,n.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var n=t[i],r=n.getBBox(),o=null;if(r.width&&r.height&&(o=this.addBackgroundToDataLabel(n,r)),o){n.parentNode.insertBefore(o.node,n);var s=e.config.dataLabels.background.backgroundColor||n.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:s}):o.attr({fill:s}),n.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),n=0;n<t.length;n++)i&&i.insertBefore(t[n],i.nextSibling)}}]),a})(),NO=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,au=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return bn(a,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(Et.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function n(r){for(var o=0;o<r.length;o++)r[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}n(i.globals.collapsedSeries),n(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=this.w,r=Et.clone(n.globals.initialSeries);n.globals.previousPaths=[],i?(n.globals.collapsedSeries=[],n.globals.ancillaryCollapsedSeries=[],n.globals.collapsedSeriesIndices=[],n.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),n.config.series=r,e&&(t&&(n.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,i=this.getSeriesByName(e),n=parseInt(i?.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,s=null,u=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),s=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(n,"']"));var d=t.globals.seriesYAxisReverseMap[n];u=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"'] path"));for(var g=0;g<r.length;g++)r[g].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),s!==null&&s.classList.remove(this.legendInactiveClass),u!==null&&u.classList.remove(this.legendInactiveClass);else for(var x=0;x<r.length;x++)r[x].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[r])}else if(e.type==="mouseout")for(var o=0;o<n.length;o++)n[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,n=this.w,r=n.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var g=0;g<r.length;g++)r[g].classList[d](i.legendInactiveClass)};if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;o("add");var u=n.config.plotOptions.heatmap.colorScale.ranges;(function(d,g){for(var x=0;x<r.length;x++){var b=Number(r[x].getAttribute("val"));b>=d.from&&(b<d.to||d.to===g&&b===g)&&r[x].classList.remove(i.legendInactiveClass)}})(u[s],u.reduce((function(d,g){return Math.max(d,g.to)}),0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,n=0;if(i.config.series.length>1){for(var r=i.config.series.map((function(s,u){return s.data&&s.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(u)===-1&&(!i.globals.comboCharts||t.length===0||t.length&&t.indexOf(i.config.series[u].type)>-1)?u:-1})),o=e==="asc"?0:r.length-1;e==="asc"?o<r.length:o>=0;e==="asc"?o++:o--)if(r[o]!==-1){n=r[o];break}}return n}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,s,u){for(var d=o[s].childNodes,g={type:u,paths:[],realIndex:o[s].getAttribute("data:realIndex")},x=0;x<d.length;x++)if(d[x].hasAttribute("pathTo")){var b=d[x].getAttribute("pathTo");g.paths.push({d:b})}e.globals.previousPaths.push(g)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(o){for(var s,u=(s=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(s,"-series .apexcharts-series"))),d=0;d<u.length;d++)t(u,d,o)}));var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var n=function(o){for(var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),u=[],d=function(x){var b=function(P){return s[x].getAttribute(P)},S={x:parseFloat(b("x")),y:parseFloat(b("y")),width:parseFloat(b("width")),height:parseFloat(b("height"))};u.push({rect:S,color:s[x].getAttribute("color")})},g=0;g<s.length;g++)d(g);e.globals.previousPaths.push(u)},r=0;r<i.length;r++)n(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new vi(this.ctx),n=e.globals.svgWidth/2,r=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(n=10,o="start"):t.align==="right"&&(n=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?r=50:t.verticalAlign==="bottom"&&(r=e.globals.svgHeight-50),n+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var s=i.drawText({x:n,y:r,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(e[i].length===0)for(var n=0;n<e[t.globals.maxValsInArrayIndex].length;n++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),n=0;n<i.length-1;n++)if(i[n][0]!==i[n+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),a})(),H2=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Hs(this.ctx)}return bn(a,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new au(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new au(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,n=this.w.globals,r=i.chart.type==="boxPlot"||i.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!r?this.twoDSeries.push(Et.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(Et.parseNumber(e[t].data[o][4])):this.twoDSeries.push(Et.parseNumber(e[t].data[o][1])),n.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var s=new Date(e[t].data[o][0]);s=new Date(s).getTime(),this.twoDSeriesX.push(s)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var u=0;u<e[t].data.length;u++)e[t].data[u][2]!==void 0&&(this.threeDSeries.push(e[t].data[u][2]),n.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,n=this.w.globals,r=new Qo(this.ctx),o=t;n.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var s=0;s<e[t].data.length;s++)e[t].data[s].y!==void 0&&(Array.isArray(e[t].data[s].y)?this.twoDSeries.push(Et.parseNumber(e[t].data[s].y[e[t].data[s].y.length-1])):this.twoDSeries.push(Et.parseNumber(e[t].data[s].y))),e[t].data[s].goals!==void 0&&Array.isArray(e[t].data[s].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[s].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var u=0;u<e[o].data.length;u++){var d=typeof e[o].data[u].x=="string",g=Array.isArray(e[o].data[u].x),x=!g&&!!r.isValidDate(e[o].data[u].x);if(d||x)if(d||i.xaxis.convertedCatToNumeric){var b=n.isBarHorizontal&&n.isRangeData;i.xaxis.type!=="datetime"||b?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[u].x),isNaN(e[o].data[u].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[u].x=="string"||(n.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[o].data[u].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(r.parseDate(e[o].data[u].x.toString())):(n.dataFormatXNumeric=!0,n.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[u].x)));else g?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[u].x)):(n.isXNumeric=!0,n.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[u].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var S=0;S<e[t].data.length;S++)this.threeDSeries.push(e[t].data[S].z);n.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart[t]=n.start===void 0?[]:n.start,i.seriesRangeEnd[t]=n.end===void 0?[]:n.end,i.seriesRange[t]=n.rangeUniques,i.seriesRange.forEach((function(r,o){r&&r.forEach((function(s,u){s.y.forEach((function(d,g){for(var x=0;x<s.y.length;x++)if(g!==x){var b=d.y1,S=d.y2,P=s.y[x].y1;b<=s.y[x].y2&&P<=S&&(s.overlaps.indexOf(d.rangeName)<0&&s.overlaps.push(d.rangeName),s.overlaps.indexOf(s.y[x].rangeName)<0&&s.overlaps.push(s.y[x].rangeName))}}))}))})),n}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,n={};return this.isFormat2DArray()?n=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(n=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=n.o,i.seriesCandleH[t]=n.h,i.seriesCandleM[t]=n.m,i.seriesCandleL[t]=n.l,i.seriesCandleC[t]=n.c,n}},{key:"handleRangeDataFormat",value:function(e,t,i){var n=[],r=[],o=t[i].data.filter((function(g,x,b){return x===b.findIndex((function(S){return S.x===g.x}))})).map((function(g,x){return{x:g.x,overlaps:[],y:[]}}));if(e==="array")for(var s=0;s<t[i].data.length;s++)Array.isArray(t[i].data[s])?(n.push(t[i].data[s][1][0]),r.push(t[i].data[s][1][1])):(n.push(t[i].data[s]),r.push(t[i].data[s]));else if(e==="xy")for(var u=function(g){var x=Array.isArray(t[i].data[g].y),b=Et.randomId(),S=t[i].data[g].x,P={y1:x?t[i].data[g].y[0]:t[i].data[g].y,y2:x?t[i].data[g].y[1]:t[i].data[g].y,rangeName:b};t[i].data[g].rangeName=b;var I=o.findIndex((function(O){return O.x===S}));o[I].y.push(P),n.push(P.y1),r.push(P.y2)},d=0;d<t[i].data.length;d++)u(d);return{start:n,end:r,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var n=this.w,r=n.config.chart.type==="boxPlot"||n.config.series[i].type==="boxPlot",o=[],s=[],u=[],d=[],g=[];if(e==="array")if(r&&t[i].data[0].length===6||!r&&t[i].data[0].length===5)for(var x=0;x<t[i].data.length;x++)o.push(t[i].data[x][1]),s.push(t[i].data[x][2]),r?(u.push(t[i].data[x][3]),d.push(t[i].data[x][4]),g.push(t[i].data[x][5])):(d.push(t[i].data[x][3]),g.push(t[i].data[x][4]));else for(var b=0;b<t[i].data.length;b++)Array.isArray(t[i].data[b][1])&&(o.push(t[i].data[b][1][0]),s.push(t[i].data[b][1][1]),r?(u.push(t[i].data[b][1][2]),d.push(t[i].data[b][1][3]),g.push(t[i].data[b][1][4])):(d.push(t[i].data[b][1][2]),g.push(t[i].data[b][1][3])));else if(e==="xy")for(var S=0;S<t[i].data.length;S++)Array.isArray(t[i].data[S].y)&&(o.push(t[i].data[S].y[0]),s.push(t[i].data[S].y[1]),r?(u.push(t[i].data[S].y[2]),d.push(t[i].data[S].y[3]),g.push(t[i].data[S].y[4])):(d.push(t[i].data[S].y[2]),g.push(t[i].data[S].y[3])));return{o,h:s,m:u,l:d,c:g}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,n=this.w.config,r=this.w.globals,o=new Qo(i),s=n.labels.length>0?n.labels.slice():n.xaxis.categories.slice();r.isRangeBar=n.chart.type==="rangeBar"&&r.isBarHorizontal,r.hasXaxisGroups=n.xaxis.type==="category"&&n.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=n.xaxis.group.groups),e.forEach((function(S,P){S.name!==void 0?r.seriesNames.push(S.name):r.seriesNames.push("series-"+parseInt(P+1,10))})),this.coreUtils.setSeriesYAxisMappings();var u=[],d=yo(new Set(n.series.map((function(S){return S.group}))));n.series.forEach((function(S,P){var I=d.indexOf(S.group);u[I]||(u[I]=[]),u[I].push(r.seriesNames[P])})),r.seriesGroups=u;for(var g=function(){for(var S=0;S<s.length;S++)if(typeof s[S]=="string"){if(!o.isValidDate(s[S]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(s[S]))}else t.twoDSeriesX.push(s[S])},x=0;x<e.length;x++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[x].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(n.chart.type!=="rangeBar"&&n.chart.type!=="rangeArea"&&e[x].type!=="rangeBar"&&e[x].type!=="rangeArea"||(r.isRangeData=!0,this.handleRangeData(e,x)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,x):this.isFormatXY()&&this.handleFormatXY(e,x),n.chart.type!=="candlestick"&&e[x].type!=="candlestick"&&n.chart.type!=="boxPlot"&&e[x].type!=="boxPlot"||this.handleCandleStickBoxData(e,x),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,x!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{n.xaxis.type==="datetime"?(r.isXNumeric=!0,g(),r.seriesX.push(this.twoDSeriesX)):n.xaxis.type==="numeric"&&(r.isXNumeric=!0,s.length>0&&(this.twoDSeriesX=s,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var b=e[x].data.map((function(S){return Et.parseNumber(S)}));r.series.push(b)}r.seriesZ.push(this.threeDSeries),e[x].color!==void 0?r.seriesColors.push(e[x].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config,n=Array.isArray(e)&&e.every((function(g){return typeof g=="number"}))&&i.labels.length>0,r=Array.isArray(e)&&e.some((function(g){return g&&El(g)==="object"&&g.data||g&&El(g)==="object"&&g.parsing}));if(n&&r&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),n){t.series=e.slice(),t.seriesNames=i.labels.slice();for(var o=0;o<t.series.length;o++)t.seriesNames[o]===void 0&&t.seriesNames.push("series-"+(o+1));return this.w}if(Array.isArray(e)&&e.every((function(g){return typeof g=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var s=0;s<t.series.length;s++)t.seriesNames.push(i.labels[s]||"series-".concat(s+1));return this.w}var u=this.extractPieDataFromSeries(e);t.series=u.values,t.seriesNames=u.labels,i.chart.type==="radialBar"&&(t.series=t.series.map((function(g){var x=Et.parseNumber(g);return x>100&&console.warn("ApexCharts: RadialBar value ".concat(x," > 100, consider using percentage values (0-100)")),x})));for(var d=0;d<t.series.length;d++)t.seriesNames[d]===void 0&&t.seriesNames.push("series-"+(d+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],i=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var n=e[0];return El(n)==="object"&&n!==null&&n.data?(this.extractPieDataFromSeriesObjects(e,t,i),{values:t,labels:i}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,i){e.forEach((function(n,r){n.data&&Array.isArray(n.data)?n.data.forEach((function(o){El(o)==="object"&&o!==null?o.x!==void 0&&o.y!==void 0?(i.push(String(o.x)),t.push(Et.parseNumber(o.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",o):console.warn("ApexCharts: Expected object data point, got:",El(o))})):console.warn("ApexCharts: Series ".concat(r," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map((function(n){n.forEach((function(r){i.labels.indexOf(r.x)<0&&r.x&&i.labels.push(r.x)}))})),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new z0(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,n=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=i.series.map((function(x,b){return x.data.filter((function(S,P,I){return I.findIndex((function(O){return O.x===S.x}))===P}))})),o=r.reduce((function(x,b,S,P){return P[x].length>b.length?x:S}),0),s=0;s<r[o].length;s++)n.push(s+1);else for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++)n.push(u+1);t.seriesX=[];for(var d=0;d<e.length;d++)t.seriesX.push(n);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(n.length===0){n=t.axisCharts?[]:t.series.map((function(x,b){return b+1}));for(var g=0;g<e.length;g++)t.seriesX.push(n)}t.labels=n,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=n.map((function(x){return i.xaxis.labels.formatter(x)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,i=this.w.config,n=this.w.globals,r=i.parsing;if(n.dataWasParsed||!r&&!e.some((function(s){return s.parsing})))return e;var o=e.map((function(s,u){var d,g,x;if(!s.data||!Array.isArray(s.data)||s.data.length===0)return s;var b={x:((d=s.parsing)===null||d===void 0?void 0:d.x)||r?.x,y:((g=s.parsing)===null||g===void 0?void 0:g.y)||r?.y,z:((x=s.parsing)===null||x===void 0?void 0:x.z)||r?.z};if(!b.x&&!b.y)return s;var S=s.data[0];if(El(S)==="object"&&S!==null&&(S.hasOwnProperty("x")||S.hasOwnProperty("y"))||Array.isArray(S))return s;if(!b.x||!b.y||Array.isArray(b.y)&&b.y.length===0)return console.warn("ApexCharts: Series ".concat(u," has parsing config but missing x or y field specification")),s;var P=s.data.map((function(I,O){if(El(I)!=="object"||I===null)return console.warn("ApexCharts: Series ".concat(u,", data point ").concat(O," is not an object, skipping parsing")),I;var H,Q=t.getNestedValue(I,b.x),Y=void 0;if(Array.isArray(b.y)){var Z=b.y.map((function(q){return t.getNestedValue(I,q)}));H=t.w.config.chart.type==="bubble"&&Z.length===2?Z[0]:Z}else H=t.getNestedValue(I,b.y);b.z&&(Y=t.getNestedValue(I,b.z)),Q===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(O," missing field '").concat(b.x,"'")),H===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(O," missing field '").concat(b.y,"'"));var J={x:Q,y:H};if(t.w.config.chart.type==="bubble"&&Array.isArray(b.y)&&b.y.length===2){var re=t.getNestedValue(I,b.y[1]);re!==void 0&&(J.z=re)}return Y!==void 0&&(J.z=Y),J}));return ji(ji({},s),{},{data:P,__apexParsed:!0})}));return n.dataWasParsed=!0,n.originalSeries||(n.originalSeries=Et.clone(e)),o}},{key:"getNestedValue",value:function(e,t){if(e&&El(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++){if(n==null||El(n)!=="object")return;n=n[i[r]]}return n}}},{key:"parseData",value:function(e){var t=this.w,i=t.config,n=t.globals;if(e=this.parseRawDataIfNeeded(e),i.series=e,n.initialSeries=Et.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),n.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),i.chart.stacked){var r=new au(this.ctx);n.series=r.setNullSeriesToZeroValues(n.series)}this.coreUtils.getSeriesTotals(),n.axisCharts&&(n.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),n.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),n.dataFormatXNumeric||n.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(n.labels),s=0;s<o.length;s++)if(Array.isArray(o[s])){n.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(i,n){var r=0;i.forEach((function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&r++})),r>0&&r==i.length&&t.push(n)})),e.globals.ignoreYAxisIndexes=t.map((function(i){return i}))}}]),a})(),g0=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),n=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",n*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+n)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(i){var n=t.w,r=e||n.config.chart.toolbar.export.scale||n.config.chart.toolbar.export.width/n.globals.svgWidth;r||(r=1);var o=n.globals.svgWidth*r,s=n.globals.svgHeight*r,u=n.globals.dom.elWrap.cloneNode(!0);u.style.width=o+"px",u.style.height=s+"px";var d=new XMLSerializer().serializeToString(u),g=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;n.config.legend.show&&n.globals.dom.elLegendWrap&&n.globals.dom.elLegendWrap.children.length>0&&(g+=NO);var x=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(n.globals.svgWidth,'px" height="').concat(n.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(s,`px;">
            <style type="text/css">
              `).concat(g,`
            </style>
              `).concat(d,`
            </div>
          </foreignObject>
        </svg>
      `),b=t.svgStringToNode(x);r!==1&&t.scaleSvgNode(b,r),t.convertImagesToBase64(b).then((function(){x=new XMLSerializer().serializeToString(b),i(x.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,i=e.getElementsByTagName("image"),n=Array.from(i).map((function(r){var o=r.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then((function(s){r.setAttributeNS("http://www.w3.org/1999/xlink","href",s)})).catch((function(s){console.error("Error converting image to base64:",s)})):Promise.resolve()}));return Promise.all(n)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,i){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var r=document.createElement("canvas");r.width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0),t(r.toDataURL())},n.onerror=i,n.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(i){var n=new Blob([i],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(n))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(i){var n=t.w,r=e?e.scale||e.width/n.globals.svgWidth:1,o=document.createElement("canvas");o.width=n.globals.svgWidth*r,o.height=parseInt(n.globals.dom.elWrap.style.height,10)*r;var s=n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",u=o.getContext("2d");u.fillStyle=s,u.fillRect(0,0,o.width*r,o.height*r),t.getSvgString(r).then((function(d){var g="data:image/svg+xml,"+encodeURIComponent(d),x=new Image;x.crossOrigin="anonymous",x.onload=function(){if(u.drawImage(x,0,0),o.msToBlob){var b=o.msToBlob();i({blob:b})}else{var S=o.toDataURL("image/png");i({imgURI:S})}},x.src=g}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,n=t?{scale:t}:i?{width:i}:void 0;this.dataURI(n).then((function(r){var o=r.imgURI,s=r.blob;s?navigator.msSaveOrOpenBlob(s,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,n=e.fileName,r=e.columnDelimiter,o=r===void 0?",":r,s=e.lineDelimiter,u=s===void 0?`
`:s,d=this.w;i||(i=d.config.series);var g=[],x=[],b="",S=d.globals.series.map((function(J,re){return d.globals.collapsedSeriesIndices.indexOf(re)===-1?J:[]})),P=function(J){return typeof d.config.chart.toolbar.export.csv.categoryFormatter=="function"?d.config.chart.toolbar.export.csv.categoryFormatter(J):d.config.xaxis.type==="datetime"&&String(J).length>=10?new Date(J).toDateString():Et.isNumber(J)?J:J.split(o).join("")},I=function(J){return typeof d.config.chart.toolbar.export.csv.valueFormatter=="function"?d.config.chart.toolbar.export.csv.valueFormatter(J):J},O=Math.max.apply(Math,yo(i.map((function(J){return J.data?J.data.length:0})))),H=new H2(this.ctx),Q=new df(this.ctx),Y=function(J){var re="";if(d.globals.axisCharts){if(d.config.xaxis.type==="category"||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var q=d.globals.yLabelFormatters[0],ne=new au(t.ctx).getActiveConfigSeriesIndex();re=q(d.globals.labels[J],{seriesIndex:ne,dataPointIndex:J,w:d})}else re=Q.getLabel(d.globals.labels,d.globals.timescaleLabels,0,J).text;d.config.xaxis.type==="datetime"&&(d.config.xaxis.categories.length?re=d.config.xaxis.categories[J]:d.config.labels.length&&(re=d.config.labels[J]))}else re=d.config.labels[J];return re===null?"nullvalue":(Array.isArray(re)&&(re=re.join(" ")),Et.isNumber(re)?re:re.split(o).join(""))},Z=function(J,re){if(g.length&&re===0&&x.push(g.join(o)),J.data){J.data=J.data.length&&J.data||yo(Array(O)).map((function(){return""}));for(var q=0;q<J.data.length;q++){g=[];var ne=Y(q);if(ne!=="nullvalue"){if(ne||(H.isFormatXY()?ne=i[re].data[q].x:H.isFormat2DArray()&&(ne=i[re].data[q]?i[re].data[q][0]:"")),re===0){g.push(P(ne));for(var te=0;te<d.globals.series.length;te++){var he,ve=H.isFormatXY()?(he=i[te].data[q])===null||he===void 0?void 0:he.y:S[te][q];g.push(I(ve))}}(d.config.chart.type==="candlestick"||J.type&&J.type==="candlestick")&&(g.pop(),g.push(d.globals.seriesCandleO[re][q]),g.push(d.globals.seriesCandleH[re][q]),g.push(d.globals.seriesCandleL[re][q]),g.push(d.globals.seriesCandleC[re][q])),(d.config.chart.type==="boxPlot"||J.type&&J.type==="boxPlot")&&(g.pop(),g.push(d.globals.seriesCandleO[re][q]),g.push(d.globals.seriesCandleH[re][q]),g.push(d.globals.seriesCandleM[re][q]),g.push(d.globals.seriesCandleL[re][q]),g.push(d.globals.seriesCandleC[re][q])),d.config.chart.type==="rangeBar"&&(g.pop(),g.push(d.globals.seriesRangeStart[re][q]),g.push(d.globals.seriesRangeEnd[re][q])),g.length&&x.push(g.join(o))}}}};g.push(d.config.chart.toolbar.export.csv.headerCategory),d.config.chart.type==="boxPlot"?(g.push("minimum"),g.push("q1"),g.push("median"),g.push("q3"),g.push("maximum")):d.config.chart.type==="candlestick"?(g.push("open"),g.push("high"),g.push("low"),g.push("close")):d.config.chart.type==="rangeBar"?(g.push("minimum"),g.push("maximum")):i.map((function(J,re){var q=(J.name?J.name:"series-".concat(re))+"";d.globals.axisCharts&&g.push(q.split(o).join("")?q.split(o).join(""):"series-".concat(re))})),d.globals.axisCharts||(g.push(d.config.chart.toolbar.export.csv.headerValue),x.push(g.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?i.map((function(J,re){d.globals.axisCharts?Z(J,re):((g=[]).push(P(d.globals.labels[re])),g.push(I(S[re])),x.push(g.join(o)))})):(function(){var J=new Set,re={};i.forEach((function(q,ne){q?.data.forEach((function(te){var he,ve;if(H.isFormatXY())he=te.x,ve=te.y;else{if(!H.isFormat2DArray())return;he=te[0],ve=te[1]}re[he]||(re[he]=Array(i.length).fill("")),re[he][ne]=I(ve),J.add(he)}))})),g.length&&x.push(g.join(o)),Array.from(J).sort().forEach((function(q){x.push([P(q),re[q].join(o)])}))})(),b+=x.join(u),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+b),n||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var n=document.createElement("a");n.href=e,n.download=(t||this.w.globals.chartID)+i,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),a})(),Q0=(function(){function a(e,t){wn(this,a),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.axesUtils=new df(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return bn(a,[{key:"drawXaxis",value:function(){var e=this.w,t=new vi(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),n=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(n);for(var r=[],o=0;o<this.xaxisLabels.length;o++)r.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,n,r,e.globals.isXNumeric,(function(P,I){return I})),e.globals.hasXaxisGroups){var s=e.globals.groups;r=[];for(var u=0;u<s.length;u++)r.push(s[u].title);var d={};e.config.xaxis.group.style&&(d.xaxisFontSize=e.config.xaxis.group.style.fontSize,d.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,d.xaxisForeColors=e.config.xaxis.group.style.colors,d.fontWeight=e.config.xaxis.group.style.fontWeight,d.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,n,r,!1,(function(P,I){return s[P].cols*I}),d)}if(e.config.xaxis.title.text!==void 0){var g=t.group({class:"apexcharts-xaxis-title"}),x=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});g.add(x),i.add(g)}if(e.config.xaxis.axisBorder.show){var b=e.globals.barPadForNumericAxis,S=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-b,this.offY,this.xaxisBorderWidth+b,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(S):i.add(S)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,n,r,o){var s,u=this,d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},g=[],x=[],b=this.w,S=d.xaxisFontSize||this.xaxisFontSize,P=d.xaxisFontFamily||this.xaxisFontFamily,I=d.xaxisForeColors||this.xaxisForeColors,O=d.fontWeight||b.config.xaxis.labels.style.fontWeight,H=d.cssClass||b.config.xaxis.labels.style.cssClass,Q=b.globals.padHorizontal,Y=n.length,Z=b.config.xaxis.type==="category"?b.globals.dataPoints:Y;if(Z===0&&Y>Z&&(Z=Y),r){var J=Math.max(Number(b.config.xaxis.tickAmount)||1,Z>1?Z-1:Z);s=b.globals.gridWidth/Math.min(J,Y-1),Q=Q+o(0,s)/2+b.config.xaxis.labels.offsetX}else s=b.globals.gridWidth/Z,Q=Q+o(0,s)+b.config.xaxis.labels.offsetX;for(var re=function(ne){var te=Q-o(ne,s)/2+b.config.xaxis.labels.offsetX;ne===0&&Y===1&&s/2===Q&&Z===1&&(te=b.globals.gridWidth/2);var he=u.axesUtils.getLabel(n,b.globals.timescaleLabels,te,ne,g,S,e),ve=28;if(b.globals.rotateXLabels&&e&&(ve=22),b.config.xaxis.title.text&&b.config.xaxis.position==="top"&&(ve+=parseFloat(b.config.xaxis.title.style.fontSize)+2),e||(ve=ve+parseFloat(S)+(b.globals.xAxisLabelsHeight-b.globals.xAxisGroupLabelsHeight)+(b.globals.rotateXLabels?10:0)),he=b.config.xaxis.tickAmount!==void 0&&b.config.xaxis.tickAmount!=="dataPoints"&&b.config.xaxis.type!=="datetime"?u.axesUtils.checkLabelBasedOnTickamount(ne,he,Y):u.axesUtils.checkForOverflowingLabels(ne,he,Y,g,x),b.config.xaxis.labels.show){var de=t.drawText({x:he.x,y:u.offY+b.config.xaxis.labels.offsetY+ve-(b.config.xaxis.position==="top"?b.globals.xAxisHeight+b.config.xaxis.axisTicks.height-2:0),text:he.text,textAnchor:"middle",fontWeight:he.isBold?600:O,fontSize:S,fontFamily:P,foreColor:Array.isArray(I)?e&&b.config.xaxis.convertedCatToNumeric?I[b.globals.minX+ne-1]:I[ne]:I,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+H});if(i.add(de),de.on("click",(function(De){if(typeof b.config.chart.events.xAxisLabelClick=="function"){var Ie=Object.assign({},b,{labelIndex:ne});b.config.chart.events.xAxisLabelClick(De,u.ctx,Ie)}})),e){var be=document.createElementNS(b.globals.SVGNS,"title");be.textContent=Array.isArray(he.text)?he.text.join(" "):he.text,de.node.appendChild(be),he.text!==""&&(g.push(he.text),x.push(he))}}ne<Y-1&&(Q+=o(ne+1,s))},q=0;q<=Y-1;q++)re(q)}},{key:"drawXaxisInversed",value:function(e){var t,i,n=this,r=this.w,o=new vi(this.ctx),s=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,u=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+s+", 0)"});u.add(d);var g=[];if(r.config.yaxis[e].show)for(var x=0;x<this.xaxisLabels.length;x++)g.push(this.xaxisLabels[x]);t=r.globals.gridHeight/g.length,i=-t/2.2;var b=r.globals.yLabelFormatters[0],S=r.config.yaxis[0].labels;if(S.show)for(var P=function(J){var re=g[J]===void 0?"":g[J];re=b(re,{seriesIndex:e,dataPointIndex:J,w:r});var q=n.axesUtils.getYAxisForeColor(S.style.colors,e),ne=0;Array.isArray(re)&&(ne=re.length/2*parseInt(S.style.fontSize,10));var te=S.offsetX-15,he="end";n.yaxis.opposite&&(he="start"),r.config.yaxis[0].labels.align==="left"?(te=S.offsetX,he="start"):r.config.yaxis[0].labels.align==="center"?(te=S.offsetX,he="middle"):r.config.yaxis[0].labels.align==="right"&&(he="end");var ve=o.drawText({x:te,y:i+t+S.offsetY-ne,text:re,textAnchor:he,foreColor:Array.isArray(q)?q[J]:q,fontSize:S.style.fontSize,fontFamily:S.style.fontFamily,fontWeight:S.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+S.style.cssClass,maxWidth:S.maxWidth});d.add(ve),ve.on("click",(function(De){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var Ie=Object.assign({},r,{labelIndex:J});r.config.chart.events.xAxisLabelClick(De,n.ctx,Ie)}}));var de=document.createElementNS(r.globals.SVGNS,"title");if(de.textContent=Array.isArray(re)?re.join(" "):re,ve.node.appendChild(de),r.config.yaxis[e].labels.rotate!==0){var be=o.rotateAroundCenter(ve.node);ve.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(be.y,")"))}i+=t},I=0;I<=g.length-1;I++)P(I);if(r.config.yaxis[0].title.text!==void 0){var O=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+s+", 0)"}),H=o.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});O.add(H),u.add(O)}var Q=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(Q=r.globals.gridWidth);var Y=r.config.xaxis.axisBorder;if(Y.show){var Z=o.drawLine(r.globals.padHorizontal+Y.offsetX+Q,1+Y.offsetY,r.globals.padHorizontal+Y.offsetX+Q,r.globals.gridHeight+Y.offsetY,Y.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(Z):u.add(Z)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Q,g.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,u),u}},{key:"drawXaxisTicks",value:function(e,t,i){var n=this.w,r=e;if(!(e<0||e-2>n.globals.gridWidth)){var o=this.offY+n.config.xaxis.axisTicks.offsetY;if(t=t+o+n.config.xaxis.axisTicks.height,n.config.xaxis.position==="top"&&(t=o-n.config.xaxis.axisTicks.height),n.config.xaxis.axisTicks.show){var s=new vi(this.ctx).drawLine(e+n.config.xaxis.axisTicks.offsetX,o+n.config.xaxis.offsetY,r+n.config.xaxis.axisTicks.offsetX,t+n.config.xaxis.offsetY,n.config.xaxis.axisTicks.color);i.add(s),s.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,n=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<i;r++)n=this.xaxisLabels[r].position,t.push(n);else for(var o=i,s=0;s<o;s++){var u=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(u-=1),n+=e.globals.gridWidth/u,t.push(n)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new vi(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var s=0;s<n.length;s++){var u=t.rotateAroundCenter(n[s]);u.y=u.y-1,u.x=u.x+1,n[s].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(u.x," ").concat(u.y,")")),n[s].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var d=n[s].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(d,(function(S){t.placeTextWithEllipsis(S,S.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var S=e.globals.gridWidth/(e.globals.labels.length+1),P=0;P<n.length;P++){var I=n[P].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(I,(function(O){t.placeTextWithEllipsis(O,O.textContent,S)}))}})();if(r.length>0){var g=r[r.length-1].getBBox(),x=r[0].getBBox();g.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),x.x+x.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var b=0;b<o.length;b++)t.placeTextWithEllipsis(o[b],o[b].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),a})(),zO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new df(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return bn(a,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,i=new vi(this.ctx);e||(e=i.group({class:"apexcharts-grid"}));var n=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(n),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new vi(this.ctx),n=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,yo(e.config.stroke.width)):e.config.stroke.width,r=function(g){var x=document.createElementNS(t.SVGNS,"clipPath");return x.setAttribute("id",g),x};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var o=0,s=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),s=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-n/2-2,-n/2-2,t.gridWidth+n+4,t.gridHeight+n+4,0,"#fff"),t.dom.elGridRectBar=i.drawRect(-n/2-o-2,-n/2-2,t.gridWidth+n+s+o+4,t.gridHeight+n+4,0,"#fff");var u=e.globals.markers.largestSize;t.dom.elGridRectMarker=i.drawRect(Math.min(-n/2-o-2,-u),-u,t.gridWidth+Math.max(n+s+o+4,2*u),t.gridHeight+2*u,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var d=t.dom.baseEl.querySelector("defs");d.appendChild(t.dom.elGridRectMask),d.appendChild(t.dom.elGridRectBarMask),d.appendChild(t.dom.elGridRectMarkerMask),d.appendChild(t.dom.elForecastMask),d.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,n=e.y1,r=e.x2,o=e.y2,s=e.xCount,u=e.parent,d=this.w;if(!(t===0&&d.globals.skipFirstTimelinelabel||t===s-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||d.config.chart.type==="radar")){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:i,y1:n,x2:r,y2:o,xCount:s,parent:u});var g=0;if(d.globals.hasXaxisGroups&&d.config.xaxis.tickPlacement==="between"){var x=d.globals.groups;if(x){for(var b=0,S=0;b<t&&S<x.length;S++)b+=x[S].cols;b===t&&(g=.6*d.globals.xAxisLabelsHeight)}}new Q0(this.ctx).drawXaxisTicks(i,g,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,i=e.x1,n=e.y1,r=e.x2,o=e.y2,s=e.xCount,u=e.parent,d=this.w,g=u.node.classList.contains("apexcharts-gridlines-horizontal"),x=d.globals.barPadForNumericAxis,b=n===0&&o===0||i===0&&r===0||n===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(t===0||t===s-1),S=new vi(this).drawLine(i-(g?x:0),n,r+(g?x:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);S.node.classList.add("apexcharts-gridline"),b&&d.config.grid.show?this.elGridBorders.add(S):u.add(S)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,n=e.y1,r=e.x2,o=e.y2,s=e.type,u=this.w,d=new vi(this.ctx),g=u.globals.barPadForNumericAxis,x=u.config.grid[s].colors[t],b=d.drawRect(i-(s==="row"?g:0),n,r+(s==="row"?2*g:0),o,0,x,u.config.grid[s].opacity);this.elg.add(b),b.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),b.node.classList.add("apexcharts-grid-".concat(s))}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,n=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var o,s=r.globals.padHorizontal,u=r.globals.gridHeight;r.globals.timescaleLabels.length?(function(P){for(var I=P.xC,O=P.x1,H=P.y1,Q=P.x2,Y=P.y2,Z=0;Z<I;Z++)O=t.xaxisLabels[Z].position,Q=t.xaxisLabels[Z].position,t._drawGridLines({i:Z,x1:O,y1:H,x2:Q,y2:Y,xCount:i,parent:t.elgridLinesV})})({xC:i,x1:s,y1:0,x2:o,y2:u}):(r.globals.isXNumeric&&(i=r.globals.xAxisScale.result.length),(function(P){for(var I=P.xC,O=P.x1,H=P.y1,Q=P.x2,Y=P.y2,Z=0;Z<I+(r.globals.isXNumeric?0:1);Z++)Z===0&&I===1&&r.globals.dataPoints===1&&(Q=O=r.globals.gridWidth/2),t._drawGridLines({i:Z,x1:O,y1:H,x2:Q,y2:Y,xCount:i,parent:t.elgridLinesV}),Q=O+=r.globals.gridWidth/(r.globals.isXNumeric?I-1:I)})({xC:i,x1:s,y1:0,x2:o,y2:u}))}if(r.config.grid.yaxis.lines.show){var d=0,g=0,x=r.globals.gridWidth,b=n+1;this.isRangeBar&&(b=r.globals.labels.length);for(var S=0;S<b+(this.isRangeBar?1:0);S++)this._drawGridLine({i:S,xCount:b+(this.isRangeBar?1:0),x1:0,y1:d,x2:x,y2:g,parent:this.elgridLinesH}),g=d+=r.globals.gridHeight/(this.isRangeBar?b:n)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var n,r=i.globals.padHorizontal,o=i.globals.gridHeight,s=0;s<t+1;s++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,xCount:t+1,x1:r,y1:0,x2:n,y2:o,parent:this.elgridLinesV}),new Q0(this.ctx).drawXaxisTicks(r,0,i.globals.dom.elGraphical),n=r+=i.globals.gridWidth/t;if(i.config.grid.yaxis.lines.show)for(var u=0,d=0,g=i.globals.gridWidth,x=0;x<i.globals.dataPoints+1;x++)this._drawGridLine({i:x,xCount:i.globals.dataPoints+1,x1:0,y1:u,x2:g,y2:d,parent:this.elgridLinesH}),d=u+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,i=new vi(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var n=0;n<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(n);)n++;n===t.seriesYAxisMap.length&&(n=0);var r,o=t.yAxisScale[n].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var s,u,d;r=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),((s=t.yAxisScale)===null||s===void 0||(u=s[n])===null||u===void 0||(d=u.result)===null||d===void 0?void 0:d.length)>0&&e.config.xaxis.type!=="datetime"&&(r=t.yAxisScale[n].result.length-1)),this._drawXYLines({xCount:r,tickAmount:o})}else r=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:o});return this.drawGridBands(r,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var i,n,r=this,o=this.w;if(((i=o.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&(function(P,I,O,H,Q,Y){for(var Z=0,J=0;Z<I;Z++,J++)J>=o.config.grid[P].colors.length&&(J=0),r._drawGridBandRect({c:J,x1:O,y1:H,x2:Q,y2:Y,type:P}),H+=o.globals.gridHeight/t})("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((n=o.config.grid.column.colors)===null||n===void 0?void 0:n.length)>0){var s=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(s=o.globals.xAxisScale.result.length-1);for(var u=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/s,g=o.globals.gridHeight,x=0,b=0;x<e;x++,b++){var S;b>=o.config.grid.column.colors.length&&(b=0),o.config.xaxis.type==="datetime"&&(u=this.xaxisLabels[x].position,d=(((S=this.xaxisLabels[x+1])===null||S===void 0?void 0:S.position)||o.globals.gridWidth)-this.xaxisLabels[x].position),this._drawGridBandRect({c:b,x1:u,y1:0,x2:d,y2:g,type:"column"}),u+=o.globals.gridWidth/s}}}}]),a})(),HO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.coreUtils=new Hs(this.ctx)}return bn(a,[{key:"niceScale",value:function(e,t){var i,n,r,o,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=1e-11,d=this.w,g=d.globals;g.isBarHorizontal?(i=d.config.xaxis,n=Math.max((g.svgWidth-100)/25,2)):(i=d.config.yaxis[s],n=Math.max((g.svgHeight-100)/15,2)),Et.isNumber(n)||(n=10),r=i.min!==void 0&&i.min!==null,o=i.max!==void 0&&i.min!==null;var x=i.stepSize!==void 0&&i.stepSize!==null,b=i.tickAmount!==void 0&&i.tickAmount!==null,S=b?i.tickAmount:g.niceScaleDefaultTicks[Math.min(Math.round(n/2),g.niceScaleDefaultTicks.length-1)];if(g.isMultipleYAxis&&!b&&g.multiAxisTickAmount>0&&(S=g.multiAxisTickAmount,b=!0),S=S==="dataPoints"?g.dataPoints-1:Math.abs(Math.round(S)),(e===Number.MIN_VALUE&&t===0||!Et.isNumber(e)&&!Et.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=Et.isNumber(i.min)?i.min:0,t=Et.isNumber(i.max)?i.max:e+S,g.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var P=t;t=e,e=P}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var I=[];S<1&&(S=1);var O=S,H=Math.abs(t-e);!r&&e>0&&e/H<.15&&(e=0,r=!0),!o&&t<0&&-t/H<.15&&(t=0,o=!0);var Q=(H=Math.abs(t-e))/O,Y=Q,Z=Math.floor(Math.log10(Y)),J=Math.pow(10,Z),re=Math.ceil(Y/J);if(Q=Y=(re=g.niceScaleAllowedMagMsd[g.yValueDecimal===0?0:1][re])*J,g.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(Q=i.stepSize,x=!0):x&&(Q=i.stepSize),x&&i.forceNiceScale){var q=Math.floor(Math.log10(Q));Q*=Math.pow(10,Z-q)}if(r&&o){var ne=H/O;if(b)if(x)if(Et.mod(H,Q)!=0){var te=Et.getGCD(Q,ne);Q=ne/te<10?te:ne}else Et.mod(Q,ne)==0?Q=ne:(ne=Q,b=!1);else Q=ne;else if(x)Et.mod(H,Q)==0?ne=Q:Q=ne;else if(Et.mod(H,Q)==0)ne=Q;else{ne=H/(O=Math.ceil(H/Q));var he=Et.getGCD(H,Q);H/he<n&&(ne=he),Q=ne}O=Math.round(H/Q)}else{if(r||o){if(o)if(b)e=t-Q*O;else{var ve=e;e=Q*Math.floor(e/Q),Math.abs(t-e)/Et.getGCD(H,Q)>n&&(e=t-Q*S,e+=Q*Math.floor((ve-e)/Q))}else if(r)if(b)t=e+Q*O;else{var de=t;t=Q*Math.ceil(t/Q),Math.abs(t-e)/Et.getGCD(H,Q)>n&&(t=e+Q*S,t+=Q*Math.ceil((de-t)/Q))}}else if(g.isMultipleYAxis&&b){var be=Q*Math.floor(e/Q),De=be+Q*O;De<t&&(Q*=2),De=t,t=(e=be)+Q*O,H=Math.abs(t-e),e>0&&e<Math.abs(De-t)&&(e=0,t=Q*O),t<0&&-t<Math.abs(be-e)&&(t=0,e=-Q*O)}else e=Q*Math.floor(e/Q),t=Q*Math.ceil(t/Q);H=Math.abs(t-e),Q=Et.getGCD(H,Q),O=Math.round(H/Q)}if(b||r||o||(O=Math.ceil((H-u)/(Q+u)))>16&&Et.getPrimeFactors(O).length<2&&O++,!b&&i.forceNiceScale&&g.yValueDecimal===0&&O>H&&(O=H,Q=Math.round(H/O)),O>n&&(!b&&!x||i.forceNiceScale)){var Ie=Et.getPrimeFactors(O),nt=Ie.length-1,je=O;e:for(var dt=0;dt<nt;dt++)for(var Mt=0;Mt<=nt-dt;Mt++){for(var We=Math.min(Mt+dt,nt),Pt=je,Kt=1,di=Mt;di<=We;di++)Kt*=Ie[di];if((Pt/=Kt)<n){je=Pt;break e}}Q=je===O?H:H/je,O=Math.round(H/Q)}g.isMultipleYAxis&&g.multiAxisTickAmount==0&&g.ignoreYAxisIndexes.indexOf(s)<0&&(g.multiAxisTickAmount=O);var It=e-Q,bt=Q*u;do It+=Q,I.push(Et.stripNumber(It,7));while(t-It>bt);return{result:I,niceMin:I[0],niceMax:I[I.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),s=[];if(e===t)return{result:s=[e],niceMin:s[0],niceMax:s[s.length-1]};(i=this._adjustTicksForSmallRange(i,n,o))==="dataPoints"&&(i=this.w.globals.dataPoints-1),r||(r=o/i),r=Math.round(100*(r+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,r=1);for(var u=e;i>=0;)s.push(u),u=Et.preciseAddition(u,r),i-=1;return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var n=[],r=Math.ceil(Math.log(t)/Math.log(i)+1),o=Math.floor(Math.log(e)/Math.log(i));o<r;o++)n.push(Math.pow(i,o));return{result:n,niceMin:n[0],niceMax:n[n.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var n=[],r=Math.log(t)/Math.log(i),o=Math.log(e)/Math.log(i),s=r-o,u=Math.round(s),d=s/u,g=0,x=o;g<u;g++,x+=d)n.push(Math.pow(i,x));return n.push(Math.pow(i,r)),{result:n,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var n=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var r=Number(this.w.config.yaxis[t].labels.formatter(1));Et.isNumber(r)&&this.w.globals.yValueDecimal===0&&(n=Math.ceil(i))}return n<e?n:e}},{key:"setYScaleForIndex",value:function(e,t,i){var n=this.w.globals,r=this.w.config,o=n.isBarHorizontal?r.xaxis:r.yaxis[e];n.yAxisScale[e]===void 0&&(n.yAxisScale[e]=[]);var s=Math.abs(i-t);o.logarithmic&&s<=5&&(n.invalidLogScale=!0),o.logarithmic&&s>5?(n.allSeriesCollapsed=!1,n.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,i,o.logBase):this.logarithmicScale(t,i,o.logBase)):i!==-Number.MAX_VALUE&&Et.isNumber(i)&&t!==Number.MAX_VALUE&&Et.isNumber(t)?(n.allSeriesCollapsed=!1,n.yAxisScale[e]=this.niceScale(t,i,e)):n.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var i=this.w,n=i.globals;if(t!==-Number.MAX_VALUE&&Et.isNumber(t)){var r=n.xTickAmount;n.xAxisScale=this.linearScale(e,t,r,0,i.config.xaxis.max===void 0?i.config.xaxis.stepSize:void 0)}else n.xAxisScale=this.linearScale(0,10,10);return n.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var n=i.seriesYAxisMap,r=i.minYArr,o=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],n.forEach((function(s,u){var d=[];s.forEach((function(g){var x,b=(x=t.series[g])===null||x===void 0?void 0:x.group;d.indexOf(b)<0&&d.push(b)})),s.length>0?(function(){var g,x,b=Number.MAX_VALUE,S=-Number.MAX_VALUE,P=b,I=S;if(t.chart.stacked)(function(){var Q=new Array(i.dataPoints).fill(0),Y=[],Z=[],J=[];d.forEach((function(){Y.push(Q.map((function(){return Number.MIN_VALUE}))),Z.push(Q.map((function(){return Number.MIN_VALUE}))),J.push(Q.map((function(){return Number.MIN_VALUE})))}));for(var re=function(ne){!g&&t.series[s[ne]].type&&(g=t.series[s[ne]].type);var te=s[ne];x=t.series[te].group?t.series[te].group:"axis-".concat(u),!(i.collapsedSeriesIndices.indexOf(te)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(te)<0)||(i.allSeriesCollapsed=!1,d.forEach((function(he,ve){if(t.series[te].group===he)for(var de=0;de<i.series[te].length;de++){var be=i.series[te][de];be>=0?Z[ve][de]+=be:J[ve][de]+=be,Y[ve][de]+=be,P=Math.min(P,be),I=Math.max(I,be)}}))),g!=="bar"&&g!=="column"||i.barGroups.push(x)},q=0;q<s.length;q++)re(q);g||(g=t.chart.type),g==="bar"||g==="column"?d.forEach((function(ne,te){b=Math.min(b,Math.min.apply(null,J[te])),S=Math.max(S,Math.max.apply(null,Z[te]))})):(d.forEach((function(ne,te){P=Math.min(P,Math.min.apply(null,Y[te])),I=Math.max(I,Math.max.apply(null,Y[te]))})),b=P,S=I),b===Number.MIN_VALUE&&S===Number.MIN_VALUE&&(S=-Number.MAX_VALUE)})();else for(var O=0;O<s.length;O++){var H=s[O];b=Math.min(b,r[H]),S=Math.max(S,o[H]),!(i.collapsedSeriesIndices.indexOf(H)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(H)<0)||(i.allSeriesCollapsed=!1)}t.yaxis[u].min!==void 0&&(b=typeof t.yaxis[u].min=="function"?t.yaxis[u].min(b):t.yaxis[u].min),t.yaxis[u].max!==void 0&&(S=typeof t.yaxis[u].max=="function"?t.yaxis[u].max(S):t.yaxis[u].max),i.barGroups=i.barGroups.filter((function(Q,Y,Z){return Z.indexOf(Q)===Y})),e.setYScaleForIndex(u,b,S),s.forEach((function(Q){r[Q]=i.yAxisScale[u].niceMin,o[Q]=i.yAxisScale[u].niceMax}))})():e.setYScaleForIndex(u,0,-Number.MAX_VALUE)}))}}]),a})(),ZC=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.scales=new HO(e)}return bn(a,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w.config,o=this.w.globals,s=-Number.MAX_VALUE,u=Number.MIN_VALUE;n===null&&(n=e+1);var d=o.series,g=d,x=d;r.chart.type==="candlestick"?(g=o.seriesCandleL,x=o.seriesCandleH):r.chart.type==="boxPlot"?(g=o.seriesCandleO,x=o.seriesCandleC):o.isRangeData&&(g=o.seriesRangeStart,x=o.seriesRangeEnd);var b=!1;if(o.seriesX.length>=n){var S,P=(S=o.brushSource)===null||S===void 0?void 0:S.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||P!=null&&P.enabled&&P!=null&&P.autoScaleYaxis)&&(b=!0)}for(var I=e;I<n;I++){o.dataPoints=Math.max(o.dataPoints,d[I].length);var O=r.series[I].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter((function(te){return te!==void 0})).length),o.labels.length&&r.xaxis.type!=="datetime"&&o.series.reduce((function(te,he){return te+he.length}),0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var H=0,Q=d[I].length-1;if(b){if(r.xaxis.min)for(;H<Q&&o.seriesX[I][H]<r.xaxis.min;H++);if(r.xaxis.max)for(;Q>H&&o.seriesX[I][Q]>r.xaxis.max;Q--);}for(var Y=H;Y<=Q&&Y<o.series[I].length;Y++){var Z=d[I][Y];if(Z!==null&&Et.isNumber(Z)){var J,re,q,ne;switch(((J=x[I])===null||J===void 0?void 0:J[Y])!==void 0&&(s=Math.max(s,x[I][Y]),t=Math.min(t,x[I][Y])),((re=g[I])===null||re===void 0?void 0:re[Y])!==void 0&&(t=Math.min(t,g[I][Y]),i=Math.max(i,g[I][Y])),O){case"candlestick":o.seriesCandleC[I][Y]!==void 0&&(s=Math.max(s,o.seriesCandleH[I][Y]),t=Math.min(t,o.seriesCandleL[I][Y]));break;case"boxPlot":o.seriesCandleC[I][Y]!==void 0&&(s=Math.max(s,o.seriesCandleC[I][Y]),t=Math.min(t,o.seriesCandleO[I][Y]))}O&&O!=="candlestick"&&O!=="boxPlot"&&O!=="rangeArea"&&O!=="rangeBar"&&(s=Math.max(s,o.series[I][Y]),t=Math.min(t,o.series[I][Y])),o.seriesGoals[I]&&o.seriesGoals[I][Y]&&Array.isArray(o.seriesGoals[I][Y])&&o.seriesGoals[I][Y].forEach((function(te){s=Math.max(s,te.value),t=Math.min(t,te.value)})),i=s,Z=Et.noExponents(Z),Et.isFloat(Z)&&(o.yValueDecimal=Math.max(o.yValueDecimal,Z.toString().split(".")[1].length)),u>((q=g[I])===null||q===void 0?void 0:q[Y])&&((ne=g[I])===null||ne===void 0?void 0:ne[Y])<0&&(u=g[I][Y])}else o.hasNullValues=!0}O!=="bar"&&O!=="column"||(u<0&&s<0&&(s=0,i=Math.max(i,0)),u===Number.MIN_VALUE&&(u=0,t=Math.min(t,0)))}return r.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(u=t),r.chart.type==="bar"&&(u<0&&s<0&&(s=0),u===Number.MIN_VALUE&&(u=0)),{minY:u,maxY:s,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i,n=Number.MAX_VALUE;if(e.isMultipleYAxis){n=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)i=this.getMinYMaxY(r),e.minYArr[r]=i.lowestY,e.maxYArr[r]=i.highestY,n=Math.min(n,i.lowestY)}return i=this.getMinYMaxY(0,n,null,e.series.length),t.chart.type==="bar"?(e.minY=i.minY,e.maxY=i.maxY):(e.minY=i.lowestY,e.maxY=i.highestY),n=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&n!==-Number.MAX_VALUE&&n!==e.maxY&&(e.minY=n):e.minY=e.minY!==Number.MIN_VALUE?Math.min(i.minY,e.minY):i.minY,t.yaxis.forEach((function(o,s){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[s]=o.max:typeof o.max=="function"&&(e.maxYArr[s]=o.max(e.isMultipleYAxis?e.maxYArr[s]:e.maxY)),e.maxY=e.maxYArr[s]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[s]=o.min:typeof o.min=="function"&&(e.minYArr[s]=o.min(e.isMultipleYAxis?e.minYArr[s]===Number.MIN_VALUE?0:e.minYArr[s]:e.minY)),e.minY=e.minYArr[s])})),e.isBarHorizontal&&["min","max"].forEach((function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=n):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}})),e.barGroups=e.barGroups.filter((function(o,s,u){return u.indexOf(o)===s})),e.lineGroups=e.lineGroups.filter((function(o,s,u){return u.indexOf(o)===s})),e.areaGroups=e.areaGroups.filter((function(o,s,u){return u.indexOf(o)===s})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var u=0;u<e.series.length;u++)if(e.labels[u])for(var d=0;d<e.labels[u].length;d++)e.labels[u][d]!==null&&Et.isNumber(e.labels[u][d])&&(e.maxX=Math.max(e.maxX,e.labels[u][d]),e.initialMaxX=Math.max(e.maxX,e.labels[u][d]),e.minX=Math.min(e.minX,e.labels[u][d]),e.initialMinX=Math.min(e.minX,e.labels[u][d]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var n=10;if(t.xaxis.tickAmount===void 0)n=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(n=e.dataPoints-1),n>e.dataPoints&&e.dataPoints!==0&&(n=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(n=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=Math.round(e.maxX-e.minX);r<30&&(n=r)}}else n=t.xaxis.tickAmount;if(e.xTickAmount=n,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],s=e.minX-1;s<e.maxX;s++)o.push(s+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,n,n,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,n-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var i=0;i<e.seriesZ[t].length;i++)e.seriesZ[t][i]!==null&&Et.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new Qo(this.ctx);if(t.xaxis.type==="datetime"){var n=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()-2):n.setDate(n.getDate()-2),e.minX=new Date(n).getTime();var r=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,i){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var n=t.slice();n.sort((function(r,o){return r-o})),n.forEach((function(r,o){if(o>0){var s=r-n[o-1];s>0&&(e.minXDiff=Math.min(s,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var i=t.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map((function(o){return o}))]);var n={},r={};i.forEach((function(o){n[o]=[],r[o]=[],e.w.config.series.map((function(s,u){return o.indexOf(t.seriesNames[u])>-1?u:null})).filter((function(s){return s!==null})).forEach((function(s){for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++){var d,g,x,b;n[o][u]===void 0&&(n[o][u]=0,r[o][u]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((d=e.w.config.series)===null||d===void 0||(g=d[s])===null||g===void 0?void 0:g.type)==="bar"||((x=e.w.config.series)===null||x===void 0||(b=x[s])===null||b===void 0?void 0:b.type)==="column"))&&t.series[s][u]!==null&&Et.isNumber(t.series[s][u])&&(t.series[s][u]>0?n[o][u]+=parseFloat(t.series[s][u])+1e-4:r[o][u]+=parseFloat(t.series[s][u]))}}))})),Object.entries(n).forEach((function(o){var s=lO(o,1)[0];n[s].forEach((function(u,d){t.maxY=Math.max(t.maxY,n[s][d]),t.minY=Math.min(t.minY,r[s][d])}))}))}}}]),a})(),Q2=(function(){function a(e,t){wn(this,a),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new df(e)}return bn(a,[{key:"drawYaxis",value:function(e){var t=this.w,i=new vi(this.ctx),n=t.config.yaxis[e].labels.style,r=n.fontSize,o=n.fontFamily,s=n.fontWeight,u=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return u;var d=i.group({class:"apexcharts-yaxis-texts-g"});u.add(d);var g=t.globals.yAxisScale[e].result.length-1,x=t.globals.gridHeight/g,b=t.globals.yLabelFormatters[e],S=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var P=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?P=0:t.config.chart.type==="heatmap"&&(P-=x/2),P+=parseInt(r,10)/3;for(var I=g;I>=0;I--){var O=b(S[I],I,t),H=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(H*=-1);var Q=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),Y=this.axesUtils.getYAxisForeColor(n.colors,e),Z=Array.isArray(Y)?Y[I]:Y,J=Et.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(q){return q.textContent})),re=i.drawText({x:H,y:P,text:J.includes(O)&&!t.config.yaxis[e].labels.showDuplicates?"":O,textAnchor:Q,fontSize:r,fontFamily:o,fontWeight:s,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:Z,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(n.cssClass)});d.add(re),this.addTooltip(re,O),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(i,re,firstLabel,t.config.yaxis[e].labels.rotate),P+=x}}return this.addYAxisTitle(i,u,e),this.addAxisBorder(i,u,e,g,x),u}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(i)}},{key:"rotateLabel",value:function(e,t,i,n){var r=e.rotateAroundCenter(i.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(n," ").concat(r.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,i){var n=this.w;if(n.config.yaxis[i].title.text!==void 0){var r=e.group({class:"apexcharts-yaxis-title"}),o=n.config.yaxis[i].opposite?n.globals.translateYAxisX[i]:0,s=e.drawText({x:o,y:n.globals.gridHeight/2+n.globals.translateY+n.config.yaxis[i].title.offsetY,text:n.config.yaxis[i].title.text,textAnchor:"end",foreColor:n.config.yaxis[i].title.style.color,fontSize:n.config.yaxis[i].title.style.fontSize,fontWeight:n.config.yaxis[i].title.style.fontWeight,fontFamily:n.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(n.config.yaxis[i].title.style.cssClass)});r.add(s),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,i,n,r){var o=this.w,s=o.config.yaxis[i].axisBorder,u=31+s.offsetX;if(o.config.yaxis[i].opposite&&(u=-31-s.offsetX),s.show){var d=e.drawLine(u,o.globals.translateY+s.offsetY-2,u,o.globals.gridHeight+o.globals.translateY+s.offsetY+2,s.color,0,s.width);t.add(d)}o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(u,n,s,o.config.yaxis[i].axisTicks,i,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new vi(this.ctx),n=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});n.add(r);var o=t.globals.yAxisScale[e].result.length-1,s=t.globals.gridWidth/o+.1,u=s+t.config.xaxis.labels.offsetX,d=t.globals.xLabelFormatter,g=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),x=t.globals.timescaleLabels;if(x.length>0&&(this.xaxisLabels=x.slice(),o=(g=x.slice()).length),t.config.xaxis.labels.show)for(var b=x.length?0:o;x.length?b<x.length:b>=0;x.length?b++:b--){var S=d(g[b],b,t),P=t.globals.gridWidth+t.globals.padHorizontal-(u-s+t.config.xaxis.labels.offsetX);if(x.length){var I=this.axesUtils.getLabel(g,x,P,b,this.drawnLabels,this.xaxisFontSize);P=I.x,S=I.text,this.drawnLabels.push(I.text),b===0&&t.globals.skipFirstTimelinelabel&&(S=""),b===g.length-1&&t.globals.skipLastTimelinelabel&&(S="")}var O=i.drawText({x:P,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:S,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(O),O.tspan(S),this.addTooltip(O,S),u+=s}return this.inversedYAxisTitleText(n),this.inversedYAxisBorder(n),n}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new vi(this.ctx),n=t.config.xaxis.axisBorder;if(n.show){var r=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(r-=15);var o=i.drawLine(t.globals.padHorizontal+r+n.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,n.color,0,n.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new vi(this.ctx);if(t.config.xaxis.title.text!==void 0){var n=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});n.add(r),e.add(n)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,n=new vi(this.ctx),r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=r?r.getBoundingClientRect():{width:0,height:0},s=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),u=s?s.getBoundingClientRect():{width:0,height:0};if(s){var d=this.xPaddingForYAxisTitle(e,o,u,t);s.setAttribute("x",d.xPos-(t?10:0));var g=n.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(g.x," ").concat(g.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,n){var r=this.w,o=0,s=10;return r.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(n?o=t.width+r.config.yaxis[e].title.offsetX+i.width/2+s/2:(o=-1*t.width+r.config.yaxis[e].title.offsetX+s/2+i.width/2,r.globals.isBarHorizontal&&(s=25,o=-1*t.width-r.config.yaxis[e].title.offsetX-s)),{xPos:o,padd:s})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,n=0,r=0,o=18,s=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach((function(u,d){var g=i.globals.ignoreYAxisIndexes.includes(d)||!u.show||u.floating||e[d].width===0,x=e[d].width+t[d].width;u.opposite?i.globals.isBarHorizontal?(r=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[d]=r-u.labels.offsetX):(r=i.globals.gridWidth+i.globals.translateX+s,g||(s+=x+20),i.globals.translateYAxisX[d]=r-u.labels.offsetX+20):(n=i.globals.translateX-o,g||(o+=x+20),i.globals.translateYAxisX[d]=n+u.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;Et.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,i){var n=e.config.yaxis[i];if(n&&!n.floating&&n.labels.align!==void 0){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=Et.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),s=r.getBoundingClientRect();o.forEach((function(u){u.setAttribute("text-anchor",n.labels.align)})),n.labels.align!=="left"||n.opposite?n.labels.align==="center"?r.setAttribute("transform","translate(".concat(s.width/2*(n.opposite?1:-1),", 0)")):n.labels.align==="right"&&n.opposite&&r.setAttribute("transform","translate(".concat(s.width,", 0)")):r.setAttribute("transform","translate(-".concat(s.width,", 0)"))}}))}}]),a})(),RX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.documentEvent=Et.bind(this.documentEvent,this)}return bn(a,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var n=i.globals.events[e].indexOf(t);n!==-1&&i.globals.events[e].splice(n,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var n=i.globals.events[e],r=n.length,o=0;o<r;o++)n[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,n=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(r){n.addEventListener(r,(function(o){var s=o.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:o.target.getAttribute("i"),u=o.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:o.target.getAttribute("j"),d=Object.assign({},t,{seriesIndex:t.globals.axisCharts?s:0,dataPointIndex:u});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,i,d):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,i,d):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,i,d),i.ctx.events.fireEvent("click",[o,i,d]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if(e.type==="click"){var n=t.globals.dom.baseEl.querySelector(".apexcharts-menu");n&&n.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&n.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),a})(),OX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter((function(r){return r.name===e}))[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var n=Et.extend(RO,i);this.w.globals.locale=n.options}}]),a})(),UX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"drawAxis",value:function(e,t){var i,n,r=this,o=this.w.globals,s=this.w.config,u=new Q0(this.ctx,t),d=new Q2(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(n=d.drawYaxisInversed(0),i=u.drawXaxisInversed(0),o.dom.elGraphical.add(i),o.dom.elGraphical.add(n)):(i=u.drawXaxis(),o.dom.elGraphical.add(i),s.yaxis.map((function(g,x){if(o.ignoreYAxisIndexes.indexOf(x)===-1&&(n=d.drawYaxis(x),o.dom.Paper.add(n),r.w.config.grid.position==="back")){var b=o.dom.Paper.children()[1];b.remove(),o.dom.Paper.add(b)}}))))}}]),a})(),JC=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new vi(this.ctx),i=new Go(this.ctx),n=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,s=n.colorFrom,u=n.colorTo,d=n.opacityFrom,g=n.opacityTo,x=n.stops,b=r.enabled,S=r.left,P=r.top,I=r.blur,O=r.color,H=r.opacity,Q=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(Q=t.drawGradient("vertical",s,u,d,g,null,x,null));var Y=t.drawRect();e.config.xaxis.crosshairs.width===1&&(Y=t.drawLine());var Z=e.globals.gridHeight;(!Et.isNumber(Z)||Z<0)&&(Z=0);var J=e.config.xaxis.crosshairs.width;(!Et.isNumber(J)||J<0)&&(J=0),Y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:Z,width:J,height:Z,fill:Q,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),b&&(Y=i.dropShadow(Y,{left:S,top:P,blur:I,color:O,opacity:H})),e.globals.dom.elGraphical.add(Y)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new vi(this.ctx),i=e.config.yaxis[0].crosshairs,n=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-n,0,e.globals.gridWidth+n,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var o=t.drawLine(-n,0,e.globals.gridWidth+n,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),a})(),NX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,n=i.config;if(n.responsive.length!==0){var r=n.responsive.slice();r.sort((function(d,g){return d.breakpoint>g.breakpoint?1:g.breakpoint>d.breakpoint?-1:0})).reverse();var o=new H0({}),s=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=r[0].breakpoint,x=window.innerWidth>0?window.innerWidth:screen.width;if(x>g){var b=Et.clone(i.globals.initialConfig);b.series=Et.clone(i.config.series);var S=Hs.extendArrayProps(o,b,i);d=Et.extend(S,d),d=Et.extend(i.config,d),t.overrideResponsiveOptions(d)}else for(var P=0;P<r.length;P++)x<r[P].breakpoint&&(d=Hs.extendArrayProps(o,r[P].options,i),d=Et.extend(i.config,d),t.overrideResponsiveOptions(d))};if(e){var u=Hs.extendArrayProps(o,e,i);u=Et.extend(i.config,u),s(u=Et.extend(u,e))}else s({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new H0(e).init({responsiveOverride:!0});this.w.config=t}}]),a})(),zX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return bn(a,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return t.type==="treemap"&&i.treemap&&i.treemap.distributed||t.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return i.bar&&i.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new Et;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var i=yo(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(i),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var n=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],n),this.applyDataLabelsColors(n),this.applyRadarPolygonsColors(),this.applyMarkersColors(n)}},{key:"getColors",value:function(e){var t=this,i=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,i.config.series.map((function(n,r){var o=e[r]||e[0];return typeof o=="function"?o({value:i.globals.axisCharts?i.globals.series[r][0]||0:i.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):o}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(i,n){i&&(t[n]=i)}))}},{key:"getMonochromeColors",value:function(e,t,i){var n=e.color,r=e.shadeIntensity,o=e.shadeTo,s=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,u=1/(s/r),d=0;return Array.from({length:s},(function(){var g=o==="dark"?i.shadeColor(-1*d,n):i.shadeColor(d,n);return d+=u,g}))}},{key:"applyColorTypes",value:function(e,t){var i=this,n=this.w;e.forEach((function(r){n.globals[r].colors=n.config[r].colors===void 0?i.isColorFn?n.config.colors:t:n.config[r].colors.slice(),i.pushExtraColors(n.globals[r].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.w,r=t||n.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||n.config.chart.type==="heatmap"&&n.config.plotOptions.heatmap&&n.config.plotOptions.heatmap.colorScale.inverse),i&&n.globals.series.length&&(r=n.globals.series[n.globals.maxValsInArrayIndex].length*n.globals.series.length),e.length<r)for(var o=r-e.length,s=0;s<o;s++)e.push(e[s])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,i=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",n=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=n,e.theme.palette=i,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),a})(),HX=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i=e==="title"?t.config.title:t.config.subtitle,n=t.globals.svgWidth/2,r=i.offsetY,o="middle";if(i.align==="left"?(n=10,o="start"):i.align==="right"&&(n=t.globals.svgWidth-10,o="end"),n+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var s=new vi(this.ctx).drawText({x:n,y:r,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});s.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(s)}}}]),a})(),QX=(function(){function a(e){wn(this,a),this.w=e.w,this.dCtx=e}return bn(a,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,n=0,r=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!r){var s=o.getBoundingClientRect();i=s.width,n=t.globals.axisCharts?s.height+5:s.height}return{width:i,height:n}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},Et.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,i=[];t.config.series.forEach((function(u,d){u.data.forEach((function(g,x){var b;b=t.globals.series[d][x],n=t.config.dataLabels.formatter(b,{ctx:e.dCtx.ctx,seriesIndex:d,dataPointIndex:x,w:t}),i.push(n)}))}));var n=Et.getLargestStringFromArr(i),r=new vi(this.dCtx.ctx),o=t.config.dataLabels.style,s=r.getTextRects(n,parseInt(o.fontSize),o.fontFamily);return{width:1.05*s.width,height:s.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var n=t.map((function(o,s){return Array.isArray(o)?o.length:1})),r=Math.max.apply(Math,yo(n));i=t[n.indexOf(r)]}return i}}]),a})(),jX=(function(){function a(e){wn(this,a),this.w=e.w,this.dCtx=e}return bn(a,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var n=this.getxAxisTimeScaleLabelsCoords();e={width:n.width,height:n.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,o=Et.getLargestStringFromArr(i),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);t.globals.isBarHorizontal&&(s=o=t.globals.yAxisScale[0].result.reduce((function(P,I){return P.length>I.length?P:I}),0));var u=new ry(this.dCtx.ctx),d=o;o=u.xLabelFormat(r,o,d,{i:void 0,dateFormatter:new Qo(this.dCtx.ctx).formatDate,w:t}),s=u.xLabelFormat(r,s,d,{i:void 0,dateFormatter:new Qo(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(s=o="1");var g=new vi(this.dCtx.ctx),x=g.getTextRects(o,t.config.xaxis.labels.style.fontSize),b=x;if(o!==s&&(b=g.getTextRects(s,t.config.xaxis.labels.style.fontSize)),(e={width:x.width>=b.width?x.width:b.width,height:x.height>=b.height?x.height:b.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var S=function(P){return g.getTextRects(P,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};x=S(o),o!==s&&(b=S(s)),e.height=(x.height>b.height?x.height:b.height)/1.5,e.width=x.width>b.width?x.width:b.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var i,n=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map((function(x){return x.title})),o=Et.getLargestStringFromArr(r),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,r),u=new vi(this.dCtx.ctx),d=u.getTextRects(o,n),g=d;return o!==s&&(g=u.getTextRects(s,n)),i={width:d.width>=g.width?d.width:g.width,height:d.height>=g.height?d.height:g.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(e.config.xaxis.title.text!==void 0){var n=new vi(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=n.width,i=n.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map((function(r){return r.value})),n=i.reduce((function(r,o){return r===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>o.length?r:o}),0);return 1.05*(e=new vi(this.dCtx.ctx).getTextRects(n,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,n=i.globals,r=i.config,o=r.xaxis.type,s=e.width;n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1;var u=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,d=function(g,x){r.yaxis.length>1&&(function(b){return n.collapsedSeriesIndices.indexOf(b)!==-1})(x)||(function(b){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var S=t.dCtx.timescaleLabels[0],P=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+s/1.75-t.dCtx.yAxisWidthRight,I=S.position-s/1.75+t.dCtx.yAxisWidthLeft,O=i.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;P>n.svgWidth-n.translateX-O&&(n.skipLastTimelinelabel=!0),I<-(b.show&&!b.floating||r.chart.type!=="bar"&&r.chart.type!=="candlestick"&&r.chart.type!=="rangeBar"&&r.chart.type!=="boxPlot"?10:s/1.75)&&(n.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<s&&!n.rotateXLabels&&(n.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<s/2-t.dCtx.yAxisWidthRight&&!n.rotateXLabels&&!i.config.xaxis.labels.trim&&(t.dCtx.xPadRight=s/2+1)})(g)};r.yaxis.forEach((function(g,x){u?(t.dCtx.gridPad.left<s&&(t.dCtx.xPadLeft=s/2+1),t.dCtx.xPadRight=s/2+1):d(g,x)}))}}]),a})(),VX=(function(){function a(e){wn(this,a),this.w=e.w,this.dCtx=e}return bn(a,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],n=10,r=new df(this.dCtx.ctx);return t.config.yaxis.map((function(o,s){var u={seriesIndex:s,dataPointIndex:-1,w:t},d=t.globals.yAxisScale[s],g=0;if(!r.isYAxisHidden(s)&&o.labels.show&&o.labels.minWidth!==void 0&&(g=o.labels.minWidth),!r.isYAxisHidden(s)&&o.labels.show&&d.result.length){var x=t.globals.yLabelFormatters[s],b=d.niceMin===Number.MIN_VALUE?0:d.niceMin,S=d.result.reduce((function(Z,J){var re,q;return((re=String(x(Z,u)))===null||re===void 0?void 0:re.length)>((q=String(x(J,u)))===null||q===void 0?void 0:q.length)?Z:J}),b),P=S=x(S,u);if(S!==void 0&&S.length!==0||(S=d.niceMax),t.globals.isBarHorizontal){n=0;var I=t.globals.labels.slice();S=Et.getLargestStringFromArr(I),S=x(S,{seriesIndex:s,dataPointIndex:-1,w:t}),P=e.dCtx.dimHelpers.getLargestStringFromMultiArr(S,I)}var O=new vi(e.dCtx.ctx),H="rotate(".concat(o.labels.rotate," 0 0)"),Q=O.getTextRects(S,o.labels.style.fontSize,o.labels.style.fontFamily,H,!1),Y=Q;S!==P&&(Y=O.getTextRects(P,o.labels.style.fontSize,o.labels.style.fontFamily,H,!1)),i.push({width:(g>Y.width||g>Q.width?g:Y.width>Q.width?Y.width:Q.width)+n,height:Y.height>Q.height?Y.height:Q.height})}else i.push({width:0,height:0})})),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,i=[];return t.config.yaxis.map((function(n,r){if(n.show&&n.title.text!==void 0){var o=new vi(e.dCtx.ctx),s="rotate(".concat(n.title.rotate," 0 0)"),u=o.getTextRects(n.title.text,n.title.style.fontSize,n.title.style.fontFamily,s,!1);i.push({width:u.width,height:u.height})}else i.push({width:0,height:0})})),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,n=0,r=e.globals.yAxisScale.length>1?10:0,o=new df(this.dCtx.ctx),s=function(u,d){var g=e.config.yaxis[d].floating,x=0;u.width>0&&!g?(x=u.width+r,(function(b){return e.globals.ignoreYAxisIndexes.indexOf(b)>-1})(d)&&(x=x-u.width-r)):x=g||o.isYAxisHidden(d)?0:5,e.config.yaxis[d].opposite?n+=x:i+=x,t+=x};return e.globals.yLabelsCoords.map((function(u,d){s(u,d)})),e.globals.yTitleCoords.map((function(u,d){s(u,d)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=n,t}}]),a})(),GX=(function(){function a(e){wn(this,a),this.w=e.w,this.dCtx=e}return bn(a,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,i=t.config,n=t.globals;if(n.noData||n.collapsedSeries.length+n.ancillaryCollapsedSeries.length===i.series.length)return 0;var r=function(S){return["bar","rangeBar","candlestick","boxPlot"].includes(S)},o=i.chart.type,s=0,u=r(o)?i.series.length:1;n.comboBarCount>0&&(u=n.comboBarCount),n.collapsedSeries.forEach((function(S){r(S.type)&&(u-=1)})),i.chart.stacked&&(u=1);var d=r(o)||n.comboBarCount>0,g=Math.abs(n.initialMaxX-n.initialMinX);if(d&&n.isXNumeric&&!n.isBarHorizontal&&u>0&&g!==0){g<=3&&(g=n.dataPoints);var x=g/e,b=n.minXDiff&&n.minXDiff/x>0?n.minXDiff/x:0;b>e/2&&(b/=2),(s=b*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(s=1),n.barPadForNumericAxis=s}return s}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,n=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach((function(s){t.config[s].text!==void 0?n+=t.config[s].margin:n+=e.dCtx.isSparkline||!i.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||i.axisCharts||(n+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=r.height+o.height+n,i.translateY+=r.height+o.height+n}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,n=new df(this.dCtx.ctx);i.config.yaxis.forEach((function(r,o){i.globals.ignoreYAxisIndexes.indexOf(o)!==-1||r.floating||n.isYAxisHidden(o)||(r.opposite&&(i.globals.translateX-=t[o].width+e[o].width+parseInt(r.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))}))}}]),a})(),J_=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new QX(this),this.dimYAxis=new VX(this),this.dimXAxis=new jX(this),this.dimGrid=new GX(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return bn(a,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var n=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,yo(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(o){var s=lO(o,2),u=s[0],d=s[1];e.gridPad[u]=Math.max(d,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(n/2,this.gridPad.top),this.gridPad.bottom=Math.max(n/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*r,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,n=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(S,P){t.globals.yLabelsCoords.push({width:n[P].width,index:P}),t.globals.yTitleCoords.push({width:r[P].width,index:P})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),s=this.dimXAxis.getxAxisGroupLabelsCoords(),u=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,u,s),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var d=this.yAxisWidth,g=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-u.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var x=10;(t.config.chart.type==="radar"||this.isSparkline)&&(d=0,g=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(d=0,g=0,x=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var b=function(){i.translateX=d+e.datalabelsCoords.width,i.gridHeight=i.svgHeight-e.lgRect.height-g-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-d-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(x=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=x,b();break;case"top":i.translateY=this.lgRect.height+x,b();break;case"left":i.translateY=x,i.translateX=this.lgRect.width+d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-g-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":i.translateY=x,i.translateX=d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-g-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,n),new Q2(this.ctx).setYAxisXPosition(n,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,n=0;e.config.legend.show&&!e.config.legend.floating&&(n=20);var r=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",o=i.plotOptions[r].offsetY,s=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating){t.gridHeight=t.svgHeight;var u=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(u,t.gridHeight),t.translateY=o,void(t.translateX=s+(t.svgWidth-t.gridWidth)/2)}switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-n,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=s+this.lgRect.width+n;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-n-5,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=s+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var n=this.w,r=n.globals.hasXaxisGroups?2:1,o=i.height+e.height+t.height,s=n.globals.isMultiLineX?1.2:n.globals.LINE_HEIGHT_RATIO,u=n.globals.rotateXLabels?22:10,d=n.globals.rotateXLabels&&n.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*s+r*u+d,this.xAxisWidth=e.width,this.xAxisHeight-t.height>n.config.xaxis.labels.maxHeight&&(this.xAxisHeight=n.config.xaxis.labels.maxHeight),n.config.xaxis.labels.minHeight&&this.xAxisHeight<n.config.xaxis.labels.minHeight&&(this.xAxisHeight=n.config.xaxis.labels.minHeight),n.config.xaxis.floating&&(this.xAxisHeight=0);var g=0,x=0;n.config.yaxis.forEach((function(b){g+=b.labels.minWidth,x+=b.labels.maxWidth})),this.yAxisWidth<g&&(this.yAxisWidth=g),this.yAxisWidth>x&&(this.yAxisWidth=x)}}]),a})(),WX=(function(){function a(e){wn(this,a),this.w=e.w,this.lgCtx=e}return bn(a,[{key:"getLegendStyles",value:function(){var e,t,i,n=document.createElement("style");n.setAttribute("type","text/css");var r=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(i=t.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;r&&n.setAttribute("nonce",r);var o=document.createTextNode(NO);return n.appendChild(o),n}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var i=this,n=this.w;if(n.globals.axisCharts||n.config.chart.type==="radialBar"){n.globals.resized=!0;var r=null,o=null;n.globals.risingSeries=[],n.globals.axisCharts?(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(r.getAttribute("data:realIndex"),10)):(r=n.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:n.globals.collapsedSeries,csi:n.globals.collapsedSeriesIndices},{cs:n.globals.ancillaryCollapsedSeries,csi:n.globals.ancillaryCollapsedSeriesIndices}].forEach((function(g){i.riseCollapsedSeries(g.cs,g.csi,o)})):this.hideSeries({seriesEl:r,realIndex:o})}else{var s=n.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),u=n.config.chart.type;if(u==="pie"||u==="polarArea"||u==="donut"){var d=n.config.plotOptions.pie.donut.labels;new vi(this.lgCtx.ctx).pathMouseDown(s,null),this.lgCtx.ctx.pie.printDataLabelsInner(s.node,d)}s.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,i=this.w,n=i.globals,r=Et.clone(i.config.series);if(n.axisCharts){var o=i.config.yaxis[n.seriesYAxisReverseMap[t]],s={index:t,data:r[t].data.slice(),type:r[t].type||i.config.chart.type};if(o&&o.show&&o.showAlways)n.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(n.ancillaryCollapsedSeries.push(s),n.ancillaryCollapsedSeriesIndices.push(t));else if(n.collapsedSeriesIndices.indexOf(t)<0){n.collapsedSeries.push(s),n.collapsedSeriesIndices.push(t);var u=n.risingSeries.indexOf(t);n.risingSeries.splice(u,1)}}else n.collapsedSeries.push({index:t,data:r[t]}),n.collapsedSeriesIndices.push(t);return n.allSeriesCollapsed=n.collapsedSeries.length+n.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,i=e.realIndex,n=this.w,r=this.getSeriesAfterCollapsing({realIndex:i}),o=t.childNodes,s=0;s<o.length;s++)o[s].classList.contains("apexcharts-series-markers-wrap")&&(o[s].classList.contains("apexcharts-hide")?o[s].classList.remove("apexcharts-hide"):o[s].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var n=this.w,r=Et.clone(n.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===i&&(n.globals.axisCharts?r[i].data=e[o].data.slice():r[i]=e[o].data,typeof r[i]!="number"&&(r[i].hidden=!1),e.splice(o,1),t.splice(o,1),n.globals.risingSeries.push(i));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,n.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,i=0;return t.globals.axisCharts?e.forEach((function(n,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],i++)})):e.forEach((function(n,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,i++)})),t.globals.allSeriesCollapsed=i===e.length,e}}]),a})(),QO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new WX(this)}return bn(a,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config,n=i.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(n||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,i=e.fillcolor,n=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var o=n.config.legend.markers.shape||n.config.markers.shape,s=o;Array.isArray(o)&&(s=o[t]);var u=Array.isArray(n.config.legend.markers.size)?parseFloat(n.config.legend.markers.size[t]):parseFloat(n.config.legend.markers.size),d=Array.isArray(n.config.legend.markers.offsetX)?parseFloat(n.config.legend.markers.offsetX[t]):parseFloat(n.config.legend.markers.offsetX),g=Array.isArray(n.config.legend.markers.offsetY)?parseFloat(n.config.legend.markers.offsetY[t]):parseFloat(n.config.legend.markers.offsetY),x=Array.isArray(n.config.legend.markers.strokeWidth)?parseFloat(n.config.legend.markers.strokeWidth[t]):parseFloat(n.config.legend.markers.strokeWidth),b=r.style;if(b.height=2*(u+x)+"px",b.width=2*(u+x)+"px",b.left=d+"px",b.top=g+"px",n.config.legend.markers.customHTML)b.background="transparent",b.color=i[t],Array.isArray(n.config.legend.markers.customHTML)?n.config.legend.markers.customHTML[t]&&(r.innerHTML=n.config.legend.markers.customHTML[t]()):r.innerHTML=n.config.legend.markers.customHTML();else{var S=new Ig(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(s),seriesIndex:t,strokeWidth:x,size:u}),P=window.SVG().addTo(r).size("100%","100%"),I=new vi(this.ctx).drawMarker(0,0,ji(ji({},S),{},{pointFillColor:Array.isArray(i)?i[t]:S.pointFillColor,shape:s}));n.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(O){O.node.classList.contains("apexcharts-marker-triangle")?O.node.style.transform="translate(50%, 45%)":O.node.style.transform="translate(50%, 50%)"})),P.add(I)}return r}},{key:"drawLegends",value:function(){var e=this,t=this,i=this.w,n=i.config.legend.fontFamily,r=i.globals.seriesNames,o=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var s=i.config.plotOptions.heatmap.colorScale.ranges;r=s.map((function(S){return S.name?S.name:S.from+" - "+S.to})),o=s.map((function(S){return S.color}))}else this.isBarsDistributed&&(r=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(r=i.config.legend.customLegendItems);var u=i.globals.legendFormatter,d=i.config.legend.inverseOrder,g=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach((function(S,P){g[P]=document.createElement("div"),g[P].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(P)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):g[P].classList.add("apexcharts-legend-group-vertical")}));for(var x=function(S){var P,I=u(r[S],{seriesIndex:S,w:i}),O=!1,H=!1;if(i.globals.collapsedSeries.length>0)for(var Q=0;Q<i.globals.collapsedSeries.length;Q++)i.globals.collapsedSeries[Q].index===S&&(O=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var Y=0;Y<i.globals.ancillaryCollapsedSeriesIndices.length;Y++)i.globals.ancillaryCollapsedSeriesIndices[Y]===S&&(H=!0);var Z=e.createLegendMarker({i:S,fillcolor:o});vi.setAttrs(Z,{rel:S+1,"data:collapsed":O||H}),(O||H)&&Z.classList.add("apexcharts-inactive-legend");var J=document.createElement("div"),re=document.createElement("span");re.classList.add("apexcharts-legend-text"),re.innerHTML=Array.isArray(I)?I.join(" "):I;var q=i.config.legend.labels.useSeriesColors?i.globals.colors[S]:Array.isArray(i.config.legend.labels.colors)?(P=i.config.legend.labels.colors)===null||P===void 0?void 0:P[S]:i.config.legend.labels.colors;q||(q=i.config.chart.foreColor),re.style.color=q,re.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",re.style.fontWeight=i.config.legend.fontWeight,re.style.fontFamily=n||i.config.chart.fontFamily,vi.setAttrs(re,{rel:S+1,i:S,"data:default-text":encodeURIComponent(I),"data:collapsed":O||H}),J.appendChild(Z),J.appendChild(re);var ne=new Hs(e.ctx);i.config.legend.showForZeroSeries||ne.getSeriesTotalByIndex(S)===0&&ne.seriesHaveSameValues(S)&&!ne.isSeriesNull(S)&&i.globals.collapsedSeriesIndices.indexOf(S)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(S)===-1&&J.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||ne.isSeriesNull(S)&&i.globals.collapsedSeriesIndices.indexOf(S)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(S)===-1&&J.classList.add("apexcharts-hidden-null-series"),g.length?i.globals.seriesGroups.forEach((function(te,he){var ve;te.includes((ve=i.config.series[S])===null||ve===void 0?void 0:ve.name)&&(i.globals.dom.elLegendWrap.appendChild(g[he]),g[he].appendChild(J))})):i.globals.dom.elLegendWrap.appendChild(J),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),J.classList.add("apexcharts-legend-series"),J.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",vi.setAttrs(J,{rel:S+1,seriesName:Et.escapeString(r[S]),"data:collapsed":O||H}),(O||H)&&J.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||J.classList.add("apexcharts-no-click")},b=d?r.length-1:0;d?b>=0:b<=r.length-1;d?b--:b++)x(b);i.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,n=i.globals.dom.elLegendWrap,r=n.clientHeight,o=0,s=0;if(i.config.legend.position==="bottom")s=i.globals.svgHeight-Math.min(r,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var u=new J_(this.ctx),d=u.dimHelpers.getTitleSubtitleCoords("title").height,g=u.dimHelpers.getTitleSubtitleCoords("subtitle").height;s=(d>0?d-10:0)+(g>0?g-10:0)}n.style.position="absolute",o=o+e+i.config.legend.offsetX,s=s+t+i.config.legend.offsetY,n.style.left=o+"px",n.style.top=s+"px",i.config.legend.position==="right"&&(n.style.left="auto",n.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach((function(x){n.style[x]&&(n.style[x]=parseInt(i.config.legend[x],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new J_(this.ctx),i=t.dimHelpers.getTitleSubtitleCoords("title"),n=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;e.config.legend.position==="top"&&(r=i.height+n.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),i=0;e.config.legend.position==="left"&&(i=20),e.config.legend.position==="right"&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var n=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,n,this.w]),new au(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new au(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,n=e.target.getAttribute("data:collapsed")==="true",r=this.w.config.chart.events.legendClick;typeof r=="function"&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,n)}}}]),a})(),jO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return bn(a,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},n=i();if(n.setAttribute("class","apexcharts-toolbar"),n.style.top=t.config.chart.toolbar.offsetY+"px",n.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(n),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(i());var o=[],s=function(x,b,S){var P=x.toLowerCase();e.t[P]&&t.config.chart.zoom.enabled&&o.push({el:b,icon:typeof e.t[P]=="string"?e.t[P]:S,title:e.localeValues[x],class:"apexcharts-".concat(P,"-icon")})};s("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),s("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var u=function(x){e.t[x]&&t.config.chart[x].enabled&&o.push({el:x==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[x]=="string"?e.t[x]:x==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[x==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(x,"-icon")})};u("zoom"),u("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),s("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach((function(x,b){x.index&&Et.moveIndexInArray(o,b,x.index)}));for(var g=0;g<o.length;g++)vi.setAttrs(o[g].el,{class:o[g].class,title:o[g].title}),o[g].el.innerHTML=o[g].icon,n.appendChild(o[g].el);this._createHamburgerMenu(n),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),vi.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,vi.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var i=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,n=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[n]=!t.w.globals[n],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,i=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(i){i&&i.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,i=(this.minX+t)/2,n=(this.maxX+t)/2,r=this._getNewMinXMaxX(i,n);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,i=this.minX-(t-this.minX),n=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(i,n);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(e!==void 0||t!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var n={min:e,max:t},r=this.getBeforeZoomRange(n);r&&(n=r.xaxis);var o={xaxis:n},s=Et.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(o.yaxis=s),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(n,s)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new g0(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var i=t.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var n=i.config.chart.events.beforeResetZoom(t,i);n&&t.updateHelpers.revertDefaultAxisMinMax(n)}typeof i.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(Et.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),a})(),$X=(function(a){ty(t,jO);var e=ey(t);function t(i){var n;return wn(this,t),(n=e.call(this,i)).ctx=i,n.w=i.w,n.dragged=!1,n.graphics=new vi(n.ctx),n.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],n.clientX=0,n.clientY=0,n.startX=0,n.endX=0,n.dragX=0,n.startY=0,n.endY=0,n.dragY=0,n.moveDirection="none",n.debounceTimer=null,n.debounceDelay=100,n.wheelDelay=400,n}return bn(t,[{key:"init",value:function(i){var n=this,r=i.xyRatios,o=this.w,s=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new zs(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(u){n.hoverArea.addEventListener(u,s.svgMouseEvents.bind(s,r),{capture:!1,passive:!0})})),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",s.mouseWheelEvent.bind(s),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,n){var r=this.w,o=this.ctx.toolbar,s=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,u=r.config.chart.toolbar.autoSelected;if(n.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(u==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(u),this.shiftWasPressed=!1),n.target){var d,g=n.target.classList;if(n.target.parentNode&&n.target.parentNode!==null&&(d=n.target.parentNode.classList),!(g.contains("apexcharts-legend-marker")||g.contains("apexcharts-legend-text")||d&&d.contains("apexcharts-toolbar"))){if(this.clientX=n.type==="touchmove"||n.type==="touchstart"?n.touches[0].clientX:n.type==="touchend"?n.changedTouches[0].clientX:n.clientX,this.clientY=n.type==="touchmove"||n.type==="touchstart"?n.touches[0].clientY:n.type==="touchend"?n.changedTouches[0].clientY:n.clientY,n.type==="mousedown"&&n.which===1||n.type==="touchstart"){var x=this.gridRect.getBoundingClientRect();this.startX=this.clientX-x.left-r.globals.barPadForNumericAxis,this.startY=this.clientY-x.top,this.dragged=!1,this.w.globals.mousedown=!0}(n.type==="mousemove"&&n.which===1||n.type==="touchmove")&&(this.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:s,xyRatios:i})):(this.w.globals.mousedown&&r.globals.zoomEnabled||this.w.globals.mousedown&&r.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:s}))),n.type!=="mouseup"&&n.type!=="touchend"&&n.type!=="mouseleave"||this.handleMouseUp({zoomtype:s}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var n,r=i.zoomtype,o=i.isResized,s=this.w,u=(n=this.gridRect)===null||n===void 0?void 0:n.getBoundingClientRect();u&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-u.left-s.globals.barPadForNumericAxis,this.endY=this.clientY-u.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(s.globals.zoomEnabled||s.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:r})),s.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var n=this,r=this.w;i.preventDefault();var o=Date.now();o-r.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),r.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){o-r.globals.lastWheelExecution>n.wheelDelay&&(n.executeMouseWheelZoom(i),r.globals.lastWheelExecution=o)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var n,r=this.w;this.minX=r.globals.isRangeBar?r.globals.minY:r.globals.minX,this.maxX=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;var o=(n=this.gridRect)===null||n===void 0?void 0:n.getBoundingClientRect();if(o){var s,u,d,g=(i.clientX-o.left)/o.width,x=this.minX,b=this.maxX,S=b-x;if(i.deltaY<0){var P=x+g*S;u=P-(s=.5*S)/2,d=P+s/2}else u=x-(s=1.5*S)/2,d=b+s/2;if(!r.globals.isRangeBar){u=Math.max(u,r.globals.initialMinX),d=Math.min(d,r.globals.initialMaxX);var I=.01*(r.globals.initialMaxX-r.globals.initialMinX);if(d-u<I){var O=(u+d)/2;u=O-I/2,d=O+I/2}}var H=this._getNewMinXMaxX(u,d);isNaN(H.minX)||isNaN(H.maxX)||this.zoomUpdateOptions(H.minX,H.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,n=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,s,u,d,g){return g==="l"||g==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,s){return o.center(s[0],s[1])}}).resize().on("resize",(function(){var o=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type;i.handleMouseUp({zoomtype:o,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var i=this.w,n=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(ji(ji({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var r=(i.config.chart.selection.xaxis.min-i.globals.minX)/n.xRatio,o=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/n.xRatio-r;i.globals.isRangeBar&&(r=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/n.invertedYRatio,o=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/n.invertedYRatio);var s={x:r,y:0,width:o,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(s),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var n=i.x,r=i.y,o=i.width,s=i.height,u=i.translateX,d=u===void 0?0:u,g=i.translateY,x=g===void 0?0:g,b=this.w,S=this.zoomRect,P=this.selectionRect;if(this.dragged||b.globals.selection!==null){var I={transform:"translate("+d+", "+x+")"};b.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),S.attr({x:n,y:r,width:o,height:s,fill:b.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":b.config.chart.zoom.zoomedArea.fill.opacity,stroke:b.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":b.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":b.config.chart.zoom.zoomedArea.stroke.opacity}),vi.setAttrs(S.node,I)),b.globals.selectionEnabled&&(P.attr({x:n,y:r,width:o>0?o:0,height:s>0?s:0,fill:b.config.chart.selection.fill.color,"fill-opacity":b.config.chart.selection.fill.opacity,stroke:b.config.chart.selection.stroke.color,"stroke-width":b.config.chart.selection.stroke.width,"stroke-dasharray":b.config.chart.selection.stroke.dashArray,"stroke-opacity":b.config.chart.selection.stroke.opacity}),vi.setAttrs(P.node,I))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var n=i.context,r=i.zoomtype,o=this.w,s=n,u=this.gridRect.getBoundingClientRect(),d=s.startX-1,g=s.startY,x=!1,b=!1,S=s.clientX-u.left-o.globals.barPadForNumericAxis,P=s.clientY-u.top,I=S-d,O=P-g,H={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(I+d)>o.globals.gridWidth?I=o.globals.gridWidth-d:S<0&&(I=d),d>S&&(x=!0,I=Math.abs(I)),g>P&&(b=!0,O=Math.abs(O)),H=ji(ji({},H=r==="x"?{x:x?d-I:d,y:0,width:I,height:o.globals.gridHeight}:r==="y"?{x:0,y:b?g-O:g,width:o.globals.gridWidth,height:O}:{x:x?d-I:d,y:b?g-O:g,width:I,height:O}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),s.drawSelectionRect(H),s.selectionDragging("resizing"),H}},{key:"selectionDragging",value:function(i,n){var r=this,o=this.w;if(n){n.preventDefault();var s=n.detail,u=s.handler,d=s.box,g=d.x,x=d.y;g<this.constraints.x&&(g=this.constraints.x),x<this.constraints.y&&(x=this.constraints.y),d.x2>this.constraints.x2&&(g=this.constraints.x2-d.w),d.y2>this.constraints.y2&&(x=this.constraints.y2-d.h),u.move(g,x);var b=this.xyRatios,S=this.selectionRect,P=0;i==="resizing"&&(P=30);var I=function(H){return parseFloat(S.node.getAttribute(H))},O={x:I("x"),y:I("y"),width:I("width"),height:I("height")};o.globals.selection=O,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var H,Q,Y,Z,J=r.gridRect.getBoundingClientRect(),re=S.node.getBoundingClientRect();o.globals.isRangeBar?(H=o.globals.yAxisScale[0].niceMin+(re.left-J.left)*b.invertedYRatio,Q=o.globals.yAxisScale[0].niceMin+(re.right-J.left)*b.invertedYRatio,Y=0,Z=1):(H=o.globals.xAxisScale.niceMin+(re.left-J.left)*b.xRatio,Q=o.globals.xAxisScale.niceMin+(re.right-J.left)*b.xRatio,Y=o.globals.yAxisScale[0].niceMin+(J.bottom-re.bottom)*b.yRatio[0],Z=o.globals.yAxisScale[0].niceMax-(re.top-J.top)*b.yRatio[0]);var q={xaxis:{min:H,max:Q},yaxis:{min:Y,max:Z}};o.config.chart.events.selection(r.ctx,q),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(r.ctx,q)}),P))}}},{key:"selectionDrawn",value:function(i){var n,r,o=i.context,s=i.zoomtype,u=this.w,d=o,g=this.xyRatios,x=this.ctx.toolbar,b=u.globals.zoomEnabled?d.zoomRect.node.getBoundingClientRect():d.selectionRect.node.getBoundingClientRect(),S=d.gridRect.getBoundingClientRect(),P=b.left-S.left-u.globals.barPadForNumericAxis,I=b.right-S.left-u.globals.barPadForNumericAxis,O=b.top-S.top,H=b.bottom-S.top;u.globals.isRangeBar?(n=u.globals.yAxisScale[0].niceMin+P*g.invertedYRatio,r=u.globals.yAxisScale[0].niceMin+I*g.invertedYRatio):(n=u.globals.xAxisScale.niceMin+P*g.xRatio,r=u.globals.xAxisScale.niceMin+I*g.xRatio);var Q=[],Y=[];if(u.config.yaxis.forEach((function(he,ve){var de=u.globals.seriesYAxisMap[ve][0],be=u.globals.yAxisScale[ve].niceMax-g.yRatio[de]*O,De=u.globals.yAxisScale[ve].niceMax-g.yRatio[de]*H;Q.push(be),Y.push(De)})),d.dragged&&(d.dragX>10||d.dragY>10)&&n!==r){if(u.globals.zoomEnabled){var Z=Et.clone(u.globals.initialConfig.yaxis),J=Et.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(n=Math.floor(n),r=Math.floor(r),n<1&&(n=1,r=u.globals.dataPoints),r-n<2&&(r=n+1)),s!=="xy"&&s!=="x"||(J={min:n,max:r}),s!=="xy"&&s!=="y"||Z.forEach((function(he,ve){Z[ve].min=Y[ve],Z[ve].max=Q[ve]})),x){var re=x.getBeforeZoomRange(J,Z);re&&(J=re.xaxis?re.xaxis:J,Z=re.yaxis?re.yaxis:Z)}var q={xaxis:J};u.config.chart.group||(q.yaxis=Z),d.ctx.updateHelpers._updateOptions(q,!1,d.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&x.zoomCallback(J,Z)}else if(u.globals.selectionEnabled){var ne,te=null;ne={min:n,max:r},s!=="xy"&&s!=="y"||(te=Et.clone(u.config.yaxis)).forEach((function(he,ve){te[ve].min=Y[ve],te[ve].max=Q[ve]})),u.globals.selection=d.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(d.ctx,{xaxis:ne,yaxis:te})}}}},{key:"panDragging",value:function(i){var n=i.context,r=this.w,o=n;if(r.globals.lastClientPosition.x!==void 0){var s=r.globals.lastClientPosition.x-o.clientX,u=r.globals.lastClientPosition.y-o.clientY;Math.abs(s)>Math.abs(u)&&s>0?this.moveDirection="left":Math.abs(s)>Math.abs(u)&&s<0?this.moveDirection="right":Math.abs(u)>Math.abs(s)&&u>0?this.moveDirection="up":Math.abs(u)>Math.abs(s)&&u<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:o.clientX,y:o.clientY};var d=r.globals.isRangeBar?r.globals.minY:r.globals.minX,g=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;o.panScrolled(d,g)}},{key:"panScrolled",value:function(i,n){var r=this.w,o=this.xyRatios,s=Et.clone(r.globals.initialConfig.yaxis),u=o.xRatio,d=r.globals.minX,g=r.globals.maxX;r.globals.isRangeBar&&(u=o.invertedYRatio,d=r.globals.minY,g=r.globals.maxY),this.moveDirection==="left"?(i=d+r.globals.gridWidth/15*u,n=g+r.globals.gridWidth/15*u):this.moveDirection==="right"&&(i=d-r.globals.gridWidth/15*u,n=g-r.globals.gridWidth/15*u),r.globals.isRangeBar||(i<r.globals.initialMinX||n>r.globals.initialMaxX)&&(i=d,n=g);var x={xaxis:{min:i,max:n}};r.config.chart.group||(x.yaxis=s),this.updateScrolledChart(x,i,n)}},{key:"updateScrolledChart",value:function(i,n,r){var o=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof o.config.chart.events.scrolled=="function"){var s={xaxis:{min:n,max:r}};o.config.chart.events.scrolled(this.ctx,s),this.ctx.events.fireEvent("scrolled",s)}}}]),t})(),VO=(function(){function a(e){wn(this,a),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return bn(a,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,i=e.elGrid,n=e.clientX,r=e.clientY,o=this.w,s=i.getBoundingClientRect(),u=s.width,d=s.height,g=u/(o.globals.dataPoints-1),x=d/o.globals.dataPoints,b=this.hasBars();!o.globals.comboCharts&&!b||o.config.xaxis.convertedCatToNumeric||(g=u/o.globals.dataPoints);var S=n-s.left-o.globals.barPadForNumericAxis,P=r-s.top;S<0||P<0||S>u||P>d?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var I=Math.round(S/g),O=Math.floor(P/x);b&&!o.config.xaxis.convertedCatToNumeric&&(I=Math.ceil(S/g),I-=1);var H=null,Q=null,Y=o.globals.seriesXvalues.map((function(ne){return ne.filter((function(te){return Et.isNumber(te)}))})),Z=o.globals.seriesYvalues.map((function(ne){return ne.filter((function(te){return Et.isNumber(te)}))}));if(o.globals.isXNumeric){var J=this.ttCtx.getElGrid().getBoundingClientRect(),re=S*(J.width/u),q=P*(J.height/d);H=(Q=this.closestInMultiArray(re,q,Y,Z)).index,I=Q.j,H!==null&&o.globals.hasNullValues&&(Y=o.globals.seriesXvalues[H],I=(Q=this.closestInArray(re,Y)).j)}return o.globals.capturedSeriesIndex=H===null?-1:H,(!I||I<1)&&(I=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=O:o.globals.capturedDataPointIndex=I,{capturedSeries:H,j:o.globals.isBarHorizontal?O:I,hoverX:S,hoverY:P}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,n=e.map((function(o,s){return o.length>0?s:-1})),r=0;r<n.length;r++)if(n[r]!==-1&&t.globals.collapsedSeriesIndices.indexOf(r)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1){i=n[r];break}return i}},{key:"closestInMultiArray",value:function(e,t,i,n){for(var r,o=this.w,s=1/0,u=null,d=null,g=0;g<i.length;g++)if(r=g,o.globals.collapsedSeriesIndices.indexOf(r)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1)for(var x=i[g],b=n[g],S=Math.min(x.length,b.length),P=0;P<S;P++){var I=e-x[P],O=Math.sqrt(I*I);if(!o.globals.allSeriesHasEqualX){var H=t-b[P];O=Math.sqrt(I*I+H*H)}O<s&&(s=O,u=g,d=P)}return{index:u,j:d}}},{key:"closestInArray",value:function(e,t){for(var i=t[0],n=null,r=Math.abs(e-i),o=0;o<t.length;o++){var s=Math.abs(e-t[o]);s<r&&(r=s,n=o)}return{j:n}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter((function(r){return r[0]!==void 0}));if(i.length>0)for(var n=0;n<i.length-1;n++)i[n][e]!==void 0&&i[n+1][e]!==void 0&&i[n][e]!==i[n+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return yo(e).reduce((function(t,i){return t+i.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=yo(i),t&&(i=i.filter((function(r){var o=Number(r.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1}))),i.sort((function(r,o){var s=Number(r.getAttribute("data:realIndex")),u=Number(o.getAttribute("data:realIndex"));return u<s?1:u>s?-1:0}));var n=[];return i.forEach((function(r){n.push(r.querySelector(".apexcharts-marker"))})),n}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var i=Number(e.getAttribute("cx")),n=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new vi(this.ctx).getMarkerPath(i,n,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return i===void 0&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var n=i.allTooltipSeriesGroups,r=0;r<n.length;r++)e==="enable"?(n[r].classList.add("apexcharts-active"),n[r].style.display=t.config.tooltip.items.display):(n[r].classList.remove("apexcharts-active"),n[r].style.display="none")}}]),a})(),XX=(function(){function a(e){wn(this,a),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new VO(e)}return bn(a,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=t===void 0||t,n=e.ttItems,r=e.i,o=r===void 0?0:r,s=e.j,u=s===void 0?null:s,d=e.y1,g=e.y2,x=e.e,b=this.w;b.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:u,y1:d,y2:g,w:b}):this.toggleActiveInactiveSeries(i,o);var S=this.getValuesToPrint({i:o,j:u});this.printLabels({i:o,j:u,values:S,ttItems:n,shared:i,e:x});var P=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=P.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=P.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,n=e.i,r=e.j,o=e.values,s=e.ttItems,u=e.shared,d=e.e,g=this.w,x=[],b=function(J){return g.globals.seriesGoals[J]&&g.globals.seriesGoals[J][r]&&Array.isArray(g.globals.seriesGoals[J][r])},S=o.xVal,P=o.zVal,I=o.xAxisTTVal,O="",H=g.globals.colors[n];r!==null&&g.config.plotOptions.bar.distributed&&(H=g.globals.colors[r]);for(var Q=function(J,re){var q=i.getFormatters(n);O=i.getSeriesName({fn:q.yLbTitleFormatter,index:n,seriesIndex:n,j:r}),g.config.chart.type==="treemap"&&(O=q.yLbTitleFormatter(String(g.config.series[n].data[r].x),{series:g.globals.series,seriesIndex:n,dataPointIndex:r,w:g}));var ne=g.config.tooltip.inverseOrder?re:J;if(g.globals.axisCharts){var te=function(de){var be,De,Ie,nt;return g.globals.isRangeData?q.yLbFormatter((be=g.globals.seriesRangeStart)===null||be===void 0||(De=be[de])===null||De===void 0?void 0:De[r],{series:g.globals.seriesRangeStart,seriesIndex:de,dataPointIndex:r,w:g})+" - "+q.yLbFormatter((Ie=g.globals.seriesRangeEnd)===null||Ie===void 0||(nt=Ie[de])===null||nt===void 0?void 0:nt[r],{series:g.globals.seriesRangeEnd,seriesIndex:de,dataPointIndex:r,w:g}):q.yLbFormatter(g.globals.series[de][r],{series:g.globals.series,seriesIndex:de,dataPointIndex:r,w:g})};if(u)q=i.getFormatters(ne),O=i.getSeriesName({fn:q.yLbTitleFormatter,index:ne,seriesIndex:n,j:r}),H=g.globals.colors[ne],t=te(ne),b(ne)&&(x=g.globals.seriesGoals[ne][r].map((function(de){return{attrs:de,val:q.yLbFormatter(de.value,{seriesIndex:ne,dataPointIndex:r,w:g})}})));else{var he,ve=d==null||(he=d.target)===null||he===void 0?void 0:he.getAttribute("fill");ve&&(ve.indexOf("url")!==-1?ve.indexOf("Pattern")!==-1&&(H=g.globals.dom.baseEl.querySelector(ve.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):H=ve),t=te(n),b(n)&&Array.isArray(g.globals.seriesGoals[n][r])&&(x=g.globals.seriesGoals[n][r].map((function(de){return{attrs:de,val:q.yLbFormatter(de.value,{seriesIndex:n,dataPointIndex:r,w:g})}})))}}r===null&&(t=q.yLbFormatter(g.globals.series[n],ji(ji({},g),{},{seriesIndex:n,dataPointIndex:n}))),i.DOMHandling({i:n,t:ne,j:r,ttItems:s,values:{val:t,goalVals:x,xVal:S,xAxisTTVal:I,zVal:P},seriesName:O,shared:u,pColor:H})},Y=0,Z=g.globals.series.length-1;Y<g.globals.series.length;Y++,Z--)Q(Y,Z)}},{key:"getFormatters",value:function(e){var t,i=this.w,n=i.globals.yLabelFormatters[e];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(n=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(n=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,typeof n!="function"&&(n=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(r){return r}),typeof t!="function"&&(t=function(r){return r?r+": ":""}),{yLbFormatter:n,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,i=e.index,n=e.seriesIndex,r=e.j,o=this.w;return t(String(o.globals.seriesNames[i]),{series:o.globals.series,seriesIndex:n,dataPointIndex:r,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,i=e.j,n=e.ttItems,r=e.values,o=e.seriesName,s=e.shared,u=e.pColor,d=this.w,g=this.ttCtx,x=r.val,b=r.goalVals,S=r.xVal,P=r.xAxisTTVal,I=r.zVal,O=null;O=n[t].children,d.config.tooltip.fillSeriesColor&&(n[t].style.backgroundColor=u,O[0].style.display="none"),g.showTooltipTitle&&(g.tooltipTitle===null&&(g.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),g.tooltipTitle.innerHTML=S),g.isXAxisTooltipEnabled&&(g.xaxisTooltipText.innerHTML=P!==""?P:S);var H=n[t].querySelector(".apexcharts-tooltip-text-y-label");H&&(H.innerHTML=o||"");var Q=n[t].querySelector(".apexcharts-tooltip-text-y-value");Q&&(Q.innerHTML=x!==void 0?x:""),O[0]&&O[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(u=d.config.tooltip.marker.fillColors[t]),d.config.tooltip.fillSeriesColor?O[0].style.backgroundColor=u:O[0].style.color=u),d.config.tooltip.marker.show||(O[0].style.display="none");var Y=n[t].querySelector(".apexcharts-tooltip-text-goals-label"),Z=n[t].querySelector(".apexcharts-tooltip-text-goals-value");if(b.length&&d.globals.seriesGoals[t]){var J=function(){var ne="<div>",te="<div>";b.forEach((function(he,ve){ne+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(he.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(he.attrs.name,"</div>"),te+="<div>".concat(he.val,"</div>")})),Y.innerHTML=ne+"</div>",Z.innerHTML=te+"</div>"};s?d.globals.seriesGoals[t][i]&&Array.isArray(d.globals.seriesGoals[t][i])?J():(Y.innerHTML="",Z.innerHTML=""):J()}else Y.innerHTML="",Z.innerHTML="";if(I!==null&&(n[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,n[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=I!==void 0?I:""),s&&O[0]){if(d.config.tooltip.hideEmptySeries){var re=n[t].querySelector(".apexcharts-tooltip-marker"),q=n[t].querySelector(".apexcharts-tooltip-text");parseFloat(x)==0?(re.style.display="none",q.style.display="none"):(re.style.display="block",q.style.display="block")}x==null||d.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||d.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(t)===-1?O[0].parentNode.style.display="none":O[0].parentNode.style.display=d.config.tooltip.items.display}else Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(t)===-1&&(O[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var i=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var n=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));n&&(n.classList.add("apexcharts-active"),n.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,n=this.w,r=this.ctx.series.filteredSeriesX(),o="",s="",u=null,d=null,g={series:n.globals.series,seriesIndex:t,dataPointIndex:i,w:n},x=n.globals.ttZFormatter;i===null?d=n.globals.series[t]:n.globals.isXNumeric&&n.config.chart.type!=="treemap"?(o=r[t][i],r[t].length===0&&(o=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):o=new H2(this.ctx).isFormatXY()?n.config.series[t].data[i]!==void 0?n.config.series[t].data[i].x:"":n.globals.labels[i]!==void 0?n.globals.labels[i]:"";var b=o;return n.globals.isXNumeric&&n.config.xaxis.type==="datetime"?o=new ry(this.ctx).xLabelFormat(n.globals.ttKeyFormatter,b,b,{i:void 0,dateFormatter:new Qo(this.ctx).formatDate,w:this.w}):o=n.globals.isBarHorizontal?n.globals.yLabelFormatters[0](b,g):n.globals.xLabelFormatter(b,g),n.config.tooltip.x.formatter!==void 0&&(o=n.globals.ttKeyFormatter(b,g)),n.globals.seriesZ.length>0&&n.globals.seriesZ[t].length>0&&(u=x(n.globals.seriesZ[t][i],n)),s=typeof n.config.xaxis.tooltip.formatter=="function"?n.globals.xaxisTooltipFormatter(b,g):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(s)?s.join(" "):s,zVal:u}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,n=e.y1,r=e.y2,o=e.w,s=this.ttCtx.getElTooltip(),u=o.config.tooltip.custom;Array.isArray(u)&&u[t]&&(u=u[t]);var d=u({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:i,y1:n,y2:r,w:o});typeof d=="string"||typeof d=="number"?s.innerHTML=d:(d instanceof Element||typeof d.nodeName=="string")&&(s.innerHTML="",s.appendChild(d.cloneNode(!0)))}}]),a})(),GO=(function(){function a(e){wn(this,a),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return bn(a,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,n=this.w,r=i.getElXCrosshairs(),o=e-i.xcrosshairsWidth/2,s=n.globals.labels.slice().length;if(t!==null&&(o=n.globals.gridWidth/s*t),r===null||n.globals.isBarHorizontal||(r.setAttribute("x",o),r.setAttribute("x1",o),r.setAttribute("x2",o),r.setAttribute("y2",n.globals.gridHeight),r.classList.add("apexcharts-active")),o<0&&(o=0),o>n.globals.gridWidth&&(o=n.globals.gridWidth),i.isXAxisTooltipEnabled){var u=o;n.config.xaxis.crosshairs.width!=="tickWidth"&&n.config.xaxis.crosshairs.width!=="barWidth"||(u=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(u)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&vi.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&vi.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var n=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var r;r=new vi(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=r.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=n+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var n=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+n,o=i.yaxisTTEls[e].getBoundingClientRect(),s=o.height,u=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(u-=o.width),r-=s/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&r>0&&r<t.globals.gridHeight?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=r+"px",i.yaxisTTEls[e].style.left=u+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=this.w,r=this.ttCtx,o=r.getElTooltip(),s=r.tooltipRect,u=i!==null?parseFloat(i):1,d=parseFloat(e)+u+5,g=parseFloat(t)+u/2;if(d>n.globals.gridWidth/2&&(d=d-s.ttWidth-u-10),d>n.globals.gridWidth-s.ttWidth-10&&(d=n.globals.gridWidth-s.ttWidth),d<-20&&(d=-20),n.config.tooltip.followCursor){var x=r.getElGrid().getBoundingClientRect();(d=r.e.clientX-x.left)>n.globals.gridWidth/2&&(d-=r.tooltipRect.ttWidth),(g=r.e.clientY+n.globals.translateY-x.top)>n.globals.gridHeight/2&&(g-=r.tooltipRect.ttHeight)}else n.globals.isBarHorizontal||s.ttHeight/2+g>n.globals.gridHeight&&(g=n.globals.gridHeight-s.ttHeight+n.globals.translateY);isNaN(d)||(d+=n.globals.translateX,o.style.left=d+"px",o.style.top=g+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,n=this.ttCtx;if(i.globals.markers.size[e]>0)for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<r.length;o++)parseInt(r[o].getAttribute("rel"),10)===t&&(n.marker.resetPointsSize(),n.marker.enlargeCurrentPoint(t,r[o]));else n.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,n,r,o,s=this.w,u=this.ttCtx,d=new vi(this.ctx),g=s.globals.pointsArray,x=u.tooltipUtil.getHoverMarkerSize(t),b=s.config.series[t].type;if(!b||b!=="column"&&b!=="candlestick"&&b!=="boxPlot"){r=(i=g[t][e])===null||i===void 0?void 0:i[0],o=((n=g[t][e])===null||n===void 0?void 0:n[1])||0;var S=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(S&&o<s.globals.gridHeight&&o>0){var P=S.getAttribute("shape"),I=d.getMarkerPath(r,o,P,1.5*x);S.setAttribute("d",I)}this.moveXCrosshairs(r),u.fixedTooltip||this.moveTooltip(r,o,x)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,n=i.w,r=0,o=0,s=n.globals.pointsArray,u=new au(this.ctx),d=new vi(this.ctx);t=u.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=i.tooltipUtil.getHoverMarkerSize(t);if(s[t]&&(r=s[t][e][0],o=s[t][e][1]),!isNaN(r)){var x=i.tooltipUtil.getAllMarkers();if(x.length)for(var b=0;b<n.globals.series.length;b++){var S=s[b];if(n.globals.comboCharts&&S===void 0&&x.splice(b,0,null),S&&S.length){var P=s[b][e][1],I=void 0;x[b].setAttribute("cx",r);var O=x[b].getAttribute("shape");if(n.config.chart.type==="rangeArea"&&!n.globals.comboCharts){var H=e+n.globals.series[b].length;I=s[b][H][1],P-=Math.abs(P-I)/2}if(P!==null&&!isNaN(P)&&P<n.globals.gridHeight+g&&P+g>0){var Q=d.getMarkerPath(r,P,O,g);x[b].setAttribute("d",Q)}else x[b].setAttribute("d","")}}this.moveXCrosshairs(r),i.fixedTooltip||this.moveTooltip(r,o||n.globals.gridHeight,g)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var i=this.w,n=this.ttCtx,r=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(r=i.globals.barGroups.length);var o=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;i.globals.isBarHorizontal&&(o=new au(this.ctx).getActiveConfigSeriesIndex("desc")+1);var s=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));s||typeof t!="number"||(s=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var u=s?parseFloat(s.getAttribute("cx")):0,d=s?parseFloat(s.getAttribute("cy")):0,g=s?parseFloat(s.getAttribute("barWidth")):0,x=n.getElGrid().getBoundingClientRect(),b=s&&(s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(s&&!b&&(u-=r%2!=0?g/2:0),s&&b&&(u-=g/2)):i.globals.isBarHorizontal||(u=n.xAxisTicksPositions[e-1]+n.dataPointsDividedWidth/2,isNaN(u)&&(u=n.xAxisTicksPositions[e]-n.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?d-=n.tooltipRect.ttHeight:i.config.tooltip.followCursor?d=n.e.clientY-x.top-n.tooltipRect.ttHeight/2:d+n.tooltipRect.ttHeight+15>i.globals.gridHeight&&(d=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(u),n.fixedTooltip||this.moveTooltip(u,d||i.globals.gridHeight)}}]),a})(),YX=(function(){function a(e){wn(this,a),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new GO(e)}return bn(a,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new vi(this.ctx),i=new Ig(this.ctx),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");n=yo(n),e.config.chart.stacked&&n.sort((function(x,b){return parseFloat(x.getAttribute("data:realIndex"))-parseFloat(b.getAttribute("data:realIndex"))}));for(var r=0;r<n.length;r++){var o=n[r].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var s=void 0,u="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(u+=" no-pointer-events");var d=i.getMarkerConfig({cssClass:u,seriesIndex:Number(o.getAttribute("data:realIndex"))});(s=t.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var g=document.createElementNS(e.globals.SVGNS,"g");g.classList.add("apexcharts-series-markers"),g.appendChild(s.node),o.appendChild(g)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w;r.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),s=t.getAttribute("cy");if(i!==null&&n!==null&&(o=i,s=n),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(r.config.chart.type==="radar"){var u=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(o,s,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,n=this.ttCtx,r=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=t.config.markers.hover.size,u=0;u<o.length;u++){var d=o[u].getAttribute("rel"),g=o[u].getAttribute("index");if(s===void 0&&(s=t.globals.markers.size[g]+t.config.markers.hover.sizeOffset),r===parseInt(d,10)){i.newPointSize(r,o[u]);var x=o[u].getAttribute("cx"),b=o[u].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(x),n.fixedTooltip||i.tooltipPosition.moveTooltip(x,b,s)}else i.oldPointSize(o[u])}}},{key:"newPointSize",value:function(e,t){var i=this.w,n=i.config.markers.hover.size,r=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(r.getAttribute("default-marker-size")!=="0"){var o=parseInt(r.getAttribute("index"),10);n===void 0&&(n=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),n<0&&(n=0);var s=this.ttCtx.tooltipUtil.getPathFromPoint(t,n);t.setAttribute("d",s)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));if(Et.isNumber(i)&&i>0){var n=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],i);e[t].setAttribute("d",n)}else e[t].setAttribute("d","M0,0")}}}]),a})(),KX=(function(){function a(e){wn(this,a),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return bn(a,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,n=e.x,r=e.y,o=e.type,s=this.ttCtx,u=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var d=this.getAttr(t,"i"),g=this.getAttr(t,"j"),x=this.getAttr(t,"cx"),b=this.getAttr(t,"cy"),S=this.getAttr(t,"width"),P=this.getAttr(t,"height");if(s.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:d,j:g,shared:!1,e:t}),u.globals.capturedSeriesIndex=d,u.globals.capturedDataPointIndex=g,n=x+s.tooltipRect.ttWidth/2+S,r=b+s.tooltipRect.ttHeight/2-P/2,s.tooltipPosition.moveXCrosshairs(x+S/2),n>u.globals.gridWidth/2&&(n=x-s.tooltipRect.ttWidth/2+S),s.w.config.tooltip.followCursor){var I=u.globals.dom.elWrap.getBoundingClientRect();n=u.globals.clientX-I.left-(n>u.globals.gridWidth/2?s.tooltipRect.ttWidth:0),r=u.globals.clientY-I.top-(r>u.globals.gridHeight/2?s.tooltipRect.ttHeight:0)}}return{x:n,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,i,n=e.e,r=e.opt,o=e.x,s=e.y,u=this.w,d=this.ttCtx;if(n.target.classList.contains("apexcharts-marker")){var g=parseInt(r.paths.getAttribute("cx"),10),x=parseInt(r.paths.getAttribute("cy"),10),b=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var S=Et.findAncestor(r.paths,"apexcharts-series");S&&(t=parseInt(S.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:i,shared:!d.showOnIntersect&&u.config.tooltip.shared,e:n}),n.type==="mouseup"&&d.markerClick(n,t,i),u.globals.capturedSeriesIndex=t,u.globals.capturedDataPointIndex=i,o=g,s=x+u.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var P=d.getElGrid().getBoundingClientRect();s=d.e.clientY+u.globals.translateY-P.top}b<0&&(s=x),d.marker.enlargeCurrentPoint(i,r.paths,o,s)}return{x:o,y:s}}},{key:"handleBarTooltip",value:function(e){var t,i,n=e.e,r=e.opt,o=this.w,s=this.ttCtx,u=s.getElTooltip(),d=0,g=0,x=0,b=this.getBarTooltipXY({e:n,opt:r});if(b.j!==null||b.barHeight!==0||b.barWidth!==0){t=b.i;var S=b.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=S,o.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!o.config.tooltip.shared?(g=b.x,x=b.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,d=g):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(x)&&(x=o.globals.svgHeight-s.tooltipRect.ttHeight),parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),g+s.tooltipRect.ttWidth>o.globals.gridWidth?g-=s.tooltipRect.ttWidth:g<0&&(g=0),s.w.config.tooltip.followCursor){var P=s.getElGrid().getBoundingClientRect();x=s.e.clientY-P.top}s.tooltip===null&&(s.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?s.tooltipPosition.moveXCrosshairs(d+i/2):s.tooltipPosition.moveXCrosshairs(d)),!s.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&s.tooltipUtil.hasBars())&&(x=x+o.globals.translateY-s.tooltipRect.ttHeight/2,u.style.left=g+o.globals.translateX+"px",u.style.top=x+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,i=e.e,n=e.opt,r=this.w,o=null,s=this.ttCtx,u=0,d=0,g=0,x=0,b=0,S=i.target.classList;if(S.contains("apexcharts-bar-area")||S.contains("apexcharts-candlestick-area")||S.contains("apexcharts-boxPlot-area")||S.contains("apexcharts-rangebar-area")){var P=i.target,I=P.getBoundingClientRect(),O=n.elGrid.getBoundingClientRect(),H=I.height;b=I.height;var Q=I.width,Y=parseInt(P.getAttribute("cx"),10),Z=parseInt(P.getAttribute("cy"),10);x=parseFloat(P.getAttribute("barWidth"));var J=i.type==="touchmove"?i.touches[0].clientX:i.clientX;o=parseInt(P.getAttribute("j"),10),u=parseInt(P.parentNode.getAttribute("rel"),10)-1;var re=P.getAttribute("data-range-y1"),q=P.getAttribute("data-range-y2");r.globals.comboCharts&&(u=parseInt(P.parentNode.getAttribute("data:realIndex"),10));var ne=function(he){return r.globals.isXNumeric?Y-Q/2:t.isVerticalGroupedRangeBar?Y+Q/2:Y-s.dataPointsDividedWidth+Q/2},te=function(){return Z-s.dataPointsDividedHeight+H/2-s.tooltipRect.ttHeight/2};s.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:u,j:o,y1:re?parseInt(re,10):null,y2:q?parseInt(q,10):null,shared:!s.showOnIntersect&&r.config.tooltip.shared,e:i}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(d=J-O.left+15,g=te()):(d=ne(),g=i.clientY-O.top-s.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((d=Y)<s.xyRatios.baseLineInvertedY&&(d=Y-s.tooltipRect.ttWidth),g=te()):(d=ne(),g=Z)}return{x:d,y:g,barHeight:b,barWidth:x,i:u,j:o}}}]),a})(),qX=(function(){function a(e){wn(this,a),this.w=e.w,this.ttCtx=e}return bn(a,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i=e.config.xaxis.position==="bottom";t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var n=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=0;i<e.config.yaxis.length;i++){var n=e.config.yaxis[i].opposite||e.config.yaxis[i].crosshairs.opposite;t.yaxisOffX=n?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,n?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),i===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[i]=document.createElement("div"),t.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var n=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(n!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var r=parseFloat(n.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var s=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/s}else if(e.config.xaxis.crosshairs.width==="barWidth"){var u=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(u!==null){var d=parseFloat(u.getAttribute("barWidth"));t.xcrosshairsWidth=d}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),i!==null&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var n=this.ttCtx,r=this.w,o=r.globals,s=o.seriesYAxisMap[e];if(n.yaxisTooltips[e]&&s.length>0){var u=o.yLabelFormatters[e],d=n.getElGrid().getBoundingClientRect(),g=s[0],x=0;i.yRatio.length>1&&(x=g);var b=(t-d.top)*i.yRatio[x],S=o.maxYArr[g]-o.minYArr[g],P=o.minYArr[g]+(S-b);r.config.yaxis[e].reversed&&(P=o.maxYArr[g]-(S-b)),n.tooltipPosition.moveYCrosshairs(t-d.top),n.yaxisTooltipText[e].innerHTML=u(P),n.tooltipPosition.moveYAxisTooltip(e)}}}]),a})(),vL=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new VO(this),this.tooltipLabels=new XX(this),this.tooltipPosition=new GO(this),this.marker=new YX(this),this.intersect=new KX(this),this.axesTooltip=new qX(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return bn(a,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(o,s){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var n=new Q0(this.ctx);this.xAxisTicksPositions=n.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,n=[],r=this.getElTooltip(),o=function(u){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(u)),d.style.order=i.config.tooltip.inverseOrder?e-u:u+1;var g=document.createElement("span");g.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?g.style.backgroundColor=i.globals.colors[u]:g.style.color=i.globals.colors[u];var x=i.config.markers.shape,b=x;Array.isArray(x)&&(b=x[u]),g.setAttribute("shape",b),d.appendChild(g);var S=document.createElement("div");S.classList.add("apexcharts-tooltip-text"),S.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,S.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(P){var I=document.createElement("div");I.classList.add("apexcharts-tooltip-".concat(P,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(P,"-label")),I.appendChild(O);var H=document.createElement("span");H.classList.add("apexcharts-tooltip-text-".concat(P,"-value")),I.appendChild(H),S.appendChild(I)})),d.appendChild(S),r.appendChild(d),n.push(d)},s=0;s<e;s++)o(s);return n}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),n=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),r=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,s=this.getElGrid();s&&(this.seriesBound=s.getBoundingClientRect());var u,d=[],g=[],x={hoverArea:o,elGrid:s,tooltipEl:i,tooltipY:d,tooltipX:g,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):n?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),u&&u.length))for(var b=0;b<u.length;b++)d.push(u[b].getAttribute("cy")),g.push(u[b].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||n&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],x);else if(n&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(x);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var S=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(S,x)}if(this.showOnIntersect){var P=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");P.length>0&&this.addPathsEventListeners(P,x),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(x)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),n=i.width+10,r=i.height+10,o=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY,u=this.tConfig.fixed.position.toLowerCase();return u.indexOf("right")>-1&&(o=o+e.globals.svgWidth-n+10),u.indexOf("bottom")>-1&&(s=s+e.globals.svgHeight-r-10),t.style.left=o+"px",t.style.top=s+"px",{x:o,y:s,ttWidth:n,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,n=function(o){var s={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(u){return e[o].addEventListener(u,i.onSeriesHover.bind(i,s),{capture:!1,passive:!0})}))},r=0;r<e.length;r++)n(r)}},{key:"onSeriesHover",value:function(e,t){var i=this,n=Date.now()-this.lastHoverTime;n>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){i.seriesHover(e,t)}),20-n))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var n=[],r=this.w;r.config.chart.group&&(n=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||r.globals.dataPoints===0)||(n.length?n.forEach((function(o){var s=i.getElTooltip(o),u={paths:e.paths,tooltipEl:s,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===i.w.globals.minX&&o.w.globals.maxX===i.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:u,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,n=e.opt,r=e.e,o=t.w,s=this.getElTooltip(t);s&&(i.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},i.e=r,i.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new au(t).toggleSeriesOnHover(r,r.target.parentNode),o.globals.axisCharts?i.axisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:n,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,i,n=e.e,r=e.opt,o=this.w,s=r.elGrid.getBoundingClientRect(),u=n.type==="touchmove"?n.touches[0].clientX:n.clientX,d=n.type==="touchmove"?n.touches[0].clientY:n.clientY;if(this.clientY=d,this.clientX=u,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<s.top||d>s.top+s.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var g=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(g)<0)return void this.handleMouseOut(r)}var x=this.getElTooltip(),b=this.getElXCrosshairs(),S=[];o.config.chart.group&&(S=this.ctx.getSyncedCharts());var P=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(n.type==="mousemove"||n.type==="touchmove"||n.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;b!==null&&b.classList.add("apexcharts-active");var I=this.yaxisTooltips.filter((function(Q){return Q===!0}));if(this.ycrosshairs!==null&&I.length&&this.ycrosshairs.classList.add("apexcharts-active"),P&&!this.showOnIntersect||S.length>1)this.handleStickyTooltip(n,u,d,r);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var O=this.intersect.handleHeatTreeTooltip({e:n,opt:r,x:t,y:i,type:o.config.chart.type});t=O.x,i=O.y,x.style.left=t+"px",x.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:n,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:n,opt:r,x:t,y:i});if(this.yaxisTooltips.length)for(var H=0;H<o.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else n.type!=="mouseout"&&n.type!=="touchend"||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,n=e.tooltipRect,r=this.w,o=i.paths.getAttribute("rel"),s=this.getElTooltip(),u=r.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var d=r.globals.clientX-u.left-n.ttWidth/2,g=r.globals.clientY-u.top-n.ttHeight-10;if(s.style.left=d+"px",s.style.top=g+"px",r.config.legend.tooltipHoverFormatter){var x=o-1,b=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[x].getAttribute("data:default-text"),{seriesIndex:x,dataPointIndex:x,w:r});this.legendLabels[x].innerHTML=b}}else t.type!=="mouseout"&&t.type!=="touchend"||(s.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(S){var P=S.getAttribute("data:default-text");S.innerHTML=decodeURIComponent(P)})))}},{key:"handleStickyTooltip",value:function(e,t,i,n){var r=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:n.hoverArea,elGrid:n.elGrid,clientX:t,clientY:i}),s=o.j,u=o.capturedSeries;r.globals.collapsedSeriesIndices.includes(u)&&(u=null);var d=n.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(n);else if(u!==null)this.handleStickyCapturedSeries(e,u,n,s);else if(this.tooltipUtil.isXoverlap(s)||r.globals.isBarHorizontal){var g=r.globals.series.findIndex((function(x,b){return!r.globals.collapsedSeriesIndices.includes(b)}));this.create(e,this,g,s,n.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,i,n){var r=this.w;if(!this.tConfig.shared&&r.globals.series[t][n]===null)return void this.handleMouseOut(i);if(r.globals.series[t][n]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(n)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,n,i.ttItems):this.create(e,this,t,n,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(n)){var o=r.globals.series.findIndex((function(s,u){return!r.globals.collapsedSeriesIndices.includes(u)}));this.create(e,this,o,n,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new vi(this.ctx),i=e.globals.dom.Paper.find(".apexcharts-bar-area"),n=0;n<i.length;n++)t.pathMouseLeave(i[n])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var n=0;n<this.yaxisTTEls.length;n++)this.yaxisTTEls[n].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(r){var o=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(o)}))}},{key:"markerClick",value:function(e,t,i){var n=this.w;typeof n.config.chart.events.markerClick=="function"&&n.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:n}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:n}])}},{key:"create",value:function(e,t,i,n,r){var o,s,u,d,g,x,b,S,P,I,O,H,Q,Y,Z,J,re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,q=this.w,ne=t;e.type==="mouseup"&&this.markerClick(e,i,n),re===null&&(re=this.tConfig.shared);var te=this.tooltipUtil.hasMarkers(i),he=this.tooltipUtil.getElBars(),ve=function(){q.globals.markers.largestSize>0?ne.marker.enlargePoints(n):ne.tooltipPosition.moveDynamicPointsOnHover(n)};if(q.config.legend.tooltipHoverFormatter){var de=q.config.legend.tooltipHoverFormatter,be=Array.from(this.legendLabels);be.forEach((function(di){var It=di.getAttribute("data:default-text");di.innerHTML=decodeURIComponent(It)}));for(var De=0;De<be.length;De++){var Ie=be[De],nt=parseInt(Ie.getAttribute("i"),10),je=decodeURIComponent(Ie.getAttribute("data:default-text")),dt=de(je,{seriesIndex:re?nt:i,dataPointIndex:n,w:q});if(re)Ie.innerHTML=q.globals.collapsedSeriesIndices.indexOf(nt)<0?dt:je;else if(Ie.innerHTML=nt===i?dt:je,i===nt)break}}var Mt=ji(ji({ttItems:r,i,j:n},((o=q.globals.seriesRange)===null||o===void 0||(s=o[i])===null||s===void 0||(u=s[n])===null||u===void 0||(d=u.y[0])===null||d===void 0?void 0:d.y1)!==void 0&&{y1:(g=q.globals.seriesRange)===null||g===void 0||(x=g[i])===null||x===void 0||(b=x[n])===null||b===void 0||(S=b.y[0])===null||S===void 0?void 0:S.y1}),((P=q.globals.seriesRange)===null||P===void 0||(I=P[i])===null||I===void 0||(O=I[n])===null||O===void 0||(H=O.y[0])===null||H===void 0?void 0:H.y2)!==void 0&&{y2:(Q=q.globals.seriesRange)===null||Q===void 0||(Y=Q[i])===null||Y===void 0||(Z=Y[n])===null||Z===void 0||(J=Z.y[0])===null||J===void 0?void 0:J.y2});if(re){if(ne.tooltipLabels.drawSeriesTexts(ji(ji({},Mt),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),te)ve();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(he),this.barSeriesHeight>0)){var We=new vi(this.ctx),Pt=q.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(n,"']"));this.deactivateHoverFilter(),ne.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&ve(),ne.tooltipPosition.moveStickyTooltipOverBars(n,i);for(var Kt=0;Kt<Pt.length;Kt++)We.pathMouseEnter(Pt[Kt])}}else ne.tooltipLabels.drawSeriesTexts(ji({shared:!1},Mt)),this.tooltipUtil.hasBars()&&ne.tooltipPosition.moveStickyTooltipOverBars(n,i),te&&ne.tooltipPosition.moveMarkers(i,n)}}]),a})(),ZX=(function(){function a(e){wn(this,a),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return bn(a,[{key:"handleBarDataLabels",value:function(e){var t,i,n=e.x,r=e.y,o=e.y1,s=e.y2,u=e.i,d=e.j,g=e.realIndex,x=e.columnGroupIndex,b=e.series,S=e.barHeight,P=e.barWidth,I=e.barXPosition,O=e.barYPosition,H=e.visibleSeries,Q=this.w,Y=new vi(this.barCtx.ctx),Z=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth;Q.globals.isXNumeric&&!Q.globals.isBarHorizontal?(t=n+parseFloat(P*(H+1)),i=r+parseFloat(S*(H+1))-Z):(t=n+parseFloat(P*H),i=r+parseFloat(S*H));var J,re=null,q=n,ne=r,te={},he=Q.config.dataLabels,ve=this.barCtx.barOptions.dataLabels,de=this.barCtx.barOptions.dataLabels.total;O!==void 0&&this.barCtx.isRangeBar&&(i=O,ne=O),I!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=I,q=I);var be=he.offsetX,De=he.offsetY,Ie={width:0,height:0};if(Q.config.dataLabels.enabled){var nt=Q.globals.series[u][d];Ie=Y.getTextRects(Q.config.dataLabels.formatter?Q.config.dataLabels.formatter(nt,ji(ji({},Q),{},{seriesIndex:u,dataPointIndex:d,w:Q})):Q.globals.yLabelFormatters[0](nt),parseFloat(he.style.fontSize))}var je={x:n,y:r,i:u,j:d,realIndex:g,columnGroupIndex:x,bcx:t,bcy:i,barHeight:S,barWidth:P,textRects:Ie,strokeWidth:Z,dataLabelsX:q,dataLabelsY:ne,dataLabelsConfig:he,barDataLabelsConfig:ve,barTotalDataLabelsConfig:de,offX:be,offY:De};return te=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(je):this.calculateColumnsDataLabelsPosition(je),J=this.drawCalculatedDataLabels({x:te.dataLabelsX,y:te.dataLabelsY,val:this.barCtx.isRangeBar?[o,s]:Q.config.chart.stackType==="100%"?b[g][d]:Q.globals.series[g][d],i:g,j:d,barWidth:P,barHeight:S,textRects:Ie,dataLabelsConfig:he}),Q.config.chart.stacked&&de.enabled&&(re=this.drawTotalDataLabels({x:te.totalDataLabelsX,y:te.totalDataLabelsY,barWidth:P,barHeight:S,realIndex:g,textAnchor:te.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:d}),dataLabelsConfig:he,barTotalDataLabelsConfig:de})),{dataLabelsPos:te,dataLabels:J,totalDataLabels:re}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,i=e.j,n=this.w,r=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(r=this.totalFormatter(r,ji(ji({},n),{},{seriesIndex:t,dataPointIndex:i,w:n}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,i=this.w,n=e.i,r=e.j,o=e.realIndex;e.columnGroupIndex;var s,u,d=e.y,g=e.bcx,x=e.barWidth,b=e.barHeight,S=e.textRects,P=e.dataLabelsX,I=e.dataLabelsY,O=e.dataLabelsConfig,H=e.barDataLabelsConfig,Q=e.barTotalDataLabelsConfig,Y=e.strokeWidth,Z=e.offX,J=e.offY,re=g;b=Math.abs(b);var q=i.config.plotOptions.bar.dataLabels.orientation==="vertical",ne=this.barCtx.barHelpers.getZeroValueEncounters({i:n,j:r}).zeroEncounters;g-=Y/2;var te=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?P+=x/2:(P=i.globals.isXNumeric?g-x/2+Z:g-te+x/2+Z,!i.config.chart.stacked&&ne>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(P-=x*ne)),q&&(P=P+S.height/2-Y/2-2);var he=i.globals.series[n][r]<0,ve=d;switch(this.barCtx.isReversed&&(ve=d+(he?b:-b)),H.position){case"center":I=q?he?ve-b/2+J:ve+b/2-J:he?ve-b/2+S.height/2+J:ve+b/2+S.height/2-J;break;case"bottom":I=q?he?ve-b+J:ve+b-J:he?ve-b+S.height+Y+J:ve+b-S.height/2+Y-J;break;case"top":I=q?he?ve+J:ve-J:he?ve-S.height/2-J:ve+S.height+J}var de=ve;if(i.globals.seriesGroups.forEach((function(Ie){var nt;(nt=t.barCtx[Ie.join(",")])===null||nt===void 0||nt.prevY.forEach((function(je){de=he?Math.max(je[r],de):Math.min(je[r],de)}))})),this.barCtx.lastActiveBarSerieIndex===o&&Q.enabled){var be=new vi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:r}),O.fontSize);s=he?de-be.height/2-J-Q.offsetY+18:de+be.height+J+Q.offsetY-18;var De=te;u=re+(i.globals.isXNumeric?-x*i.globals.barGroups.length/2:i.globals.barGroups.length*x/2-(i.globals.barGroups.length-1)*x-De)+Q.offsetX}return i.config.chart.stacked||(I<0?I=0+Y:I+S.height/3>i.globals.gridHeight&&(I=i.globals.gridHeight-Y)),{bcx:g,bcy:d,dataLabelsX:P,dataLabelsY:I,totalDataLabelsX:u,totalDataLabelsY:s,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,i=this.w,n=e.x,r=e.i,o=e.j,s=e.realIndex,u=e.bcy,d=e.barHeight,g=e.barWidth,x=e.textRects,b=e.dataLabelsX,S=e.strokeWidth,P=e.dataLabelsConfig,I=e.barDataLabelsConfig,O=e.barTotalDataLabelsConfig,H=e.offX,Q=e.offY,Y=i.globals.gridHeight/i.globals.dataPoints,Z=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:o}).zeroEncounters;g=Math.abs(g);var J,re,q=u-(this.barCtx.isRangeBar?0:Y)+d/2+x.height/2+Q-3;!i.config.chart.stacked&&Z>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(q-=d*Z);var ne="start",te=i.globals.series[r][o]<0,he=n;switch(this.barCtx.isReversed&&(he=n+(te?-g:g),ne=te?"start":"end"),I.position){case"center":b=te?he+g/2-H:Math.max(x.width/2,he-g/2)+H;break;case"bottom":b=te?he+g-S-H:he-g+S+H;break;case"top":b=te?he-S-H:he-S+H}var ve=he;if(i.globals.seriesGroups.forEach((function(be){var De;(De=t.barCtx[be.join(",")])===null||De===void 0||De.prevX.forEach((function(Ie){ve=te?Math.min(Ie[o],ve):Math.max(Ie[o],ve)}))})),this.barCtx.lastActiveBarSerieIndex===s&&O.enabled){var de=new vi(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:s,j:o}),P.fontSize);te?(J=ve-S-H-O.offsetX,ne="end"):J=ve+H+O.offsetX+(this.barCtx.isReversed?-(g+S):S),re=q-x.height/2+de.height/2+O.offsetY+S,i.globals.barGroups.length>1&&(re-=i.globals.barGroups.length/2*(d/2))}return i.config.chart.stacked||(P.textAnchor==="start"?b-x.width<0?b=te?x.width+S:S:b+x.width>i.globals.gridWidth&&(b=te?i.globals.gridWidth-S:i.globals.gridWidth-x.width-S):P.textAnchor==="middle"?b-x.width/2<0?b=x.width/2+S:b+x.width/2>i.globals.gridWidth&&(b=i.globals.gridWidth-x.width/2-S):P.textAnchor==="end"&&(b<1?b=x.width+S:b+1>i.globals.gridWidth&&(b=i.globals.gridWidth-x.width-S))),{bcx:n,bcy:u,dataLabelsX:b,dataLabelsY:q,totalDataLabelsX:J,totalDataLabelsY:re,totalDataLabelsAnchor:ne}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,n=e.val,r=e.i,o=e.j,s=e.textRects,u=e.barHeight,d=e.barWidth,g=e.dataLabelsConfig,x=this.w,b="rotate(0)";x.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(b="rotate(-90, ".concat(t,", ").concat(i,")"));var S=new _g(this.barCtx.ctx),P=new vi(this.barCtx.ctx),I=g.formatter,O=null,H=x.globals.collapsedSeriesIndices.indexOf(r)>-1;if(g.enabled&&!H){O=P.group({class:"apexcharts-data-labels",transform:b});var Q="";n!==void 0&&(Q=I(n,ji(ji({},x),{},{seriesIndex:r,dataPointIndex:o,w:x}))),!n&&x.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Q="");var Y=x.globals.series[r][o]<0,Z=x.config.plotOptions.bar.dataLabels.position;x.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(Z==="top"&&(g.textAnchor=Y?"end":"start"),Z==="center"&&(g.textAnchor="middle"),Z==="bottom"&&(g.textAnchor=Y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<P.getTextRects(Q,parseFloat(g.style.fontSize)).width&&(Q=""),x.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?s.width/1.6>Math.abs(d)&&(Q=""):s.height/1.6>Math.abs(u)&&(Q=""));var J=ji({},g);this.barCtx.isHorizontal&&n<0&&(g.textAnchor==="start"?J.textAnchor="end":g.textAnchor==="end"&&(J.textAnchor="start")),S.plotDataLabelsText({x:t,y:i,text:Q,i:r,j:o,parent:O,dataLabelsConfig:J,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return O}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,i=e.y,n=e.val,r=e.realIndex,o=e.textAnchor,s=e.barTotalDataLabelsConfig;this.w;var u,d=new vi(this.barCtx.ctx);return s.enabled&&t!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===r&&(u=d.drawText({x:t,y:i,foreColor:s.style.color,text:n,textAnchor:o,fontFamily:s.style.fontFamily,fontSize:s.style.fontSize,fontWeight:s.style.fontWeight})),u}}]),a})(),JX=(function(){function a(e){wn(this,a),this.w=e.w,this.barCtx=e}return bn(a,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var n=0;n<e[i].length;n++)t.globals.seriesX[i][n]>t.globals.minX&&t.globals.seriesX[i][n]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),Et.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(r){return r.map((function(o){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,i,n,r,o,s,u,d,g=this.w,x=g.globals.dataPoints;this.barCtx.isRangeBar&&(x=g.globals.labels.length);var b=this.barCtx.seriesLen;if(g.config.plotOptions.bar.rangeBarGroupRows&&(b=1),this.barCtx.isHorizontal)o=(n=g.globals.gridHeight/x)/b,g.globals.isXNumeric&&(o=(n=g.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),d=this.barCtx.baseLineInvertedY+g.globals.padHorizontal+(this.barCtx.isReversed?g.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(d=g.globals.gridWidth/2),i=(n-o*this.barCtx.seriesLen)/2;else{if(r=g.globals.gridWidth/this.barCtx.visibleItems,g.config.xaxis.convertedCatToNumeric&&(r=g.globals.gridWidth/g.globals.dataPoints),s=r/b*parseInt(this.barCtx.barOptions.columnWidth,10)/100,g.globals.isXNumeric){var S=this.barCtx.xRatio;g.globals.minXDiff&&g.globals.minXDiff!==.5&&g.globals.minXDiff/S>0&&(r=g.globals.minXDiff/S),(s=r/b*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(s=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(s=parseInt(this.barCtx.barOptions.columnWidth,10)),u=g.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?g.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),g.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:s}).x:t=g.globals.padHorizontal+Et.noExponents(r-s*this.barCtx.seriesLen)/2}return g.globals.barHeight=o,g.globals.barWidth=s,{x:t,y:i,yDivision:n,xDivision:r,barHeight:o,barWidth:s,zeroH:u,zeroW:d}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,i,n){var r,o,s,u,d=this.w,g=this.barCtx.ctx.fill,x=null,b=this.barCtx.barOptions.distributed?i:t,S=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(P){e[t][i]>=P.from&&e[t][i]<=P.to&&(x=P.color,S=!0)})),{color:g.fillPath({seriesNumber:this.barCtx.barOptions.distributed?b:n,dataPointIndex:i,color:x,value:e[t][i],fillConfig:(r=d.config.series[t].data[i])===null||r===void 0?void 0:r.fill,fillType:(o=d.config.series[t].data[i])!==null&&o!==void 0&&(s=o.fill)!==null&&s!==void 0&&s.type?(u=d.config.series[t].data[i])===null||u===void 0?void 0:u.fill.type:Array.isArray(d.config.fill.type)?d.config.fill.type[n]:d.config.fill.type}),useRangeColor:S}}},{key:"getStrokeWidth",value:function(e,t,i){var n=0,r=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||r.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(n=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),n}},{key:"createBorderRadiusArr",value:function(e){var t,i=this.w,n=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,r=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),s=Array.from({length:r},(function(){return Array(o).fill(n?"top":"none")}));if(n)return s;for(var u=0;u<o;u++){for(var d=[],g=[],x=0,b=0;b<r;b++){var S=e[b][u];S>0?(d.push(b),x++):S<0&&(g.push(b),x++)}if(d.length>0&&g.length===0)if(d.length===1)s[d[0]][u]="both";else{var P,I=d[0],O=d[d.length-1],H=Gm(d);try{for(H.s();!(P=H.n()).done;){var Q=P.value;s[Q][u]=Q===I?"bottom":Q===O?"top":"none"}}catch(nt){H.e(nt)}finally{H.f()}}else if(g.length>0&&d.length===0)if(g.length===1)s[g[0]][u]="both";else{var Y,Z=Math.max.apply(Math,g),J=Math.min.apply(Math,g),re=Gm(g);try{for(re.s();!(Y=re.n()).done;){var q=Y.value;s[q][u]=q===Z?"bottom":q===J?"top":"none"}}catch(nt){re.e(nt)}finally{re.f()}}else if(d.length>0&&g.length>0){var ne,te=d[d.length-1],he=Gm(d);try{for(he.s();!(ne=he.n()).done;){var ve=ne.value;s[ve][u]=ve===te?"top":"none"}}catch(nt){he.e(nt)}finally{he.f()}var de,be=Math.max.apply(Math,g),De=Gm(g);try{for(De.s();!(de=De.n()).done;){var Ie=de.value;s[Ie][u]=Ie===be?"bottom":"none"}}catch(nt){De.e(nt)}finally{De.f()}}else x===1&&(s[d[0]||g[0]][u]="both")}return s}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,n=e.x1,r=e.x2,o=e.y1,s=e.y2,u=e.elSeries,d=this.w,g=new vi(this.barCtx.ctx),x=new au(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&x===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var b=this.barCtx.barOptions.colors.backgroundBarColors[t],S=g.drawRect(n!==void 0?n:0,o!==void 0?o:0,r!==void 0?r:d.globals.gridWidth,s!==void 0?s:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,b,this.barCtx.barOptions.colors.backgroundBarOpacity);u.add(S),S.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,i=e.barWidth,n=e.barXPosition,r=e.y1,o=e.y2,s=e.strokeWidth,u=e.isReversed,d=e.series,g=e.seriesGroup,x=e.realIndex,b=e.i,S=e.j,P=e.w,I=new vi(this.barCtx.ctx);(s=Array.isArray(s)?s[x]:s)||(s=0);var O=i,H=n;(t=P.config.series[x].data[S])!==null&&t!==void 0&&t.columnWidthOffset&&(H=n-P.config.series[x].data[S].columnWidthOffset/2,O=i+P.config.series[x].data[S].columnWidthOffset);var Q=s/2,Y=H+Q,Z=H+O-Q,J=(d[b][S]>=0?1:-1)*(u?-1:1);r+=.001-Q*J,o+=.001+Q*J;var re=I.move(Y,r),q=I.move(Y,r),ne=I.line(Z,r);if(P.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(x,S,!1)),re=re+I.line(Y,o)+I.line(Z,o)+ne+(P.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),q=q+I.line(Y,r)+ne+ne+ne+ne+ne+I.line(Y,r)+(P.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),this.arrBorderRadius[x][S]!=="none"&&(re=I.roundPathCorners(re,P.config.plotOptions.bar.borderRadius)),P.config.chart.stacked){var te=this.barCtx;(te=this.barCtx[g]).yArrj.push(o-Q*J),te.yArrjF.push(Math.abs(r-o+s*J)),te.yArrjVal.push(this.barCtx.series[b][S])}return{pathTo:re,pathFrom:q}}},{key:"getBarpaths",value:function(e){var t,i=e.barYPosition,n=e.barHeight,r=e.x1,o=e.x2,s=e.strokeWidth,u=e.isReversed,d=e.series,g=e.seriesGroup,x=e.realIndex,b=e.i,S=e.j,P=e.w,I=new vi(this.barCtx.ctx);(s=Array.isArray(s)?s[x]:s)||(s=0);var O=i,H=n;(t=P.config.series[x].data[S])!==null&&t!==void 0&&t.barHeightOffset&&(O=i-P.config.series[x].data[S].barHeightOffset/2,H=n+P.config.series[x].data[S].barHeightOffset);var Q=s/2,Y=O+Q,Z=O+H-Q,J=(d[b][S]>=0?1:-1)*(u?-1:1);r+=.001+Q*J,o+=.001-Q*J;var re=I.move(r,Y),q=I.move(r,Y);P.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(x,S,!1));var ne=I.line(r,Z);if(re=re+I.line(o,Y)+I.line(o,Z)+ne+(P.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),q=q+I.line(r,Y)+ne+ne+ne+ne+ne+I.line(r,Y)+(P.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[x][S]==="both"?" Z":" z"),this.arrBorderRadius[x][S]!=="none"&&(re=I.roundPathCorners(re,P.config.plotOptions.bar.borderRadius)),P.config.chart.stacked){var te=this.barCtx;(te=this.barCtx[g]).xArrj.push(o+Q*J),te.xArrjF.push(Math.abs(r-o-s*J)),te.xArrjVal.push(this.barCtx.series[b][S])}return{pathTo:re,pathFrom:q}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,n=0;n<t.length;n++){for(var r=0,o=0;o<t[i.globals.maxValsInArrayIndex].length;o++)r+=t[n][o];r===0&&this.barCtx.zeroSerieses.push(n)}}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t,i){var n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(n=t-e/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[i]:0)),n}},{key:"getGoalValues",value:function(e,t,i,n,r,o){var s=this,u=this.w,d=[],g=function(S,P){var I;d.push((Y_(I={},e,e==="x"?s.getXForValue(S,t,!1):s.getYForValue(S,i,o,!1)),Y_(I,"attrs",P),I))};if(u.globals.seriesGoals[n]&&u.globals.seriesGoals[n][r]&&Array.isArray(u.globals.seriesGoals[n][r])&&u.globals.seriesGoals[n][r].forEach((function(S){g(S.value,S)})),this.barCtx.barOptions.isDumbbell&&u.globals.seriesRange.length){var x=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:u.globals.colors,b={strokeHeight:e==="x"?0:u.globals.markers.size[n],strokeWidth:e==="x"?u.globals.markers.size[n]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(x[n])?x[n][0]:x[n]};g(u.globals.seriesRangeStart[n][r],b),g(u.globals.seriesRangeEnd[n][r],ji(ji({},b),{},{strokeColor:Array.isArray(x[n])?x[n][1]:x[n]}))}return d}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,n=e.goalX,r=e.goalY,o=e.barWidth,s=e.barHeight,u=new vi(this.barCtx.ctx),d=u.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var g=null;return this.barCtx.isHorizontal?Array.isArray(n)&&n.forEach((function(x){if(x.x>=-1&&x.x<=u.w.globals.gridWidth+1){var b=x.attrs.strokeHeight!==void 0?x.attrs.strokeHeight:s/2,S=i+b+s/2;g=u.drawLine(x.x,S-2*b,x.x,S,x.attrs.strokeColor?x.attrs.strokeColor:void 0,x.attrs.strokeDashArray,x.attrs.strokeWidth?x.attrs.strokeWidth:2,x.attrs.strokeLineCap),d.add(g)}})):Array.isArray(r)&&r.forEach((function(x){if(x.y>=-1&&x.y<=u.w.globals.gridHeight+1){var b=x.attrs.strokeWidth!==void 0?x.attrs.strokeWidth:o/2,S=t+b+o/2;g=u.drawLine(S-2*b,x.y,S,x.y,x.attrs.strokeColor?x.attrs.strokeColor:void 0,x.attrs.strokeDashArray,x.attrs.strokeHeight?x.attrs.strokeHeight:2,x.attrs.strokeLineCap),d.add(g)}})),d}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,i=e.currPaths,n=e.color,r=this.w,o=t.x,s=t.x1,u=t.barYPosition,d=i.x,g=i.x1,x=i.barYPosition,b=u+i.barHeight,S=new vi(this.barCtx.ctx),P=new Et,I=S.move(s,b)+S.line(o,b)+S.line(d,x)+S.line(g,x)+S.line(s,b)+(r.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return S.drawPath({d:I,fill:P.shadeColor(.5,Et.rgb2hex(n)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,i=e.i,n=e.j,r=this.w,o=0,s=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map((function(u,d){return d})):((t=r.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(u){return u})))||[]).forEach((function(u){var d=r.globals.seriesPercent[u][n];d&&o++,u<i&&d===0&&s++})),{nonZeroColumns:o,zeroEncounters:s}}},{key:"getGroupIndex",value:function(e){var t=this.w,i=t.globals.seriesGroups.findIndex((function(o){return o.indexOf(t.globals.seriesNames[e])>-1})),n=this.barCtx.columnGroupIndices,r=n.indexOf(i);return r<0&&(n.push(i),r=n.length-1),{groupIndex:i,columnGroupIndex:r}}}]),a})(),vg=(function(){function a(e,t){wn(this,a),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var n=new au(this.ctx);this.lastActiveBarSerieIndex=n.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var r=n.getBarSeriesIndices(),o=new Hs(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map((function(s,u){return r.indexOf(u)===-1?u:-1})).filter((function(s){return s!==-1}))),this.barHelpers=new JX(this)}return bn(a,[{key:"draw",value:function(e,t){var i=this.w,n=new vi(this.ctx),r=new Hs(this.ctx,i);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=n.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var s=0,u=0;s<e.length;s++,u++){var d,g,x,b,S=void 0,P=void 0,I=[],O=[],H=i.globals.comboCharts?t[s]:s,Q=this.barHelpers.getGroupIndex(H).columnGroupIndex,Y=n.group({class:"apexcharts-series",rel:s+1,seriesName:Et.escapeString(i.globals.seriesNames[H]),"data:realIndex":H});this.ctx.series.addCollapsedClassToSeries(Y,H),e[s].length>0&&(this.visibleI=this.visibleI+1);var Z=0,J=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[H],this.translationsIndex=H);var re=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var q=this.barHelpers.initialPositions(H);P=q.y,Z=q.barHeight,g=q.yDivision,b=q.zeroW,S=q.x,J=q.barWidth,d=q.xDivision,x=q.zeroH,this.isHorizontal||O.push(S+J/2);var ne=n.group({class:"apexcharts-datalabels","data:realIndex":H});i.globals.delayedElements.push({el:ne.node}),ne.node.classList.add("apexcharts-element-hidden");var te=n.group({class:"apexcharts-bar-goals-markers"}),he=n.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:he.node}),he.node.classList.add("apexcharts-element-hidden");for(var ve=0;ve<e[s].length;ve++){var de=this.barHelpers.getStrokeWidth(s,ve,H),be=null,De={indexes:{i:s,j:ve,realIndex:H,translationsIndex:re,bc:u},x:S,y:P,strokeWidth:de,elSeries:Y};this.isHorizontal?(be=this.drawBarPaths(ji(ji({},De),{},{barHeight:Z,zeroW:b,yDivision:g})),J=this.series[s][ve]/this.invertedYRatio):(be=this.drawColumnPaths(ji(ji({},De),{},{xDivision:d,barWidth:J,zeroH:x})),Z=this.series[s][ve]/this.yRatio[re]);var Ie=this.barHelpers.getPathFillColor(e,s,ve,H);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ve>0){var nt,je=this.barHelpers.drawBarShadow({color:typeof Ie.color=="string"&&((nt=Ie.color)===null||nt===void 0?void 0:nt.indexOf("url"))===-1?Ie.color:Et.hexToRgba(i.globals.colors[s]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:be});he.add(je),i.config.chart.dropShadow.enabled&&new Go(this.ctx).dropShadow(je,i.config.chart.dropShadow,H)}this.pathArr.push(be);var dt=this.barHelpers.drawGoalLine({barXPosition:be.barXPosition,barYPosition:be.barYPosition,goalX:be.goalX,goalY:be.goalY,barHeight:Z,barWidth:J});dt&&te.add(dt),P=be.y,S=be.x,ve>0&&O.push(S+J/2),I.push(P),this.renderSeries(ji(ji({realIndex:H,pathFill:Ie.color},Ie.useRangeColor?{lineFill:Ie.color}:{}),{},{j:ve,i:s,columnGroupIndex:Q,pathFrom:be.pathFrom,pathTo:be.pathTo,strokeWidth:de,elSeries:Y,x:S,y:P,series:e,barHeight:Math.abs(be.barHeight?be.barHeight:Z),barWidth:Math.abs(be.barWidth?be.barWidth:J),elDataLabelsWrap:ne,elGoalsMarkers:te,elBarShadows:he,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[H]=O,i.globals.seriesYvalues[H]=I,o.add(Y)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,n=e.lineFill,r=e.j,o=e.i,s=e.columnGroupIndex,u=e.pathFrom,d=e.pathTo,g=e.strokeWidth,x=e.elSeries,b=e.x,S=e.y,P=e.y1,I=e.y2,O=e.series,H=e.barHeight,Q=e.barWidth,Y=e.barXPosition,Z=e.barYPosition,J=e.elDataLabelsWrap,re=e.elGoalsMarkers,q=e.elBarShadows,ne=e.visibleSeries,te=e.type,he=e.classes,ve=this.w,de=new vi(this.ctx),be=!1;if(!n){var De=typeof ve.globals.stroke.colors[t]=="function"?(function(Mt){var We,Pt=ve.config.stroke.colors;return Array.isArray(Pt)&&Pt.length>0&&((We=Pt[Mt])||(We=""),typeof We=="function")?We({value:ve.globals.series[Mt][r],dataPointIndex:r,w:ve}):We})(t):ve.globals.stroke.colors[t];n=this.barOptions.distributed?ve.globals.stroke.colors[r]:De}var Ie=new ZX(this).handleBarDataLabels({x:b,y:S,y1:P,y2:I,i:o,j:r,series:O,realIndex:t,columnGroupIndex:s,barHeight:H,barWidth:Q,barXPosition:Y,barYPosition:Z,visibleSeries:ne});ve.globals.isBarHorizontal||(Ie.dataLabelsPos.dataLabelsX+Math.max(Q,ve.globals.barPadForNumericAxis)<0||Ie.dataLabelsPos.dataLabelsX-Math.max(Q,ve.globals.barPadForNumericAxis)>ve.globals.gridWidth)&&(be=!0),ve.config.series[o].data[r]&&ve.config.series[o].data[r].strokeColor&&(n=ve.config.series[o].data[r].strokeColor),this.isNullValue&&(i="none");var nt=r/ve.config.chart.animations.animateGradually.delay*(ve.config.chart.animations.speed/ve.globals.dataPoints)/2.4;if(!be){var je=de.renderPaths({i:o,j:r,realIndex:t,pathFrom:u,pathTo:d,stroke:n,strokeWidth:g,strokeLineCap:ve.config.stroke.lineCap,fill:i,animationDelay:nt,initialSpeed:ve.config.chart.animations.speed,dataChangeSpeed:ve.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(te,"-area ").concat(he),chartType:te});je.attr("clip-path","url(#gridRectBarMask".concat(ve.globals.cuid,")"));var dt=ve.config.forecastDataPoints;dt.count>0&&r>=ve.globals.dataPoints-dt.count&&(je.node.setAttribute("stroke-dasharray",dt.dashArray),je.node.setAttribute("stroke-width",dt.strokeWidth),je.node.setAttribute("fill-opacity",dt.fillOpacity)),P!==void 0&&I!==void 0&&(je.attr("data-range-y1",P),je.attr("data-range-y2",I)),new Go(this.ctx).setSelectionFilter(je,t,r),x.add(je),je.attr({cy:Ie.dataLabelsPos.bcy,cx:Ie.dataLabelsPos.bcx,j:r,val:ve.globals.series[o][r],barHeight:H,barWidth:Q}),Ie.dataLabels!==null&&J.add(Ie.dataLabels),Ie.totalDataLabels&&J.add(Ie.totalDataLabels),x.add(J),re&&x.add(re),q&&x.add(q)}return x}},{key:"drawBarPaths",value:function(e){var t,i=e.indexes,n=e.barHeight,r=e.strokeWidth,o=e.zeroW,s=e.x,u=e.y,d=e.yDivision,g=e.elSeries,x=this.w,b=i.i,S=i.j;if(x.globals.isXNumeric)t=(u=(x.globals.seriesX[b][S]-x.globals.minX)/this.invertedXRatio-n)+n*this.visibleI;else if(x.config.plotOptions.bar.hideZeroBarsWhenGrouped){var P=this.barHelpers.getZeroValueEncounters({i:b,j:S}),I=P.nonZeroColumns,O=P.zeroEncounters;I>0&&(n=this.seriesLen*n/I),t=u+n*this.visibleI,t-=n*O}else t=u+n*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[b][S],o)-o)/2),s=this.barHelpers.getXForValue(this.series[b][S],o);var H=this.barHelpers.getBarpaths({barYPosition:t,barHeight:n,x1:o,x2:s,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:b,j:S,w:x});return x.globals.isXNumeric||(u+=d),this.barHelpers.barBackground({j:S,i:b,y1:t-n*this.visibleI,y2:n*this.seriesLen,elSeries:g}),{pathTo:H.pathTo,pathFrom:H.pathFrom,x1:o,x:s,y:u,goalX:this.barHelpers.getGoalValues("x",o,null,b,S),barYPosition:t,barHeight:n}}},{key:"drawColumnPaths",value:function(e){var t,i=e.indexes,n=e.x,r=e.y,o=e.xDivision,s=e.barWidth,u=e.zeroH,d=e.strokeWidth,g=e.elSeries,x=this.w,b=i.realIndex,S=i.translationsIndex,P=i.i,I=i.j,O=i.bc;if(x.globals.isXNumeric){var H=this.getBarXForNumericXAxis({x:n,j:I,realIndex:b,barWidth:s});n=H.x,t=H.barXPosition}else if(x.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Q=this.barHelpers.getZeroValueEncounters({i:P,j:I}),Y=Q.nonZeroColumns,Z=Q.zeroEncounters;Y>0&&(s=this.seriesLen*s/Y),t=n+s*this.visibleI,t-=s*Z}else t=n+s*this.visibleI;r=this.barHelpers.getYForValue(this.series[P][I],u,S);var J=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:s,y1:u,y2:r,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:b,i:P,j:I,w:x});return x.globals.isXNumeric||(n+=o),this.barHelpers.barBackground({bc:O,j:I,i:P,x1:t-d/2-s*this.visibleI,x2:s*this.seriesLen+d/2,elSeries:g}),{pathTo:J.pathTo,pathFrom:J.pathFrom,x:n,y:r,goalY:this.barHelpers.getGoalValues("y",null,u,P,I,S),barXPosition:t,barWidth:s}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,i=e.barWidth,n=e.realIndex,r=e.j,o=this.w,s=n;return o.globals.seriesX[n].length||(s=o.globals.maxValsInArrayIndex),Et.isNumber(o.globals.seriesX[s][r])&&(t=(o.globals.seriesX[s][r]-o.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:t+i*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var i=this.w,n="M 0 0",r=0;r<i.globals.previousPaths.length;r++){var o=i.globals.previousPaths[r];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[r].paths[t]!==void 0&&(n=i.globals.previousPaths[r].paths[t].d)}return n}}]),a})(),wL=(function(a){ty(t,vg);var e=ey(t);function t(){return wn(this,t),e.apply(this,arguments)}return bn(t,[{key:"draw",value:function(i,n){var r=this,o=this.w;this.graphics=new vi(this.ctx),this.bar=new vg(this.ctx,this.xyRatios);var s=new Hs(this.ctx,o);i=s.getLogSeries(i),this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),o.config.chart.stackType==="100%"&&(i=o.globals.comboCharts?n.map((function(P){return o.globals.seriesPercent[P]})):o.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var u=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,g=0,x=function(P,I){var O=void 0,H=void 0,Q=void 0,Y=void 0,Z=o.globals.comboCharts?n[P]:P,J=r.barHelpers.getGroupIndex(Z),re=J.groupIndex,q=J.columnGroupIndex;r.groupCtx=r[o.globals.seriesGroups[re]];var ne=[],te=[],he=0;r.yRatio.length>1&&(r.yaxisIndex=o.globals.seriesYAxisReverseMap[Z][0],he=Z),r.isReversed=o.config.yaxis[r.yaxisIndex]&&o.config.yaxis[r.yaxisIndex].reversed;var ve=r.graphics.group({class:"apexcharts-series",seriesName:Et.escapeString(o.globals.seriesNames[Z]),rel:P+1,"data:realIndex":Z});r.ctx.series.addCollapsedClassToSeries(ve,Z);var de=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":Z}),be=r.graphics.group({class:"apexcharts-bar-goals-markers"}),De=0,Ie=0,nt=r.initialPositions(d,g,O,H,Q,Y,he);g=nt.y,De=nt.barHeight,H=nt.yDivision,Y=nt.zeroW,d=nt.x,Ie=nt.barWidth,O=nt.xDivision,Q=nt.zeroH,o.globals.barHeight=De,o.globals.barWidth=Ie,r.barHelpers.initializeStackedXYVars(r),r.groupCtx.prevY.length===1&&r.groupCtx.prevY[0].every((function(bt){return isNaN(bt)}))&&(r.groupCtx.prevY[0]=r.groupCtx.prevY[0].map((function(){return Q})),r.groupCtx.prevYF[0]=r.groupCtx.prevYF[0].map((function(){return 0})));for(var je=0;je<o.globals.dataPoints;je++){var dt=r.barHelpers.getStrokeWidth(P,je,Z),Mt={indexes:{i:P,j:je,realIndex:Z,translationsIndex:he,bc:I},strokeWidth:dt,x:d,y:g,elSeries:ve,columnGroupIndex:q,seriesGroup:o.globals.seriesGroups[re]},We=null;r.isHorizontal?(We=r.drawStackedBarPaths(ji(ji({},Mt),{},{zeroW:Y,barHeight:De,yDivision:H})),Ie=r.series[P][je]/r.invertedYRatio):(We=r.drawStackedColumnPaths(ji(ji({},Mt),{},{xDivision:O,barWidth:Ie,zeroH:Q})),De=r.series[P][je]/r.yRatio[he]);var Pt=r.barHelpers.drawGoalLine({barXPosition:We.barXPosition,barYPosition:We.barYPosition,goalX:We.goalX,goalY:We.goalY,barHeight:De,barWidth:Ie});Pt&&be.add(Pt),g=We.y,d=We.x,ne.push(d),te.push(g);var Kt=r.barHelpers.getPathFillColor(i,P,je,Z),di="",It=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(r.barHelpers.arrBorderRadius[Z][je]==="bottom"&&o.globals.series[Z][je]>0||r.barHelpers.arrBorderRadius[Z][je]==="top"&&o.globals.series[Z][je]<0)&&(di=It),ve=r.renderSeries(ji(ji({realIndex:Z,pathFill:Kt.color},Kt.useRangeColor?{lineFill:Kt.color}:{}),{},{j:je,i:P,columnGroupIndex:q,pathFrom:We.pathFrom,pathTo:We.pathTo,strokeWidth:dt,elSeries:ve,x:d,y:g,series:i,barHeight:De,barWidth:Ie,elDataLabelsWrap:de,elGoalsMarkers:be,type:"bar",visibleSeries:q,classes:di}))}o.globals.seriesXvalues[Z]=ne,o.globals.seriesYvalues[Z]=te,r.groupCtx.prevY.push(r.groupCtx.yArrj),r.groupCtx.prevYF.push(r.groupCtx.yArrjF),r.groupCtx.prevYVal.push(r.groupCtx.yArrjVal),r.groupCtx.prevX.push(r.groupCtx.xArrj),r.groupCtx.prevXF.push(r.groupCtx.xArrjF),r.groupCtx.prevXVal.push(r.groupCtx.xArrjVal),u.add(ve)},b=0,S=0;b<i.length;b++,S++)x(b,S);return u}},{key:"initialPositions",value:function(i,n,r,o,s,u,d){var g,x,b=this.w;if(this.isHorizontal){o=b.globals.gridHeight/b.globals.dataPoints;var S=b.config.plotOptions.bar.barHeight;g=String(S).indexOf("%")===-1?parseInt(S,10):o*parseInt(S,10)/100,u=b.globals.padHorizontal+(this.isReversed?b.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),n=(o-g)/2}else{x=r=b.globals.gridWidth/b.globals.dataPoints;var P=b.config.plotOptions.bar.columnWidth;b.globals.isXNumeric&&b.globals.dataPoints>1?x=(r=b.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(P).indexOf("%")===-1?x=parseInt(P,10):x*=parseInt(P,10)/100,s=this.isReversed?this.baseLineY[d]:b.globals.gridHeight-this.baseLineY[d],i=b.globals.padHorizontal+(r-x)/2}var I=b.globals.barGroups.length||1;return{x:i,y:n,yDivision:o,xDivision:r,barHeight:g/I,barWidth:x/I,zeroH:s,zeroW:u}}},{key:"drawStackedBarPaths",value:function(i){for(var n,r=i.indexes,o=i.barHeight,s=i.strokeWidth,u=i.zeroW,d=i.x,g=i.y,x=i.columnGroupIndex,b=i.seriesGroup,S=i.yDivision,P=i.elSeries,I=this.w,O=g+x*o,H=r.i,Q=r.j,Y=r.realIndex,Z=r.translationsIndex,J=0,re=0;re<this.groupCtx.prevXF.length;re++)J+=this.groupCtx.prevXF[re][Q];var q=H;if(I.config.series[Y].name&&(q=b.indexOf(I.config.series[Y].name)),q>0){var ne=u;this.groupCtx.prevXVal[q-1][Q]<0?ne=this.series[H][Q]>=0?this.groupCtx.prevX[q-1][Q]+J-2*(this.isReversed?J:0):this.groupCtx.prevX[q-1][Q]:this.groupCtx.prevXVal[q-1][Q]>=0&&(ne=this.series[H][Q]>=0?this.groupCtx.prevX[q-1][Q]:this.groupCtx.prevX[q-1][Q]-J+2*(this.isReversed?J:0)),n=ne}else n=u;d=this.series[H][Q]===null?n:n+this.series[H][Q]/this.invertedYRatio-2*(this.isReversed?this.series[H][Q]/this.invertedYRatio:0);var te=this.barHelpers.getBarpaths({barYPosition:O,barHeight:o,x1:n,x2:d,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,seriesGroup:b,i:H,j:Q,w:I});return this.barHelpers.barBackground({j:Q,i:H,y1:O,y2:o,elSeries:P}),g+=S,{pathTo:te.pathTo,pathFrom:te.pathFrom,goalX:this.barHelpers.getGoalValues("x",u,null,H,Q,Z),barXPosition:n,barYPosition:O,x:d,y:g}}},{key:"drawStackedColumnPaths",value:function(i){var n=i.indexes,r=i.x,o=i.y,s=i.xDivision,u=i.barWidth,d=i.zeroH,g=i.columnGroupIndex,x=i.seriesGroup,b=i.elSeries,S=this.w,P=n.i,I=n.j,O=n.bc,H=n.realIndex,Q=n.translationsIndex;if(S.globals.isXNumeric){var Y=S.globals.seriesX[H][I];Y||(Y=0),r=(Y-S.globals.minX)/this.xRatio-u/2*S.globals.barGroups.length}for(var Z,J=r+g*u,re=0,q=0;q<this.groupCtx.prevYF.length;q++)re+=isNaN(this.groupCtx.prevYF[q][I])?0:this.groupCtx.prevYF[q][I];var ne=P;if(x&&(ne=x.indexOf(S.globals.seriesNames[H])),ne>0&&!S.globals.isXNumeric||ne>0&&S.globals.isXNumeric&&S.globals.seriesX[H-1][I]===S.globals.seriesX[H][I]){var te,he,ve,de=Math.min(this.yRatio.length+1,H+1);if(this.groupCtx.prevY[ne-1]!==void 0&&this.groupCtx.prevY[ne-1].length)for(var be=1;be<de;be++){var De;if(!isNaN((De=this.groupCtx.prevY[ne-be])===null||De===void 0?void 0:De[I])){ve=this.groupCtx.prevY[ne-be][I];break}}for(var Ie=1;Ie<de;Ie++){var nt,je;if(((nt=this.groupCtx.prevYVal[ne-Ie])===null||nt===void 0?void 0:nt[I])<0){he=this.series[P][I]>=0?ve-re+2*(this.isReversed?re:0):ve;break}if(((je=this.groupCtx.prevYVal[ne-Ie])===null||je===void 0?void 0:je[I])>=0){he=this.series[P][I]>=0?ve:ve+re-2*(this.isReversed?re:0);break}}he===void 0&&(he=S.globals.gridHeight),Z=(te=this.groupCtx.prevYF[0])!==null&&te!==void 0&&te.every((function(Mt){return Mt===0}))&&this.groupCtx.prevYF.slice(1,ne).every((function(Mt){return Mt.every((function(We){return isNaN(We)}))}))?d:he}else Z=d;o=this.series[P][I]?Z-this.series[P][I]/this.yRatio[Q]+2*(this.isReversed?this.series[P][I]/this.yRatio[Q]:0):Z;var dt=this.barHelpers.getColumnPaths({barXPosition:J,barWidth:u,y1:Z,y2:o,yRatio:this.yRatio[Q],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:x,realIndex:n.realIndex,i:P,j:I,w:S});return this.barHelpers.barBackground({bc:O,j:I,i:P,x1:J,x2:u,elSeries:b}),{pathTo:dt.pathTo,pathFrom:dt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,P,I),barXPosition:J,x:S.globals.isXNumeric?r:r+s,y:o}}}]),t})(),b1=(function(a){ty(t,vg);var e=ey(t);function t(){return wn(this,t),e.apply(this,arguments)}return bn(t,[{key:"draw",value:function(i,n,r){var o=this,s=this.w,u=new vi(this.ctx),d=s.globals.comboCharts?n:s.config.chart.type,g=new Tu(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=s.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var x=new Hs(this.ctx,s);i=x.getLogSeries(i),this.series=i,this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var b=u.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),S=function(I){o.isBoxPlot=s.config.chart.type==="boxPlot"||s.config.series[I].type==="boxPlot";var O,H,Q,Y,Z=void 0,J=void 0,re=[],q=[],ne=s.globals.comboCharts?r[I]:I,te=o.barHelpers.getGroupIndex(ne).columnGroupIndex,he=u.group({class:"apexcharts-series",seriesName:Et.escapeString(s.globals.seriesNames[ne]),rel:I+1,"data:realIndex":ne});o.ctx.series.addCollapsedClassToSeries(he,ne),i[I].length>0&&(o.visibleI=o.visibleI+1);var ve,de,be=0;o.yRatio.length>1&&(o.yaxisIndex=s.globals.seriesYAxisReverseMap[ne][0],be=ne);var De=o.barHelpers.initialPositions(ne);J=De.y,ve=De.barHeight,H=De.yDivision,Y=De.zeroW,Z=De.x,de=De.barWidth,O=De.xDivision,Q=De.zeroH,q.push(Z+de/2);for(var Ie=u.group({class:"apexcharts-datalabels","data:realIndex":ne}),nt=u.group({class:"apexcharts-bar-goals-markers"}),je=function(Mt){var We=o.barHelpers.getStrokeWidth(I,Mt,ne),Pt=null,Kt={indexes:{i:I,j:Mt,realIndex:ne,translationsIndex:be},x:Z,y:J,strokeWidth:We,elSeries:he};Pt=o.isHorizontal?o.drawHorizontalBoxPaths(ji(ji({},Kt),{},{yDivision:H,barHeight:ve,zeroW:Y})):o.drawVerticalBoxPaths(ji(ji({},Kt),{},{xDivision:O,barWidth:de,zeroH:Q})),J=Pt.y,Z=Pt.x;var di=o.barHelpers.drawGoalLine({barXPosition:Pt.barXPosition,barYPosition:Pt.barYPosition,goalX:Pt.goalX,goalY:Pt.goalY,barHeight:ve,barWidth:de});di&&nt.add(di),Mt>0&&q.push(Z+de/2),re.push(J),Pt.pathTo.forEach((function(It,bt){var mt=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?Pt.color[bt]:s.globals.stroke.colors[I],si=g.fillPath({seriesNumber:ne,dataPointIndex:Mt,color:Pt.color[bt],value:i[I][Mt]});o.renderSeries({realIndex:ne,pathFill:si,lineFill:mt,j:Mt,i:I,pathFrom:Pt.pathFrom,pathTo:It,strokeWidth:We,elSeries:he,x:Z,y:J,series:i,columnGroupIndex:te,barHeight:ve,barWidth:de,elDataLabelsWrap:Ie,elGoalsMarkers:nt,visibleSeries:o.visibleI,type:s.config.chart.type})}))},dt=0;dt<s.globals.dataPoints;dt++)je(dt);s.globals.seriesXvalues[ne]=q,s.globals.seriesYvalues[ne]=re,b.add(he)},P=0;P<i.length;P++)S(P);return b}},{key:"drawVerticalBoxPaths",value:function(i){var n=i.indexes,r=i.x;i.y;var o=i.xDivision,s=i.barWidth,u=i.zeroH,d=i.strokeWidth,g=this.w,x=new vi(this.ctx),b=n.i,S=n.j,P=g.config.plotOptions.candlestick.colors,I=this.boxOptions.colors,O=n.realIndex,H=function(dt){return Array.isArray(dt)?dt[O]:dt},Q=H(P.upward),Y=H(P.downward),Z=this.yRatio[n.translationsIndex],J=this.getOHLCValue(O,S),re=u,q=u,ne=J.o<J.c?[Q]:[Y];this.isBoxPlot&&(ne=[H(I.lower),H(I.upper)]);var te=Math.min(J.o,J.c),he=Math.max(J.o,J.c),ve=J.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[O][S]-g.globals.minX)/this.xRatio-s/2);var de=r+s*this.visibleI;this.series[b][S]===void 0||this.series[b][S]===null?(te=u,he=u):(te=u-te/Z,he=u-he/Z,re=u-J.h/Z,q=u-J.l/Z,ve=u-J.m/Z);var be=x.move(de,u),De=x.move(de+s/2,te);if(g.globals.previousPaths.length>0&&(De=this.getPreviousPath(O,S,!0)),this.isOHLC){var Ie=de+s/2,nt=u-J.o/Z,je=u-J.c/Z;be=[x.move(Ie,re)+x.line(Ie,q)+x.move(Ie,nt)+x.line(de,nt)+x.move(Ie,je)+x.line(de+s,je)]}else be=this.isBoxPlot?[x.move(de,te)+x.line(de+s/2,te)+x.line(de+s/2,re)+x.line(de+s/4,re)+x.line(de+s-s/4,re)+x.line(de+s/2,re)+x.line(de+s/2,te)+x.line(de+s,te)+x.line(de+s,ve)+x.line(de,ve)+x.line(de,te+d/2),x.move(de,ve)+x.line(de+s,ve)+x.line(de+s,he)+x.line(de+s/2,he)+x.line(de+s/2,q)+x.line(de+s-s/4,q)+x.line(de+s/4,q)+x.line(de+s/2,q)+x.line(de+s/2,he)+x.line(de,he)+x.line(de,ve)+"z"]:[x.move(de,he)+x.line(de+s/2,he)+x.line(de+s/2,re)+x.line(de+s/2,he)+x.line(de+s,he)+x.line(de+s,te)+x.line(de+s/2,te)+x.line(de+s/2,q)+x.line(de+s/2,te)+x.line(de,te)+x.line(de,he-d/2)];return De+=x.move(de,te),g.globals.isXNumeric||(r+=o),{pathTo:be,pathFrom:De,x:r,y:he,goalY:this.barHelpers.getGoalValues("y",null,u,b,S,n.translationsIndex),barXPosition:de,color:ne}}},{key:"drawHorizontalBoxPaths",value:function(i){var n=i.indexes;i.x;var r=i.y,o=i.yDivision,s=i.barHeight,u=i.zeroW,d=i.strokeWidth,g=this.w,x=new vi(this.ctx),b=n.i,S=n.j,P=this.boxOptions.colors.lower;this.isBoxPlot&&(P=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var I=this.invertedYRatio,O=n.realIndex,H=this.getOHLCValue(O,S),Q=u,Y=u,Z=Math.min(H.o,H.c),J=Math.max(H.o,H.c),re=H.m;g.globals.isXNumeric&&(r=(g.globals.seriesX[O][S]-g.globals.minX)/this.invertedXRatio-s/2);var q=r+s*this.visibleI;this.series[b][S]===void 0||this.series[b][S]===null?(Z=u,J=u):(Z=u+Z/I,J=u+J/I,Q=u+H.h/I,Y=u+H.l/I,re=u+H.m/I);var ne=x.move(u,q),te=x.move(Z,q+s/2);return g.globals.previousPaths.length>0&&(te=this.getPreviousPath(O,S,!0)),ne=[x.move(Z,q)+x.line(Z,q+s/2)+x.line(Q,q+s/2)+x.line(Q,q+s/2-s/4)+x.line(Q,q+s/2+s/4)+x.line(Q,q+s/2)+x.line(Z,q+s/2)+x.line(Z,q+s)+x.line(re,q+s)+x.line(re,q)+x.line(Z+d/2,q),x.move(re,q)+x.line(re,q+s)+x.line(J,q+s)+x.line(J,q+s/2)+x.line(Y,q+s/2)+x.line(Y,q+s-s/4)+x.line(Y,q+s/4)+x.line(Y,q+s/2)+x.line(J,q+s/2)+x.line(J,q)+x.line(re,q)+"z"],te+=x.move(Z,q),g.globals.isXNumeric||(r+=o),{pathTo:ne,pathFrom:te,x:J,y:r,goalX:this.barHelpers.getGoalValues("x",u,null,b,S),barYPosition:q,color:P}}},{key:"getOHLCValue",value:function(i,n){var r=this.w,o=new Hs(this.ctx,r),s=o.getLogValAtSeriesIndex(r.globals.seriesCandleH[i][n],i),u=o.getLogValAtSeriesIndex(r.globals.seriesCandleO[i][n],i),d=o.getLogValAtSeriesIndex(r.globals.seriesCandleM[i][n],i),g=o.getLogValAtSeriesIndex(r.globals.seriesCandleC[i][n],i),x=o.getLogValAtSeriesIndex(r.globals.seriesCandleL[i][n],i);return{o:this.isBoxPlot?s:u,h:this.isBoxPlot?u:s,m:d,l:this.isBoxPlot?g:x,c:this.isBoxPlot?x:g}}}]),t})(),WO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map((function(n,r){n.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,i,n){var r=this.w,o=1,s=r.config.plotOptions[e].shadeIntensity,u=this.determineColor(e,t,i);r.globals.hasNegs||n?o=r.config.plotOptions[e].reverseNegativeShade?u.percent<0?u.percent/100*(1.25*s):(1-u.percent/100)*(1.25*s):u.percent<=0?1-(1+u.percent/100)*s:(1-u.percent/100)*s:(o=1-u.percent/100,e==="treemap"&&(o=(1-u.percent/100)*(1.25*s)));var d=u.color,g=new Et;if(r.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var x=g.shadeColor(-1*o,u.color);d=Et.hexToRgba(Et.isColorHex(x)?x:Et.rgb2hex(x),r.config.fill.opacity)}else{var b=g.shadeColor(o,u.color);d=Et.hexToRgba(Et.isColorHex(b)?b:Et.rgb2hex(b),r.config.fill.opacity)}return{color:d,colorProps:u}}},{key:"determineColor",value:function(e,t,i){var n=this.w,r=n.globals.series[t][i],o=n.config.plotOptions[e],s=o.colorScale.inverse?i:t;o.distributed&&n.config.chart.type==="treemap"&&(s=i);var u=n.globals.colors[s],d=null,g=Math.min.apply(Math,yo(n.globals.series[t])),x=Math.max.apply(Math,yo(n.globals.series[t]));o.distributed||e!=="heatmap"||(g=n.globals.minY,x=n.globals.maxY),o.colorScale.min!==void 0&&(g=o.colorScale.min<n.globals.minY?o.colorScale.min:n.globals.minY,x=o.colorScale.max>n.globals.maxY?o.colorScale.max:n.globals.maxY);var b=Math.abs(x)+Math.abs(g),S=100*r/(b===0?b-1e-6:b);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map((function(P,I){if(r>=P.from&&r<=P.to){u=P.color,d=P.foreColor?P.foreColor:null,g=P.from,x=P.to;var O=Math.abs(x)+Math.abs(g);S=100*r/(O===0?O-1e-6:O)}})),{color:u,foreColor:d,percent:S}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,n=e.y,r=e.i,o=e.j,s=e.colorProps,u=e.fontSize,d=this.w.config.dataLabels,g=new vi(this.ctx),x=new _g(this.ctx),b=null;if(d.enabled){b=g.group({class:"apexcharts-data-labels"});var S=d.offsetX,P=d.offsetY,I=i+S,O=n+parseFloat(d.style.fontSize)/3+P;x.plotDataLabelsText({x:I,y:O,text:t,i:r,j:o,color:s.foreColor,parent:b,fontSize:u,dataLabelsConfig:d})}return b}},{key:"addListeners",value:function(e){var t=new vi(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),a})(),eY=(function(){function a(e,t){wn(this,a),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new WO(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return bn(a,[{key:"draw",value:function(e){var t=this.w,i=new vi(this.ctx),n=i.group({class:"apexcharts-heatmap"});n.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,s=0,u=!1;this.negRange=this.helpers.checkColorRange();var d=e.slice();t.config.yaxis[0].reversed&&(u=!0,d.reverse());for(var g=u?0:d.length-1;u?g<d.length:g>=0;u?g++:g--){var x=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:Et.escapeString(t.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});if(this.ctx.series.addCollapsedClassToSeries(x,g),t.config.chart.dropShadow.enabled){var b=t.config.chart.dropShadow;new Go(this.ctx).dropShadow(x,b,g)}for(var S=0,P=t.config.plotOptions.heatmap.shadeIntensity,I=0,O=0;O<t.globals.dataPoints;O++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*O<t.globals.seriesX[g][I])S+=r;else{if(I>=d[g].length)break;var H=this.helpers.getShadeColor(t.config.chart.type,g,I,this.negRange),Q=H.color,Y=H.colorProps;t.config.fill.type==="image"&&(Q=new Tu(this.ctx).fillPath({seriesNumber:g,dataPointIndex:I,opacity:t.globals.hasNegs?Y.percent<0?1-(1+Y.percent/100):P+Y.percent/100:Y.percent/100,patternID:Et.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:o}));var Z=this.rectRadius,J=i.drawRect(S,s,r,o,Z);if(J.attr({cx:S,cy:s}),J.node.classList.add("apexcharts-heatmap-rect"),x.add(J),J.attr({fill:Q,i:g,index:g,j:I,val:e[g][I],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?Q:t.globals.stroke.colors[0],color:Q}),this.helpers.addListeners(J),t.config.chart.animations.enabled&&!t.globals.dataChanged){var re=1;t.globals.resized||(re=t.config.chart.animations.speed),this.animateHeatMap(J,S,s,r,o,re)}if(t.globals.dataChanged){var q=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){q=this.dynamicAnim.speed;var ne=t.globals.previousPaths[g]&&t.globals.previousPaths[g][I]&&t.globals.previousPaths[g][I].color;ne||(ne="rgba(255, 255, 255, 0)"),this.animateHeatColor(J,Et.isColorHex(ne)?ne:Et.rgb2hex(ne),Et.isColorHex(Q)?Q:Et.rgb2hex(Q),q)}}var te=(0,t.config.dataLabels.formatter)(t.globals.series[g][I],{value:t.globals.series[g][I],seriesIndex:g,dataPointIndex:I,w:t}),he=this.helpers.calculateDataLabels({text:te,x:S+r/2,y:s+o/2,i:g,j:I,colorProps:Y,series:d});he!==null&&x.add(he),S+=r,I++}s+=o,n.add(x)}var ve=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?ve.unshift(""):ve.push(""),t.globals.yAxisScale[0].result=ve,n}},{key:"animateHeatMap",value:function(e,t,i,n,r,o){var s=new Bg(this.ctx);s.animateRect(e,{x:t+n/2,y:i+r/2,width:0,height:0},{x:t,y:i,width:n,height:r},o,(function(){s.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,i,n){e.attr({fill:t}).animate(n).attr({fill:i})}}]),a})(),$O=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"drawYAxisTexts",value:function(e,t,i,n){var r=this.w,o=r.config.yaxis[0],s=r.globals.yLabelFormatters[0];return new vi(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:s(n,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),a})(),XO=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var i=t.config.plotOptions.pie.customScale,n=t.globals.gridWidth/2,r=t.globals.gridHeight/2;this.translateX=n-n*i,this.translateY=r-r*i,this.dataLabelsGroup=new vi(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return bn(a,[{key:"draw",value:function(e){var t=this,i=this.w,n=new vi(this.ctx),r=n.group({class:"apexcharts-pie"});if(i.globals.noData)return r;for(var o=0,s=0;s<e.length;s++)o+=Et.negToZero(e[s]);var u=[],d=n.group();o===0&&(o=1e-5),e.forEach((function(Y){t.maxY=Math.max(t.maxY,Y)})),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(r);for(var g=0;g<e.length;g++){var x=this.fullAngle*Et.negToZero(e[g])/o;u.push(x),this.chartType==="polarArea"?(u[g]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[g]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var b,S=0,P=0;P<i.globals.previousPaths.length;P++)S+=Et.negToZero(i.globals.previousPaths[P]);for(var I=0;I<i.globals.previousPaths.length;I++)b=this.fullAngle*Et.negToZero(i.globals.previousPaths[I])/S,this.prevSectorAngleArr.push(b)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var O=n.drawCircle(this.donutSize);O.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),d.add(O)}var H=this.drawArcs(u,e);if(this.sliceLabels.forEach((function(Y){H.add(Y)})),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),d.add(H),r.add(d),this.donutDataLabels.show){var Q=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(Q)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var i=this.w,n=new Go(this.ctx),r=new vi(this.ctx),o=new Tu(this.ctx),s=r.group({class:"apexcharts-slices"}),u=this.initialAngle,d=this.initialAngle,g=this.initialAngle,x=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var b=0;b<e.length;b++){var S=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:Et.escapeString(i.globals.seriesNames[b]),rel:b+1,"data:realIndex":b});s.add(S),d=x,g=(u=g)+e[b],x=d+this.prevSectorAngleArr[b];var P=g<u?this.fullAngle+g-u:g-u,I=o.fillPath({seriesNumber:b,size:this.sliceSizes[b],value:t[b]}),O=this.getChangedPath(d,x),H=r.drawPath({d:O,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[b]:this.lineColorArr,strokeWidth:0,fill:I,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(b)});if(H.attr({index:0,j:b}),n.setSelectionFilter(H,0,b),i.config.chart.dropShadow.enabled){var Q=i.config.chart.dropShadow;n.dropShadow(H,Q,b)}this.addListeners(H,this.donutDataLabels),vi.setAttrs(H.node,{"data:angle":P,"data:startAngle":u,"data:strokeWidth":this.strokeWidth,"data:value":t[b]});var Y={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?Y=Et.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(u+P/2)%this.fullAngle):this.chartType==="donut"&&(Y=Et.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(u+P/2)%this.fullAngle)),S.add(H);var Z=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((Z=P/this.fullAngle*i.config.chart.animations.speed)===0&&(Z=1),this.animDur=Z+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(H,{size:this.sliceSizes[b],endAngle:g,startAngle:u,prevStartAngle:d,prevEndAngle:x,animateStartingPos:!0,i:b,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(H,{size:this.sliceSizes[b],endAngle:g,startAngle:u,i:b,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:Z}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&H.node.addEventListener("mouseup",this.pieClicked.bind(this,b)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(b)>-1&&this.pieClicked(b),i.config.dataLabels.enabled){var J=Y.x,re=Y.y,q=100*P/this.fullAngle+"%";if(P!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[b]){var ne=i.config.dataLabels.formatter;ne!==void 0&&(q=ne(i.globals.seriesPercent[b][0],{seriesIndex:b,w:i}));var te=i.globals.dataLabels.style.colors[b],he=r.group({class:"apexcharts-datalabels"}),ve=r.drawText({x:J,y:re,text:q,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:te});if(he.add(ve),i.config.dataLabels.dropShadow.enabled){var de=i.config.dataLabels.dropShadow;n.dropShadow(ve,de)}ve.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(ve.node.classList.add("apexcharts-pie-label-delay"),ve.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(he)}}}return s}},{key:"addListeners",value:function(e,t){var i=new vi(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var i=this.w,n=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=n,o=t.startAngle,s=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===i.config.series.length-1&&(n+s>this.fullAngle?t.endAngle=t.endAngle-(n+s):n+s<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(n+s)))),n===this.fullAngle&&(n=this.fullAngle-.01),this.animateArc(e,o,s,n,r,t)}},{key:"animateArc",value:function(e,t,i,n,r,o){var s,u=this,d=this.w,g=new Bg(this.ctx),x=o.size;(isNaN(t)||isNaN(r))&&(t=i,r=n,o.dur=0);var b=n,S=i,P=t<i?this.fullAngle+t-i:t-i;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(s=u.getPiePath({me:u,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:x}),e.attr({d:s})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after((function(){u.chartType!=="pie"&&u.chartType!=="donut"&&u.chartType!=="polarArea"||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":u.strokeWidth}),o.i===d.config.series.length-1&&g.animationCompleted(e)})).during((function(I){b=P+(n-P)*I,o.animateStartingPos&&(b=r+(n-r)*I,S=t-r+(i-(t-r))*I),s=u.getPiePath({me:u,startAngle:S,angle:b,size:x}),e.node.setAttribute("data:pathOrig",s),e.attr({d:s})})):(s=u.getPiePath({me:u,startAngle:S,angle:n,size:x}),o.isTrack||(d.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",s),e.attr({d:s,"stroke-width":u.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,n=this,r=n.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.findOne(".apexcharts-".concat(n.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var s=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(s,(function(x){x.setAttribute("data:pieClicked","false");var b=x.getAttribute("data:pathOrig");b&&x.setAttribute("d",b)})),i.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var u=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);t=n.getPiePath({me:n,startAngle:u,angle:d,size:r}),d!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var g=o.attr("data:pathOrig");o.attr({d:g})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t,i=e.me,n=e.startAngle,r=e.angle,o=e.size,s=new vi(this.ctx),u=n,d=Math.PI*(u-90)/180,g=r+n;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var x=Math.PI*(g-90)/180,b=i.centerX+o*Math.cos(d),S=i.centerY+o*Math.sin(d),P=i.centerX+o*Math.cos(x),I=i.centerY+o*Math.sin(x),O=Et.polarToCartesian(i.centerX,i.centerY,i.donutSize,g),H=Et.polarToCartesian(i.centerX,i.centerY,i.donutSize,u),Q=r>180?1:0,Y=["M",b,S,"A",o,o,0,Q,1,P,I];return t=i.chartType==="donut"?[].concat(Y,["L",O.x,O.y,"A",i.donutSize,i.donutSize,0,Q,0,H.x,H.y,"L",b,S,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(Y,["L",i.centerX,i.centerY,"L",b,S]).join(" "):[].concat(Y).join(" "),s.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new HO(this.ctx),n=new vi(this.ctx),r=new $O(this.ctx),o=n.group(),s=n.group(),u=i.niceScale(0,Math.ceil(this.maxY),0),d=u.result.reverse(),g=u.result.length;this.maxY=u.niceMax;for(var x=t.globals.radialSize,b=x/(g-1),S=0;S<g-1;S++){var P=n.drawCircle(x);if(P.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var I=r.drawYAxisTexts(this.centerX,this.centerY-x+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,S,d[S]);s.add(I)}o.add(P),x-=b}this.drawSpokes(e),e.add(o),e.add(s)}},{key:"renderInnerDataLabels",value:function(e,t,i){var n=this.w,r=new vi(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=i.opacity;var s,u,d=i.centerX,g=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;s=t.name.color===void 0?n.globals.colors[0]:t.name.color;var x=t.name.fontSize,b=t.name.fontFamily,S=t.name.fontWeight;u=t.value.color===void 0?n.config.chart.foreColor:t.value.color;var P=t.value.formatter,I="",O="";if(o?(s=t.total.color,x=t.total.fontSize,b=t.total.fontFamily,S=t.total.fontWeight,O=this.donutDataLabels.total.label?t.total.label:"",I=t.total.formatter(n)):n.globals.series.length===1&&(I=P(n.globals.series[0],n),O=n.globals.seriesNames[0]),O&&(O=t.name.formatter(O,t.total.show,n)),t.name.show){var H=r.drawText({x:d,y:g+parseFloat(t.name.offsetY),text:O,textAnchor:"middle",foreColor:s,fontSize:x,fontWeight:S,fontFamily:b});H.node.classList.add("apexcharts-datalabel-label"),e.add(H)}if(t.value.show){var Q=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,Y=r.drawText({x:d,y:g+Q,text:I,textAnchor:"middle",foreColor:u,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});Y.node.classList.add("apexcharts-datalabel-value"),e.add(Y)}return e}},{key:"printInnerLabels",value:function(e,t,i,n){var r,o=this.w;n?r=e.name.color===void 0?o.globals.colors[parseInt(n.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(r=e.total.color);var s=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),u=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,o),n||typeof e.total.formatter!="function"||(i=e.total.formatter(o));var d=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,d,o):"",s!==null&&(s.textContent=t),u!==null&&(u.textContent=i),s!==null&&(s.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,n=e.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,r,n,e);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,n=new vi(this.ctx),r=i.config.plotOptions.polarArea.spokes;if(r.strokeWidth!==0){for(var o=[],s=360/i.globals.series.length,u=0;u<i.globals.series.length;u++)o.push(Et.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+s*u));o.forEach((function(d,g){var x=n.drawLine(d.x,d.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[g]:r.connectorColors);e.add(x)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),a})(),tY=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new vi(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Hs(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return bn(a,[{key:"draw",value:function(e){var t=this,i=this.w,n=new Tu(this.ctx),r=[],o=new _g(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var s=i.globals.gridWidth/2,u=i.globals.gridHeight/2,d=s+i.config.plotOptions.radar.offsetX,g=u+i.config.plotOptions.radar.offsetY,x=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(d||0,", ").concat(g||0,")")}),b=[],S=null,P=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(O,H){var Q=O.length===i.globals.dataPoints,Y=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Q,seriesName:Et.escapeString(i.globals.seriesNames[H]),rel:H+1,"data:realIndex":H});t.dataRadiusOfPercent[H]=[],t.dataRadius[H]=[],t.angleArr[H]=[],O.forEach((function(be,De){var Ie=Math.abs(t.maxValue-t.minValue);be-=t.minValue,t.isLog&&(be=t.coreUtils.getLogVal(t.logBase,be,0)),t.dataRadiusOfPercent[H][De]=be/Ie,t.dataRadius[H][De]=t.dataRadiusOfPercent[H][De]*t.size,t.angleArr[H][De]=De*t.disAngle})),b=t.getDataPointsPos(t.dataRadius[H],t.angleArr[H]);var Z=t.createPaths(b,{x:0,y:0});S=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),P=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":H}),i.globals.delayedElements.push({el:S.node,index:H});var J={i:H,realIndex:H,animationDelay:H,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[H],strokeLineCap:i.config.stroke.lineCap},re=null;i.globals.previousPaths.length>0&&(re=t.getPreviousPath(H));for(var q=0;q<Z.linePathsTo.length;q++){var ne=t.graphics.renderPaths(ji(ji({},J),{},{pathFrom:re===null?Z.linePathsFrom[q]:re,pathTo:Z.linePathsTo[q],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[H]:t.strokeWidth,fill:"none",drawShadow:!1}));Y.add(ne);var te=n.fillPath({seriesNumber:H}),he=t.graphics.renderPaths(ji(ji({},J),{},{pathFrom:re===null?Z.areaPathsFrom[q]:re,pathTo:Z.areaPathsTo[q],strokeWidth:0,fill:te,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var ve=new Go(t.ctx),de=i.config.chart.dropShadow;ve.dropShadow(he,Object.assign({},de,{noUserSpaceOnUse:!0}),H)}Y.add(he)}O.forEach((function(be,De){var Ie=new Ig(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:H,dataPointIndex:De}),nt=t.graphics.drawMarker(b[De].x,b[De].y,Ie);nt.attr("rel",De),nt.attr("j",De),nt.attr("index",H),nt.node.setAttribute("default-marker-size",Ie.pSize);var je=t.graphics.group({class:"apexcharts-series-markers"});je&&je.add(nt),S.add(je),Y.add(S);var dt=i.config.dataLabels;if(dt.enabled){var Mt=dt.formatter(i.globals.series[H][De],{seriesIndex:H,dataPointIndex:De,w:i});o.plotDataLabelsText({x:b[De].x,y:b[De].y,text:Mt,textAnchor:"middle",i:H,j:H,parent:P,offsetCorrection:!1,dataLabelsConfig:ji({},dt)})}Y.add(P)})),r.push(Y)})),this.drawPolygons({parent:x}),i.config.xaxis.labels.show){var I=this.drawXAxisTexts();x.add(I)}return r.forEach((function(O){x.add(O)})),x.add(this.yaxisLabels),x}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,n=e.parent,r=new $O(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),s=o.length,u=[],d=this.size/(s-1),g=0;g<s;g++)u[g]=d*g;u.reverse();var x=[],b=[];u.forEach((function(S,P){var I=Et.getPolygonPos(S,t.dataPointsLen),O="";I.forEach((function(H,Q){if(P===0){var Y=t.graphics.drawLine(H.x,H.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[Q]:t.polygons.connectorColors);b.push(Y)}Q===0&&t.yaxisLabelsTextsPos.push({x:H.x,y:H.y}),O+=H.x+","+H.y+" "})),x.push(O)})),x.forEach((function(S,P){var I=t.polygons.strokeColors,O=t.polygons.strokeWidth,H=t.graphics.drawPolygon(S,Array.isArray(I)?I[P]:I,Array.isArray(O)?O[P]:O,i.globals.radarPolygons.fill.colors[P]);n.add(H)})),b.forEach((function(S){n.add(S)})),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(S,P){var I=r.drawYAxisTexts(S.x,S.y,P,o[P]);t.yaxisLabels.add(I)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,n=this.graphics.group({class:"apexcharts-xaxis"}),r=Et.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(o,s){var u=t.config.xaxis.labels.formatter,d=new _g(e.ctx);if(r[s]){var g=e.getTextPos(r[s],e.size),x=u(o,{seriesIndex:-1,dataPointIndex:s,w:t});d.plotDataLabelsText({x:g.newX,y:g.newY,text:x,textAnchor:g.textAnchor,i:s,j:s,parent:n,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[s]?i.style.colors[s]:"#a8a8a8",dataLabelsConfig:ji({textAnchor:g.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",(function(b){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var S=Object.assign({},t,{labelIndex:s});t.config.chart.events.xAxisLabelClick(b,e.ctx,S)}}))}})),n}},{key:"createPaths",value:function(e,t){var i=this,n=[],r=[],o=[],s=[];if(e.length){r=[this.graphics.move(t.x,t.y)],s=[this.graphics.move(t.x,t.y)];var u=this.graphics.move(e[0].x,e[0].y),d=this.graphics.move(e[0].x,e[0].y);e.forEach((function(g,x){u+=i.graphics.line(g.x,g.y),d+=i.graphics.line(g.x,g.y),x===e.length-1&&(u+="Z",d+="Z")})),n.push(u),o.push(d)}return{linePathsFrom:r,linePathsTo:n,areaPathsFrom:s,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var i="middle",n=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",n+=10):e.x<0&&(i="end",n-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:i,newX:n,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,n=0;n<t.globals.previousPaths.length;n++){var r=t.globals.previousPaths[n];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[n].paths[0]!==void 0&&(i=t.globals.previousPaths[n].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var n=[],r=0;r<i;r++){var o={};o.x=e[r]*Math.sin(t[r]),o.y=-e[r]*Math.cos(t[r]),n.push(o)}return n}}]),a})(),iY=(function(a){ty(t,XO);var e=ey(t);function t(i){var n;wn(this,t),(n=e.call(this,i)).ctx=i,n.w=i.w,n.animBeginArr=[0],n.animDur=0;var r=n.w;return n.startAngle=r.config.plotOptions.radialBar.startAngle,n.endAngle=r.config.plotOptions.radialBar.endAngle,n.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),n.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,n.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,n.barLabels=n.w.config.plotOptions.radialBar.barLabels,n.donutDataLabels=n.w.config.plotOptions.radialBar.dataLabels,n.radialDataLabels=n.donutDataLabels,n.trackStartAngle||(n.trackStartAngle=n.startAngle),n.trackEndAngle||(n.trackEndAngle=n.endAngle),n.endAngle===360&&(n.endAngle=359.99),n.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),n.onBarLabelClick=n.onBarLabelClick.bind(sO(n)),n}return bn(t,[{key:"draw",value:function(i){var n=this.w,r=new vi(this.ctx),o=r.group({class:"apexcharts-radialbar"});if(n.globals.noData)return o;var s=r.group(),u=this.defaultSize/2,d=n.globals.gridWidth/2,g=this.defaultSize/2.05;n.config.chart.sparkline.enabled||(g=g-n.config.stroke.width-n.config.chart.dropShadow.blur);var x=n.globals.fill.colors;if(n.config.plotOptions.radialBar.track.show){var b=this.drawTracks({size:g,centerX:d,centerY:u,colorArr:x,series:i});s.add(b)}var S=this.drawArcs({size:g,centerX:d,centerY:u,colorArr:x,series:i}),P=360;n.config.plotOptions.radialBar.startAngle<0&&(P=this.totalAngle);var I=(360-P)/360;if(n.globals.radialSize=g-g*I,this.radialDataLabels.value.show){var O=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);n.globals.radialSize+=O*I}return s.add(S.g),n.config.plotOptions.radialBar.hollow.position==="front"&&(S.g.add(S.elHollow),S.dataLabels&&S.g.add(S.dataLabels)),o.add(s),o}},{key:"drawTracks",value:function(i){var n=this.w,r=new vi(this.ctx),o=r.group({class:"apexcharts-tracks"}),s=new Go(this.ctx),u=new Tu(this.ctx),d=this.getStrokeWidth(i);i.size=i.size-d/2;for(var g=0;g<i.series.length;g++){var x=r.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(x),x.attr({rel:g+1}),i.size=i.size-d-this.margin;var b=n.config.plotOptions.radialBar.track,S=u.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(b.background)?b.background[g]:b.background,solid:!0}),P=this.trackStartAngle,I=this.trackEndAngle;Math.abs(I)+Math.abs(P)>=360&&(I=360-Math.abs(this.startAngle)-.1);var O=r.drawPath({d:"",stroke:S,strokeWidth:d*parseInt(b.strokeWidth,10)/100,fill:"none",strokeOpacity:b.opacity,classes:"apexcharts-radialbar-area"});if(b.dropShadow.enabled){var H=b.dropShadow;s.dropShadow(O,H)}x.add(O),O.attr("id","apexcharts-radialbarTrack-"+g),this.animatePaths(O,{centerX:i.centerX,centerY:i.centerY,endAngle:I,startAngle:P,size:i.size,i:g,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(i){var n=this.w,r=new vi(this.ctx),o=new Tu(this.ctx),s=new Go(this.ctx),u=r.group(),d=this.getStrokeWidth(i);i.size=i.size-d/2;var g=n.config.plotOptions.radialBar.hollow.background,x=i.size-d*i.series.length-this.margin*i.series.length-d*parseInt(n.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,b=x-n.config.plotOptions.radialBar.hollow.margin;n.config.plotOptions.radialBar.hollow.image!==void 0&&(g=this.drawHollowImage(i,u,x,g));var S=this.drawHollow({size:b,centerX:i.centerX,centerY:i.centerY,fill:g||"transparent"});if(n.config.plotOptions.radialBar.hollow.dropShadow.enabled){var P=n.config.plotOptions.radialBar.hollow.dropShadow;s.dropShadow(S,P)}var I=1;!this.radialDataLabels.total.show&&n.globals.series.length>1&&(I=0);var O=null;if(this.radialDataLabels.show){var H=n.globals.dom.Paper.findOne(".apexcharts-datalabels-group");O=this.renderInnerDataLabels(H,this.radialDataLabels,{hollowSize:x,centerX:i.centerX,centerY:i.centerY,opacity:I})}n.config.plotOptions.radialBar.hollow.position==="back"&&(u.add(S),O&&u.add(O));var Q=!1;n.config.plotOptions.radialBar.inverseOrder&&(Q=!0);for(var Y=Q?i.series.length-1:0;Q?Y>=0:Y<i.series.length;Q?Y--:Y++){var Z=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:Et.escapeString(n.globals.seriesNames[Y])});u.add(Z),Z.attr({rel:Y+1,"data:realIndex":Y}),this.ctx.series.addCollapsedClassToSeries(Z,Y),i.size=i.size-d-this.margin;var J=o.fillPath({seriesNumber:Y,size:i.size,value:i.series[Y]}),re=this.startAngle,q=void 0,ne=Et.negToZero(i.series[Y]>100?100:i.series[Y])/100,te=Math.round(this.totalAngle*ne)+this.startAngle,he=void 0;n.globals.dataChanged&&(q=this.startAngle,he=Math.round(this.totalAngle*Et.negToZero(n.globals.previousPaths[Y])/100)+q),Math.abs(te)+Math.abs(re)>360&&(te-=.01),Math.abs(he)+Math.abs(q)>360&&(he-=.01);var ve=te-re,de=Array.isArray(n.config.stroke.dashArray)?n.config.stroke.dashArray[Y]:n.config.stroke.dashArray,be=r.drawPath({d:"",stroke:J,strokeWidth:d,fill:"none",fillOpacity:n.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Y,strokeDashArray:de});if(vi.setAttrs(be.node,{"data:angle":ve,"data:value":i.series[Y]}),n.config.chart.dropShadow.enabled){var De=n.config.chart.dropShadow;s.dropShadow(be,De,Y)}if(s.setSelectionFilter(be,0,Y),this.addListeners(be,this.radialDataLabels),Z.add(be),be.attr({index:0,j:Y}),this.barLabels.enabled){var Ie=Et.polarToCartesian(i.centerX,i.centerY,i.size,re),nt=this.barLabels.formatter(n.globals.seriesNames[Y],{seriesIndex:Y,w:n}),je=["apexcharts-radialbar-label"];this.barLabels.onClick||je.push("apexcharts-no-click");var dt=this.barLabels.useSeriesColors?n.globals.colors[Y]:n.config.chart.foreColor;dt||(dt=n.config.chart.foreColor);var Mt=Ie.x+this.barLabels.offsetX,We=Ie.y+this.barLabels.offsetY,Pt=r.drawText({x:Mt,y:We,text:nt,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:dt,cssClass:je.join(" ")});Pt.on("click",this.onBarLabelClick),Pt.attr({rel:Y+1}),re!==0&&Pt.attr({"transform-origin":"".concat(Mt," ").concat(We),transform:"rotate(".concat(re," 0 0)")}),Z.add(Pt)}var Kt=0;!this.initialAnim||n.globals.resized||n.globals.dataChanged||(Kt=n.config.chart.animations.speed),n.globals.dataChanged&&(Kt=n.config.chart.animations.dynamicAnimation.speed),this.animDur=Kt/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(be,{centerX:i.centerX,centerY:i.centerY,endAngle:te,startAngle:re,prevEndAngle:he,prevStartAngle:q,size:i.size,i:Y,totalItems:2,animBeginArr:this.animBeginArr,dur:Kt,shouldSetPrevPaths:!0})}return{g:u,elHollow:S,dataLabels:O}}},{key:"drawHollow",value:function(i){var n=new vi(this.ctx).drawCircle(2*i.size);return n.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),n}},{key:"drawHollowImage",value:function(i,n,r,o){var s=this.w,u=new Tu(this.ctx),d=Et.randomId(),g=s.config.plotOptions.radialBar.hollow.image;if(s.config.plotOptions.radialBar.hollow.imageClipped)u.clippedImgArea({width:r,height:r,image:g,patternID:"pattern".concat(s.globals.cuid).concat(d)}),o="url(#pattern".concat(s.globals.cuid).concat(d,")");else{var x=s.config.plotOptions.radialBar.hollow.imageWidth,b=s.config.plotOptions.radialBar.hollow.imageHeight;if(x===void 0&&b===void 0){var S=s.globals.dom.Paper.image(g,(function(I){this.move(i.centerX-I.width/2+s.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-I.height/2+s.config.plotOptions.radialBar.hollow.imageOffsetY)}));n.add(S)}else{var P=s.globals.dom.Paper.image(g,(function(I){this.move(i.centerX-x/2+s.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-b/2+s.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(x,b)}));n.add(P)}}return o}},{key:"getStrokeWidth",value:function(i){var n=this.w;return i.size*(100-parseInt(n.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var n=parseInt(i.target.getAttribute("rel"),10)-1,r=this.barLabels.onClick,o=this.w;r&&r(o.globals.seriesNames[n],{w:o,seriesIndex:n})}}]),t})(),nY=(function(a){ty(t,vg);var e=ey(t);function t(){return wn(this,t),e.apply(this,arguments)}return bn(t,[{key:"draw",value:function(i,n){var r=this.w,o=new vi(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var s=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),u=0;u<i.length;u++){var d,g,x,b,S=void 0,P=void 0,I=r.globals.comboCharts?n[u]:u,O=this.barHelpers.getGroupIndex(I).columnGroupIndex,H=o.group({class:"apexcharts-series",seriesName:Et.escapeString(r.globals.seriesNames[I]),rel:u+1,"data:realIndex":I});this.ctx.series.addCollapsedClassToSeries(H,I),i[u].length>0&&(this.visibleI=this.visibleI+1);var Q=0,Y=0,Z=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[I][0],Z=I);var J=this.barHelpers.initialPositions(I);P=J.y,b=J.zeroW,S=J.x,Y=J.barWidth,Q=J.barHeight,d=J.xDivision,g=J.yDivision,x=J.zeroH;for(var re=o.group({class:"apexcharts-datalabels","data:realIndex":I}),q=o.group({class:"apexcharts-rangebar-goals-markers"}),ne=0;ne<r.globals.dataPoints;ne++){var te=this.barHelpers.getStrokeWidth(u,ne,I),he=this.seriesRangeStart[u][ne],ve=this.seriesRangeEnd[u][ne],de=null,be=null,De=null,Ie={x:S,y:P,strokeWidth:te,elSeries:H},nt=this.seriesLen;if(r.config.plotOptions.bar.rangeBarGroupRows&&(nt=1),r.config.series[u].data[ne]===void 0)break;if(this.isHorizontal){De=P+Q*this.visibleI;var je=(g-Q*nt)/2;if(r.config.series[u].data[ne].x){var dt=this.detectOverlappingBars({i:u,j:ne,barYPosition:De,srty:je,barHeight:Q,yDivision:g,initPositions:J});Q=dt.barHeight,De=dt.barYPosition}Y=(de=this.drawRangeBarPaths(ji({indexes:{i:u,j:ne,realIndex:I},barHeight:Q,barYPosition:De,zeroW:b,yDivision:g,y1:he,y2:ve},Ie))).barWidth}else{r.globals.isXNumeric&&(S=(r.globals.seriesX[u][ne]-r.globals.minX)/this.xRatio-Y/2),be=S+Y*this.visibleI;var Mt=(d-Y*nt)/2;if(r.config.series[u].data[ne].x){var We=this.detectOverlappingBars({i:u,j:ne,barXPosition:be,srtx:Mt,barWidth:Y,xDivision:d,initPositions:J});Y=We.barWidth,be=We.barXPosition}Q=(de=this.drawRangeColumnPaths(ji({indexes:{i:u,j:ne,realIndex:I,translationsIndex:Z},barWidth:Y,barXPosition:be,zeroH:x,xDivision:d},Ie))).barHeight}var Pt=this.barHelpers.drawGoalLine({barXPosition:de.barXPosition,barYPosition:De,goalX:de.goalX,goalY:de.goalY,barHeight:Q,barWidth:Y});Pt&&q.add(Pt),P=de.y,S=de.x;var Kt=this.barHelpers.getPathFillColor(i,u,ne,I);this.renderSeries({realIndex:I,pathFill:Kt.color,lineFill:Kt.useRangeColor?Kt.color:r.globals.stroke.colors[I],j:ne,i:u,x:S,y:P,y1:he,y2:ve,pathFrom:de.pathFrom,pathTo:de.pathTo,strokeWidth:te,elSeries:H,series:i,barHeight:Q,barWidth:Y,barXPosition:be,barYPosition:De,columnGroupIndex:O,elDataLabelsWrap:re,elGoalsMarkers:q,visibleSeries:this.visibleI,type:"rangebar"})}s.add(H)}return s}},{key:"detectOverlappingBars",value:function(i){var n=i.i,r=i.j,o=i.barYPosition,s=i.barXPosition,u=i.srty,d=i.srtx,g=i.barHeight,x=i.barWidth,b=i.yDivision,S=i.xDivision,P=i.initPositions,I=this.w,O=[],H=I.config.series[n].data[r].rangeName,Q=I.config.series[n].data[r].x,Y=Array.isArray(Q)?Q.join(" "):Q,Z=I.globals.labels.map((function(re){return Array.isArray(re)?re.join(" "):re})).indexOf(Y),J=I.globals.seriesRange[n].findIndex((function(re){return re.x===Y&&re.overlaps.length>0}));return this.isHorizontal?(o=I.config.plotOptions.bar.rangeBarGroupRows?u+b*Z:u+g*this.visibleI+b*Z,J>-1&&!I.config.plotOptions.bar.rangeBarOverlap&&(O=I.globals.seriesRange[n][J].overlaps).indexOf(H)>-1&&(o=(g=P.barHeight/O.length)*this.visibleI+b*(100-parseInt(this.barOptions.barHeight,10))/100/2+g*(this.visibleI+O.indexOf(H))+b*Z)):(Z>-1&&!I.globals.timescaleLabels.length&&(s=I.config.plotOptions.bar.rangeBarGroupRows?d+S*Z:d+x*this.visibleI+S*Z),J>-1&&!I.config.plotOptions.bar.rangeBarOverlap&&(O=I.globals.seriesRange[n][J].overlaps).indexOf(H)>-1&&(s=(x=P.barWidth/O.length)*this.visibleI+S*(100-parseInt(this.barOptions.barWidth,10))/100/2+x*(this.visibleI+O.indexOf(H))+S*Z)),{barYPosition:o,barXPosition:s,barHeight:g,barWidth:x}}},{key:"drawRangeColumnPaths",value:function(i){var n=i.indexes,r=i.x,o=i.xDivision,s=i.barWidth,u=i.barXPosition,d=i.zeroH,g=this.w,x=n.i,b=n.j,S=n.realIndex,P=n.translationsIndex,I=this.yRatio[P],O=this.getRangeValue(S,b),H=Math.min(O.start,O.end),Q=Math.max(O.start,O.end);this.series[x][b]===void 0||this.series[x][b]===null?H=d:(H=d-H/I,Q=d-Q/I);var Y=Math.abs(Q-H),Z=this.barHelpers.getColumnPaths({barXPosition:u,barWidth:s,y1:H,y2:Q,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:S,i:S,j:b,w:g});if(g.globals.isXNumeric){var J=this.getBarXForNumericXAxis({x:r,j:b,realIndex:S,barWidth:s});r=J.x,u=J.barXPosition}else r+=o;return{pathTo:Z.pathTo,pathFrom:Z.pathFrom,barHeight:Y,x:r,y:O.start<0&&O.end<0?H:Q,goalY:this.barHelpers.getGoalValues("y",null,d,x,b,P),barXPosition:u}}},{key:"preventBarOverflow",value:function(i){var n=this.w;return i<0&&(i=0),i>n.globals.gridWidth&&(i=n.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var n=i.indexes,r=i.y,o=i.y1,s=i.y2,u=i.yDivision,d=i.barHeight,g=i.barYPosition,x=i.zeroW,b=this.w,S=n.realIndex,P=n.j,I=this.preventBarOverflow(x+o/this.invertedYRatio),O=this.preventBarOverflow(x+s/this.invertedYRatio),H=this.getRangeValue(S,P),Q=Math.abs(O-I),Y=this.barHelpers.getBarpaths({barYPosition:g,barHeight:d,x1:I,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:S,realIndex:S,j:P,w:b});return b.globals.isXNumeric||(r+=u),{pathTo:Y.pathTo,pathFrom:Y.pathFrom,barWidth:Q,x:H.start<0&&H.end<0?I:O,goalX:this.barHelpers.getGoalValues("x",x,null,S,P),y:r}}},{key:"getRangeValue",value:function(i,n){var r=this.w;return{start:r.globals.seriesRangeStart[i][n],end:r.globals.seriesRangeEnd[i][n]}}}]),t})(),aY=(function(){function a(e){wn(this,a),this.w=e.w,this.lineCtx=e}return bn(a,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[e]==="gradient")&&new Hs(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var n=t[e].slice();n[n.length-1]=n[n.length-1]+1e-6,t[e]=n}return t}},{key:"calculatePoints",value:function(e){var t=e.series,i=e.realIndex,n=e.x,r=e.y,o=e.i,s=e.j,u=e.prevY,d=this.w,g=[],x=[],b=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;return d.globals.isXNumeric&&(b=(d.globals.seriesX[i][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),s===0&&(g.push(b),x.push(Et.isNumber(t[o][0])?u+d.config.markers.offsetY:null)),g.push(n+d.config.markers.offsetX),x.push(Et.isNumber(t[o][s+1])?r+d.config.markers.offsetY:null),{x:g,y:x}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,n=e.realIndex,r=this.w,o=0;o<r.globals.previousPaths.length;o++){var s=r.globals.previousPaths[o];(s.type==="line"||s.type==="area")&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(n,10)&&(s.type==="line"?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[o].paths[0].d):s.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[o].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[o].paths[1]&&(t=r.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t,i,n,r=e.i,o=e.realIndex,s=e.series,u=e.prevY,d=e.lineYPosition,g=e.translationsIndex,x=this.w,b=x.config.chart.stacked&&!x.globals.comboCharts||x.config.chart.stacked&&x.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[o])===null||i===void 0?void 0:i.type)==="column");if(((n=s[r])===null||n===void 0?void 0:n[0])!==void 0)u=(d=b&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-s[r][0]/this.lineCtx.yRatio[g]+2*(this.lineCtx.isReversed?s[r][0]/this.lineCtx.yRatio[g]:0);else if(b&&r>0&&s[r][0]===void 0){for(var S=r-1;S>=0;S--)if(s[S][0]!==null&&s[S][0]!==void 0){u=d=this.lineCtx.prevSeriesY[S][0];break}}return{prevY:u,lineYPosition:d}}}]),a})(),rY=function(a){for(var e,t,i,n,r=(function(g){for(var x=[],b=g[0],S=g[1],P=x[0]=C1(b,S),I=1,O=g.length-1;I<O;I++)b=S,S=g[I+1],x[I]=.5*(P+(P=C1(b,S)));return x[I]=P,x})(a),o=a.length-1,s=[],u=0;u<o;u++)i=C1(a[u],a[u+1]),Math.abs(i)<1e-6?r[u]=r[u+1]=0:(n=(e=r[u]/i)*e+(t=r[u+1]/i)*t)>9&&(n=3*i/Math.sqrt(n),r[u]=n*e,r[u+1]=n*t);for(var d=0;d<=o;d++)n=(a[Math.min(o,d+1)][0]-a[Math.max(0,d-1)][0])/(6*(1+r[d]*r[d])),s.push([n||0,r[d]*n||0]);return s},sY=function(a){var e=rY(a),t=a[1],i=a[0],n=[],r=e[1],o=e[0];n.push(i,[i[0]+o[0],i[1]+o[1],t[0]-r[0],t[1]-r[1],t[0],t[1]]);for(var s=2,u=e.length;s<u;s++){var d=a[s],g=e[s];n.push([d[0]-g[0],d[1]-g[1],d[0],d[1]])}return n},oY=function(a,e,t){var i=a.slice(e,t);if(e){if(t-e>1&&i[1].length<6){var n=i[0].length;i[1]=[2*i[0][n-2]-i[0][n-4],2*i[0][n-1]-i[0][n-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function C1(a,e){return(e[1]-a[1])/(e[0]-a[0])}var S1=(function(){function a(e,t,i){wn(this,a),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new UO(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new aY(this),this.markers=new Ig(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return bn(a,[{key:"draw",value:function(e,t,i,n){var r,o=this.w,s=new vi(this.ctx),u=o.globals.comboCharts?t:o.config.chart.type,d=s.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),g=new Hs(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=g.getLogSeries(e),this.yRatio=g.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var x=[],b=0;b<e.length;b++){e=this.lineHelpers.sameValueSeriesFix(b,e);var S=o.globals.comboCharts?i[b]:b,P=this.yRatio.length>1?S:0;this._initSerieVariables(e,b,S);var I=[],O=[],H=[],Q=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,S),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(Q=(o.globals.seriesX[S][0]-o.globals.minX)/this.xRatio),H.push(Q);var Y,Z=Q,J=void 0,re=Z,q=this.zeroY,ne=this.zeroY;q=this.lineHelpers.determineFirstPrevY({i:b,realIndex:S,series:e,prevY:q,lineYPosition:0,translationsIndex:P}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[b][0]===null?I.push(null):I.push(q),Y=q,u==="rangeArea"&&(J=ne=this.lineHelpers.determineFirstPrevY({i:b,realIndex:S,series:n,prevY:ne,lineYPosition:0,translationsIndex:P}).prevY,O.push(I[0]!==null?ne:null));var te=this._calculatePathsFrom({type:u,series:e,i:b,realIndex:S,translationsIndex:P,prevX:re,prevY:q,prevY2:ne}),he=[I[0]],ve=[O[0]],de={type:u,series:e,realIndex:S,translationsIndex:P,i:b,x:Q,y:1,pX:Z,pY:Y,pathsFrom:te,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:H,yArrj:I,y2Arrj:O,seriesRangeEnd:n},be=this._iterateOverDataPoints(ji(ji({},de),{},{iterations:u==="rangeArea"?e[b].length-1:void 0,isRangeStart:!0}));if(u==="rangeArea"){for(var De=this._calculatePathsFrom({series:n,i:b,realIndex:S,prevX:re,prevY:ne}),Ie=this._iterateOverDataPoints(ji(ji({},de),{},{series:n,xArrj:[Q],yArrj:he,y2Arrj:ve,pY:J,areaPaths:be.areaPaths,pathsFrom:De,iterations:n[b].length-1,isRangeStart:!1})),nt=be.linePaths.length/2,je=0;je<nt;je++)be.linePaths[je]=Ie.linePaths[je+nt]+be.linePaths[je];be.linePaths.splice(nt),be.pathFromLine=Ie.pathFromLine+be.pathFromLine}else be.pathFromArea+="z";this._handlePaths({type:u,realIndex:S,i:b,paths:be}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),x.push(this.elSeries)}if(((r=o.config.series[0])===null||r===void 0?void 0:r.zIndex)!==void 0&&x.sort((function(We,Pt){return Number(We.node.getAttribute("zIndex"))-Number(Pt.node.getAttribute("zIndex"))})),o.config.chart.stacked)for(var dt=x.length-1;dt>=0;dt--)d.add(x[dt]);else for(var Mt=0;Mt<x.length;Mt++)d.add(x[Mt]);return d}},{key:"_initSerieVariables",value:function(e,t,i){var n=this.w,r=new vi(this.ctx);this.xDivision=n.globals.gridWidth/(n.globals.dataPoints-(n.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(n.config.stroke.width)?n.config.stroke.width[i]:n.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[i],o=i),this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed,this.zeroY=n.globals.gridHeight-this.baseLineY[o]-(this.isReversed?n.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>n.globals.gridHeight||n.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=n.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:n.config.series[i].zIndex!==void 0?n.config.series[i].zIndex:i,seriesName:Et.escapeString(n.globals.seriesNames[i])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),n.globals.hasNullValues){var s=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[n.globals.gridHeight+n.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});s!==null&&this.elPointsMain.add(s)}this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":i});var u=e[t].length===n.globals.dataPoints;this.elSeries.attr({"data:longestSeries":u,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,n,r,o=e.type,s=e.series,u=e.i,d=e.realIndex,g=e.translationsIndex,x=e.prevX,b=e.prevY,S=e.prevY2,P=this.w,I=new vi(this.ctx);if(s[u][0]===null){for(var O=0;O<s[u].length;O++)if(s[u][O]!==null){x=this.xDivision*O,b=this.zeroY-s[u][O]/this.yRatio[g],t=I.move(x,b),i=I.move(x,this.areaBottomY);break}}else t=I.move(x,b),o==="rangeArea"&&(t=I.move(x,S)+I.line(x,b)),i=I.move(x,this.areaBottomY)+I.line(x,b);if(n=I.move(0,this.areaBottomY)+I.line(0,this.areaBottomY),r=I.move(0,this.areaBottomY)+I.line(0,this.areaBottomY),P.globals.previousPaths.length>0){var H=this.lineHelpers.checkPreviousPaths({pathFromLine:n,pathFromArea:r,realIndex:d});n=H.pathFromLine,r=H.pathFromArea}return{prevX:x,prevY:b,linePath:t,areaPath:i,pathFromLine:n,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,n=e.i,r=e.paths,o=this.w,s=new vi(this.ctx),u=new Tu(this.ctx);this.prevSeriesY.push(r.yArrj),o.globals.seriesXvalues[i]=r.xArrj,o.globals.seriesYvalues[i]=r.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&t!=="rangeArea"){var g=o.globals.seriesXvalues[i][o.globals.seriesXvalues[i].length-d.count-1],x=s.drawRect(g,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(x.node);var b=s.drawRect(0,0,g,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(b.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var S={i:n,realIndex:i,animationDelay:n,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var P=u.fillPath({seriesNumber:i}),I=0;I<r.areaPaths.length;I++){var O=s.renderPaths(ji(ji({},S),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[I],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:P}));this.elSeries.add(O)}if(o.config.stroke.show&&!this.pointsChart){var H=null;if(t==="line")H=u.fillPath({seriesNumber:i,i:n});else if(o.config.stroke.fill.type==="solid")H=o.globals.stroke.colors[i];else{var Q=o.config.fill;o.config.fill=o.config.stroke.fill,H=u.fillPath({seriesNumber:i,i:n}),o.config.fill=Q}for(var Y=0;Y<r.linePaths.length;Y++){var Z=H;t==="rangeArea"&&(Z=u.fillPath({seriesNumber:i}));var J=ji(ji({},S),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[Y],stroke:H,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?Z:"none"}),re=s.renderPaths(J);if(this.elSeries.add(re),re.attr("fill-rule","evenodd"),d.count>0&&t!=="rangeArea"){var q=s.renderPaths(J);q.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&q.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(q),q.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),re.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,i,n=this,r=e.type,o=e.series,s=e.iterations,u=e.realIndex,d=e.translationsIndex,g=e.i,x=e.x,b=e.y,S=e.pX,P=e.pY,I=e.pathsFrom,O=e.linePaths,H=e.areaPaths,Q=e.seriesIndex,Y=e.lineYPosition,Z=e.xArrj,J=e.yArrj,re=e.y2Arrj,q=e.isRangeStart,ne=e.seriesRangeEnd,te=this.w,he=new vi(this.ctx),ve=this.yRatio,de=I.prevY,be=I.linePath,De=I.areaPath,Ie=I.pathFromLine,nt=I.pathFromArea,je=Et.isNumber(te.globals.minYArr[u])?te.globals.minYArr[u]:te.globals.minY;s||(s=te.globals.dataPoints>1?te.globals.dataPoints-1:te.globals.dataPoints);var dt=function(Vi,Ii){return Ii-Vi/ve[d]+2*(n.isReversed?Vi/ve[d]:0)},Mt=b,We=te.config.chart.stacked&&!te.globals.comboCharts||te.config.chart.stacked&&te.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[u])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[u])===null||i===void 0?void 0:i.type)==="column"),Pt=te.config.stroke.curve;Array.isArray(Pt)&&(Pt=Array.isArray(Q)?Pt[Q[g]]:Pt[g]);for(var Kt,di=0,It=0;It<s&&o[g].length!==0;It++){var bt=o[g][It+1]===void 0||o[g][It+1]===null;if(te.globals.isXNumeric){var mt=te.globals.seriesX[u][It+1];te.globals.seriesX[u][It+1]===void 0&&(mt=te.globals.seriesX[u][s-1]),x=(mt-te.globals.minX)/this.xRatio}else x+=this.xDivision;We?g>0&&te.globals.collapsedSeries.length<te.config.series.length-1?Y=this.prevSeriesY[(function(Vi){for(var Ii=Vi;Ii>0;Ii--){if(!(te.globals.collapsedSeriesIndices.indexOf(Q?.[Ii]||Ii)>-1))return Ii;Ii--}return 0})(g-1)][It+1]:Y=this.zeroY:Y=this.zeroY,bt?b=dt(je,Y):(b=dt(o[g][It+1],Y),r==="rangeArea"&&(Mt=dt(ne[g][It+1],Y))),Z.push(o[g][It+1]===null?null:x),!bt||te.config.stroke.curve!=="smooth"&&te.config.stroke.curve!=="monotoneCubic"?(J.push(b),re.push(Mt)):(J.push(null),re.push(null));var si=this.lineHelpers.calculatePoints({series:o,x,y:b,realIndex:u,i:g,j:It,prevY:de}),gi=this._createPaths({type:r,series:o,i:g,realIndex:u,j:It,x,y:b,y2:Mt,xArrj:Z,yArrj:J,y2Arrj:re,pX:S,pY:P,pathState:di,segmentStartX:Kt,linePath:be,areaPath:De,linePaths:O,areaPaths:H,curve:Pt,isRangeStart:q});H=gi.areaPaths,O=gi.linePaths,S=gi.pX,P=gi.pY,di=gi.pathState,Kt=gi.segmentStartX,De=gi.areaPath,be=gi.linePath,!this.appendPathFrom||te.globals.hasNullValues||Pt==="monotoneCubic"&&r==="rangeArea"||(Ie+=he.line(x,this.areaBottomY),nt+=he.line(x,this.areaBottomY)),this.handleNullDataPoints(o,si,g,It,u),this._handleMarkersAndLabels({type:r,pointsPos:si,i:g,j:It,realIndex:u,isRangeStart:q})}return{yArrj:J,xArrj:Z,pathFromArea:nt,areaPaths:H,pathFromLine:Ie,linePaths:O,linePath:be,areaPath:De}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,i=e.pointsPos,n=e.isRangeStart,r=e.i,o=e.j,s=e.realIndex,u=this.w,d=new _g(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:s,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{u.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var g=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:s,j:o+1});g!==null&&this.elPointsMain.add(g)}var x=d.drawDataLabel({type:t,isRangeStart:n,pos:i,i:s,j:o+1});x!==null&&this.elDataLabelsWrap.add(x)}},{key:"_createPaths",value:function(e){var t=e.type,i=e.series,n=e.i;e.realIndex;var r,o=e.j,s=e.x,u=e.y,d=e.xArrj,g=e.yArrj,x=e.y2,b=e.y2Arrj,S=e.pX,P=e.pY,I=e.pathState,O=e.segmentStartX,H=e.linePath,Q=e.areaPath,Y=e.linePaths,Z=e.areaPaths,J=e.curve,re=e.isRangeStart,q=new vi(this.ctx),ne=this.areaBottomY,te=t==="rangeArea",he=t==="rangeArea"&&re;switch(J){case"monotoneCubic":var ve=re?g:b;switch(I){case 0:if(ve[o+1]===null)break;I=1;case 1:if(!(te?d.length===i[n].length:o===i[n].length-2))break;case 2:var de=re?d:d.slice().reverse(),be=re?ve:ve.slice().reverse(),De=(r=be,de.map((function(mt,si){return[mt,r[si]]})).filter((function(mt){return mt[1]!==null}))),Ie=De.length>1?sY(De):De,nt=[];te&&(he?Z=De:nt=Z.reverse());var je=0,dt=0;if((function(mt,si){for(var gi=(function(fn){var Mi=[],Ji=0;return fn.forEach((function(rn){rn!==null?Ji++:Ji>0&&(Mi.push(Ji),Ji=0)})),Ji>0&&Mi.push(Ji),Mi})(mt),Vi=[],Ii=0,oi=0;Ii<gi.length;oi+=gi[Ii++])Vi[Ii]=oY(si,oi,oi+gi[Ii]);return Vi})(be,Ie).forEach((function(mt){je++;var si=(function(Ii){for(var oi="",fn=0;fn<Ii.length;fn++){var Mi=Ii[fn],Ji=Mi.length;Ji>4?(oi+="C".concat(Mi[0],", ").concat(Mi[1]),oi+=", ".concat(Mi[2],", ").concat(Mi[3]),oi+=", ".concat(Mi[4],", ").concat(Mi[5])):Ji>2&&(oi+="S".concat(Mi[0],", ").concat(Mi[1]),oi+=", ".concat(Mi[2],", ").concat(Mi[3]))}return oi})(mt),gi=dt,Vi=(dt+=mt.length)-1;he?H=q.move(De[gi][0],De[gi][1])+si:te?H=q.move(nt[gi][0],nt[gi][1])+q.line(De[gi][0],De[gi][1])+si+q.line(nt[Vi][0],nt[Vi][1]):(H=q.move(De[gi][0],De[gi][1])+si,Q=H+q.line(De[Vi][0],ne)+q.line(De[gi][0],ne)+"z",Z.push(Q)),Y.push(H)})),te&&je>1&&!he){var Mt=Y.slice(je).reverse();Y.splice(je),Mt.forEach((function(mt){return Y.push(mt)}))}I=0}break;case"smooth":var We=.35*(s-S);if(i[n][o]===null)I=0;else switch(I){case 0:if(O=S,H=he?q.move(S,b[o])+q.line(S,P):q.move(S,P),Q=q.move(S,P),i[n][o+1]===null||i[n][o+1]===void 0){Y.push(H),Z.push(Q);break}if(I=1,o<i[n].length-2){var Pt=q.curve(S+We,P,s-We,u,s,u);H+=Pt,Q+=Pt;break}case 1:if(i[n][o+1]===null)H+=he?q.line(S,x):q.move(S,P),Q+=q.line(S,ne)+q.line(O,ne)+"z",Y.push(H),Z.push(Q),I=-1;else{var Kt=q.curve(S+We,P,s-We,u,s,u);H+=Kt,Q+=Kt,o>=i[n].length-2&&(he&&(H+=q.curve(s,u,s,u,s,x)+q.move(s,x)),Q+=q.curve(s,u,s,u,s,ne)+q.line(O,ne)+"z",Y.push(H),Z.push(Q),I=-1)}}S=s,P=u;break;default:var di=function(mt,si,gi){var Vi=[];switch(mt){case"stepline":Vi=q.line(si,null,"H")+q.line(null,gi,"V");break;case"linestep":Vi=q.line(null,gi,"V")+q.line(si,null,"H");break;case"straight":Vi=q.line(si,gi)}return Vi};if(i[n][o]===null)I=0;else switch(I){case 0:if(O=S,H=he?q.move(S,b[o])+q.line(S,P):q.move(S,P),Q=q.move(S,P),i[n][o+1]===null||i[n][o+1]===void 0){Y.push(H),Z.push(Q);break}if(I=1,o<i[n].length-2){var It=di(J,s,u);H+=It,Q+=It;break}case 1:if(i[n][o+1]===null)H+=he?q.line(S,x):q.move(S,P),Q+=q.line(S,ne)+q.line(O,ne)+"z",Y.push(H),Z.push(Q),I=-1;else{var bt=di(J,s,u);H+=bt,Q+=bt,o>=i[n].length-2&&(he&&(H+=q.line(s,x)),Q+=q.line(s,ne)+q.line(O,ne)+"z",Y.push(H),Z.push(Q),I=-1)}}S=s,P=u}return{linePaths:Y,areaPaths:Z,pX:S,pY:P,pathState:I,segmentStartX:O,linePath:H,areaPath:Q}}},{key:"handleNullDataPoints",value:function(e,t,i,n,r){var o=this.w;if(e[i][n]===null&&o.config.markers.showNullDataPoints||e[i].length===1){var s=this.strokeWidth-o.config.markers.strokeWidth/2;s>0||(s=0);var u=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:r,j:n+1,pSize:s,alwaysDrawMarker:!0});u!==null&&this.elPointsMain.add(u)}}}]),a})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function a(s,u,d,g){this.xoffset=s,this.yoffset=u,this.height=g,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(x){var b,S=[],P=this.xoffset,I=this.yoffset,O=r(x)/this.height,H=r(x)/this.width;if(this.width>=this.height)for(b=0;b<x.length;b++)S.push([P,I,P+O,I+x[b]/O]),I+=x[b]/O;else for(b=0;b<x.length;b++)S.push([P,I,P+x[b]/H,I+H]),P+=x[b]/H;return S},this.cutArea=function(x){var b;if(this.width>=this.height){var S=x/this.height,P=this.width-S;b=new a(this.xoffset+S,this.yoffset,P,this.height)}else{var I=x/this.width,O=this.height-I;b=new a(this.xoffset,this.yoffset+I,this.width,O)}return b}}function e(s,u,d,g,x){g=g===void 0?0:g,x=x===void 0?0:x;var b=t((function(S,P){var I,O=[],H=P/r(S);for(I=0;I<S.length;I++)O[I]=S[I]*H;return O})(s,u*d),[],new a(g,x,u,d),[]);return(function(S){var P,I,O=[];for(P=0;P<S.length;P++)for(I=0;I<S[P].length;I++)O.push(S[P][I]);return O})(b)}function t(s,u,d,g){var x,b,S;if(s.length!==0)return x=d.shortestEdge(),(function(P,I,O){var H;if(P.length===0)return!0;(H=P.slice()).push(I);var Q=i(P,O),Y=i(H,O);return Q>=Y})(u,b=s[0],x)?(u.push(b),t(s.slice(1),u,d,g)):(S=d.cutArea(r(u),g),g.push(d.getCoordinates(u)),t(s,[],S,g)),g;g.push(d.getCoordinates(u))}function i(s,u){var d=Math.min.apply(Math,s),g=Math.max.apply(Math,s),x=r(s);return Math.max(Math.pow(u,2)*g/Math.pow(x,2),Math.pow(x,2)/(Math.pow(u,2)*d))}function n(s){return s&&s.constructor===Array}function r(s){var u,d=0;for(u=0;u<s.length;u++)d+=s[u];return d}function o(s){var u,d=0;if(n(s[0]))for(u=0;u<s.length;u++)d+=o(s[u]);else d=r(s);return d}return function s(u,d,g,x,b){x=x===void 0?0:x,b=b===void 0?0:b;var S,P,I=[],O=[];if(n(u[0])){for(P=0;P<u.length;P++)I[P]=o(u[P]);for(S=e(I,d,g,x,b),P=0;P<u.length;P++)O.push(s(u[P],S[P][2]-S[P][0],S[P][3]-S[P][1],S[P][0],S[P][1]))}else O=e(u,d,g,x,b);return O}})();var lY=(function(){function a(e,t){wn(this,a),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new WO(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return bn(a,[{key:"draw",value:function(e){var t=this,i=this.w,n=new vi(this.ctx),r=new Tu(this.ctx),o=n.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var s=[];return e.forEach((function(u){var d=u.map((function(g){return Math.abs(g)}));s.push(d)})),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach((function(u,d){u.data.forEach((function(g){Array.isArray(t.labels[d])||(t.labels[d]=[]),t.labels[d].push(g.x)}))})),window.TreemapSquared.generate(s,i.globals.gridWidth,i.globals.gridHeight).forEach((function(u,d){var g=n.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:Et.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(i.config.chart.dropShadow.enabled){var x=i.config.chart.dropShadow;new Go(t.ctx).dropShadow(o,x,d)}var b=n.group({class:"apexcharts-data-labels"}),S={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};u.forEach((function(Ie,nt){var je=Ie[0],dt=Ie[1],Mt=Ie[2],We=Ie[3];S.xMin=Math.min(S.xMin,je),S.yMin=Math.min(S.yMin,dt),S.xMax=Math.max(S.xMax,Mt),S.yMax=Math.max(S.yMax,We);var Pt=t.helpers.getShadeColor(i.config.chart.type,d,nt,t.negRange),Kt=Pt.color,di=r.fillPath({color:Kt,seriesNumber:d,dataPointIndex:nt}),It=n.drawRect(je,dt,Mt-je,We-dt,i.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?Kt:i.globals.stroke.colors[d]);It.attr({cx:je,cy:dt,index:d,i:d,j:nt,width:Mt-je,height:We-dt,fill:di}),It.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(It);var bt={x:je+(Mt-je)/2,y:dt+(We-dt)/2,width:0,height:0},mt={x:je,y:dt,width:Mt-je,height:We-dt};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var si=1;i.globals.resized||(si=i.config.chart.animations.speed),t.animateTreemap(It,bt,mt,si)}if(i.globals.dataChanged){var gi=1;t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(gi=t.dynamicAnim.speed,i.globals.previousPaths[d]&&i.globals.previousPaths[d][nt]&&i.globals.previousPaths[d][nt].rect&&(bt=i.globals.previousPaths[d][nt].rect),t.animateTreemap(It,bt,mt,gi))}var Vi=t.getFontSize(Ie),Ii=i.config.dataLabels.formatter(t.labels[d][nt],{value:i.globals.series[d][nt],seriesIndex:d,dataPointIndex:nt,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Vi=parseInt(i.config.dataLabels.style.fontSize,10),Ii=t.truncateLabels(Ii,Vi,je,dt,Mt,We));var oi=null;i.globals.series[d][nt]&&(oi=t.helpers.calculateDataLabels({text:Ii,x:(je+Mt)/2,y:(dt+We)/2+t.strokeWidth/2+Vi/3,i:d,j:nt,colorProps:Pt,fontSize:Vi,series:e})),i.config.dataLabels.enabled&&oi&&t.rotateToFitLabel(oi,Vi,Ii,je,dt,Mt,We),g.add(It),oi!==null&&g.add(oi)}));var P=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&P&&P.show){var I=i.config.series[d].name||"";if(I&&S.xMin<1/0&&S.yMin<1/0){var O=P.offsetX,H=P.offsetY,Q=P.borderColor,Y=P.borderWidth,Z=P.borderRadius,J=P.style,re=J.color||i.config.chart.foreColor,q={left:J.padding.left,right:J.padding.right,top:J.padding.top,bottom:J.padding.bottom},ne=n.getTextRects(I,J.fontSize,J.fontFamily),te=ne.width+q.left+q.right,he=ne.height+q.top+q.bottom,ve=S.xMin+(O||0),de=S.yMin+(H||0),be=n.drawRect(ve,de,te,he,Z,J.background,1,Y,Q),De=n.drawText({x:ve+q.left,y:de+q.top+.75*ne.height,text:I,fontSize:J.fontSize,fontFamily:J.fontFamily,fontWeight:J.fontWeight,foreColor:re,cssClass:J.cssClass||""});g.add(be),g.add(De)}}g.add(b),o.add(g)})),o}},{key:"getFontSize",value:function(e){var t=this.w,i=(function n(r){var o,s=0;if(Array.isArray(r[0]))for(o=0;o<r.length;o++)s+=n(r[o]);else for(o=0;o<r.length;o++)s+=r[o].length;return s})(this.labels)/(function n(r){var o,s=0;if(Array.isArray(r[0]))for(o=0;o<r.length;o++)s+=n(r[o]);else for(o=0;o<r.length;o++)s+=1;return s})(this.labels);return(function(n,r){var o=n*r,s=Math.pow(o,.5);return Math.min(s/i,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,i,n,r,o,s){var u=new vi(this.ctx),d=u.getTextRects(i,t);if(d.width+this.w.config.stroke.width+5>o-n&&d.width<=s-r){var g=u.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(g.x," ").concat(g.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,i,n,r,o){var s=new vi(this.ctx),u=s.getTextRects(e,t).width+this.w.config.stroke.width+5>r-i&&o-n>r-i?o-n:r-i,d=s.getTextBasedOnMaxWidth({text:e,maxWidth:u,fontSize:t});return e.length!==d.length&&u/t<5?"":d}},{key:"animateTreemap",value:function(e,t,i,n){var r=new Bg(this.ctx);r.animateRect(e,t,i,n,(function(){r.animationCompleted(e)}))}}]),a})(),YO=86400,cY=10/YO,uY=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return bn(a,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,n=this.w;if(n.globals.allSeriesCollapsed)return n.globals.labels=[],n.globals.timescaleLabels=[],[];var r=new Qo(this.ctx),o=(t-e)/864e5;this.determineInterval(o),n.globals.disableZoomIn=!1,n.globals.disableZoomOut=!1,o<cY?n.globals.disableZoomIn=!0:o>5e4&&(n.globals.disableZoomOut=!0);var s=r.getTimeUnitsfromTimestamp(e,t,this.utc),u=n.globals.gridWidth/o,d=u/24,g=d/60,x=g/60,b=Math.floor(24*o),S=Math.floor(1440*o),P=Math.floor(o*YO),I=Math.floor(o),O=Math.floor(o/30),H=Math.floor(o/365),Q={minMillisecond:s.minMillisecond,minSecond:s.minSecond,minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},Y={firstVal:Q,currentMillisecond:Q.minMillisecond,currentSecond:Q.minSecond,currentMinute:Q.minMinute,currentHour:Q.minHour,currentMonthDate:Q.minDate,currentDate:Q.minDate,currentMonth:Q.minMonth,currentYear:Q.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:d,minutesWidthOnXAxis:g,secondsWidthOnXAxis:x,numberOfSeconds:P,numberOfMinutes:S,numberOfHours:b,numberOfDays:I,numberOfMonths:O,numberOfYears:H};switch(this.tickInterval){case"years":this.generateYearScale(Y);break;case"months":case"half_year":this.generateMonthScale(Y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(Y);break;case"hours":this.generateHourScale(Y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(Y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(Y)}var Z=this.timeScaleArray.map((function(J){var re={position:J.position,unit:J.unit,year:J.year,day:J.day?J.day:1,hour:J.hour?J.hour:0,month:J.month+1};return J.unit==="month"?ji(ji({},re),{},{day:1,value:J.value+1}):J.unit==="day"||J.unit==="hour"?ji(ji({},re),{},{value:J.value}):J.unit==="minute"?ji(ji({},re),{},{value:J.value,minute:J.value}):J.unit==="second"?ji(ji({},re),{},{value:J.value,minute:J.minute,second:J.second}):J}));return Z.filter((function(J){var re=1,q=Math.ceil(n.globals.gridWidth/120),ne=J.value;n.config.xaxis.tickAmount!==void 0&&(q=n.config.xaxis.tickAmount),Z.length>q&&(re=Math.floor(Z.length/q));var te=!1,he=!1;switch(i.tickInterval){case"years":J.unit==="year"&&(te=!0);break;case"half_year":re=7,J.unit==="year"&&(te=!0);break;case"months":re=1,J.unit==="year"&&(te=!0);break;case"months_fortnight":re=15,J.unit!=="year"&&J.unit!=="month"||(te=!0),ne===30&&(he=!0);break;case"months_days":re=10,J.unit==="month"&&(te=!0),ne===30&&(he=!0);break;case"week_days":re=8,J.unit==="month"&&(te=!0);break;case"days":re=1,J.unit==="month"&&(te=!0);break;case"hours":J.unit==="day"&&(te=!0);break;case"minutes_fives":case"seconds_fives":ne%5!=0&&(he=!0);break;case"seconds_tens":ne%10!=0&&(he=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!he)return!0}else if((ne%re==0||te)&&!he)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,n=this.formatDates(e),r=this.removeOverlappingTS(n);i.globals.timescaleLabels=r.slice(),new J_(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,n=e.currentYear,r=e.daysWidthOnXAxis,o=e.numberOfYears,s=t.minYear,u=0,d=new Qo(this.ctx),g="year";if(t.minDate>1||t.minMonth>0){var x=d.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);u=(d.determineDaysOfYear(t.minYear)-x+1)*r,s=t.minYear+1,this.timeScaleArray.push({position:u,value:s,unit:g,year:s,month:Et.monthMod(i+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:u,value:s,unit:g,year:n,month:Et.monthMod(i+1)});for(var b=s,S=u,P=0;P<o;P++)b++,S=d.determineDaysOfYear(b-1)*r+S,this.timeScaleArray.push({position:S,value:b,unit:g,year:b,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,n=e.currentMonth,r=e.currentYear,o=e.daysWidthOnXAxis,s=e.numberOfMonths,u=n,d=0,g=new Qo(this.ctx),x="month",b=0;if(t.minDate>1){d=(g.determineDaysOfMonths(n+1,t.minYear)-i+1)*o,u=Et.monthMod(n+1);var S=r+b,P=Et.monthMod(u),I=u;u===0&&(x="year",I=S,P=1,S+=b+=1),this.timeScaleArray.push({position:d,value:I,unit:x,year:S,month:P})}else this.timeScaleArray.push({position:d,value:u,unit:x,year:r,month:Et.monthMod(n)});for(var O=u+1,H=d,Q=0,Y=1;Q<s;Q++,Y++){(O=Et.monthMod(O))===0?(x="year",b+=1):x="month";var Z=this._getYear(r,O,b);H=g.determineDaysOfMonths(O,Z)*o+H;var J=O===0?Z:O;this.timeScaleArray.push({position:H,value:J,unit:x,year:Z,month:O===0?1:O}),O++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,n=e.currentYear,r=e.hoursWidthOnXAxis,o=e.numberOfDays,s=new Qo(this.ctx),u="day",d=t.minDate+1,g=d,x=function(Y,Z,J){return Y>s.determineDaysOfMonths(Z+1,J)&&(g=1,u="month",S=Z+=1),Z},b=(24-t.minHour)*r,S=d,P=x(g,i,n);t.minHour===0&&t.minDate===1?(b=0,S=Et.monthMod(t.minMonth),u="month",g=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(b=0,d=t.minDate,S=d,P=x(g=d,i,n),S!==1&&(u="day")),this.timeScaleArray.push({position:b,value:S,unit:u,year:this._getYear(n,P,0),month:Et.monthMod(P),day:g});for(var I=b,O=0;O<o;O++){u="day",P=x(g+=1,P,this._getYear(n,P,0));var H=this._getYear(n,P,0);I=24*r+I;var Q=g===1?Et.monthMod(P):g;this.timeScaleArray.push({position:I,value:Q,unit:u,year:H,month:Et.monthMod(P),day:Q})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,n=e.currentMonth,r=e.currentYear,o=e.minutesWidthOnXAxis,s=e.numberOfHours,u=new Qo(this.ctx),d="hour",g=function(re,q){return re>u.determineDaysOfMonths(q+1,r)&&(O=1,q+=1),{month:q,date:O}},x=function(re,q){return re>u.determineDaysOfMonths(q+1,r)?q+=1:q},b=60-(t.minMinute+t.minSecond/60),S=b*o,P=t.minHour+1,I=P;b===60&&(S=0,I=P=t.minHour);var O=i;I>=24&&(I=0,d="day",P=O+=1);var H=g(O,n).month;H=x(O,H),P>31&&(P=O=1),this.timeScaleArray.push({position:S,value:P,unit:d,day:O,hour:I,year:r,month:Et.monthMod(H)}),I++;for(var Q=S,Y=0;Y<s;Y++){d="hour",I>=24&&(I=0,d="day",H=g(O+=1,H).month,H=x(O,H));var Z=this._getYear(r,H,0);Q=60*o+Q;var J=I===0?O:I;this.timeScaleArray.push({position:Q,value:J,unit:d,hour:I,day:O,year:Z,month:Et.monthMod(H)}),I++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,n=e.currentMinute,r=e.currentHour,o=e.currentDate,s=e.currentMonth,u=e.currentYear,d=e.minutesWidthOnXAxis,g=e.secondsWidthOnXAxis,x=e.numberOfMinutes,b=n+1,S=o,P=s,I=u,O=r,H=(60-i-t/1e3)*g,Q=0;Q<x;Q++)b>=60&&(b=0,(O+=1)===24&&(O=0)),this.timeScaleArray.push({position:H,value:b,unit:"minute",hour:O,minute:b,day:S,year:this._getYear(I,P,0),month:Et.monthMod(P)}),H+=d,b++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,n=e.currentMinute,r=e.currentHour,o=e.currentDate,s=e.currentMonth,u=e.currentYear,d=e.secondsWidthOnXAxis,g=e.numberOfSeconds,x=i+1,b=n,S=o,P=s,I=u,O=r,H=(1e3-t)/1e3*d,Q=0;Q<g;Q++)x>=60&&(x=0,++b>=60&&(b=0,++O===24&&(O=0))),this.timeScaleArray.push({position:H,value:x,unit:"second",hour:O,minute:b,second:x,day:S,year:this._getYear(I,P,0),month:Et.monthMod(P)}),H+=d,x++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return e.month===0&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?i+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":i+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?i+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":i+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?i+=":"+("0"+t).slice(-2):i+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?i+=":"+("0"+t).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map((function(n){var r=n.value.toString(),o=new Qo(t.ctx),s=t.createRawDateString(n,r),u=o.getDate(o.parseDate(s));if(t.utc||(u=o.getDate(o.parseDateWithTimezone(s))),i.config.xaxis.labels.format===void 0){var d="dd MMM",g=i.config.xaxis.labels.datetimeFormatter;n.unit==="year"&&(d=g.year),n.unit==="month"&&(d=g.month),n.unit==="day"&&(d=g.day),n.unit==="hour"&&(d=g.hour),n.unit==="minute"&&(d=g.minute),n.unit==="second"&&(d=g.second),r=o.formatDate(u,d)}else r=o.formatDate(u,i.config.xaxis.labels.format);return{dateString:s,position:n.position,value:r,unit:n.unit,year:n.year,month:n.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,i=this,n=new vi(this.ctx),r=!1;e.length>0&&e[0].value&&e.every((function(u){return u.value.length===e[0].value.length}))&&(r=!0,t=n.getTextRects(e[0].value).width);var o=0,s=e.map((function(u,d){if(d>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var g=r?t:n.getTextRects(e[o].value).width,x=e[o].position;return u.position>x+g+10?(o=d,u):null}return u}));return s=s.filter((function(u){return u!==null}))}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),a})(),hY=(function(){function a(e,t){wn(this,a),this.ctx=t,this.w=t.w,this.el=e}return bn(a,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,i=e.config,n=i.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(n),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(n),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(n)&&i.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),vi.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),t.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),vi.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,n=this.ctx,r=i.config,o=i.globals,s={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},u=r.chart.type||"line",d=null,g=0;o.series.forEach((function(re,q){var ne,te,he=((ne=e[q])===null||ne===void 0?void 0:ne.type)==="column"?"bar":((te=e[q])===null||te===void 0?void 0:te.type)||(u==="column"?"bar":u);s[he]?(he==="rangeArea"?(s[he].series.push(o.seriesRangeStart[q]),s[he].seriesRangeEnd.push(o.seriesRangeEnd[q])):s[he].series.push(re),s[he].i.push(q),he==="bar"&&(i.globals.columnSeries=s.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(he)?d=he:console.warn("You have specified an unrecognized series type (".concat(he,").")),u!==he&&he!=="scatter"&&g++})),g>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),s.bar.series.length>0&&r.plotOptions.bar.horizontal&&(g-=s.bar.series.length,s.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=g>0);var x=new S1(n,t),b=new b1(n,t);n.pie=new XO(n);var S=new iY(n);n.rangeBar=new nY(n,t);var P=new tY(n),I=[];if(o.comboCharts){var O,H,Q=new Hs(n);if(s.area.series.length>0&&(O=I).push.apply(O,yo(Q.drawSeriesByGroup(s.area,o.areaGroups,"area",x))),s.bar.series.length>0)if(r.chart.stacked){var Y=new wL(n,t);I.push(Y.draw(s.bar.series,s.bar.i))}else n.bar=new vg(n,t),I.push(n.bar.draw(s.bar.series,s.bar.i));if(s.rangeArea.series.length>0&&I.push(x.draw(s.rangeArea.series,"rangeArea",s.rangeArea.i,s.rangeArea.seriesRangeEnd)),s.line.series.length>0&&(H=I).push.apply(H,yo(Q.drawSeriesByGroup(s.line,o.lineGroups,"line",x))),s.candlestick.series.length>0&&I.push(b.draw(s.candlestick.series,"candlestick",s.candlestick.i)),s.boxPlot.series.length>0&&I.push(b.draw(s.boxPlot.series,"boxPlot",s.boxPlot.i)),s.rangeBar.series.length>0&&I.push(n.rangeBar.draw(s.rangeBar.series,s.rangeBar.i)),s.scatter.series.length>0){var Z=new S1(n,t,!0);I.push(Z.draw(s.scatter.series,"scatter",s.scatter.i))}if(s.bubble.series.length>0){var J=new S1(n,t,!0);I.push(J.draw(s.bubble.series,"bubble",s.bubble.i))}}else switch(r.chart.type){case"line":I=x.draw(o.series,"line");break;case"area":I=x.draw(o.series,"area");break;case"bar":r.chart.stacked?I=new wL(n,t).draw(o.series):(n.bar=new vg(n,t),I=n.bar.draw(o.series));break;case"candlestick":I=new b1(n,t).draw(o.series,"candlestick");break;case"boxPlot":I=new b1(n,t).draw(o.series,r.chart.type);break;case"rangeBar":I=n.rangeBar.draw(o.series);break;case"rangeArea":I=x.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":I=new eY(n,t).draw(o.series);break;case"treemap":I=new lY(n,t).draw(o.series);break;case"pie":case"donut":case"polarArea":I=n.pie.draw(o.series);break;case"radialBar":I=S.draw(o.series);break;case"radar":I=P.draw(o.series);break;default:I=x.draw(o.series)}return I}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,i=e.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",t.svgWidth=i.chart.width,t.svgHeight=i.chart.height;var n=Et.getDimensions(this.el),r=i.chart.width.toString().split(/[0-9]+/g).pop();r==="%"?Et.isNumber(n[0])&&(n[0].width===0&&(n=Et.getDimensions(this.el.parentNode)),t.svgWidth=n[0]*parseInt(i.chart.width,10)/100):r!=="px"&&r!==""||(t.svgWidth=parseInt(i.chart.width,10));var o=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var s=Et.getDimensions(this.el.parentNode);t.svgHeight=s[1]*parseInt(i.chart.height,10)/100}else t.svgHeight=parseInt(i.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),vi.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var u=i.chart.sparkline.enabled?0:t.axisCharts?i.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+u,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,i=e.translateX;vi.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,n=e.config.chart.sparkline.enabled?1:15;n+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(i=new QO(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var s=Et.getBoundingClientRect(r);o=s.bottom;var u=s.bottom-s.top;o=Math.max(2.05*e.globals.radialSize,u)}var d=Math.ceil(o+t.translateY+i+n);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",d),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(d,"px"),vi.setAttrs(t.dom.Paper.node,{height:d}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new ZC(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},i=new OO,n=this.w.globals,r={dataWasParsed:n.dataWasParsed,originalSeries:n.originalSeries};i.initGlobalVars(n),n.seriesXvalues=t(),n.seriesYvalues=t(),r.dataWasParsed&&(n.dataWasParsed=r.dataWasParsed,n.originalSeries=r.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new JC(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new JC(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new uY(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new Hs(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var n=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];n.forEach((function(r){var o=t.constructor.getChartByID(r);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})})),i.config.chart.events.selection=function(r,o){n.forEach((function(s){t.constructor.getChartByID(s).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)}))}}}}]),a})(),dY=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(s){var u=[t.ctx];r&&(u=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(u=[t.ctx],t.ctx.w.globals.isExecCalled=!1),u.forEach((function(d,g){var x=d.w;if(x.globals.shouldAnimate=n,i||(x.globals.resized=!0,x.globals.dataChanged=!0,n&&d.series.getPreviousPaths()),e&&El(e)==="object"&&(d.config=new H0(e),e=Hs.extendArrayProps(d.config,e,x),d.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,x.config=Et.extend(x.config,e),o&&(x.globals.lastXAxis=e.xaxis?Et.clone(e.xaxis):[],x.globals.lastYAxis=e.yaxis?Et.clone(e.yaxis):[],x.globals.initialConfig=Et.extend({},x.config),x.globals.initialSeries=Et.clone(x.config.series),e.series))){for(var b=0;b<x.globals.collapsedSeriesIndices.length;b++){var S=x.config.series[x.globals.collapsedSeriesIndices[b]];x.globals.collapsedSeries[b].data=x.globals.axisCharts?S.data.slice():S}for(var P=0;P<x.globals.ancillaryCollapsedSeriesIndices.length;P++){var I=x.config.series[x.globals.ancillaryCollapsedSeriesIndices[P]];x.globals.ancillaryCollapsedSeries[P].data=x.globals.axisCharts?I.data.slice():I}d.series.emptyCollapsedSeries(x.config.series)}return d.update(e).then((function(){g===u.length-1&&s(d)}))}))}))}},{key:"_updateSeries",value:function(e,t){var i=this,n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(r){var o=i.w;return o.globals.shouldAnimate=t,o.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),i.ctx.data.resetParsingFlags(),i.ctx.data.parseData(e),n&&(o.globals.initialConfig.series=Et.clone(o.config.series),o.globals.initialSeries=Et.clone(o.config.series)),i.ctx.update().then((function(){r(i.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var i=this.w,n=i.config.series[t];return ji(ji({},i.config.series[t]),{},{name:e.name?e.name:n?.name,color:e.color?e.color:n?.color,type:e.type?e.type:n?.type,group:e.group?e.group:n?.group,hidden:e.hidden!==void 0?e.hidden:n?.hidden,data:e.data?e.data:n?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,n=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?n=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")):t===void 0&&(n=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(e,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),n?(new vi(this.ctx).pathMouseDown(n,null),n.node?n.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(n){e.xaxis[n]!==void 0&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new z0(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,i){e.yaxis[i].min=0,e.yaxis[i].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,n=i.globals.lastXAxis,r=i.globals.lastYAxis;e&&e.xaxis&&(n=e.xaxis),e&&e.yaxis&&(r=e.yaxis),i.config.xaxis.min=n.min,i.config.xaxis.max=n.max;var o=function(s){r[s]!==void 0&&(i.config.yaxis[s].min=r[s].min,i.config.yaxis[s].max=r[s].max)};i.config.yaxis.map((function(s,u){i.globals.zoomed||r[u]!==void 0?o(u):t.ctx.opts.yaxis[u]!==void 0&&(s.min=t.ctx.opts.yaxis[u].min,s.max=t.ctx.opts.yaxis[u].max)}))}}]),a})();(function(){function a(){for(var r=arguments.length>0&&arguments[0]!==x?arguments[0]:[],o=arguments.length>1?arguments[1]:x,s=arguments.length>2?arguments[2]:x,u=arguments.length>3?arguments[3]:x,d=arguments.length>4?arguments[4]:x,g=arguments.length>5?arguments[5]:x,x=arguments.length>6?arguments[6]:x,b=r.slice(o,s||x),S=u.slice(d,g||x),P=0,I={pos:[0,0],start:[0,0]},O={pos:[0,0],start:[0,0]};b[P]=e.call(I,b[P]),S[P]=e.call(O,S[P]),b[P][0]!=S[P][0]||b[P][0]=="M"||b[P][0]=="A"&&(b[P][4]!=S[P][4]||b[P][5]!=S[P][5])?(Array.prototype.splice.apply(b,[P,1].concat(i.call(I,b[P]))),Array.prototype.splice.apply(S,[P,1].concat(i.call(O,S[P])))):(b[P]=t.call(I,b[P]),S[P]=t.call(O,S[P])),!(++P==b.length&&P==S.length);)P==b.length&&b.push(["C",I.pos[0],I.pos[1],I.pos[0],I.pos[1],I.pos[0],I.pos[1]]),P==S.length&&S.push(["C",O.pos[0],O.pos[1],O.pos[0],O.pos[1],O.pos[0],O.pos[1]]);return{start:b,dest:S}}function e(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var o=r.length;return this.pos=[r[o-2],r[o-1]],"SCQT".indexOf(r[0])!=-1&&(this.reflection=[2*this.pos[0]-r[o-4],2*this.pos[1]-r[o-3]]),r}function i(r){var o=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],o;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":o=(function(s,u){var d,g,x,b,S,P,I,O,H,Q,Y,Z,J,re,q,ne,te,he,ve,de,be,De,Ie,nt,je,dt,Mt=Math.abs(u[1]),We=Math.abs(u[2]),Pt=u[3]%360,Kt=u[4],di=u[5],It=u[6],bt=u[7],mt=new ur(s),si=new ur(It,bt),gi=[];if(Mt===0||We===0||mt.x===si.x&&mt.y===si.y)return[["C",mt.x,mt.y,si.x,si.y,si.x,si.y]];for(d=new ur((mt.x-si.x)/2,(mt.y-si.y)/2).transform(new Yn().rotate(Pt)),g=d.x*d.x/(Mt*Mt)+d.y*d.y/(We*We),g>1&&(Mt*=g=Math.sqrt(g),We*=g),x=new Yn().rotate(Pt).scale(1/Mt,1/We).rotate(-Pt),mt=mt.transform(x),si=si.transform(x),b=[si.x-mt.x,si.y-mt.y],P=b[0]*b[0]+b[1]*b[1],S=Math.sqrt(P),b[0]/=S,b[1]/=S,I=P<4?Math.sqrt(1-P/4):0,Kt===di&&(I*=-1),O=new ur((si.x+mt.x)/2+I*-b[1],(si.y+mt.y)/2+I*b[0]),H=new ur(mt.x-O.x,mt.y-O.y),Q=new ur(si.x-O.x,si.y-O.y),Y=Math.acos(H.x/Math.sqrt(H.x*H.x+H.y*H.y)),H.y<0&&(Y*=-1),Z=Math.acos(Q.x/Math.sqrt(Q.x*Q.x+Q.y*Q.y)),Q.y<0&&(Z*=-1),di&&Y>Z&&(Z+=2*Math.PI),!di&&Y<Z&&(Z-=2*Math.PI),re=Math.ceil(2*Math.abs(Y-Z)/Math.PI),ne=[],te=Y,J=(Z-Y)/re,q=4*Math.tan(J/4)/3,be=0;be<=re;be++)ve=Math.cos(te),he=Math.sin(te),de=new ur(O.x+ve,O.y+he),ne[be]=[new ur(de.x+q*he,de.y-q*ve),de,new ur(de.x-q*he,de.y+q*ve)],te+=J;for(ne[0][0]=ne[0][1].clone(),ne[ne.length-1][2]=ne[ne.length-1][1].clone(),x=new Yn().rotate(Pt).scale(Mt,We).rotate(-Pt),be=0,De=ne.length;be<De;be++)ne[be][0]=ne[be][0].transform(x),ne[be][1]=ne[be][1].transform(x),ne[be][2]=ne[be][2].transform(x);for(be=1,De=ne.length;be<De;be++)Ie=(de=ne[be-1][2]).x,nt=de.y,je=(de=ne[be][0]).x,dt=de.y,It=(de=ne[be][1]).x,bt=de.y,gi.push(["C",Ie,nt,je,dt,It,bt]);return gi})(this.pos,r),r=o[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],o}function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var s=o,u=r.length;s<u;++s)if(r[s][0]=="M")return s;return!1}la(Eu,{morph:function(r,o,s,u,d){for(var g=this.parse(r),x=this.parse(o),b=0,S=0,P=!1,I=!1;b!==!1||S!==!1;){var O;P=n(g,b!==!1&&b+1),I=n(x,S!==!1&&S+1),b===!1&&(b=(O=new Eu(H.start).bbox()).height==0||O.width==0?g.push(g[0])-1:g.push(["M",O.x+O.width/2,O.y+O.height/2])-1),S===!1&&(S=(O=new Eu(H.dest).bbox()).height==0||O.width==0?x.push(x[0])-1:x.push(["M",O.x+O.width/2,O.y+O.height/2])-1);var H=a(g,b,P,x,S,I);g=g.slice(0,b).concat(H.start,P===!1?[]:g.slice(P)),x=x.slice(0,S).concat(H.dest,I===!1?[]:x.slice(I)),b=P!==!1&&b+H.start.length,S=I!==!1&&S+H.dest.length}this._array=g,this.destination=new Eu,this.destination._array=x;var Q=this.fromArray(g.map((function(Y,Z){var J=x[Z].map((function(re,q){return q===0?re:u.step(Y[q],x[Z][q],s,d[Z],d)}));return J})));return Q}})})();const bL=a=>(a.changedTouches&&(a=a.changedTouches[0]),{x:a.clientX,y:a.clientY});class fY{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(bL(e));const i=(t?"mouseup":"touchend")+".drag";ud(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),ud(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:i}=this,n=this.el.point(bL(e)),r=n.x-i.x,o=n.y-i.y;if(!r&&!o)return t;const s=t.x+r,u=t.y+o;this.box=new zs(s,u,t.w,t.h),this.lastClick=n,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(s,u)}move(e,t){this.el.type==="svg"?tf.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),iu(window,"mousemove.drag"),iu(window,"touchmove.drag"),iu(window,"mouseup.drag"),iu(window,"touchend.drag"),this.init(!0)}}function eS(a,e,t,i=null){return function(n){n.preventDefault(),n.stopPropagation();var r=n.pageX||n.touches[0].pageX,o=n.pageY||n.touches[0].pageY;e.fire(a,{x:r,y:o,event:n,index:i,points:t})}}function tS([a,e],{a:t,b:i,c:n,d:r,e:o,f:s}){return[a*t+e*n+o,a*i+e*r+s]}la($o,{draggable(a=!0){return(this.remember("_draggable")||new fY(this)).init(a),this}});let KO=class{constructor(a){this.el=a,a.remember("_selectHandler",this),this.selection=new tf,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=iy();this.observer=new e.MutationObserver(this.mutationHandler)}init(a){this.createHandle=a.createHandle||this.createHandleFn,this.createRot=a.createRot||this.createRotFn,this.updateHandle=a.updateHandle||this.updateHandleFn,this.updateRot=a.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(a,e){if(!a)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((a,e,t)=>{const i=this.order[e];this.createHandle.call(this,this.selection,a,e,t,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",eS(i,this.el,this.handlePoints,e))}))}createHandleFn(a){a.polyline()}updateHandleFn(a,e,t,i){const n=i.at(t-1),r=i[(t+1)%i.length],o=e,s=[o[0]-n[0],o[1]-n[1]],u=[o[0]-r[0],o[1]-r[1]],d=Math.sqrt(s[0]*s[0]+s[1]*s[1]),g=Math.sqrt(u[0]*u[0]+u[1]*u[1]),x=[s[0]/d,s[1]/d],b=[u[0]/g,u[1]/g],S=[o[0]-10*x[0],o[1]-10*x[1]],P=[o[0]-10*b[0],o[1]-10*b[1]];a.plot([S,o,P])}updateResizeHandles(){this.handlePoints.forEach(((a,e,t)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),a,e,t,i)}))}createRotFn(a){a.line(),a.circle(5)}getPoint(a){return this.handlePoints[this.order.indexOf(a)]}getPointHandle(a){return this.selection.get(this.order.indexOf(a)+1)}updateRotFn(a,e){const t=this.getPoint("t");a.get(0).plot(t[0],t[1],e[0],e[1]),a.get(1).center(e[0],e[1])}createRotationHandle(){const a=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",eS("rot",this.el,this.handlePoints));this.createRot.call(this,a)}updateRotationHandle(){const a=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(a,this.rotationPoint,this.handlePoints)}updatePoints(){const a=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(a).map((t=>tS(t,e))),this.rotationPoint=tS(this.getRotationPoint(a),e)}getHandlePoints({x:a,x2:e,y:t,y2:i,cx:n,cy:r}=this.el.bbox()){return[[a,t],[n,t],[e,t],[e,r],[e,i],[n,i],[a,i],[a,r]]}getRotationPoint({y:a,cx:e}=this.el.bbox()){return[e,a-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const CL=a=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+a.name);return i||(e.prototype instanceof KO?(i=new e(this),e=!0):i=new a(this),this.remember("_"+a.name,i)),i.active(e,t),this};function iS(a,e,t,i=null){return function(n){n.preventDefault(),n.stopPropagation();var r=n.pageX||n.touches[0].pageX,o=n.pageY||n.touches[0].pageY;e.fire(a,{x:r,y:o,event:n,index:i,points:t})}}function nS([a,e],{a:t,b:i,c:n,d:r,e:o,f:s}){return[a*t+e*n+o,a*i+e*r+s]}la($o,{select:CL(KO)}),la([hA,dA,uA],{pointSelect:CL(class{constructor(a){this.el=a,a.remember("_pointSelectHandler",this),this.selection=new tf,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=iy();this.observer=new e.MutationObserver(this.mutationHandler)}init(a){this.createHandle=a.createHandle||this.createHandleFn,this.updateHandle=a.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(a,e){if(!a)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((a,e,t)=>{this.createHandle.call(this,this.selection,a,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",eS("point",this.el,this.points,e))}))}createHandleFn(a){a.circle(5)}updateHandleFn(a,e){a.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((a,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),a,e,t)}))}updatePoints(){const a=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>tS(e,a)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class qO{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new tf,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=iy();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,i)=>{const n=this.order[t];this.createHandle.call(this,this.selection,e,t,i,n),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+n).on("mousedown.selection touchstart.selection",iS(n,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,i,n){const r=n.at(i-1),o=n[(i+1)%n.length],s=t,u=[s[0]-r[0],s[1]-r[1]],d=[s[0]-o[0],s[1]-o[1]],g=Math.sqrt(u[0]*u[0]+u[1]*u[1]),x=Math.sqrt(d[0]*d[0]+d[1]*d[1]),b=[u[0]/g,u[1]/g],S=[d[0]/x,d[1]/x],P=[s[0]-10*b[0],s[1]-10*b[1]],I=[s[0]-10*S[0],s[1]-10*S[1]];e.plot([P,s,I])}updateResizeHandles(){this.handlePoints.forEach(((e,t,i)=>{const n=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,i,n)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const i=this.getPoint("t");e.get(0).plot(i[0],i[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",iS("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((i=>nS(i,t))),this.rotationPoint=nS(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:i,y2:n,cx:r,cy:o}=this.el.bbox()){return[[e,i],[r,i],[t,i],[t,o],[t,n],[r,n],[e,n],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const SL=a=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+a.name);return i||(e.prototype instanceof qO?(i=new e(this),e=!0):i=new a(this),this.remember("_"+a.name,i)),i.active(e,t),this};la($o,{select:SL(qO)}),la([hA,dA,uA],{pointSelect:SL(class{constructor(a){this.el=a,a.remember("_pointSelectHandler",this),this.selection=new tf,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=iy();this.observer=new e.MutationObserver(this.mutationHandler)}init(a){this.createHandle=a.createHandle||this.createHandleFn,this.updateHandle=a.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(a,e){if(!a)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((a,e,t)=>{this.createHandle.call(this,this.selection,a,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",iS("point",this.el,this.points,e))}))}createHandleFn(a){a.circle(5)}updateHandleFn(a,e){a.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((a,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),a,e,t)}))}updatePoints(){const a=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>nS(e,a)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Hx=a=>(a.changedTouches&&(a=a.changedTouches[0]),{x:a.clientX,y:a.clientY}),BL=a=>{let e=1/0,t=1/0,i=-1/0,n=-1/0;for(let r=0;r<a.length;r++){const o=a[r];e=Math.min(e,o[0]),t=Math.min(t,o[1]),i=Math.max(i,o[0]),n=Math.max(n,o[1])}return new zs(e,t,i-e,n-t)};class EL{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:i,points:n}=e.detail,r=!t.type.indexOf("mouse");if(r&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Hx(t)),this.index=i,this.points=n.slice();const o=(r?"mousemove":"touchmove")+".resize",s=(r?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?ud(window,o,this.movePoint):e.type==="rot"?ud(window,o,this.rotate):ud(window,o,this.resize),ud(window,s,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Hx(e)));let i=t.x-this.startPoint.x,n=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,n*=2);const r=this.box.x+i,o=this.box.y+n,s=this.box.x2+i,u=this.box.y2+n;let d=new zs(this.box);if(this.eventType.includes("l")&&(d.x=Math.min(r,this.box.x2),d.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(d.x=Math.min(s,this.box.x),d.x2=Math.max(s,this.box.x)),this.eventType.includes("t")&&(d.y=Math.min(o,this.box.y2),d.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(d.y=Math.min(u,this.box.y),d.y2=Math.max(u,this.box.y)),d.width=d.x2-d.x,d.height=d.y2-d.y,this.preserveAspectRatio){const g=d.width/this.box.width,x=d.height/this.box.height,b=["lt","t","rt","r","rb","b","lb","l"],S=(b.indexOf(this.eventType)+4)%b.length,P=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[S];let I=this.eventType.includes("t")||this.eventType.includes("b")?x:g;I=this.eventType.length===2?Math.max(g,x):I,d=(function(O,H,Q){const Y=[[O.x,O.y],[O.x+O.width,O.y],[O.x+O.width,O.y+O.height],[O.x,O.y+O.height]].map((([Z,J])=>{const re=Z-H[0],q=(J-H[1])*Q;return[re*Q+H[0],q+H[1]]}));return BL(Y)})(this.box,P,I)}this.el.dispatch("resize",{box:new zs(d),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(d.width,d.height).move(d.x,d.y)}movePoint(e){this.lastEvent=e;const{x:t,y:i}=this.snapToGrid(this.el.point(Hx(e))),n=this.el.array().slice();n[this.index]=[t,i],this.el.dispatch("resize",{box:BL(n),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(n)}rotate(e){this.lastEvent=e;const t=this.startPoint,i=this.el.point(Hx(e)),{cx:n,cy:r}=this.box,o=t.x-n,s=t.y-r,u=i.x-n,d=i.y-r,g=Math.sqrt(o*o+s*s)*Math.sqrt(u*u+d*d);if(g===0)return;let x=Math.acos((o*u+s*d)/g)/Math.PI*180;if(!x)return;i.x<t.x&&(x=-x);const b=new Yn(this.el),{x:S,y:P}=new ur(n,r).transformO(b),{rotate:I}=b.decompose(),O=this.snapToAngle(I+x)-I;this.el.dispatch("resize",{box:this.box,angle:O,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(b.rotateO(O,S,P))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",iu(window,"mousemove.resize touchmove.resize"),iu(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}la($o,{resize:function(a=!0,e={}){typeof a=="object"&&(e=a,a=!0);let t=this.remember("_ResizeHandler");return t||(a.prototype instanceof EL?(t=new a(this),a=!0):t=new EL(this),this.remember("_resizeHandler",t)),t.active(a,e),this}}),window.SVG===void 0&&(window.SVG=kX),window.Apex===void 0&&(window.Apex={});var kL=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Bg(this.ctx),this.ctx.axes=new UX(this.ctx),this.ctx.core=new hY(this.ctx.el,this.ctx),this.ctx.config=new H0({}),this.ctx.data=new H2(this.ctx),this.ctx.grid=new zO(this.ctx),this.ctx.graphics=new vi(this.ctx),this.ctx.coreUtils=new Hs(this.ctx),this.ctx.crosshairs=new JC(this.ctx),this.ctx.events=new RX(this.ctx),this.ctx.exports=new g0(this.ctx),this.ctx.fill=new Tu(this.ctx),this.ctx.localization=new OX(this.ctx),this.ctx.options=new nA,this.ctx.responsive=new NX(this.ctx),this.ctx.series=new au(this.ctx),this.ctx.theme=new zX(this.ctx),this.ctx.formatters=new ry(this.ctx),this.ctx.titleSubtitle=new HX(this.ctx),this.ctx.legend=new QO(this.ctx),this.ctx.toolbar=new jO(this.ctx),this.ctx.tooltip=new vL(this.ctx),this.ctx.dimensions=new J_(this.ctx),this.ctx.updateHelpers=new dY(this.ctx),this.ctx.zoomPanSelection=new $X(this.ctx),this.ctx.w.globals.tooltip=new vL(this.ctx)}}]),a})(),TL=(function(){function a(e){wn(this,a),this.ctx=e,this.w=e.w}return bn(a,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,i=e.isUpdating,n=this.w.globals.dom.Paper.node;n.parentNode&&n.parentNode.parentNode&&!i&&(n.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach((function(s){r.removeEventListener(s,t.ctx.events.documentEvent)}));var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),a})(),B1=new WeakMap,Os=(function(){function a(e,t){wn(this,a),this.opts=t,this.ctx=this,this.w=new DX(t).init(),this.el=e,this.w.globals.cuid=Et.randomId(),this.w.globals.chartID=this.w.config.chart.id?Et.escapeString(this.w.config.chart.id):this.w.globals.cuid,new kL(this).initModules(),this.lastUpdateOptions=null,this.create=Et.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return bn(a,[{key:"render",value:function(){var e=this;return new Promise((function(t,i){if(Et.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var n=e.w.config.chart.events.beforeMount;typeof n=="function"&&n(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(b,S){var P=!1;if(b.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var I=b.getBoundingClientRect();b.style.display!=="none"&&I.width!==0||(P=!0)}var O=new ResizeObserver((function(H){P&&S.call(b,H),P=!0}));b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(b.children).forEach((function(H){return O.observe(H)})):O.observe(b),B1.set(S,O)})(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),o=Et.is("ShadowRoot",r),s=e.el.ownerDocument,u=o?r.getElementById("apexcharts-css"):s.getElementById("apexcharts-css");if(!u){var d;(u=document.createElement("style")).id="apexcharts-css",u.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var g=((d=e.opts.chart)===null||d===void 0?void 0:d.nonce)||e.w.config.chart.nonce;g&&u.setAttribute("nonce",g),o?r.prepend(u):e.w.config.chart.injectStyleSheet!==!1&&s.head.appendChild(u)}var x=e.create(e.w.config.series,{});if(!x)return t(e);e.mount(x).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(x)})).catch((function(b){i(b)}))}else i(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var i=this,n=this.w;new kL(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,!Et.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),n.config.xaxis.convertedCatToNumeric&&new z0(n.config).convertCatToNumericXaxis(n.config,this.ctx),this.core.setupElements(),n.config.chart.type==="treemap"&&(n.config.grid.show=!1,n.config.yaxis[0].show=!1),r.svgWidth===0))return r.animationEnded=!0,null;var o=e;e.forEach((function(b,S){b.hidden&&(o=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:S}))}));var s=Hs.checkComboSeries(o,n.config.chart.type);r.comboCharts=s.comboCharts,r.comboBarCount=s.comboBarCount;var u=o.every((function(b){return b.data&&b.data.length===0}));(o.length===0||u&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Ig(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!n.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),n.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=n.globals.minX,this.ctx.toolbar.maxX=n.globals.maxX),this.formatters.heatmapLabelFormatters(),new Hs(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(o,d),x=new _g(this);return x.bringForward(),n.config.dataLabels.background.enabled&&x.dataLabelsBackground(),this.core.shiftGraphPosition(),n.globals.dataPoints>50&&n.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:g,xyRatios:d,dimensions:{plot:{left:n.globals.translateX,top:n.globals.translateY,width:n.globals.gridWidth,height:n.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,n=i.w;return new Promise((function(r,o){if(i.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||n.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new zO(i);var s,u,d=i.grid.drawGrid();if(i.annotations=new PX(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),n.config.grid.position==="back"&&(d&&n.globals.dom.elGraphical.add(d.el),d!=null&&(s=d.elGridBorders)!==null&&s!==void 0&&s.node&&n.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(t.elGraph))for(var g=0;g<t.elGraph.length;g++)n.globals.dom.elGraphical.add(t.elGraph[g]);else n.globals.dom.elGraphical.add(t.elGraph);n.config.grid.position==="front"&&(d&&n.globals.dom.elGraphical.add(d.el),d!=null&&(u=d.elGridBorders)!==null&&u!==void 0&&u.node&&n.globals.dom.elGraphical.add(d.elGridBorders)),n.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),n.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),n.config.chart.type!=="treemap"&&i.axes.drawAxis(n.config.chart.type,d);var x=new Q0(e.ctx,d),b=new Q2(e.ctx,d);if(d!==null&&(x.xAxisLabelCorrections(d.xAxisTickWidth),b.setYAxisTextAlignments(),n.config.yaxis.map((function(P,I){n.globals.ignoreYAxisIndexes.indexOf(I)===-1&&b.yAxisTitleRotate(I,P.opposite)}))),i.annotations.drawAxesAnnotations(),!n.globals.noData){if(n.config.tooltip.enabled&&!n.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),n.globals.axisCharts&&(n.globals.isXNumeric||n.config.xaxis.convertedCatToNumeric||n.globals.isRangeBar))(n.config.chart.zoom.enabled||n.config.chart.selection&&n.config.chart.selection.enabled||n.config.chart.pan&&n.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var S=n.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(P){S[P]=!1}))}n.config.chart.toolbar.show&&!n.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}n.globals.memory.methodsToExec.length>0&&n.globals.memory.methodsToExec.forEach((function(P){P.method(P.params,!1,P.context)})),n.globals.axisCharts||n.globals.noData||i.core.resizeNonAxisCharts(),r(i)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,i){var n=B1.get(i);n&&(n.disconnect(),B1.delete(i))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,i){t.id===Et.escapeString(e)&&Apex._chartInstances.splice(i,1)})),new TL(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],s=this.w;return s.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(u,d){return t.updateHelpers._extendSeries(u,d)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),s.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,n,r,o))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var n=this.w.config.series.slice();return n.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.data.resetParsingFlags(),i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var n=i.w.config.series.slice(),r=0;r<n.length;r++)if(e[r]!==null&&e[r]!==void 0)for(var o=0;o<e[r].data.length;o++)n[r].data.push(e[r].data[o]);return i.w.config.series=n,t&&(i.w.globals.initialSeries=Et.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(i,n){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return i(t);t.lastUpdateOptions=Et.clone(e),new TL(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return i(t);t.mount(r).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)})).catch((function(o){n(o)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(i){t.push(i)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addXaxisAnnotationExternal(e,t,n)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addYaxisAnnotationExternal(e,t,n)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=this;i&&(n=i),n.annotations.addPointAnnotationExternal(e,t,n)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ZC(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new ZC(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new g0(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new g0(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new g0(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=Et.escapeString(e);if(Apex._chartInstances){var i=Apex._chartInstances.filter((function(n){return n.id===t}))[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new a(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var n=null;if(i.publicMethods.indexOf(t)!==-1){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];n=i[t].apply(i,o)}return n}}},{key:"merge",value:function(e,t){return Et.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),a})();const Su={blue:"#3b82f6",emerald:"#10b981",amber:"#f59e0b",red:"#ef4444",violet:"#8b5cf6",pink:"#ec4899",teal:"#14b8a6"},AY=[Su.blue,Su.emerald,Su.amber,Su.red,Su.violet,Su.pink,Su.teal];function d_(a){return a>=1e9?"Rp "+(a/1e9).toFixed(1)+"M":a>=1e6?"Rp "+(a/1e6).toFixed(1)+"jt":a>=1e3?"Rp "+(a/1e3).toFixed(0)+"rb":"Rp "+a}function f_(a){return"Rp "+Number(a).toLocaleString("id-ID")}const ZO={"1H":1,"1M":7,"1B":30,"1T":365},JO={"1H":"Hari ini","1M":"7 hari terakhir","1B":"30 hari terakhir","1T":"1 tahun terakhir"};let ad=null,rd=null,aA=null,Wp=null,$p=null,Xp=!1,ev=[],aS=[],rS=[],tv=[],j2=[],V2=[];function G2(){[ad,rd,aA,Wp,$p].forEach(a=>{a&&a.destroy()}),ad=rd=aA=Wp=$p=null}function pY(){if(Xp){console.log("Financial charts initialization already in progress, skipping...");return}Xp=!0,G2();const a=window.__financialData;if(!a){Xp=!1;return}ev=a.chartLabels||a.dailyLabels||[],aS=(a.chartRevenue||a.dailyRevenue||[]).map(Number),rS=(a.chartTickets||a.dailyCounts||[]).map(Number),tv=a.monthlyLabels||[],j2=(a.monthlyRevenue||[]).map(Number),V2=(a.monthlyTickets||[]).map(Number),console.log("Financial Charts Init:",{labelsLen:ev.length,revLen:aS.length,txLen:rS.length,monthlyLen:tv.length});try{gY(),mY(),yY(a),xY(a),console.log("Financial charts initialized successfully")}catch(e){console.error("Error initializing financial charts:",e)}finally{setTimeout(()=>{Xp=!1},100)}}function Pv(a){const e=ev.length,t=Math.max(0,e-a);return{labels:ev.slice(t),revenue:aS.slice(t),tickets:rS.slice(t)}}function e3({seriesName:a,data:e,labels:t,color:i,yFormatter:n,tooltipFormatter:r,height:o}){return{series:[{name:a,data:e}],chart:{type:"area",height:o||260,fontFamily:"'Inter', 'Segoe UI', sans-serif",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,easing:"easeinout",speed:700,animateGradually:{enabled:!0,delay:80},dynamicAnimation:{enabled:!0,speed:350}},dropShadow:{enabled:!0,top:2,left:0,blur:5,color:i,opacity:.1}},colors:[i],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,85,100]}},stroke:{curve:"smooth",width:2.5},markers:{size:0,hover:{size:5,sizeOffset:3},strokeWidth:3,strokeColors:"#fff"},xaxis:{categories:t,axisBorder:{show:!1},axisTicks:{show:!1},tickAmount:15,labels:{style:{colors:"#9ca3af",fontSize:"10px"},rotate:-90,hideOverlappingLabels:!0}},yaxis:{labels:{style:{colors:"#9ca3af",fontSize:"10px"},formatter:n},min:0},grid:{borderColor:"#f3f4f6",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:-8,right:0,bottom:0,left:6}},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:r}},legend:{show:!1},dataLabels:{enabled:!1}}}function gY(){const a=document.getElementById("revenueChart");if(!a)return;ad instanceof Os&&(ad.destroy(),ad=null);const e=Pv(30),t=e3({seriesName:"Pendapatan",data:e.revenue,labels:e.labels,color:Su.blue,yFormatter:d_,tooltipFormatter:f_});ad=new Os(a,t),ad.render(),t3(e)}function t3(a,e=!1){const t=a.revenue.reduce((s,u)=>s+u,0),i=a.labels.length||1,n=a.tickets.reduce((s,u)=>s+u,0),r=Math.max(...a.revenue),o=s=>document.getElementById(s);if(o("revTotal")&&(o("revTotal").textContent=d_(t)),o("revAvg")){o("revAvg").textContent=d_(Math.round(t/i));const s=o("revAvg").nextElementSibling;s&&(s.textContent=e?"Avg/Bulan":"Avg/Hari")}if(o("revTx")&&(o("revTx").textContent=n.toLocaleString("id-ID")),o("revMax")){o("revMax").textContent=d_(r);const s=o("revMax").nextElementSibling;s&&(s.textContent=e?"Bulan Tertinggi":"Tertinggi")}}window.filterFinancialRevenue=function(a){if(!ad)return;let e;const t=a==="1T";if(t)e={labels:tv,revenue:j2,tickets:V2};else{const n=ZO[a]||30;e=Pv(n)}ad.updateOptions({series:[{name:"Pendapatan",data:e.revenue}],xaxis:{categories:e.labels}},!0,!0),t3(e,t);const i=document.getElementById("revenuePeriodLabel");i&&(i.textContent=JO[a]||"")};function mY(){const a=document.getElementById("ticketChart");if(!a)return;rd instanceof Os&&(rd.destroy(),rd=null);const e=Pv(30),t=e3({seriesName:"Transaksi",data:e.tickets,labels:e.labels,color:Su.emerald,yFormatter:i=>Math.round(i).toString(),tooltipFormatter:i=>i.toLocaleString("id-ID")+" transaksi"});rd=new Os(a,t),rd.render(),i3(e)}function i3(a,e=!1){const t=a.tickets.reduce((s,u)=>s+u,0),i=a.labels.length||1,n=a.tickets.filter(s=>s>0).length,r=Math.max(...a.tickets),o=s=>document.getElementById(s);if(o("txTotal")&&(o("txTotal").textContent=t.toLocaleString("id-ID")),o("txAvg")){o("txAvg").textContent=Math.round(t/i).toLocaleString("id-ID");const s=o("txAvg").nextElementSibling;s&&(s.textContent=e?"Avg/Bulan":"Avg/Hari")}if(o("txDays")){o("txDays").textContent=n+"/"+i;const s=o("txDays").nextElementSibling;s&&(s.textContent=e?"Bulan Aktif":"Hari Aktif")}if(o("txMax")){o("txMax").textContent=r.toLocaleString("id-ID");const s=o("txMax").nextElementSibling;s&&(s.textContent=e?"Bulan Tertinggi":"Tertinggi")}}window.filterFinancialTickets=function(a){if(!rd)return;let e;const t=a==="1T";if(t)e={labels:tv,tickets:V2,revenue:j2};else{const n=ZO[a]||30;e=Pv(n)}rd.updateOptions({series:[{name:"Transaksi",data:e.tickets}],xaxis:{categories:e.labels}},!0,!0),i3(e,t);const i=document.getElementById("ticketPeriodLabel");i&&(i.textContent=JO[a]||"")};function yY(a){const e=document.getElementById("paymentMethodChart");if(!e||!a.paymentLabels||a.paymentLabels.length===0)return;aA instanceof Os&&(aA.destroy(),aA=null);const t=(a.paymentData||[]).map(Number),i={series:t,labels:a.paymentLabels,chart:{type:"donut",height:220,fontFamily:"'Inter', 'Segoe UI', sans-serif",animations:{enabled:!0}},colors:AY.slice(0,t.length),plotOptions:{pie:{donut:{size:"72%",labels:{show:!0,name:{show:!0,fontSize:"12px",fontWeight:600,color:"#6b7280",offsetY:-4},value:{show:!0,fontSize:"18px",fontWeight:800,color:"#1f2937",offsetY:4,formatter:f_},total:{show:!0,showAlways:!0,label:"Total",fontSize:"12px",fontWeight:600,color:"#6b7280",formatter:n=>{const r=n.globals.seriesTotals.reduce((o,s)=>o+s,0);return f_(r)}}}}}},stroke:{width:2,colors:["#fff"]},dataLabels:{enabled:!1},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:f_}},legend:{show:!1}};aA=new Os(e,i),aA.render()}function IL(a,e,t){const i=document.getElementById(a);if(!i||!e||e.length<2)return null;const n={series:[{data:e}],chart:{type:"area",height:36,sparkline:{enabled:!0},animations:{enabled:!0}},stroke:{curve:"smooth",width:2},colors:[t],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.3,opacityTo:.05,stops:[0,90,100]}},tooltip:{enabled:!1}},r=new Os(i,n);return r.render(),r}function xY(a){Wp instanceof Os&&(Wp.destroy(),Wp=null),$p instanceof Os&&($p.destroy(),$p=null);const e=(a.sparkRevenue||[]).map(Number),t=(a.sparkTickets||[]).map(Number);Wp=IL("sparkGross",e,Su.blue),$p=IL("sparkTickets",t,Su.violet)}function W2(a=0){(document.getElementById("revenueChart")||document.getElementById("ticketChart")||document.getElementById("paymentMethodChart"))&&(window.__financialData?pY():a<10?setTimeout(()=>{W2(a+1)},100):console.warn("Financial dashboard data not found after retries"))}let fA=null;document.addEventListener("livewire:navigated",()=>{fA&&clearTimeout(fA),G2(),Xp=!1,fA=setTimeout(()=>{W2(),fA=null},50)});document.addEventListener("livewire:navigating",()=>{fA&&(clearTimeout(fA),fA=null),G2(),Xp=!1});document.addEventListener("financial-dashboard-data-ready",()=>{W2()});window.ApexCharts=Os;const ed={blue:"#3b82f6",emerald:"#10b981",amber:"#f59e0b",red:"#ef4444",violet:"#8b5cf6",pink:"#ec4899",teal:"#14b8a6"},_Y=[ed.blue,ed.emerald,ed.amber,ed.red,ed.violet,ed.pink,ed.teal];function A_(a){return a>=1e9?"Rp "+(a/1e9).toFixed(1)+"M":a>=1e6?"Rp "+(a/1e6).toFixed(1)+"jt":a>=1e3?"Rp "+(a/1e3).toFixed(0)+"rb":"Rp "+a}function vY(a){return"Rp "+Number(a).toLocaleString("id-ID")}const n3={"1H":1,"1M":7,"1B":30,"1T":365},a3={"1H":"Hari ini","1M":"7 hari terakhir","1B":"30 hari terakhir","1T":"1 tahun terakhir"};let wg=null,bg=null,iv=null,sS=[],r3=[],s3=[],$2=[],X2=[],Y2=[];function Dv(a){const e=sS.length,t=Math.max(0,e-a);return{labels:sS.slice(t),revenue:r3.slice(t),tickets:s3.slice(t)}}function o3({seriesName:a,data:e,labels:t,color:i,yFormatter:n,tooltipFormatter:r,height:o}){return{series:[{name:a,data:e}],chart:{type:"area",height:o||260,fontFamily:"'Inter', 'Segoe UI', sans-serif",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}},animations:{enabled:!0,easing:"easeinout",speed:700,animateGradually:{enabled:!0,delay:80},dynamicAnimation:{enabled:!0,speed:350}},dropShadow:{enabled:!0,top:2,left:0,blur:5,color:i,opacity:.1}},colors:[i],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,85,100]}},stroke:{curve:"smooth",width:2.5},markers:{size:0,hover:{size:5,sizeOffset:3},strokeWidth:3,strokeColors:"#fff"},xaxis:{categories:t,axisBorder:{show:!1},axisTicks:{show:!1},tickAmount:15,labels:{style:{colors:"#9ca3af",fontSize:"10px"},rotate:-90,hideOverlappingLabels:!0}},yaxis:{title:{text:""},labels:{style:{colors:"#9ca3af",fontSize:"10px"},formatter:n},min:0},grid:{borderColor:"#f3f4f6",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:-8,right:0,bottom:0,left:6}},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:r}},legend:{show:!1},dataLabels:{enabled:!1}}}function j0(a,e){!a||!e||(e.offsetWidth>0||e.offsetHeight>0?a.render().catch(()=>{setTimeout(()=>j0(a,e),200)}):setTimeout(()=>j0(a,e),200))}function wY(){const a=document.getElementById("ticketRevenueChart");if(!a)return;a.innerHTML="";const e=Dv(30),t=o3({seriesName:"Pendapatan",data:e.revenue,labels:e.labels,color:ed.blue,yFormatter:A_,tooltipFormatter:i=>vY(i)});wg=new Os(a,t),j0(wg,a),l3(e)}function l3(a,e=!1){const t=a.revenue.reduce((s,u)=>s+u,0),i=a.labels.length||1,n=a.tickets.reduce((s,u)=>s+u,0),r=Math.max(...a.revenue),o=s=>document.getElementById(s);if(o("revTotal")&&(o("revTotal").textContent=A_(t)),o("revAvg")){o("revAvg").textContent=A_(Math.round(t/i));const s=o("revAvg").nextElementSibling;s&&(s.textContent=e?"Rata-rata/Bulan":"Rata-rata/Hari")}if(o("revTx")&&(o("revTx").textContent=n.toLocaleString("id-ID")),o("revMax")){o("revMax").textContent=A_(r);const s=o("revMax").nextElementSibling;s&&(s.textContent=e?"Bulan Tertinggi":"Hari Tertinggi")}}window.filterRevenueChart=function(a){if(!wg)return;let e;const t=a==="1T";t?e={labels:$2,revenue:X2,tickets:Y2}:e=Dv(n3[a]||30),wg.updateOptions({series:[{name:"Pendapatan",data:e.revenue}],xaxis:{categories:e.labels}},!0,!0),l3(e,t);const i=document.getElementById("revenuePeriodLabel");i&&(i.textContent=a3[a]||"")};function bY(){const a=document.getElementById("ticketTransactionChart");if(!a)return;a.innerHTML="";const e=Dv(30),t=o3({seriesName:"Tiket Terjual",data:e.tickets,labels:e.labels,color:ed.emerald,yFormatter:i=>Math.round(i).toString(),tooltipFormatter:i=>i.toLocaleString("id-ID")+" tiket"});bg=new Os(a,t),j0(bg,a),c3(e)}function c3(a,e=!1){const t=a.tickets.reduce((s,u)=>s+u,0),i=a.labels.length||1,n=a.tickets.filter(s=>s>0).length,r=Math.max(...a.tickets),o=s=>document.getElementById(s);if(o("txTotal")&&(o("txTotal").textContent=t.toLocaleString("id-ID")),o("txAvg")){o("txAvg").textContent=Math.round(t/i).toLocaleString("id-ID");const s=o("txAvg").nextElementSibling;s&&(s.textContent=e?"Rata-rata/Bulan":"Rata-rata/Hari")}if(o("txDays")){o("txDays").textContent=n+"/"+i;const s=o("txDays").nextElementSibling;s&&(s.textContent=e?"Bulan Aktif":"Hari Aktif")}if(o("txMax")){o("txMax").textContent=r.toLocaleString("id-ID");const s=o("txMax").nextElementSibling;s&&(s.textContent=e?"Bulan Tertinggi":"Hari Tertinggi")}}window.filterTicketChart=function(a){if(!bg)return;let e;const t=a==="1T";t?e={labels:$2,tickets:Y2,revenue:X2}:e=Dv(n3[a]||30),bg.updateOptions({series:[{name:"Tiket Terjual",data:e.tickets}],xaxis:{categories:e.labels}},!0,!0),c3(e,t);const i=document.getElementById("ticketPeriodLabel");i&&(i.textContent=a3[a]||"")};function CY(a){const e=document.getElementById("ticketTypeDonutChart");if(!e||!a.ticketTypeLabels||a.ticketTypeLabels.length===0)return;e.innerHTML="";const t=(a.ticketTypeData||[]).map(Number),i={series:t,labels:a.ticketTypeLabels,chart:{type:"donut",height:220,fontFamily:"'Inter', 'Segoe UI', sans-serif",animations:{enabled:!0,easing:"easeinout",speed:800}},colors:_Y.slice(0,t.length),plotOptions:{pie:{donut:{size:"72%",labels:{show:!0,name:{show:!0,fontSize:"12px",fontWeight:600,color:"#6b7280",offsetY:-4},value:{show:!0,fontSize:"20px",fontWeight:800,color:"#1f2937",offsetY:4,formatter:n=>Number(n).toLocaleString("id-ID")},total:{show:!0,showAlways:!0,label:"Total",fontSize:"12px",fontWeight:600,color:"#6b7280",formatter:n=>n.globals.seriesTotals.reduce((r,o)=>r+o,0).toLocaleString("id-ID")}}}}},stroke:{width:2,colors:["#fff"]},dataLabels:{enabled:!1},tooltip:{theme:"dark",style:{fontSize:"12px"},y:{formatter:n=>n.toLocaleString("id-ID")+" tiket"}},legend:{show:!1}};iv=new Os(e,i),j0(iv,e)}function K2(){[wg,bg,iv].forEach(a=>{if(a&&typeof a.destroy=="function")try{a.destroy()}catch{}}),wg=bg=iv=null}function u3(){const a=window.__dashboardData;if(a)try{K2(),sS=a.labels||[],r3=(a.revenue||[]).map(Number),s3=(a.tickets||[]).map(Number),$2=a.monthlyLabels||[],X2=(a.monthlyRevenue||[]).map(Number),Y2=(a.monthlyTickets||[]).map(Number),wY(),bY(),CY(a)}catch(e){console.error("Failed to initialize dashboard charts:",e)}}let rA=null;function Cg(a=0){if(!document.getElementById("ticketRevenueChart")){a<5&&setTimeout(()=>Cg(a+1),200);return}window.__dashboardData?(u3(),SY()):a<15&&setTimeout(()=>Cg(a+1),200)}function SY(){rA&&clearInterval(rA),rA=setInterval(()=>{document.getElementById("ticketRevenueChart")?u3():(clearInterval(rA),rA=null)},6e4)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>Cg()):Cg();document.addEventListener("livewire:navigated",()=>{K2(),setTimeout(()=>Cg(),150)});document.addEventListener("ticket-dashboard-data-ready",()=>Cg());document.addEventListener("livewire:navigating",()=>{K2(),rA&&clearInterval(rA)});const oS=(a=0)=>{const e=document.getElementById("revenueTrendChart"),t=document.getElementById("postViewsChart"),i=document.getElementById("categoriesChart");if(!(e||t||i))return;const r=window.__adminDashboardData;if(!r&&a<20){setTimeout(()=>{oS(a+1)},150);return}if(!r){console.warn("No admin dashboard data found after retries. Data:",window.__adminDashboardData);return}if((!r.revenue||!r.postViews||!r.categories)&&(console.warn("Admin dashboard data structure incomplete:",r),a<10)){setTimeout(()=>{oS(a+1)},200);return}const o={chart:{fontFamily:"Inter, sans-serif",toolbar:{show:!1},zoom:{enabled:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},grid:{borderColor:"#f1f5f9",strokeDashArray:4,xaxis:{lines:{show:!1}}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#64748b",fontSize:"12px"}}},yaxis:{labels:{style:{colors:"#64748b",fontSize:"12px"}}},legend:{show:!1},tooltip:{theme:"dark",x:{show:!1}}};if(e){console.log("Initializing Revenue Trend Chart...",{element:e,data:r.revenue,dataLength:r.revenue?.data?.length||0}),window.revenueChart instanceof Os&&window.revenueChart.destroy();const s=Array.isArray(r.revenue.data)?r.revenue.data:[],u=Array.isArray(r.revenue.labels)?r.revenue.labels:[],d={...o,series:[{name:"Pendapatan",data:s}],chart:{...o.chart,type:"area",height:300},colors:["#10b981"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,100]}},xaxis:{...o.xaxis,categories:u},yaxis:{...o.yaxis,labels:{formatter:g=>g>=1e6?"Rp "+g/1e6+"jt":g>=1e3?"Rp "+g/1e3+"rb":"Rp "+g}},tooltip:{...o.tooltip,y:{formatter:function(g){return"Rp "+new Intl.NumberFormat("id-ID").format(g)}}}};try{window.revenueChart=new Os(e,d),window.revenueChart.render().then(()=>{console.log("Revenue Trend Chart rendered successfully")}).catch(g=>{console.error("Error rendering Revenue Trend Chart:",g)})}catch(g){console.error("Error creating Revenue Trend Chart:",g)}}else console.warn("Revenue Trend Chart element not found");if(t){console.log("Initializing Post Views Chart...",{element:t,data:r.postViews,dataLength:r.postViews?.data?.length||0}),window.postViewsChart instanceof Os&&window.postViewsChart.destroy();const s=Array.isArray(r.postViews.data)?r.postViews.data:[],u=Array.isArray(r.postViews.labels)?r.postViews.labels:[],d={...o,series:[{name:"Pembaca",data:s}],chart:{...o.chart,type:"area",height:300},colors:["#8b5cf6"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.4,opacityTo:.05,stops:[0,100]}},xaxis:{...o.xaxis,categories:u},yaxis:{...o.yaxis,labels:{formatter:g=>g.toFixed(0)}}};try{window.postViewsChart=new Os(t,d),window.postViewsChart.render().then(()=>{console.log("Post Views Chart rendered successfully")}).catch(g=>{console.error("Error rendering Post Views Chart:",g)})}catch(g){console.error("Error creating Post Views Chart:",g)}}else console.warn("Post Views Chart element not found");if(i&&r.categories){console.log("Initializing Categories Chart...",{element:i,data:r.categories,countsLength:r.categories?.counts?.length||0}),window.categoriesChart instanceof Os&&window.categoriesChart.destroy();const s=Array.isArray(r.categories.colors)?r.categories.colors:["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],u=Array.isArray(r.categories.counts)?r.categories.counts:[],d=Array.isArray(r.categories.names)?r.categories.names:[],g={series:u,chart:{type:"donut",height:250,fontFamily:"Inter, sans-serif",animations:{enabled:!1}},labels:d,colors:s,plotOptions:{pie:{donut:{size:"75%",labels:{show:!1}}}},dataLabels:{enabled:!1},stroke:{width:0},legend:{show:!1},tooltip:{enabled:!0,theme:"dark",y:{formatter:function(x){return x+" Destinasi"}}}};try{window.categoriesChart=new Os(i,g),window.categoriesChart.render().then(()=>{console.log("Categories Chart rendered successfully")}).catch(x=>{console.error("Error rendering Categories Chart:",x)})}catch(x){console.error("Error creating Categories Chart:",x)}}else console.warn("Categories Chart element not found or data missing");console.log("Admin Dashboard Charts initialization completed")},h3=()=>{window.revenueChart instanceof Os&&(window.revenueChart.destroy(),window.revenueChart=null),window.postViewsChart instanceof Os&&(window.postViewsChart.destroy(),window.postViewsChart=null),window.categoriesChart instanceof Os&&(window.categoriesChart.destroy(),window.categoriesChart=null)};window.revenueChart=null;window.postViewsChart=null;window.categoriesChart=null;const ML=()=>{setTimeout(()=>{oS()},100)};let Rd=null;const d3=()=>{Rd&&Rd.disconnect();const a=document.getElementById("revenueTrendChart"),e=document.getElementById("postViewsChart"),t=document.getElementById("categoriesChart");a||e||t?ML():(Rd=new MutationObserver((i,n)=>{const r=document.getElementById("revenueTrendChart"),o=document.getElementById("postViewsChart"),s=document.getElementById("categoriesChart");(r||o||s)&&(n.disconnect(),Rd=null,setTimeout(()=>{ML()},200))}),Rd.observe(document.body,{childList:!0,subtree:!0}))};document.addEventListener("livewire:navigated",()=>{h3(),setTimeout(()=>{d3()},50)});document.addEventListener("livewire:navigating",()=>{h3(),Rd&&(Rd.disconnect(),Rd=null)});document.addEventListener("admin-dashboard-data-ready",()=>{d3()});setTimeout(()=>{startPeriodicCheck()},1e3);var BY=Object.create,f3=Object.defineProperty,EY=Object.getOwnPropertyDescriptor,A3=Object.getOwnPropertyNames,kY=Object.getPrototypeOf,TY=Object.prototype.hasOwnProperty,_h=(a,e)=>function(){return e||(0,a[A3(a)[0]])((e={exports:{}}).exports,e),e.exports},IY=(a,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of A3(e))!TY.call(a,n)&&n!==t&&f3(a,n,{get:()=>e[n],enumerable:!(i=EY(e,n))||i.enumerable});return a},hr=(a,e,t)=>(t=a!=null?BY(kY(a)):{},IY(!a||!a.__esModule?f3(t,"default",{value:a,enumerable:!0}):t,a)),js=_h({"node_modules/alpinejs/dist/module.cjs.js"(a,e){var t=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=($,oe)=>function(){return oe||(0,$[r($)[0]])((oe={exports:{}}).exports,oe),oe.exports},d=($,oe)=>{for(var ke in oe)i($,ke,{get:oe[ke],enumerable:!0})},g=($,oe,ke,Qe)=>{if(oe&&typeof oe=="object"||typeof oe=="function")for(let at of r(oe))!s.call($,at)&&at!==ke&&i($,at,{get:()=>oe[at],enumerable:!(Qe=n(oe,at))||Qe.enumerable});return $},x=($,oe,ke)=>(ke=$!=null?t(o($)):{},g(!$||!$.__esModule?i(ke,"default",{value:$,enumerable:!0}):ke,$)),b=$=>g(i({},"__esModule",{value:!0}),$),S=u({"node_modules/@vue/shared/dist/shared.cjs.js"($){Object.defineProperty($,"__esModule",{value:!0});function oe(Nt,qi){const en=Object.create(null),Sn=Nt.split(",");for(let Ha=0;Ha<Sn.length;Ha++)en[Sn[Ha]]=!0;return qi?Ha=>!!en[Ha.toLowerCase()]:Ha=>!!en[Ha]}var ke={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},Qe={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},at="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",ht=oe(at),wt=2;function $t(Nt,qi=0,en=Nt.length){let Sn=Nt.split(/(\r?\n)/);const Ha=Sn.filter((rs,Dr)=>Dr%2===1);Sn=Sn.filter((rs,Dr)=>Dr%2===0);let La=0;const Gs=[];for(let rs=0;rs<Sn.length;rs++)if(La+=Sn[rs].length+(Ha[rs]&&Ha[rs].length||0),La>=qi){for(let Dr=rs-wt;Dr<=rs+wt||en>La;Dr++){if(Dr<0||Dr>=Sn.length)continue;const Kr=Dr+1;Gs.push(`${Kr}${" ".repeat(Math.max(3-String(Kr).length,0))}|  ${Sn[Dr]}`);const zl=Sn[Dr].length,Ph=Ha[Dr]&&Ha[Dr].length||0;if(Dr===rs){const Xu=qi-(La-(zl+Ph)),_f=Math.max(1,en>La?zl-Xu:en-qi);Gs.push("   |  "+" ".repeat(Xu)+"^".repeat(_f))}else if(Dr>rs){if(en>La){const Xu=Math.max(Math.min(en-La,zl),1);Gs.push("   |  "+"^".repeat(Xu))}La+=zl+Ph}}break}return Gs.join(`
`)}var mi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hn=oe(mi),Xn=oe(mi+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),Ca=/[>/="'\u0009\u000a\u000c\u0020]/,Yr={};function Br(Nt){if(Yr.hasOwnProperty(Nt))return Yr[Nt];const qi=Ca.test(Nt);return qi&&console.error(`unsafe attribute name: ${Nt}`),Yr[Nt]=!qi}var as={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Sa=oe("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),Fn=oe("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function oa(Nt){if(wo(Nt)){const qi={};for(let en=0;en<Nt.length;en++){const Sn=Nt[en],Ha=oa(bs(Sn)?ws(Sn):Sn);if(Ha)for(const La in Ha)qi[La]=Ha[La]}return qi}else if(bo(Nt))return Nt}var da=/;(?![^(]*\))/g,za=/:(.+)/;function ws(Nt){const qi={};return Nt.split(da).forEach(en=>{if(en){const Sn=en.split(za);Sn.length>1&&(qi[Sn[0].trim()]=Sn[1].trim())}}),qi}function ta(Nt){let qi="";if(!Nt)return qi;for(const en in Nt){const Sn=Nt[en],Ha=en.startsWith("--")?en:Gu(en);(bs(Sn)||typeof Sn=="number"&&Sa(Ha))&&(qi+=`${Ha}:${Sn};`)}return qi}function Uo(Nt){let qi="";if(bs(Nt))qi=Nt;else if(wo(Nt))for(let en=0;en<Nt.length;en++){const Sn=Uo(Nt[en]);Sn&&(qi+=Sn+" ")}else if(bo(Nt))for(const en in Nt)Nt[en]&&(qi+=en+" ");return qi.trim()}var Ou="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Uu="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",rc="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Nu=oe(Ou),yf=oe(Uu),lu=oe(rc),xf=/["'&<>]/;function Sh(Nt){const qi=""+Nt,en=xf.exec(qi);if(!en)return qi;let Sn="",Ha,La,Gs=0;for(La=en.index;La<qi.length;La++){switch(qi.charCodeAt(La)){case 34:Ha="&quot;";break;case 38:Ha="&amp;";break;case 39:Ha="&#39;";break;case 60:Ha="&lt;";break;case 62:Ha="&gt;";break;default:continue}Gs!==La&&(Sn+=qi.substring(Gs,La)),Gs=La+1,Sn+=Ha}return Gs!==La?Sn+qi.substring(Gs,La):Sn}var sc=/^-?>|<!--|-->|--!>|<!-$/g;function cu(Nt){return Nt.replace(sc,"")}function zu(Nt,qi){if(Nt.length!==qi.length)return!1;let en=!0;for(let Sn=0;en&&Sn<Nt.length;Sn++)en=Dc(Nt[Sn],qi[Sn]);return en}function Dc(Nt,qi){if(Nt===qi)return!0;let en=pr(Nt),Sn=pr(qi);if(en||Sn)return en&&Sn?Nt.getTime()===qi.getTime():!1;if(en=wo(Nt),Sn=wo(qi),en||Sn)return en&&Sn?zu(Nt,qi):!1;if(en=bo(Nt),Sn=bo(qi),en||Sn){if(!en||!Sn)return!1;const Ha=Object.keys(Nt).length,La=Object.keys(qi).length;if(Ha!==La)return!1;for(const Gs in Nt){const rs=Nt.hasOwnProperty(Gs),Dr=qi.hasOwnProperty(Gs);if(rs&&!Dr||!rs&&Dr||!Dc(Nt[Gs],qi[Gs]))return!1}}return String(Nt)===String(qi)}function Hu(Nt,qi){return Nt.findIndex(en=>Dc(en,qi))}var uu=Nt=>Nt==null?"":bo(Nt)?JSON.stringify(Nt,Qu,2):String(Nt),Qu=(Nt,qi)=>Oc(qi)?{[`Map(${qi.size})`]:[...qi.entries()].reduce((en,[Sn,Ha])=>(en[`${Sn} =>`]=Ha,en),{})}:Zo(qi)?{[`Set(${qi.size})`]:[...qi.values()]}:bo(qi)&&!wo(qi)&&!cc(qi)?String(qi):qi,Rl=["bigInt","optionalChaining","nullishCoalescingOperator"],Al=Object.freeze({}),hu=Object.freeze([]),Bh=()=>{},Ol=()=>!1,ju=/^on[^a-z]/,du=Nt=>ju.test(Nt),Ul=Nt=>Nt.startsWith("onUpdate:"),fu=Object.assign,Eh=(Nt,qi)=>{const en=Nt.indexOf(qi);en>-1&&Nt.splice(en,1)},kh=Object.prototype.hasOwnProperty,Rc=(Nt,qi)=>kh.call(Nt,qi),wo=Array.isArray,Oc=Nt=>ml(Nt)==="[object Map]",Zo=Nt=>ml(Nt)==="[object Set]",pr=Nt=>Nt instanceof Date,pl=Nt=>typeof Nt=="function",bs=Nt=>typeof Nt=="string",Vu=Nt=>typeof Nt=="symbol",bo=Nt=>Nt!==null&&typeof Nt=="object",oc=Nt=>bo(Nt)&&pl(Nt.then)&&pl(Nt.catch),gl=Object.prototype.toString,ml=Nt=>gl.call(Nt),lc=Nt=>ml(Nt).slice(8,-1),cc=Nt=>ml(Nt)==="[object Object]",Th=Nt=>bs(Nt)&&Nt!=="NaN"&&Nt[0]!=="-"&&""+parseInt(Nt,10)===Nt,Ih=oe(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Uc=Nt=>{const qi=Object.create(null);return en=>qi[en]||(qi[en]=Nt(en))},Mh=/-(\w)/g,Lh=Uc(Nt=>Nt.replace(Mh,(qi,en)=>en?en.toUpperCase():"")),Nl=/\B([A-Z])/g,Gu=Uc(Nt=>Nt.replace(Nl,"-$1").toLowerCase()),uc=Uc(Nt=>Nt.charAt(0).toUpperCase()+Nt.slice(1)),Au=Uc(Nt=>Nt?`on${uc(Nt)}`:""),Wu=(Nt,qi)=>Nt!==qi&&(Nt===Nt||qi===qi),Fh=(Nt,qi)=>{for(let en=0;en<Nt.length;en++)Nt[en](qi)},Nc=(Nt,qi,en)=>{Object.defineProperty(Nt,qi,{configurable:!0,enumerable:!1,value:en})},pu=Nt=>{const qi=parseFloat(Nt);return isNaN(qi)?Nt:qi},zc,$u=()=>zc||(zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});$.EMPTY_ARR=hu,$.EMPTY_OBJ=Al,$.NO=Ol,$.NOOP=Bh,$.PatchFlagNames=ke,$.babelParserDefaultPlugins=Rl,$.camelize=Lh,$.capitalize=uc,$.def=Nc,$.escapeHtml=Sh,$.escapeHtmlComment=cu,$.extend=fu,$.generateCodeFrame=$t,$.getGlobalThis=$u,$.hasChanged=Wu,$.hasOwn=Rc,$.hyphenate=Gu,$.invokeArrayFns=Fh,$.isArray=wo,$.isBooleanAttr=Xn,$.isDate=pr,$.isFunction=pl,$.isGloballyWhitelisted=ht,$.isHTMLTag=Nu,$.isIntegerKey=Th,$.isKnownAttr=Fn,$.isMap=Oc,$.isModelListener=Ul,$.isNoUnitNumericStyleProp=Sa,$.isObject=bo,$.isOn=du,$.isPlainObject=cc,$.isPromise=oc,$.isReservedProp=Ih,$.isSSRSafeAttrName=Br,$.isSVGTag=yf,$.isSet=Zo,$.isSpecialBooleanAttr=hn,$.isString=bs,$.isSymbol=Vu,$.isVoidTag=lu,$.looseEqual=Dc,$.looseIndexOf=Hu,$.makeMap=oe,$.normalizeClass=Uo,$.normalizeStyle=oa,$.objectToString=gl,$.parseStringStyle=ws,$.propsToAttrMap=as,$.remove=Eh,$.slotFlagsText=Qe,$.stringifyStyle=ta,$.toDisplayString=uu,$.toHandlerKey=Au,$.toNumber=pu,$.toRawType=lc,$.toTypeString=ml}}),P=u({"node_modules/@vue/shared/index.js"($,oe){oe.exports=S()}}),I=u({"node_modules/@vue/reactivity/dist/reactivity.cjs.js"($){Object.defineProperty($,"__esModule",{value:!0});var oe=P(),ke=new WeakMap,Qe=[],at,ht=Symbol("iterate"),wt=Symbol("Map key iterate");function $t(Xe){return Xe&&Xe._isEffect===!0}function mi(Xe,hi=oe.EMPTY_OBJ){$t(Xe)&&(Xe=Xe.raw);const xi=Ca(Xe,hi);return hi.lazy||xi(),xi}function hn(Xe){Xe.active&&(Yr(Xe),Xe.options.onStop&&Xe.options.onStop(),Xe.active=!1)}var Xn=0;function Ca(Xe,hi){const xi=function(){if(!xi.active)return Xe();if(!Qe.includes(xi)){Yr(xi);try{return Fn(),Qe.push(xi),at=xi,Xe()}finally{Qe.pop(),oa(),at=Qe[Qe.length-1]}}};return xi.id=Xn++,xi.allowRecurse=!!hi.allowRecurse,xi._isEffect=!0,xi.active=!0,xi.raw=Xe,xi.deps=[],xi.options=hi,xi}function Yr(Xe){const{deps:hi}=Xe;if(hi.length){for(let xi=0;xi<hi.length;xi++)hi[xi].delete(Xe);hi.length=0}}var Br=!0,as=[];function Sa(){as.push(Br),Br=!1}function Fn(){as.push(Br),Br=!0}function oa(){const Xe=as.pop();Br=Xe===void 0?!0:Xe}function da(Xe,hi,xi){if(!Br||at===void 0)return;let En=ke.get(Xe);En||ke.set(Xe,En=new Map);let ln=En.get(xi);ln||En.set(xi,ln=new Set),ln.has(at)||(ln.add(at),at.deps.push(ln),at.options.onTrack&&at.options.onTrack({effect:at,target:Xe,type:hi,key:xi}))}function za(Xe,hi,xi,En,ln,jn){const ma=ke.get(Xe);if(!ma)return;const Er=new Set,qr=ss=>{ss&&ss.forEach(Co=>{(Co!==at||Co.allowRecurse)&&Er.add(Co)})};if(hi==="clear")ma.forEach(qr);else if(xi==="length"&&oe.isArray(Xe))ma.forEach((ss,Co)=>{(Co==="length"||Co>=En)&&qr(ss)});else switch(xi!==void 0&&qr(ma.get(xi)),hi){case"add":oe.isArray(Xe)?oe.isIntegerKey(xi)&&qr(ma.get("length")):(qr(ma.get(ht)),oe.isMap(Xe)&&qr(ma.get(wt)));break;case"delete":oe.isArray(Xe)||(qr(ma.get(ht)),oe.isMap(Xe)&&qr(ma.get(wt)));break;case"set":oe.isMap(Xe)&&qr(ma.get(ht));break}const Dh=ss=>{ss.options.onTrigger&&ss.options.onTrigger({effect:ss,target:Xe,key:xi,type:hi,newValue:En,oldValue:ln,oldTarget:jn}),ss.options.scheduler?ss.options.scheduler(ss):ss()};Er.forEach(Dh)}var ws=oe.makeMap("__proto__,__v_isRef,__isVue"),ta=new Set(Object.getOwnPropertyNames(Symbol).map(Xe=>Symbol[Xe]).filter(oe.isSymbol)),Uo=lu(),Ou=lu(!1,!0),Uu=lu(!0),rc=lu(!0,!0),Nu=yf();function yf(){const Xe={};return["includes","indexOf","lastIndexOf"].forEach(hi=>{Xe[hi]=function(...xi){const En=Nt(this);for(let jn=0,ma=this.length;jn<ma;jn++)da(En,"get",jn+"");const ln=En[hi](...xi);return ln===-1||ln===!1?En[hi](...xi.map(Nt)):ln}}),["push","pop","shift","unshift","splice"].forEach(hi=>{Xe[hi]=function(...xi){Sa();const En=Nt(this)[hi].apply(this,xi);return oa(),En}}),Xe}function lu(Xe=!1,hi=!1){return function(En,ln,jn){if(ln==="__v_isReactive")return!Xe;if(ln==="__v_isReadonly")return Xe;if(ln==="__v_raw"&&jn===(Xe?hi?Lh:Mh:hi?Uc:Ih).get(En))return En;const ma=oe.isArray(En);if(!Xe&&ma&&oe.hasOwn(Nu,ln))return Reflect.get(Nu,ln,jn);const Er=Reflect.get(En,ln,jn);return(oe.isSymbol(ln)?ta.has(ln):ws(ln))||(Xe||da(En,"get",ln),hi)?Er:Sn(Er)?!ma||!oe.isIntegerKey(ln)?Er.value:Er:oe.isObject(Er)?Xe?Wu(Er):uc(Er):Er}}var xf=sc(),Sh=sc(!0);function sc(Xe=!1){return function(xi,En,ln,jn){let ma=xi[En];if(!Xe&&(ln=Nt(ln),ma=Nt(ma),!oe.isArray(xi)&&Sn(ma)&&!Sn(ln)))return ma.value=ln,!0;const Er=oe.isArray(xi)&&oe.isIntegerKey(En)?Number(En)<xi.length:oe.hasOwn(xi,En),qr=Reflect.set(xi,En,ln,jn);return xi===Nt(jn)&&(Er?oe.hasChanged(ln,ma)&&za(xi,"set",En,ln,ma):za(xi,"add",En,ln)),qr}}function cu(Xe,hi){const xi=oe.hasOwn(Xe,hi),En=Xe[hi],ln=Reflect.deleteProperty(Xe,hi);return ln&&xi&&za(Xe,"delete",hi,void 0,En),ln}function zu(Xe,hi){const xi=Reflect.has(Xe,hi);return(!oe.isSymbol(hi)||!ta.has(hi))&&da(Xe,"has",hi),xi}function Dc(Xe){return da(Xe,"iterate",oe.isArray(Xe)?"length":ht),Reflect.ownKeys(Xe)}var Hu={get:Uo,set:xf,deleteProperty:cu,has:zu,ownKeys:Dc},uu={get:Uu,set(Xe,hi){return console.warn(`Set operation on key "${String(hi)}" failed: target is readonly.`,Xe),!0},deleteProperty(Xe,hi){return console.warn(`Delete operation on key "${String(hi)}" failed: target is readonly.`,Xe),!0}},Qu=oe.extend({},Hu,{get:Ou,set:Sh}),Rl=oe.extend({},uu,{get:rc}),Al=Xe=>oe.isObject(Xe)?uc(Xe):Xe,hu=Xe=>oe.isObject(Xe)?Wu(Xe):Xe,Bh=Xe=>Xe,Ol=Xe=>Reflect.getPrototypeOf(Xe);function ju(Xe,hi,xi=!1,En=!1){Xe=Xe.__v_raw;const ln=Nt(Xe),jn=Nt(hi);hi!==jn&&!xi&&da(ln,"get",hi),!xi&&da(ln,"get",jn);const{has:ma}=Ol(ln),Er=En?Bh:xi?hu:Al;if(ma.call(ln,hi))return Er(Xe.get(hi));if(ma.call(ln,jn))return Er(Xe.get(jn));Xe!==ln&&Xe.get(hi)}function du(Xe,hi=!1){const xi=this.__v_raw,En=Nt(xi),ln=Nt(Xe);return Xe!==ln&&!hi&&da(En,"has",Xe),!hi&&da(En,"has",ln),Xe===ln?xi.has(Xe):xi.has(Xe)||xi.has(ln)}function Ul(Xe,hi=!1){return Xe=Xe.__v_raw,!hi&&da(Nt(Xe),"iterate",ht),Reflect.get(Xe,"size",Xe)}function fu(Xe){Xe=Nt(Xe);const hi=Nt(this);return Ol(hi).has.call(hi,Xe)||(hi.add(Xe),za(hi,"add",Xe,Xe)),this}function Eh(Xe,hi){hi=Nt(hi);const xi=Nt(this),{has:En,get:ln}=Ol(xi);let jn=En.call(xi,Xe);jn?Th(xi,En,Xe):(Xe=Nt(Xe),jn=En.call(xi,Xe));const ma=ln.call(xi,Xe);return xi.set(Xe,hi),jn?oe.hasChanged(hi,ma)&&za(xi,"set",Xe,hi,ma):za(xi,"add",Xe,hi),this}function kh(Xe){const hi=Nt(this),{has:xi,get:En}=Ol(hi);let ln=xi.call(hi,Xe);ln?Th(hi,xi,Xe):(Xe=Nt(Xe),ln=xi.call(hi,Xe));const jn=En?En.call(hi,Xe):void 0,ma=hi.delete(Xe);return ln&&za(hi,"delete",Xe,void 0,jn),ma}function Rc(){const Xe=Nt(this),hi=Xe.size!==0,xi=oe.isMap(Xe)?new Map(Xe):new Set(Xe),En=Xe.clear();return hi&&za(Xe,"clear",void 0,void 0,xi),En}function wo(Xe,hi){return function(En,ln){const jn=this,ma=jn.__v_raw,Er=Nt(ma),qr=hi?Bh:Xe?hu:Al;return!Xe&&da(Er,"iterate",ht),ma.forEach((Dh,ss)=>En.call(ln,qr(Dh),qr(ss),jn))}}function Oc(Xe,hi,xi){return function(...En){const ln=this.__v_raw,jn=Nt(ln),ma=oe.isMap(jn),Er=Xe==="entries"||Xe===Symbol.iterator&&ma,qr=Xe==="keys"&&ma,Dh=ln[Xe](...En),ss=xi?Bh:hi?hu:Al;return!hi&&da(jn,"iterate",qr?wt:ht),{next(){const{value:Co,done:wd}=Dh.next();return wd?{value:Co,done:wd}:{value:Er?[ss(Co[0]),ss(Co[1])]:ss(Co),done:wd}},[Symbol.iterator](){return this}}}}function Zo(Xe){return function(...hi){{const xi=hi[0]?`on key "${hi[0]}" `:"";console.warn(`${oe.capitalize(Xe)} operation ${xi}failed: target is readonly.`,Nt(this))}return Xe==="delete"?!1:this}}function pr(){const Xe={get(jn){return ju(this,jn)},get size(){return Ul(this)},has:du,add:fu,set:Eh,delete:kh,clear:Rc,forEach:wo(!1,!1)},hi={get(jn){return ju(this,jn,!1,!0)},get size(){return Ul(this)},has:du,add:fu,set:Eh,delete:kh,clear:Rc,forEach:wo(!1,!0)},xi={get(jn){return ju(this,jn,!0)},get size(){return Ul(this,!0)},has(jn){return du.call(this,jn,!0)},add:Zo("add"),set:Zo("set"),delete:Zo("delete"),clear:Zo("clear"),forEach:wo(!0,!1)},En={get(jn){return ju(this,jn,!0,!0)},get size(){return Ul(this,!0)},has(jn){return du.call(this,jn,!0)},add:Zo("add"),set:Zo("set"),delete:Zo("delete"),clear:Zo("clear"),forEach:wo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(jn=>{Xe[jn]=Oc(jn,!1,!1),xi[jn]=Oc(jn,!0,!1),hi[jn]=Oc(jn,!1,!0),En[jn]=Oc(jn,!0,!0)}),[Xe,xi,hi,En]}var[pl,bs,Vu,bo]=pr();function oc(Xe,hi){const xi=hi?Xe?bo:Vu:Xe?bs:pl;return(En,ln,jn)=>ln==="__v_isReactive"?!Xe:ln==="__v_isReadonly"?Xe:ln==="__v_raw"?En:Reflect.get(oe.hasOwn(xi,ln)&&ln in En?xi:En,ln,jn)}var gl={get:oc(!1,!1)},ml={get:oc(!1,!0)},lc={get:oc(!0,!1)},cc={get:oc(!0,!0)};function Th(Xe,hi,xi){const En=Nt(xi);if(En!==xi&&hi.call(Xe,En)){const ln=oe.toRawType(Xe);console.warn(`Reactive ${ln} contains both the raw and reactive versions of the same object${ln==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Ih=new WeakMap,Uc=new WeakMap,Mh=new WeakMap,Lh=new WeakMap;function Nl(Xe){switch(Xe){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gu(Xe){return Xe.__v_skip||!Object.isExtensible(Xe)?0:Nl(oe.toRawType(Xe))}function uc(Xe){return Xe&&Xe.__v_isReadonly?Xe:Nc(Xe,!1,Hu,gl,Ih)}function Au(Xe){return Nc(Xe,!1,Qu,ml,Uc)}function Wu(Xe){return Nc(Xe,!0,uu,lc,Mh)}function Fh(Xe){return Nc(Xe,!0,Rl,cc,Lh)}function Nc(Xe,hi,xi,En,ln){if(!oe.isObject(Xe))return console.warn(`value cannot be made reactive: ${String(Xe)}`),Xe;if(Xe.__v_raw&&!(hi&&Xe.__v_isReactive))return Xe;const jn=ln.get(Xe);if(jn)return jn;const ma=Gu(Xe);if(ma===0)return Xe;const Er=new Proxy(Xe,ma===2?En:xi);return ln.set(Xe,Er),Er}function pu(Xe){return zc(Xe)?pu(Xe.__v_raw):!!(Xe&&Xe.__v_isReactive)}function zc(Xe){return!!(Xe&&Xe.__v_isReadonly)}function $u(Xe){return pu(Xe)||zc(Xe)}function Nt(Xe){return Xe&&Nt(Xe.__v_raw)||Xe}function qi(Xe){return oe.def(Xe,"__v_skip",!0),Xe}var en=Xe=>oe.isObject(Xe)?uc(Xe):Xe;function Sn(Xe){return!!(Xe&&Xe.__v_isRef===!0)}function Ha(Xe){return rs(Xe)}function La(Xe){return rs(Xe,!0)}var Gs=class{constructor(Xe,hi=!1){this._shallow=hi,this.__v_isRef=!0,this._rawValue=hi?Xe:Nt(Xe),this._value=hi?Xe:en(Xe)}get value(){return da(Nt(this),"get","value"),this._value}set value(Xe){Xe=this._shallow?Xe:Nt(Xe),oe.hasChanged(Xe,this._rawValue)&&(this._rawValue=Xe,this._value=this._shallow?Xe:en(Xe),za(Nt(this),"set","value",Xe))}};function rs(Xe,hi=!1){return Sn(Xe)?Xe:new Gs(Xe,hi)}function Dr(Xe){za(Nt(Xe),"set","value",Xe.value)}function Kr(Xe){return Sn(Xe)?Xe.value:Xe}var zl={get:(Xe,hi,xi)=>Kr(Reflect.get(Xe,hi,xi)),set:(Xe,hi,xi,En)=>{const ln=Xe[hi];return Sn(ln)&&!Sn(xi)?(ln.value=xi,!0):Reflect.set(Xe,hi,xi,En)}};function Ph(Xe){return pu(Xe)?Xe:new Proxy(Xe,zl)}var Xu=class{constructor(Xe){this.__v_isRef=!0;const{get:hi,set:xi}=Xe(()=>da(this,"get","value"),()=>za(this,"set","value"));this._get=hi,this._set=xi}get value(){return this._get()}set value(Xe){this._set(Xe)}};function _f(Xe){return new Xu(Xe)}function Yu(Xe){$u(Xe)||console.warn("toRefs() expects a reactive object but received a plain one.");const hi=oe.isArray(Xe)?new Array(Xe.length):{};for(const xi in Xe)hi[xi]=Jo(Xe,xi);return hi}var Ku=class{constructor(Xe,hi){this._object=Xe,this._key=hi,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(Xe){this._object[this._key]=Xe}};function Jo(Xe,hi){return Sn(Xe[hi])?Xe[hi]:new Ku(Xe,hi)}var Zi=class{constructor(Xe,hi,xi){this._setter=hi,this._dirty=!0,this.__v_isRef=!0,this.effect=mi(Xe,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,za(Nt(this),"set","value"))}}),this.__v_isReadonly=xi}get value(){const Xe=Nt(this);return Xe._dirty&&(Xe._value=this.effect(),Xe._dirty=!1),da(Xe,"get","value"),Xe._value}set value(Xe){this._setter(Xe)}};function vd(Xe){let hi,xi;return oe.isFunction(Xe)?(hi=Xe,xi=()=>{console.warn("Write operation failed: computed value is readonly")}):(hi=Xe.get,xi=Xe.set),new Zi(hi,xi,oe.isFunction(Xe)||!Xe.set)}$.ITERATE_KEY=ht,$.computed=vd,$.customRef=_f,$.effect=mi,$.enableTracking=Fn,$.isProxy=$u,$.isReactive=pu,$.isReadonly=zc,$.isRef=Sn,$.markRaw=qi,$.pauseTracking=Sa,$.proxyRefs=Ph,$.reactive=uc,$.readonly=Wu,$.ref=Ha,$.resetTracking=oa,$.shallowReactive=Au,$.shallowReadonly=Fh,$.shallowRef=La,$.stop=hn,$.toRaw=Nt,$.toRef=Jo,$.toRefs=Yu,$.track=da,$.trigger=za,$.triggerRef=Dr,$.unref=Kr}}),O=u({"node_modules/@vue/reactivity/index.js"($,oe){oe.exports=I()}}),H={};d(H,{Alpine:()=>_a,default:()=>un}),e.exports=b(H);var Q=!1,Y=!1,Z=[],J=-1,re=!1;function q($){he($)}function ne(){re=!0}function te(){re=!1,de()}function he($){Z.includes($)||Z.push($),de()}function ve($){let oe=Z.indexOf($);oe!==-1&&oe>J&&Z.splice(oe,1)}function de(){if(!Y&&!Q){if(re)return;Q=!0,queueMicrotask(be)}}function be(){Q=!1,Y=!0;for(let $=0;$<Z.length;$++)Z[$](),J=$;Z.length=0,J=-1,Y=!1}var De,Ie,nt,je,dt=!0;function Mt($){dt=!1,$(),dt=!0}function We($){De=$.reactive,nt=$.release,Ie=oe=>$.effect(oe,{scheduler:ke=>{dt?q(ke):ke()}}),je=$.raw}function Pt($){Ie=$}function Kt($){let oe=()=>{};return[Qe=>{let at=Ie(Qe);return $._x_effects||($._x_effects=new Set,$._x_runEffects=()=>{$._x_effects.forEach(ht=>ht())}),$._x_effects.add(at),oe=()=>{at!==void 0&&($._x_effects.delete(at),nt(at))},at},()=>{oe()}]}function di($,oe){let ke=!0,Qe,at=Ie(()=>{let ht=$();if(JSON.stringify(ht),!ke&&(typeof ht=="object"||ht!==Qe)){let wt=Qe;queueMicrotask(()=>{oe(ht,wt)})}Qe=ht,ke=!1});return()=>nt(at)}async function It($){ne();try{await $(),await Promise.resolve()}finally{te()}}var bt=[],mt=[],si=[];function gi($){si.push($)}function Vi($,oe){typeof oe=="function"?($._x_cleanups||($._x_cleanups=[]),$._x_cleanups.push(oe)):(oe=$,mt.push(oe))}function Ii($){bt.push($)}function oi($,oe,ke){$._x_attributeCleanups||($._x_attributeCleanups={}),$._x_attributeCleanups[oe]||($._x_attributeCleanups[oe]=[]),$._x_attributeCleanups[oe].push(ke)}function fn($,oe){$._x_attributeCleanups&&Object.entries($._x_attributeCleanups).forEach(([ke,Qe])=>{(oe===void 0||oe.includes(ke))&&(Qe.forEach(at=>at()),delete $._x_attributeCleanups[ke])})}function Mi($){var oe,ke;for((oe=$._x_effects)==null||oe.forEach(ve);(ke=$._x_cleanups)!=null&&ke.length;)$._x_cleanups.pop()()}var Ji=new MutationObserver(Fi),rn=!1;function xn(){Ji.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),rn=!0}function Ye(){ci(),Ji.disconnect(),rn=!1}var Yt=[];function ci(){let $=Ji.takeRecords();Yt.push(()=>$.length>0&&Fi($));let oe=Yt.length;queueMicrotask(()=>{if(Yt.length===oe)for(;Yt.length>0;)Yt.shift()()})}function Oi($){if(!rn)return $();Ye();let oe=$();return xn(),oe}var ui=!1,$i=[];function wi(){ui=!0}function Ei(){ui=!1,Fi($i),$i=[]}function Fi($){if(ui){$i=$i.concat($);return}let oe=[],ke=new Set,Qe=new Map,at=new Map;for(let ht=0;ht<$.length;ht++)if(!$[ht].target._x_ignoreMutationObserver&&($[ht].type==="childList"&&($[ht].removedNodes.forEach(wt=>{wt.nodeType===1&&wt._x_marker&&ke.add(wt)}),$[ht].addedNodes.forEach(wt=>{if(wt.nodeType===1){if(ke.has(wt)){ke.delete(wt);return}wt._x_marker||oe.push(wt)}})),$[ht].type==="attributes")){let wt=$[ht].target,$t=$[ht].attributeName,mi=$[ht].oldValue,hn=()=>{Qe.has(wt)||Qe.set(wt,[]),Qe.get(wt).push({name:$t,value:wt.getAttribute($t)})},Xn=()=>{at.has(wt)||at.set(wt,[]),at.get(wt).push($t)};wt.hasAttribute($t)&&mi===null?hn():wt.hasAttribute($t)?(Xn(),hn()):Xn()}at.forEach((ht,wt)=>{fn(wt,ht)}),Qe.forEach((ht,wt)=>{bt.forEach($t=>$t(wt,ht))});for(let ht of ke)oe.some(wt=>wt.contains(ht))||mt.forEach(wt=>wt(ht));for(let ht of oe)ht.isConnected&&si.forEach(wt=>wt(ht));oe=null,ke=null,Qe=null,at=null}function ft($){return Ee(we($))}function xe($,oe,ke){return $._x_dataStack=[oe,...we(ke||$)],()=>{$._x_dataStack=$._x_dataStack.filter(Qe=>Qe!==oe)}}function we($){return $._x_dataStack?$._x_dataStack:typeof ShadowRoot=="function"&&$ instanceof ShadowRoot?we($.host):$.parentNode?we($.parentNode):[]}function Ee($){return new Proxy({objects:$},tt)}var tt={ownKeys({objects:$}){return Array.from(new Set($.flatMap(oe=>Object.keys(oe))))},has({objects:$},oe){return oe==Symbol.unscopables?!1:$.some(ke=>Object.prototype.hasOwnProperty.call(ke,oe)||Reflect.has(ke,oe))},get({objects:$},oe,ke){return oe=="toJSON"?st:Reflect.get($.find(Qe=>Reflect.has(Qe,oe))||{},oe,ke)},set({objects:$},oe,ke,Qe){const at=$.find(wt=>Object.prototype.hasOwnProperty.call(wt,oe))||$[$.length-1],ht=Object.getOwnPropertyDescriptor(at,oe);return ht?.set&&ht?.get?ht.set.call(Qe,ke)||!0:Reflect.set(at,oe,ke)}};function st(){return Reflect.ownKeys(this).reduce((oe,ke)=>(oe[ke]=Reflect.get(this,ke),oe),{})}function Ct($){let oe=Qe=>typeof Qe=="object"&&!Array.isArray(Qe)&&Qe!==null,ke=(Qe,at="")=>{Object.entries(Object.getOwnPropertyDescriptors(Qe)).forEach(([ht,{value:wt,enumerable:$t}])=>{if($t===!1||wt===void 0||typeof wt=="object"&&wt!==null&&wt.__v_skip)return;let mi=at===""?ht:`${at}.${ht}`;typeof wt=="object"&&wt!==null&&wt._x_interceptor?Qe[ht]=wt.initialize($,mi,ht):oe(wt)&&wt!==Qe&&!(wt instanceof Element)&&ke(wt,mi)})};return ke($)}function yt($,oe=()=>{}){let ke={initialValue:void 0,_x_interceptor:!0,initialize(Qe,at,ht){return $(this.initialValue,()=>Ve(Qe,at),wt=>xt(Qe,at,wt),at,ht)}};return oe(ke),Qe=>{if(typeof Qe=="object"&&Qe!==null&&Qe._x_interceptor){let at=ke.initialize.bind(ke);ke.initialize=(ht,wt,$t)=>{let mi=Qe.initialize(ht,wt,$t);return ke.initialValue=mi,at(ht,wt,$t)}}else ke.initialValue=Qe;return ke}}function Ve($,oe){return oe.split(".").reduce((ke,Qe)=>ke[Qe],$)}function xt($,oe,ke){if(typeof oe=="string"&&(oe=oe.split(".")),oe.length===1)$[oe[0]]=ke;else{if(oe.length===0)throw error;return $[oe[0]]||($[oe[0]]={}),xt($[oe[0]],oe.slice(1),ke)}}var jt={};function kt($,oe){jt[$]=oe}function Lt($,oe){let ke=ai(oe);return Object.entries(jt).forEach(([Qe,at])=>{Object.defineProperty($,`$${Qe}`,{get(){return at(oe,ke)},enumerable:!1})}),$}function ai($){let[oe,ke]=qt($),Qe={interceptor:yt,...oe};return Vi($,ke),Qe}function bi($,oe,ke,...Qe){try{return ke(...Qe)}catch(at){Bi(at,$,oe)}}function Bi(...$){return In(...$)}var In=Dn;function Tt($){In=$}function Dn($,oe,ke=void 0){$=Object.assign($??{message:"No error message given."},{el:oe,expression:ke}),console.warn(`Alpine Expression Error: ${$.message}

${ke?'Expression: "'+ke+`"

`:""}`,oe),setTimeout(()=>{throw $},0)}var Kn=!0;function yn($){let oe=Kn;Kn=!1;let ke=$();return Kn=oe,ke}function An($,oe,ke={}){let Qe;return Ni($,oe)(at=>Qe=at,ke),Qe}function Ni(...$){return Di(...$)}var Di=sn;function gn($){Di=$}var fi;function Xi($){fi=$}function sn($,oe){let ke={};Lt(ke,$);let Qe=[ke,...we($)],at=typeof oe=="function"?Ue(Qe,oe):ut(Qe,oe,$);return bi.bind(null,$,oe,at)}function Ue($,oe){return(ke=()=>{},{scope:Qe={},params:at=[],context:ht}={})=>{if(!Kn){Jt(ke,oe,Ee([Qe,...$]),at);return}let wt=oe.apply(Ee([Qe,...$]),at);Jt(ke,wt)}}var Re={};function _t($,oe){if(Re[$])return Re[$];let ke=Object.getPrototypeOf(async function(){}).constructor,Qe=/^[\n\s]*if.*\(.*\)/.test($.trim())||/^(let|const)\s/.test($.trim())?`(async()=>{ ${$} })()`:$,ht=(()=>{try{let wt=new ke(["__self","scope"],`with (scope) { __self.result = ${Qe} }; __self.finished = true; return __self.result;`);return Object.defineProperty(wt,"name",{value:`[Alpine] ${$}`}),wt}catch(wt){return Bi(wt,oe,$),Promise.resolve()}})();return Re[$]=ht,ht}function ut($,oe,ke){let Qe=_t(oe,ke);return(at=()=>{},{scope:ht={},params:wt=[],context:$t}={})=>{Qe.result=void 0,Qe.finished=!1;let mi=Ee([ht,...$]);if(typeof Qe=="function"){let hn=Qe.call($t,Qe,mi).catch(Xn=>Bi(Xn,ke,oe));Qe.finished?(Jt(at,Qe.result,mi,wt,ke),Qe.result=void 0):hn.then(Xn=>{Jt(at,Xn,mi,wt,ke)}).catch(Xn=>Bi(Xn,ke,oe)).finally(()=>Qe.result=void 0)}}}function Jt($,oe,ke,Qe,at){if(Kn&&typeof oe=="function"){let ht=oe.apply(ke,Qe);ht instanceof Promise?ht.then(wt=>Jt($,wt,ke,Qe)).catch(wt=>Bi(wt,at,oe)):$(ht)}else typeof oe=="object"&&oe instanceof Promise?oe.then(ht=>$(ht)):$(oe)}function ni(...$){return fi(...$)}function pt($,oe,ke={}){var Qe,at;let ht={};Lt(ht,$);let wt=[ht,...we($)],$t=Ee([(Qe=ke.scope)!=null?Qe:{},...wt]),mi=(at=ke.params)!=null?at:[];if(oe.includes("await")){let hn=Object.getPrototypeOf(async function(){}).constructor,Xn=/^[\n\s]*if.*\(.*\)/.test(oe.trim())||/^(let|const)\s/.test(oe.trim())?`(async()=>{ ${oe} })()`:oe;return new hn(["scope"],`with (scope) { let __result = ${Xn}; return __result }`).call(ke.context,$t)}else{let hn=/^[\n\s]*if.*\(.*\)/.test(oe.trim())||/^(let|const)\s/.test(oe.trim())?`(()=>{ ${oe} })()`:oe,Ca=new Function(["scope"],`with (scope) { let __result = ${hn}; return __result }`).call(ke.context,$t);return typeof Ca=="function"&&Kn?Ca.apply($t,mi):Ca}}var Gt="x-";function ti($=""){return Gt+$}function Ci($){Gt=$}var pn={};function Gi($,oe){return pn[$]=oe,{before(ke){if(!pn[ke]){console.warn(String.raw`Cannot find directive \`${ke}\`. \`${$}\` will use the default order of execution`);return}const Qe=Hn.indexOf(ke);Hn.splice(Qe>=0?Qe:Hn.indexOf("DEFAULT"),0,$)}}}function ki($){return Object.keys(pn).includes($)}function Hi($,oe,ke){if(oe=Array.from(oe),$._x_virtualDirectives){let ht=Object.entries($._x_virtualDirectives).map(([$t,mi])=>({name:$t,value:mi})),wt=Yi(ht);ht=ht.map($t=>wt.find(mi=>mi.name===$t.name)?{name:`x-bind:${$t.name}`,value:`"${$t.value}"`}:$t),oe=oe.concat(ht)}let Qe={};return oe.map(nr((ht,wt)=>Qe[ht]=wt)).filter(Cn).map(vn(Qe,ke)).sort(ds).map(ht=>Ma($,ht))}function Yi($){return Array.from($).map(nr()).filter(oe=>!Cn(oe))}var on=!1,ha=new Map,_n=Symbol();function Wn($){on=!0;let oe=Symbol();_n=oe,ha.set(oe,[]);let ke=()=>{for(;ha.get(oe).length;)ha.get(oe).shift()();ha.delete(oe)},Qe=()=>{on=!1,ke()};$(ke),Qe()}function qt($){let oe=[],ke=$t=>oe.push($t),[Qe,at]=Kt($);return oe.push(at),[{Alpine:qo,effect:Qe,cleanup:ke,evaluateLater:Ni.bind(Ni,$),evaluate:An.bind(An,$)},()=>oe.forEach($t=>$t())]}function Ma($,oe){let ke=()=>{},Qe=pn[oe.type]||ke,[at,ht]=qt($);oi($,oe.original,ht);let wt=()=>{$._x_ignore||$._x_ignoreSelf||(Qe.inline&&Qe.inline($,oe,at),Qe=Qe.bind(Qe,$,oe,at),on?ha.get(_n).push(Qe):Qe())};return wt.runCleanups=ht,wt}var nn=($,oe)=>({name:ke,value:Qe})=>(ke.startsWith($)&&(ke=ke.replace($,oe)),{name:ke,value:Qe}),Ja=$=>$;function nr($=()=>{}){return({name:oe,value:ke})=>{let{name:Qe,value:at}=qn.reduce((ht,wt)=>wt(ht),{name:oe,value:ke});return Qe!==oe&&$(Qe,oe),{name:Qe,value:at}}}var qn=[];function Zn($){qn.push($)}function Cn({name:$}){return Xo().test($)}var Xo=()=>new RegExp(`^${Gt}([^:^.]+)\\b`);function vn($,oe){return({name:ke,value:Qe})=>{ke===Qe&&(Qe="");let at=ke.match(Xo()),ht=ke.match(/:([a-zA-Z0-9\-_:]+)/),wt=ke.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],$t=oe||$[ke]||ke;return{type:at?at[1]:null,value:ht?ht[1]:null,modifiers:wt.map(mi=>mi.replace(".","")),expression:Qe,original:$t}}}var Is="DEFAULT",Hn=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Is,"teleport"];function ds($,oe){let ke=Hn.indexOf($.type)===-1?Is:$.type,Qe=Hn.indexOf(oe.type)===-1?Is:oe.type;return Hn.indexOf(ke)-Hn.indexOf(Qe)}function fs($,oe,ke={}){$.dispatchEvent(new CustomEvent(oe,{detail:ke,bubbles:!0,composed:!0,cancelable:!0}))}function fa($,oe){if(typeof ShadowRoot=="function"&&$ instanceof ShadowRoot){Array.from($.children).forEach(at=>fa(at,oe));return}let ke=!1;if(oe($,()=>ke=!0),ke)return;let Qe=$.firstElementChild;for(;Qe;)fa(Qe,oe),Qe=Qe.nextElementSibling}function Xa($,...oe){console.warn(`Alpine Warning: ${$}`,...oe)}var nc=!1;function Po(){nc&&Xa("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),nc=!0,document.body||Xa("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),fs(document,"alpine:init"),fs(document,"alpine:initializing"),xn(),gi(oe=>br(oe,fa)),Vi(oe=>Cr(oe)),Ii((oe,ke)=>{Hi(oe,ke).forEach(Qe=>Qe())});let $=oe=>!Lr(oe.parentElement,!0);Array.from(document.querySelectorAll(ze().join(","))).filter($).forEach(oe=>{br(oe)}),fs(document,"alpine:initialized"),setTimeout(()=>{mn()})}var Ea=[],dr=[];function Dt(){return Ea.map($=>$())}function ze(){return Ea.concat(dr).map($=>$())}function Mn($){Ea.push($)}function fr($){dr.push($)}function Lr($,oe=!1){return Fr($,ke=>{if((oe?ze():Dt()).some(at=>ke.matches(at)))return!0})}function Fr($,oe){if($){if(oe($))return $;if($._x_teleportBack&&($=$._x_teleportBack),$.parentNode instanceof ShadowRoot)return Fr($.parentNode.host,oe);if($.parentElement)return Fr($.parentElement,oe)}}function Fl($){return Dt().some(oe=>$.matches(oe))}var Ar=[];function Nn($){Ar.push($)}var Ua=1;function br($,oe=fa,ke=()=>{}){Fr($,Qe=>Qe._x_ignore)||Wn(()=>{oe($,(Qe,at)=>{Qe._x_marker||(ke(Qe,at),Ar.forEach(ht=>ht(Qe,at)),Hi(Qe,Qe.attributes).forEach(ht=>ht()),Qe._x_ignore||(Qe._x_marker=Ua++),Qe._x_ignore&&at())})})}function Cr($,oe=fa){oe($,ke=>{Mi(ke),fn(ke),delete ke._x_marker})}function mn(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([oe,ke,Qe])=>{ki(ke)||Qe.some(at=>{if(document.querySelector(at))return Xa(`found "${at}", but missing ${oe} plugin`),!0})})}var eo=[],Yo=!1;function Jn($=()=>{}){return queueMicrotask(()=>{Yo||setTimeout(()=>{na()})}),new Promise(oe=>{eo.push(()=>{$(),oe()})})}function na(){for(Yo=!1;eo.length;)eo.shift()()}function ar(){Yo=!0}function ia($,oe){return Array.isArray(oe)?_i($,oe.join(" ")):typeof oe=="object"&&oe!==null?Na($,oe):typeof oe=="function"?ia($,oe()):_i($,oe)}function _i($,oe){let ke=at=>at.split(" ").filter(ht=>!$.classList.contains(ht)).filter(Boolean),Qe=at=>($.classList.add(...at),()=>{$.classList.remove(...at)});return oe=oe===!0?oe="":oe||"",Qe(ke(oe))}function Na($,oe){let ke=$t=>$t.split(" ").filter(Boolean),Qe=Object.entries(oe).flatMap(([$t,mi])=>mi?ke($t):!1).filter(Boolean),at=Object.entries(oe).flatMap(([$t,mi])=>mi?!1:ke($t)).filter(Boolean),ht=[],wt=[];return at.forEach($t=>{$.classList.contains($t)&&($.classList.remove($t),wt.push($t))}),Qe.forEach($t=>{$.classList.contains($t)||($.classList.add($t),ht.push($t))}),()=>{wt.forEach($t=>$.classList.add($t)),ht.forEach($t=>$.classList.remove($t))}}function $n($,oe){return typeof oe=="object"&&oe!==null?ge($,oe):Ce($,oe)}function ge($,oe){let ke={};return Object.entries(oe).forEach(([Qe,at])=>{ke[Qe]=$.style[Qe],Qe.startsWith("--")||(Qe=Me(Qe)),$.style.setProperty(Qe,at)}),setTimeout(()=>{$.style.length===0&&$.removeAttribute("style")}),()=>{$n($,ke)}}function Ce($,oe){let ke=$.getAttribute("style",oe);return $.setAttribute("style",oe),()=>{$.setAttribute("style",ke||"")}}function Me($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qe($,oe=()=>{}){let ke=!1;return function(){ke?oe.apply(this,arguments):(ke=!0,$.apply(this,arguments))}}Gi("transition",($,{value:oe,modifiers:ke,expression:Qe},{evaluate:at})=>{typeof Qe=="function"&&(Qe=at(Qe)),Qe!==!1&&(!Qe||typeof Qe=="boolean"?Bt($,ke,oe):$e($,Qe,oe))});function $e($,oe,ke){Qt($,ia,""),{enter:at=>{$._x_transition.enter.during=at},"enter-start":at=>{$._x_transition.enter.start=at},"enter-end":at=>{$._x_transition.enter.end=at},leave:at=>{$._x_transition.leave.during=at},"leave-start":at=>{$._x_transition.leave.start=at},"leave-end":at=>{$._x_transition.leave.end=at}}[ke](oe)}function Bt($,oe,ke){Qt($,$n);let Qe=!oe.includes("in")&&!oe.includes("out")&&!ke,at=Qe||oe.includes("in")||["enter"].includes(ke),ht=Qe||oe.includes("out")||["leave"].includes(ke);oe.includes("in")&&!Qe&&(oe=oe.filter((oa,da)=>da<oe.indexOf("out"))),oe.includes("out")&&!Qe&&(oe=oe.filter((oa,da)=>da>oe.indexOf("out")));let wt=!oe.includes("opacity")&&!oe.includes("scale"),$t=wt||oe.includes("opacity"),mi=wt||oe.includes("scale"),hn=$t?0:1,Xn=mi?cn(oe,"scale",95)/100:1,Ca=cn(oe,"delay",0)/1e3,Yr=cn(oe,"origin","center"),Br="opacity, transform",as=cn(oe,"duration",150)/1e3,Sa=cn(oe,"duration",75)/1e3,Fn="cubic-bezier(0.4, 0.0, 0.2, 1)";at&&($._x_transition.enter.during={transformOrigin:Yr,transitionDelay:`${Ca}s`,transitionProperty:Br,transitionDuration:`${as}s`,transitionTimingFunction:Fn},$._x_transition.enter.start={opacity:hn,transform:`scale(${Xn})`},$._x_transition.enter.end={opacity:1,transform:"scale(1)"}),ht&&($._x_transition.leave.during={transformOrigin:Yr,transitionDelay:`${Ca}s`,transitionProperty:Br,transitionDuration:`${Sa}s`,transitionTimingFunction:Fn},$._x_transition.leave.start={opacity:1,transform:"scale(1)"},$._x_transition.leave.end={opacity:hn,transform:`scale(${Xn})`})}function Qt($,oe,ke={}){$._x_transition||($._x_transition={enter:{during:ke,start:ke,end:ke},leave:{during:ke,start:ke,end:ke},in(Qe=()=>{},at=()=>{}){li($,oe,{during:this.enter.during,start:this.enter.start,end:this.enter.end},Qe,at)},out(Qe=()=>{},at=()=>{}){li($,oe,{during:this.leave.during,start:this.leave.start,end:this.leave.end},Qe,at)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function($,oe,ke,Qe){const at=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let ht=()=>at(ke);if(oe){$._x_transition&&($._x_transition.enter||$._x_transition.leave)?$._x_transition.enter&&(Object.entries($._x_transition.enter.during).length||Object.entries($._x_transition.enter.start).length||Object.entries($._x_transition.enter.end).length)?$._x_transition.in(ke):ht():$._x_transition?$._x_transition.in(ke):ht();return}$._x_hidePromise=$._x_transition?new Promise((wt,$t)=>{$._x_transition.out(()=>{},()=>wt(Qe)),$._x_transitioning&&$._x_transitioning.beforeCancel(()=>$t({isFromCancelledTransition:!0}))}):Promise.resolve(Qe),queueMicrotask(()=>{let wt=Ft($);wt?(wt._x_hideChildren||(wt._x_hideChildren=[]),wt._x_hideChildren.push($)):at(()=>{let $t=mi=>{let hn=Promise.all([mi._x_hidePromise,...(mi._x_hideChildren||[]).map($t)]).then(([Xn])=>Xn?.());return delete mi._x_hidePromise,delete mi._x_hideChildren,hn};$t($).catch(mi=>{if(!mi.isFromCancelledTransition)throw mi})})})};function Ft($){let oe=$.parentNode;if(oe)return oe._x_hidePromise?oe:Ft(oe)}function li($,oe,{during:ke,start:Qe,end:at}={},ht=()=>{},wt=()=>{}){if($._x_transitioning&&$._x_transitioning.cancel(),Object.keys(ke).length===0&&Object.keys(Qe).length===0&&Object.keys(at).length===0){ht(),wt();return}let $t,mi,hn;Qi($,{start(){$t=oe($,Qe)},during(){mi=oe($,ke)},before:ht,end(){$t(),hn=oe($,at)},after:wt,cleanup(){mi(),hn()}})}function Qi($,oe){let ke,Qe,at,ht=qe(()=>{Oi(()=>{ke=!0,Qe||oe.before(),at||(oe.end(),na()),oe.after(),$.isConnected&&oe.cleanup(),delete $._x_transitioning})});$._x_transitioning={beforeCancels:[],beforeCancel(wt){this.beforeCancels.push(wt)},cancel:qe(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();ht()}),finish:ht},Oi(()=>{oe.start(),oe.during()}),ar(),requestAnimationFrame(()=>{if(ke)return;let wt=Number(getComputedStyle($).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,$t=Number(getComputedStyle($).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;wt===0&&(wt=Number(getComputedStyle($).animationDuration.replace("s",""))*1e3),Oi(()=>{oe.before()}),Qe=!0,requestAnimationFrame(()=>{ke||(Oi(()=>{oe.end()}),na(),setTimeout($._x_transitioning.finish,wt+$t),at=!0)})})}function cn($,oe,ke){if($.indexOf(oe)===-1)return ke;const Qe=$[$.indexOf(oe)+1];if(!Qe||oe==="scale"&&isNaN(Qe))return ke;if(oe==="duration"||oe==="delay"){let at=Qe.match(/([0-9]+)ms/);if(at)return at[1]}return oe==="origin"&&["top","right","left","center","bottom"].includes($[$.indexOf(oe)+2])?[Qe,$[$.indexOf(oe)+2]].join(" "):Qe}var Ln=!1;function ra($,oe=()=>{}){return(...ke)=>Ln?oe(...ke):$(...ke)}function pa($){return(...oe)=>Ln&&$(...oe)}var sa=[];function Un($){sa.push($)}function ja($,oe){sa.forEach(ke=>ke($,oe)),Ln=!0,aa(()=>{br(oe,(ke,Qe)=>{Qe(ke,()=>{})})}),Ln=!1}var Vn=!1;function an($,oe){oe._x_dataStack||(oe._x_dataStack=$._x_dataStack),Ln=!0,Vn=!0,aa(()=>{ca(oe)}),Ln=!1,Vn=!1}function ca($){let oe=!1;br($,(Qe,at)=>{fa(Qe,(ht,wt)=>{if(oe&&Fl(ht))return wt();oe=!0,at(ht,wt)})})}function aa($){let oe=Ie;Pt((ke,Qe)=>{let at=oe(ke);return nt(at),()=>{}}),$(),Pt(oe)}function Sr($,oe,ke,Qe=[]){switch($._x_bindings||($._x_bindings=De({})),$._x_bindings[oe]=ke,oe=Qe.includes("camel")?rr(oe):oe,oe){case"value":wa($,ke);break;case"style":Wt($,ke);break;case"class":Va($,ke);break;case"selected":case"checked":Tn($,oe,ke);break;default:ea($,oe,ke);break}}function wa($,oe){if(Lu($))$.attributes.value===void 0&&($.value=oe),window.fromModel&&(typeof oe=="boolean"?$.checked=ba($.value)===oe:$.checked=Ms($.value,oe));else if(Qn($))Number.isInteger(oe)?$.value=oe:!Array.isArray(oe)&&typeof oe!="boolean"&&![null,void 0].includes(oe)?$.value=String(oe):Array.isArray(oe)?$.checked=oe.some(ke=>Ms(ke,$.value)):$.checked=!!oe;else if($.tagName==="SELECT")Ko($,oe);else{if($.value===oe)return;$.value=oe===void 0?"":oe}}function Va($,oe){$._x_undoAddedClasses&&$._x_undoAddedClasses(),$._x_undoAddedClasses=ia($,oe)}function Wt($,oe){$._x_undoAddedStyles&&$._x_undoAddedStyles(),$._x_undoAddedStyles=$n($,oe)}function Tn($,oe,ke){ea($,oe,ke),xo($,oe,ke)}function ea($,oe,ke){[null,void 0,!1].includes(ke)&&Ya(oe)?$.removeAttribute(oe):(Do(oe)&&(ke=oe),ka($,oe,ke))}function ka($,oe,ke){$.getAttribute(oe)!=ke&&$.setAttribute(oe,ke)}function xo($,oe,ke){$[oe]!==ke&&($[oe]=ke)}function Ko($,oe){const ke=[].concat(oe).map(Qe=>Qe+"");Array.from($.options).forEach(Qe=>{Qe.selected=ke.includes(Qe.value)})}function rr($){return $.toLowerCase().replace(/-(\w)/g,(oe,ke)=>ke.toUpperCase())}function Ms($,oe){return $==oe}function ba($){return[1,"1","true","on","yes",!0].includes($)?!0:[0,"0","false","off","no",!1].includes($)?!1:$?!!$:null}var er=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Do($){return er.has($)}function Ya($){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes($)}function sr($,oe,ke){return $._x_bindings&&$._x_bindings[oe]!==void 0?$._x_bindings[oe]:Ta($,oe,ke)}function _o($,oe,ke,Qe=!0){if($._x_bindings&&$._x_bindings[oe]!==void 0)return $._x_bindings[oe];if($._x_inlineBindings&&$._x_inlineBindings[oe]!==void 0){let at=$._x_inlineBindings[oe];return at.extract=Qe,yn(()=>An($,at.expression))}return Ta($,oe,ke)}function Ta($,oe,ke){let Qe=$.getAttribute(oe);return Qe===null?typeof ke=="function"?ke():ke:Qe===""?!0:Do(oe)?!![oe,"true"].includes(Qe):Qe}function Qn($){return $.type==="checkbox"||$.localName==="ui-checkbox"||$.localName==="ui-switch"}function Lu($){return $.type==="radio"||$.localName==="ui-radio"}function Aa($,oe){let ke;return function(){const Qe=this,at=arguments,ht=function(){ke=null,$.apply(Qe,at)};clearTimeout(ke),ke=setTimeout(ht,oe)}}function Xr($,oe){let ke;return function(){let Qe=this,at=arguments;ke||($.apply(Qe,at),ke=!0,setTimeout(()=>ke=!1,oe))}}function Hr({get:$,set:oe},{get:ke,set:Qe}){let at=!0,ht,wt=Ie(()=>{let $t=$(),mi=ke();if(at)Qe(Vs($t)),at=!1;else{let hn=JSON.stringify($t),Xn=JSON.stringify(mi);hn!==ht?Qe(Vs($t)):hn!==Xn&&oe(Vs(mi))}ht=JSON.stringify($()),JSON.stringify(ke())});return()=>{nt(wt)}}function Vs($){return typeof $=="object"?JSON.parse(JSON.stringify($)):$}function lr($){(Array.isArray($)?$:[$]).forEach(ke=>ke(qo))}var Ls={},Pl=!1;function Pr($,oe){if(Pl||(Ls=De(Ls),Pl=!0),oe===void 0)return Ls[$];Ls[$]=oe,Ct(Ls[$]),typeof oe=="object"&&oe!==null&&oe.hasOwnProperty("init")&&typeof oe.init=="function"&&Ls[$].init()}function bh(){return Ls}var Dl={};function ru($,oe){let ke=typeof oe!="function"?()=>oe:oe;return $ instanceof Element?Fu($,ke()):(Dl[$]=ke,()=>{})}function vo($){return Object.entries(Dl).forEach(([oe,ke])=>{Object.defineProperty($,oe,{get(){return(...Qe)=>ke(...Qe)}})}),$}function Fu($,oe,ke){let Qe=[];for(;Qe.length;)Qe.pop()();let at=Object.entries(oe).map(([wt,$t])=>({name:wt,value:$t})),ht=Yi(at);return at=at.map(wt=>ht.find($t=>$t.name===wt.name)?{name:`x-bind:${wt.name}`,value:`"${wt.value}"`}:wt),Hi($,at,ke).map(wt=>{Qe.push(wt.runCleanups),wt()}),()=>{for(;Qe.length;)Qe.pop()()}}var su={};function ou($,oe){su[$]=oe}function Fc($,oe){return Object.entries(su).forEach(([ke,Qe])=>{Object.defineProperty($,ke,{get(){return(...at)=>Qe.bind(oe)(...at)},enumerable:!1})}),$}var Ro={get reactive(){return De},get release(){return nt},get effect(){return Ie},get raw(){return je},get transaction(){return It},version:"3.15.8",flushAndStopDeferringMutations:Ei,dontAutoEvaluateFunctions:yn,disableEffectScheduling:Mt,startObservingMutations:xn,stopObservingMutations:Ye,setReactivityEngine:We,onAttributeRemoved:oi,onAttributesAdded:Ii,closestDataStack:we,skipDuringClone:ra,onlyDuringClone:pa,addRootSelector:Mn,addInitSelector:fr,setErrorHandler:Tt,interceptClone:Un,addScopeToNode:xe,deferMutations:wi,mapAttributes:Zn,evaluateLater:Ni,interceptInit:Nn,initInterceptors:Ct,injectMagics:Lt,setEvaluator:gn,setRawEvaluator:Xi,mergeProxies:Ee,extractProp:_o,findClosest:Fr,onElRemoved:Vi,closestRoot:Lr,destroyTree:Cr,interceptor:yt,transition:li,setStyles:$n,mutateDom:Oi,directive:Gi,entangle:Hr,throttle:Xr,debounce:Aa,evaluate:An,evaluateRaw:ni,initTree:br,nextTick:Jn,prefixed:ti,prefix:Ci,plugin:lr,magic:kt,store:Pr,start:Po,clone:an,cloneNode:ja,bound:sr,$data:ft,watch:di,walk:fa,data:ou,bind:ru},qo=Ro,Fs=x(O());kt("nextTick",()=>Jn),kt("dispatch",$=>fs.bind(fs,$)),kt("watch",($,{evaluateLater:oe,cleanup:ke})=>(Qe,at)=>{let ht=oe(Qe),$t=di(()=>{let mi;return ht(hn=>mi=hn),mi},at);ke($t)}),kt("store",bh),kt("data",$=>ft($)),kt("root",$=>Lr($)),kt("refs",$=>($._x_refs_proxy||($._x_refs_proxy=Ee(Pu($))),$._x_refs_proxy));function Pu($){let oe=[];return Fr($,ke=>{ke._x_refs&&oe.push(ke._x_refs)}),oe}var to={};function Du($){return to[$]||(to[$]=0),++to[$]}function Ru($,oe){return Fr($,ke=>{if(ke._x_ids&&ke._x_ids[oe])return!0})}function xd($,oe){$._x_ids||($._x_ids={}),$._x_ids[oe]||($._x_ids[oe]=Du(oe))}kt("id",($,{cleanup:oe})=>(ke,Qe=null)=>{let at=`${ke}${Qe?`-${Qe}`:""}`;return Ch($,at,oe,()=>{let ht=Ru($,ke),wt=ht?ht._x_ids[ke]:Du(ke);return Qe?`${ke}-${wt}-${Qe}`:`${ke}-${wt}`})}),Un(($,oe)=>{$._x_id&&(oe._x_id=$._x_id)});function Ch($,oe,ke,Qe){if($._x_id||($._x_id={}),$._x_id[oe])return $._x_id[oe];let at=Qe();return $._x_id[oe]=at,ke(()=>{delete $._x_id[oe]}),at}kt("el",$=>$),vs("Focus","focus","focus"),vs("Persist","persist","persist");function vs($,oe,ke){kt(oe,Qe=>Xa(`You can't use [$${oe}] without first installing the "${$}" plugin here: https://alpinejs.dev/plugins/${ke}`,Qe))}Gi("modelable",($,{expression:oe},{effect:ke,evaluateLater:Qe,cleanup:at})=>{let ht=Qe(oe),wt=()=>{let Xn;return ht(Ca=>Xn=Ca),Xn},$t=Qe(`${oe} = __placeholder`),mi=Xn=>$t(()=>{},{scope:{__placeholder:Xn}}),hn=wt();mi(hn),queueMicrotask(()=>{if(!$._x_model)return;$._x_removeModelListeners.default();let Xn=$._x_model.get,Ca=$._x_model.set,Yr=Hr({get(){return Xn()},set(Br){Ca(Br)}},{get(){return wt()},set(Br){mi(Br)}});at(Yr)})}),Gi("teleport",($,{modifiers:oe,expression:ke},{cleanup:Qe})=>{$.tagName.toLowerCase()!=="template"&&Xa("x-teleport can only be used on a <template> tag",$);let at=Pc(ke),ht=$.content.cloneNode(!0).firstElementChild;$._x_teleport=ht,ht._x_teleportBack=$,$.setAttribute("data-teleport-template",!0),ht.setAttribute("data-teleport-target",!0),$._x_forwardEvents&&$._x_forwardEvents.forEach($t=>{ht.addEventListener($t,mi=>{mi.stopPropagation(),$.dispatchEvent(new mi.constructor(mi.type,mi))})}),xe(ht,{},$);let wt=($t,mi,hn)=>{hn.includes("prepend")?mi.parentNode.insertBefore($t,mi):hn.includes("append")?mi.parentNode.insertBefore($t,mi.nextSibling):mi.appendChild($t)};Oi(()=>{wt(ht,at,oe),ra(()=>{br(ht)})()}),$._x_teleportPutBack=()=>{let $t=Pc(ke);Oi(()=>{wt($._x_teleport,$t,oe)})},Qe(()=>Oi(()=>{ht.remove(),Cr(ht)}))});var _d=document.createElement("div");function Pc($){let oe=ra(()=>document.querySelector($),()=>_d)();return oe||Xa(`Cannot find x-teleport element for selector: "${$}"`),oe}var Oo=()=>{};Oo.inline=($,{modifiers:oe},{cleanup:ke})=>{oe.includes("self")?$._x_ignoreSelf=!0:$._x_ignore=!0,ke(()=>{oe.includes("self")?delete $._x_ignoreSelf:delete $._x_ignore})},Gi("ignore",Oo),Gi("effect",ra(($,{expression:oe},{effect:ke})=>{ke(Ni($,oe))}));function ga($,oe,ke,Qe){let at=$,ht=mi=>Qe(mi),wt={},$t=(mi,hn)=>Xn=>hn(mi,Xn);if(ke.includes("dot")&&(oe=ac(oe)),ke.includes("camel")&&(oe=Se(oe)),ke.includes("passive")&&(wt.passive=!0),ke.includes("capture")&&(wt.capture=!0),ke.includes("window")&&(at=window),ke.includes("document")&&(at=document),ke.includes("debounce")){let mi=ke[ke.indexOf("debounce")+1]||"invalid-wait",hn=p(mi.split("ms")[0])?Number(mi.split("ms")[0]):250;ht=Aa(ht,hn)}if(ke.includes("throttle")){let mi=ke[ke.indexOf("throttle")+1]||"invalid-wait",hn=p(mi.split("ms")[0])?Number(mi.split("ms")[0]):250;ht=Xr(ht,hn)}return ke.includes("prevent")&&(ht=$t(ht,(mi,hn)=>{hn.preventDefault(),mi(hn)})),ke.includes("stop")&&(ht=$t(ht,(mi,hn)=>{hn.stopPropagation(),mi(hn)})),ke.includes("once")&&(ht=$t(ht,(mi,hn)=>{mi(hn),at.removeEventListener(oe,ht,wt)})),(ke.includes("away")||ke.includes("outside"))&&(at=document,ht=$t(ht,(mi,hn)=>{$.contains(hn.target)||hn.target.isConnected!==!1&&($.offsetWidth<1&&$.offsetHeight<1||$._x_isShown!==!1&&mi(hn))})),ke.includes("self")&&(ht=$t(ht,(mi,hn)=>{hn.target===$&&mi(hn)})),oe==="submit"&&(ht=$t(ht,(mi,hn)=>{hn.target._x_pendingModelUpdates&&hn.target._x_pendingModelUpdates.forEach(Xn=>Xn()),mi(hn)})),(w(oe)||k(oe))&&(ht=$t(ht,(mi,hn)=>{T(hn,ke)||mi(hn)})),at.addEventListener(oe,ht,wt),()=>{at.removeEventListener(oe,ht,wt)}}function ac($){return $.replace(/-/g,".")}function Se($){return $.toLowerCase().replace(/-(\w)/g,(oe,ke)=>ke.toUpperCase())}function p($){return!Array.isArray($)&&!isNaN($)}function y($){return[" ","_"].includes($)?$:$.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function w($){return["keydown","keyup"].includes($)}function k($){return["contextmenu","click","mouse"].some(oe=>$.includes(oe))}function T($,oe){let ke=oe.filter(ht=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll","blur","change","lazy"].includes(ht));if(ke.includes("debounce")){let ht=ke.indexOf("debounce");ke.splice(ht,p((ke[ht+1]||"invalid-wait").split("ms")[0])?2:1)}if(ke.includes("throttle")){let ht=ke.indexOf("throttle");ke.splice(ht,p((ke[ht+1]||"invalid-wait").split("ms")[0])?2:1)}if(ke.length===0||ke.length===1&&R($.key).includes(ke[0]))return!1;const at=["ctrl","shift","alt","meta","cmd","super"].filter(ht=>ke.includes(ht));return ke=ke.filter(ht=>!at.includes(ht)),!(at.length>0&&at.filter(wt=>((wt==="cmd"||wt==="super")&&(wt="meta"),$[`${wt}Key`])).length===at.length&&(k($.type)||R($.key).includes(ke[0])))}function R($){if(!$)return[];$=y($);let oe={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return oe[$]=$,Object.keys(oe).map(ke=>{if(oe[ke]===$)return ke}).filter(ke=>ke)}Gi("model",($,{modifiers:oe,expression:ke},{effect:Qe,cleanup:at})=>{let ht=$;oe.includes("parent")&&(ht=$.parentNode);let wt=Ni(ht,ke),$t;typeof ke=="string"?$t=Ni(ht,`${ke} = __placeholder`):typeof ke=="function"&&typeof ke()=="string"?$t=Ni(ht,`${ke()} = __placeholder`):$t=()=>{};let mi=()=>{let Sa;return wt(Fn=>Sa=Fn),Be(Sa)?Sa.get():Sa},hn=Sa=>{let Fn;wt(oa=>Fn=oa),Be(Fn)?Fn.set(Sa):$t(()=>{},{scope:{__placeholder:Sa}})};typeof ke=="string"&&$.type==="radio"&&Oi(()=>{$.hasAttribute("name")||$.setAttribute("name",ke)});let Xn=oe.includes("change")||oe.includes("lazy"),Ca=oe.includes("blur"),Yr=oe.includes("enter"),Br=Xn||Ca||Yr,as;if(Ln)as=()=>{};else if(Br){let Sa=[],Fn=oa=>hn(z($,oe,oa,mi()));if(Xn&&Sa.push(ga($,"change",oe,Fn)),Ca&&(Sa.push(ga($,"blur",oe,Fn)),$.form)){let oa=()=>Fn({target:$});$.form._x_pendingModelUpdates||($.form._x_pendingModelUpdates=[]),$.form._x_pendingModelUpdates.push(oa),at(()=>$.form._x_pendingModelUpdates.splice($.form._x_pendingModelUpdates.indexOf(oa),1))}Yr&&Sa.push(ga($,"keydown",oe,oa=>{oa.key==="Enter"&&Fn(oa)})),as=()=>Sa.forEach(oa=>oa())}else{let Sa=$.tagName.toLowerCase()==="select"||["checkbox","radio"].includes($.type)?"change":"input";as=ga($,Sa,oe,Fn=>{hn(z($,oe,Fn,mi()))})}if(oe.includes("fill")&&([void 0,null,""].includes(mi())||Qn($)&&Array.isArray(mi())||$.tagName.toLowerCase()==="select"&&$.multiple)&&hn(z($,oe,{target:$},mi())),$._x_removeModelListeners||($._x_removeModelListeners={}),$._x_removeModelListeners.default=as,at(()=>$._x_removeModelListeners.default()),$.form){let Sa=ga($.form,"reset",[],Fn=>{Jn(()=>$._x_model&&$._x_model.set(z($,oe,{target:$},mi())))});at(()=>Sa())}$._x_model={get(){return mi()},set(Sa){hn(Sa)}},$._x_forceModelUpdate=Sa=>{Sa===void 0&&typeof ke=="string"&&ke.match(/\./)&&(Sa=""),window.fromModel=!0,Oi(()=>Sr($,"value",Sa)),delete window.fromModel},Qe(()=>{let Sa=mi();oe.includes("unintrusive")&&document.activeElement.isSameNode($)||$._x_forceModelUpdate(Sa)})});function z($,oe,ke,Qe){return Oi(()=>{if(ke instanceof CustomEvent&&ke.detail!==void 0)return ke.detail!==null&&ke.detail!==void 0?ke.detail:ke.target.value;if(Qn($))if(Array.isArray(Qe)){let at=null;return oe.includes("number")?at=W(ke.target.value):oe.includes("boolean")?at=ba(ke.target.value):at=ke.target.value,ke.target.checked?Qe.includes(at)?Qe:Qe.concat([at]):Qe.filter(ht=>!ee(ht,at))}else return ke.target.checked;else{if($.tagName.toLowerCase()==="select"&&$.multiple)return oe.includes("number")?Array.from(ke.target.selectedOptions).map(at=>{let ht=at.value||at.text;return W(ht)}):oe.includes("boolean")?Array.from(ke.target.selectedOptions).map(at=>{let ht=at.value||at.text;return ba(ht)}):Array.from(ke.target.selectedOptions).map(at=>at.value||at.text);{let at;return Lu($)?ke.target.checked?at=ke.target.value:at=Qe:at=ke.target.value,oe.includes("number")?W(at):oe.includes("boolean")?ba(at):oe.includes("trim")?at.trim():at}}})}function W($){let oe=$?parseFloat($):null;return Ae(oe)?oe:$}function ee($,oe){return $==oe}function Ae($){return!Array.isArray($)&&!isNaN($)}function Be($){return $!==null&&typeof $=="object"&&typeof $.get=="function"&&typeof $.set=="function"}Gi("cloak",$=>queueMicrotask(()=>Oi(()=>$.removeAttribute(ti("cloak"))))),fr(()=>`[${ti("init")}]`),Gi("init",ra(($,{expression:oe},{evaluate:ke})=>typeof oe=="string"?!!oe.trim()&&ke(oe,{},!1):ke(oe,{},!1))),Gi("text",($,{expression:oe},{effect:ke,evaluateLater:Qe})=>{let at=Qe(oe);ke(()=>{at(ht=>{Oi(()=>{$.textContent=ht})})})}),Gi("html",($,{expression:oe},{effect:ke,evaluateLater:Qe})=>{let at=Qe(oe);ke(()=>{at(ht=>{Oi(()=>{$.innerHTML=ht,$._x_ignoreSelf=!0,br($),delete $._x_ignoreSelf})})})}),Zn(nn(":",Ja(ti("bind:"))));var Fe=($,{value:oe,modifiers:ke,expression:Qe,original:at},{effect:ht,cleanup:wt})=>{if(!oe){let mi={};vo(mi),Ni($,Qe)(Xn=>{Fu($,Xn,at)},{scope:mi});return}if(oe==="key")return Ke($,Qe);if($._x_inlineBindings&&$._x_inlineBindings[oe]&&$._x_inlineBindings[oe].extract)return;let $t=Ni($,Qe);ht(()=>$t(mi=>{mi===void 0&&typeof Qe=="string"&&Qe.match(/\./)&&(mi=""),Oi(()=>Sr($,oe,mi,ke))})),wt(()=>{$._x_undoAddedClasses&&$._x_undoAddedClasses(),$._x_undoAddedStyles&&$._x_undoAddedStyles()})};Fe.inline=($,{value:oe,modifiers:ke,expression:Qe})=>{oe&&($._x_inlineBindings||($._x_inlineBindings={}),$._x_inlineBindings[oe]={expression:Qe,extract:!1})},Gi("bind",Fe);function Ke($,oe){$._x_keyExpression=oe}Mn(()=>`[${ti("data")}]`),Gi("data",($,{expression:oe},{cleanup:ke})=>{if(gt($))return;oe=oe===""?"{}":oe;let Qe={};Lt(Qe,$);let at={};Fc(at,Qe);let ht=An($,oe,{scope:at});(ht===void 0||ht===!0)&&(ht={}),Lt(ht,$);let wt=De(ht);Ct(wt);let $t=xe($,wt);wt.init&&An($,wt.init),ke(()=>{wt.destroy&&An($,wt.destroy),$t()})}),Un(($,oe)=>{$._x_dataStack&&(oe._x_dataStack=$._x_dataStack,oe.setAttribute("data-has-alpine-state",!0))});function gt($){return Ln?Vn?!0:$.hasAttribute("data-has-alpine-state"):!1}Gi("show",($,{modifiers:oe,expression:ke},{effect:Qe})=>{let at=Ni($,ke);$._x_doHide||($._x_doHide=()=>{Oi(()=>{$.style.setProperty("display","none",oe.includes("important")?"important":void 0)})}),$._x_doShow||($._x_doShow=()=>{Oi(()=>{$.style.length===1&&$.style.display==="none"?$.removeAttribute("style"):$.style.removeProperty("display")})});let ht=()=>{$._x_doHide(),$._x_isShown=!1},wt=()=>{$._x_doShow(),$._x_isShown=!0},$t=()=>setTimeout(wt),mi=qe(Ca=>Ca?wt():ht(),Ca=>{typeof $._x_toggleAndCascadeWithTransitions=="function"?$._x_toggleAndCascadeWithTransitions($,Ca,wt,ht):Ca?$t():ht()}),hn,Xn=!0;Qe(()=>at(Ca=>{!Xn&&Ca===hn||(oe.includes("immediate")&&(Ca?$t():ht()),mi(Ca),hn=Ca,Xn=!1)}))}),Gi("for",($,{expression:oe},{effect:ke,cleanup:Qe})=>{let at=Ot(oe),ht=Ni($,at.items),wt=Ni($,$._x_keyExpression||"index");$._x_prevKeys=[],$._x_lookup={},ke(()=>vt($,at,ht,wt)),Qe(()=>{Object.values($._x_lookup).forEach($t=>Oi(()=>{Cr($t),$t.remove()})),delete $._x_prevKeys,delete $._x_lookup})});function vt($,oe,ke,Qe){let at=wt=>typeof wt=="object"&&!Array.isArray(wt),ht=$;ke(wt=>{Pi(wt)&&wt>=0&&(wt=Array.from(Array(wt).keys(),Fn=>Fn+1)),wt===void 0&&(wt=[]);let $t=$._x_lookup,mi=$._x_prevKeys,hn=[],Xn=[];if(at(wt))wt=Object.entries(wt).map(([Fn,oa])=>{let da=Zt(oe,oa,Fn,wt);Qe(za=>{Xn.includes(za)&&Xa("Duplicate key on x-for",$),Xn.push(za)},{scope:{index:Fn,...da}}),hn.push(da)});else for(let Fn=0;Fn<wt.length;Fn++){let oa=Zt(oe,wt[Fn],Fn,wt);Qe(da=>{Xn.includes(da)&&Xa("Duplicate key on x-for",$),Xn.push(da)},{scope:{index:Fn,...oa}}),hn.push(oa)}let Ca=[],Yr=[],Br=[],as=[];for(let Fn=0;Fn<mi.length;Fn++){let oa=mi[Fn];Xn.indexOf(oa)===-1&&Br.push(oa)}mi=mi.filter(Fn=>!Br.includes(Fn));let Sa="template";for(let Fn=0;Fn<Xn.length;Fn++){let oa=Xn[Fn],da=mi.indexOf(oa);if(da===-1)mi.splice(Fn,0,oa),Ca.push([Sa,Fn]);else if(da!==Fn){let za=mi.splice(Fn,1)[0],ws=mi.splice(da-1,1)[0];mi.splice(Fn,0,ws),mi.splice(da,0,za),Yr.push([za,ws])}else as.push(oa);Sa=oa}for(let Fn=0;Fn<Br.length;Fn++){let oa=Br[Fn];oa in $t&&(Oi(()=>{Cr($t[oa]),$t[oa].remove()}),delete $t[oa])}for(let Fn=0;Fn<Yr.length;Fn++){let[oa,da]=Yr[Fn],za=$t[oa],ws=$t[da],ta=document.createElement("div");Oi(()=>{ws||Xa('x-for ":key" is undefined or invalid',ht,da,$t),ws.after(ta),za.after(ws),ws._x_currentIfEl&&ws.after(ws._x_currentIfEl),ta.before(za),za._x_currentIfEl&&za.after(za._x_currentIfEl),ta.remove()}),ws._x_refreshXForScope(hn[Xn.indexOf(da)])}for(let Fn=0;Fn<Ca.length;Fn++){let[oa,da]=Ca[Fn],za=oa==="template"?ht:$t[oa];za._x_currentIfEl&&(za=za._x_currentIfEl);let ws=hn[da],ta=Xn[da],Uo=document.importNode(ht.content,!0).firstElementChild,Ou=De(ws);xe(Uo,Ou,ht),Uo._x_refreshXForScope=Uu=>{Object.entries(Uu).forEach(([rc,Nu])=>{Ou[rc]=Nu})},Oi(()=>{za.after(Uo),ra(()=>br(Uo))()}),typeof ta=="object"&&Xa("x-for key cannot be an object, it must be a string or an integer",ht),$t[ta]=Uo}for(let Fn=0;Fn<as.length;Fn++)$t[as[Fn]]._x_refreshXForScope(hn[Xn.indexOf(as[Fn])]);ht._x_prevKeys=Xn})}function Ot($){let oe=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ke=/^\s*\(|\)\s*$/g,Qe=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,at=$.match(Qe);if(!at)return;let ht={};ht.items=at[2].trim();let wt=at[1].replace(ke,"").trim(),$t=wt.match(oe);return $t?(ht.item=wt.replace(oe,"").trim(),ht.index=$t[1].trim(),$t[2]&&(ht.collection=$t[2].trim())):ht.item=wt,ht}function Zt($,oe,ke,Qe){let at={};return/^\[.*\]$/.test($.item)&&Array.isArray(oe)?$.item.replace("[","").replace("]","").split(",").map(wt=>wt.trim()).forEach((wt,$t)=>{at[wt]=oe[$t]}):/^\{.*\}$/.test($.item)&&!Array.isArray(oe)&&typeof oe=="object"?$.item.replace("{","").replace("}","").split(",").map(wt=>wt.trim()).forEach(wt=>{at[wt]=oe[wt]}):at[$.item]=oe,$.index&&(at[$.index]=ke),$.collection&&(at[$.collection]=Qe),at}function Pi($){return!Array.isArray($)&&!isNaN($)}function Ri(){}Ri.inline=($,{expression:oe},{cleanup:ke})=>{let Qe=Lr($);Qe._x_refs||(Qe._x_refs={}),Qe._x_refs[oe]=$,ke(()=>delete Qe._x_refs[oe])},Gi("ref",Ri),Gi("if",($,{expression:oe},{effect:ke,cleanup:Qe})=>{$.tagName.toLowerCase()!=="template"&&Xa("x-if can only be used on a <template> tag",$);let at=Ni($,oe),ht=()=>{if($._x_currentIfEl)return $._x_currentIfEl;let $t=$.content.cloneNode(!0).firstElementChild;return xe($t,{},$),Oi(()=>{$.after($t),ra(()=>br($t))()}),$._x_currentIfEl=$t,$._x_undoIf=()=>{Oi(()=>{Cr($t),$t.remove()}),delete $._x_currentIfEl},$t},wt=()=>{$._x_undoIf&&($._x_undoIf(),delete $._x_undoIf)};ke(()=>at($t=>{$t?ht():wt()})),Qe(()=>$._x_undoIf&&$._x_undoIf())}),Gi("id",($,{expression:oe},{evaluate:ke})=>{ke(oe).forEach(at=>xd($,at))}),Un(($,oe)=>{$._x_ids&&(oe._x_ids=$._x_ids)}),Zn(nn("@",Ja(ti("on:")))),Gi("on",ra(($,{value:oe,modifiers:ke,expression:Qe},{cleanup:at})=>{let ht=Qe?Ni($,Qe):()=>{};$.tagName.toLowerCase()==="template"&&($._x_forwardEvents||($._x_forwardEvents=[]),$._x_forwardEvents.includes(oe)||$._x_forwardEvents.push(oe));let wt=ga($,oe,ke,$t=>{ht(()=>{},{scope:{$event:$t},params:[$t]})});at(()=>wt())})),Si("Collapse","collapse","collapse"),Si("Intersect","intersect","intersect"),Si("Focus","trap","focus"),Si("Mask","mask","mask");function Si($,oe,ke){Gi(oe,Qe=>Xa(`You can't use [x-${oe}] without first installing the "${$}" plugin here: https://alpinejs.dev/plugins/${ke}`,Qe))}qo.setEvaluator(sn),qo.setRawEvaluator(pt),qo.setReactivityEngine({reactive:Fs.reactive,effect:Fs.effect,release:Fs.stop,raw:Fs.toRaw});var _a=qo,un=_a}}),MY=_h({"node_modules/@alpinejs/collapse/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(S,P)=>{for(var I in P)t(S,I,{get:P[I],enumerable:!0})},s=(S,P,I,O)=>{if(P&&typeof P=="object"||typeof P=="function")for(let H of n(P))!r.call(S,H)&&H!==I&&t(S,H,{get:()=>P[H],enumerable:!(O=i(P,H))||O.enumerable});return S},u=S=>s(t({},"__esModule",{value:!0}),S),d={};o(d,{collapse:()=>g,default:()=>b}),e.exports=u(d);function g(S){S.directive("collapse",P),P.inline=(I,{modifiers:O})=>{O.includes("min")&&(I._x_doShow=()=>{},I._x_doHide=()=>{})};function P(I,{modifiers:O}){let H=x(O,"duration",250)/1e3,Q=x(O,"min",0),Y=!O.includes("min");I._x_isShown||(I.style.height=`${Q}px`),!I._x_isShown&&Y&&(I.hidden=!0),I._x_isShown||(I.style.overflow="hidden");let Z=(re,q)=>{let ne=S.setStyles(re,q);return q.height?()=>{}:ne},J={transitionProperty:"height",transitionDuration:`${H}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};I._x_transition={in(re=()=>{},q=()=>{}){Y&&(I.hidden=!1),Y&&(I.style.display=null);let ne=I.getBoundingClientRect().height;I.style.height="auto";let te=I.getBoundingClientRect().height;ne===te&&(ne=Q),S.transition(I,S.setStyles,{during:J,start:{height:ne+"px"},end:{height:te+"px"}},()=>I._x_isShown=!0,()=>{Math.abs(I.getBoundingClientRect().height-te)<1&&(I.style.overflow=null)})},out(re=()=>{},q=()=>{}){let ne=I.getBoundingClientRect().height;S.transition(I,Z,{during:J,start:{height:ne+"px"},end:{height:Q+"px"}},()=>I.style.overflow="hidden",()=>{I._x_isShown=!1,I.style.height==`${Q}px`&&Y&&(I.style.display="none",I.hidden=!0)})}}}}function x(S,P,I){if(S.indexOf(P)===-1)return I;const O=S[S.indexOf(P)+1];if(!O)return I;if(P==="duration"){let H=O.match(/([0-9]+)ms/);if(H)return H[1]}if(P==="min"){let H=O.match(/([0-9]+)px/);if(H)return H[1]}return O}var b=g}}),LY=_h({"node_modules/@alpinejs/focus/dist/module.cjs.js"(a,e){var t=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(q,ne)=>function(){return ne||(0,q[r(q)[0]])((ne={exports:{}}).exports,ne),ne.exports},d=(q,ne)=>{for(var te in ne)i(q,te,{get:ne[te],enumerable:!0})},g=(q,ne,te,he)=>{if(ne&&typeof ne=="object"||typeof ne=="function")for(let ve of r(ne))!s.call(q,ve)&&ve!==te&&i(q,ve,{get:()=>ne[ve],enumerable:!(he=n(ne,ve))||he.enumerable});return q},x=(q,ne,te)=>(te=q!=null?t(o(q)):{},g(!q||!q.__esModule?i(te,"default",{value:q,enumerable:!0}):te,q)),b=q=>g(i({},"__esModule",{value:!0}),q),S=u({"node_modules/tabbable/dist/index.js"(q){Object.defineProperty(q,"__esModule",{value:!0});var ne=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],te=ne.join(","),he=typeof Element>"u",ve=he?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,de=!he&&Element.prototype.getRootNode?function(xn){return xn.getRootNode()}:function(xn){return xn.ownerDocument},be=function(Ye,Yt,ci){var Oi=Array.prototype.slice.apply(Ye.querySelectorAll(te));return Yt&&ve.call(Ye,te)&&Oi.unshift(Ye),Oi=Oi.filter(ci),Oi},De=function xn(Ye,Yt,ci){for(var Oi=[],ui=Array.from(Ye);ui.length;){var $i=ui.shift();if($i.tagName==="SLOT"){var wi=$i.assignedElements(),Ei=wi.length?wi:$i.children,Fi=xn(Ei,!0,ci);ci.flatten?Oi.push.apply(Oi,Fi):Oi.push({scope:$i,candidates:Fi})}else{var ft=ve.call($i,te);ft&&ci.filter($i)&&(Yt||!Ye.includes($i))&&Oi.push($i);var xe=$i.shadowRoot||typeof ci.getShadowRoot=="function"&&ci.getShadowRoot($i),we=!ci.shadowRootFilter||ci.shadowRootFilter($i);if(xe&&we){var Ee=xn(xe===!0?$i.children:xe.children,!0,ci);ci.flatten?Oi.push.apply(Oi,Ee):Oi.push({scope:$i,candidates:Ee})}else ui.unshift.apply(ui,$i.children)}}return Oi},Ie=function(Ye,Yt){return Ye.tabIndex<0&&(Yt||/^(AUDIO|VIDEO|DETAILS)$/.test(Ye.tagName)||Ye.isContentEditable)&&isNaN(parseInt(Ye.getAttribute("tabindex"),10))?0:Ye.tabIndex},nt=function(Ye,Yt){return Ye.tabIndex===Yt.tabIndex?Ye.documentOrder-Yt.documentOrder:Ye.tabIndex-Yt.tabIndex},je=function(Ye){return Ye.tagName==="INPUT"},dt=function(Ye){return je(Ye)&&Ye.type==="hidden"},Mt=function(Ye){var Yt=Ye.tagName==="DETAILS"&&Array.prototype.slice.apply(Ye.children).some(function(ci){return ci.tagName==="SUMMARY"});return Yt},We=function(Ye,Yt){for(var ci=0;ci<Ye.length;ci++)if(Ye[ci].checked&&Ye[ci].form===Yt)return Ye[ci]},Pt=function(Ye){if(!Ye.name)return!0;var Yt=Ye.form||de(Ye),ci=function(wi){return Yt.querySelectorAll('input[type="radio"][name="'+wi+'"]')},Oi;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")Oi=ci(window.CSS.escape(Ye.name));else try{Oi=ci(Ye.name)}catch($i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",$i.message),!1}var ui=We(Oi,Ye.form);return!ui||ui===Ye},Kt=function(Ye){return je(Ye)&&Ye.type==="radio"},di=function(Ye){return Kt(Ye)&&!Pt(Ye)},It=function(Ye){var Yt=Ye.getBoundingClientRect(),ci=Yt.width,Oi=Yt.height;return ci===0&&Oi===0},bt=function(Ye,Yt){var ci=Yt.displayCheck,Oi=Yt.getShadowRoot;if(getComputedStyle(Ye).visibility==="hidden")return!0;var ui=ve.call(Ye,"details>summary:first-of-type"),$i=ui?Ye.parentElement:Ye;if(ve.call($i,"details:not([open]) *"))return!0;var wi=de(Ye).host,Ei=wi?.ownerDocument.contains(wi)||Ye.ownerDocument.contains(Ye);if(!ci||ci==="full"){if(typeof Oi=="function"){for(var Fi=Ye;Ye;){var ft=Ye.parentElement,xe=de(Ye);if(ft&&!ft.shadowRoot&&Oi(ft)===!0)return It(Ye);Ye.assignedSlot?Ye=Ye.assignedSlot:!ft&&xe!==Ye.ownerDocument?Ye=xe.host:Ye=ft}Ye=Fi}if(Ei)return!Ye.getClientRects().length}else if(ci==="non-zero-area")return It(Ye);return!1},mt=function(Ye){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(Ye.tagName))for(var Yt=Ye.parentElement;Yt;){if(Yt.tagName==="FIELDSET"&&Yt.disabled){for(var ci=0;ci<Yt.children.length;ci++){var Oi=Yt.children.item(ci);if(Oi.tagName==="LEGEND")return ve.call(Yt,"fieldset[disabled] *")?!0:!Oi.contains(Ye)}return!0}Yt=Yt.parentElement}return!1},si=function(Ye,Yt){return!(Yt.disabled||dt(Yt)||bt(Yt,Ye)||Mt(Yt)||mt(Yt))},gi=function(Ye,Yt){return!(di(Yt)||Ie(Yt)<0||!si(Ye,Yt))},Vi=function(Ye){var Yt=parseInt(Ye.getAttribute("tabindex"),10);return!!(isNaN(Yt)||Yt>=0)},Ii=function xn(Ye){var Yt=[],ci=[];return Ye.forEach(function(Oi,ui){var $i=!!Oi.scope,wi=$i?Oi.scope:Oi,Ei=Ie(wi,$i),Fi=$i?xn(Oi.candidates):wi;Ei===0?$i?Yt.push.apply(Yt,Fi):Yt.push(wi):ci.push({documentOrder:ui,tabIndex:Ei,item:Oi,isScope:$i,content:Fi})}),ci.sort(nt).reduce(function(Oi,ui){return ui.isScope?Oi.push.apply(Oi,ui.content):Oi.push(ui.content),Oi},[]).concat(Yt)},oi=function(Ye,Yt){Yt=Yt||{};var ci;return Yt.getShadowRoot?ci=De([Ye],Yt.includeContainer,{filter:gi.bind(null,Yt),flatten:!1,getShadowRoot:Yt.getShadowRoot,shadowRootFilter:Vi}):ci=be(Ye,Yt.includeContainer,gi.bind(null,Yt)),Ii(ci)},fn=function(Ye,Yt){Yt=Yt||{};var ci;return Yt.getShadowRoot?ci=De([Ye],Yt.includeContainer,{filter:si.bind(null,Yt),flatten:!0,getShadowRoot:Yt.getShadowRoot}):ci=be(Ye,Yt.includeContainer,si.bind(null,Yt)),ci},Mi=function(Ye,Yt){if(Yt=Yt||{},!Ye)throw new Error("No node provided");return ve.call(Ye,te)===!1?!1:gi(Yt,Ye)},Ji=ne.concat("iframe").join(","),rn=function(Ye,Yt){if(Yt=Yt||{},!Ye)throw new Error("No node provided");return ve.call(Ye,Ji)===!1?!1:si(Yt,Ye)};q.focusable=fn,q.isFocusable=rn,q.isTabbable=Mi,q.tabbable=oi}}),P=u({"node_modules/focus-trap/dist/focus-trap.js"(q){Object.defineProperty(q,"__esModule",{value:!0});var ne=S();function te(Pt,Kt){var di=Object.keys(Pt);if(Object.getOwnPropertySymbols){var It=Object.getOwnPropertySymbols(Pt);Kt&&(It=It.filter(function(bt){return Object.getOwnPropertyDescriptor(Pt,bt).enumerable})),di.push.apply(di,It)}return di}function he(Pt){for(var Kt=1;Kt<arguments.length;Kt++){var di=arguments[Kt]!=null?arguments[Kt]:{};Kt%2?te(Object(di),!0).forEach(function(It){ve(Pt,It,di[It])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(di)):te(Object(di)).forEach(function(It){Object.defineProperty(Pt,It,Object.getOwnPropertyDescriptor(di,It))})}return Pt}function ve(Pt,Kt,di){return Kt in Pt?Object.defineProperty(Pt,Kt,{value:di,enumerable:!0,configurable:!0,writable:!0}):Pt[Kt]=di,Pt}var de=(function(){var Pt=[];return{activateTrap:function(di){if(Pt.length>0){var It=Pt[Pt.length-1];It!==di&&It.pause()}var bt=Pt.indexOf(di);bt===-1||Pt.splice(bt,1),Pt.push(di)},deactivateTrap:function(di){var It=Pt.indexOf(di);It!==-1&&Pt.splice(It,1),Pt.length>0&&Pt[Pt.length-1].unpause()}}})(),be=function(Kt){return Kt.tagName&&Kt.tagName.toLowerCase()==="input"&&typeof Kt.select=="function"},De=function(Kt){return Kt.key==="Escape"||Kt.key==="Esc"||Kt.keyCode===27},Ie=function(Kt){return Kt.key==="Tab"||Kt.keyCode===9},nt=function(Kt){return setTimeout(Kt,0)},je=function(Kt,di){var It=-1;return Kt.every(function(bt,mt){return di(bt)?(It=mt,!1):!0}),It},dt=function(Kt){for(var di=arguments.length,It=new Array(di>1?di-1:0),bt=1;bt<di;bt++)It[bt-1]=arguments[bt];return typeof Kt=="function"?Kt.apply(void 0,It):Kt},Mt=function(Kt){return Kt.target.shadowRoot&&typeof Kt.composedPath=="function"?Kt.composedPath()[0]:Kt.target},We=function(Kt,di){var It=di?.document||document,bt=he({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},di),mt={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},si,gi=function(wi,Ei,Fi){return wi&&wi[Ei]!==void 0?wi[Ei]:bt[Fi||Ei]},Vi=function(wi){return mt.containerGroups.findIndex(function(Ei){var Fi=Ei.container,ft=Ei.tabbableNodes;return Fi.contains(wi)||ft.find(function(xe){return xe===wi})})},Ii=function(wi){var Ei=bt[wi];if(typeof Ei=="function"){for(var Fi=arguments.length,ft=new Array(Fi>1?Fi-1:0),xe=1;xe<Fi;xe++)ft[xe-1]=arguments[xe];Ei=Ei.apply(void 0,ft)}if(Ei===!0&&(Ei=void 0),!Ei){if(Ei===void 0||Ei===!1)return Ei;throw new Error("`".concat(wi,"` was specified but was not a node, or did not return a node"))}var we=Ei;if(typeof Ei=="string"&&(we=It.querySelector(Ei),!we))throw new Error("`".concat(wi,"` as selector refers to no known node"));return we},oi=function(){var wi=Ii("initialFocus");if(wi===!1)return!1;if(wi===void 0)if(Vi(It.activeElement)>=0)wi=It.activeElement;else{var Ei=mt.tabbableGroups[0],Fi=Ei&&Ei.firstTabbableNode;wi=Fi||Ii("fallbackFocus")}if(!wi)throw new Error("Your focus-trap needs to have at least one focusable element");return wi},fn=function(){if(mt.containerGroups=mt.containers.map(function(wi){var Ei=ne.tabbable(wi,bt.tabbableOptions),Fi=ne.focusable(wi,bt.tabbableOptions);return{container:wi,tabbableNodes:Ei,focusableNodes:Fi,firstTabbableNode:Ei.length>0?Ei[0]:null,lastTabbableNode:Ei.length>0?Ei[Ei.length-1]:null,nextTabbableNode:function(xe){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Ee=Fi.findIndex(function(tt){return tt===xe});if(!(Ee<0))return we?Fi.slice(Ee+1).find(function(tt){return ne.isTabbable(tt,bt.tabbableOptions)}):Fi.slice(0,Ee).reverse().find(function(tt){return ne.isTabbable(tt,bt.tabbableOptions)})}}}),mt.tabbableGroups=mt.containerGroups.filter(function(wi){return wi.tabbableNodes.length>0}),mt.tabbableGroups.length<=0&&!Ii("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},Mi=function $i(wi){if(wi!==!1&&wi!==It.activeElement){if(!wi||!wi.focus){$i(oi());return}wi.focus({preventScroll:!!bt.preventScroll}),mt.mostRecentlyFocusedNode=wi,be(wi)&&wi.select()}},Ji=function(wi){var Ei=Ii("setReturnFocus",wi);return Ei||(Ei===!1?!1:wi)},rn=function(wi){var Ei=Mt(wi);if(!(Vi(Ei)>=0)){if(dt(bt.clickOutsideDeactivates,wi)){si.deactivate({returnFocus:bt.returnFocusOnDeactivate&&!ne.isFocusable(Ei,bt.tabbableOptions)});return}dt(bt.allowOutsideClick,wi)||wi.preventDefault()}},xn=function(wi){var Ei=Mt(wi),Fi=Vi(Ei)>=0;Fi||Ei instanceof Document?Fi&&(mt.mostRecentlyFocusedNode=Ei):(wi.stopImmediatePropagation(),Mi(mt.mostRecentlyFocusedNode||oi()))},Ye=function(wi){var Ei=Mt(wi);fn();var Fi=null;if(mt.tabbableGroups.length>0){var ft=Vi(Ei),xe=ft>=0?mt.containerGroups[ft]:void 0;if(ft<0)wi.shiftKey?Fi=mt.tabbableGroups[mt.tabbableGroups.length-1].lastTabbableNode:Fi=mt.tabbableGroups[0].firstTabbableNode;else if(wi.shiftKey){var we=je(mt.tabbableGroups,function(Ve){var xt=Ve.firstTabbableNode;return Ei===xt});if(we<0&&(xe.container===Ei||ne.isFocusable(Ei,bt.tabbableOptions)&&!ne.isTabbable(Ei,bt.tabbableOptions)&&!xe.nextTabbableNode(Ei,!1))&&(we=ft),we>=0){var Ee=we===0?mt.tabbableGroups.length-1:we-1,tt=mt.tabbableGroups[Ee];Fi=tt.lastTabbableNode}}else{var st=je(mt.tabbableGroups,function(Ve){var xt=Ve.lastTabbableNode;return Ei===xt});if(st<0&&(xe.container===Ei||ne.isFocusable(Ei,bt.tabbableOptions)&&!ne.isTabbable(Ei,bt.tabbableOptions)&&!xe.nextTabbableNode(Ei))&&(st=ft),st>=0){var Ct=st===mt.tabbableGroups.length-1?0:st+1,yt=mt.tabbableGroups[Ct];Fi=yt.firstTabbableNode}}}else Fi=Ii("fallbackFocus");Fi&&(wi.preventDefault(),Mi(Fi))},Yt=function(wi){if(De(wi)&&dt(bt.escapeDeactivates,wi)!==!1){wi.preventDefault(),si.deactivate();return}if(Ie(wi)){Ye(wi);return}},ci=function(wi){var Ei=Mt(wi);Vi(Ei)>=0||dt(bt.clickOutsideDeactivates,wi)||dt(bt.allowOutsideClick,wi)||(wi.preventDefault(),wi.stopImmediatePropagation())},Oi=function(){if(mt.active)return de.activateTrap(si),mt.delayInitialFocusTimer=bt.delayInitialFocus?nt(function(){Mi(oi())}):Mi(oi()),It.addEventListener("focusin",xn,!0),It.addEventListener("mousedown",rn,{capture:!0,passive:!1}),It.addEventListener("touchstart",rn,{capture:!0,passive:!1}),It.addEventListener("click",ci,{capture:!0,passive:!1}),It.addEventListener("keydown",Yt,{capture:!0,passive:!1}),si},ui=function(){if(mt.active)return It.removeEventListener("focusin",xn,!0),It.removeEventListener("mousedown",rn,!0),It.removeEventListener("touchstart",rn,!0),It.removeEventListener("click",ci,!0),It.removeEventListener("keydown",Yt,!0),si};return si={get active(){return mt.active},get paused(){return mt.paused},activate:function(wi){if(mt.active)return this;var Ei=gi(wi,"onActivate"),Fi=gi(wi,"onPostActivate"),ft=gi(wi,"checkCanFocusTrap");ft||fn(),mt.active=!0,mt.paused=!1,mt.nodeFocusedBeforeActivation=It.activeElement,Ei&&Ei();var xe=function(){ft&&fn(),Oi(),Fi&&Fi()};return ft?(ft(mt.containers.concat()).then(xe,xe),this):(xe(),this)},deactivate:function(wi){if(!mt.active)return this;var Ei=he({onDeactivate:bt.onDeactivate,onPostDeactivate:bt.onPostDeactivate,checkCanReturnFocus:bt.checkCanReturnFocus},wi);clearTimeout(mt.delayInitialFocusTimer),mt.delayInitialFocusTimer=void 0,ui(),mt.active=!1,mt.paused=!1,de.deactivateTrap(si);var Fi=gi(Ei,"onDeactivate"),ft=gi(Ei,"onPostDeactivate"),xe=gi(Ei,"checkCanReturnFocus"),we=gi(Ei,"returnFocus","returnFocusOnDeactivate");Fi&&Fi();var Ee=function(){nt(function(){we&&Mi(Ji(mt.nodeFocusedBeforeActivation)),ft&&ft()})};return we&&xe?(xe(Ji(mt.nodeFocusedBeforeActivation)).then(Ee,Ee),this):(Ee(),this)},pause:function(){return mt.paused||!mt.active?this:(mt.paused=!0,ui(),this)},unpause:function(){return!mt.paused||!mt.active?this:(mt.paused=!1,fn(),Oi(),this)},updateContainerElements:function(wi){var Ei=[].concat(wi).filter(Boolean);return mt.containers=Ei.map(function(Fi){return typeof Fi=="string"?It.querySelector(Fi):Fi}),mt.active&&fn(),this}},si.updateContainerElements(Kt),si};q.createFocusTrap=We}}),I={};d(I,{default:()=>re,focus:()=>Q}),e.exports=b(I);var O=x(P()),H=x(S());function Q(q){let ne,te;window.addEventListener("focusin",()=>{ne=te,te=document.activeElement}),q.magic("focus",he=>{let ve=he;return{__noscroll:!1,__wrapAround:!1,within(de){return ve=de,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(de){return(0,H.isFocusable)(de)},previouslyFocused(){return ne},lastFocused(){return ne},focused(){return te},focusables(){return Array.isArray(ve)?ve:(0,H.focusable)(ve,{displayCheck:"none"})},all(){return this.focusables()},isFirst(de){let be=this.all();return be[0]&&be[0].isSameNode(de)},isLast(de){let be=this.all();return be.length&&be.slice(-1)[0].isSameNode(de)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let de=this.all(),be=document.activeElement;if(de.indexOf(be)!==-1)return this.__wrapAround&&de.indexOf(be)===de.length-1?de[0]:de[de.indexOf(be)+1]},getPrevious(){let de=this.all(),be=document.activeElement;if(de.indexOf(be)!==-1)return this.__wrapAround&&de.indexOf(be)===0?de.slice(-1)[0]:de[de.indexOf(be)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(de){de&&setTimeout(()=>{de.hasAttribute("tabindex")||de.setAttribute("tabindex","0"),de.focus({preventScroll:this.__noscroll})})}}}),q.directive("trap",q.skipDuringClone((he,{expression:ve,modifiers:de},{effect:be,evaluateLater:De,cleanup:Ie})=>{let nt=De(ve),je=!1,dt={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>he},Mt=()=>{};if(de.includes("noautofocus"))dt.initialFocus=!1;else{let di=he.querySelector("[autofocus]");di&&(dt.initialFocus=di)}de.includes("inert")&&(dt.onPostActivate=()=>{q.nextTick(()=>{Mt=Y(he)})});let We=(0,O.createFocusTrap)(he,dt),Pt=()=>{};const Kt=()=>{Mt(),Mt=()=>{},Pt(),Pt=()=>{},We.deactivate({returnFocus:!de.includes("noreturn")})};be(()=>nt(di=>{je!==di&&(di&&!je&&(de.includes("noscroll")&&(Pt=J()),setTimeout(()=>{We.activate()},15)),!di&&je&&Kt(),je=!!di)})),Ie(Kt)},(he,{expression:ve,modifiers:de},{evaluate:be})=>{de.includes("inert")&&be(ve)&&Y(he)}))}function Y(q){let ne=[];return Z(q,te=>{let he=te.hasAttribute("aria-hidden");te.setAttribute("aria-hidden","true"),ne.push(()=>he||te.removeAttribute("aria-hidden"))}),()=>{for(;ne.length;)ne.pop()()}}function Z(q,ne){q.isSameNode(document.body)||!q.parentNode||Array.from(q.parentNode.children).forEach(te=>{te.isSameNode(q)?Z(q.parentNode,ne):ne(te)})}function J(){let q=document.documentElement.style.overflow,ne=document.documentElement.style.paddingRight,te=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${te}px`,()=>{document.documentElement.style.overflow=q,document.documentElement.style.paddingRight=ne}}var re=Q}}),FY=_h({"node_modules/@alpinejs/intersect/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(I,O)=>{for(var H in O)t(I,H,{get:O[H],enumerable:!0})},s=(I,O,H,Q)=>{if(O&&typeof O=="object"||typeof O=="function")for(let Y of n(O))!r.call(I,Y)&&Y!==H&&t(I,Y,{get:()=>O[Y],enumerable:!(Q=i(O,Y))||Q.enumerable});return I},u=I=>s(t({},"__esModule",{value:!0}),I),d={};o(d,{default:()=>P,intersect:()=>g}),e.exports=u(d);function g(I){I.directive("intersect",I.skipDuringClone((O,{value:H,expression:Q,modifiers:Y},{evaluateLater:Z,cleanup:J})=>{let re=Z(Q),q={rootMargin:S(Y),threshold:x(Y)},ne=new IntersectionObserver(te=>{te.forEach(he=>{he.isIntersecting!==(H==="leave")&&(re(),Y.includes("once")&&ne.disconnect())})},q);ne.observe(O),J(()=>{ne.disconnect()})}))}function x(I){if(I.includes("full"))return .99;if(I.includes("half"))return .5;if(!I.includes("threshold"))return 0;let O=I[I.indexOf("threshold")+1];return O==="100"?1:O==="0"?0:+`.${O}`}function b(I){let O=I.match(/^(-?[0-9]+)(px|%)?$/);return O?O[1]+(O[2]||"px"):void 0}function S(I){const O="margin",H="0px 0px 0px 0px",Q=I.indexOf(O);if(Q===-1)return H;let Y=[];for(let Z=1;Z<5;Z++)Y.push(b(I[Q+Z]||""));return Y=Y.filter(Z=>Z!==void 0),Y.length?Y.join(" ").trim():H}var P=g}}),PY=_h({"node_modules/@alpinejs/sort/dist/module.cjs.js"(a,e){var t=Object.create,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(ne,te)=>function(){return te||(0,ne[r(ne)[0]])((te={exports:{}}).exports,te),te.exports},d=(ne,te)=>{for(var he in te)i(ne,he,{get:te[he],enumerable:!0})},g=(ne,te,he,ve)=>{if(te&&typeof te=="object"||typeof te=="function")for(let de of r(te))!s.call(ne,de)&&de!==he&&i(ne,de,{get:()=>te[de],enumerable:!(ve=n(te,de))||ve.enumerable});return ne},x=(ne,te,he)=>(he=ne!=null?t(o(ne)):{},g(!ne||!ne.__esModule?i(he,"default",{value:ne,enumerable:!0}):he,ne)),b=ne=>g(i({},"__esModule",{value:!0}),ne),S=u({"node_modules/sortablejs/Sortable.min.js"(ne,te){(function(he,ve){typeof ne=="object"&&typeof te<"u"?te.exports=ve():typeof define=="function"&&define.amd?define(ve):(he=he||self).Sortable=ve()})(ne,function(){function he(ge,Ce){var Me,qe=Object.keys(ge);return Object.getOwnPropertySymbols&&(Me=Object.getOwnPropertySymbols(ge),Ce&&(Me=Me.filter(function($e){return Object.getOwnPropertyDescriptor(ge,$e).enumerable})),qe.push.apply(qe,Me)),qe}function ve(ge){for(var Ce=1;Ce<arguments.length;Ce++){var Me=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?he(Object(Me),!0).forEach(function(qe){var $e,Bt;$e=ge,qe=Me[Bt=qe],Bt in $e?Object.defineProperty($e,Bt,{value:qe,enumerable:!0,configurable:!0,writable:!0}):$e[Bt]=qe}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Me)):he(Object(Me)).forEach(function(qe){Object.defineProperty(ge,qe,Object.getOwnPropertyDescriptor(Me,qe))})}return ge}function de(ge){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce})(ge)}function be(){return(be=Object.assign||function(ge){for(var Ce=1;Ce<arguments.length;Ce++){var Me,qe=arguments[Ce];for(Me in qe)Object.prototype.hasOwnProperty.call(qe,Me)&&(ge[Me]=qe[Me])}return ge}).apply(this,arguments)}function De(ge,Ce){if(ge==null)return{};var Me,qe=(function(Qt,Ft){if(Qt==null)return{};for(var li,Qi={},cn=Object.keys(Qt),Ln=0;Ln<cn.length;Ln++)li=cn[Ln],0<=Ft.indexOf(li)||(Qi[li]=Qt[li]);return Qi})(ge,Ce);if(Object.getOwnPropertySymbols)for(var $e=Object.getOwnPropertySymbols(ge),Bt=0;Bt<$e.length;Bt++)Me=$e[Bt],0<=Ce.indexOf(Me)||Object.prototype.propertyIsEnumerable.call(ge,Me)&&(qe[Me]=ge[Me]);return qe}function Ie(ge){return(function(Ce){if(Array.isArray(Ce))return nt(Ce)})(ge)||(function(Ce){if(typeof Symbol<"u"&&Ce[Symbol.iterator]!=null||Ce["@@iterator"]!=null)return Array.from(Ce)})(ge)||(function(Ce,Me){if(Ce){if(typeof Ce=="string")return nt(Ce,Me);var qe=Object.prototype.toString.call(Ce).slice(8,-1);return(qe=qe==="Object"&&Ce.constructor?Ce.constructor.name:qe)==="Map"||qe==="Set"?Array.from(Ce):qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe)?nt(Ce,Me):void 0}})(ge)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function nt(ge,Ce){(Ce==null||Ce>ge.length)&&(Ce=ge.length);for(var Me=0,qe=new Array(Ce);Me<Ce;Me++)qe[Me]=ge[Me];return qe}function je(ge){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(ge)}var dt=je(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=je(/Edge/i),We=je(/firefox/i),Pt=je(/safari/i)&&!je(/chrome/i)&&!je(/android/i),Kt=je(/iP(ad|od|hone)/i),Ar=je(/chrome/i)&&je(/android/i),di={capture:!1,passive:!1};function It(ge,Ce,Me){ge.addEventListener(Ce,Me,!dt&&di)}function bt(ge,Ce,Me){ge.removeEventListener(Ce,Me,!dt&&di)}function mt(ge,Ce){if(Ce&&(Ce[0]===">"&&(Ce=Ce.substring(1)),ge))try{if(ge.matches)return ge.matches(Ce);if(ge.msMatchesSelector)return ge.msMatchesSelector(Ce);if(ge.webkitMatchesSelector)return ge.webkitMatchesSelector(Ce)}catch{return}}function si(ge,Ce,Me,qe){if(ge){Me=Me||document;do if(Ce!=null&&(Ce[0]!==">"||ge.parentNode===Me)&&mt(ge,Ce)||qe&&ge===Me)return ge;while(ge!==Me&&(ge=($e=ge).host&&$e!==document&&$e.host.nodeType?$e.host:$e.parentNode))}var $e;return null}var gi,Vi=/\s+/g;function Ii(ge,Ce,Me){var qe;ge&&Ce&&(ge.classList?ge.classList[Me?"add":"remove"](Ce):(qe=(" "+ge.className+" ").replace(Vi," ").replace(" "+Ce+" "," "),ge.className=(qe+(Me?" "+Ce:"")).replace(Vi," ")))}function oi(ge,Ce,Me){var qe=ge&&ge.style;if(qe){if(Me===void 0)return document.defaultView&&document.defaultView.getComputedStyle?Me=document.defaultView.getComputedStyle(ge,""):ge.currentStyle&&(Me=ge.currentStyle),Ce===void 0?Me:Me[Ce];qe[Ce=Ce in qe||Ce.indexOf("webkit")!==-1?Ce:"-webkit-"+Ce]=Me+(typeof Me=="string"?"":"px")}}function fn(ge,Ce){var Me="";if(typeof ge=="string")Me=ge;else do var qe=oi(ge,"transform");while(qe&&qe!=="none"&&(Me=qe+" "+Me),!Ce&&(ge=ge.parentNode));var $e=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return $e&&new $e(Me)}function Mi(ge,Ce,Me){if(ge){var qe=ge.getElementsByTagName(Ce),$e=0,Bt=qe.length;if(Me)for(;$e<Bt;$e++)Me(qe[$e],$e);return qe}return[]}function Ji(){var ge=document.scrollingElement;return ge||document.documentElement}function rn(ge,Ce,Me,qe,$e){if(ge.getBoundingClientRect||ge===window){var Bt,Qt,Ft,li,Qi,cn,Ln=ge!==window&&ge.parentNode&&ge!==Ji()?(Qt=(Bt=ge.getBoundingClientRect()).top,Ft=Bt.left,li=Bt.bottom,Qi=Bt.right,cn=Bt.height,Bt.width):(Ft=Qt=0,li=window.innerHeight,Qi=window.innerWidth,cn=window.innerHeight,window.innerWidth);if((Ce||Me)&&ge!==window&&($e=$e||ge.parentNode,!dt))do if($e&&$e.getBoundingClientRect&&(oi($e,"transform")!=="none"||Me&&oi($e,"position")!=="static")){var ra=$e.getBoundingClientRect();Qt-=ra.top+parseInt(oi($e,"border-top-width")),Ft-=ra.left+parseInt(oi($e,"border-left-width")),li=Qt+Bt.height,Qi=Ft+Bt.width;break}while($e=$e.parentNode);return qe&&ge!==window&&(qe=(Ce=fn($e||ge))&&Ce.a,ge=Ce&&Ce.d,Ce&&(li=(Qt/=ge)+(cn/=ge),Qi=(Ft/=qe)+(Ln/=qe))),{top:Qt,left:Ft,bottom:li,right:Qi,width:Ln,height:cn}}}function xn(ge,Ce,Me){for(var qe=ui(ge,!0),$e=rn(ge)[Ce];qe;){var Bt=rn(qe)[Me];if(!(Bt<=$e))return qe;if(qe===Ji())break;qe=ui(qe,!1)}return!1}function Ye(ge,Ce,Me,qe){for(var $e=0,Bt=0,Qt=ge.children;Bt<Qt.length;){if(Qt[Bt].style.display!=="none"&&Qt[Bt]!==vn.ghost&&(qe||Qt[Bt]!==vn.dragged)&&si(Qt[Bt],Me.draggable,ge,!1)){if($e===Ce)return Qt[Bt];$e++}Bt++}return null}function Yt(ge,Ce){for(var Me=ge.lastElementChild;Me&&(Me===vn.ghost||oi(Me,"display")==="none"||Ce&&!mt(Me,Ce));)Me=Me.previousElementSibling;return Me||null}function ci(ge,Ce){var Me=0;if(!ge||!ge.parentNode)return-1;for(;ge=ge.previousElementSibling;)ge.nodeName.toUpperCase()==="TEMPLATE"||ge===vn.clone||Ce&&!mt(ge,Ce)||Me++;return Me}function Oi(ge){var Ce=0,Me=0,qe=Ji();if(ge)do var Bt=fn(ge),$e=Bt.a,Bt=Bt.d;while(Ce+=ge.scrollLeft*$e,Me+=ge.scrollTop*Bt,ge!==qe&&(ge=ge.parentNode));return[Ce,Me]}function ui(ge,Ce){if(!ge||!ge.getBoundingClientRect)return Ji();var Me=ge,qe=!1;do if(Me.clientWidth<Me.scrollWidth||Me.clientHeight<Me.scrollHeight){var $e=oi(Me);if(Me.clientWidth<Me.scrollWidth&&($e.overflowX=="auto"||$e.overflowX=="scroll")||Me.clientHeight<Me.scrollHeight&&($e.overflowY=="auto"||$e.overflowY=="scroll")){if(!Me.getBoundingClientRect||Me===document.body)return Ji();if(qe||Ce)return Me;qe=!0}}while(Me=Me.parentNode);return Ji()}function $i(ge,Ce){return Math.round(ge.top)===Math.round(Ce.top)&&Math.round(ge.left)===Math.round(Ce.left)&&Math.round(ge.height)===Math.round(Ce.height)&&Math.round(ge.width)===Math.round(Ce.width)}function wi(ge,Ce){return function(){var Me;gi||((Me=arguments).length===1?ge.call(this,Me[0]):ge.apply(this,Me),gi=setTimeout(function(){gi=void 0},Ce))}}function Ei(ge,Ce,Me){ge.scrollLeft+=Ce,ge.scrollTop+=Me}function Fi(ge){var Ce=window.Polymer,Me=window.jQuery||window.Zepto;return Ce&&Ce.dom?Ce.dom(ge).cloneNode(!0):Me?Me(ge).clone(!0)[0]:ge.cloneNode(!0)}function ft(ge,Ce){oi(ge,"position","absolute"),oi(ge,"top",Ce.top),oi(ge,"left",Ce.left),oi(ge,"width",Ce.width),oi(ge,"height",Ce.height)}function xe(ge){oi(ge,"position",""),oi(ge,"top",""),oi(ge,"left",""),oi(ge,"width",""),oi(ge,"height","")}function we(ge,Ce,Me){var qe={};return Array.from(ge.children).forEach(function($e){var Bt;si($e,Ce.draggable,ge,!1)&&!$e.animated&&$e!==Me&&(Bt=rn($e),qe.left=Math.min(($e=qe.left)!==null&&$e!==void 0?$e:1/0,Bt.left),qe.top=Math.min(($e=qe.top)!==null&&$e!==void 0?$e:1/0,Bt.top),qe.right=Math.max(($e=qe.right)!==null&&$e!==void 0?$e:-1/0,Bt.right),qe.bottom=Math.max(($e=qe.bottom)!==null&&$e!==void 0?$e:-1/0,Bt.bottom))}),qe.width=qe.right-qe.left,qe.height=qe.bottom-qe.top,qe.x=qe.left,qe.y=qe.top,qe}var Ee="Sortable"+new Date().getTime();function tt(){var ge,Ce=[];return{captureAnimationState:function(){Ce=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(Me){var qe,$e;oi(Me,"display")!=="none"&&Me!==vn.ghost&&(Ce.push({target:Me,rect:rn(Me)}),qe=ve({},Ce[Ce.length-1].rect),!Me.thisAnimationDuration||($e=fn(Me,!0))&&(qe.top-=$e.f,qe.left-=$e.e),Me.fromRect=qe)})},addAnimationState:function(Me){Ce.push(Me)},removeAnimationState:function(Me){Ce.splice((function(qe,$e){for(var Bt in qe)if(qe.hasOwnProperty(Bt)){for(var Qt in $e)if($e.hasOwnProperty(Qt)&&$e[Qt]===qe[Bt][Qt])return Number(Bt)}return-1})(Ce,{target:Me}),1)},animateAll:function(Me){var qe=this;if(!this.options.animation)return clearTimeout(ge),void(typeof Me=="function"&&Me());var $e=!1,Bt=0;Ce.forEach(function(Qt){var Ft=0,li=Qt.target,Qi=li.fromRect,cn=rn(li),Ln=li.prevFromRect,ra=li.prevToRect,pa=Qt.rect,sa=fn(li,!0);sa&&(cn.top-=sa.f,cn.left-=sa.e),li.toRect=cn,li.thisAnimationDuration&&$i(Ln,cn)&&!$i(Qi,cn)&&(pa.top-cn.top)/(pa.left-cn.left)==(Qi.top-cn.top)/(Qi.left-cn.left)&&(Qt=pa,sa=Ln,Ln=ra,ra=qe.options,Ft=Math.sqrt(Math.pow(sa.top-Qt.top,2)+Math.pow(sa.left-Qt.left,2))/Math.sqrt(Math.pow(sa.top-Ln.top,2)+Math.pow(sa.left-Ln.left,2))*ra.animation),$i(cn,Qi)||(li.prevFromRect=Qi,li.prevToRect=cn,Ft=Ft||qe.options.animation,qe.animate(li,pa,cn,Ft)),Ft&&($e=!0,Bt=Math.max(Bt,Ft),clearTimeout(li.animationResetTimer),li.animationResetTimer=setTimeout(function(){li.animationTime=0,li.prevFromRect=null,li.fromRect=null,li.prevToRect=null,li.thisAnimationDuration=null},Ft),li.thisAnimationDuration=Ft)}),clearTimeout(ge),$e?ge=setTimeout(function(){typeof Me=="function"&&Me()},Bt):typeof Me=="function"&&Me(),Ce=[]},animate:function(Me,qe,$e,Bt){var Qt,Ft;Bt&&(oi(Me,"transition",""),oi(Me,"transform",""),Qt=(Ft=fn(this.el))&&Ft.a,Ft=Ft&&Ft.d,Qt=(qe.left-$e.left)/(Qt||1),Ft=(qe.top-$e.top)/(Ft||1),Me.animatingX=!!Qt,Me.animatingY=!!Ft,oi(Me,"transform","translate3d("+Qt+"px,"+Ft+"px,0)"),this.forRepaintDummy=Me.offsetWidth,oi(Me,"transition","transform "+Bt+"ms"+(this.options.easing?" "+this.options.easing:"")),oi(Me,"transform","translate3d(0,0,0)"),typeof Me.animated=="number"&&clearTimeout(Me.animated),Me.animated=setTimeout(function(){oi(Me,"transition",""),oi(Me,"transform",""),Me.animated=!1,Me.animatingX=!1,Me.animatingY=!1},Bt))}}}var st=[],Ct={initializeByDefault:!0},yt={mount:function(ge){for(var Ce in Ct)!Ct.hasOwnProperty(Ce)||Ce in ge||(ge[Ce]=Ct[Ce]);st.forEach(function(Me){if(Me.pluginName===ge.pluginName)throw"Sortable: Cannot mount plugin ".concat(ge.pluginName," more than once")}),st.push(ge)},pluginEvent:function(ge,Ce,Me){var qe=this;this.eventCanceled=!1,Me.cancel=function(){qe.eventCanceled=!0};var $e=ge+"Global";st.forEach(function(Bt){Ce[Bt.pluginName]&&(Ce[Bt.pluginName][$e]&&Ce[Bt.pluginName][$e](ve({sortable:Ce},Me)),Ce.options[Bt.pluginName]&&Ce[Bt.pluginName][ge]&&Ce[Bt.pluginName][ge](ve({sortable:Ce},Me)))})},initializePlugins:function(ge,Ce,Me,qe){for(var $e in st.forEach(function(Qt){var Ft=Qt.pluginName;(ge.options[Ft]||Qt.initializeByDefault)&&((Qt=new Qt(ge,Ce,ge.options)).sortable=ge,Qt.options=ge.options,ge[Ft]=Qt,be(Me,Qt.defaults))}),ge.options){var Bt;ge.options.hasOwnProperty($e)&&(Bt=this.modifyOption(ge,$e,ge.options[$e]))!==void 0&&(ge.options[$e]=Bt)}},getEventProperties:function(ge,Ce){var Me={};return st.forEach(function(qe){typeof qe.eventProperties=="function"&&be(Me,qe.eventProperties.call(Ce[qe.pluginName],ge))}),Me},modifyOption:function(ge,Ce,Me){var qe;return st.forEach(function($e){ge[$e.pluginName]&&$e.optionListeners&&typeof $e.optionListeners[Ce]=="function"&&(qe=$e.optionListeners[Ce].call(ge[$e.pluginName],Me))}),qe}};function Ve(ge){var Ce=ge.sortable,Me=ge.rootEl,qe=ge.name,$e=ge.targetEl,Bt=ge.cloneEl,Qt=ge.toEl,Ft=ge.fromEl,li=ge.oldIndex,Qi=ge.newIndex,cn=ge.oldDraggableIndex,Ln=ge.newDraggableIndex,ra=ge.originalEvent,pa=ge.putSortable,sa=ge.extraEventProperties;if(Ce=Ce||Me&&Me[Ee]){var Un,ja=Ce.options,ge="on"+qe.charAt(0).toUpperCase()+qe.substr(1);!window.CustomEvent||dt||Mt?(Un=document.createEvent("Event")).initEvent(qe,!0,!0):Un=new CustomEvent(qe,{bubbles:!0,cancelable:!0}),Un.to=Qt||Me,Un.from=Ft||Me,Un.item=$e||Me,Un.clone=Bt,Un.oldIndex=li,Un.newIndex=Qi,Un.oldDraggableIndex=cn,Un.newDraggableIndex=Ln,Un.originalEvent=ra,Un.pullMode=pa?pa.lastPutMode:void 0;var Vn,an=ve(ve({},sa),yt.getEventProperties(qe,Ce));for(Vn in an)Un[Vn]=an[Vn];Me&&Me.dispatchEvent(Un),ja[ge]&&ja[ge].call(Ce,Un)}}function xt(ge,Ce){var Me=(qe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{}).evt,qe=De(qe,jt);yt.pluginEvent.bind(vn)(ge,Ce,ve({dragEl:Lt,parentEl:ai,ghostEl:bi,rootEl:Bi,nextEl:In,lastDownEl:Tt,cloneEl:Dn,cloneHidden:Kn,dragStarted:Jt,putSortable:fi,activeSortable:vn.active,originalEvent:Me,oldIndex:yn,oldDraggableIndex:Ni,newIndex:An,newDraggableIndex:Di,hideGhostForTarget:qn,unhideGhostForTarget:Zn,cloneNowHidden:function(){Kn=!0},cloneNowShown:function(){Kn=!1},dispatchSortableEvent:function($e){kt({sortable:Ce,name:$e,originalEvent:Me})}},qe))}var jt=["evt"];function kt(ge){Ve(ve({putSortable:fi,cloneEl:Dn,targetEl:Lt,rootEl:Bi,oldIndex:yn,oldDraggableIndex:Ni,newIndex:An,newDraggableIndex:Di},ge))}var Lt,ai,bi,Bi,In,Tt,Dn,Kn,yn,An,Ni,Di,gn,fi,Xi,sn,Ue,Re,_t,ut,Jt,ni,pt,Gt,ti,Ci=!1,pn=!1,Gi=[],ki=!1,Hi=!1,Yi=[],on=!1,ha=[],_n=typeof document<"u",Wn=Kt,qt=Mt||dt?"cssFloat":"float",Ma=_n&&!Ar&&!Kt&&"draggable"in document.createElement("div"),nn=(function(){if(_n){if(dt)return!1;var ge=document.createElement("x");return ge.style.cssText="pointer-events:auto",ge.style.pointerEvents==="auto"}})(),Ja=function(Qi,Ce){var Me=oi(Qi),qe=parseInt(Me.width)-parseInt(Me.paddingLeft)-parseInt(Me.paddingRight)-parseInt(Me.borderLeftWidth)-parseInt(Me.borderRightWidth),$e=Ye(Qi,0,Ce),Bt=Ye(Qi,1,Ce),Qt=$e&&oi($e),Ft=Bt&&oi(Bt),li=Qt&&parseInt(Qt.marginLeft)+parseInt(Qt.marginRight)+rn($e).width,Qi=Ft&&parseInt(Ft.marginLeft)+parseInt(Ft.marginRight)+rn(Bt).width;return Me.display==="flex"?Me.flexDirection==="column"||Me.flexDirection==="column-reverse"?"vertical":"horizontal":Me.display==="grid"?Me.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":$e&&Qt.float&&Qt.float!=="none"?(Ce=Qt.float==="left"?"left":"right",!Bt||Ft.clear!=="both"&&Ft.clear!==Ce?"horizontal":"vertical"):$e&&(Qt.display==="block"||Qt.display==="flex"||Qt.display==="table"||Qt.display==="grid"||qe<=li&&Me[qt]==="none"||Bt&&Me[qt]==="none"&&qe<li+Qi)?"vertical":"horizontal"},nr=function(ge){function Ce($e,Bt){return function(Qt,Ft,li,Qi){var cn=Qt.options.group.name&&Ft.options.group.name&&Qt.options.group.name===Ft.options.group.name;return $e==null&&(Bt||cn)?!0:$e==null||$e===!1?!1:Bt&&$e==="clone"?$e:typeof $e=="function"?Ce($e(Qt,Ft,li,Qi),Bt)(Qt,Ft,li,Qi):(Ft=(Bt?Qt:Ft).options.group.name,$e===!0||typeof $e=="string"&&$e===Ft||$e.join&&-1<$e.indexOf(Ft))}}var Me={},qe=ge.group;qe&&de(qe)=="object"||(qe={name:qe}),Me.name=qe.name,Me.checkPull=Ce(qe.pull,!0),Me.checkPut=Ce(qe.put),Me.revertClone=qe.revertClone,ge.group=Me},qn=function(){!nn&&bi&&oi(bi,"display","none")},Zn=function(){!nn&&bi&&oi(bi,"display","")};_n&&!Ar&&document.addEventListener("click",function(ge){if(pn)return ge.preventDefault(),ge.stopPropagation&&ge.stopPropagation(),ge.stopImmediatePropagation&&ge.stopImmediatePropagation(),pn=!1},!0);function Cn(ge){if(Lt){ge=ge.touches?ge.touches[0]:ge;var Ce=($e=ge.clientX,Bt=ge.clientY,Gi.some(function(Ft){var li=Ft[Ee].options.emptyInsertThreshold;if(li&&!Yt(Ft)){var Qi=rn(Ft),cn=$e>=Qi.left-li&&$e<=Qi.right+li,li=Bt>=Qi.top-li&&Bt<=Qi.bottom+li;return cn&&li?Qt=Ft:void 0}}),Qt);if(Ce){var Me,qe={};for(Me in ge)ge.hasOwnProperty(Me)&&(qe[Me]=ge[Me]);qe.target=qe.rootEl=Ce,qe.preventDefault=void 0,qe.stopPropagation=void 0,Ce[Ee]._onDragOver(qe)}}var $e,Bt,Qt}function Xo(ge){Lt&&Lt.parentNode[Ee]._isOutsideThisEl(ge.target)}function vn(ge,Ce){if(!ge||!ge.nodeType||ge.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(ge));this.el=ge,this.options=Ce=be({},Ce),ge[Ee]=this;var Me,qe,$e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(ge.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ja(ge,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(Bt,Qt){Bt.setData("Text",Qt.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:vn.supportPointer!==!1&&"PointerEvent"in window&&!Pt,emptyInsertThreshold:5};for(Me in yt.initializePlugins(this,ge,$e),$e)Me in Ce||(Ce[Me]=$e[Me]);for(qe in nr(Ce),this)qe.charAt(0)==="_"&&typeof this[qe]=="function"&&(this[qe]=this[qe].bind(this));this.nativeDraggable=!Ce.forceFallback&&Ma,this.nativeDraggable&&(this.options.touchStartThreshold=1),Ce.supportPointer?It(ge,"pointerdown",this._onTapStart):(It(ge,"mousedown",this._onTapStart),It(ge,"touchstart",this._onTapStart)),this.nativeDraggable&&(It(ge,"dragover",this),It(ge,"dragenter",this)),Gi.push(this.el),Ce.store&&Ce.store.get&&this.sort(Ce.store.get(this)||[]),be(this,tt())}function Is(ge,Ce,Me,qe,$e,Bt,Qt,Ft){var li,Qi,cn=ge[Ee],Ln=cn.options.onMove;return!window.CustomEvent||dt||Mt?(li=document.createEvent("Event")).initEvent("move",!0,!0):li=new CustomEvent("move",{bubbles:!0,cancelable:!0}),li.to=Ce,li.from=ge,li.dragged=Me,li.draggedRect=qe,li.related=$e||Ce,li.relatedRect=Bt||rn(Ce),li.willInsertAfter=Ft,li.originalEvent=Qt,ge.dispatchEvent(li),Qi=Ln?Ln.call(cn,li,Qt):Qi}function Hn(ge){ge.draggable=!1}function ds(){on=!1}function fs(ge){return setTimeout(ge,0)}function fa(ge){return clearTimeout(ge)}vn.prototype={constructor:vn,_isOutsideThisEl:function(ge){this.el.contains(ge)||ge===this.el||(ni=null)},_getDirection:function(ge,Ce){return typeof this.options.direction=="function"?this.options.direction.call(this,ge,Ce,Lt):this.options.direction},_onTapStart:function(ge){if(ge.cancelable){var Ce=this,Me=this.el,qe=this.options,$e=qe.preventOnFilter,Bt=ge.type,Qt=ge.touches&&ge.touches[0]||ge.pointerType&&ge.pointerType==="touch"&&ge,Ft=(Qt||ge).target,li=ge.target.shadowRoot&&(ge.path&&ge.path[0]||ge.composedPath&&ge.composedPath()[0])||Ft,Qi=qe.filter;if((function(cn){ha.length=0;for(var Ln=cn.getElementsByTagName("input"),ra=Ln.length;ra--;){var pa=Ln[ra];pa.checked&&ha.push(pa)}})(Me),!Lt&&!(/mousedown|pointerdown/.test(Bt)&&ge.button!==0||qe.disabled)&&!li.isContentEditable&&(this.nativeDraggable||!Pt||!Ft||Ft.tagName.toUpperCase()!=="SELECT")&&!((Ft=si(Ft,qe.draggable,Me,!1))&&Ft.animated||Tt===Ft)){if(yn=ci(Ft),Ni=ci(Ft,qe.draggable),typeof Qi=="function"){if(Qi.call(this,ge,Ft,this))return kt({sortable:Ce,rootEl:li,name:"filter",targetEl:Ft,toEl:Me,fromEl:Me}),xt("filter",Ce,{evt:ge}),void($e&&ge.cancelable&&ge.preventDefault())}else if(Qi=Qi&&Qi.split(",").some(function(cn){if(cn=si(li,cn.trim(),Me,!1))return kt({sortable:Ce,rootEl:cn,name:"filter",targetEl:Ft,fromEl:Me,toEl:Me}),xt("filter",Ce,{evt:ge}),!0}))return void($e&&ge.cancelable&&ge.preventDefault());qe.handle&&!si(li,qe.handle,Me,!1)||this._prepareDragStart(ge,Qt,Ft)}}},_prepareDragStart:function(ge,Ce,Me){var qe,$e=this,Bt=$e.el,Qt=$e.options,Ft=Bt.ownerDocument;Me&&!Lt&&Me.parentNode===Bt&&(qe=rn(Me),Bi=Bt,ai=(Lt=Me).parentNode,In=Lt.nextSibling,Tt=Me,gn=Qt.group,Xi={target:vn.dragged=Lt,clientX:(Ce||ge).clientX,clientY:(Ce||ge).clientY},_t=Xi.clientX-qe.left,ut=Xi.clientY-qe.top,this._lastX=(Ce||ge).clientX,this._lastY=(Ce||ge).clientY,Lt.style["will-change"]="all",qe=function(){xt("delayEnded",$e,{evt:ge}),vn.eventCanceled?$e._onDrop():($e._disableDelayedDragEvents(),!We&&$e.nativeDraggable&&(Lt.draggable=!0),$e._triggerDragStart(ge,Ce),kt({sortable:$e,name:"choose",originalEvent:ge}),Ii(Lt,Qt.chosenClass,!0))},Qt.ignore.split(",").forEach(function(li){Mi(Lt,li.trim(),Hn)}),It(Ft,"dragover",Cn),It(Ft,"mousemove",Cn),It(Ft,"touchmove",Cn),It(Ft,"mouseup",$e._onDrop),It(Ft,"touchend",$e._onDrop),It(Ft,"touchcancel",$e._onDrop),We&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Lt.draggable=!0),xt("delayStart",this,{evt:ge}),!Qt.delay||Qt.delayOnTouchOnly&&!Ce||this.nativeDraggable&&(Mt||dt)?qe():vn.eventCanceled?this._onDrop():(It(Ft,"mouseup",$e._disableDelayedDrag),It(Ft,"touchend",$e._disableDelayedDrag),It(Ft,"touchcancel",$e._disableDelayedDrag),It(Ft,"mousemove",$e._delayedDragTouchMoveHandler),It(Ft,"touchmove",$e._delayedDragTouchMoveHandler),Qt.supportPointer&&It(Ft,"pointermove",$e._delayedDragTouchMoveHandler),$e._dragStartTimer=setTimeout(qe,Qt.delay)))},_delayedDragTouchMoveHandler:function(ge){ge=ge.touches?ge.touches[0]:ge,Math.max(Math.abs(ge.clientX-this._lastX),Math.abs(ge.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Lt&&Hn(Lt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var ge=this.el.ownerDocument;bt(ge,"mouseup",this._disableDelayedDrag),bt(ge,"touchend",this._disableDelayedDrag),bt(ge,"touchcancel",this._disableDelayedDrag),bt(ge,"mousemove",this._delayedDragTouchMoveHandler),bt(ge,"touchmove",this._delayedDragTouchMoveHandler),bt(ge,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(ge,Ce){Ce=Ce||ge.pointerType=="touch"&&ge,!this.nativeDraggable||Ce?this.options.supportPointer?It(document,"pointermove",this._onTouchMove):It(document,Ce?"touchmove":"mousemove",this._onTouchMove):(It(Lt,"dragend",this),It(Bi,"dragstart",this._onDragStart));try{document.selection?fs(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(ge,Ce){var Me;Ci=!1,Bi&&Lt?(xt("dragStarted",this,{evt:Ce}),this.nativeDraggable&&It(document,"dragover",Xo),Me=this.options,ge||Ii(Lt,Me.dragClass,!1),Ii(Lt,Me.ghostClass,!0),vn.active=this,ge&&this._appendGhost(),kt({sortable:this,name:"start",originalEvent:Ce})):this._nulling()},_emulateDragOver:function(){if(sn){this._lastX=sn.clientX,this._lastY=sn.clientY,qn();for(var ge=document.elementFromPoint(sn.clientX,sn.clientY),Ce=ge;ge&&ge.shadowRoot&&(ge=ge.shadowRoot.elementFromPoint(sn.clientX,sn.clientY))!==Ce;)Ce=ge;if(Lt.parentNode[Ee]._isOutsideThisEl(ge),Ce)do if(Ce[Ee]&&Ce[Ee]._onDragOver({clientX:sn.clientX,clientY:sn.clientY,target:ge,rootEl:Ce})&&!this.options.dragoverBubble)break;while(Ce=(ge=Ce).parentNode);Zn()}},_onTouchMove:function(ge){if(Xi){var Bt=this.options,Ce=Bt.fallbackTolerance,Me=Bt.fallbackOffset,qe=ge.touches?ge.touches[0]:ge,$e=bi&&fn(bi,!0),Qt=bi&&$e&&$e.a,Ft=bi&&$e&&$e.d,Bt=Wn&&ti&&Oi(ti),Qt=(qe.clientX-Xi.clientX+Me.x)/(Qt||1)+(Bt?Bt[0]-Yi[0]:0)/(Qt||1),Ft=(qe.clientY-Xi.clientY+Me.y)/(Ft||1)+(Bt?Bt[1]-Yi[1]:0)/(Ft||1);if(!vn.active&&!Ci){if(Ce&&Math.max(Math.abs(qe.clientX-this._lastX),Math.abs(qe.clientY-this._lastY))<Ce)return;this._onDragStart(ge,!0)}bi&&($e?($e.e+=Qt-(Ue||0),$e.f+=Ft-(Re||0)):$e={a:1,b:0,c:0,d:1,e:Qt,f:Ft},$e="matrix(".concat($e.a,",").concat($e.b,",").concat($e.c,",").concat($e.d,",").concat($e.e,",").concat($e.f,")"),oi(bi,"webkitTransform",$e),oi(bi,"mozTransform",$e),oi(bi,"msTransform",$e),oi(bi,"transform",$e),Ue=Qt,Re=Ft,sn=qe),ge.cancelable&&ge.preventDefault()}},_appendGhost:function(){if(!bi){var ge=this.options.fallbackOnBody?document.body:Bi,Ce=rn(Lt,!0,Wn,!0,ge),Me=this.options;if(Wn){for(ti=ge;oi(ti,"position")==="static"&&oi(ti,"transform")==="none"&&ti!==document;)ti=ti.parentNode;ti!==document.body&&ti!==document.documentElement?(ti===document&&(ti=Ji()),Ce.top+=ti.scrollTop,Ce.left+=ti.scrollLeft):ti=Ji(),Yi=Oi(ti)}Ii(bi=Lt.cloneNode(!0),Me.ghostClass,!1),Ii(bi,Me.fallbackClass,!0),Ii(bi,Me.dragClass,!0),oi(bi,"transition",""),oi(bi,"transform",""),oi(bi,"box-sizing","border-box"),oi(bi,"margin",0),oi(bi,"top",Ce.top),oi(bi,"left",Ce.left),oi(bi,"width",Ce.width),oi(bi,"height",Ce.height),oi(bi,"opacity","0.8"),oi(bi,"position",Wn?"absolute":"fixed"),oi(bi,"zIndex","100000"),oi(bi,"pointerEvents","none"),vn.ghost=bi,ge.appendChild(bi),oi(bi,"transform-origin",_t/parseInt(bi.style.width)*100+"% "+ut/parseInt(bi.style.height)*100+"%")}},_onDragStart:function(ge,Ce){var Me=this,qe=ge.dataTransfer,$e=Me.options;xt("dragStart",this,{evt:ge}),vn.eventCanceled?this._onDrop():(xt("setupClone",this),vn.eventCanceled||((Dn=Fi(Lt)).removeAttribute("id"),Dn.draggable=!1,Dn.style["will-change"]="",this._hideClone(),Ii(Dn,this.options.chosenClass,!1),vn.clone=Dn),Me.cloneId=fs(function(){xt("clone",Me),vn.eventCanceled||(Me.options.removeCloneOnHide||Bi.insertBefore(Dn,Lt),Me._hideClone(),kt({sortable:Me,name:"clone"}))}),Ce||Ii(Lt,$e.dragClass,!0),Ce?(pn=!0,Me._loopId=setInterval(Me._emulateDragOver,50)):(bt(document,"mouseup",Me._onDrop),bt(document,"touchend",Me._onDrop),bt(document,"touchcancel",Me._onDrop),qe&&(qe.effectAllowed="move",$e.setData&&$e.setData.call(Me,qe,Lt)),It(document,"drop",Me),oi(Lt,"transform","translateZ(0)")),Ci=!0,Me._dragStartId=fs(Me._dragStarted.bind(Me,Ce,ge)),It(document,"selectstart",Me),Jt=!0,Pt&&oi(document.body,"user-select","none"))},_onDragOver:function(ge){var Ce,Me,qe,$e,Bt,Qt=this.el,Ft=ge.target,li=this.options,Qi=li.group,cn=vn.active,Ln=gn===Qi,ra=li.sort,pa=fi||cn,sa=this,Un=!1;if(!on){if(ge.preventDefault!==void 0&&ge.cancelable&&ge.preventDefault(),Ft=si(Ft,li.draggable,Qt,!0),xo("dragOver"),vn.eventCanceled)return Un;if(Lt.contains(ge.target)||Ft.animated&&Ft.animatingX&&Ft.animatingY||sa._ignoreWhileAnimating===Ft)return rr(!1);if(pn=!1,cn&&!li.disabled&&(Ln?ra||(Me=ai!==Bi):fi===this||(this.lastPutMode=gn.checkPull(this,cn,Lt,ge))&&Qi.checkPut(this,cn,Lt,ge))){if(qe=this._getDirection(ge,Ft)==="vertical",Ce=rn(Lt),xo("dragOverValid"),vn.eventCanceled)return Un;if(Me)return ai=Bi,Ko(),this._hideClone(),xo("revert"),vn.eventCanceled||(In?Bi.insertBefore(Lt,In):Bi.appendChild(Lt)),rr(!0);var ja=Yt(Qt,li.draggable);if(ja&&(ka=ge,Qi=qe,Tn=rn(Yt((ea=this).el,ea.options.draggable)),ea=we(ea.el,ea.options,bi),!(Qi?ka.clientX>ea.right+10||ka.clientY>Tn.bottom&&ka.clientX>Tn.left:ka.clientY>ea.bottom+10||ka.clientX>Tn.right&&ka.clientY>Tn.top)||ja.animated)){if(ja&&($e=ge,Bt=qe,Va=rn(Ye((wa=this).el,0,wa.options,!0)),wa=we(wa.el,wa.options,bi),Bt?$e.clientX<wa.left-10||$e.clientY<Va.top&&$e.clientX<Va.right:$e.clientY<wa.top-10||$e.clientY<Va.bottom&&$e.clientX<Va.left)){var Vn=Ye(Qt,0,li,!0);if(Vn===Lt)return rr(!1);if(Sr=rn(Ft=Vn),Is(Bi,Qt,Lt,Ce,Ft,Sr,ge,!1)!==!1)return Ko(),Qt.insertBefore(Lt,Vn),ai=Qt,Ms(),rr(!0)}else if(Ft.parentNode===Qt){var an,ca,aa,Sr=rn(Ft),ea=Lt.parentNode!==Qt,ka=(ka=Lt.animated&&Lt.toRect||Ce,Tn=Ft.animated&&Ft.toRect||Sr,wa=(Bt=qe)?ka.left:ka.top,$e=Bt?ka.right:ka.bottom,Va=Bt?ka.width:ka.height,Vn=Bt?Tn.left:Tn.top,ka=Bt?Tn.right:Tn.bottom,Tn=Bt?Tn.width:Tn.height,!(wa===Vn||$e===ka||wa+Va/2===Vn+Tn/2)),wa=qe?"top":"left",Va=xn(Ft,"top","top")||xn(Lt,"top","top"),Vn=Va?Va.scrollTop:void 0;if(ni!==Ft&&(ca=Sr[wa],ki=!1,Hi=!ka&&li.invertSwap||ea),(an=(function(Hr,Do,lr,Vs,_o,Ta,Qn,Lu){var Aa=Vs?Hr.clientY:Hr.clientX,Xr=Vs?lr.height:lr.width,Hr=Vs?lr.top:lr.left,Vs=Vs?lr.bottom:lr.right,lr=!1;if(!Qn){if(Lu&&Gt<Xr*_o){if(ki=!ki&&(pt===1?Hr+Xr*Ta/2<Aa:Aa<Vs-Xr*Ta/2)?!0:ki)lr=!0;else if(pt===1?Aa<Hr+Gt:Vs-Gt<Aa)return-pt}else if(Hr+Xr*(1-_o)/2<Aa&&Aa<Vs-Xr*(1-_o)/2)return(function(Ls){return ci(Lt)<ci(Ls)?1:-1})(Do)}return(lr=lr||Qn)&&(Aa<Hr+Xr*Ta/2||Vs-Xr*Ta/2<Aa)?Hr+Xr/2<Aa?1:-1:0})(ge,Ft,Sr,qe,ka?1:li.swapThreshold,li.invertedSwapThreshold==null?li.swapThreshold:li.invertedSwapThreshold,Hi,ni===Ft))!==0)for(var Wt=ci(Lt);(aa=ai.children[Wt-=an])&&(oi(aa,"display")==="none"||aa===bi););if(an===0||aa===Ft)return rr(!1);pt=an;var Tn=(ni=Ft).nextElementSibling,ea=!1,ka=Is(Bi,Qt,Lt,Ce,Ft,Sr,ge,ea=an===1);if(ka!==!1)return ka!==1&&ka!==-1||(ea=ka===1),on=!0,setTimeout(ds,30),Ko(),ea&&!Tn?Qt.appendChild(Lt):Ft.parentNode.insertBefore(Lt,ea?Tn:Ft),Va&&Ei(Va,0,Vn-Va.scrollTop),ai=Lt.parentNode,ca===void 0||Hi||(Gt=Math.abs(ca-rn(Ft)[wa])),Ms(),rr(!0)}}else{if(ja===Lt)return rr(!1);if((Ft=ja&&Qt===ge.target?ja:Ft)&&(Sr=rn(Ft)),Is(Bi,Qt,Lt,Ce,Ft,Sr,ge,!!Ft)!==!1)return Ko(),ja&&ja.nextSibling?Qt.insertBefore(Lt,ja.nextSibling):Qt.appendChild(Lt),ai=Qt,Ms(),rr(!0)}if(Qt.contains(Lt))return rr(!1)}return!1}function xo(ba,er){xt(ba,sa,ve({evt:ge,isOwner:Ln,axis:qe?"vertical":"horizontal",revert:Me,dragRect:Ce,targetRect:Sr,canSort:ra,fromSortable:pa,target:Ft,completed:rr,onMove:function(Do,Ya){return Is(Bi,Qt,Lt,Ce,Do,rn(Do),ge,Ya)},changed:Ms},er))}function Ko(){xo("dragOverAnimationCapture"),sa.captureAnimationState(),sa!==pa&&pa.captureAnimationState()}function rr(ba){return xo("dragOverCompleted",{insertion:ba}),ba&&(Ln?cn._hideClone():cn._showClone(sa),sa!==pa&&(Ii(Lt,(fi||cn).options.ghostClass,!1),Ii(Lt,li.ghostClass,!0)),fi!==sa&&sa!==vn.active?fi=sa:sa===vn.active&&fi&&(fi=null),pa===sa&&(sa._ignoreWhileAnimating=Ft),sa.animateAll(function(){xo("dragOverAnimationComplete"),sa._ignoreWhileAnimating=null}),sa!==pa&&(pa.animateAll(),pa._ignoreWhileAnimating=null)),(Ft===Lt&&!Lt.animated||Ft===Qt&&!Ft.animated)&&(ni=null),li.dragoverBubble||ge.rootEl||Ft===document||(Lt.parentNode[Ee]._isOutsideThisEl(ge.target),ba||Cn(ge)),!li.dragoverBubble&&ge.stopPropagation&&ge.stopPropagation(),Un=!0}function Ms(){An=ci(Lt),Di=ci(Lt,li.draggable),kt({sortable:sa,name:"change",toEl:Qt,newIndex:An,newDraggableIndex:Di,originalEvent:ge})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){bt(document,"mousemove",this._onTouchMove),bt(document,"touchmove",this._onTouchMove),bt(document,"pointermove",this._onTouchMove),bt(document,"dragover",Cn),bt(document,"mousemove",Cn),bt(document,"touchmove",Cn)},_offUpEvents:function(){var ge=this.el.ownerDocument;bt(ge,"mouseup",this._onDrop),bt(ge,"touchend",this._onDrop),bt(ge,"pointerup",this._onDrop),bt(ge,"touchcancel",this._onDrop),bt(document,"selectstart",this)},_onDrop:function(ge){var Ce=this.el,Me=this.options;An=ci(Lt),Di=ci(Lt,Me.draggable),xt("drop",this,{evt:ge}),ai=Lt&&Lt.parentNode,An=ci(Lt),Di=ci(Lt,Me.draggable),vn.eventCanceled||(ki=Hi=Ci=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),fa(this.cloneId),fa(this._dragStartId),this.nativeDraggable&&(bt(document,"drop",this),bt(Ce,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pt&&oi(document.body,"user-select",""),oi(Lt,"transform",""),ge&&(Jt&&(ge.cancelable&&ge.preventDefault(),Me.dropBubble||ge.stopPropagation()),bi&&bi.parentNode&&bi.parentNode.removeChild(bi),(Bi===ai||fi&&fi.lastPutMode!=="clone")&&Dn&&Dn.parentNode&&Dn.parentNode.removeChild(Dn),Lt&&(this.nativeDraggable&&bt(Lt,"dragend",this),Hn(Lt),Lt.style["will-change"]="",Jt&&!Ci&&Ii(Lt,(fi||this).options.ghostClass,!1),Ii(Lt,this.options.chosenClass,!1),kt({sortable:this,name:"unchoose",toEl:ai,newIndex:null,newDraggableIndex:null,originalEvent:ge}),Bi!==ai?(0<=An&&(kt({rootEl:ai,name:"add",toEl:ai,fromEl:Bi,originalEvent:ge}),kt({sortable:this,name:"remove",toEl:ai,originalEvent:ge}),kt({rootEl:ai,name:"sort",toEl:ai,fromEl:Bi,originalEvent:ge}),kt({sortable:this,name:"sort",toEl:ai,originalEvent:ge})),fi&&fi.save()):An!==yn&&0<=An&&(kt({sortable:this,name:"update",toEl:ai,originalEvent:ge}),kt({sortable:this,name:"sort",toEl:ai,originalEvent:ge})),vn.active&&(An!=null&&An!==-1||(An=yn,Di=Ni),kt({sortable:this,name:"end",toEl:ai,originalEvent:ge}),this.save())))),this._nulling()},_nulling:function(){xt("nulling",this),Bi=Lt=ai=bi=In=Dn=Tt=Kn=Xi=sn=Jt=An=Di=yn=Ni=ni=pt=fi=gn=vn.dragged=vn.ghost=vn.clone=vn.active=null,ha.forEach(function(ge){ge.checked=!0}),ha.length=Ue=Re=0},handleEvent:function(ge){switch(ge.type){case"drop":case"dragend":this._onDrop(ge);break;case"dragenter":case"dragover":Lt&&(this._onDragOver(ge),(function(Ce){Ce.dataTransfer&&(Ce.dataTransfer.dropEffect="move"),Ce.cancelable&&Ce.preventDefault()})(ge));break;case"selectstart":ge.preventDefault()}},toArray:function(){for(var ge,Ce=[],Me=this.el.children,qe=0,$e=Me.length,Bt=this.options;qe<$e;qe++)si(ge=Me[qe],Bt.draggable,this.el,!1)&&Ce.push(ge.getAttribute(Bt.dataIdAttr)||(function(Qt){for(var Ft=Qt.tagName+Qt.className+Qt.src+Qt.href+Qt.textContent,li=Ft.length,Qi=0;li--;)Qi+=Ft.charCodeAt(li);return Qi.toString(36)})(ge));return Ce},sort:function(ge,Ce){var Me={},qe=this.el;this.toArray().forEach(function($e,Bt){Bt=qe.children[Bt],si(Bt,this.options.draggable,qe,!1)&&(Me[$e]=Bt)},this),Ce&&this.captureAnimationState(),ge.forEach(function($e){Me[$e]&&(qe.removeChild(Me[$e]),qe.appendChild(Me[$e]))}),Ce&&this.animateAll()},save:function(){var ge=this.options.store;ge&&ge.set&&ge.set(this)},closest:function(ge,Ce){return si(ge,Ce||this.options.draggable,this.el,!1)},option:function(ge,Ce){var Me=this.options;if(Ce===void 0)return Me[ge];var qe=yt.modifyOption(this,ge,Ce);Me[ge]=qe!==void 0?qe:Ce,ge==="group"&&nr(Me)},destroy:function(){xt("destroy",this);var ge=this.el;ge[Ee]=null,bt(ge,"mousedown",this._onTapStart),bt(ge,"touchstart",this._onTapStart),bt(ge,"pointerdown",this._onTapStart),this.nativeDraggable&&(bt(ge,"dragover",this),bt(ge,"dragenter",this)),Array.prototype.forEach.call(ge.querySelectorAll("[draggable]"),function(Ce){Ce.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Gi.splice(Gi.indexOf(this.el),1),this.el=ge=null},_hideClone:function(){Kn||(xt("hideClone",this),vn.eventCanceled||(oi(Dn,"display","none"),this.options.removeCloneOnHide&&Dn.parentNode&&Dn.parentNode.removeChild(Dn),Kn=!0))},_showClone:function(ge){ge.lastPutMode==="clone"?Kn&&(xt("showClone",this),vn.eventCanceled||(Lt.parentNode!=Bi||this.options.group.revertClone?In?Bi.insertBefore(Dn,In):Bi.appendChild(Dn):Bi.insertBefore(Dn,Lt),this.options.group.revertClone&&this.animate(Lt,Dn),oi(Dn,"display",""),Kn=!1)):this._hideClone()}},_n&&It(document,"touchmove",function(ge){(vn.active||Ci)&&ge.cancelable&&ge.preventDefault()}),vn.utils={on:It,off:bt,css:oi,find:Mi,is:function(ge,Ce){return!!si(ge,Ce,ge,!1)},extend:function(ge,Ce){if(ge&&Ce)for(var Me in Ce)Ce.hasOwnProperty(Me)&&(ge[Me]=Ce[Me]);return ge},throttle:wi,closest:si,toggleClass:Ii,clone:Fi,index:ci,nextTick:fs,cancelNextTick:fa,detectDirection:Ja,getChild:Ye},vn.get=function(ge){return ge[Ee]},vn.mount=function(){for(var ge=arguments.length,Ce=new Array(ge),Me=0;Me<ge;Me++)Ce[Me]=arguments[Me];(Ce=Ce[0].constructor===Array?Ce[0]:Ce).forEach(function(qe){if(!qe.prototype||!qe.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(qe));qe.utils&&(vn.utils=ve(ve({},vn.utils),qe.utils)),yt.mount(qe)})},vn.create=function(ge,Ce){return new vn(ge,Ce)};var Xa,nc,Po,Ea,dr,Dt,ze=[],Mn=!(vn.version="1.15.2");function fr(){ze.forEach(function(ge){clearInterval(ge.pid)}),ze=[]}function Lr(){clearInterval(Dt)}var Fr,Fl=wi(function(ge,Ce,Me,qe){if(Ce.scroll){var $e,Bt=(ge.touches?ge.touches[0]:ge).clientX,Qt=(ge.touches?ge.touches[0]:ge).clientY,Ft=Ce.scrollSensitivity,li=Ce.scrollSpeed,Qi=Ji(),cn=!1;nc!==Me&&(nc=Me,fr(),Xa=Ce.scroll,$e=Ce.scrollFn,Xa===!0&&(Xa=ui(Me,!0)));var Ln=0,ra=Xa;do{var pa=ra,ea=rn(pa),sa=ea.top,Un=ea.bottom,ja=ea.left,Vn=ea.right,an=ea.width,ca=ea.height,aa=void 0,Wt=void 0,Sr=pa.scrollWidth,wa=pa.scrollHeight,Va=oi(pa),Tn=pa.scrollLeft,ea=pa.scrollTop,Wt=pa===Qi?(aa=an<Sr&&(Va.overflowX==="auto"||Va.overflowX==="scroll"||Va.overflowX==="visible"),ca<wa&&(Va.overflowY==="auto"||Va.overflowY==="scroll"||Va.overflowY==="visible")):(aa=an<Sr&&(Va.overflowX==="auto"||Va.overflowX==="scroll"),ca<wa&&(Va.overflowY==="auto"||Va.overflowY==="scroll")),Tn=aa&&(Math.abs(Vn-Bt)<=Ft&&Tn+an<Sr)-(Math.abs(ja-Bt)<=Ft&&!!Tn),ea=Wt&&(Math.abs(Un-Qt)<=Ft&&ea+ca<wa)-(Math.abs(sa-Qt)<=Ft&&!!ea);if(!ze[Ln])for(var ka=0;ka<=Ln;ka++)ze[ka]||(ze[ka]={});ze[Ln].vx==Tn&&ze[Ln].vy==ea&&ze[Ln].el===pa||(ze[Ln].el=pa,ze[Ln].vx=Tn,ze[Ln].vy=ea,clearInterval(ze[Ln].pid),Tn==0&&ea==0||(cn=!0,ze[Ln].pid=setInterval((function(){qe&&this.layer===0&&vn.active._onTouchMove(dr);var xo=ze[this.layer].vy?ze[this.layer].vy*li:0,Ko=ze[this.layer].vx?ze[this.layer].vx*li:0;typeof $e=="function"&&$e.call(vn.dragged.parentNode[Ee],Ko,xo,ge,dr,ze[this.layer].el)!=="continue"||Ei(ze[this.layer].el,Ko,xo)}).bind({layer:Ln}),24))),Ln++}while(Ce.bubbleScroll&&ra!==Qi&&(ra=ui(ra,!1)));Mn=cn}},30),Ar=function(Ft){var Ce=Ft.originalEvent,Me=Ft.putSortable,qe=Ft.dragEl,$e=Ft.activeSortable,Bt=Ft.dispatchSortableEvent,Qt=Ft.hideGhostForTarget,Ft=Ft.unhideGhostForTarget;Ce&&($e=Me||$e,Qt(),Ce=Ce.changedTouches&&Ce.changedTouches.length?Ce.changedTouches[0]:Ce,Ce=document.elementFromPoint(Ce.clientX,Ce.clientY),Ft(),$e&&!$e.el.contains(Ce)&&(Bt("spill"),this.onSpill({dragEl:qe,putSortable:Me})))};function Nn(){}function Ua(){}Nn.prototype={startIndex:null,dragStart:function(ge){ge=ge.oldDraggableIndex,this.startIndex=ge},onSpill:function(ge){var Ce=ge.dragEl,Me=ge.putSortable;this.sortable.captureAnimationState(),Me&&Me.captureAnimationState(),ge=Ye(this.sortable.el,this.startIndex,this.options),ge?this.sortable.el.insertBefore(Ce,ge):this.sortable.el.appendChild(Ce),this.sortable.animateAll(),Me&&Me.animateAll()},drop:Ar},be(Nn,{pluginName:"revertOnSpill"}),Ua.prototype={onSpill:function(Me){var Ce=Me.dragEl,Me=Me.putSortable||this.sortable;Me.captureAnimationState(),Ce.parentNode&&Ce.parentNode.removeChild(Ce),Me.animateAll()},drop:Ar},be(Ua,{pluginName:"removeOnSpill"});var br,Cr,mn,eo,Yo,Jn=[],na=[],ar=!1,ia=!1,_i=!1;function Na(ge,Ce){na.forEach(function(Me,qe){qe=Ce.children[Me.sortableIndex+(ge?Number(qe):0)],qe?Ce.insertBefore(Me,qe):Ce.appendChild(Me)})}function $n(){Jn.forEach(function(ge){ge!==mn&&ge.parentNode&&ge.parentNode.removeChild(ge)})}return vn.mount(new function(){function ge(){for(var Ce in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)Ce.charAt(0)==="_"&&typeof this[Ce]=="function"&&(this[Ce]=this[Ce].bind(this))}return ge.prototype={dragStarted:function(Ce){Ce=Ce.originalEvent,this.sortable.nativeDraggable?It(document,"dragover",this._handleAutoScroll):this.options.supportPointer?It(document,"pointermove",this._handleFallbackAutoScroll):Ce.touches?It(document,"touchmove",this._handleFallbackAutoScroll):It(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(Ce){Ce=Ce.originalEvent,this.options.dragOverBubble||Ce.rootEl||this._handleAutoScroll(Ce)},drop:function(){this.sortable.nativeDraggable?bt(document,"dragover",this._handleAutoScroll):(bt(document,"pointermove",this._handleFallbackAutoScroll),bt(document,"touchmove",this._handleFallbackAutoScroll),bt(document,"mousemove",this._handleFallbackAutoScroll)),Lr(),fr(),clearTimeout(gi),gi=void 0},nulling:function(){dr=nc=Xa=Mn=Dt=Po=Ea=null,ze.length=0},_handleFallbackAutoScroll:function(Ce){this._handleAutoScroll(Ce,!0)},_handleAutoScroll:function(Ce,Me){var qe,$e=this,Bt=(Ce.touches?Ce.touches[0]:Ce).clientX,Qt=(Ce.touches?Ce.touches[0]:Ce).clientY,Ft=document.elementFromPoint(Bt,Qt);dr=Ce,Me||this.options.forceAutoScrollFallback||Mt||dt||Pt?(Fl(Ce,this.options,Ft,Me),qe=ui(Ft,!0),!Mn||Dt&&Bt===Po&&Qt===Ea||(Dt&&Lr(),Dt=setInterval(function(){var li=ui(document.elementFromPoint(Bt,Qt),!0);li!==qe&&(qe=li,fr()),Fl(Ce,$e.options,li,Me)},10),Po=Bt,Ea=Qt)):this.options.bubbleScroll&&ui(Ft,!0)!==Ji()?Fl(Ce,this.options,ui(Ft,!1),!1):fr()}},be(ge,{pluginName:"scroll",initializeByDefault:!0})}),vn.mount(Ua,Nn),vn.mount(new function(){function ge(){this.defaults={swapClass:"sortable-swap-highlight"}}return ge.prototype={dragStart:function(Ce){Ce=Ce.dragEl,Fr=Ce},dragOverValid:function(Ce){var Me=Ce.completed,qe=Ce.target,$e=Ce.onMove,Bt=Ce.activeSortable,Qt=Ce.changed,Ft=Ce.cancel;Bt.options.swap&&(Ce=this.sortable.el,Bt=this.options,qe&&qe!==Ce&&(Ce=Fr,Fr=$e(qe)!==!1?(Ii(qe,Bt.swapClass,!0),qe):null,Ce&&Ce!==Fr&&Ii(Ce,Bt.swapClass,!1)),Qt(),Me(!0),Ft())},drop:function(Ce){var Me,qe,$e=Ce.activeSortable,Bt=Ce.putSortable,Qt=Ce.dragEl,Ft=Bt||this.sortable,li=this.options;Fr&&Ii(Fr,li.swapClass,!1),Fr&&(li.swap||Bt&&Bt.options.swap)&&Qt!==Fr&&(Ft.captureAnimationState(),Ft!==$e&&$e.captureAnimationState(),qe=Fr,Ce=(Me=Qt).parentNode,li=qe.parentNode,Ce&&li&&!Ce.isEqualNode(qe)&&!li.isEqualNode(Me)&&(Bt=ci(Me),Qt=ci(qe),Ce.isEqualNode(li)&&Bt<Qt&&Qt++,Ce.insertBefore(qe,Ce.children[Bt]),li.insertBefore(Me,li.children[Qt])),Ft.animateAll(),Ft!==$e&&$e.animateAll())},nulling:function(){Fr=null}},be(ge,{pluginName:"swap",eventProperties:function(){return{swapItem:Fr}}})}),vn.mount(new function(){function ge(Ce){for(var Me in this)Me.charAt(0)==="_"&&typeof this[Me]=="function"&&(this[Me]=this[Me].bind(this));Ce.options.avoidImplicitDeselect||(Ce.options.supportPointer?It(document,"pointerup",this._deselectMultiDrag):(It(document,"mouseup",this._deselectMultiDrag),It(document,"touchend",this._deselectMultiDrag))),It(document,"keydown",this._checkKeyDown),It(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(qe,$e){var Bt="";Jn.length&&Cr===Ce?Jn.forEach(function(Qt,Ft){Bt+=(Ft?", ":"")+Qt.textContent}):Bt=$e.textContent,qe.setData("Text",Bt)}}}return ge.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(Ce){Ce=Ce.dragEl,mn=Ce},delayEnded:function(){this.isMultiDrag=~Jn.indexOf(mn)},setupClone:function(qe){var Me=qe.sortable,qe=qe.cancel;if(this.isMultiDrag){for(var $e=0;$e<Jn.length;$e++)na.push(Fi(Jn[$e])),na[$e].sortableIndex=Jn[$e].sortableIndex,na[$e].draggable=!1,na[$e].style["will-change"]="",Ii(na[$e],this.options.selectedClass,!1),Jn[$e]===mn&&Ii(na[$e],this.options.chosenClass,!1);Me._hideClone(),qe()}},clone:function(Bt){var Me=Bt.sortable,qe=Bt.rootEl,$e=Bt.dispatchSortableEvent,Bt=Bt.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Jn.length&&Cr===Me&&(Na(!0,qe),$e("clone"),Bt()))},showClone:function($e){var Me=$e.cloneNowShown,qe=$e.rootEl,$e=$e.cancel;this.isMultiDrag&&(Na(!1,qe),na.forEach(function(Bt){oi(Bt,"display","")}),Me(),Yo=!1,$e())},hideClone:function($e){var Me=this,qe=($e.sortable,$e.cloneNowHidden),$e=$e.cancel;this.isMultiDrag&&(na.forEach(function(Bt){oi(Bt,"display","none"),Me.options.removeCloneOnHide&&Bt.parentNode&&Bt.parentNode.removeChild(Bt)}),qe(),Yo=!0,$e())},dragStartGlobal:function(Ce){Ce.sortable,!this.isMultiDrag&&Cr&&Cr.multiDrag._deselectMultiDrag(),Jn.forEach(function(Me){Me.sortableIndex=ci(Me)}),Jn=Jn.sort(function(Me,qe){return Me.sortableIndex-qe.sortableIndex}),_i=!0},dragStarted:function($e){var Me,qe=this,$e=$e.sortable;this.isMultiDrag&&(this.options.sort&&($e.captureAnimationState(),this.options.animation&&(Jn.forEach(function(Bt){Bt!==mn&&oi(Bt,"position","absolute")}),Me=rn(mn,!1,!0,!0),Jn.forEach(function(Bt){Bt!==mn&&ft(Bt,Me)}),ar=ia=!0)),$e.animateAll(function(){ar=ia=!1,qe.options.animation&&Jn.forEach(function(Bt){xe(Bt)}),qe.options.sort&&$n()}))},dragOver:function($e){var Me=$e.target,qe=$e.completed,$e=$e.cancel;ia&&~Jn.indexOf(Me)&&(qe(!1),$e())},revert:function(Ce){var Me,qe,$e=Ce.fromSortable,Bt=Ce.rootEl,Qt=Ce.sortable,Ft=Ce.dragRect;1<Jn.length&&(Jn.forEach(function(li){Qt.addAnimationState({target:li,rect:ia?rn(li):Ft}),xe(li),li.fromRect=Ft,$e.removeAnimationState(li)}),ia=!1,Me=!this.options.removeCloneOnHide,qe=Bt,Jn.forEach(function(li,Qi){Qi=qe.children[li.sortableIndex+(Me?Number(Qi):0)],Qi?qe.insertBefore(li,Qi):qe.appendChild(li)}))},dragOverCompleted:function(Qi){var Me,qe=Qi.sortable,$e=Qi.isOwner,Bt=Qi.insertion,Qt=Qi.activeSortable,Ft=Qi.parentEl,li=Qi.putSortable,Qi=this.options;Bt&&($e&&Qt._hideClone(),ar=!1,Qi.animation&&1<Jn.length&&(ia||!$e&&!Qt.options.sort&&!li)&&(Me=rn(mn,!1,!0,!0),Jn.forEach(function(cn){cn!==mn&&(ft(cn,Me),Ft.appendChild(cn))}),ia=!0),$e||(ia||$n(),1<Jn.length?($e=Yo,Qt._showClone(qe),Qt.options.animation&&!Yo&&$e&&na.forEach(function(cn){Qt.addAnimationState({target:cn,rect:eo}),cn.fromRect=eo,cn.thisAnimationDuration=null})):Qt._showClone(qe)))},dragOverAnimationCapture:function($e){var Me=$e.dragRect,qe=$e.isOwner,$e=$e.activeSortable;Jn.forEach(function(Bt){Bt.thisAnimationDuration=null}),$e.options.animation&&!qe&&$e.multiDrag.isMultiDrag&&(eo=be({},Me),Me=fn(mn,!0),eo.top-=Me.f,eo.left-=Me.e)},dragOverAnimationComplete:function(){ia&&(ia=!1,$n())},drop:function(Ce){var Me=Ce.originalEvent,qe=Ce.rootEl,$e=Ce.parentEl,Bt=Ce.sortable,Qt=Ce.dispatchSortableEvent,Ft=Ce.oldIndex,li=Ce.putSortable,Qi=li||this.sortable;if(Me){var cn,Ln,ra,pa=this.options,sa=$e.children;if(!_i)if(pa.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Ii(mn,pa.selectedClass,!~Jn.indexOf(mn)),~Jn.indexOf(mn))Jn.splice(Jn.indexOf(mn),1),br=null,Ve({sortable:Bt,rootEl:qe,name:"deselect",targetEl:mn,originalEvent:Me});else{if(Jn.push(mn),Ve({sortable:Bt,rootEl:qe,name:"select",targetEl:mn,originalEvent:Me}),Me.shiftKey&&br&&Bt.el.contains(br)){var Un=ci(br),Ce=ci(mn);if(~Un&&~Ce&&Un!==Ce)for(var ja,Vn=Un<Ce?(ja=Un,Ce):(ja=Ce,Un+1);ja<Vn;ja++)~Jn.indexOf(sa[ja])||(Ii(sa[ja],pa.selectedClass,!0),Jn.push(sa[ja]),Ve({sortable:Bt,rootEl:qe,name:"select",targetEl:sa[ja],originalEvent:Me}))}else br=mn;Cr=Qi}_i&&this.isMultiDrag&&(ia=!1,($e[Ee].options.sort||$e!==qe)&&1<Jn.length&&(cn=rn(mn),Ln=ci(mn,":not(."+this.options.selectedClass+")"),!ar&&pa.animation&&(mn.thisAnimationDuration=null),Qi.captureAnimationState(),ar||(pa.animation&&(mn.fromRect=cn,Jn.forEach(function(an){var ca;an.thisAnimationDuration=null,an!==mn&&(ca=ia?rn(an):cn,an.fromRect=ca,Qi.addAnimationState({target:an,rect:ca}))})),$n(),Jn.forEach(function(an){sa[Ln]?$e.insertBefore(an,sa[Ln]):$e.appendChild(an),Ln++}),Ft===ci(mn)&&(ra=!1,Jn.forEach(function(an){an.sortableIndex!==ci(an)&&(ra=!0)}),ra&&(Qt("update"),Qt("sort")))),Jn.forEach(function(an){xe(an)}),Qi.animateAll()),Cr=Qi),(qe===$e||li&&li.lastPutMode!=="clone")&&na.forEach(function(an){an.parentNode&&an.parentNode.removeChild(an)})}},nullingGlobal:function(){this.isMultiDrag=_i=!1,na.length=0},destroyGlobal:function(){this._deselectMultiDrag(),bt(document,"pointerup",this._deselectMultiDrag),bt(document,"mouseup",this._deselectMultiDrag),bt(document,"touchend",this._deselectMultiDrag),bt(document,"keydown",this._checkKeyDown),bt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(Ce){if(!(_i!==void 0&&_i||Cr!==this.sortable||Ce&&si(Ce.target,this.options.draggable,this.sortable.el,!1)||Ce&&Ce.button!==0))for(;Jn.length;){var Me=Jn[0];Ii(Me,this.options.selectedClass,!1),Jn.shift(),Ve({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:Me,originalEvent:Ce})}},_checkKeyDown:function(Ce){Ce.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(Ce){Ce.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},be(ge,{pluginName:"multiDrag",utils:{select:function(Ce){var Me=Ce.parentNode[Ee];Me&&Me.options.multiDrag&&!~Jn.indexOf(Ce)&&(Cr&&Cr!==Me&&(Cr.multiDrag._deselectMultiDrag(),Cr=Me),Ii(Ce,Me.options.selectedClass,!0),Jn.push(Ce))},deselect:function(Ce){var Me=Ce.parentNode[Ee],qe=Jn.indexOf(Ce);Me&&Me.options.multiDrag&&~qe&&(Ii(Ce,Me.options.selectedClass,!1),Jn.splice(qe,1))}},eventProperties:function(){var Ce=this,Me=[],qe=[];return Jn.forEach(function($e){var Bt;Me.push({multiDragElement:$e,index:$e.sortableIndex}),Bt=ia&&$e!==mn?-1:ia?ci($e,":not(."+Ce.options.selectedClass+")"):ci($e),qe.push({multiDragElement:$e,index:Bt})}),{items:Ie(Jn),clones:[].concat(na),oldIndicies:Me,newIndicies:qe}},optionListeners:{multiDragKey:function(Ce){return(Ce=Ce.toLowerCase())==="ctrl"?Ce="Control":1<Ce.length&&(Ce=Ce.charAt(0).toUpperCase()+Ce.substr(1)),Ce}}})}),vn})}}),P={};d(P,{default:()=>q,sort:()=>H}),e.exports=b(P);var I=x(S());function O(ne,te){if(typeof ShadowRoot=="function"&&ne instanceof ShadowRoot){Array.from(ne.children).forEach(de=>O(de,te));return}let he=!1;if(te(ne,()=>he=!0),he)return;let ve=ne.firstElementChild;for(;ve;)O(ve,te),ve=ve.nextElementSibling}function H(ne){ne.directive("sort",(te,{value:he,modifiers:ve,expression:de},{effect:be,evaluate:De,cleanup:Ie})=>{if(he==="config"||he==="handle"||he==="group")return;if(he==="key"||he==="item"){if([void 0,null,""].includes(de))return;te._x_sort_key=De(de);return}let nt={hideGhost:!ve.includes("ghost"),useHandles:!!te.querySelector("[x-sort\\:handle],[wire\\:sort\\:handle]"),group:re(te,ve)},je=Q(de,De),dt=Y(te,ve,De),Mt=Z(te,dt,nt,(We,Pt)=>{je(We,Pt)});Ie(()=>Mt.destroy())})}function Q(ne,te){return[void 0,null,""].includes(ne)?()=>{}:(he,ve)=>{te(ne,{scope:{$key:he,$item:he,$position:ve},params:[he,ve]})}}function Y(ne,te,he){return ne.hasAttribute("x-sort:config")?he(ne.getAttribute("x-sort:config")):ne.hasAttribute("wire:sort:config")?he(ne.getAttribute("wire:sort:config")):{}}function Z(ne,te,he,ve){let de,be={animation:150,handle:he.useHandles?"[x-sort\\:handle],[wire\\:sort\\:handle]":null,group:he.group,scroll:!0,forceAutoScrollFallback:!0,scrollSensitivity:50,preventOnFilter:!1,filter(De){return De.target.hasAttribute("x-sort:ignore")||De.target.hasAttribute("wire:sort:ignore")||De.target.closest("[x-sort\\:ignore]")||De.target.closest("[wire\\:sort\\:ignore]")?!0:ne.querySelector("[x-sort\\:item],[wire\\:sort\\:item]")?!De.target.closest("[x-sort\\:item],[wire\\:sort\\:item]"):!1},onSort(De){if(De.from!==De.to&&De.to!==De.target)return;let Ie;O(De.item,(je,dt)=>{Ie===void 0&&je._x_sort_key&&(Ie=je._x_sort_key,dt())});let nt=De.newIndex;(Ie!==void 0||Ie!==null)&&ve(Ie,nt)},onStart(){document.body.classList.add("sorting"),de=document.querySelector(".sortable-ghost"),he.hideGhost&&de&&(de.style.opacity="0")},onEnd(){document.body.classList.remove("sorting"),he.hideGhost&&de&&(de.style.opacity="1"),de=void 0,J(ne)}};return new I.default(ne,{...be,...te})}function J(ne){let te=ne.firstChild;for(;te.nextSibling;){if(te.textContent.trim()==="[if ENDBLOCK]><![endif]"){ne.append(te);break}te=te.nextSibling}}function re(ne,te){return ne.hasAttribute("x-sort:group")?ne.getAttribute("x-sort:group"):ne.hasAttribute("wire:sort:group")?ne.getAttribute("wire:sort:group"):te.indexOf("group")!==-1?te[te.indexOf("group")+1]:null}var q=H}}),DY=_h({"node_modules/@alpinejs/resize/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(H,Q)=>{for(var Y in Q)t(H,Y,{get:Q[Y],enumerable:!0})},s=(H,Q,Y,Z)=>{if(Q&&typeof Q=="object"||typeof Q=="function")for(let J of n(Q))!r.call(H,J)&&J!==Y&&t(H,J,{get:()=>Q[J],enumerable:!(Z=i(Q,J))||Z.enumerable});return H},u=H=>s(t({},"__esModule",{value:!0}),H),d={};o(d,{default:()=>O,resize:()=>g}),e.exports=u(d);function g(H){H.directive("resize",H.skipDuringClone((Q,{value:Y,expression:Z,modifiers:J},{evaluateLater:re,cleanup:q})=>{let ne=re(Z),te=(ve,de)=>{ne(()=>{},{scope:{$width:ve,$height:de}})},he=J.includes("document")?P(te):x(Q,te);q(()=>he())}))}function x(H,Q){let Y=new ResizeObserver(Z=>{let[J,re]=I(Z);Q(J,re)});return Y.observe(H),()=>Y.disconnect()}var b,S=new Set;function P(H){return S.add(H),b||(b=new ResizeObserver(Q=>{let[Y,Z]=I(Q);S.forEach(J=>J(Y,Z))}),b.observe(document.documentElement)),()=>{S.delete(H)}}function I(H){let Q,Y;for(let Z of H)Q=Z.borderBoxSize[0].inlineSize,Y=Z.borderBoxSize[0].blockSize;return[Q,Y]}var O=g}}),RY=_h({"node_modules/@alpinejs/anchor/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(Ue,Re)=>{for(var _t in Re)t(Ue,_t,{get:Re[_t],enumerable:!0})},s=(Ue,Re,_t,ut)=>{if(Re&&typeof Re=="object"||typeof Re=="function")for(let Jt of n(Re))!r.call(Ue,Jt)&&Jt!==_t&&t(Ue,Jt,{get:()=>Re[Jt],enumerable:!(ut=i(Re,Jt))||ut.enumerable});return Ue},u=Ue=>s(t({},"__esModule",{value:!0}),Ue),d={};o(d,{anchor:()=>gn,default:()=>sn}),e.exports=u(d);var g=Math.min,x=Math.max,b=Math.round,S=Math.floor,P=Ue=>({x:Ue,y:Ue}),I={left:"right",right:"left",bottom:"top",top:"bottom"},O={start:"end",end:"start"};function H(Ue,Re,_t){return x(Ue,g(Re,_t))}function Q(Ue,Re){return typeof Ue=="function"?Ue(Re):Ue}function Y(Ue){return Ue.split("-")[0]}function Z(Ue){return Ue.split("-")[1]}function J(Ue){return Ue==="x"?"y":"x"}function re(Ue){return Ue==="y"?"height":"width"}function q(Ue){return["top","bottom"].includes(Y(Ue))?"y":"x"}function ne(Ue){return J(q(Ue))}function te(Ue,Re,_t){_t===void 0&&(_t=!1);const ut=Z(Ue),Jt=ne(Ue),ni=re(Jt);let pt=Jt==="x"?ut===(_t?"end":"start")?"right":"left":ut==="start"?"bottom":"top";return Re.reference[ni]>Re.floating[ni]&&(pt=De(pt)),[pt,De(pt)]}function he(Ue){const Re=De(Ue);return[ve(Ue),Re,ve(Re)]}function ve(Ue){return Ue.replace(/start|end/g,Re=>O[Re])}function de(Ue,Re,_t){const ut=["left","right"],Jt=["right","left"],ni=["top","bottom"],pt=["bottom","top"];switch(Ue){case"top":case"bottom":return _t?Re?Jt:ut:Re?ut:Jt;case"left":case"right":return Re?ni:pt;default:return[]}}function be(Ue,Re,_t,ut){const Jt=Z(Ue);let ni=de(Y(Ue),_t==="start",ut);return Jt&&(ni=ni.map(pt=>pt+"-"+Jt),Re&&(ni=ni.concat(ni.map(ve)))),ni}function De(Ue){return Ue.replace(/left|right|bottom|top/g,Re=>I[Re])}function Ie(Ue){return{top:0,right:0,bottom:0,left:0,...Ue}}function nt(Ue){return typeof Ue!="number"?Ie(Ue):{top:Ue,right:Ue,bottom:Ue,left:Ue}}function je(Ue){return{...Ue,top:Ue.y,left:Ue.x,right:Ue.x+Ue.width,bottom:Ue.y+Ue.height}}function dt(Ue,Re,_t){let{reference:ut,floating:Jt}=Ue;const ni=q(Re),pt=ne(Re),Gt=re(pt),ti=Y(Re),Ci=ni==="y",pn=ut.x+ut.width/2-Jt.width/2,Gi=ut.y+ut.height/2-Jt.height/2,ki=ut[Gt]/2-Jt[Gt]/2;let Hi;switch(ti){case"top":Hi={x:pn,y:ut.y-Jt.height};break;case"bottom":Hi={x:pn,y:ut.y+ut.height};break;case"right":Hi={x:ut.x+ut.width,y:Gi};break;case"left":Hi={x:ut.x-Jt.width,y:Gi};break;default:Hi={x:ut.x,y:ut.y}}switch(Z(Re)){case"start":Hi[pt]-=ki*(_t&&Ci?-1:1);break;case"end":Hi[pt]+=ki*(_t&&Ci?-1:1);break}return Hi}var Mt=async(Ue,Re,_t)=>{const{placement:ut="bottom",strategy:Jt="absolute",middleware:ni=[],platform:pt}=_t,Gt=ni.filter(Boolean),ti=await(pt.isRTL==null?void 0:pt.isRTL(Re));let Ci=await pt.getElementRects({reference:Ue,floating:Re,strategy:Jt}),{x:pn,y:Gi}=dt(Ci,ut,ti),ki=ut,Hi={},Yi=0;for(let on=0;on<Gt.length;on++){const{name:ha,fn:_n}=Gt[on],{x:Wn,y:qt,data:Ma,reset:nn}=await _n({x:pn,y:Gi,initialPlacement:ut,placement:ki,strategy:Jt,middlewareData:Hi,rects:Ci,platform:pt,elements:{reference:Ue,floating:Re}});if(pn=Wn??pn,Gi=qt??Gi,Hi={...Hi,[ha]:{...Hi[ha],...Ma}},nn&&Yi<=50){Yi++,typeof nn=="object"&&(nn.placement&&(ki=nn.placement),nn.rects&&(Ci=nn.rects===!0?await pt.getElementRects({reference:Ue,floating:Re,strategy:Jt}):nn.rects),{x:pn,y:Gi}=dt(Ci,ki,ti)),on=-1;continue}}return{x:pn,y:Gi,placement:ki,strategy:Jt,middlewareData:Hi}};async function We(Ue,Re){var _t;Re===void 0&&(Re={});const{x:ut,y:Jt,platform:ni,rects:pt,elements:Gt,strategy:ti}=Ue,{boundary:Ci="clippingAncestors",rootBoundary:pn="viewport",elementContext:Gi="floating",altBoundary:ki=!1,padding:Hi=0}=Q(Re,Ue),Yi=nt(Hi),ha=Gt[ki?Gi==="floating"?"reference":"floating":Gi],_n=je(await ni.getClippingRect({element:(_t=await(ni.isElement==null?void 0:ni.isElement(ha)))==null||_t?ha:ha.contextElement||await(ni.getDocumentElement==null?void 0:ni.getDocumentElement(Gt.floating)),boundary:Ci,rootBoundary:pn,strategy:ti})),Wn=Gi==="floating"?{...pt.floating,x:ut,y:Jt}:pt.reference,qt=await(ni.getOffsetParent==null?void 0:ni.getOffsetParent(Gt.floating)),Ma=await(ni.isElement==null?void 0:ni.isElement(qt))?await(ni.getScale==null?void 0:ni.getScale(qt))||{x:1,y:1}:{x:1,y:1},nn=je(ni.convertOffsetParentRelativeRectToViewportRelativeRect?await ni.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Wn,offsetParent:qt,strategy:ti}):Wn);return{top:(_n.top-nn.top+Yi.top)/Ma.y,bottom:(nn.bottom-_n.bottom+Yi.bottom)/Ma.y,left:(_n.left-nn.left+Yi.left)/Ma.x,right:(nn.right-_n.right+Yi.right)/Ma.x}}var Pt=function(Ue){return Ue===void 0&&(Ue={}),{name:"flip",options:Ue,async fn(Re){var _t,ut;const{placement:Jt,middlewareData:ni,rects:pt,initialPlacement:Gt,platform:ti,elements:Ci}=Re,{mainAxis:pn=!0,crossAxis:Gi=!0,fallbackPlacements:ki,fallbackStrategy:Hi="bestFit",fallbackAxisSideDirection:Yi="none",flipAlignment:on=!0,...ha}=Q(Ue,Re);if((_t=ni.arrow)!=null&&_t.alignmentOffset)return{};const _n=Y(Jt),Wn=Y(Gt)===Gt,qt=await(ti.isRTL==null?void 0:ti.isRTL(Ci.floating)),Ma=ki||(Wn||!on?[De(Gt)]:he(Gt));!ki&&Yi!=="none"&&Ma.push(...be(Gt,on,Yi,qt));const nn=[Gt,...Ma],Ja=await We(Re,ha),nr=[];let qn=((ut=ni.flip)==null?void 0:ut.overflows)||[];if(pn&&nr.push(Ja[_n]),Gi){const vn=te(Jt,pt,qt);nr.push(Ja[vn[0]],Ja[vn[1]])}if(qn=[...qn,{placement:Jt,overflows:nr}],!nr.every(vn=>vn<=0)){var Zn,Cn;const vn=(((Zn=ni.flip)==null?void 0:Zn.index)||0)+1,Is=nn[vn];if(Is)return{data:{index:vn,overflows:qn},reset:{placement:Is}};let Hn=(Cn=qn.filter(ds=>ds.overflows[0]<=0).sort((ds,fs)=>ds.overflows[1]-fs.overflows[1])[0])==null?void 0:Cn.placement;if(!Hn)switch(Hi){case"bestFit":{var Xo;const ds=(Xo=qn.map(fs=>[fs.placement,fs.overflows.filter(fa=>fa>0).reduce((fa,Xa)=>fa+Xa,0)]).sort((fs,fa)=>fs[1]-fa[1])[0])==null?void 0:Xo[0];ds&&(Hn=ds);break}case"initialPlacement":Hn=Gt;break}if(Jt!==Hn)return{reset:{placement:Hn}}}return{}}}};async function Kt(Ue,Re){const{placement:_t,platform:ut,elements:Jt}=Ue,ni=await(ut.isRTL==null?void 0:ut.isRTL(Jt.floating)),pt=Y(_t),Gt=Z(_t),ti=q(_t)==="y",Ci=["left","top"].includes(pt)?-1:1,pn=ni&&ti?-1:1,Gi=Q(Re,Ue);let{mainAxis:ki,crossAxis:Hi,alignmentAxis:Yi}=typeof Gi=="number"?{mainAxis:Gi,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Gi};return Gt&&typeof Yi=="number"&&(Hi=Gt==="end"?Yi*-1:Yi),ti?{x:Hi*pn,y:ki*Ci}:{x:ki*Ci,y:Hi*pn}}var di=function(Ue){return Ue===void 0&&(Ue=0),{name:"offset",options:Ue,async fn(Re){const{x:_t,y:ut}=Re,Jt=await Kt(Re,Ue);return{x:_t+Jt.x,y:ut+Jt.y,data:Jt}}}},It=function(Ue){return Ue===void 0&&(Ue={}),{name:"shift",options:Ue,async fn(Re){const{x:_t,y:ut,placement:Jt}=Re,{mainAxis:ni=!0,crossAxis:pt=!1,limiter:Gt={fn:ha=>{let{x:_n,y:Wn}=ha;return{x:_n,y:Wn}}},...ti}=Q(Ue,Re),Ci={x:_t,y:ut},pn=await We(Re,ti),Gi=q(Y(Jt)),ki=J(Gi);let Hi=Ci[ki],Yi=Ci[Gi];if(ni){const ha=ki==="y"?"top":"left",_n=ki==="y"?"bottom":"right",Wn=Hi+pn[ha],qt=Hi-pn[_n];Hi=H(Wn,Hi,qt)}if(pt){const ha=Gi==="y"?"top":"left",_n=Gi==="y"?"bottom":"right",Wn=Yi+pn[ha],qt=Yi-pn[_n];Yi=H(Wn,Yi,qt)}const on=Gt.fn({...Re,[ki]:Hi,[Gi]:Yi});return{...on,data:{x:on.x-_t,y:on.y-ut}}}}};function bt(Ue){return gi(Ue)?(Ue.nodeName||"").toLowerCase():"#document"}function mt(Ue){var Re;return(Ue==null||(Re=Ue.ownerDocument)==null?void 0:Re.defaultView)||window}function si(Ue){var Re;return(Re=(gi(Ue)?Ue.ownerDocument:Ue.document)||window.document)==null?void 0:Re.documentElement}function gi(Ue){return Ue instanceof Node||Ue instanceof mt(Ue).Node}function Vi(Ue){return Ue instanceof Element||Ue instanceof mt(Ue).Element}function Ii(Ue){return Ue instanceof HTMLElement||Ue instanceof mt(Ue).HTMLElement}function oi(Ue){return typeof ShadowRoot>"u"?!1:Ue instanceof ShadowRoot||Ue instanceof mt(Ue).ShadowRoot}function fn(Ue){const{overflow:Re,overflowX:_t,overflowY:ut,display:Jt}=Yt(Ue);return/auto|scroll|overlay|hidden|clip/.test(Re+ut+_t)&&!["inline","contents"].includes(Jt)}function Mi(Ue){return["table","td","th"].includes(bt(Ue))}function Ji(Ue){const Re=xn(),_t=Yt(Ue);return _t.transform!=="none"||_t.perspective!=="none"||(_t.containerType?_t.containerType!=="normal":!1)||!Re&&(_t.backdropFilter?_t.backdropFilter!=="none":!1)||!Re&&(_t.filter?_t.filter!=="none":!1)||["transform","perspective","filter"].some(ut=>(_t.willChange||"").includes(ut))||["paint","layout","strict","content"].some(ut=>(_t.contain||"").includes(ut))}function rn(Ue){let Re=Oi(Ue);for(;Ii(Re)&&!Ye(Re);){if(Ji(Re))return Re;Re=Oi(Re)}return null}function xn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ye(Ue){return["html","body","#document"].includes(bt(Ue))}function Yt(Ue){return mt(Ue).getComputedStyle(Ue)}function ci(Ue){return Vi(Ue)?{scrollLeft:Ue.scrollLeft,scrollTop:Ue.scrollTop}:{scrollLeft:Ue.pageXOffset,scrollTop:Ue.pageYOffset}}function Oi(Ue){if(bt(Ue)==="html")return Ue;const Re=Ue.assignedSlot||Ue.parentNode||oi(Ue)&&Ue.host||si(Ue);return oi(Re)?Re.host:Re}function ui(Ue){const Re=Oi(Ue);return Ye(Re)?Ue.ownerDocument?Ue.ownerDocument.body:Ue.body:Ii(Re)&&fn(Re)?Re:ui(Re)}function $i(Ue,Re,_t){var ut;Re===void 0&&(Re=[]),_t===void 0&&(_t=!0);const Jt=ui(Ue),ni=Jt===((ut=Ue.ownerDocument)==null?void 0:ut.body),pt=mt(Jt);return ni?Re.concat(pt,pt.visualViewport||[],fn(Jt)?Jt:[],pt.frameElement&&_t?$i(pt.frameElement):[]):Re.concat(Jt,$i(Jt,[],_t))}function wi(Ue){const Re=Yt(Ue);let _t=parseFloat(Re.width)||0,ut=parseFloat(Re.height)||0;const Jt=Ii(Ue),ni=Jt?Ue.offsetWidth:_t,pt=Jt?Ue.offsetHeight:ut,Gt=b(_t)!==ni||b(ut)!==pt;return Gt&&(_t=ni,ut=pt),{width:_t,height:ut,$:Gt}}function Ei(Ue){return Vi(Ue)?Ue:Ue.contextElement}function Fi(Ue){const Re=Ei(Ue);if(!Ii(Re))return P(1);const _t=Re.getBoundingClientRect(),{width:ut,height:Jt,$:ni}=wi(Re);let pt=(ni?b(_t.width):_t.width)/ut,Gt=(ni?b(_t.height):_t.height)/Jt;return(!pt||!Number.isFinite(pt))&&(pt=1),(!Gt||!Number.isFinite(Gt))&&(Gt=1),{x:pt,y:Gt}}var ft=P(0);function xe(Ue){const Re=mt(Ue);return!xn()||!Re.visualViewport?ft:{x:Re.visualViewport.offsetLeft,y:Re.visualViewport.offsetTop}}function we(Ue,Re,_t){return Re===void 0&&(Re=!1),!_t||Re&&_t!==mt(Ue)?!1:Re}function Ee(Ue,Re,_t,ut){Re===void 0&&(Re=!1),_t===void 0&&(_t=!1);const Jt=Ue.getBoundingClientRect(),ni=Ei(Ue);let pt=P(1);Re&&(ut?Vi(ut)&&(pt=Fi(ut)):pt=Fi(Ue));const Gt=we(ni,_t,ut)?xe(ni):P(0);let ti=(Jt.left+Gt.x)/pt.x,Ci=(Jt.top+Gt.y)/pt.y,pn=Jt.width/pt.x,Gi=Jt.height/pt.y;if(ni){const ki=mt(ni),Hi=ut&&Vi(ut)?mt(ut):ut;let Yi=ki.frameElement;for(;Yi&&ut&&Hi!==ki;){const on=Fi(Yi),ha=Yi.getBoundingClientRect(),_n=Yt(Yi),Wn=ha.left+(Yi.clientLeft+parseFloat(_n.paddingLeft))*on.x,qt=ha.top+(Yi.clientTop+parseFloat(_n.paddingTop))*on.y;ti*=on.x,Ci*=on.y,pn*=on.x,Gi*=on.y,ti+=Wn,Ci+=qt,Yi=mt(Yi).frameElement}}return je({width:pn,height:Gi,x:ti,y:Ci})}function tt(Ue){let{rect:Re,offsetParent:_t,strategy:ut}=Ue;const Jt=Ii(_t),ni=si(_t);if(_t===ni)return Re;let pt={scrollLeft:0,scrollTop:0},Gt=P(1);const ti=P(0);if((Jt||!Jt&&ut!=="fixed")&&((bt(_t)!=="body"||fn(ni))&&(pt=ci(_t)),Ii(_t))){const Ci=Ee(_t);Gt=Fi(_t),ti.x=Ci.x+_t.clientLeft,ti.y=Ci.y+_t.clientTop}return{width:Re.width*Gt.x,height:Re.height*Gt.y,x:Re.x*Gt.x-pt.scrollLeft*Gt.x+ti.x,y:Re.y*Gt.y-pt.scrollTop*Gt.y+ti.y}}function st(Ue){return Array.from(Ue.getClientRects())}function Ct(Ue){return Ee(si(Ue)).left+ci(Ue).scrollLeft}function yt(Ue){const Re=si(Ue),_t=ci(Ue),ut=Ue.ownerDocument.body,Jt=x(Re.scrollWidth,Re.clientWidth,ut.scrollWidth,ut.clientWidth),ni=x(Re.scrollHeight,Re.clientHeight,ut.scrollHeight,ut.clientHeight);let pt=-_t.scrollLeft+Ct(Ue);const Gt=-_t.scrollTop;return Yt(ut).direction==="rtl"&&(pt+=x(Re.clientWidth,ut.clientWidth)-Jt),{width:Jt,height:ni,x:pt,y:Gt}}function Ve(Ue,Re){const _t=mt(Ue),ut=si(Ue),Jt=_t.visualViewport;let ni=ut.clientWidth,pt=ut.clientHeight,Gt=0,ti=0;if(Jt){ni=Jt.width,pt=Jt.height;const Ci=xn();(!Ci||Ci&&Re==="fixed")&&(Gt=Jt.offsetLeft,ti=Jt.offsetTop)}return{width:ni,height:pt,x:Gt,y:ti}}function xt(Ue,Re){const _t=Ee(Ue,!0,Re==="fixed"),ut=_t.top+Ue.clientTop,Jt=_t.left+Ue.clientLeft,ni=Ii(Ue)?Fi(Ue):P(1),pt=Ue.clientWidth*ni.x,Gt=Ue.clientHeight*ni.y,ti=Jt*ni.x,Ci=ut*ni.y;return{width:pt,height:Gt,x:ti,y:Ci}}function jt(Ue,Re,_t){let ut;if(Re==="viewport")ut=Ve(Ue,_t);else if(Re==="document")ut=yt(si(Ue));else if(Vi(Re))ut=xt(Re,_t);else{const Jt=xe(Ue);ut={...Re,x:Re.x-Jt.x,y:Re.y-Jt.y}}return je(ut)}function kt(Ue,Re){const _t=Oi(Ue);return _t===Re||!Vi(_t)||Ye(_t)?!1:Yt(_t).position==="fixed"||kt(_t,Re)}function Lt(Ue,Re){const _t=Re.get(Ue);if(_t)return _t;let ut=$i(Ue,[],!1).filter(Gt=>Vi(Gt)&&bt(Gt)!=="body"),Jt=null;const ni=Yt(Ue).position==="fixed";let pt=ni?Oi(Ue):Ue;for(;Vi(pt)&&!Ye(pt);){const Gt=Yt(pt),ti=Ji(pt);!ti&&Gt.position==="fixed"&&(Jt=null),(ni?!ti&&!Jt:!ti&&Gt.position==="static"&&!!Jt&&["absolute","fixed"].includes(Jt.position)||fn(pt)&&!ti&&kt(Ue,pt))?ut=ut.filter(pn=>pn!==pt):Jt=Gt,pt=Oi(pt)}return Re.set(Ue,ut),ut}function ai(Ue){let{element:Re,boundary:_t,rootBoundary:ut,strategy:Jt}=Ue;const pt=[..._t==="clippingAncestors"?Lt(Re,this._c):[].concat(_t),ut],Gt=pt[0],ti=pt.reduce((Ci,pn)=>{const Gi=jt(Re,pn,Jt);return Ci.top=x(Gi.top,Ci.top),Ci.right=g(Gi.right,Ci.right),Ci.bottom=g(Gi.bottom,Ci.bottom),Ci.left=x(Gi.left,Ci.left),Ci},jt(Re,Gt,Jt));return{width:ti.right-ti.left,height:ti.bottom-ti.top,x:ti.left,y:ti.top}}function bi(Ue){return wi(Ue)}function Bi(Ue,Re,_t){const ut=Ii(Re),Jt=si(Re),ni=_t==="fixed",pt=Ee(Ue,!0,ni,Re);let Gt={scrollLeft:0,scrollTop:0};const ti=P(0);if(ut||!ut&&!ni)if((bt(Re)!=="body"||fn(Jt))&&(Gt=ci(Re)),ut){const Ci=Ee(Re,!0,ni,Re);ti.x=Ci.x+Re.clientLeft,ti.y=Ci.y+Re.clientTop}else Jt&&(ti.x=Ct(Jt));return{x:pt.left+Gt.scrollLeft-ti.x,y:pt.top+Gt.scrollTop-ti.y,width:pt.width,height:pt.height}}function In(Ue,Re){return!Ii(Ue)||Yt(Ue).position==="fixed"?null:Re?Re(Ue):Ue.offsetParent}function Tt(Ue,Re){const _t=mt(Ue);if(!Ii(Ue))return _t;let ut=In(Ue,Re);for(;ut&&Mi(ut)&&Yt(ut).position==="static";)ut=In(ut,Re);return ut&&(bt(ut)==="html"||bt(ut)==="body"&&Yt(ut).position==="static"&&!Ji(ut))?_t:ut||rn(Ue)||_t}var Dn=async function(Ue){let{reference:Re,floating:_t,strategy:ut}=Ue;const Jt=this.getOffsetParent||Tt,ni=this.getDimensions;return{reference:Bi(Re,await Jt(_t),ut),floating:{x:0,y:0,...await ni(_t)}}};function Kn(Ue){return Yt(Ue).direction==="rtl"}var yn={convertOffsetParentRelativeRectToViewportRelativeRect:tt,getDocumentElement:si,getClippingRect:ai,getOffsetParent:Tt,getElementRects:Dn,getClientRects:st,getDimensions:bi,getScale:Fi,isElement:Vi,isRTL:Kn};function An(Ue,Re){let _t=null,ut;const Jt=si(Ue);function ni(){clearTimeout(ut),_t&&_t.disconnect(),_t=null}function pt(Gt,ti){Gt===void 0&&(Gt=!1),ti===void 0&&(ti=1),ni();const{left:Ci,top:pn,width:Gi,height:ki}=Ue.getBoundingClientRect();if(Gt||Re(),!Gi||!ki)return;const Hi=S(pn),Yi=S(Jt.clientWidth-(Ci+Gi)),on=S(Jt.clientHeight-(pn+ki)),ha=S(Ci),Wn={rootMargin:-Hi+"px "+-Yi+"px "+-on+"px "+-ha+"px",threshold:x(0,g(1,ti))||1};let qt=!0;function Ma(nn){const Ja=nn[0].intersectionRatio;if(Ja!==ti){if(!qt)return pt();Ja?pt(!1,Ja):ut=setTimeout(()=>{pt(!1,1e-7)},100)}qt=!1}try{_t=new IntersectionObserver(Ma,{...Wn,root:Jt.ownerDocument})}catch{_t=new IntersectionObserver(Ma,Wn)}_t.observe(Ue)}return pt(!0),ni}function Ni(Ue,Re,_t,ut){ut===void 0&&(ut={});const{ancestorScroll:Jt=!0,ancestorResize:ni=!0,elementResize:pt=typeof ResizeObserver=="function",layoutShift:Gt=typeof IntersectionObserver=="function",animationFrame:ti=!1}=ut,Ci=Ei(Ue),pn=Jt||ni?[...Ci?$i(Ci):[],...$i(Re)]:[];pn.forEach(_n=>{Jt&&_n.addEventListener("scroll",_t,{passive:!0}),ni&&_n.addEventListener("resize",_t)});const Gi=Ci&&Gt?An(Ci,_t):null;let ki=-1,Hi=null;pt&&(Hi=new ResizeObserver(_n=>{let[Wn]=_n;Wn&&Wn.target===Ci&&Hi&&(Hi.unobserve(Re),cancelAnimationFrame(ki),ki=requestAnimationFrame(()=>{Hi&&Hi.observe(Re)})),_t()}),Ci&&!ti&&Hi.observe(Ci),Hi.observe(Re));let Yi,on=ti?Ee(Ue):null;ti&&ha();function ha(){const _n=Ee(Ue);on&&(_n.x!==on.x||_n.y!==on.y||_n.width!==on.width||_n.height!==on.height)&&_t(),on=_n,Yi=requestAnimationFrame(ha)}return _t(),()=>{pn.forEach(_n=>{Jt&&_n.removeEventListener("scroll",_t),ni&&_n.removeEventListener("resize",_t)}),Gi&&Gi(),Hi&&Hi.disconnect(),Hi=null,ti&&cancelAnimationFrame(Yi)}}var Di=(Ue,Re,_t)=>{const ut=new Map,Jt={platform:yn,..._t},ni={...Jt.platform,_c:ut};return Mt(Ue,Re,{...Jt,platform:ni})};function gn(Ue){Ue.magic("anchor",Re=>{if(!Re._x_anchor)throw"Alpine: No x-anchor directive found on element using $anchor...";return Re._x_anchor}),Ue.interceptClone((Re,_t)=>{Re&&Re._x_anchor&&!_t._x_anchor&&(_t._x_anchor=Re._x_anchor)}),Ue.directive("anchor",Ue.skipDuringClone((Re,{expression:_t,modifiers:ut,value:Jt},{cleanup:ni,evaluate:pt})=>{let{placement:Gt,offsetValue:ti,unstyled:Ci}=Xi(ut);Re._x_anchor=Ue.reactive({x:0,y:0});let pn=pt(_t);if(!pn)throw"Alpine: no element provided to x-anchor...";let Gi=()=>{let Hi;Di(pn,Re,{placement:Gt,middleware:[Pt(),It({padding:5}),di(ti)]}).then(({x:Yi,y:on})=>{Ci||fi(Re,Yi,on),JSON.stringify({x:Yi,y:on})!==Hi&&(Re._x_anchor.x=Yi,Re._x_anchor.y=on),Hi=JSON.stringify({x:Yi,y:on})})},ki=Ni(pn,Re,()=>Gi());ni(()=>ki())},(Re,{expression:_t,modifiers:ut,value:Jt},{cleanup:ni,evaluate:pt})=>{let{unstyled:Gt}=Xi(ut);Re._x_anchor&&(Gt||fi(Re,Re._x_anchor.x,Re._x_anchor.y))}))}function fi(Ue,Re,_t){Object.assign(Ue.style,{left:Re+"px",top:_t+"px",position:"absolute"})}function Xi(Ue){let _t=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"].find(ni=>Ue.includes(ni)),ut=0;if(Ue.includes("offset")){let ni=Ue.findIndex(pt=>pt==="offset");ut=Ue[ni+1]!==void 0?Number(Ue[ni+1]):ut}let Jt=Ue.includes("no-style");return{placement:_t,offsetValue:ut,unstyled:Jt}}var sn=gn}}),OY=_h({"node_modules/nprogress/nprogress.js"(a,e){(function(t,i){typeof define=="function"&&define.amd?define(i):typeof a=="object"?e.exports=i():t.NProgress=i()})(a,function(){var t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(P){var I,O;for(I in P)O=P[I],O!==void 0&&P.hasOwnProperty(I)&&(i[I]=O);return this},t.status=null,t.set=function(P){var I=t.isStarted();P=n(P,i.minimum,1),t.status=P===1?null:P;var O=t.render(!I),H=O.querySelector(i.barSelector),Q=i.speed,Y=i.easing;return O.offsetWidth,s(function(Z){i.positionUsing===""&&(i.positionUsing=t.getPositioningCSS()),u(H,o(P,Q,Y)),P===1?(u(O,{transition:"none",opacity:1}),O.offsetWidth,setTimeout(function(){u(O,{transition:"all "+Q+"ms linear",opacity:0}),setTimeout(function(){t.remove(),Z()},Q)},Q)):setTimeout(Z,Q)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var P=function(){setTimeout(function(){t.status&&(t.trickle(),P())},i.trickleSpeed)};return i.trickle&&P(),this},t.done=function(P){return!P&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(P){var I=t.status;return I?(typeof P!="number"&&(P=(1-I)*n(Math.random()*I,.1,.95)),I=n(I+P,0,.994),t.set(I)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},(function(){var P=0,I=0;t.promise=function(O){return!O||O.state()==="resolved"?this:(I===0&&t.start(),P++,I++,O.always(function(){I--,I===0?(P=0,t.done()):t.set((P-I)/P)}),this)}})(),t.render=function(P){if(t.isRendered())return document.getElementById("nprogress");g(document.documentElement,"nprogress-busy");var I=document.createElement("div");I.id="nprogress",I.innerHTML=i.template;var O=I.querySelector(i.barSelector),H=P?"-100":r(t.status||0),Q=document.querySelector(i.parent),Y;return u(O,{transition:"all 0 linear",transform:"translate3d("+H+"%,0,0)"}),i.showSpinner||(Y=I.querySelector(i.spinnerSelector),Y&&S(Y)),Q!=document.body&&g(Q,"nprogress-custom-parent"),Q.appendChild(I),I},t.remove=function(){x(document.documentElement,"nprogress-busy"),x(document.querySelector(i.parent),"nprogress-custom-parent");var P=document.getElementById("nprogress");P&&S(P)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var P=document.body.style,I="WebkitTransform"in P?"Webkit":"MozTransform"in P?"Moz":"msTransform"in P?"ms":"OTransform"in P?"O":"";return I+"Perspective"in P?"translate3d":I+"Transform"in P?"translate":"margin"};function n(P,I,O){return P<I?I:P>O?O:P}function r(P){return(-1+P)*100}function o(P,I,O){var H;return i.positionUsing==="translate3d"?H={transform:"translate3d("+r(P)+"%,0,0)"}:i.positionUsing==="translate"?H={transform:"translate("+r(P)+"%,0)"}:H={"margin-left":r(P)+"%"},H.transition="all "+I+"ms "+O,H}var s=(function(){var P=[];function I(){var O=P.shift();O&&O(I)}return function(O){P.push(O),P.length==1&&I()}})(),u=(function(){var P=["Webkit","O","Moz","ms"],I={};function O(Z){return Z.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(J,re){return re.toUpperCase()})}function H(Z){var J=document.body.style;if(Z in J)return Z;for(var re=P.length,q=Z.charAt(0).toUpperCase()+Z.slice(1),ne;re--;)if(ne=P[re]+q,ne in J)return ne;return Z}function Q(Z){return Z=O(Z),I[Z]||(I[Z]=H(Z))}function Y(Z,J,re){J=Q(J),Z.style[J]=re}return function(Z,J){var re=arguments,q,ne;if(re.length==2)for(q in J)ne=J[q],ne!==void 0&&J.hasOwnProperty(q)&&Y(Z,q,ne);else Y(Z,re[1],re[2])}})();function d(P,I){var O=typeof P=="string"?P:b(P);return O.indexOf(" "+I+" ")>=0}function g(P,I){var O=b(P),H=O+I;d(O,I)||(P.className=H.substring(1))}function x(P,I){var O=b(P),H;d(P,I)&&(H=O.replace(" "+I+" "," "),P.className=H.substring(1,H.length-1))}function b(P){return(" "+(P.className||"")+" ").replace(/\s+/gi," ")}function S(P){P&&P.parentNode&&P.parentNode.removeChild(P)}return t})}}),UY=_h({"node_modules/@alpinejs/morph/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(te,he)=>{for(var ve in he)t(te,ve,{get:he[ve],enumerable:!0})},s=(te,he,ve,de)=>{if(he&&typeof he=="object"||typeof he=="function")for(let be of n(he))!r.call(te,be)&&be!==ve&&t(te,be,{get:()=>he[be],enumerable:!(de=i(he,be))||de.enumerable});return te},u=te=>s(t({},"__esModule",{value:!0}),te),d={};o(d,{default:()=>ne,morph:()=>q}),e.exports=u(d);function g(te,he,ve){J();let de=b(ve),be=typeof he=="string"?O(he):he;return window.Alpine&&window.Alpine.closestDataStack&&!te._x_dataStack&&(be._x_dataStack=window.Alpine.closestDataStack(te),be._x_dataStack&&window.Alpine.cloneNode(te,be)),de.patch(te,be),te}function x(te,he,ve,de={}){J();let be=b(de),De=te.parentNode,Ie=new Q(te,he),nt=typeof ve=="string"?(()=>{let We=document.createElement("div");return We.insertAdjacentHTML("beforeend",ve),We})():ve,je=document.createComment("[morph-start]"),dt=document.createComment("[morph-end]");nt.insertBefore(je,nt.firstChild),nt.appendChild(dt);let Mt=new Q(je,dt);window.Alpine&&window.Alpine.closestDataStack&&(nt._x_dataStack=window.Alpine.closestDataStack(De),nt._x_dataStack&&window.Alpine.cloneNode(De,nt)),be.patchChildren(Ie,Mt)}function b(te={}){let he=be=>be.getAttribute("key"),ve=()=>{},de={key:te.key||he,lookahead:te.lookahead||!1,updating:te.updating||ve,updated:te.updated||ve,removing:te.removing||ve,removed:te.removed||ve,adding:te.adding||ve,added:te.added||ve};return de.patch=function(be,De){if(de.differentElementNamesTypesOrKeys(be,De))return de.swapElements(be,De);let Ie=!1,nt=!1,je=dt=>de.skipUntilCondition=dt;if(!P(de.updating,()=>nt=!0,je,be,De,()=>Ie=!0)){if(be.nodeType===1&&window.Alpine&&(window.Alpine.cloneNode(be,De),be._x_teleport&&De._x_teleport&&de.patch(be._x_teleport,De._x_teleport)),H(De)){de.patchNodeValue(be,De),de.updated(be,De);return}Ie||de.patchAttributes(be,De),de.updated(be,De),nt||de.patchChildren(be,De)}},de.differentElementNamesTypesOrKeys=function(be,De){return be.nodeType!=De.nodeType||be.nodeName!=De.nodeName||de.getKey(be)!=de.getKey(De)},de.swapElements=function(be,De){if(S(de.removing,be))return;let Ie=De.cloneNode(!0);S(de.adding,Ie)||(be.replaceWith(Ie),de.removed(be),de.added(Ie))},de.patchNodeValue=function(be,De){let Ie=De.nodeValue;be.nodeValue!==Ie&&(be.nodeValue=Ie)},de.patchAttributes=function(be,De){if(be._x_transitioning||be._x_isShown&&!De._x_isShown||!be._x_isShown&&De._x_isShown)return;let Ie=Array.from(be.attributes),nt=Array.from(De.attributes);for(let je=Ie.length-1;je>=0;je--){let dt=Ie[je].name;De.hasAttribute(dt)||be.removeAttribute(dt)}for(let je=nt.length-1;je>=0;je--){let dt=nt[je].name,Mt=nt[je].value;be.getAttribute(dt)!==Mt&&be.setAttribute(dt,Mt)}},de.patchChildren=function(be,De){let Ie=de.keyToMap(be.children),nt={},je=Y(De),dt=Y(be);for(;je;){re(je,dt);let We=de.getKey(je),Pt=de.getKey(dt);if(de.skipUntilCondition){let bt=!dt||de.skipUntilCondition(dt),mt=!je||de.skipUntilCondition(je);if(bt&&mt)de.skipUntilCondition=null;else{bt||(dt=dt&&Z(be,dt)),mt||(je=je&&Z(De,je));continue}}if(!dt)if(We&&nt[We]){let bt=nt[We];be.appendChild(bt),dt=bt,Pt=de.getKey(dt)}else{if(!S(de.adding,je)){let bt=je.cloneNode(!0);be.appendChild(bt),de.added(bt)}je=Z(De,je);continue}let Kt=bt=>bt&&bt.nodeType===8&&bt.textContent==="[if BLOCK]><![endif]",di=bt=>bt&&bt.nodeType===8&&bt.textContent==="[if ENDBLOCK]><![endif]";if(Kt(je)&&Kt(dt)){let bt=0,mt=dt;for(;dt;){let fn=Z(be,dt);if(Kt(fn))bt++;else if(di(fn)&&bt>0)bt--;else if(di(fn)&&bt===0){dt=fn;break}dt=fn}let si=dt;bt=0;let gi=je;for(;je;){let fn=Z(De,je);if(Kt(fn))bt++;else if(di(fn)&&bt>0)bt--;else if(di(fn)&&bt===0){je=fn;break}je=fn}let Vi=je,Ii=new Q(mt,si),oi=new Q(gi,Vi);de.patchChildren(Ii,oi);continue}if(dt.nodeType===1&&de.lookahead&&!dt.isEqualNode(je)){let bt=Z(De,je),mt=!1;for(;!mt&&bt;)bt.nodeType===1&&dt.isEqualNode(bt)&&(mt=!0,dt=de.addNodeBefore(be,je,dt),Pt=de.getKey(dt)),bt=Z(De,bt)}if(We!==Pt){if(!We&&Pt){nt[Pt]=dt,dt=de.addNodeBefore(be,je,dt),nt[Pt].remove(),dt=Z(be,dt),je=Z(De,je);continue}if(We&&!Pt&&Ie[We]&&(dt.replaceWith(Ie[We]),dt=Ie[We],Pt=de.getKey(dt)),We&&Pt){let bt=Ie[We];if(bt)nt[Pt]=dt,dt.replaceWith(bt),dt=bt,Pt=de.getKey(dt);else{nt[Pt]=dt,dt=de.addNodeBefore(be,je,dt),nt[Pt].remove(),dt=Z(be,dt),je=Z(De,je);continue}}}let It=dt&&Z(be,dt);de.patch(dt,je),je=je&&Z(De,je),dt=It}let Mt=[];for(;dt;)S(de.removing,dt)||Mt.push(dt),dt=Z(be,dt);for(;Mt.length;){let We=Mt.shift();We.remove(),de.removed(We)}},de.getKey=function(be){return be&&be.nodeType===1&&de.key(be)},de.keyToMap=function(be){let De={};for(let Ie of be){let nt=de.getKey(Ie);nt&&(De[nt]=Ie)}return De},de.addNodeBefore=function(be,De,Ie){if(!S(de.adding,De)){let nt=De.cloneNode(!0);return be.insertBefore(nt,Ie),de.added(nt),nt}return De},de}g.step=()=>{},g.log=()=>{};function S(te,...he){let ve=!1;return te(...he,()=>ve=!0),ve}function P(te,he,ve,...de){let be=!1;return te(...de,()=>be=!0,he,ve),be}var I=!1;function O(te){const he=document.createElement("template");return he.innerHTML=te,he.content.firstElementChild}function H(te){return te.nodeType===3||te.nodeType===8}var Q=class{constructor(te,he){this.startComment=te,this.endComment=he}get children(){let te=[],he=this.startComment.nextSibling;for(;he&&he!==this.endComment;)te.push(he),he=he.nextSibling;return te}appendChild(te){this.endComment.before(te)}get firstChild(){let te=this.startComment.nextSibling;if(te!==this.endComment)return te}nextNode(te){let he=te.nextSibling;if(he!==this.endComment)return he}insertBefore(te,he){return he.before(te),te}};function Y(te){return te.firstChild}function Z(te,he){let ve;return te instanceof Q?ve=te.nextNode(he):ve=he.nextSibling,ve}function J(){if(I)return;I=!0;let te=Element.prototype.setAttribute,he=document.createElement("div");Element.prototype.setAttribute=function(de,be){if(!de.includes("@"))return te.call(this,de,be);he.innerHTML=`<span ${de}="${be}"></span>`;let De=he.firstElementChild.getAttributeNode(de);he.firstElementChild.removeAttributeNode(De),this.setAttributeNode(De)}}function re(te,he){let ve=he&&he._x_bindings&&he._x_bindings.id;ve&&te.setAttribute&&(te.setAttribute("id",ve),te.id=ve)}function q(te){te.morph=g,te.morphBetween=x}var ne=q}}),NY=_h({"node_modules/@alpinejs/mask/dist/module.cjs.js"(a,e){var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,o=(O,H)=>{for(var Q in H)t(O,Q,{get:H[Q],enumerable:!0})},s=(O,H,Q,Y)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Z of n(H))!r.call(O,Z)&&Z!==Q&&t(O,Z,{get:()=>H[Z],enumerable:!(Y=i(H,Z))||Y.enumerable});return O},u=O=>s(t({},"__esModule",{value:!0}),O),d={};o(d,{default:()=>I,mask:()=>g,stripDown:()=>b}),e.exports=u(d);function g(O){O.directive("mask",(H,{value:Q,expression:Y},{effect:Z,evaluateLater:J,cleanup:re})=>{let q=()=>Y,ne="";queueMicrotask(()=>{if(["function","dynamic"].includes(Q)){let de=J(Y);Z(()=>{q=be=>{let De;return O.dontAutoEvaluateFunctions(()=>{de(Ie=>{De=typeof Ie=="function"?Ie(be):Ie},{scope:{$input:be,$money:P.bind({el:H})}})}),De},he(H,!1)})}else he(H,!1);if(H._x_model){if(H._x_model.get()===H.value||H._x_model.get()===null&&H.value==="")return;H._x_model.set(H.value)}});const te=new AbortController;re(()=>{te.abort()}),H.addEventListener("input",()=>he(H),{signal:te.signal,capture:!0}),H.addEventListener("blur",()=>he(H,!1),{signal:te.signal});function he(de,be=!0){let De=de.value,Ie=q(De);if(!Ie||Ie==="false")return!1;if(ne.length-de.value.length===1)return ne=de.value;let nt=()=>{ne=de.value=ve(De,Ie)};be?x(de,Ie,()=>{nt()}):nt()}function ve(de,be){if(de==="")return"";let De=b(be,de);return S(be,De)}}).before("model")}function x(O,H,Q){let Y=O.selectionStart,Z=O.value;Q();let J=Z.slice(0,Y),re=S(H,b(H,J)).length;O.setSelectionRange(re,re)}function b(O,H){let Q=H,Y="",Z={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},J="";for(let re=0;re<O.length;re++){if(["9","a","*"].includes(O[re])){J+=O[re];continue}for(let q=0;q<Q.length;q++)if(Q[q]===O[re]){Q=Q.slice(0,q)+Q.slice(q+1);break}}for(let re=0;re<J.length;re++){let q=!1;for(let ne=0;ne<Q.length;ne++)if(Z[J[re]].test(Q[ne])){Y+=Q[ne],Q=Q.slice(0,ne)+Q.slice(ne+1),q=!0;break}if(!q)break}return Y}function S(O,H){let Q=Array.from(H),Y="";for(let Z=0;Z<O.length;Z++){if(!["9","a","*"].includes(O[Z])){Y+=O[Z];continue}if(Q.length===0)break;Y+=Q.shift()}return Y}function P(O,H=".",Q,Y=2){if(O==="-")return"-";if(/^\D+$/.test(O))return"9";Q==null&&(Q=H===","?".":",");let Z=(ne,te)=>{let he="",ve=0;for(let de=ne.length-1;de>=0;de--)ne[de]!==te&&(ve===3?(he=ne[de]+te+he,ve=0):he=ne[de]+he,ve++);return he},J=O.startsWith("-")?"-":"",re=O.replaceAll(new RegExp(`[^0-9\\${H}]`,"g"),""),q=Array.from({length:re.split(H)[0].length}).fill("9").join("");return q=`${J}${Z(q,Q)}`,Y>0&&O.includes(H)&&(q+=`${H}`+"9".repeat(Y)),queueMicrotask(()=>{this.el.value.endsWith(H)||this.el.value[this.el.selectionStart-1]===H&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),q}var I=g}}),zY=class{constructor(){this.arrays={}}add(a,e){this.arrays[a]||(this.arrays[a]=[]),this.arrays[a].push(e)}remove(a){this.arrays[a]&&delete this.arrays[a]}get(a){return this.arrays[a]||[]}each(a,e){return this.get(a).forEach(e)}},q2=class{constructor(){this.arrays=new WeakMap}add(a,e){this.arrays.has(a)||this.arrays.set(a,[]),this.arrays.get(a).push(e)}remove(a){this.arrays.has(a)&&this.arrays.delete(a,[])}get(a){return this.arrays.has(a)?this.arrays.get(a):[]}each(a,e){return this.get(a).forEach(e)}};function E1(a,e,t={},i=!0){a.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:i,composed:!0,cancelable:!0}))}function k1(a,e,t){return a.addEventListener(e,t),()=>a.removeEventListener(e,t)}function Z2(a){return typeof a=="object"&&a!==null}function Yp(a){return Z2(a)&&!uh(a)}function uh(a){return Array.isArray(a)}function p3(a){return typeof a=="function"}function nv(a){return typeof a!="object"||a===null}function Wf(a){return JSON.parse(JSON.stringify(a))}function HY(a,e){return JSON.stringify(a)===JSON.stringify(e)}function J2(a){return a===""?[]:a.replace(/\[(['"]?)(.+?)\1\]/g,".$2").replace(/^\./,"").split(".")}function Ml(a,e){return e===""?a:J2(e).reduce((t,i)=>t?.[i],a)}function V0(a,e,t){let i=J2(e);if(i.length===1)return a[i[0]]=t;let n=i.shift(),r=i.join("."),o=i[0];a[n]===void 0&&(a[n]={}),uh(a[n])&&QY(o)&&parseInt(o)>a[n].length&&(a[n]={...a[n]}),V0(a[n],r,t)}function QY(a){return!isNaN(parseInt(a))}function g3(a,e){let t=J2(e);if(t.length===1){Array.isArray(a)?a.splice(t[0],1):delete a[t[0]];return}let i=t.shift(),n=t.join(".");a[i]!==void 0&&g3(a[i],n)}function m3(a,e,t={},i=""){if(a===e)return t;if(typeof a!=typeof e||Yp(a)&&uh(e)||uh(a)&&Yp(e)||nv(a)||nv(e))return t[i]=e,t;let n=Object.keys(a);return Object.entries(e).forEach(([r,o])=>{t={...t,...m3(a[r],e[r],t,i===""?r:`${i}.${r}`)},n=n.filter(s=>s!==r)}),n.forEach(r=>{t[`${i}.${r}`]="__rm__"}),t}function jY(a,e){let t={};return y3(a,e,"",t,a,e),t}function y3(a,e,t,i,n,r){if(a===e)return{changed:!1,consolidated:!1};let o=!1,s=I=>uh(I)&&Object.keys(I).some(O=>isNaN(parseInt(O)));if(typeof a!=typeof e||Yp(a)&&uh(e)||uh(a)&&Yp(e))if(uh(a)&&a.length===0&&Yp(e))a={},o=!0;else if(a==null&&Yp(e))a={},o=!0;else return i[t]=e,{changed:!0,consolidated:!1};if(uh(a)&&uh(e)&&s(e)&&Object.keys(a).length===0&&(o=!0),nv(a)||nv(e))return i[t]=e,{changed:!0,consolidated:!1};let u=Object.keys(a),d=Object.keys(e);if(u.length!==d.length&&!o)return t===""?(Object.keys(e).forEach(I=>{HY(a[I],e[I])||(i[I]=e[I])}),{changed:!0,consolidated:!0}):(i[t]=Ml(r,t),{changed:!0,consolidated:!0});if(!u.every(I=>d.includes(I))&&!o&&t!=="")return i[t]=Ml(r,t),{changed:!0,consolidated:!0};let x={},b=0,S=0,P=d.length;return d.forEach(I=>{let O=t===""?I:`${t}.${I}`,H=y3(a[I],e[I],O,x,n,r);H.changed&&b++,H.consolidated&&S++}),t!==""&&P>1&&b===P&&S===0&&!o?(i[t]=Ml(r,t),{changed:!0,consolidated:!0}):(Object.assign(i,x),{changed:b>0,consolidated:S>0})}function zp(a){let e=LL(a)?a[0]:a;return LL(a)&&a[1],Z2(e)&&Object.entries(e).forEach(([t,i])=>{e[t]=zp(i)}),e}function LL(a){return Array.isArray(a)&&a.length===2&&typeof a[1]=="object"&&Object.keys(a[1]).includes("s")}function x3(){if(document.querySelector('meta[name="csrf-token"]'))return document.querySelector('meta[name="csrf-token"]').getAttribute("content");if(document.querySelector("[data-csrf]"))return document.querySelector("[data-csrf]").getAttribute("data-csrf");if(window.livewireScriptConfig.csrf??!1)return window.livewireScriptConfig.csrf;throw"Livewire: No CSRF token detected"}var Lp;function _3(){if(Lp)return Lp;if(window.livewireScriptConfig&&(window.livewireScriptConfig.nonce??!1))return Lp=window.livewireScriptConfig.nonce,Lp;let a=document.querySelector("style[data-livewire-style][nonce]");return a?(Lp=a.nonce,Lp):null}function lS(){return document.querySelector("[data-module-url]")?.getAttribute("data-module-url")??window.livewireScriptConfig.moduleUrl??null}function VY(){return document.querySelector("[data-update-uri]")?.getAttribute("data-update-uri")??window.livewireScriptConfig.uri??null}function GY(a){return!!a.match(/<script>Sfdump\(".+"\)<\/script>/)}function WY(a){let e=a.match(/.*<script>Sfdump\(".+"\)<\/script>/s);return[e,a.replace(e,"")]}function $Y(a,e){let t=a;for(;t;){let i;if(e(t,{stop:n=>n===void 0?i=t:i=n}),i!==void 0)return i;t._x_teleportBack&&(t=t._x_teleportBack),t=t.parentElement}}function XY(a,e){let t=a;for(;t;){let i;if(e(t,{stop:n=>n===void 0?i=t:i=n}),i!==void 0)return i;t=t.previousSibling}}var T1=new WeakMap;function sy(a){if(!T1.has(a)){let e=new KY(a);T1.set(a,e),e.registerListeners()}return T1.get(a)}function YY(a,e,t,i){let n=sy(t),r=()=>a.dispatchEvent(new CustomEvent("livewire-upload-start",{bubbles:!0,detail:{id:t.id,property:e}})),o=()=>a.dispatchEvent(new CustomEvent("livewire-upload-finish",{bubbles:!0,detail:{id:t.id,property:e}})),s=()=>a.dispatchEvent(new CustomEvent("livewire-upload-error",{bubbles:!0,detail:{id:t.id,property:e}})),u=()=>a.dispatchEvent(new CustomEvent("livewire-upload-cancel",{bubbles:!0,detail:{id:t.id,property:e}})),d=b=>{var S=Math.round(b.loaded*100/b.total);a.dispatchEvent(new CustomEvent("livewire-upload-progress",{bubbles:!0,detail:{progress:S}}))},g=b=>{b.target.files.length!==0&&(r(),b.target.multiple?n.uploadMultiple(e,b.target.files,o,s,d,u):n.upload(e,b.target.files[0],o,s,d,u))};a.addEventListener("change",g),t.$wire.$watch(e,b=>{a.isConnected&&((b===null||b==="")&&(a.value=""),a.multiple&&Array.isArray(b)&&b.length===0&&(a.value=""))});let x=()=>{a.value=null};a.addEventListener("click",x),a.addEventListener("livewire-upload-cancel",x),i(()=>{a.removeEventListener("change",g),a.removeEventListener("click",x)})}var KY=class{constructor(a){this.component=a,this.uploadBag=new FL,this.removeBag=new FL}registerListeners(){this.component.$wire.$on("upload:generatedSignedUrl",({name:a,url:e})=>{this.component,this.handleSignedUrl(a,e)}),this.component.$wire.$on("upload:generatedSignedUrlForS3",({name:a,payload:e})=>{this.component,this.handleS3PreSignedUrl(a,e)}),this.component.$wire.$on("upload:finished",({name:a,tmpFilenames:e})=>this.markUploadFinished(a,e)),this.component.$wire.$on("upload:errored",({name:a})=>this.markUploadErrored(a)),this.component.$wire.$on("upload:removed",({name:a,tmpFilename:e})=>this.removeBag.shift(a).finishCallback(e))}upload(a,e,t,i,n,r){this.setUpload(a,{files:[e],multiple:!1,finishCallback:t,errorCallback:i,progressCallback:n,cancelledCallback:r,append:!1})}uploadMultiple(a,e,t,i,n,r,o=!0){this.setUpload(a,{files:Array.from(e),multiple:!0,finishCallback:t,errorCallback:i,progressCallback:n,cancelledCallback:r,append:o})}removeUpload(a,e,t){this.removeBag.push(a,{tmpFilename:e,finishCallback:t}),this.component.$wire.call("_removeUpload",a,e)}setUpload(a,e){this.uploadBag.add(a,e),this.uploadBag.get(a).length===1&&this.startUpload(a,e)}handleSignedUrl(a,e){let t=new FormData;Array.from(this.uploadBag.first(a).files).forEach(r=>t.append("files[]",r,r.name));let i={Accept:"application/json"},n=x3();n&&(i["X-CSRF-TOKEN"]=n),this.makeRequest(a,t,"post",e,i,r=>r.paths)}handleS3PreSignedUrl(a,e){let t=this.uploadBag.first(a).files[0],i=e.headers;"Host"in i&&delete i.Host;let n=e.url;this.makeRequest(a,t,"put",n,i,r=>[e.path])}makeRequest(a,e,t,i,n,r){let o=new XMLHttpRequest;o.open(t,i),Object.entries(n).forEach(([s,u])=>{o.setRequestHeader(s,u)}),o.upload.addEventListener("progress",s=>{s.detail={},s.detail.progress=Math.floor(s.loaded*100/s.total),this.uploadBag.first(a).progressCallback(s)}),o.addEventListener("load",()=>{if((o.status+"")[0]==="2"){let u=r(o.response&&JSON.parse(o.response));this.component.$wire.call("_finishUpload",a,u,this.uploadBag.first(a).multiple,this.uploadBag.first(a).append);return}let s=null;o.status===422&&(s=o.response),this.component.$wire.call("_uploadErrored",a,s,this.uploadBag.first(a).multiple)}),this.uploadBag.first(a).request=o,o.send(e)}startUpload(a,e){let t=e.files.map(i=>({name:i.name,size:i.size,type:i.type}));this.component.$wire.call("_startUpload",a,t,e.multiple),this.component}markUploadFinished(a,e){this.component;let t=this.uploadBag.shift(a);t.finishCallback(t.multiple?e:e[0]),this.uploadBag.get(a).length>0&&this.startUpload(a,this.uploadBag.last(a))}markUploadErrored(a){this.component,this.uploadBag.shift(a).errorCallback(),this.uploadBag.get(a).length>0&&this.startUpload(a,this.uploadBag.last(a))}cancelUpload(a,e=null){this.component;let t=this.uploadBag.first(a);t&&(t.request&&t.request.abort(),this.uploadBag.shift(a).cancelledCallback(),e&&e())}},FL=class{constructor(){this.bag={}}add(a,e){this.bag[a]||(this.bag[a]=[]),this.bag[a].push(e)}push(a,e){this.add(a,e)}first(a){return this.bag[a]?this.bag[a][0]:null}last(a){return this.bag[a].slice(-1)[0]}get(a){return this.bag[a]}shift(a){return this.bag[a].shift()}call(a,...e){(this.listeners[a]||[]).forEach(t=>{t(...e)})}has(a){return Object.keys(this.listeners).includes(a)}};function qY(a,e,t,i=()=>{},n=()=>{},r=()=>{},o=()=>{}){sy(a).upload(e,t,i,n,r,o)}function ZY(a,e,t,i=()=>{},n=()=>{},r=()=>{},o=()=>{},s=!0){sy(a).uploadMultiple(e,t,i,n,r,o,s)}function JY(a,e,t,i=()=>{},n=()=>{}){sy(a).removeUpload(e,t,i,n)}function eK(a,e,t=()=>{}){sy(a).cancelUpload(e,t)}var PL=hr(js());function v3(a,e){return e||(e=()=>{}),(t,i=!1)=>{let n=i,r=t,o=a.$wire,s=o.get(r);return PL.default.interceptor((d,g,x,b,S)=>{if(typeof s>"u"){console.error(`Livewire Entangle Error: Livewire property ['${r}'] cannot be found on component: ['${a.name}']`);return}let P=PL.default.entangle({get(){return o.get(t)},set(I){o.set(t,I,n)}},{get(){return g()},set(I){x(I)}});return e(()=>P()),tK(o.get(t))},d=>{Object.defineProperty(d,"live",{get(){return n=!0,d}})})(s)}}function tK(a){return typeof a=="object"?JSON.parse(JSON.stringify(a)):a}var G0=hr(js()),sA=[];function Qs(a,e){return sA[a]||(sA[a]=[]),sA[a].push(e),()=>{sA[a]=sA[a].filter(t=>t!==e)}}function ks(a,...e){let t=sA[a]||[],i=[];for(let n=0;n<t.length;n++){let r=t[n](...e);p3(r)&&i.push(r)}return n=>b3(i,n)}async function w3(a,...e){let t=sA[a]||[],i=[];for(let n=0;n<t.length;n++){let r=await t[n](...e);p3(r)&&i.push(r)}return n=>b3(i,n)}function b3(a,e){let t=e;for(let i=0;i<a.length;i++){let n=a[i](t);n!==void 0&&(t=n)}return t}function iK(a){M1(({message:e,compileRequest:t})=>{e.component.isIsolated&&t([e])}),M1(({message:e,compileRequest:t})=>{e.component.isLazy&&!e.component.hasBeenLazyLoaded&&e.component.isLazyIsolated&&t([e])}),M1(({message:e,compileRequest:t})=>{let i=e.component,n=[];i.getDeepChildrenWithBindings(r=>{let o=E3(r,"$commit"),s=T3(o);n.push(s)}),n.length>0&&t([e,...n])}),Ov(({action:e})=>{e?.origin?.directive?.modifiers.includes("renderless")&&(e.metadata.renderless=!0);let i=a.activeMessageMatchingScope(e);if(i){if(i.isAsync()||e.isAsync())return;if(e.metadata.type==="poll")return e.cancel();if(Array.from(i.actions).every(n=>n.metadata.type==="poll"))return i.cancel();if(Array.from(i.actions).every(n=>n.metadata.type==="model.live")&&e.metadata.type==="model.live")return;e.defer(),i.addInterceptor(({onFinish:n})=>{n(()=>e.fire())})}})}var DL=class{messages=new Set;controller=new AbortController;interceptors=[];cancelled=!1;uri=null;payload=null;options=null;addMessage(a){a.setRequest(this),this.messages.add(a)}getActiveMessages(){return new Set([...this.messages].filter(a=>!a.isCancelled()))}initInterceptors(a){this.interceptors=a.getRequestInterceptors(this),this.messages.forEach(e=>{let t=a.getMessageInterceptors(e);e.setInterceptors(t)}),this.interceptors.forEach(e=>e.init()),this.messages.forEach(e=>{e.getInterceptors().forEach(t=>t.init())})}cancel(){this.cancelled||(this.cancelled=!0,this.controller.abort(),this.messages.forEach(a=>{a.isCancelled()||a.cancel()}))}hasAllCancelledMessages(){return this.getActiveMessages().size===0}isCancelled(){return this.cancelled}invokeOnSend({responsePromise:a}){this.interceptors.forEach(e=>e.onSend({responsePromise:a})),this.messages.forEach(e=>e.invokeOnSend())}invokeOnCancel(){this.interceptors.forEach(a=>a.onCancel())}invokeOnFailure({error:a}){this.interceptors.forEach(e=>e.onFailure({error:a})),this.messages.forEach(e=>e.invokeOnFailure(a))}invokeOnResponse({response:a}){this.interceptors.forEach(e=>e.onResponse({response:a}))}invokeOnStream({response:a}){this.interceptors.forEach(e=>e.onStream({response:a}))}invokeOnParsed({response:a,body:e}){this.interceptors.forEach(t=>t.onParsed({response:a,body:e}))}invokeOnRedirect({url:a,preventDefault:e}){this.interceptors.forEach(t=>t.onRedirect({url:a,preventDefault:e}))}invokeOnDump({html:a,preventDefault:e}){this.interceptors.forEach(t=>t.onDump({html:a,preventDefault:e}))}invokeOnError({response:a,body:e,preventDefault:t}){this.interceptors.forEach(i=>i.onError({response:a,body:e,preventDefault:t})),this.messages.forEach(i=>i.invokeOnError({response:a,body:e,preventDefault:t}))}invokeOnSuccess({response:a,body:e,json:t}){this.interceptors.forEach(i=>i.onSuccess({response:a,body:e,json:t}))}invokeOnFinish(){this.interceptors.forEach(a=>a.onFinish())}},nK=class{controller=new AbortController;constructor(a){this.uri=a}cancel(){this.controller.abort()}isCancelled(){return this.controller.signal.aborted}},C3=class{onSend=()=>{};onCancel=()=>{};onFailure=()=>{};onError=()=>{};onStream=()=>{};onSuccess=()=>{};onFinish=()=>{};onSync=()=>{};onEffect=()=>{};onMorph=async()=>{};onRender=()=>{};constructor(a,e){this.message=a,this.callback=e,this.callback({message:this.message,cancel:()=>{this.message.getInterceptors().includes(this)||this.onCancel(),this.message.cancel()},onSend:t=>this.onSend=t,onCancel:t=>this.onCancel=t,onFailure:t=>this.onFailure=t,onError:t=>this.onError=t,onStream:t=>this.onStream=t,onSuccess:t=>this.onSuccess=t,onFinish:t=>this.onFinish=t})}init(){}},aK=class{onSend=()=>{};onCancel=()=>{};onFailure=()=>{};onResponse=()=>{};onParsed=()=>{};onError=()=>{};onStream=()=>{};onRedirect=()=>{};onDump=()=>{};onSuccess=()=>{};onFinish=()=>{};constructor(a,e){this.request=a,this.callback=e,this.callback({request:this.request,onSend:t=>this.onSend=t,onCancel:t=>this.onCancel=t,onFailure:t=>this.onFailure=t,onResponse:t=>this.onResponse=t,onParsed:t=>this.onParsed=t,onError:t=>this.onError=t,onStream:t=>this.onStream=t,onRedirect:t=>this.onRedirect=t,onDump:t=>this.onDump=t,onSuccess:t=>this.onSuccess=t,onFinish:t=>this.onFinish=t})}init(){}},rK=class{messageInterceptorCallbacks=[];messageInterceptorCallbacksByComponent=new q2;requestInterceptorCallbacks=[];addInterceptor(a,e){return this.messageInterceptorCallbacksByComponent.add(a,e),()=>{this.messageInterceptorCallbacksByComponent.delete(a,e)}}addMessageInterceptor(a){return this.messageInterceptorCallbacks.push(a),()=>{this.messageInterceptorCallbacks.splice(this.messageInterceptorCallbacks.indexOf(a),1)}}addRequestInterceptor(a){return this.requestInterceptorCallbacks.push(a),()=>{this.requestInterceptorCallbacks.splice(this.requestInterceptorCallbacks.indexOf(a),1)}}getMessageInterceptors(a){return[...this.messageInterceptorCallbacksByComponent.get(a.component),...this.messageInterceptorCallbacks].map(t=>new C3(a,t))}getRequestInterceptors(a){return this.requestInterceptorCallbacks.map(e=>new aK(a,e))}};function RL(a){let e=document.createElement("html");e.innerHTML=a,e.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top"));let t=document.getElementById("livewire-error");typeof t<"u"&&t!=null?t.innerHTML="":(t=document.createElement("dialog"),t.id="livewire-error",t.style.margin="50px",t.style.width="calc(100% - 100px)",t.style.height="calc(100% - 100px)",t.style.borderRadius="5px",t.style.padding="0px");let i=document.createElement("iframe");i.style.backgroundColor="#17161A",i.style.borderRadius="5px",i.style.width="100%",i.style.height="100%",t.appendChild(i),document.body.prepend(t),document.body.style.overflow="hidden",i.contentWindow.document.open(),i.contentWindow.document.write(e.outerHTML),i.contentWindow.document.close(),t.addEventListener("click",()=>sK(t)),t.addEventListener("close",()=>oK(t)),t.showModal(),t.focus(),t.blur()}function sK(a){a.close()}function oK(a){a.outerHTML="",document.body.style.overflow="visible"}var lg=new WeakMap,av=new WeakMap;function lK(a){let e=a.component;if(Array.from(a.actions).every(i=>i.metadata.island)){let i=Array.from(a.actions).map(r=>r.metadata.island.name).sort().join("|"),n=av.get(e);return n||(n={[i]:Symbol()},av.set(e,n)),n[i]||(n[i]=Symbol()),n[i]}return lg.has(e)||lg.set(e,Symbol()),lg.get(e)}function I1(a){let e=a.component;if(!!a.metadata.island){let i=a.metadata.island.name,n=av.get(e);return n||(n={[i]:Symbol()},av.set(e,n)),n[i]||(n[i]=Symbol()),n[i]}return lg.has(e)||lg.set(e,Symbol()),lg.get(e)}var cK=class{pendingMessages=new Set;activeMessages=new Set;bufferingMessages=new Set;constructor(){}messageBuffer(a,e){this.bufferingMessages.has(a)||(this.bufferingMessages.add(a),setTimeout(()=>{e(),this.bufferingMessages.delete(a)},5))}addPendingMessage(a){this.pendingMessages.add(a)}clearPendingMessages(){this.pendingMessages.clear()}getPendingMessages(){return Array.from(this.pendingMessages)}addActiveMessage(a){this.activeMessages.add(a)}removeActiveMessage(a){this.activeMessages.delete(a)}findScopedPendingMessage(a){if(a.isAsync())return null;let e=I1(a);return Array.from(this.pendingMessages).find(t=>t.component!==a.component?!1:Array.from(t.actions).some(i=>I1(i)===e))}activeMessageMatchingScope(a){return Array.from(this.activeMessages).find(e=>this.matchesScope(e,a))}matchesScope(a,e){return a.scope===I1(e)}allScopedMessages(a){return[...Array.from(this.activeMessages),...Array.from(this.pendingMessages)].filter(e=>this.matchesScope(e,a))}eachPendingMessage(a){Array.from(this.pendingMessages).forEach(a)}},uK=class{actions=new Set;snapshot=null;updates=null;calls=null;payload=null;responsePayload=null;pendingReturns=[];pendingReturnsMeta={};interceptors=[];cancelled=!1;request=null;_scope=null;get scope(){if(!this._scope)throw new Error("Message scope has not been set yet");return this._scope}set scope(a){this._scope=a}constructor(a){this.component=a}addAction(a){let e=new Map;if(Array.from(this.actions).forEach(t=>{e.set(t.fingerprint,t)}),e.has(a.fingerprint)){e.get(a.fingerprint).addSquashedAction(a);return}a.message=this,this.actions.add(a)}removeAction(a){this.actions.delete(a),a.message=null,this.actions.size===0&&this.cancel()}getActions(){return Array.from(this.actions)}hasActionForIsland(a){return this.getActions().some(e=>e.metadata.island?.name===a.metadata.name)}hasActionForComponent(){return this.getActions().some(a=>a.metadata.island===void 0)}setInterceptors(a){this.interceptors=a}addInterceptor(a){let e=new C3(this,a);this.interceptors.push(e),e.init()}setRequest(a){this.request=a}getInterceptors(){return this.interceptors}cancel(){this.cancelled||(this.cancelled=!0,this.invokeOnCancel(),this.request?.hasAllCancelledMessages()&&this.request.cancel())}isCancelled(){return this.cancelled}isAsync(){return Array.from(this.actions).every(a=>a.isAsync())}invokeOnSend(){this.interceptors.forEach(a=>a.onSend({payload:this.payload})),Array.from(this.actions).forEach((a,e)=>{let t=this.calls[e];a.invokeOnSend({call:t})})}invokeOnCancel(){this.interceptors.forEach(a=>a.onCancel()),this.rejectActionPromises({status:null,body:null,json:null,errors:null}),Array.from(this.actions).forEach(a=>a.invokeOnFinish()),this.invokeOnFinish()}invokeOnFailure(a){this.interceptors.forEach(e=>e.onFailure({error:a})),Array.from(this.actions).forEach(e=>e.invokeOnFailure({error:a})),this.rejectActionPromises({status:null,body:null,json:null,errors:null}),Array.from(this.actions).forEach(e=>e.invokeOnFinish()),this.invokeOnFinish()}invokeOnError({response:a,body:e,preventDefault:t}){this.interceptors.forEach(n=>n.onError({response:a,body:e,preventDefault:t})),Array.from(this.actions).forEach(n=>n.invokeOnError({response:a,body:e,preventDefault:t}));let i=null;try{i=JSON.parse(e)}catch{}this.rejectActionPromises({status:a.status,body:e,json:i,errors:null}),Array.from(this.actions).forEach(n=>n.invokeOnFinish()),this.invokeOnFinish()}invokeOnStream({json:a}){this.interceptors.forEach(e=>e.onStream({json:a}))}invokeOnSuccess(){this.interceptors.forEach(a=>{a.onSuccess({payload:this.responsePayload,onSync:e=>a.onSync=e,onEffect:e=>a.onEffect=e,onMorph:e=>a.onMorph=e,onRender:e=>a.onRender=e})}),this.pendingReturns=this.responsePayload.effects.returns||[],this.pendingReturnsMeta=this.responsePayload.effects.returnsMeta||{}}invokeOnSync(){this.interceptors.forEach(a=>a.onSync())}invokeOnEffect(){this.interceptors.forEach(a=>a.onEffect())}async invokeOnMorph(){await Promise.all(this.interceptors.map(a=>a.onMorph()))}invokeOnRender(){this.interceptors.forEach(a=>a.onRender())}invokeOnFinish(){this.interceptors.forEach(a=>a.onFinish())}rejectActionPromises({status:a,body:e,json:t,errors:i}){Array.from(this.actions).forEach(n=>{n.rejectPromise({status:a,body:e,json:t,errors:i})})}resolveActionPromises(a,e){let t=new Set;a.forEach((i,n)=>{let r=Array.from(this.actions)[n];if(!r)return;let o=e[n];if(o?.errors){r.rejectPromise({status:422,body:null,json:null,errors:o.errors}),r.invokeOnFinish(),t.add(r);return}r.invokeOnSuccess(i),r.resolvePromise(i),r.invokeOnFinish(),t.add(r)}),Array.from(this.actions).forEach(i=>{t.has(i)||(i.invokeOnSuccess(void 0),i.resolvePromise(),i.invokeOnFinish())})}},hK=class{squashedActions=new Set;onSendCallbacks=[];onCancelCallbacks=[];onSuccessCallbacks=[];onErrorCallbacks=[];onFailureCallbacks=[];onFinishCallbacks=[];message=null;cancelled=!1;deferred=!1;_fire=null;constructor(a,e,t=[],i={},n=null){this.component=a,this.name=e,this.params=t,this.metadata=i,this.origin=n,this.promise=new Promise((r,o)=>{this.promiseResolution={resolve:r,reject:o}}),this.promise._livewireAction=this}cancel(){this.cancelled||(this.cancelled=!0,this.invokeOnCancel(),this.invokeOnFinish(),this.rejectPromise({status:null,body:null,json:null,errors:null}),this.squashedActions.forEach(a=>a.cancel()),this.message&&this.message.removeAction(this))}isCancelled(){return this.cancelled}defer(){this.deferred=!0}isDeferred(){return this.deferred}fire(){this._fire&&this._fire(this)}get fingerprint(){let a=this.component.id,e=this.name,t=JSON.stringify(this.params),i=JSON.stringify(this.metadata),n=new TextEncoder().encode(a+e+t+i),r="",o=8192;for(let s=0;s<n.length;s+=o)r+=String.fromCharCode(...n.subarray(s,s+o));return window.btoa(r)}isAsync(){let e=(this.component.snapshot.memo?.async||[]).includes(this.name),t=this.origin?.directive?.modifiers.includes("async")||!!this.metadata.async;return e||t}isJson(){return(this.component.snapshot.memo?.json||[]).includes(this.name)}addInterceptor(a){a({action:this,onSend:e=>this.onSendCallbacks.push(e),onCancel:e=>this.onCancelCallbacks.push(e),onSuccess:e=>this.onSuccessCallbacks.push(e),onError:e=>this.onErrorCallbacks.push(e),onFailure:e=>this.onFailureCallbacks.push(e),onFinish:e=>this.onFinishCallbacks.push(e)})}invokeOnSend({call:a}){this.onSendCallbacks.forEach(e=>e({call:a})),this.squashedActions.forEach(e=>e.invokeOnSend({call:a}))}invokeOnCancel(){this.onCancelCallbacks.forEach(a=>a()),this.squashedActions.forEach(a=>a.invokeOnCancel())}invokeOnSuccess(a){this.onSuccessCallbacks.forEach(e=>e(a)),this.squashedActions.forEach(e=>e.invokeOnSuccess(a))}invokeOnError({response:a,body:e,preventDefault:t}){this.onErrorCallbacks.forEach(i=>i({response:a,body:e,preventDefault:t})),this.squashedActions.forEach(i=>i.invokeOnError({response:a,body:e,preventDefault:t}))}invokeOnFailure({error:a}){this.onFailureCallbacks.forEach(e=>e({error:a})),this.squashedActions.forEach(e=>e.invokeOnFailure({error:a}))}invokeOnFinish(){this.onFinishCallbacks.forEach(a=>a()),this.squashedActions.forEach(a=>a.invokeOnFinish())}mergeMetadata(a){this.metadata={...this.metadata,...a}}rejectPromise(a){this.squashedActions.forEach(e=>e.rejectPromise(a)),this.promiseResolution.reject(a)}addSquashedAction(a){this.squashedActions.add(a)}resolvePromise(a){this.squashedActions.forEach(e=>e.resolvePromise(a)),this.promiseResolution.resolve(a)}};function dK(a,e){a(({request:t,onFailure:i,onResponse:n,onError:r,onSuccess:o})=>{let s=[],u=[],d=[];ks("request",{url:t.uri,options:t.options,payload:t.options.body,respond:g=>s.push(g),succeed:g=>u.push(g),fail:g=>d.push(g)}),n(({response:g})=>{s.forEach(x=>x({status:g.status,response:g}))}),o(({response:g,json:x})=>{u.forEach(b=>b({status:g.status,json:x}))}),i(({error:g})=>{d.forEach(x=>x({status:503,content:null,preventDefault:()=>{}}))}),r(({response:g,body:x,preventDefault:b})=>{d.forEach(S=>S({status:g.status,content:x,preventDefault:b}))})}),e(({message:t,onCancel:i,onError:n,onSuccess:r,onFinish:o})=>{let s=[],u=[],d=[];ks("commit",{component:t.component,commit:t.payload,respond:g=>{s.push(g)},succeed:g=>{u.push(g)},fail:g=>{d.push(g)}}),o(()=>{s.forEach(g=>g())}),r(({payload:g,onSync:x,onMorph:b,onRender:S})=>{S(()=>{u.forEach(P=>P({snapshot:g.snapshot,effects:g.effects}))})}),n(()=>{d.forEach(g=>g())}),i(()=>{d.forEach(g=>g())})})}var cS=null,uS={},hS=[],Rv=new rK,fd=new cK,p_=[],g_=[];function RA(a){cS=a}function eB(a){uS=a}function fK(a){hS.push(a)}function Ov(a){return p_.push(a),()=>{p_.splice(p_.indexOf(a),1)}}function vh(a){return Rv.addMessageInterceptor(a)}function tB(a){return Rv.addRequestInterceptor(a)}function M1(a){return g_.push(a),()=>{g_.splice(g_.indexOf(a),1)}}function S3(a,e,t){let i=typeof e=="string"?e:null,n=i?t:e;return Ov(({action:r,...o})=>{r.component===a&&(i&&r.name!==i||n({action:r,...o}))})}function B3(a,e,t){let i=typeof e=="string"?e:null,n=i?t:e;return Rv.addInterceptor(a,({message:r,...o})=>{i&&!Array.from(r.actions).some(u=>u.name===i)||n({message:r,...o})})}function AK(a,e,t){let i=typeof e=="string"?e:null,n=i?t:e;return tB(({request:r,...o})=>{Array.from(r.messages).filter(u=>u.component!==a?!1:i?Array.from(u.actions).some(d=>d.name===i):!0).length!==0&&n({request:r,...o})})}vh(({message:a,onFinish:e})=>{fd.addActiveMessage(a),e(()=>fd.removeActiveMessage(a))});queueMicrotask(()=>{iK(fd)});function oy(a,e,t=[],i={}){a.__isWireProxy&&(a=a.__instance);let n=E3(a,e,t,i);return p_.forEach(r=>{r({action:n,onSend:o=>n.onSendCallbacks.push(o),onCancel:o=>n.onCancelCallbacks.push(o),onSuccess:o=>n.onSuccessCallbacks.push(o),onError:o=>n.onErrorCallbacks.push(o),onFailure:o=>n.onFailureCallbacks.push(o),onFinish:o=>n.onFinishCallbacks.push(o)})}),n.isCancelled()||n.isDeferred()?n.promise:k3(n)}function E3(a,e,t,i){let n=cS,r=hS;cS=null,hS=[],i={...i,...uS},uS={};let o=new hK(a,e,t,i,n);return o._fire=k3,r.forEach(s=>o.addInterceptor(s)),o}function k3(a){let e=T3(a);return fd.messageBuffer(e,()=>{pK()}),a.promise}function T3(a){let e=fd.findScopedPendingMessage(a);return e||(e=new uK(a.component)),e.addAction(a),fd.addPendingMessage(e),e}function pK(){let a=new Set;fd.eachPendingMessage(t=>{g_.forEach(i=>{i({message:t,compileRequest:n=>{let r=Array.from(a).find(s=>n.some(u=>s.messages.has(u)));if(r)return n.forEach(s=>{r.messages.has(s)||r.addMessage(s)}),r;let o=new DL;return n.forEach(s=>o.addMessage(s)),a.add(o),o}})})});let e=fd.getPendingMessages();fd.clearPendingMessages();for(let t of e){if(Array.from(a).some(n=>n.messages.has(t)))continue;let i=!1;if(a.forEach(n=>{if(!i){if(Array.from(n.messages).some(o=>o.component===t.component))return;n.addMessage(t),i=!0}}),!i){let n=new DL;n.addMessage(t),a.add(n)}}a.forEach(t=>{t.messages.forEach(i=>{i.snapshot=i.component.getEncodedSnapshotWithLatestChildrenMergedIn(),i.updates=i.component.getUpdates(),i.calls=Array.from(i.actions).map(n=>({method:n.name,params:n.params,metadata:n.metadata})),i.payload={snapshot:i.snapshot,updates:i.updates,calls:i.calls}})}),a.forEach(t=>{t.messages.forEach(i=>{i.scope=lK(i)})}),a.forEach(t=>{t.uri=VY(),Object.defineProperty(t,"payload",{get(){return{_token:x3(),components:Array.from(t.messages,n=>n.payload)}}});let i=null;Object.defineProperty(t,"options",{get(){return i||(i={method:"POST",body:JSON.stringify(t.payload),headers:{"Content-type":"application/json","X-Livewire":"1"},signal:t.controller.signal},i)}})}),a.forEach(t=>{t.initInterceptors(Rv),t.hasAllCancelledMessages()&&t.cancel(),gK(t,{send:({responsePromise:i})=>{t.invokeOnSend({responsePromise:i})},failure:({error:i})=>{t.invokeOnFailure({error:i})},finish:()=>{t.invokeOnFinish()},response:({response:i})=>{t.invokeOnResponse({response:i})},stream:async({response:i})=>{t.invokeOnStream({response:i});let n="";try{n=await mK(i,r=>{let o=r.id;t.messages.forEach(s=>{s.component.id===o&&s.invokeOnStream({json:r})}),ks("stream",r)})}catch(r){throw t.cancel(),r}return n},parsed:({response:i,responseBody:n})=>{t.invokeOnParsed({response:i,body:n})},error:({response:i,responseBody:n})=>{let r=!1;if(t.invokeOnError({response:i,body:n,preventDefault:()=>r=!0}),!r){if(i.status===419){confirm(`This page has expired.
Would you like to refresh the page?`)&&window.location.reload();return}i.aborted||RL(n)}},redirect:i=>{let n=!1;t.invokeOnRedirect({url:i,preventDefault:()=>n=!0}),!n&&(window.location.href=i)},dump:i=>{let n=!1;t.invokeOnDump({html:i,preventDefault:()=>n=!0}),!n&&RL(i)},success:async({response:i,responseBody:n,responseJson:r})=>{t.invokeOnSuccess({response:i,body:n,json:r}),await w3("payload.intercept",r);let o=r.components;t.messages.forEach(s=>{o.forEach(u=>{if(s.isCancelled())return;let{snapshot:d,effects:g}=u,x=JSON.parse(d);if(x.memo.id===s.component.id){if(s.responsePayload={snapshot:x,effects:g},s.invokeOnSuccess(),s.isCancelled())return;Alpine.transaction(async()=>{s.component.mergeNewSnapshot(d,g,s.updates),s.invokeOnSync(),!s.isCancelled()&&(s.component.processEffects(g,t),s.invokeOnEffect(),!s.isCancelled()&&await s.invokeOnMorph())}).then(()=>{s.isCancelled()||(s.resolveActionPromises(s.pendingReturns,s.pendingReturnsMeta),s.invokeOnFinish()),requestAnimationFrame(()=>{s.isCancelled()||s.invokeOnRender()})})}})})}})})}async function gK(a,e){let t;try{if(a.isCancelled())return;let r=fetch(a.uri,a.options);if(a.isCancelled())return;e.send({responsePromise:r}),t=await r}catch(r){if(a.isCancelled())return;e.failure({error:r}),e.finish();return}e.response({response:t});let i=null;if(t.headers.has("X-Livewire-Stream")?i=await e.stream({response:t}):i=await t.text(),a.isCancelled())return;if(e.parsed({response:t,responseBody:i}),!t.ok){e.error({response:t,responseBody:i}),e.finish();return}if(t.redirected&&e.redirect(t.url),GY(i)){let r;[r,i]=WY(i),e.dump(r)}let n=null;try{n=JSON.parse(i)}catch(r){console.error(r),e.error({response:t,responseBody:i}),e.finish();return}e.success({response:t,responseBody:i,responseJson:n}),e.finish()}async function mK(a,e){let t=a.body.getReader(),i="";for(;;){let{done:n,value:r}=await t.read(),s=new TextDecoder().decode(r),[u,d]=yK(i+s);if(u.forEach(g=>{e(g)}),i=d,n)return i}}function yK(a){let e=/({"stream":true.*?"endStream":true})/g,t=a.match(e),i=[];if(t)for(let r=0;r<t.length;r++)i.push(JSON.parse(t[r]).body);let n=a.replace(e,"");return[i,n]}async function xK(a,e,t){let i=new nK(a),n={headers:{"X-Livewire-Navigate":"1"},signal:i.controller.signal};ks("navigate.request",{uri:a,options:n});let r;try{r=await fetch(a,n);let o=_K(a,r),s=await r.text(),u=r.status;e(s,o,u)}catch(o){throw t(o),o}}function _K(a,e){let t=OL(a),i=OL(e.url);return t.pathname+t.search===i.pathname+i.search&&(i.hash=t.hash),i}function OL(a){return a!==null&&new URL(a,document.baseURI)}dK(tB,vh);function vK(a){return{messages(){return a.snapshot.memo.errors},keys(){return Object.keys(this.messages())},has(...e){if(this.isEmpty())return!1;if(e.length===0||e.length===1&&e[0]==null)return this.any();e.length===1&&Array.isArray(e[0])&&(e=e[0]);for(let t of e)if(this.first(t)==="")return!1;return!0},hasAny(e){if(this.isEmpty())return!1;e.length===1&&Array.isArray(e[0])&&(e=e[0]);for(let t of e)if(this.has(t))return!0;return!1},missing(...e){return e.length===1&&Array.isArray(e[0])&&(e=e[0]),!this.hasAny(e)},first(e=null){let t=e===null?this.all():this.get(e),i=t.length>0?t[0]:"";return Array.isArray(i)?i[0]:i},get(e){return a.snapshot.memo.errors[e]||[]},all(){return Object.values(this.messages()).flat()},isEmpty(){return!this.any()},isNotEmpty(){return this.any()},any(){return Object.keys(this.messages()).length>0},count(){return Object.values(this.messages()).reduce((e,t)=>e+t.length,0)}}}function iB(a,e){let t=a.el.querySelector(`[wire\\:ref="${e}"]`);return t||console.error(`Ref "${e}" not found in component "${a.id}"`)}var W0=new Set;function tA(a){return a.match(new RegExp("wire:"))}function kA(a,e){let[t,...i]=e.replace(new RegExp("wire:"),"").split(".");return new CK(t,i,e,a)}function wh(a,e){W0.has(a)||(W0.add(a),Qs("directive.init",({el:t,component:i,directive:n,cleanup:r})=>{n.value===a&&e({el:t,directive:n,component:i,$wire:i.$wire,cleanup:r})}))}function I3(a,e){W0.has(a)||(W0.add(a),Qs("directive.global.init",({el:t,directive:i,cleanup:n})=>{i.value===a&&e({el:t,directive:i,cleanup:n})}))}function nB(a){return new bK(a)}function wK(a){return W0.has(a)}var bK=class{constructor(a){this.el=a,this.directives=this.extractTypeModifiersAndValue()}all(){return this.directives}has(a){return this.directives.map(e=>e.value).includes(a)}missing(a){return!this.has(a)}get(a){return this.directives.find(e=>e.value===a)}extractTypeModifiersAndValue(){return Array.from(this.el.getAttributeNames().filter(a=>tA(a)).map(a=>kA(this.el,a)))}},CK=class{constructor(a,e,t,i){this.rawName=this.raw=t,this.el=i,this.eventContext,this.wire,this.value=a,this.modifiers=e,this.expression=this.el.getAttribute(this.rawName)}get method(){return this.parseOutMethodsAndParams(this.expression)[0].method}get methods(){return this.parseOutMethodsAndParams(this.expression)}get params(){return this.parseOutMethodsAndParams(this.expression)[0].params}parseOutMethodsAndParams(a){let e=[],t=this.splitAndParseMethods(a);for(let{method:i,paramString:n}of t){let r=[];if(n.length>0){let o=function(){for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return[].concat(u)};try{r=Alpine.evaluate(document,"argumentsToArray("+n+")",{scope:{argumentsToArray:o}})}catch(s){console.warn("Failed to parse parameters:",n,s),r=[]}}e.push({method:i,params:r})}return e}splitAndParseMethods(a){let e=[],t="",i=0,n=!1,r=null,o=a.trim();for(let s=0;s<o.length;s++){let u=o[s];n?(u===r&&o[s-1]!=="\\"&&(n=!1,r=null),t+=u):u==='"'||u==="'"?(n=!0,r=u,t+=u):u==="("?(i++,t+=u):u===")"?(i--,t+=u):u===","&&i===0?(e.push(this.parseMethodCall(t.trim())),t=""):t+=u}return t.trim().length>0&&e.push(this.parseMethodCall(t.trim())),e}parseMethodCall(a){let e=a.match(/^([^(]+)\(/);if(!e)return{method:a.trim(),paramString:""};let t=e[1].trim(),i=e[0].length-1,n=a.lastIndexOf(")");if(n===-1)throw new Error(`Missing closing parenthesis for method "${t}"`);let r=a.slice(i+1,n).trim();return{method:t,paramString:r}}};function AA(a,e,t,i=null){if(t=e.modifiers.includes("remove")?!t:t,e.modifiers.includes("class")){let n=e.expression.split(" ").filter(String);t?a.classList.add(...n):a.classList.remove(...n)}else if(e.modifiers.includes("attr"))t?a.setAttribute(e.expression,!0):a.removeAttribute(e.expression);else{let n=i??window.getComputedStyle(a,null).getPropertyValue("display"),r=["inline","list-item","block","table","flex","grid","inline-flex"].filter(o=>e.modifiers.includes(o))[0]||"inline-block";r=e.modifiers.includes("remove")&&!t?n:r,a.style.display=t?r:"none"}}var M3=new q2;Qs("commit",({component:a,respond:e})=>{e(()=>{setTimeout(()=>{M3.each(a,t=>t(!1))})})});wh("dirty",({el:a,directive:e,component:t})=>{let i=SK(a),n=!1,r=a.style.display,o=s=>{AA(a,e,s,r),n=s};M3.add(t,o),Alpine.effect(()=>{let s=!1;s=dS(t,i.length===0?void 0:i),n!==s&&o(s),n=s})});function dS(a,e){let t=!1;if(e===void 0)t=JSON.stringify(a.canonical)!==JSON.stringify(a.reactive);else if(Array.isArray(e))for(let i=0;i<e.length&&!t;i++){let n=e[i];t=JSON.stringify(Ml(a.canonical,n))!==JSON.stringify(Ml(a.reactive,n))}else t=JSON.stringify(Ml(a.canonical,e))!==JSON.stringify(Ml(a.reactive,e));return t}function SK(a){let e=nB(a),t=[];return e.has("model")&&t.push(e.get("model").expression),e.has("target")&&(t=t.concat(e.get("target").expression.split(",").map(i=>i.trim()))),t}var pA=new WeakMap;Qs("effect",({component:a,effects:e})=>{let t=e.scriptModule;if(t){let i=a.name.replace(/\./g,"--").replace(/::/g,"---").replace(/:/g,"----"),n=`${lS()}/js/${i}.js?v=${t}`;pA.set(a,Alpine.reactive({loading:!0,afterLoaded:[]})),import(n).then(r=>{r.run.call(a.$wire,a.$wire,a.$wire.js),pA.get(a).loading=!1,pA.get(a).afterLoaded.forEach(o=>o()),pA.delete(a)})}});function L3(a){return pA.has(a)&&pA.get(a).loading}function BK(a,e){L3(a)?pA.get(a).afterLoaded.push(()=>e()):e()}var aB={},F3;function ir(a,e,t=null){aB[a]=e}function EK(a){F3=a}var UL={on:"$on",el:"$el",id:"$id",js:"$js",get:"$get",set:"$set",refs:"$refs",call:"$call",hook:"$hook",watch:"$watch",dirty:"$dirty",effect:"$effect",commit:"$commit",errors:"$errors",island:"$island",upload:"$upload",entangle:"$entangle",dispatch:"$dispatch",intercept:"$intercept",interceptAction:"$interceptAction",interceptMessage:"$interceptMessage",interceptRequest:"$interceptRequest",dispatchTo:"$dispatchTo",dispatchSelf:"$dispatchSelf",dispatchEl:"$dispatchEl",dispatchRef:"$dispatchRef",removeUpload:"$removeUpload",cancelUpload:"$cancelUpload",uploadMultiple:"$uploadMultiple"};function kK(a,e){return new Proxy({},{get(t,i){if(i==="__instance")return a;if(i in UL)return NL(a,UL[i]);if(i in aB)return NL(a,i);if(i in e)return e[i];if(i==="toJSON")return()=>a.toJSON();if(!["then"].includes(i))return TK(a)(i)},set(t,i,n){return i in e&&(e[i]=n),!0}})}function NL(a,e){return aB[e](a)}function TK(a){return F3(a)}G0.default.magic("wire",(a,{cleanup:e})=>{let t;return new Proxy({},{get(i,n){if(!t)try{t=Iu(a)}catch{return()=>{}}return["$entangle","entangle"].includes(n)?v3(t,e):t.$wire[n]},set(i,n,r){if(!t)try{t=Iu(a)}catch{return!0}return t.$wire[n]=r,!0}})});ir("__instance",a=>a);ir("$get",a=>(e,t=!0)=>Ml(t?a.reactive:a.ephemeral,e));ir("$el",a=>a.el);ir("$id",a=>a.id);ir("$js",a=>{let e=a.addJsAction.bind(a),t=a.getJsActions();return Object.keys(t).forEach(i=>{e[i]=a.getJsAction(i)}),new Proxy(e,{set(i,n,r){return a.addJsAction(n,r),!0},get(i,n){if(L3(a)){let r=null,o=new Promise(s=>{r=s});return(...s)=>(BK(a,()=>{r(a.getJsAction(n)(...s))}),o)}return i[n]}})});ir("$set",a=>async(e,t,i=!0)=>(V0(a.reactive,e,t),i?(a.queueUpdate(e,t),oy(a,"$set")):Promise.resolve()));ir("$refs",a=>{let e=t=>iB(a,t);return new Proxy(e,{get(t,i){return i in t?t[i]:e(i)}})});ir("$dirty",a=>e=>{let t=G0.default.reactive({dirty:!1});return B3(a,({onFinish:i})=>{i(()=>{queueMicrotask(()=>{t.dirty=dS(a,e)})})}),G0.default.effect(()=>{t.dirty=dS(a,e)}),t.dirty});ir("$intercept",a=>(e,t)=>S3(a,e,t));ir("$interceptAction",a=>(e,t)=>S3(a,e,t));ir("$interceptMessage",a=>(e,t)=>B3(a,e,t));ir("$interceptRequest",a=>(e,t)=>AK(a,e,t));ir("$errors",a=>vK(a));ir("$call",a=>async(e,...t)=>await a.$wire[e](...t));ir("$island",a=>(e,t={})=>(eB({island:{name:e,mode:"morph",...t}}),a.$wire));ir("$entangle",a=>(e,t=!1)=>v3(a)(e,t));ir("$toggle",a=>(e,t=!0)=>a.$wire.set(e,!a.$wire.get(e),t));ir("$watch",a=>(e,t)=>{let i=()=>Ml(a.reactive,e),n=G0.default.watch(i,t);return a.addCleanup(n),n});ir("$effect",a=>e=>{let t=G0.default.effect(e);return a.addCleanup(t),t});ir("$refresh",a=>async()=>oy(a,"$refresh"));ir("$commit",a=>async()=>oy(a,"$commit"));ir("$on",a=>(...e)=>QK(a,...e));ir("$hook",a=>(e,t)=>{let i=Qs(e,({component:n,...r})=>{if(n===void 0)return t(r);if(n.id===a.id)return t({component:n,...r})});return a.addCleanup(i),i});ir("$dispatch",a=>(...e)=>z3(a,...e));ir("$dispatchSelf",a=>(...e)=>qp(a,...e));ir("$dispatchTo",()=>(...a)=>sB(...a));ir("$dispatchEl",a=>(...e)=>H3(a,...e));ir("$dispatchRef",a=>(...e)=>Q3(a,...e));ir("$upload",a=>(...e)=>qY(a,...e));ir("$uploadMultiple",a=>(...e)=>ZY(a,...e));ir("$removeUpload",a=>(...e)=>JY(a,...e));ir("$cancelUpload",a=>(...e)=>eK(a,...e));var L1=new WeakMap;ir("$parent",a=>{if(L1.has(a))return L1.get(a).$wire;let e=a.parent;return L1.set(a,e),e.$wire});var Kp=new WeakMap;function IK(a,e,t){Kp.has(a)||Kp.set(a,{});let i=Kp.get(a);i[e]=t,Kp.set(a,i)}EK(a=>e=>(...t)=>{if(t.length===1&&t[0]instanceof Event&&(t=[]),Kp.has(a)){let i=Kp.get(a);if(typeof i[e]=="function")return i[e](t)}return oy(a,e,t)});var MK=class{constructor(a){if(a.__livewire)throw"Component already initialized";if(a.__livewire=this,this.el=a,this.id=a.getAttribute("wire:id"),this.key=a.getAttribute("wire:key"),this.__livewireId=this.id,this.snapshotEncoded=a.getAttribute("wire:snapshot"),this.snapshot=JSON.parse(this.snapshotEncoded),!this.snapshot)throw"Snapshot missing on Livewire component with id: "+this.id;this.name=this.snapshot.memo.name,this.effects=JSON.parse(a.getAttribute("wire:effects")),this.originalEffects=Wf(this.effects),this.canonical=zp(Wf(this.snapshot.data)),this.ephemeral=zp(Wf(this.snapshot.data)),this.reactive=Alpine.reactive(this.ephemeral),this.queuedUpdates={},this.jsActions={},this.$wire=kK(this,this.reactive),a.$wire=this.$wire,this.cleanups=[],this.processEffects(this.effects)}addActionContext(a){(a.el||a.directive)&&RA({el:a.el,directive:a.directive})}intercept(a,e=null){return this.$wire.$intercept(a,e)}mergeNewSnapshot(a,e,t={}){let i=JSON.parse(a),n=Wf(this.canonical),r=this.applyUpdates(n,t),o=zp(Wf(i.data)),s=m3(r,o);this.snapshotEncoded=a,this.snapshot=i,this.effects=e,this.canonical=zp(Wf(i.data));let u=zp(Wf(i.data)),d=[],g=[];return Object.entries(s).forEach(([x,b])=>{b==="__rm__"?g.push(x):d.push(x)}),d.forEach(x=>{V0(this.reactive,x,Ml(u,x))}),g.sort((x,b)=>{let S=parseInt(x.split(".").pop())||0;return(parseInt(b.split(".").pop())||0)-S}).forEach(x=>{g3(this.reactive,x)}),s}queueUpdate(a,e){this.queuedUpdates[a]=e}mergeQueuedUpdates(a){return Object.entries(this.queuedUpdates).forEach(([e,t])=>{Object.entries(a).forEach(([i,n])=>{i.startsWith(e)&&delete a[i]}),a[e]=t}),this.queuedUpdates=[],a}getUpdates(){let a=jY(this.canonical,this.ephemeral);return this.mergeQueuedUpdates(a)}applyUpdates(a,e){for(let t in e)V0(a,t,e[t]);return a}replayUpdate(a,e){let t={...this.effects,html:e};this.mergeNewSnapshot(JSON.stringify(a),t),this.processEffects({html:e})}processEffects(a,e){ks("effects",this,a),ks("effect",{component:this,effects:a,cleanup:t=>this.addCleanup(t),request:e})}get children(){let a=this.el,e=[];return a.querySelectorAll("[wire\\:id]").forEach(t=>{if(t.parentElement.closest("[wire\\:id]")!==a)return;let n=t.__livewire;n&&e.push(n)}),e}get islands(){return this.snapshot.memo.islands}get parent(){return Iu(this.el.parentElement)}get isIsolated(){return this.snapshot.memo.isolate}get isLazy(){return this.snapshot.memo.lazyLoaded!==void 0}get hasBeenLazyLoaded(){return this.snapshot.memo.lazyLoaded===!0}get isLazyIsolated(){return!!this.snapshot.memo.lazyIsolated}getDeepChildrenWithBindings(a){this.getDeepChildren(e=>{(e.hasReactiveProps()||e.hasWireModelableBindings())&&a(e)})}hasReactiveProps(){return!!this.snapshot.memo.props}hasWireModelableBindings(){return!!this.snapshot.memo.bindings}getDeepChildren(a){this.children.forEach(e=>{a(e),e.getDeepChildren(a)})}getEncodedSnapshotWithLatestChildrenMergedIn(){let{snapshotEncoded:a,children:e,snapshot:t}=this,i={};return e.forEach(n=>{i[n.key]=[n.el.tagName.toLowerCase(),n.id]}),a.replace(/"children":\{[^}]*\}/,`"children":${JSON.stringify(i)}`)}inscribeSnapshotAndEffectsOnElement(){let a=this.el;a.setAttribute("wire:snapshot",this.snapshotEncoded);let e=this.originalEffects.listeners?{listeners:this.originalEffects.listeners}:{};this.originalEffects.url&&(e.url=this.originalEffects.url),this.originalEffects.scripts&&(e.scripts=this.originalEffects.scripts),a.setAttribute("wire:effects",JSON.stringify(e)),a.setAttribute("wire:key",this.key)}addJsAction(a,e){this.jsActions[a]=e}hasJsAction(a){return this.jsActions[a]!==void 0}getJsAction(a){return this.jsActions[a].bind(this.$wire)}getJsActions(){return this.jsActions}toJSON(){return{id:this.id,name:this.name,key:this.key,data:Object.fromEntries(Object.entries(this.ephemeral))}}addCleanup(a){this.cleanups.push(a)}cleanup(){for(delete this.el.__livewire;this.cleanups.length>0;)this.cleanups.pop()()}};function LK(a,{isMatch:e,hasReachedBoundary:t}){t||(t=()=>!1);let i=a;for(;i;){let n=i.previousSibling,r=[];for(;n;){if(Uv(n)&&r.push("a"),$0(n))if(r.length>0)r.pop();else{let o=ff(n);if(e(o))return new R3(n)}n=n.previousSibling}if(i=i.parentElement,i&&t({el:i}))break}return null}function P3(a,{isMatch:e,hasReachedBoundary:t}){t||(t=()=>!1);let i=null,n=a;return D3(n,(r,{skip:o,stop:s})=>{if(r.hasAttribute&&r!==n&&t({el:r}))return o();Array.from(r.childNodes).forEach(u=>{if($0(u)){let d=ff(u);e(d)&&(i=u,s())}})}),i&&new R3(i)}function $0(a){return a.nodeType===8&&a.textContent.startsWith("[if FRAGMENT")}function Uv(a){return a.nodeType===8&&a.textContent.startsWith("[if ENDFRAGMENT")}function D3(a,e){let t=!1,i=!1;e(a,{skip:()=>t=!0,stop:()=>i=!0}),!(t||i)&&Array.from(a.children).forEach(n=>{D3(n,e)})}var R3=class{constructor(a){this.startMarkerNode=a,this.metadata=ff(a)}get endMarkerNode(){return FK(this.startMarkerNode,this.metadata)}append(a,e){let t=document.createElement(a);t.innerHTML=e,Array.from(t.childNodes).forEach(i=>{this.endMarkerNode.before(i)})}prepend(a,e){let t=document.createElement(a);t.innerHTML=e,Array.from(t.childNodes).reverse().forEach(i=>{this.startMarkerNode.after(i)})}};function FK(a,e){let t=a;for(;t;){if(Uv(t)){let i=ff(t);if(Object.keys(e).every(n=>e[n]===i[n]))return t}t=t.nextSibling}return null}function O3(a){let e=/<!--\[if FRAGMENT\b.*?\]><!\[endif\]-->([\s\S]*)<!--\[if ENDFRAGMENT\b.*?\]><!\[endif\]-->/i,t=a.match(e);if(!t)throw new Error("Invalid fragment marker");let[i,n]=t;return n}function fS(a){let e=/\[if (FRAGMENT|ENDFRAGMENT):(.*?)\]/,t=a.match(e);if(!t)throw new Error("Invalid fragment marker");let[i,n,r]=t;return U3(r)}function ff(a){let e=/\[if (FRAGMENT|ENDFRAGMENT):(.*?)\]/,t=a.textContent.match(e);if(!t)throw new Error("Invalid fragment marker");let[i,n,r]=t;return U3(r)}function U3(a){let e={};return a.split("|").forEach(i=>{let[n,r]=i.split("=");e[n]=r}),e}var mh={};function PK(a){let e=new MK(a);if(mh[e.id])throw"Component already registered";return ks("component.init",{component:e,cleanup:i=>e.addCleanup(i)}),mh[e.id]=e,e}function DK(a){let e=mh[a];e&&(e.cleanup(),delete mh[a])}function RK(a){return!!mh[a]}function rB(a,e=!0){let t=mh[a];if(!t){if(e)throw"Component not found: "+a;return}return t}function Iu(a,e=!0){let t=$Y(a,(n,{stop:r})=>{if(n.__livewire)return r(n.__livewire.id);let o=[],s=XY(n,(u,{stop:d})=>{if(Uv(u)){if(ff(u).type!=="slot")return;o.push("a");return}if($0(u)){let g=ff(u);if(g.type!=="slot")return;if(o.length>0)o.pop();else return d(g.parent)}});if(s)return r(s)}),i=rB(t,e);if(!i){if(e)throw"Could not find Livewire component in DOM tree";return}return i}function N3(a){return Object.values(mh).filter(e=>a==e.name)}function OK(a){return N3(a).map(e=>e.$wire)}function UK(a){let e=mh[a];return e&&e.$wire}function NK(){return Object.values(mh)[0].$wire}function zK(){return Object.values(mh)}function z3(a,e,t){Mg(a.el,e,t)}function HK(a,e){Mg(window,a,e)}function qp(a,e,t){Mg(a.el,e,t,!1)}function H3(a,e,t,i){a.el.querySelectorAll(e).forEach(r=>{Mg(r,t,i,!1)})}function sB(a,e,t){N3(a).forEach(n=>{Mg(n.el,e,t,!1)})}function Q3(a,e,t,i){let n=iB(a,e);Mg(n,t,i,!1)}function QK(a,e,t){a.el.addEventListener(e,i=>{t(i.detail)})}function jK(a,e){let t=i=>{i.__livewire&&e(i.detail)};return window.addEventListener(a,t),()=>{window.removeEventListener(a,t)}}function Mg(a,e,t,i=!0){typeof t=="string"&&(t=[t]);let n=new CustomEvent(e,{bubbles:i,detail:t});n.__livewire={name:e,params:t,receivedBy:[]},a.dispatchEvent(n)}var VK=hr(MY()),GK=hr(LY());function WK(a){let e=()=>{let t,i;try{i=localStorage}catch(n){console.error(n),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let r=new Map;i={getItem:r.get.bind(r),setItem:r.set.bind(r)}}return a.interceptor((n,r,o,s,u)=>{let d=t||`_x_${s}`,g=zL(d,i)?HL(d,i):n;return o(g),a.effect(()=>{let x=r();QL(d,x,i),o(x)}),g},n=>{n.as=r=>(t=r,n),n.using=r=>(i=r,n)})};Object.defineProperty(a,"$persist",{get:()=>e()}),a.magic("persist",e),a.persist=(t,{get:i,set:n},r=localStorage)=>{let o=zL(t,r)?HL(t,r):i();n(o),a.effect(()=>{let s=i();QL(t,s,r),n(s)})}}function zL(a,e){return e.getItem(a)!==null}function HL(a,e){let t=e.getItem(a);if(t!==void 0)return JSON.parse(t)}function QL(a,e,t){t.setItem(a,JSON.stringify(e))}var $K=WK,XK=hr(FY()),YK=hr(PY()),KK=hr(DY()),qK=hr(RY());function AS(a){if(a!==void 0)return JSON.parse(JSON.stringify(a))}function ZK(a){let e={queued:!1,updates:{},add(t){Object.assign(e.updates,t),!e.queued&&(e.queued=!0,queueMicrotask(e.flush))},flush(){Object.keys(e.updates).length&&a(e.updates),e.queued=!1,e.updates={}}};return e}var JK=class{constructor(){this.url=null,this.errorHandlers={},this.batch=ZK(a=>{let e=this.getUrl();this.writeToHistory("replaceState",e,t=>(t.alpine={...t.alpine,...AS(a)},t)),this.url=null})}addErrorHandler(a,e){this.errorHandlers[a]=e}getUrl(){return this.url??new URL(window.location.href)}replaceState(a,e){this.url=a,this.batch.add(e)}pushState(a,e){this.batch.flush(),this.writeToHistory("pushState",a,t=>(t={alpine:{...t.alpine,...AS(e)}},t))}writeToHistory(a,e,t){let i=window.history.state||{};i.alpine||(i.alpine={}),i=t(i);try{window.history[a](i,"",e.toString())}catch(n){Object.values(this.errorHandlers).forEach(r=>typeof r=="function"&&r(n,e)),this.errorHandlers={},console.error(n)}}},eq=new JK,OA=eq,pS=class{constructor(a,e){this.url=a,this.html=e}},Yl={currentKey:null,currentUrl:null,keys:[],lookup:{},limit:10,has(a){return this.lookup[a]!==void 0},retrieve(a){let e=this.lookup[a];if(e===void 0)throw"No back button cache found for current location: "+a;return e},replace(a,e){this.has(a)?this.lookup[a]=e:this.push(a,e)},push(a,e){this.lookup[a]=e;let t=this.keys.indexOf(a);t>-1&&this.keys.splice(t,1),this.keys.unshift(a),this.trim()},trim(){for(let a of this.keys.splice(this.limit))delete this.lookup[a]}},m_=null;function j3(a){m_=a}function tq(){let a=OA.getUrl();V3(a,document.documentElement.outerHTML)}function iq(a,e){let t=document.documentElement.outerHTML;Yl.replace(a,new pS(e,t))}function nq(a,e){let t;a(i=>t=i),window.addEventListener("popstate",i=>{let n=i.state||{},r=n.alpine||{};if(m_&&(m_<200||m_>=300))return window.location.href=r.url;if(Object.keys(n).length!==0&&r.snapshotIdx)if(Yl.has(r.snapshotIdx)){let o=Yl.retrieve(r.snapshotIdx);e(o.html,o.url,Yl.currentUrl,Yl.currentKey),Yl.currentKey=r.snapshotIdx,Yl.currentUrl=o.url}else Yl.currentKey=null,Yl.currentUrl=null,t(r.url)})}function aq(a,e){rq(e,a)}function rq(a,e){G3("pushState",a,e)}function V3(a,e){G3("replaceState",a,e)}function G3(a,e,t){let i=e.toString()+"-"+Math.random();a==="pushState"?Yl.push(i,new pS(e,t)):Yl.replace(i=Yl.currentKey??i,new pS(e,t)),OA.addErrorHandler("navigate",n=>{n instanceof DOMException&&n.name==="SecurityError"&&console.error("Livewire: You can't use wire:navigate with a link to a different root domain: "+e)}),OA[a](e,{snapshotIdx:i,url:e.toString()}),Yl.currentKey=i,Yl.currentUrl=e}function sq(a,e){let t=r=>!r.isTrusted,i=r=>r.which>1||r.altKey||r.ctrlKey||r.metaKey||r.shiftKey,n=r=>r.which!==13||r.altKey||r.ctrlKey||r.metaKey||r.shiftKey;a.addEventListener("click",r=>{if(t(r)){r.preventDefault(),e(o=>o());return}i(r)||r.preventDefault()}),a.addEventListener("mousedown",r=>{i(r)||(r.preventDefault(),e(o=>{let s=u=>{u.preventDefault(),o(),a.removeEventListener("mouseup",s)};a.addEventListener("mouseup",s)}))}),a.addEventListener("keydown",r=>{n(r)||(r.preventDefault(),e(o=>o()))})}function oq(a,e=60,t){a.addEventListener("mouseenter",i=>{let n=setTimeout(()=>{t(i)},e),r=()=>{clearTimeout(n),a.removeEventListener("mouseleave",r)};a.addEventListener("mouseleave",r)})}function jL(a){return y_(a.getAttribute("href"))}function y_(a){return a!==null&&new URL(a,document.baseURI)}function Nv(a){return a.pathname+a.search+a.hash}function lq(a,e,t){let i=Nv(a);W3(i,(n,r,o)=>{j3(o),e(n,r)},t)}function W3(a,e,t){xK(a,e,t)}var Xl={},cq=3e4;function VL(a,e,t){let i=Nv(a);Xl[i]||(Xl[i]={finished:!1,html:null,whenFinished:()=>setTimeout(()=>delete Xl[i],cq)},W3(i,(n,r,o)=>{j3(o),e(n,r)},()=>{delete Xl[i],t()}))}function GL(a,e,t){let i=Xl[Nv(e)];i.html=a,i.finished=!0,i.finalDestination=t,i.whenFinished()}function uq(a,e,t){let i=Nv(a);if(!Xl[i])return t();if(Xl[i].finished){let n=Xl[i].html,r=Xl[i].finalDestination;return delete Xl[i],e(n,r)}else Xl[i].whenFinished=()=>{let n=Xl[i].html,r=Xl[i].finalDestination;delete Xl[i],e(n,r)}}var oB=hr(js());function WL(a){oB.default.mutateDom(()=>{a.querySelectorAll("[data-teleport-template]").forEach(e=>e._x_teleport.remove())})}function $L(a){oB.default.mutateDom(()=>{a.querySelectorAll("[data-teleport-target]").forEach(e=>e.remove())})}function XL(a){oB.default.walk(a,(e,t)=>{e._x_teleport&&(e._x_teleportPutBack(),t())})}function hq(a){return a.hasAttribute("data-teleport-target")}function YL(){document.body.setAttribute("data-scroll-x",document.body.scrollLeft),document.body.setAttribute("data-scroll-y",document.body.scrollTop),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:navigate\\:scroll]"]).forEach(a=>{a.setAttribute("data-scroll-x",a.scrollLeft),a.setAttribute("data-scroll-y",a.scrollTop)})}function KL(){let a=e=>{e.hasAttribute("data-scroll-x")?(e.scrollTo({top:Number(e.getAttribute("data-scroll-y")),left:Number(e.getAttribute("data-scroll-x")),behavior:"instant"}),e.removeAttribute("data-scroll-x"),e.removeAttribute("data-scroll-y")):window.scrollTo({top:0,left:0,behavior:"instant"})};queueMicrotask(()=>{queueMicrotask(()=>{a(document.body),document.querySelectorAll(["[x-navigate\\:scroll]","[wire\\:navigate\\:scroll]"]).forEach(a)})})}var gS=hr(js()),m0={};function qL(a){m0={},document.querySelectorAll("[x-persist]").forEach(e=>{m0[e.getAttribute("x-persist")]=e,a(e),gS.default.mutateDom(()=>{e.remove()})})}function ZL(a){let e=[];document.querySelectorAll("[x-persist]").forEach(t=>{let i=m0[t.getAttribute("x-persist")];i&&(e.push(t.getAttribute("x-persist")),i._x_wasPersisted=!0,a(i,t),gS.default.mutateDom(()=>{t.replaceWith(i)}))}),Object.entries(m0).forEach(([t,i])=>{e.includes(t)||gS.default.destroyTree(i)}),m0={}}function dq(a){return a.hasAttribute("x-persist")}var zv=hr(OY());zv.default.configure({minimum:.1,trickleSpeed:200,showSpinner:!1,parent:"body"});pq();var mS=!1;function fq(){mS=!0,setTimeout(()=>{mS&&zv.default.start()},150)}function Qx(){mS=!1,zv.default.done()}function Aq(){zv.default.remove()}function pq(){let a=document.createElement("style");a.innerHTML=`/* Make clicks pass-through */

    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: var(--livewire-progress-bar-color, #29d);

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    /* Fancy blur effect */
    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px var(--livewire-progress-bar-color, #29d), 0 0 5px var(--livewire-progress-bar-color, #29d);
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    /* Remove these to get rid of the spinner */
    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: var(--livewire-progress-bar-color, #29d);
      border-left-color: var(--livewire-progress-bar-color, #29d);
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    `;let e=_3();e&&(a.nonce=e),document.head.appendChild(a)}function JL(a){$3()&&a.querySelectorAll(":popover-open").forEach(e=>{e.setAttribute("data-navigate-popover-open","");let t=e.getAnimations();e._pausedAnimations=t.map(i=>({keyframes:i.effect.getKeyframes(),options:{duration:i.effect.getTiming().duration,easing:i.effect.getTiming().easing,fill:i.effect.getTiming().fill,iterations:i.effect.getTiming().iterations},currentTime:i.currentTime,playState:i.playState})),t.forEach(i=>i.pause())})}function eF(a){$3()&&a.querySelectorAll("[data-navigate-popover-open]").forEach(e=>{e.removeAttribute("data-navigate-popover-open"),queueMicrotask(()=>{e.isConnected&&(e.showPopover(),e.getAnimations().forEach(t=>t.finish()),e._pausedAnimations&&(e._pausedAnimations.forEach(({keyframes:t,options:i,currentTime:n,now:r,playState:o})=>{let s=e.animate(t,i);s.currentTime=n}),delete e._pausedAnimations))})})}function $3(){return typeof document.createElement("div").showPopover=="function"}var F1=[],X3=["data-csrf","nonce","aria-hidden"];function tF(a,e){let t=new DOMParser().parseFromString(a,"text/html"),i=t.documentElement,n=document.adoptNode(t.body),r=document.adoptNode(t.head);F1=F1.concat(Array.from(document.body.querySelectorAll("script")).map(u=>Z3(J3(u.outerHTML,X3))));let o=()=>{};mq(i),yq(r).finally(()=>{o()}),gq(n,F1);let s=document.body;document.body.replaceWith(n),Alpine.destroyTree(s),e(u=>o=u)}function gq(a,e){a.querySelectorAll("script").forEach(t=>{if(t.hasAttribute("data-navigate-once")){let i=Z3(J3(t.outerHTML,X3));if(e.includes(i))return}t.replaceWith(Y3(t))})}function mq(a){let e=document.documentElement;Array.from(a.attributes).forEach(t=>{const i=t.name,n=t.value;e.getAttribute(i)!==n&&e.setAttribute(i,n)}),Array.from(e.attributes).forEach(t=>{a.hasAttribute(t.name)||e.removeAttribute(t.name)})}function yq(a){let e=Array.from(document.head.children),t=e.map(r=>r.outerHTML),i=document.createDocumentFragment(),n=[];for(let r of Array.from(a.children))if(nF(r))if(t.includes(r.outerHTML))i.appendChild(r);else if(K3(r)&&_q(r,e)&&setTimeout(()=>window.location.reload()),q3(r))try{n.push(xq(Y3(r)))}catch{}else document.head.appendChild(r);for(let r of Array.from(document.head.children))nF(r)||r.remove();for(let r of Array.from(a.children))r.tagName.toLowerCase()!=="noscript"&&document.head.appendChild(r);return Promise.all(n)}async function xq(a){return new Promise((e,t)=>{a.src?(a.onload=()=>e(),a.onerror=()=>t()):e(),document.head.appendChild(a)})}function Y3(a){let e=document.createElement("script");e.textContent=a.textContent,e.async=a.async;for(let t of a.attributes)e.setAttribute(t.name,t.value);return e}function K3(a){return a.hasAttribute("data-navigate-track")}function _q(a,e){let[t,i]=iF(a);return e.some(n=>{if(!K3(n))return!1;let[r,o]=iF(n);if(r===t&&i!==o)return!0})}function iF(a){return(q3(a)?a.src:a.href).split("?")}function nF(a){return a.tagName.toLowerCase()==="link"&&a.getAttribute("rel").toLowerCase()==="stylesheet"||a.tagName.toLowerCase()==="style"||a.tagName.toLowerCase()==="script"}function q3(a){return a.tagName.toLowerCase()==="script"}function Z3(a){return a.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0),e&e),0)}function J3(a,e){let t=a;return e.forEach(i=>{const n=new RegExp(`${i}="[^"]*"|${i}='[^']*'`,"g");t=t.replace(n,"")}),t=t.replaceAll(" ",""),t.trim()}var Fp=!0;function vq(a){a.navigate=(t,i={})=>{let{preserveScroll:n=!1}=i,r=y_(t);Yh("alpine:navigate",{url:r,history:!1,cached:!1})||e(r,{preserveScroll:n})},a.navigate.disableProgressBar=()=>{Fp=!1},a.addInitSelector(()=>`[${a.prefixed("navigate")}]`),a.directive("navigate",(t,{modifiers:i})=>{let n=i.includes("hover"),r=i.includes("preserve-scroll");n&&oq(t,60,()=>{let o=jL(t);o&&VL(o,(s,u)=>{GL(s,o,u)},()=>{Fp&&Qx()})}),sq(t,o=>{let s=jL(t);s&&(VL(s,(u,d)=>{GL(u,s,d)},()=>{Fp&&Qx()}),o(()=>{Yh("alpine:navigate",{url:s,history:!1,cached:!1})||e(s,{preserveScroll:r})}))})});function e(t,{preserveScroll:i=!1,shouldPushToHistoryState:n=!0}){Fp&&fq(),wq(t,(r,o)=>{let s=[];Yh("alpine:navigating",{onSwap:u=>s.push(u)}),YL(),bq(),n&&tq(),aF(a,u=>{qL(d=>{WL(d),JL(d)}),n?aq(r,o):V3(o,r),tF(r,d=>{$L(document.body),ZL((g,x)=>{XL(g),eF(g)}),!i&&KL(),s.forEach(g=>g()),d(()=>{u(()=>{setTimeout(()=>{}),rF(a),Yh("alpine:navigated"),Fp&&Qx()})})})})},()=>{Fp&&Qx()})}nq(t=>{t(i=>{let n=y_(i);Yh("alpine:navigate",{url:n,history:!0,cached:!1})||e(n,{shouldPushToHistoryState:!1})})},(t,i,n,r)=>{let o=y_(i);if(Yh("alpine:navigate",{url:o,history:!0,cached:!0}))return;YL();let u=[];Yh("alpine:navigating",{onSwap:d=>u.push(d)}),iq(r,n),aF(a,d=>{qL(g=>{WL(g),JL(g)}),tF(t,()=>{Aq(),$L(document.body),ZL((g,x)=>{XL(g),eF(g)}),KL(),u.forEach(g=>g()),d(()=>{rF(a),Yh("alpine:navigated")})})})}),setTimeout(()=>{Yh("alpine:navigated")})}function wq(a,e,t){uq(a,e,()=>{lq(a,e,t)})}function aF(a,e){a.stopObservingMutations(),e(t=>{a.startObservingMutations(),queueMicrotask(()=>{t()})})}function Yh(a,e){let t=new CustomEvent(a,{cancelable:!0,bubbles:!0,detail:e});return document.dispatchEvent(t),t.defaultPrevented}function rF(a){a.initTree(document.body,void 0,(e,t)=>{e._x_wasPersisted&&t()})}function bq(){let a=function(e,t){Alpine.walk(e,(i,n)=>{dq(i)&&n(),hq(i)?n():t(i,n)})};Alpine.destroyTree(document.body,a)}function Cq(a){a.magic("queryString",(e,{interceptor:t})=>{let i,n=!1,r=!1;return t((o,s,u,d,g)=>{let x=i||d,{initial:b,replace:S,push:P,pop:I}=yS(x,o,n);return u(b),r?(a.effect(()=>P(s())),I(async O=>{u(O),await Promise.resolve()})):a.effect(()=>S(s())),b},o=>{o.alwaysShow=()=>(n=!0,o),o.usePush=()=>(r=!0,o),o.as=s=>(i=s,o)})}),a.history={track:yS}}function yS(a,e,t=!1,i=null){let{has:n,get:r,set:o,remove:s}=Bq(),u=OA.getUrl(),d=n(u,a),g=d?r(u,a):e,x=JSON.stringify(g),b=JSON.stringify(i),S=H=>JSON.stringify(H)===x,P=H=>JSON.stringify(H)===b;t&&(u=o(u,a,g)),sF(u,a,{value:g});let I=!1,O=(H,Q)=>{if(I)return;let Y=OA.getUrl();!t&&!d&&S(Q)||Q===void 0||!t&&P(Q)?Y=s(Y,a):Y=o(Y,a,Q),H(Y,a,{value:Q})};return{initial:g,replace(H){O(sF,H)},push(H){O(Sq,H)},pop(H){let Q=Y=>{!Y.state||!Y.state.alpine||Object.entries(Y.state.alpine).forEach(([Z,{value:J}])=>{if(Z!==a)return;I=!0;let re=H(J);re instanceof Promise?re.finally(()=>I=!1):I=!1})};return window.addEventListener("popstate",Q),()=>window.removeEventListener("popstate",Q)}}}function sF(a,e,t){OA.replaceState(a,{[e]:t})}function Sq(a,e,t){OA.pushState(a,{[e]:t})}function Bq(){return{has(a,e){let t=a.search;if(!t)return!1;let i=jx(t,e);return Object.keys(i).includes(e)},get(a,e){let t=a.search;return t?jx(t,e)[e]:!1},set(a,e,t){let i=jx(a.search,e);return i[e]=e4(AS(t)),a.search=oF(i),a},remove(a,e){let t=jx(a.search,e);return delete t[e],a.search=oF(t),a}}}function e4(a){if(!Z2(a))return a;for(let e in a)a[e]===null?delete a[e]:a[e]=e4(a[e]);return a}function oF(a){let e=n=>typeof n=="object"&&n!==null,t=(n,r={},o="")=>(Object.entries(n).forEach(([s,u])=>{let d=o===""?s:`${o}[${s}]`;u===null?r[d]="":e(u)?r={...r,...t(u,r,d)}:r[d]=encodeURIComponent(u).replaceAll("%20","+").replaceAll("%2C",",")}),r),i=t(a);return Object.entries(i).map(([n,r])=>`${n}=${r}`).join("&")}function jx(a,e){if(a=a.replace("?",""),a==="")return{};let t=(r,o,s)=>{let[u,d,...g]=r.split(".");if(!d)return s[r]=o;s[u]===void 0&&(s[u]=isNaN(d)?{}:[]),t([d,...g].join("."),o,s[u])},i=a.split("&").map(r=>r.split("=")),n=Object.create(null);return i.forEach(([r,o])=>{if(typeof o>"u")return;o=decodeURIComponent(o.replaceAll("+","%20"));let s=decodeURIComponent(r);if(!(s.includes("[")&&s.startsWith(e)))n[r]=o;else{let d=s.replaceAll("[",".").replaceAll("]","");t(d,o,n)}}),n}var Eq=hr(UY()),kq=hr(NY()),Ys=hr(js());function Tq(){setTimeout(()=>Iq()),E1(document,"livewire:init"),E1(document,"livewire:initializing"),Ys.default.plugin(Eq.default),Ys.default.plugin(Cq),Ys.default.plugin(XK.default),Ys.default.plugin(YK.default),Ys.default.plugin(KK.default),Ys.default.plugin(VK.default),Ys.default.plugin(qK.default),Ys.default.plugin(GK.default),Ys.default.plugin($K),Ys.default.plugin(vq),Ys.default.plugin(kq.default),Ys.default.addRootSelector(()=>"[wire\\:id]"),Ys.default.onAttributesAdded((a,e)=>{if(!Array.from(e).some(i=>tA(i.name)))return;let t=Iu(a,!1);t&&e.forEach(i=>{if(!tA(i.name))return;let n=kA(a,i.name);ks("directive.init",{el:a,component:t,directive:n,cleanup:r=>{Ys.default.onAttributeRemoved(a,n.raw,r)}})})}),Ys.default.interceptInit(Ys.default.skipDuringClone(a=>{if(!Array.from(a.attributes).some(i=>tA(i.name)))return;if(a.hasAttribute("wire:id")&&!a.__livewire&&!RK(a.getAttribute("wire:id"))){let i=PK(a);Ys.default.onAttributeRemoved(a,"wire:id",()=>{DK(i.id)})}let e=Array.from(a.getAttributeNames()).filter(i=>tA(i)).map(i=>kA(a,i));e.forEach(i=>{ks("directive.global.init",{el:a,directive:i,cleanup:n=>{Ys.default.onAttributeRemoved(a,i.raw,n)}})});let t=Iu(a,!1);t&&(ks("element.init",{el:a,component:t}),e.forEach(i=>{ks("directive.init",{el:a,component:t,directive:i,cleanup:n=>{Ys.default.onAttributeRemoved(a,i.raw,n)}})}))},a=>{if(!Array.from(a.attributes).some(t=>tA(t.name)))return;Array.from(a.getAttributeNames()).filter(t=>tA(t)).map(t=>kA(a,t)).forEach(t=>{ks("directive.global.init",{el:a,directive:t,cleanup:i=>{Ys.default.onAttributeRemoved(a,t.raw,i)}})})})),Ys.default.start(),setTimeout(()=>window.Livewire.initialRenderIsFinished=!0),E1(document,"livewire:initialized")}function Iq(){let a=document.querySelector("script[data-update-uri][data-csrf]");if(!a)return;let e=a.closest("[wire\\:id]");e&&console.warn("Livewire: missing closing tags found. Ensure your template elements contain matching closing tags.",e)}var lB=hr(js());Qs("effect",({component:a,effects:e})=>{Mq(a,e.listeners||[])});function Mq(a,e){e.forEach(t=>{let i=n=>{n.__livewire&&n.__livewire.receivedBy.push(a),a.$wire.call("__dispatch",t,n.detail||{})};window.addEventListener(t,i),a.addCleanup(()=>window.removeEventListener(t,i)),a.el.addEventListener(t,n=>{n.__livewire&&(n.bubbles||(n.__livewire&&n.__livewire.receivedBy.push(a.id),a.$wire.call("__dispatch",t,n.detail||{})))})})}var Lq=hr(js()),t4=hr(js());function xS(a,e,t={}){if(!e||e.trim()==="")return;let i=t4.default.evaluateRaw(a,e,t);return i instanceof Promise&&i.catch(()=>{}),i}function mf(a,e,t={}){if(!e||e.trim()==="")return;let i=Fq(e);try{let n=t4.default.evaluateRaw(a,i,t);return n instanceof Promise&&n._livewireAction&&n.catch(()=>{}),n}catch(n){console.warn(`Livewire Expression Error: ${n.message}

${e?'Expression: "'+e+`"

`:""}`,a),console.error(n)}}function Fq(a){let e=["JSON","true","false","null","undefined","this","$wire","$event"],t=[],i=a.replace(/(["'`])(?:(?!\1)[^\\]|\\.)*\1/g,n=>(t.push(n),`___${t.length-1}___`));return i=i.replace(/(^|[^.\w$])(\$?[a-zA-Z_]\w*)/g,(n,r,o,s)=>e.includes(o)||/^___\d+___$/.test(o)||i[s+n.length]===":"?r+o:r+"$wire."+o),i.replace(/___(\d+)___/g,(n,r)=>t[r])}var Pp=new WeakMap,rv=new Set;Qs("payload.intercept",async({assets:a})=>{if(a)for(let[e,t]of Object.entries(a))await Rq(e,async()=>{await Oq(t)})});Qs("component.init",({component:a})=>{let e=a.snapshot.memo.assets;e&&e.forEach(t=>{rv.has(t)||rv.add(t)})});Qs("effect",({component:a,effects:e})=>{let t=e.scripts;t&&Object.entries(t).forEach(([i,n])=>{Pq(a,i,()=>{let r=Dq(n);r=r.includes("await")?`(async()=>{ ${r} })()`:`(()=>{ ${r} })()`,Lq.default.dontAutoEvaluateFunctions(()=>{xS(a.el,r,{context:a.$wire,scope:{$wire:a.$wire,$js:a.$wire.js}})})})})});function Pq(a,e,t){if(Pp.has(a)&&Pp.get(a).includes(e))return;t(),Pp.has(a)||Pp.set(a,[]);let i=Pp.get(a);i.push(e),Pp.set(a,i)}function Dq(a){let t=/<script\b[^>]*>([\s\S]*?)<\/script>/gm.exec(a);return t&&t[1]?t[1].trim():""}async function Rq(a,e){rv.has(a)||(rv.add(a),await e())}async function Oq(a){let e=new DOMParser().parseFromString(a,"text/html"),t=document.adoptNode(e.head);for(let i of t.children)try{await Uq(i)}catch{}}async function Uq(a){return new Promise((e,t)=>{if(Nq(a)){let i=zq(a);i.src?(i.onload=()=>e(),i.onerror=()=>t()):e(),document.head.appendChild(i)}else document.head.appendChild(a),e()})}function Nq(a){return a.tagName.toLowerCase()==="script"}function zq(a){let e=document.createElement("script");e.textContent=a.textContent,e.async=a.async;for(let t of a.attributes)e.setAttribute(t.name,t.value);return e}var Hq=hr(js());Hq.default.magic("js",a=>Iu(a).$wire.js);Qs("effect",({component:a,effects:e})=>{let t=e.js,i=e.xjs;t&&Object.entries(t).forEach(([n,r])=>{IK(a,n,()=>{xS(a.el,r)})}),i&&i.forEach(({expression:n,params:r})=>{r=Object.values(r),xS(a.el,n,{scope:a.jsActions,params:r})})});var i4=hr(js()),Qq="match-element";I3("transition",({el:a,directive:e,cleanup:t})=>{});function lF(a){a.querySelectorAll("[wire\\:transition]").forEach(e=>{e.style.viewTransitionName||(e.style.viewTransitionName=e.getAttribute("wire:transition")||Qq)})}function jq(a){a.querySelectorAll("[wire\\:transition]").forEach(e=>{e.style.viewTransitionName=""})}async function n4(a,e,t,i={}){if(i.skip||!a.querySelector("[wire\\:transition]")&&!e.querySelector("[wire\\:transition]")||typeof document.startViewTransition!="function"||document.querySelector("dialog:modal"))return t();lF(a);let n=document.createElement("style");n.textContent=`
        @media (prefers-reduced-motion: reduce) {
            ::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*) {
                animation: none !important;
            }
        }

        ::view-transition-old(root) {
            animation: none !important;
            opacity: 0 !important;
        }

        ::view-transition-new(root) {
            animation: none !important;
            opacity: 1 !important;
        }
    `,document.head.appendChild(n);let r=()=>{t(),lF(a)},o={update:r};i.type&&(o.types=[i.type]);let s=()=>{n.remove(),jq(a)},u=d=>{let g=new MutationObserver(()=>{document.querySelector("dialog:modal")&&(d.skipTransition(),g.disconnect())});g.observe(document.documentElement,{attributes:!0,attributeFilter:["open"],subtree:!0}),d.finished.finally(()=>g.disconnect())};try{let d=document.startViewTransition(o);u(d),d.finished.finally(s),await d.updateCallbackDone}catch{let g=document.startViewTransition(r);u(g),g.finished.finally(s),await g.updateCallbackDone}}async function Vq(a,e,t){let i=e.parentElement?e.parentElement.tagName.toLowerCase():"div",n=customElements.get(i);i=n?n.name:i;let r=document.createElement(i);r.innerHTML=t;let o;try{o=Iu(e.parentElement)}catch{}o&&(r.__livewire=o);let s=r.firstElementChild;s.setAttribute("wire:snapshot",a.snapshotEncoded);let u={...a.effects};delete u.html,s.setAttribute("wire:effects",JSON.stringify(u)),s.__livewire=a,ks("morph",{el:e,toEl:s,component:a});let d={};e.querySelectorAll("[wire\\:id]").forEach(x=>{d[x.getAttribute("wire:id")]=x}),s.querySelectorAll("[wire\\:id]").forEach(x=>{if(x.hasAttribute("wire:snapshot"))return;let b=x.getAttribute("wire:id"),S=d[b];S&&x.replaceWith(S.cloneNode(!0))});let g=a.effects.transition||{};await n4(e,s,()=>{i4.default.morph(e,s,r4(a))},g),ks("morphed",{el:e,component:a})}async function a4(a,e,t,i){let n=e.parentElement,r=n?n.tagName.toLowerCase():"div",o=document.createElement(r);o.innerHTML=i,o.__livewire=a;let s=a.el.parentElement,u=s?s.tagName.toLowerCase():"div",d;try{d=s?Iu(s):null}catch{}if(d){let P=document.createElement(u);P.appendChild(o),P.__livewire=d}ks("island.morph",{startNode:e,endNode:t,component:a});let g=a.effects.transition||{},x=!1,b=e.nextSibling;for(;b&&b!==t;){if(b.nodeType===1&&(b.hasAttribute?.("wire:transition")||b.querySelector?.("[wire\\:transition]"))){x=!0;break}b=b.nextSibling}let S=x?n:document.createElement("div");await n4(S,o,()=>{i4.default.morphBetween(e,t,o,r4(a))},g),ks("island.morphed",{startNode:e,endNode:t,component:a})}function r4(a){return{updating:(e,t,i,n,r,o)=>{if($0(e)&&$0(t)){let s=ff(t);s.mode!=="morph"&&o(u=>Uv(u)?ff(u).token===s.token:!1)}if(!Dp(e)){if(ks("morph.updating",{el:e,toEl:t,component:a,skip:n,childrenOnly:i,skipChildren:r,skipUntil:o}),e.__livewire_replace===!0&&(e.innerHTML=t.innerHTML),e.__livewire_replace_self===!0)return e.outerHTML=t.outerHTML,n();if(e.__livewire_ignore===!0)return n();if(e.__livewire_ignore_self===!0&&i(),e.__livewire_ignore_children===!0)return r();if(cF(e)&&e.getAttribute("wire:id")!==a.id)return n();cF(e)&&(t.__livewire=a)}},updated:e=>{Dp(e)||ks("morph.updated",{el:e,component:a})},removing:(e,t)=>{Dp(e)||ks("morph.removing",{el:e,component:a,skip:t})},removed:e=>{Dp(e)||ks("morph.removed",{el:e,component:a})},adding:e=>{ks("morph.adding",{el:e,component:a})},added:e=>{Dp(e)||(Iu(e).id,ks("morph.added",{el:e}))},key:e=>{if(!Dp(e))return e.hasAttribute("wire:id")?e.getAttribute("wire:id"):e.hasAttribute("wire:key")?e.getAttribute("wire:key"):e.id},lookahead:!1}}function Dp(a){return typeof a.hasAttribute!="function"}function cF(a){return a.hasAttribute("wire:id")}vh(({message:a,onSuccess:e})=>{e(({payload:t,onMorph:i})=>{i(async()=>{let n=t.effects.html;n&&await Vq(a.component,a.component.el,n)})})});Qs("effect",({component:a,effects:e})=>{queueMicrotask(()=>{queueMicrotask(()=>{queueMicrotask(()=>{Gq(a,e.dispatches||[])})})})});function Gq(a,e){e.forEach(({name:t,params:i={},self:n=!1,component:r,ref:o,el:s})=>{n?qp(a,t,i):r?sB(r,t,i):o?Q3(a,o,t,i):s?H3(a,s,t,i):z3(a,t,i)})}var Wq=hr(js()),_S=new zY;Qs("directive.init",({el:a,directive:e,cleanup:t,component:i})=>setTimeout(()=>{e.value==="submit"&&a.addEventListener("submit",()=>{let n=e.expression.startsWith("$parent")?i.parent.id:i.id,r=$q(a);_S.add(n,r)})}));Qs("commit",({component:a,respond:e})=>{e(()=>{_S.each(a.id,t=>t()),_S.remove(a.id)})});function $q(a){let e=[];return Wq.default.walk(a,(t,i)=>{if(a.contains(t)){if(t.hasAttribute("wire:ignore"))return i();Xq(t)?e.push(Kq(t)):Yq(t)&&e.push(qq(t))}}),()=>{for(;e.length>0;)e.shift()()}}function Xq(a){let e=a.tagName.toLowerCase(),t=["hidden","range","color","checkbox","radio","file","submit","image","reset","button"];return!!(e==="select"||e==="button"&&a.type==="submit"||e==="input"&&t.includes(a.type))}function Yq(a){return["input","textarea"].includes(a.tagName.toLowerCase())}function Kq(a){let e=a.disabled?()=>{}:()=>a.disabled=!1;return a.disabled=!0,e}function qq(a){let e=a.readOnly?()=>{}:()=>a.readOnly=!1;return a.readOnly=!0,e}Qs("commit",({succeed:a})=>{a(({effects:e})=>{let t=e.download;if(!t)return;let i=window.webkitURL||window.URL,n=i.createObjectURL(Zq(t.content,t.contentType)),r=document.createElement("a");r.style.display="none",r.href=n,r.download=t.name,document.body.appendChild(r),r.click(),setTimeout(function(){i.revokeObjectURL(n)},0)})});function Zq(a,e="",t=512){const i=atob(a),n=[];e===null&&(e="");for(let r=0;r<i.length;r+=t){let o=i.slice(r,r+t),s=new Array(o.length);for(let d=0;d<o.length;d++)s[d]=o.charCodeAt(d);let u=new Uint8Array(s);n.push(u)}return new Blob(n,{type:e})}var uF=hr(js());Qs("effect",({component:a,effects:e,cleanup:t})=>{let i=e.url;i&&Object.entries(i).forEach(([n,r])=>{let{name:o,as:s,use:u,alwaysShow:d,except:g}=Jq(n,r);s||(s=o);let x=[!1,null,void 0].includes(g)?Ml(a.ephemeral,o):g,{replace:b,push:S,pop:P}=yS(s,x,d,g);if(u==="replace"){let I=uF.default.effect(()=>{b(Ml(a.reactive,o))});t(()=>uF.default.release(I))}else if(u==="push"){let I=Qs("commit",({component:H,succeed:Q})=>{if(a!==H)return;let Y=Ml(a.canonical,o);Q(()=>{let Z=Ml(a.canonical,o);JSON.stringify(Y)!==JSON.stringify(Z)&&S(Z)})}),O=P(async H=>{await a.$wire.set(o,H),document.querySelectorAll("input").forEach(Q=>{Q._x_forceModelUpdate&&Q._x_forceModelUpdate(Q._x_model.get())})});t(()=>{I(),O()})}})});function Jq(a,e){let t={use:"replace",alwaysShow:!1};return typeof e=="string"?{...t,name:e,as:e}:{...{...t,name:a,as:a},...e}}Qs("request",({options:a})=>{window.Echo&&(a.headers["X-Socket-ID"]=window.Echo.socketId())});Qs("effect",({component:a,effects:e})=>{(e.listeners||[]).forEach(i=>{if(i.startsWith("echo")){if(typeof window.Echo>"u"){console.warn("Laravel Echo cannot be found");return}let n=i.split(/(echo:|echo-)|:|,/);n[1]=="echo:"&&n.splice(2,0,"channel",void 0),n[2]=="notification"&&n.push(void 0,void 0);let[r,o,s,u,d,g,x]=n;if(["channel","private","encryptedPrivate"].includes(s)){let b=S=>qp(a,i,[S]);window.Echo[s](d).listen(x,b),a.addCleanup(()=>{window.Echo[s](d).stopListening(x,b)})}else if(s=="presence")if(["here","joining","leaving"].includes(x))window.Echo.join(d)[x](b=>{qp(a,i,[b])}),a.addCleanup(()=>{window.Echo.leave(d)});else{let b=S=>qp(a,i,[S]);window.Echo.join(d).listen(x,b),a.addCleanup(()=>{window.Echo.leave(d)})}else s=="notification"?(window.Echo.private(d).notification(b=>{qp(a,i,[b])}),a.addCleanup(()=>{window.Echo.private(d).stopListening(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated")})):console.warn("Echo channel type not yet supported")}})});vh(({message:a,onStream:e})=>{e(({json:t})=>{let{id:i,type:n,name:r,el:o,ref:s,content:u,mode:d}=t;if(n==="island")return;let g=rB(i),x=null;if(n==="directive"){const b=g.el.querySelector(`[wire\\:stream\\.replace="${r}"]`);b?(x=b,d="replace"):x=g.el.querySelector(`[wire\\:stream="${r}"]`)}else n==="ref"?x=iB(g,s):n==="element"&&(x=g.el.querySelector(o));x&&(d==="replace"?x.innerHTML=u:x.insertAdjacentHTML("beforeend",u))})});document.addEventListener("livewire:initialized",()=>{tZ()&&Alpine.navigate.disableProgressBar()});document.addEventListener("alpine:navigate",a=>cB("livewire:navigate",a));document.addEventListener("alpine:navigating",a=>cB("livewire:navigating",a));document.addEventListener("alpine:navigated",a=>cB("livewire:navigated",a));function cB(a,e){let t=new CustomEvent(a,{cancelable:!0,bubbles:!0,detail:e.detail});document.dispatchEvent(t),t.defaultPrevented&&e.preventDefault()}function eZ(a,e,t){a.redirectUsingNavigate?Alpine.navigate(e):t()}function tZ(){return!!(document.querySelector("[data-no-progress-bar]")||window.livewireScriptConfig&&window.livewireScriptConfig.progressBar==="data-no-progress-bar")}Qs("effect",({effects:a,request:e})=>{if(!a.redirect)return;let t=!1;if(e.invokeOnRedirect({url:a.redirect,preventDefault:()=>t=!0}),t)return;let i=a.redirect;eZ(a,i,()=>{window.location.href=i})});Ov(({action:a})=>{let e=a.origin;if(!e)return;let{el:t,directive:i}=e,n=Array.from(t.attributes).find(o=>o.name.startsWith("wire:island"));if(n){let o=n.value,s=n.name.split("."),u=s.includes("prepend"),d=s.includes("append"),g=u?"prepend":d?"append":"morph";a.mergeMetadata({island:{name:o,mode:g}});return}let r=s4(e.el);r&&a.mergeMetadata({island:{name:r.metadata.name,mode:"morph"}})});vh(({message:a,onSuccess:e,onStream:t})=>{t(({json:i})=>{let{type:n,islandFragment:r}=i;n==="island"&&hF(a.component,r)}),e(({payload:i,onMorph:n})=>{n(async()=>{(i.effects.islandFragments||[]).forEach(async o=>{await hF(a.component,o)})})})});function s4(a){return LK(a,{isMatch:({type:e})=>e==="island"})}async function hF(a,e){let t=fS(e),i=P3(a.el,{isMatch:({type:d,token:g})=>d===t.type&&g===t.token});if(!i)return;let n=fS(e),r=O3(e),o=i.startMarkerNode.parentElement,s=o?o.tagName.toLowerCase():"div",u=n.mode||"morph";u==="morph"?await a4(a,i.startMarkerNode,i.endMarkerNode,r):u==="append"?i.append(s,r):u==="prepend"&&i.prepend(s,r)}vh(({message:a,onSuccess:e,onStream:t})=>{e(({payload:i,onMorph:n})=>{n(async()=>{(i.effects.slotFragments||[]).forEach(async o=>{await iZ(a.component,o)})})})});async function iZ(a,e){let t=fS(e),i=rB(t.id),n=P3(i.el,{isMatch:({name:o,token:s})=>o===t.name&&s===t.token});if(!n)return;let r=O3(e);await a4(i,n.startMarkerNode,n.endMarkerNode,r)}vh(({message:a,onSend:e,onFinish:t})=>{let i=[];e(()=>{a.actions.forEach(n=>{let r=n.origin;if(!r)return;let o=r.hasOwnProperty("targetEl")?r.targetEl:r.el;o&&(o.setAttribute("data-loading","true"),i.push(()=>{o.removeAttribute("data-loading")}))})}),t(()=>i.forEach(n=>n()))});var nZ=hr(js());nZ.default.addInitSelector(()=>"[wire\\:current]");var vS=new Map;document.addEventListener("livewire:navigated",()=>{vS.forEach(a=>a(new URL(window.location.href)))});I3("current",({el:a,directive:e,cleanup:t})=>{let i=e.expression,n={exact:e.modifiers.includes("exact"),strict:e.modifiers.includes("strict"),ignore:e.modifiers.includes("ignore")};if(n.ignore||i.startsWith("#")||!a.hasAttribute("href"))return;let r=a.getAttribute("href"),o=new URL(r,window.location.href),s=i.split(" ").filter(String),u=d=>{o4(o,d,n)?(a.classList.add(...s),a.setAttribute("data-current","")):(a.classList.remove(...s),a.removeAttribute("data-current"))};u(new URL(window.location.href)),vS.set(a,u),t(()=>vS.delete(a))});function o4(a,e,t={}){if(a.hostname!==e.hostname)return!1;let i=t.strict?a.pathname:a.pathname.replace(/\/+$/,""),n=t.strict?e.pathname:e.pathname.replace(/\/+$/,"");if(t.exact)return i===n;let r=i.split("/"),o=n.split("/");for(let s=0;s<r.length;s++)if(r[s]!==o[s])return!1;return!0}var x_=hr(js()),l4=["[wire\\:navigate]","[wire\\:navigate\\.hover]","[wire\\:navigate\\.preserve-scroll]","[wire\\:navigate\\.preserve-scroll\\.hover]","[wire\\:navigate\\.hover\\.preserve-scroll]"],aZ=l4.join(", "),rZ={"wire:navigate":"x-navigate","wire:navigate.hover":"x-navigate.hover","wire:navigate.preserve-scroll":"x-navigate.preserve-scroll","wire:navigate.preserve-scroll.hover":"x-navigate.preserve-scroll.hover","wire:navigate.hover.preserve-scroll":"x-navigate.hover.preserve-scroll"};l4.forEach(a=>{x_.default.addInitSelector(()=>a)});x_.default.interceptInit(x_.default.skipDuringClone(a=>{for(let[e,t]of Object.entries(rZ))if(a.hasAttribute(e)){x_.default.bind(a,{[t]:!0});break}}));document.addEventListener("alpine:navigating",()=>{Livewire.all().forEach(a=>{a.inscribeSnapshotAndEffectsOnElement()})});document.addEventListener("livewire:navigated",()=>{c4()});document.addEventListener("DOMContentLoaded",()=>{c4()});function c4(){let a=new URL(window.location.href),e={exact:!0};document.querySelectorAll(aZ).forEach(t=>{if(Array.from(t.attributes).some(n=>n.name.startsWith("wire:current")))return;let i=t.getAttribute("href");if(!(!i||i.startsWith("#")))try{let n=new URL(i,window.location.href);o4(n,a,e)?t.setAttribute("data-current",""):t.removeAttribute("data-current")}catch{}})}vh(({message:a,onSuccess:e})=>{e(({onSync:t,onMorph:i,onRender:n})=>{a.actions.forEach(r=>{let o=r.origin;if(!o||!o.directive||!o.directive.modifiers.includes("preserve-scroll"))return;let u,d;t(()=>{u=document.body.scrollHeight,d=window.scrollY}),i(async()=>{let g=document.body.scrollHeight-u;window.scrollTo(0,d+g),u=null,d=null})})})});var dF=hr(js());dF.default.interceptInit(a=>{for(let e=0;e<a.attributes.length;e++)if(a.attributes[e].name.startsWith("wire:intersect")){let{name:t,value:i}=a.attributes[e],n=kA(a,t),r=t.split("wire:intersect")[1],o=i.trim();dF.default.bind(a,{["x-intersect"+r](s){n.eventContext=s,(a.closest("[wire\\:id]")?.__livewire).addActionContext({el:a,directive:n}),mf(a,o)}})}});var P1=hr(js());P1.default.interceptInit(a=>{for(let e=0;e<a.attributes.length;e++)if(a.attributes[e].name.startsWith("wire:sort:item")){let t=kA(a,a.attributes[e].name),i=t.modifiers.join("."),n=t.expression;P1.default.bind(a,{["x-sort:item"+i](){return n}})}else{if(a.attributes[e].name.startsWith("wire:sort:group-id"))continue;if(a.attributes[e].name.startsWith("wire:sort:group"))return;if(a.attributes[e].name.startsWith("wire:sort")){let t=kA(a,a.attributes[e].name),i=t.rawName.replace("wire:","x-");t.modifiers.includes("async")&&(i=i.replace(".async","")),t.modifiers.includes("renderless")&&(i=i.replace(".renderless","")),t.modifiers.includes("prepend")&&(i=i.replace(".prepend","")),t.modifiers.includes("append")&&(i=i.replace(".append",""));let n=t.expression;P1.default.bind(a,{[i](){RA({el:a,directive:t});let r=[this.$item,this.$position],o={$item:this.$item,$position:this.$position},s=a.getAttribute("wire:sort:group-id");s!==null&&(r.push(s),o.$id=s),mf(a,n,{scope:o,params:r})}})}}});var Vx=new Set;Qs("effect",({component:a,effects:e})=>{if(e.styleModule){let t=a.name.replace(/\./g,"--").replace(/::/g,"---").replace(/:/g,"----"),i=`${lS()}/css/${t}.css?v=${e.styleModule}`;Vx.has(i)||(Vx.add(i),fF(i))}if(e.globalStyleModule){let t=a.name.replace(/\./g,"--").replace(/::/g,"---").replace(/:/g,"----"),i=`${lS()}/css/${t}.global.css?v=${e.globalStyleModule}`;Vx.has(i)||(Vx.add(i),fF(i))}});function fF(a){let e=document.createElement("link");e.rel="stylesheet",e.href=a;let t=_3();t&&(e.nonce=t),document.head.appendChild(e)}var sZ=new q2;function oZ(a,e){sZ.each(a,t=>{t.callback(),t.callback=()=>{}}),e()}var lZ=hr(js());Qs("directive.init",({el:a,directive:e,cleanup:t,component:i})=>{if(["snapshot","effects","model","init","loading","poll","ignore","id","data","key","target","dirty","sort"].includes(e.value)||wK(e.value))return;let n=e.rawName.replace("wire:","x-on:");e.value==="submit"&&!e.modifiers.includes("prevent")&&(n=n+".prevent"),e.modifiers.includes("async")&&(n=n.replace(".async","")),e.modifiers.includes("renderless")&&(n=n.replace(".renderless","")),e.modifiers.includes("prepend")&&(n=n.replace(".prepend","")),e.modifiers.includes("append")&&(n=n.replace(".append",""));let r=lZ.default.bind(a,{[n](o){e.eventContext=o,e.wire=i.$wire;let s=()=>{oZ(i,()=>{if(e.value==="submit"){let g=o.submitter||a.querySelector('button[type="submit"], input[type="submit"]');RA({el:a,directive:e,targetEl:g})}else RA({el:a,directive:e});let u=o.detail?.livewire;u?.interceptAction&&fK(u.interceptAction);let d=e.expression;if(u?.defaultParams!==void 0&&!d.includes("(")){let g=Array.isArray(u.defaultParams)?u.defaultParams:[u.defaultParams];d=d+"("+g.map(x=>JSON.stringify(x)).join(", ")+")"}mf(a,d,{scope:{$event:o}})})};a.__livewire_confirm?a.__livewire_confirm(()=>{s()},()=>{o.stopImmediatePropagation()}):s()}});t(r)});wh("confirm",({el:a,directive:e})=>{let t=e.expression,i=e.modifiers.includes("prompt");t=t.replaceAll("\\n",`
`),t===""&&(t="Are you sure?"),a.__livewire_confirm=(n,r)=>{if(i){let[o,s]=t.split("|");s?prompt(o)===s?n():r():console.warn("Livewire: Must provide expectation with wire:confirm.prompt")}else confirm(t)?n():r()}});var wS=new Set,bS=new Set;window.addEventListener("offline",()=>wS.forEach(a=>a()));window.addEventListener("online",()=>bS.forEach(a=>a()));wh("offline",({el:a,directive:e,cleanup:t})=>{let i=()=>AA(a,e,!0),n=()=>AA(a,e,!1);wS.add(i),bS.add(n),t(()=>{wS.delete(i),bS.delete(n)})});wh("loading",({el:a,directive:e,component:t,cleanup:i})=>{let{targets:n,inverted:r}=fZ(a),[o,s]=cZ(e),u=uZ(t,a,n,r,[()=>o(()=>AA(a,e,!0)),()=>s(()=>AA(a,e,!1))]),d=hZ(t,n,[()=>o(()=>AA(a,e,!0)),()=>s(()=>AA(a,e,!1))]);i(()=>{u(),d()})});function cZ(a){if(!a.modifiers.includes("delay")||a.modifiers.includes("none"))return[r=>r(),r=>r()];let e=200,t={shortest:50,shorter:100,short:150,default:200,long:300,longer:500,longest:1e3};Object.keys(t).some(r=>{if(a.modifiers.includes(r))return e=t[r],!0});let i,n=!1;return[r=>{i=setTimeout(()=>{r(),n=!0},e)},async r=>{n?(await r(),n=!1):clearTimeout(i)}]}function uZ(a,e,t,i,[n,r]){return vh(({message:o,onSend:s,onSuccess:u,onFinish:d})=>{if(a!==o.component)return;if(t.length===0){let b=s4(e);if(b&&!o.hasActionForIsland(b)||!b&&!o.hasActionForComponent())return}let g=!0,x=!1;s(({payload:b})=>{t.length>0&&dZ(b,t)===i&&(g=!1),g&&n()}),u(({onEffect:b})=>{b(()=>{g&&!x&&(r(),x=!0)})}),d(()=>{g&&!x&&(r(),x=!0)})})}function hZ(a,e,[t,i]){let n=u=>{let{id:d,property:g}=u.detail;return d!==a.id||e.length>0&&!e.map(x=>x.target).includes(g)},r=k1(window,"livewire-upload-start",u=>{n(u)||t()}),o=k1(window,"livewire-upload-finish",u=>{n(u)||i()}),s=k1(window,"livewire-upload-error",u=>{n(u)||i()});return()=>{r(),o(),s()}}function dZ(a,e){let{updates:t,calls:i}=a;return e.some(({target:n,params:r})=>{if(r)return i.some(({method:s,params:u})=>n===s&&r===u4(JSON.stringify(u)));if(Object.keys(t).some(s=>s.includes(".")&&s.split(".")[0]===n?!0:s===n)||i.map(s=>s.method).includes(n))return!0})}function fZ(a){let e=nB(a),t=[],i=!1;if(e.has("target")){let n=e.get("target");n.modifiers.includes("except")&&(i=!0),n.methods.forEach(({method:r,params:o})=>{t.push({target:r,params:o&&o.length>0?u4(JSON.stringify(o)):void 0})})}else{let n=["init","dirty","offline","navigate","target","loading","poll","ignore","key","id"];e.all().filter(r=>!n.includes(r.value)).map(r=>r.expression.split("(")[0]).forEach(r=>t.push({target:r}))}return{targets:t,inverted:i}}function u4(a){return btoa(encodeURIComponent(a))}wh("replace",({el:a,directive:e})=>{e.modifiers.includes("self")?a.__livewire_replace_self=!0:a.__livewire_replace=!0});wh("ignore",({el:a,directive:e})=>{e.modifiers.includes("self")?a.__livewire_ignore_self=!0:e.modifiers.includes("children")?a.__livewire_ignore_children=!0:a.__livewire_ignore=!0});var AF=hr(js());AF.default.interceptInit(a=>{a.hasAttribute("wire:cloak")&&AF.default.mutateDom(()=>a.removeAttribute("wire:cloak"))});var AZ=hr(js());wh("model",({el:a,directive:e,component:t,cleanup:i})=>{t=Iu(a);let{expression:n,modifiers:r}=e;if(!n)return console.warn("Livewire: [wire:model] is missing a value.",a);if(h4(t,n))return console.warn('Livewire: [wire:model="'+n+'"] property does not exist on component: ['+t.name+"]",a);if(a.type&&a.type.toLowerCase()==="file")return YY(a,n,t,i);let o=r.indexOf("live"),s=o!==-1,u=r.includes("lazy")&&!s,d=s||u,g=s&&!u?r.slice(0,o):r.slice(),x=s&&!u?r.slice(o+1):[];u&&(g=g.filter(re=>re!=="lazy"),x.push("change")),g.includes("deep")||x.includes("deep")||g.includes("self")||g.push("self"),g.includes("blur"),g.includes("change")||g.includes("lazy"),g.includes("enter");let b=x.includes("blur"),S=x.includes("change")||x.includes("lazy"),P=x.includes("enter"),I=b||S||P,O=x.includes("debounce"),H=x.includes("throttle"),Q=()=>{RA({el:a,directive:e}),(s||O)&&eB({type:"model.live"}),n.startsWith("$parent")?t.$wire.$parent.$commit():t.$wire.$commit()},Y=Q;(d&&!I&&gZ(a)||O)&&(Y=mZ(Y,sv(x,"debounce")||150)),H&&(Y=yZ(Y,sv(x,"throttle")||150));let Z={};d&&b&&(Z["@blur"]=()=>Q()),d&&S&&(Z["@change"]=()=>Q()),d&&P&&(Z["@keydown.enter"]=()=>Q());let J=pZ(g);Z["x-model"+J]=()=>({get(){return Ml(t.$wire,n)},set(re){V0(t.$wire,n,re),d&&!I&&Y()}}),AZ.default.bind(a,Z)});function pZ(a){if(a=a.filter(e=>!["defer","live"].includes(e)),a.includes("debounce")){let e=a.indexOf("debounce"),t=sv(a,"debounce")!==void 0;a.splice(e,t?2:1)}if(a.includes("throttle")){let e=a.indexOf("throttle"),t=sv(a,"throttle")!==void 0;a.splice(e,t?2:1)}return a.length===0?"":"."+a.join(".")}function gZ(a){return["INPUT","TEXTAREA"].includes(a.tagName.toUpperCase())&&!["checkbox","radio"].includes(a.type)||a.tagName.toUpperCase()==="UI-SLIDER"||a.tagName.toUpperCase()==="UI-COMPOSER"}function h4(a,e){if(e.startsWith("$parent")){let n=Iu(a.el.parentElement,!1);return n?h4(n,e.slice(7).replace(/^\./,"")):!0}let i=(e.match(/^\[['"]?([^\]'"]+)['"]?\]/)||e.match(/^([^.\[]+)/))[1];return!Object.keys(a.canonical).includes(i)}function mZ(a,e){var t;return function(){var i=this,n=arguments,r=function(){t=null,a.apply(i,n)};clearTimeout(t),t=setTimeout(r,e)}}function yZ(a,e){let t;return function(){let i=this,n=arguments;t||(a.apply(i,n),t=!0,setTimeout(()=>t=!1,e))}}function sv(a,e){if(a.indexOf(e)===-1)return;let n=(a[a.indexOf(e)+1]||"invalid-wait").split("ms")[0];return isNaN(n)?void 0:n}wh("init",({component:a,el:e,directive:t})=>{let i=t.expression?t.expression:"$refresh";RA({el:e,directive:t}),mf(e,i)});wh("poll",({el:a,directive:e,component:t})=>{let i=TZ(e.modifiers,2e3),{start:n,pauseWhile:r,throttleWhile:o,stopWhen:s}=_Z(()=>{xZ(a,e)},i);n(),o(()=>bZ()&&SZ(e)),r(()=>BZ(e)&&EZ(a)),r(()=>CZ(a)),r(()=>wZ()),s(()=>kZ(a))});function xZ(a,e,t){RA({el:a,directive:e,targetEl:null}),eB({type:"poll"});let i=e.expression?e.expression:"$refresh";mf(a,i)}function _Z(a,e=2e3){let t=[],i=[],n=[];return{start(){let r=vZ(e,()=>{if(n.some(o=>o()))return r();t.some(o=>o())||i.some(o=>o())&&Math.random()<.95||a()})},pauseWhile(r){t.push(r)},throttleWhile(r){i.push(r)},stopWhen(r){n.push(r)}}}var $f=[];function vZ(a,e){if(!$f[a]){let t={timer:setInterval(()=>t.callbacks.forEach(i=>i()),a),callbacks:new Set};$f[a]=t}return $f[a].callbacks.add(e),()=>{$f[a].callbacks.delete(e),$f[a].callbacks.size===0&&(clearInterval($f[a].timer),delete $f[a])}}var uB=!1;window.addEventListener("offline",()=>uB=!0);window.addEventListener("online",()=>uB=!1);function wZ(){return uB}var d4=!1;document.addEventListener("visibilitychange",()=>{d4=document.hidden},!1);function bZ(){return d4}function CZ(a){return!nB(a).has("poll")}function SZ(a){return!a.modifiers.includes("keep-alive")}function BZ(a){return a.modifiers.includes("visible")}function EZ(a){let e=a.getBoundingClientRect();return!(e.top<(window.innerHeight||document.documentElement.clientHeight)&&e.left<(window.innerWidth||document.documentElement.clientWidth)&&e.bottom>0&&e.right>0)}function kZ(a){return a.isConnected===!1}function TZ(a,e){let t,i=a.find(r=>r.match(/([0-9]+)ms/)),n=a.find(r=>r.match(/([0-9]+)s/));return i?t=Number(i.replace("ms","")):n&&(t=Number(n.replace("s",""))*1e3),t||e}var pF=hr(js());pF.default.interceptInit(a=>{for(let e=0;e<a.attributes.length;e++)if(a.attributes[e].name.startsWith("wire:show")){let{name:t,value:i}=a.attributes[e],n=t.split("wire:show")[1],r=i.trim();pF.default.bind(a,{["x-show"+n](){return mf(a,r)}})}});var gF=hr(js());gF.default.interceptInit(a=>{for(let e=0;e<a.attributes.length;e++)if(a.attributes[e].name.startsWith("wire:text")){let{name:t,value:i}=a.attributes[e],n=t.split("wire:text")[1],r=i.trim();gF.default.bind(a,{["x-text"+n](){return mf(a,r)}})}});var mF=hr(js());mF.default.interceptInit(a=>{for(let e=0;e<a.attributes.length;e++)if(a.attributes[e].name.startsWith("wire:bind:")){let{name:t,value:i}=a.attributes[e],n=t.split("wire:bind")[1],r=i.trim();mF.default.bind(a,{["x-bind"+n](){return mf(a,r)}})}});var Hv={directive:wh,dispatchTo:sB,interceptAction:a=>Ov(a),interceptMessage:a=>vh(a),interceptRequest:a=>tB(a),fireAction:(a,e,t=[],i={})=>oy(a,e,t,i),start:Tq,first:NK,find:UK,getByName:OK,all:zK,hook:Qs,trigger:ks,triggerAsync:w3,dispatch:HK,on:jK,get navigate(){return lB.default.navigate}},hB=a=>console.warn(`Detected multiple instances of ${a} running`);window.Livewire&&hB("Livewire");window.Alpine&&hB("Alpine");window.Livewire=Hv;window.Alpine=lB.default;window.livewireScriptConfig===void 0&&(window.Alpine.__fromLivewire=!0,document.addEventListener("DOMContentLoaded",()=>{window.Alpine.__fromLivewire===void 0&&hB("Alpine"),Hv.start()}));var Lg=lB.default;function IZ(a){a.directive("intersect",a.skipDuringClone((e,{value:t,expression:i,modifiers:n},{evaluateLater:r,cleanup:o})=>{let s=r(i),u={rootMargin:FZ(n),threshold:MZ(n)},d=new IntersectionObserver(g=>{g.forEach(x=>{x.isIntersecting!==(t==="leave")&&(s(),n.includes("once")&&d.disconnect())})},u);d.observe(e),o(()=>{d.disconnect()})}))}function MZ(a){if(a.includes("full"))return .99;if(a.includes("half"))return .5;if(!a.includes("threshold"))return 0;let e=a[a.indexOf("threshold")+1];return e==="100"?1:e==="0"?0:+`.${e}`}function LZ(a){let e=a.match(/^(-?[0-9]+)(px|%)?$/);return e?e[1]+(e[2]||"px"):void 0}function FZ(a){const e="margin",t="0px 0px 0px 0px",i=a.indexOf(e);if(i===-1)return t;let n=[];for(let r=1;r<5;r++)n.push(LZ(a[i+r]||""));return n=n.filter(r=>r!==void 0),n.length?n.join(" ").trim():t}var PZ=IZ;function dB(a,e,t){A4();let i=f4(t),n=typeof e=="string"?OZ(e):e;return window.Alpine&&window.Alpine.closestDataStack&&!a._x_dataStack&&(n._x_dataStack=window.Alpine.closestDataStack(a),n._x_dataStack&&window.Alpine.cloneNode(a,n)),i.patch(a,n),a}function DZ(a,e,t,i={}){A4();let n=f4(i),r=a.parentNode,o=new X0(a,e),s=typeof t=="string"?(()=>{let x=document.createElement("div");return x.insertAdjacentHTML("beforeend",t),x})():t,u=document.createComment("[morph-start]"),d=document.createComment("[morph-end]");s.insertBefore(u,s.firstChild),s.appendChild(d);let g=new X0(u,d);window.Alpine&&window.Alpine.closestDataStack&&(s._x_dataStack=window.Alpine.closestDataStack(r),s._x_dataStack&&window.Alpine.cloneNode(r,s)),n.patchChildren(o,g)}function f4(a={}){let e=n=>n.getAttribute("key"),t=()=>{},i={key:a.key||e,lookahead:a.lookahead||!1,updating:a.updating||t,updated:a.updated||t,removing:a.removing||t,removed:a.removed||t,adding:a.adding||t,added:a.added||t};return i.patch=function(n,r){if(i.differentElementNamesTypesOrKeys(n,r))return i.swapElements(n,r);let o=!1,s=!1,u=d=>i.skipUntilCondition=d;if(!RZ(i.updating,()=>s=!0,u,n,r,()=>o=!0)){if(n.nodeType===1&&window.Alpine&&(window.Alpine.cloneNode(n,r),n._x_teleport&&r._x_teleport&&i.patch(n._x_teleport,r._x_teleport)),UZ(r)){i.patchNodeValue(n,r),i.updated(n,r);return}o||i.patchAttributes(n,r),i.updated(n,r),s||i.patchChildren(n,r)}},i.differentElementNamesTypesOrKeys=function(n,r){return n.nodeType!=r.nodeType||n.nodeName!=r.nodeName||i.getKey(n)!=i.getKey(r)},i.swapElements=function(n,r){if(Sm(i.removing,n))return;let o=r.cloneNode(!0);Sm(i.adding,o)||(n.replaceWith(o),i.removed(n),i.added(o))},i.patchNodeValue=function(n,r){let o=r.nodeValue;n.nodeValue!==o&&(n.nodeValue=o)},i.patchAttributes=function(n,r){if(n._x_transitioning||n._x_isShown&&!r._x_isShown||!n._x_isShown&&r._x_isShown)return;let o=Array.from(n.attributes),s=Array.from(r.attributes);for(let u=o.length-1;u>=0;u--){let d=o[u].name;r.hasAttribute(d)||n.removeAttribute(d)}for(let u=s.length-1;u>=0;u--){let d=s[u].name,g=s[u].value;n.getAttribute(d)!==g&&n.setAttribute(d,g)}},i.patchChildren=function(n,r){let o=i.keyToMap(n.children),s={},u=xF(r),d=xF(n);for(;u;){NZ(u,d);let x=i.getKey(u),b=i.getKey(d);if(i.skipUntilCondition){let O=!d||i.skipUntilCondition(d),H=!u||i.skipUntilCondition(u);if(O&&H)i.skipUntilCondition=null;else{O||(d=d&&Wl(n,d)),H||(u=u&&Wl(r,u));continue}}if(!d)if(x&&s[x]){let O=s[x];n.appendChild(O),d=O,b=i.getKey(d)}else{if(!Sm(i.adding,u)){let O=u.cloneNode(!0);n.appendChild(O),i.added(O)}u=Wl(r,u);continue}let S=O=>O&&O.nodeType===8&&O.textContent==="[if BLOCK]><![endif]",P=O=>O&&O.nodeType===8&&O.textContent==="[if ENDBLOCK]><![endif]";if(S(u)&&S(d)){let O=0,H=d;for(;d;){let q=Wl(n,d);if(S(q))O++;else if(P(q)&&O>0)O--;else if(P(q)&&O===0){d=q;break}d=q}let Q=d;O=0;let Y=u;for(;u;){let q=Wl(r,u);if(S(q))O++;else if(P(q)&&O>0)O--;else if(P(q)&&O===0){u=q;break}u=q}let Z=u,J=new X0(H,Q),re=new X0(Y,Z);i.patchChildren(J,re);continue}if(d.nodeType===1&&i.lookahead&&!d.isEqualNode(u)){let O=Wl(r,u),H=!1;for(;!H&&O;)O.nodeType===1&&d.isEqualNode(O)&&(H=!0,d=i.addNodeBefore(n,u,d),b=i.getKey(d)),O=Wl(r,O)}if(x!==b){if(!x&&b){s[b]=d,d=i.addNodeBefore(n,u,d),s[b].remove(),d=Wl(n,d),u=Wl(r,u);continue}if(x&&!b&&o[x]&&(d.replaceWith(o[x]),d=o[x],b=i.getKey(d)),x&&b){let O=o[x];if(O)s[b]=d,d.replaceWith(O),d=O,b=i.getKey(d);else{s[b]=d,d=i.addNodeBefore(n,u,d),s[b].remove(),d=Wl(n,d),u=Wl(r,u);continue}}}let I=d&&Wl(n,d);i.patch(d,u),u=u&&Wl(r,u),d=I}let g=[];for(;d;)Sm(i.removing,d)||g.push(d),d=Wl(n,d);for(;g.length;){let x=g.shift();x.remove(),i.removed(x)}},i.getKey=function(n){return n&&n.nodeType===1&&i.key(n)},i.keyToMap=function(n){let r={};for(let o of n){let s=i.getKey(o);s&&(r[s]=o)}return r},i.addNodeBefore=function(n,r,o){if(!Sm(i.adding,r)){let s=r.cloneNode(!0);return n.insertBefore(s,o),i.added(s),s}return r},i}dB.step=()=>{};dB.log=()=>{};function Sm(a,...e){let t=!1;return a(...e,()=>t=!0),t}function RZ(a,e,t,...i){let n=!1;return a(...i,()=>n=!0,e,t),n}var yF=!1;function OZ(a){const e=document.createElement("template");return e.innerHTML=a,e.content.firstElementChild}function UZ(a){return a.nodeType===3||a.nodeType===8}var X0=class{constructor(a,e){this.startComment=a,this.endComment=e}get children(){let a=[],e=this.startComment.nextSibling;for(;e&&e!==this.endComment;)a.push(e),e=e.nextSibling;return a}appendChild(a){this.endComment.before(a)}get firstChild(){let a=this.startComment.nextSibling;if(a!==this.endComment)return a}nextNode(a){let e=a.nextSibling;if(e!==this.endComment)return e}insertBefore(a,e){return e.before(a),a}};function xF(a){return a.firstChild}function Wl(a,e){let t;return a instanceof X0?t=a.nextNode(e):t=e.nextSibling,t}function A4(){if(yF)return;yF=!0;let a=Element.prototype.setAttribute,e=document.createElement("div");Element.prototype.setAttribute=function(i,n){if(!i.includes("@"))return a.call(this,i,n);e.innerHTML=`<span ${i}="${n}"></span>`;let r=e.firstElementChild.getAttributeNode(i);e.firstElementChild.removeAttributeNode(r),this.setAttributeNode(r)}}function NZ(a,e){let t=e&&e._x_bindings&&e._x_bindings.id;t&&a.setAttribute&&(a.setAttribute("id",t),a.id=t)}function zZ(a){a.morph=dB,a.morphBetween=DZ}var HZ=zZ;const QZ=()=>({active:0,shown:!1,init(){},setActive(a){this.active=a},reveal(){this.shown=!0}}),CS="/build/assets/marker-icon-hN30_KVU.png",SS="/build/assets/marker-icon-2x-_ZA0WGCc.png",BS="/build/assets/marker-shadow-f7SaPCxT.png";delete oh.Icon.Default.prototype._getIconUrl;oh.Icon.Default.mergeOptions({iconRetinaUrl:SS,iconUrl:CS,shadowUrl:BS});const jZ=a=>({map:null,marker:null,geometryJson:(function(){if(!a.initialGeometry)return"";if(typeof a.initialGeometry=="string")try{const e=JSON.parse(a.initialGeometry);return JSON.stringify(e)}catch{return""}return JSON.stringify(a.initialGeometry)})(),coordinates:{lat:a.center[0],lng:a.center[1]},hasGeometry:!1,isLoading:!0,init(){this.$nextTick(()=>{this.isLoading=!0,setTimeout(()=>{this.initMap(),this.map&&this.map.invalidateSize(),this.isLoading=!1},500)}),document.addEventListener("livewire:navigated",()=>{this.map&&setTimeout(()=>{this.map.invalidateSize()},300)},{once:!0}),this.$cleanup(()=>{this.map&&(console.log("Cleaning up map instance..."),this.map.remove(),this.map=null)})},initMap(){if(!this.$refs.mapContainer)return;this.map&&(this.map.remove(),this.map=null),this.map=oh.map(this.$refs.mapContainer,{preferCanvas:!0,wheelPxPerZoomLevel:120}).setView(a.center,a.zoom),oh.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:"&copy; OpenStreetMap contributors &copy; CARTO"}).addTo(this.map);const e=oh.icon({iconUrl:CS,iconRetinaUrl:SS,shadowUrl:BS,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});if(this.geometryJson)try{const t=JSON.parse(this.geometryJson);if(t.type==="Point"){const i=t.coordinates[1],n=t.coordinates[0];this.setMarker([i,n],e),this.map.setView([i,n],16)}}catch(t){console.error("Error parsing initial geometry",t)}this.startDrawing("point")},startDrawing(e){e==="point"&&(this.$refs.mapContainer.style.cursor="crosshair",this.map.off("click"),this.map.on("click",t=>{this.$refs.mapContainer&&(this.$refs.mapContainer.style.cursor="crosshair"),this.setMarker(t.latlng)}))},setMarker(e,t=null){t||(t=oh.icon({iconUrl:CS,iconRetinaUrl:SS,shadowUrl:BS,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),this.map.eachLayer(i=>{i instanceof oh.Marker&&this.map.removeLayer(i)}),this.marker=oh.marker(e,{icon:t,draggable:!0}).addTo(this.map),this.updateCoordinates(e),this.marker.on("dragend",i=>{const n=i.target.getLatLng();this.updateCoordinates(n)})},updateCoordinates(e){const t=parseFloat(e.lat).toFixed(6),i=parseFloat(e.lng).toFixed(6);this.coordinates={lat:t,lng:i},this.hasGeometry=!0,this.geometryJson=JSON.stringify({type:"Point",coordinates:[parseFloat(i),parseFloat(t)]})},clearDrawing(){this.map.eachLayer(e=>{e instanceof oh.Marker&&this.map.removeLayer(e)}),this.marker=null,this.geometryJson="",this.hasGeometry=!1,this.coordinates={lat:"",lng:""}},editDrawing(){},refreshMap(){this.isLoading=!0,setTimeout(()=>{this.initMap(),setTimeout(()=>{this.map&&this.map.invalidateSize(),this.isLoading=!1},400)},100)}});var On;(function(a){a[a.QR_CODE=0]="QR_CODE",a[a.AZTEC=1]="AZTEC",a[a.CODABAR=2]="CODABAR",a[a.CODE_39=3]="CODE_39",a[a.CODE_93=4]="CODE_93",a[a.CODE_128=5]="CODE_128",a[a.DATA_MATRIX=6]="DATA_MATRIX",a[a.MAXICODE=7]="MAXICODE",a[a.ITF=8]="ITF",a[a.EAN_13=9]="EAN_13",a[a.EAN_8=10]="EAN_8",a[a.PDF_417=11]="PDF_417",a[a.RSS_14=12]="RSS_14",a[a.RSS_EXPANDED=13]="RSS_EXPANDED",a[a.UPC_A=14]="UPC_A",a[a.UPC_E=15]="UPC_E",a[a.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(On||(On={}));var _F=new Map([[On.QR_CODE,"QR_CODE"],[On.AZTEC,"AZTEC"],[On.CODABAR,"CODABAR"],[On.CODE_39,"CODE_39"],[On.CODE_93,"CODE_93"],[On.CODE_128,"CODE_128"],[On.DATA_MATRIX,"DATA_MATRIX"],[On.MAXICODE,"MAXICODE"],[On.ITF,"ITF"],[On.EAN_13,"EAN_13"],[On.EAN_8,"EAN_8"],[On.PDF_417,"PDF_417"],[On.RSS_14,"RSS_14"],[On.RSS_EXPANDED,"RSS_EXPANDED"],[On.UPC_A,"UPC_A"],[On.UPC_E,"UPC_E"],[On.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vF;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.URL=1]="URL"})(vF||(vF={}));function VZ(a){return Object.values(On).includes(a)}var ov;(function(a){a[a.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",a[a.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ov||(ov={}));var GZ=(function(){function a(){}return a.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",a.SCAN_DEFAULT_FPS=2,a.DEFAULT_DISABLE_FLIP=!1,a.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,a.DEFAULT_SUPPORTED_SCAN_TYPE=[ov.SCAN_TYPE_CAMERA,ov.SCAN_TYPE_FILE],a})(),p4=(function(){function a(e,t){this.format=e,this.formatName=t}return a.prototype.toString=function(){return this.formatName},a.create=function(e){if(!_F.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new a(e,_F.get(e))},a})(),wF=(function(){function a(){}return a.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},a.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},a})(),ES;(function(a){a[a.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",a[a.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",a[a.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ES||(ES={}));var WZ=(function(){function a(){}return a.createFrom=function(e){return{errorMessage:e,type:ES.UNKWOWN_ERROR}},a})(),$Z=(function(){function a(e){this.verbose=e}return a.prototype.log=function(e){this.verbose&&console.log(e)},a.prototype.warn=function(e){this.verbose&&console.warn(e)},a.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},a.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},a})();function Zh(a){return typeof a>"u"||a===null}var Zp=(function(){function a(){}return a.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},a.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},a.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},a.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},a.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},a.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},a.scannerPaused=function(){return"Scanner paused"},a})(),g4=(function(){function a(){}return a.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var i=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var n=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],r=new Set(n),o=Object.keys(e),s=0,u=o;s<u.length;s++){var d=u[s];if(r.has(d))return t.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},a})(),Wm={exports:{}},XZ=Wm.exports,bF;function YZ(){return bF||(bF=1,(function(a,e){(function(t,i){i(e)})(XZ,(function(t){function i(Se){return Se==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Se,p){Se.__proto__=p}||function(Se,p){for(var y in p)p.hasOwnProperty(y)&&(Se[y]=p[y])};function r(Se,p){n(Se,p);function y(){this.constructor=Se}Se.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}function o(Se,p){var y=Object.setPrototypeOf;y?y(Se,p):Se.__proto__=p}function s(Se,p){p===void 0&&(p=Se.constructor);var y=Error.captureStackTrace;y&&y(Se,p)}var u=(function(Se){r(p,Se);function p(y){var w=this.constructor,k=Se.call(this,y)||this;return Object.defineProperty(k,"name",{value:w.name,enumerable:!1}),o(k,w.prototype),s(k),k}return p})(Error);class d extends u{constructor(p=void 0){super(p),this.message=p}getKind(){return this.constructor.kind}}d.kind="Exception";class g extends d{}g.kind="ArgumentException";class x extends d{}x.kind="IllegalArgumentException";class b{constructor(p){if(this.binarizer=p,p===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(p,y){return this.binarizer.getBlackRow(p,y)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(p,y,w,k){const T=this.binarizer.getLuminanceSource().crop(p,y,w,k);return new b(this.binarizer.createBinarizer(T))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const p=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(p))}rotateCounterClockwise45(){const p=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(p))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends d{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class P{constructor(p){this.source=p}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(p,y,w,k,T){for(;T--;)w[k++]=p[y++]}static currentTimeMillis(){return Date.now()}}class O extends d{}O.kind="IndexOutOfBoundsException";class H extends O{constructor(p=void 0,y=void 0){super(y),this.index=p,this.message=y}}H.kind="ArrayIndexOutOfBoundsException";class Q{static fill(p,y){for(let w=0,k=p.length;w<k;w++)p[w]=y}static fillWithin(p,y,w,k){Q.rangeCheck(p.length,y,w);for(let T=y;T<w;T++)p[T]=k}static rangeCheck(p,y,w){if(y>w)throw new x("fromIndex("+y+") > toIndex("+w+")");if(y<0)throw new H(y);if(w>p)throw new H(w)}static asList(...p){return p}static create(p,y,w){return Array.from({length:p}).map(T=>Array.from({length:y}).fill(w))}static createInt32Array(p,y,w){return Array.from({length:p}).map(T=>Int32Array.from({length:y}).fill(w))}static equals(p,y){if(!p||!y||!p.length||!y.length||p.length!==y.length)return!1;for(let w=0,k=p.length;w<k;w++)if(p[w]!==y[w])return!1;return!0}static hashCode(p){if(p===null)return 0;let y=1;for(const w of p)y=31*y+w;return y}static fillUint8Array(p,y){for(let w=0;w!==p.length;w++)p[w]=y}static copyOf(p,y){return p.slice(0,y)}static copyOfUint8Array(p,y){if(p.length<=y){const w=new Uint8Array(y);return w.set(p),w}return p.slice(0,y)}static copyOfRange(p,y,w){const k=w-y,T=new Int32Array(k);return I.arraycopy(p,y,T,0,k),T}static binarySearch(p,y,w){w===void 0&&(w=Q.numberComparator);let k=0,T=p.length-1;for(;k<=T;){const R=T+k>>1,z=w(y,p[R]);if(z>0)k=R+1;else if(z<0)T=R-1;else return R}return-k-1}static numberComparator(p,y){return p-y}}class Y{static numberOfTrailingZeros(p){let y;if(p===0)return 32;let w=31;return y=p<<16,y!==0&&(w-=16,p=y),y=p<<8,y!==0&&(w-=8,p=y),y=p<<4,y!==0&&(w-=4,p=y),y=p<<2,y!==0&&(w-=2,p=y),w-(p<<1>>>31)}static numberOfLeadingZeros(p){if(p===0)return 32;let y=1;return p>>>16||(y+=16,p<<=16),p>>>24||(y+=8,p<<=8),p>>>28||(y+=4,p<<=4),p>>>30||(y+=2,p<<=2),y-=p>>>31,y}static toHexString(p){return p.toString(16)}static toBinaryString(p){return String(parseInt(String(p),2))}static bitCount(p){return p=p-(p>>>1&1431655765),p=(p&858993459)+(p>>>2&858993459),p=p+(p>>>4)&252645135,p=p+(p>>>8),p=p+(p>>>16),p&63}static truncDivision(p,y){return Math.trunc(p/y)}static parseInt(p,y=void 0){return parseInt(p,y)}}Y.MIN_VALUE_32_BITS=-2147483648,Y.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Z{constructor(p,y){p===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=p,y==null?this.bits=Z.makeArray(p):this.bits=y)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(p){if(p>this.bits.length*32){const y=Z.makeArray(p);I.arraycopy(this.bits,0,y,0,this.bits.length),this.bits=y}}get(p){return(this.bits[Math.floor(p/32)]&1<<(p&31))!==0}set(p){this.bits[Math.floor(p/32)]|=1<<(p&31)}flip(p){this.bits[Math.floor(p/32)]^=1<<(p&31)}getNextSet(p){const y=this.size;if(p>=y)return y;const w=this.bits;let k=Math.floor(p/32),T=w[k];T&=~((1<<(p&31))-1);const R=w.length;for(;T===0;){if(++k===R)return y;T=w[k]}const z=k*32+Y.numberOfTrailingZeros(T);return z>y?y:z}getNextUnset(p){const y=this.size;if(p>=y)return y;const w=this.bits;let k=Math.floor(p/32),T=~w[k];T&=~((1<<(p&31))-1);const R=w.length;for(;T===0;){if(++k===R)return y;T=~w[k]}const z=k*32+Y.numberOfTrailingZeros(T);return z>y?y:z}setBulk(p,y){this.bits[Math.floor(p/32)]=y}setRange(p,y){if(y<p||p<0||y>this.size)throw new x;if(y===p)return;y--;const w=Math.floor(p/32),k=Math.floor(y/32),T=this.bits;for(let R=w;R<=k;R++){const z=R>w?0:p&31,ee=(2<<(R<k?31:y&31))-(1<<z);T[R]|=ee}}clear(){const p=this.bits.length,y=this.bits;for(let w=0;w<p;w++)y[w]=0}isRange(p,y,w){if(y<p||p<0||y>this.size)throw new x;if(y===p)return!0;y--;const k=Math.floor(p/32),T=Math.floor(y/32),R=this.bits;for(let z=k;z<=T;z++){const W=z>k?0:p&31,Ae=(2<<(z<T?31:y&31))-(1<<W)&4294967295;if((R[z]&Ae)!==(w?Ae:0))return!1}return!0}appendBit(p){this.ensureCapacity(this.size+1),p&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(p,y){if(y<0||y>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+y);for(let w=y;w>0;w--)this.appendBit((p>>w-1&1)===1)}appendBitArray(p){const y=p.size;this.ensureCapacity(this.size+y);for(let w=0;w<y;w++)this.appendBit(p.get(w))}xor(p){if(this.size!==p.size)throw new x("Sizes don't match");const y=this.bits;for(let w=0,k=y.length;w<k;w++)y[w]^=p.bits[w]}toBytes(p,y,w,k){for(let T=0;T<k;T++){let R=0;for(let z=0;z<8;z++)this.get(p)&&(R|=1<<7-z),p++;y[w+T]=R}}getBitArray(){return this.bits}reverse(){const p=new Int32Array(this.bits.length),y=Math.floor((this.size-1)/32),w=y+1,k=this.bits;for(let T=0;T<w;T++){let R=k[T];R=R>>1&1431655765|(R&1431655765)<<1,R=R>>2&858993459|(R&858993459)<<2,R=R>>4&252645135|(R&252645135)<<4,R=R>>8&16711935|(R&16711935)<<8,R=R>>16&65535|(R&65535)<<16,p[y-T]=R}if(this.size!==w*32){const T=w*32-this.size;let R=p[0]>>>T;for(let z=1;z<w;z++){const W=p[z];R|=W<<32-T,p[z-1]=R,R=W>>>T}p[w-1]=R}this.bits=p}static makeArray(p){return new Int32Array(Math.floor((p+31)/32))}equals(p){if(!(p instanceof Z))return!1;const y=p;return this.size===y.size&&Q.equals(this.bits,y.bits)}hashCode(){return 31*this.size+Q.hashCode(this.bits)}toString(){let p="";for(let y=0,w=this.size;y<w;y++)(y&7)===0&&(p+=" "),p+=this.get(y)?"X":".";return p}clone(){return new Z(this.size,this.bits.slice())}}var J;(function(Se){Se[Se.OTHER=0]="OTHER",Se[Se.PURE_BARCODE=1]="PURE_BARCODE",Se[Se.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Se[Se.TRY_HARDER=3]="TRY_HARDER",Se[Se.CHARACTER_SET=4]="CHARACTER_SET",Se[Se.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Se[Se.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Se[Se.ASSUME_GS1=7]="ASSUME_GS1",Se[Se.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Se[Se.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Se[Se.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var re=J;class q extends d{static getFormatInstance(){return new q}}q.kind="FormatException";var ne;(function(Se){Se[Se.Cp437=0]="Cp437",Se[Se.ISO8859_1=1]="ISO8859_1",Se[Se.ISO8859_2=2]="ISO8859_2",Se[Se.ISO8859_3=3]="ISO8859_3",Se[Se.ISO8859_4=4]="ISO8859_4",Se[Se.ISO8859_5=5]="ISO8859_5",Se[Se.ISO8859_6=6]="ISO8859_6",Se[Se.ISO8859_7=7]="ISO8859_7",Se[Se.ISO8859_8=8]="ISO8859_8",Se[Se.ISO8859_9=9]="ISO8859_9",Se[Se.ISO8859_10=10]="ISO8859_10",Se[Se.ISO8859_11=11]="ISO8859_11",Se[Se.ISO8859_13=12]="ISO8859_13",Se[Se.ISO8859_14=13]="ISO8859_14",Se[Se.ISO8859_15=14]="ISO8859_15",Se[Se.ISO8859_16=15]="ISO8859_16",Se[Se.SJIS=16]="SJIS",Se[Se.Cp1250=17]="Cp1250",Se[Se.Cp1251=18]="Cp1251",Se[Se.Cp1252=19]="Cp1252",Se[Se.Cp1256=20]="Cp1256",Se[Se.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Se[Se.UTF8=22]="UTF8",Se[Se.ASCII=23]="ASCII",Se[Se.Big5=24]="Big5",Se[Se.GB18030=25]="GB18030",Se[Se.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class te{constructor(p,y,w,...k){this.valueIdentifier=p,this.name=w,typeof y=="number"?this.values=Int32Array.from([y]):this.values=y,this.otherEncodingNames=k,te.VALUE_IDENTIFIER_TO_ECI.set(p,this),te.NAME_TO_ECI.set(w,this);const T=this.values;for(let R=0,z=T.length;R!==z;R++){const W=T[R];te.VALUES_TO_ECI.set(W,this)}for(const R of k)te.NAME_TO_ECI.set(R,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(p){if(p<0||p>=900)throw new q("incorect value");const y=te.VALUES_TO_ECI.get(p);if(y===void 0)throw new q("incorect value");return y}static getCharacterSetECIByName(p){const y=te.NAME_TO_ECI.get(p);if(y===void 0)throw new q("incorect value");return y}equals(p){if(!(p instanceof te))return!1;const y=p;return this.getName()===y.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(ne.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(ne.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(ne.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(ne.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(ne.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(ne.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(ne.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(ne.Big5,28,"Big5"),te.GB18030=new te(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(ne.EUC_KR,30,"EUC_KR","EUC-KR");class he extends d{}he.kind="UnsupportedOperationException";class ve{static decode(p,y){const w=this.encodingName(y);return this.customDecoder?this.customDecoder(p,w):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(w)?this.decodeFallback(p,w):new TextDecoder(w).decode(p)}static shouldDecodeOnFallback(p){return!ve.isBrowser()&&p==="ISO-8859-1"}static encode(p,y){const w=this.encodingName(y);return this.customEncoder?this.customEncoder(p,w):typeof TextEncoder>"u"?this.encodeFallback(p):new TextEncoder().encode(p)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(p){return typeof p=="string"?p:p.getName()}static encodingCharacterSet(p){return p instanceof te?p:te.getCharacterSetECIByName(p)}static decodeFallback(p,y){const w=this.encodingCharacterSet(y);if(ve.isDecodeFallbackSupported(w)){let k="";for(let T=0,R=p.length;T<R;T++){let z=p[T].toString(16);z.length<2&&(z="0"+z),k+="%"+z}return decodeURIComponent(k)}if(w.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(p.buffer));throw new he(`Encoding ${this.encodingName(y)} not supported by fallback.`)}static isDecodeFallbackSupported(p){return p.equals(te.UTF8)||p.equals(te.ISO8859_1)||p.equals(te.ASCII)}static encodeFallback(p){const w=btoa(unescape(encodeURIComponent(p))).split(""),k=[];for(let T=0;T<w.length;T++)k.push(w[T].charCodeAt(0));return new Uint8Array(k)}}class de{static castAsNonUtf8Char(p,y=null){const w=y?y.getName():this.ISO88591;return ve.decode(new Uint8Array([p]),w)}static guessEncoding(p,y){if(y!=null&&y.get(re.CHARACTER_SET)!==void 0)return y.get(re.CHARACTER_SET).toString();const w=p.length;let k=!0,T=!0,R=!0,z=0,W=0,ee=0,Ae=0,Be=0,Fe=0,Ke=0,gt=0,vt=0,Ot=0,Zt=0;const Pi=p.length>3&&p[0]===239&&p[1]===187&&p[2]===191;for(let Ri=0;Ri<w&&(k||T||R);Ri++){const Si=p[Ri]&255;R&&(z>0?(Si&128)===0?R=!1:z--:(Si&128)!==0&&((Si&64)===0?R=!1:(z++,(Si&32)===0?W++:(z++,(Si&16)===0?ee++:(z++,(Si&8)===0?Ae++:R=!1))))),k&&(Si>127&&Si<160?k=!1:Si>159&&(Si<192||Si===215||Si===247)&&Zt++),T&&(Be>0?Si<64||Si===127||Si>252?T=!1:Be--:Si===128||Si===160||Si>239?T=!1:Si>160&&Si<224?(Fe++,gt=0,Ke++,Ke>vt&&(vt=Ke)):Si>127?(Be++,Ke=0,gt++,gt>Ot&&(Ot=gt)):(Ke=0,gt=0))}return R&&z>0&&(R=!1),T&&Be>0&&(T=!1),R&&(Pi||W+ee+Ae>0)?de.UTF8:T&&(de.ASSUME_SHIFT_JIS||vt>=3||Ot>=3)?de.SHIFT_JIS:k&&T?vt===2&&Fe===2||Zt*10>=w?de.SHIFT_JIS:de.ISO88591:k?de.ISO88591:T?de.SHIFT_JIS:R?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(p,...y){let w=-1;function k(R,z,W,ee,Ae,Be){if(R==="%%")return"%";if(y[++w]===void 0)return;R=ee?parseInt(ee.substr(1)):void 0;let Fe=Ae?parseInt(Ae.substr(1)):void 0,Ke;switch(Be){case"s":Ke=y[w];break;case"c":Ke=y[w][0];break;case"f":Ke=parseFloat(y[w]).toFixed(R);break;case"p":Ke=parseFloat(y[w]).toPrecision(R);break;case"e":Ke=parseFloat(y[w]).toExponential(R);break;case"x":Ke=parseInt(y[w]).toString(Fe||16);break;case"d":Ke=parseFloat(parseInt(y[w],Fe||10).toPrecision(R)).toFixed(0);break}Ke=typeof Ke=="object"?JSON.stringify(Ke):(+Ke).toString(Fe);let gt=parseInt(W),vt=W&&W[0]+""=="0"?"0":" ";for(;Ke.length<gt;)Ke=z!==void 0?Ke+vt:vt+Ke;return Ke}let T=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return p.replace(T,k)}static getBytes(p,y){return ve.encode(p,y)}static getCharCode(p,y=0){return p.charCodeAt(y)}static getCharAt(p){return String.fromCharCode(p)}}de.SHIFT_JIS=te.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=te.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=te.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class be{constructor(p=""){this.value=p}enableDecoding(p){return this.encoding=p,this}append(p){return typeof p=="string"?this.value+=p.toString():this.encoding?this.value+=de.castAsNonUtf8Char(p,this.encoding):this.value+=String.fromCharCode(p),this}appendChars(p,y,w){for(let k=y;y<y+w;k++)this.append(p[k]);return this}length(){return this.value.length}charAt(p){return this.value.charAt(p)}deleteCharAt(p){this.value=this.value.substr(0,p)+this.value.substring(p+1)}setCharAt(p,y){this.value=this.value.substr(0,p)+y+this.value.substr(p+1)}substring(p,y){return this.value.substring(p,y)}setLengthToZero(){this.value=""}toString(){return this.value}insert(p,y){this.value=this.value.substr(0,p)+y+this.value.substr(p+y.length)}}class De{constructor(p,y,w,k){if(this.width=p,this.height=y,this.rowSize=w,this.bits=k,y==null&&(y=p),this.height=y,p<1||y<1)throw new x("Both dimensions must be greater than 0");w==null&&(w=Math.floor((p+31)/32)),this.rowSize=w,k==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(p){const y=p.length,w=p[0].length,k=new De(w,y);for(let T=0;T<y;T++){const R=p[T];for(let z=0;z<w;z++)R[z]&&k.set(z,T)}return k}static parseFromString(p,y,w){if(p===null)throw new x("stringRepresentation cannot be null");const k=new Array(p.length);let T=0,R=0,z=-1,W=0,ee=0;for(;ee<p.length;)if(p.charAt(ee)===`
`||p.charAt(ee)==="\r"){if(T>R){if(z===-1)z=T-R;else if(T-R!==z)throw new x("row lengths do not match");R=T,W++}ee++}else if(p.substring(ee,ee+y.length)===y)ee+=y.length,k[T]=!0,T++;else if(p.substring(ee,ee+w.length)===w)ee+=w.length,k[T]=!1,T++;else throw new x("illegal character encountered: "+p.substring(ee));if(T>R){if(z===-1)z=T-R;else if(T-R!==z)throw new x("row lengths do not match");W++}const Ae=new De(z,W);for(let Be=0;Be<T;Be++)k[Be]&&Ae.set(Math.floor(Be%z),Math.floor(Be/z));return Ae}get(p,y){const w=y*this.rowSize+Math.floor(p/32);return(this.bits[w]>>>(p&31)&1)!==0}set(p,y){const w=y*this.rowSize+Math.floor(p/32);this.bits[w]|=1<<(p&31)&4294967295}unset(p,y){const w=y*this.rowSize+Math.floor(p/32);this.bits[w]&=~(1<<(p&31)&4294967295)}flip(p,y){const w=y*this.rowSize+Math.floor(p/32);this.bits[w]^=1<<(p&31)&4294967295}xor(p){if(this.width!==p.getWidth()||this.height!==p.getHeight()||this.rowSize!==p.getRowSize())throw new x("input matrix dimensions do not match");const y=new Z(Math.floor(this.width/32)+1),w=this.rowSize,k=this.bits;for(let T=0,R=this.height;T<R;T++){const z=T*w,W=p.getRow(T,y).getBitArray();for(let ee=0;ee<w;ee++)k[z+ee]^=W[ee]}}clear(){const p=this.bits,y=p.length;for(let w=0;w<y;w++)p[w]=0}setRegion(p,y,w,k){if(y<0||p<0)throw new x("Left and top must be nonnegative");if(k<1||w<1)throw new x("Height and width must be at least 1");const T=p+w,R=y+k;if(R>this.height||T>this.width)throw new x("The region must fit inside the matrix");const z=this.rowSize,W=this.bits;for(let ee=y;ee<R;ee++){const Ae=ee*z;for(let Be=p;Be<T;Be++)W[Ae+Math.floor(Be/32)]|=1<<(Be&31)&4294967295}}getRow(p,y){y==null||y.getSize()<this.width?y=new Z(this.width):y.clear();const w=this.rowSize,k=this.bits,T=p*w;for(let R=0;R<w;R++)y.setBulk(R*32,k[T+R]);return y}setRow(p,y){I.arraycopy(y.getBitArray(),0,this.bits,p*this.rowSize,this.rowSize)}rotate180(){const p=this.getWidth(),y=this.getHeight();let w=new Z(p),k=new Z(p);for(let T=0,R=Math.floor((y+1)/2);T<R;T++)w=this.getRow(T,w),k=this.getRow(y-1-T,k),w.reverse(),k.reverse(),this.setRow(T,k),this.setRow(y-1-T,w)}getEnclosingRectangle(){const p=this.width,y=this.height,w=this.rowSize,k=this.bits;let T=p,R=y,z=-1,W=-1;for(let ee=0;ee<y;ee++)for(let Ae=0;Ae<w;Ae++){const Be=k[ee*w+Ae];if(Be!==0){if(ee<R&&(R=ee),ee>W&&(W=ee),Ae*32<T){let Fe=0;for(;(Be<<31-Fe&4294967295)===0;)Fe++;Ae*32+Fe<T&&(T=Ae*32+Fe)}if(Ae*32+31>z){let Fe=31;for(;!(Be>>>Fe);)Fe--;Ae*32+Fe>z&&(z=Ae*32+Fe)}}}return z<T||W<R?null:Int32Array.from([T,R,z-T+1,W-R+1])}getTopLeftOnBit(){const p=this.rowSize,y=this.bits;let w=0;for(;w<y.length&&y[w]===0;)w++;if(w===y.length)return null;const k=w/p;let T=w%p*32;const R=y[w];let z=0;for(;(R<<31-z&4294967295)===0;)z++;return T+=z,Int32Array.from([T,k])}getBottomRightOnBit(){const p=this.rowSize,y=this.bits;let w=y.length-1;for(;w>=0&&y[w]===0;)w--;if(w<0)return null;const k=Math.floor(w/p);let T=Math.floor(w%p)*32;const R=y[w];let z=31;for(;!(R>>>z);)z--;return T+=z,Int32Array.from([T,k])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(p){if(!(p instanceof De))return!1;const y=p;return this.width===y.width&&this.height===y.height&&this.rowSize===y.rowSize&&Q.equals(this.bits,y.bits)}hashCode(){let p=this.width;return p=31*p+this.width,p=31*p+this.height,p=31*p+this.rowSize,p=31*p+Q.hashCode(this.bits),p}toString(p="X ",y="  ",w=`
`){return this.buildToString(p,y,w)}buildToString(p,y,w){let k=new be;for(let T=0,R=this.height;T<R;T++){for(let z=0,W=this.width;z<W;z++)k.append(this.get(z,T)?p:y);k.append(w)}return k.toString()}clone(){return new De(this.width,this.height,this.rowSize,this.bits.slice())}}class Ie extends d{static getNotFoundInstance(){return new Ie}}Ie.kind="NotFoundException";class nt extends P{constructor(p){super(p),this.luminances=nt.EMPTY,this.buckets=new Int32Array(nt.LUMINANCE_BUCKETS)}getBlackRow(p,y){const w=this.getLuminanceSource(),k=w.getWidth();y==null||y.getSize()<k?y=new Z(k):y.clear(),this.initArrays(k);const T=w.getRow(p,this.luminances),R=this.buckets;for(let W=0;W<k;W++)R[(T[W]&255)>>nt.LUMINANCE_SHIFT]++;const z=nt.estimateBlackPoint(R);if(k<3)for(let W=0;W<k;W++)(T[W]&255)<z&&y.set(W);else{let W=T[0]&255,ee=T[1]&255;for(let Ae=1;Ae<k-1;Ae++){const Be=T[Ae+1]&255;(ee*4-W-Be)/2<z&&y.set(Ae),W=ee,ee=Be}}return y}getBlackMatrix(){const p=this.getLuminanceSource(),y=p.getWidth(),w=p.getHeight(),k=new De(y,w);this.initArrays(y);const T=this.buckets;for(let W=1;W<5;W++){const ee=Math.floor(w*W/5),Ae=p.getRow(ee,this.luminances),Be=Math.floor(y*4/5);for(let Fe=Math.floor(y/5);Fe<Be;Fe++){const Ke=Ae[Fe]&255;T[Ke>>nt.LUMINANCE_SHIFT]++}}const R=nt.estimateBlackPoint(T),z=p.getMatrix();for(let W=0;W<w;W++){const ee=W*y;for(let Ae=0;Ae<y;Ae++)(z[ee+Ae]&255)<R&&k.set(Ae,W)}return k}createBinarizer(p){return new nt(p)}initArrays(p){this.luminances.length<p&&(this.luminances=new Uint8ClampedArray(p));const y=this.buckets;for(let w=0;w<nt.LUMINANCE_BUCKETS;w++)y[w]=0}static estimateBlackPoint(p){const y=p.length;let w=0,k=0,T=0;for(let Ae=0;Ae<y;Ae++)p[Ae]>T&&(k=Ae,T=p[Ae]),p[Ae]>w&&(w=p[Ae]);let R=0,z=0;for(let Ae=0;Ae<y;Ae++){const Be=Ae-k,Fe=p[Ae]*Be*Be;Fe>z&&(R=Ae,z=Fe)}if(k>R){const Ae=k;k=R,R=Ae}if(R-k<=y/16)throw new Ie;let W=R-1,ee=-1;for(let Ae=R-1;Ae>k;Ae--){const Be=Ae-k,Fe=Be*Be*(R-Ae)*(w-p[Ae]);Fe>ee&&(W=Ae,ee=Fe)}return W<<nt.LUMINANCE_SHIFT}}nt.LUMINANCE_BITS=5,nt.LUMINANCE_SHIFT=8-nt.LUMINANCE_BITS,nt.LUMINANCE_BUCKETS=1<<nt.LUMINANCE_BITS,nt.EMPTY=Uint8ClampedArray.from([0]);class je extends nt{constructor(p){super(p),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const p=this.getLuminanceSource(),y=p.getWidth(),w=p.getHeight();if(y>=je.MINIMUM_DIMENSION&&w>=je.MINIMUM_DIMENSION){const k=p.getMatrix();let T=y>>je.BLOCK_SIZE_POWER;(y&je.BLOCK_SIZE_MASK)!==0&&T++;let R=w>>je.BLOCK_SIZE_POWER;(w&je.BLOCK_SIZE_MASK)!==0&&R++;const z=je.calculateBlackPoints(k,T,R,y,w),W=new De(y,w);je.calculateThresholdForBlock(k,T,R,y,w,z,W),this.matrix=W}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(p){return new je(p)}static calculateThresholdForBlock(p,y,w,k,T,R,z){const W=T-je.BLOCK_SIZE,ee=k-je.BLOCK_SIZE;for(let Ae=0;Ae<w;Ae++){let Be=Ae<<je.BLOCK_SIZE_POWER;Be>W&&(Be=W);const Fe=je.cap(Ae,2,w-3);for(let Ke=0;Ke<y;Ke++){let gt=Ke<<je.BLOCK_SIZE_POWER;gt>ee&&(gt=ee);const vt=je.cap(Ke,2,y-3);let Ot=0;for(let Pi=-2;Pi<=2;Pi++){const Ri=R[Fe+Pi];Ot+=Ri[vt-2]+Ri[vt-1]+Ri[vt]+Ri[vt+1]+Ri[vt+2]}const Zt=Ot/25;je.thresholdBlock(p,gt,Be,Zt,k,z)}}}static cap(p,y,w){return p<y?y:p>w?w:p}static thresholdBlock(p,y,w,k,T,R){for(let z=0,W=w*T+y;z<je.BLOCK_SIZE;z++,W+=T)for(let ee=0;ee<je.BLOCK_SIZE;ee++)(p[W+ee]&255)<=k&&R.set(y+ee,w+z)}static calculateBlackPoints(p,y,w,k,T){const R=T-je.BLOCK_SIZE,z=k-je.BLOCK_SIZE,W=new Array(w);for(let ee=0;ee<w;ee++){W[ee]=new Int32Array(y);let Ae=ee<<je.BLOCK_SIZE_POWER;Ae>R&&(Ae=R);for(let Be=0;Be<y;Be++){let Fe=Be<<je.BLOCK_SIZE_POWER;Fe>z&&(Fe=z);let Ke=0,gt=255,vt=0;for(let Zt=0,Pi=Ae*k+Fe;Zt<je.BLOCK_SIZE;Zt++,Pi+=k){for(let Ri=0;Ri<je.BLOCK_SIZE;Ri++){const Si=p[Pi+Ri]&255;Ke+=Si,Si<gt&&(gt=Si),Si>vt&&(vt=Si)}if(vt-gt>je.MIN_DYNAMIC_RANGE)for(Zt++,Pi+=k;Zt<je.BLOCK_SIZE;Zt++,Pi+=k)for(let Ri=0;Ri<je.BLOCK_SIZE;Ri++)Ke+=p[Pi+Ri]&255}let Ot=Ke>>je.BLOCK_SIZE_POWER*2;if(vt-gt<=je.MIN_DYNAMIC_RANGE&&(Ot=gt/2,ee>0&&Be>0)){const Zt=(W[ee-1][Be]+2*W[ee][Be-1]+W[ee-1][Be-1])/4;gt<Zt&&(Ot=Zt)}W[ee][Be]=Ot}}return W}}je.BLOCK_SIZE_POWER=3,je.BLOCK_SIZE=1<<je.BLOCK_SIZE_POWER,je.BLOCK_SIZE_MASK=je.BLOCK_SIZE-1,je.MINIMUM_DIMENSION=je.BLOCK_SIZE*5,je.MIN_DYNAMIC_RANGE=24;class dt{constructor(p,y){this.width=p,this.height=y}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(p,y,w,k){throw new he("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new he("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new he("This luminance source does not support rotation by 45 degrees.")}toString(){const p=new Uint8ClampedArray(this.width);let y=new be;for(let w=0;w<this.height;w++){const k=this.getRow(w,p);for(let T=0;T<this.width;T++){const R=k[T]&255;let z;R<64?z="#":R<128?z="+":R<192?z=".":z=" ",y.append(z)}y.append(`
`)}return y.toString()}}class Mt extends dt{constructor(p){super(p.getWidth(),p.getHeight()),this.delegate=p}getRow(p,y){const w=this.delegate.getRow(p,y),k=this.getWidth();for(let T=0;T<k;T++)w[T]=255-(w[T]&255);return w}getMatrix(){const p=this.delegate.getMatrix(),y=this.getWidth()*this.getHeight(),w=new Uint8ClampedArray(y);for(let k=0;k<y;k++)w[k]=255-(p[k]&255);return w}isCropSupported(){return this.delegate.isCropSupported()}crop(p,y,w,k){return new Mt(this.delegate.crop(p,y,w,k))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Mt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Mt(this.delegate.rotateCounterClockwise45())}}class We extends dt{constructor(p){super(p.width,p.height),this.canvas=p,this.tempCanvasElement=null,this.buffer=We.makeBufferFromCanvasImageData(p)}static makeBufferFromCanvasImageData(p){const y=p.getContext("2d").getImageData(0,0,p.width,p.height);return We.toGrayscaleBuffer(y.data,p.width,p.height)}static toGrayscaleBuffer(p,y,w){const k=new Uint8ClampedArray(y*w);for(let T=0,R=0,z=p.length;T<z;T+=4,R++){let W;if(p[T+3]===0)W=255;else{const Ae=p[T],Be=p[T+1],Fe=p[T+2];W=306*Ae+601*Be+117*Fe+512>>10}k[R]=W}return k}getRow(p,y){if(p<0||p>=this.getHeight())throw new x("Requested row is outside the image: "+p);const w=this.getWidth(),k=p*w;return y===null?y=this.buffer.slice(k,k+w):(y.length<w&&(y=new Uint8ClampedArray(w)),y.set(this.buffer.slice(k,k+w))),y}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(p,y,w,k){return super.crop(p,y,w,k),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const p=this.canvas.ownerDocument.createElement("canvas");p.width=this.canvas.width,p.height=this.canvas.height,this.tempCanvasElement=p}return this.tempCanvasElement}rotate(p){const y=this.getTempCanvasElement(),w=y.getContext("2d"),k=p*We.DEGREE_TO_RADIANS,T=this.canvas.width,R=this.canvas.height,z=Math.ceil(Math.abs(Math.cos(k))*T+Math.abs(Math.sin(k))*R),W=Math.ceil(Math.abs(Math.sin(k))*T+Math.abs(Math.cos(k))*R);return y.width=z,y.height=W,w.translate(z/2,W/2),w.rotate(k),w.drawImage(this.canvas,T/-2,R/-2),this.buffer=We.makeBufferFromCanvasImageData(y),this}invert(){return new Mt(this)}}We.DEGREE_TO_RADIANS=Math.PI/180;class Pt{constructor(p,y,w){this.deviceId=p,this.label=y,this.kind="videoinput",this.groupId=w||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Kt=(globalThis||xr||self||window||void 0)&&(globalThis||xr||self||window||void 0).__awaiter||function(Se,p,y,w){function k(T){return T instanceof y?T:new y(function(R){R(T)})}return new(y||(y=Promise))(function(T,R){function z(Ae){try{ee(w.next(Ae))}catch(Be){R(Be)}}function W(Ae){try{ee(w.throw(Ae))}catch(Be){R(Be)}}function ee(Ae){Ae.done?T(Ae.value):k(Ae.value).then(z,W)}ee((w=w.apply(Se,p||[])).next())})};class di{constructor(p,y=500,w){this.reader=p,this.timeBetweenScansMillis=y,this._hints=w,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(p){this._timeBetweenDecodingAttempts=p<0?0:p}set hints(p){this._hints=p||null}get hints(){return this._hints}listVideoInputDevices(){return Kt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const p=yield navigator.mediaDevices.enumerateDevices(),y=[];for(const w of p){const k=w.kind==="video"?"videoinput":w.kind;if(k!=="videoinput")continue;const T=w.deviceId||w.id,R=w.label||`Video device ${y.length+1}`,z=w.groupId,W={deviceId:T,label:R,kind:k,groupId:z};y.push(W)}return y})}getVideoInputDevices(){return Kt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(y=>new Pt(y.deviceId,y.label))})}findDeviceById(p){return Kt(this,void 0,void 0,function*(){const y=yield this.listVideoInputDevices();return y?y.find(w=>w.deviceId===p):null})}decodeFromInputVideoDevice(p,y){return Kt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(p,y)})}decodeOnceFromVideoDevice(p,y){return Kt(this,void 0,void 0,function*(){this.reset();let w;p?w={deviceId:{exact:p}}:w={facingMode:"environment"};const k={video:w};return yield this.decodeOnceFromConstraints(k,y)})}decodeOnceFromConstraints(p,y){return Kt(this,void 0,void 0,function*(){const w=yield navigator.mediaDevices.getUserMedia(p);return yield this.decodeOnceFromStream(w,y)})}decodeOnceFromStream(p,y){return Kt(this,void 0,void 0,function*(){this.reset();const w=yield this.attachStreamToVideo(p,y);return yield this.decodeOnce(w)})}decodeFromInputVideoDeviceContinuously(p,y,w){return Kt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(p,y,w)})}decodeFromVideoDevice(p,y,w){return Kt(this,void 0,void 0,function*(){let k;p?k={deviceId:{exact:p}}:k={facingMode:"environment"};const T={video:k};return yield this.decodeFromConstraints(T,y,w)})}decodeFromConstraints(p,y,w){return Kt(this,void 0,void 0,function*(){const k=yield navigator.mediaDevices.getUserMedia(p);return yield this.decodeFromStream(k,y,w)})}decodeFromStream(p,y,w){return Kt(this,void 0,void 0,function*(){this.reset();const k=yield this.attachStreamToVideo(p,y);return yield this.decodeContinuously(k,w)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(p,y){return Kt(this,void 0,void 0,function*(){const w=this.prepareVideoElement(y);return this.addVideoSource(w,p),this.videoElement=w,this.stream=p,yield this.playVideoOnLoadAsync(w),w})}playVideoOnLoadAsync(p){return new Promise((y,w)=>this.playVideoOnLoad(p,()=>y()))}playVideoOnLoad(p,y){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(p),p.addEventListener("ended",this.videoEndedListener),p.addEventListener("canplay",this.videoCanPlayListener),p.addEventListener("playing",y),this.tryPlayVideo(p)}isVideoPlaying(p){return p.currentTime>0&&!p.paused&&!p.ended&&p.readyState>2}tryPlayVideo(p){return Kt(this,void 0,void 0,function*(){if(this.isVideoPlaying(p)){console.warn("Trying to play video that is already playing.");return}try{yield p.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(p,y){const w=document.getElementById(p);if(!w)throw new g(`element with id '${p}' not found`);if(w.nodeName.toLowerCase()!==y.toLowerCase())throw new g(`element with id '${p}' must be an ${y} element`);return w}decodeFromImage(p,y){if(!p&&!y)throw new g("either imageElement with a src set or an url must be provided");return y&&!p?this.decodeFromImageUrl(y):this.decodeFromImageElement(p)}decodeFromVideo(p,y){if(!p&&!y)throw new g("Either an element with a src set or an URL must be provided");return y&&!p?this.decodeFromVideoUrl(y):this.decodeFromVideoElement(p)}decodeFromVideoContinuously(p,y,w){if(p===void 0&&y===void 0)throw new g("Either an element with a src set or an URL must be provided");return y&&!p?this.decodeFromVideoUrlContinuously(y,w):this.decodeFromVideoElementContinuously(p,w)}decodeFromImageElement(p){if(!p)throw new g("An image element must be provided.");this.reset();const y=this.prepareImageElement(p);this.imageElement=y;let w;return this.isImageLoaded(y)?w=this.decodeOnce(y,!1,!0):w=this._decodeOnLoadImage(y),w}decodeFromVideoElement(p){const y=this._decodeFromVideoElementSetup(p);return this._decodeOnLoadVideo(y)}decodeFromVideoElementContinuously(p,y){const w=this._decodeFromVideoElementSetup(p);return this._decodeOnLoadVideoContinuously(w,y)}_decodeFromVideoElementSetup(p){if(!p)throw new g("A video element must be provided.");this.reset();const y=this.prepareVideoElement(p);return this.videoElement=y,y}decodeFromImageUrl(p){if(!p)throw new g("An URL must be provided.");this.reset();const y=this.prepareImageElement();this.imageElement=y;const w=this._decodeOnLoadImage(y);return y.src=p,w}decodeFromVideoUrl(p){if(!p)throw new g("An URL must be provided.");this.reset();const y=this.prepareVideoElement(),w=this.decodeFromVideoElement(y);return y.src=p,w}decodeFromVideoUrlContinuously(p,y){if(!p)throw new g("An URL must be provided.");this.reset();const w=this.prepareVideoElement(),k=this.decodeFromVideoElementContinuously(w,y);return w.src=p,k}_decodeOnLoadImage(p){return new Promise((y,w)=>{this.imageLoadedListener=()=>this.decodeOnce(p,!1,!0).then(y,w),p.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(p){return Kt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(p),yield this.decodeOnce(p)})}_decodeOnLoadVideoContinuously(p,y){return Kt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(p),this.decodeContinuously(p,y)})}isImageLoaded(p){return!(!p.complete||p.naturalWidth===0)}prepareImageElement(p){let y;return typeof p>"u"&&(y=document.createElement("img"),y.width=200,y.height=200),typeof p=="string"&&(y=this.getMediaElement(p,"img")),p instanceof HTMLImageElement&&(y=p),y}prepareVideoElement(p){let y;return!p&&typeof document<"u"&&(y=document.createElement("video"),y.width=200,y.height=200),typeof p=="string"&&(y=this.getMediaElement(p,"video")),p instanceof HTMLVideoElement&&(y=p),y.setAttribute("autoplay","true"),y.setAttribute("muted","true"),y.setAttribute("playsinline","true"),y}decodeOnce(p,y=!0,w=!0){this._stopAsyncDecode=!1;const k=(T,R)=>{if(this._stopAsyncDecode){R(new Ie("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const z=this.decode(p);T(z)}catch(z){const W=y&&z instanceof Ie,Ae=(z instanceof S||z instanceof q)&&w;if(W||Ae)return setTimeout(k,this._timeBetweenDecodingAttempts,T,R);R(z)}};return new Promise((T,R)=>k(T,R))}decodeContinuously(p,y){this._stopContinuousDecode=!1;const w=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const k=this.decode(p);y(k,null),setTimeout(w,this.timeBetweenScansMillis)}catch(k){y(null,k);const T=k instanceof S||k instanceof q,R=k instanceof Ie;(T||R)&&setTimeout(w,this._timeBetweenDecodingAttempts)}};w()}decode(p){const y=this.createBinaryBitmap(p);return this.decodeBitmap(y)}_isHTMLVideoElement(p){return p.videoWidth!==0}drawFrameOnCanvas(p,y,w){y||(y={sx:0,sy:0,sWidth:p.videoWidth,sHeight:p.videoHeight,dx:0,dy:0,dWidth:p.videoWidth,dHeight:p.videoHeight}),w||(w=this.captureCanvasContext),w.drawImage(p,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}drawImageOnCanvas(p,y,w=this.captureCanvasContext){y||(y={sx:0,sy:0,sWidth:p.naturalWidth,sHeight:p.naturalHeight,dx:0,dy:0,dWidth:p.naturalWidth,dHeight:p.naturalHeight}),w||(w=this.captureCanvasContext),w.drawImage(p,y.sx,y.sy,y.sWidth,y.sHeight,y.dx,y.dy,y.dWidth,y.dHeight)}createBinaryBitmap(p){this.getCaptureCanvasContext(p),this._isHTMLVideoElement(p)?this.drawFrameOnCanvas(p):this.drawImageOnCanvas(p);const y=this.getCaptureCanvas(p),w=new We(y),k=new je(w);return new b(k)}getCaptureCanvasContext(p){if(!this.captureCanvasContext){const w=this.getCaptureCanvas(p).getContext("2d");this.captureCanvasContext=w}return this.captureCanvasContext}getCaptureCanvas(p){if(!this.captureCanvas){const y=this.createCaptureCanvas(p);this.captureCanvas=y}return this.captureCanvas}decodeBitmap(p){return this.reader.decode(p,this._hints)}createCaptureCanvas(p){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const y=document.createElement("canvas");let w,k;return typeof p<"u"&&(p instanceof HTMLVideoElement?(w=p.videoWidth,k=p.videoHeight):p instanceof HTMLImageElement&&(w=p.naturalWidth||p.width,k=p.naturalHeight||p.height)),y.style.width=w+"px",y.style.height=k+"px",y.width=w,y.height=k,y}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(p=>p.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(p,y){try{p.srcObject=y}catch{p.src=URL.createObjectURL(y)}}cleanVideoSource(p){try{p.srcObject=null}catch{p.src=""}this.videoElement.removeAttribute("src")}}class It{constructor(p,y,w=y==null?0:8*y.length,k,T,R=I.currentTimeMillis()){this.text=p,this.rawBytes=y,this.numBits=w,this.resultPoints=k,this.format=T,this.timestamp=R,this.text=p,this.rawBytes=y,w==null?this.numBits=y==null?0:8*y.length:this.numBits=w,this.resultPoints=k,this.format=T,this.resultMetadata=null,R==null?this.timestamp=I.currentTimeMillis():this.timestamp=R}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(p,y){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(p,y)}putAllMetadata(p){p!==null&&(this.resultMetadata===null?this.resultMetadata=p:this.resultMetadata=new Map(p))}addResultPoints(p){const y=this.resultPoints;if(y===null)this.resultPoints=p;else if(p!==null&&p.length>0){const w=new Array(y.length+p.length);I.arraycopy(y,0,w,0,y.length),I.arraycopy(p,0,w,y.length,p.length),this.resultPoints=w}}getTimestamp(){return this.timestamp}toString(){return this.text}}var bt;(function(Se){Se[Se.AZTEC=0]="AZTEC",Se[Se.CODABAR=1]="CODABAR",Se[Se.CODE_39=2]="CODE_39",Se[Se.CODE_93=3]="CODE_93",Se[Se.CODE_128=4]="CODE_128",Se[Se.DATA_MATRIX=5]="DATA_MATRIX",Se[Se.EAN_8=6]="EAN_8",Se[Se.EAN_13=7]="EAN_13",Se[Se.ITF=8]="ITF",Se[Se.MAXICODE=9]="MAXICODE",Se[Se.PDF_417=10]="PDF_417",Se[Se.QR_CODE=11]="QR_CODE",Se[Se.RSS_14=12]="RSS_14",Se[Se.RSS_EXPANDED=13]="RSS_EXPANDED",Se[Se.UPC_A=14]="UPC_A",Se[Se.UPC_E=15]="UPC_E",Se[Se.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(bt||(bt={}));var mt=bt,si;(function(Se){Se[Se.OTHER=0]="OTHER",Se[Se.ORIENTATION=1]="ORIENTATION",Se[Se.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Se[Se.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Se[Se.ISSUE_NUMBER=4]="ISSUE_NUMBER",Se[Se.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Se[Se.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Se[Se.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Se[Se.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Se[Se.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Se[Se.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(si||(si={}));var gi=si;class Vi{constructor(p,y,w,k,T=-1,R=-1){this.rawBytes=p,this.text=y,this.byteSegments=w,this.ecLevel=k,this.structuredAppendSequenceNumber=T,this.structuredAppendParity=R,this.numBits=p==null?0:8*p.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(p){this.numBits=p}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(p){this.errorsCorrected=p}getErasures(){return this.erasures}setErasures(p){this.erasures=p}getOther(){return this.other}setOther(p){this.other=p}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ii{exp(p){return this.expTable[p]}log(p){if(p===0)throw new x;return this.logTable[p]}static addOrSubtract(p,y){return p^y}}class oi{constructor(p,y){if(y.length===0)throw new x;this.field=p;const w=y.length;if(w>1&&y[0]===0){let k=1;for(;k<w&&y[k]===0;)k++;k===w?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(w-k),I.arraycopy(y,k,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(p){return this.coefficients[this.coefficients.length-1-p]}evaluateAt(p){if(p===0)return this.getCoefficient(0);const y=this.coefficients;let w;if(p===1){w=0;for(let R=0,z=y.length;R!==z;R++){const W=y[R];w=Ii.addOrSubtract(w,W)}return w}w=y[0];const k=y.length,T=this.field;for(let R=1;R<k;R++)w=Ii.addOrSubtract(T.multiply(p,w),y[R]);return w}addOrSubtract(p){if(!this.field.equals(p.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return p;if(p.isZero())return this;let y=this.coefficients,w=p.coefficients;if(y.length>w.length){const R=y;y=w,w=R}let k=new Int32Array(w.length);const T=w.length-y.length;I.arraycopy(w,0,k,0,T);for(let R=T;R<w.length;R++)k[R]=Ii.addOrSubtract(y[R-T],w[R]);return new oi(this.field,k)}multiply(p){if(!this.field.equals(p.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||p.isZero())return this.field.getZero();const y=this.coefficients,w=y.length,k=p.coefficients,T=k.length,R=new Int32Array(w+T-1),z=this.field;for(let W=0;W<w;W++){const ee=y[W];for(let Ae=0;Ae<T;Ae++)R[W+Ae]=Ii.addOrSubtract(R[W+Ae],z.multiply(ee,k[Ae]))}return new oi(z,R)}multiplyScalar(p){if(p===0)return this.field.getZero();if(p===1)return this;const y=this.coefficients.length,w=this.field,k=new Int32Array(y),T=this.coefficients;for(let R=0;R<y;R++)k[R]=w.multiply(T[R],p);return new oi(w,k)}multiplyByMonomial(p,y){if(p<0)throw new x;if(y===0)return this.field.getZero();const w=this.coefficients,k=w.length,T=new Int32Array(k+p),R=this.field;for(let z=0;z<k;z++)T[z]=R.multiply(w[z],y);return new oi(R,T)}divide(p){if(!this.field.equals(p.field))throw new x("GenericGFPolys do not have same GenericGF field");if(p.isZero())throw new x("Divide by 0");const y=this.field;let w=y.getZero(),k=this;const T=p.getCoefficient(p.getDegree()),R=y.inverse(T);for(;k.getDegree()>=p.getDegree()&&!k.isZero();){const z=k.getDegree()-p.getDegree(),W=y.multiply(k.getCoefficient(k.getDegree()),R),ee=p.multiplyByMonomial(z,W),Ae=y.buildMonomial(z,W);w=w.addOrSubtract(Ae),k=k.addOrSubtract(ee)}return[w,k]}toString(){let p="";for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);if(w!==0){if(w<0?(p+=" - ",w=-w):p.length>0&&(p+=" + "),y===0||w!==1){const k=this.field.log(w);k===0?p+="1":k===1?p+="a":(p+="a^",p+=k)}y!==0&&(y===1?p+="x":(p+="x^",p+=y))}}return p}}class fn extends d{}fn.kind="ArithmeticException";class Mi extends Ii{constructor(p,y,w){super(),this.primitive=p,this.size=y,this.generatorBase=w;const k=new Int32Array(y);let T=1;for(let z=0;z<y;z++)k[z]=T,T*=2,T>=y&&(T^=p,T&=y-1);this.expTable=k;const R=new Int32Array(y);for(let z=0;z<y-1;z++)R[k[z]]=z;this.logTable=R,this.zero=new oi(this,Int32Array.from([0])),this.one=new oi(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(p,y){if(p<0)throw new x;if(y===0)return this.zero;const w=new Int32Array(p+1);return w[0]=y,new oi(this,w)}inverse(p){if(p===0)throw new fn;return this.expTable[this.size-this.logTable[p]-1]}multiply(p,y){return p===0||y===0?0:this.expTable[(this.logTable[p]+this.logTable[y])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Y.toHexString(this.primitive)+","+this.size+")"}equals(p){return p===this}}Mi.AZTEC_DATA_12=new Mi(4201,4096,1),Mi.AZTEC_DATA_10=new Mi(1033,1024,1),Mi.AZTEC_DATA_6=new Mi(67,64,1),Mi.AZTEC_PARAM=new Mi(19,16,1),Mi.QR_CODE_FIELD_256=new Mi(285,256,0),Mi.DATA_MATRIX_FIELD_256=new Mi(301,256,1),Mi.AZTEC_DATA_8=Mi.DATA_MATRIX_FIELD_256,Mi.MAXICODE_FIELD_64=Mi.AZTEC_DATA_6;class Ji extends d{}Ji.kind="ReedSolomonException";class rn extends d{}rn.kind="IllegalStateException";class xn{constructor(p){this.field=p}decode(p,y){const w=this.field,k=new oi(w,p),T=new Int32Array(y);let R=!0;for(let Ke=0;Ke<y;Ke++){const gt=k.evaluateAt(w.exp(Ke+w.getGeneratorBase()));T[T.length-1-Ke]=gt,gt!==0&&(R=!1)}if(R)return;const z=new oi(w,T),W=this.runEuclideanAlgorithm(w.buildMonomial(y,1),z,y),ee=W[0],Ae=W[1],Be=this.findErrorLocations(ee),Fe=this.findErrorMagnitudes(Ae,Be);for(let Ke=0;Ke<Be.length;Ke++){const gt=p.length-1-w.log(Be[Ke]);if(gt<0)throw new Ji("Bad error location");p[gt]=Mi.addOrSubtract(p[gt],Fe[Ke])}}runEuclideanAlgorithm(p,y,w){if(p.getDegree()<y.getDegree()){const Ke=p;p=y,y=Ke}const k=this.field;let T=p,R=y,z=k.getZero(),W=k.getOne();for(;R.getDegree()>=(w/2|0);){let Ke=T,gt=z;if(T=R,z=W,T.isZero())throw new Ji("r_{i-1} was zero");R=Ke;let vt=k.getZero();const Ot=T.getCoefficient(T.getDegree()),Zt=k.inverse(Ot);for(;R.getDegree()>=T.getDegree()&&!R.isZero();){const Pi=R.getDegree()-T.getDegree(),Ri=k.multiply(R.getCoefficient(R.getDegree()),Zt);vt=vt.addOrSubtract(k.buildMonomial(Pi,Ri)),R=R.addOrSubtract(T.multiplyByMonomial(Pi,Ri))}if(W=vt.multiply(z).addOrSubtract(gt),R.getDegree()>=T.getDegree())throw new rn("Division algorithm failed to reduce polynomial?")}const ee=W.getCoefficient(0);if(ee===0)throw new Ji("sigmaTilde(0) was zero");const Ae=k.inverse(ee),Be=W.multiplyScalar(Ae),Fe=R.multiplyScalar(Ae);return[Be,Fe]}findErrorLocations(p){const y=p.getDegree();if(y===1)return Int32Array.from([p.getCoefficient(1)]);const w=new Int32Array(y);let k=0;const T=this.field;for(let R=1;R<T.getSize()&&k<y;R++)p.evaluateAt(R)===0&&(w[k]=T.inverse(R),k++);if(k!==y)throw new Ji("Error locator degree does not match number of roots");return w}findErrorMagnitudes(p,y){const w=y.length,k=new Int32Array(w),T=this.field;for(let R=0;R<w;R++){const z=T.inverse(y[R]);let W=1;for(let ee=0;ee<w;ee++)if(R!==ee){const Ae=T.multiply(y[ee],z),Be=(Ae&1)===0?Ae|1:Ae&-2;W=T.multiply(W,Be)}k[R]=T.multiply(p.evaluateAt(z),T.inverse(W)),T.getGeneratorBase()!==0&&(k[R]=T.multiply(k[R],z))}return k}}var Ye;(function(Se){Se[Se.UPPER=0]="UPPER",Se[Se.LOWER=1]="LOWER",Se[Se.MIXED=2]="MIXED",Se[Se.DIGIT=3]="DIGIT",Se[Se.PUNCT=4]="PUNCT",Se[Se.BINARY=5]="BINARY"})(Ye||(Ye={}));class Yt{decode(p){this.ddata=p;let y=p.getBits(),w=this.extractBits(y),k=this.correctBits(w),T=Yt.convertBoolArrayToByteArray(k),R=Yt.getEncodedData(k),z=new Vi(T,R,null,null);return z.setNumBits(k.length),z}static highLevelDecode(p){return this.getEncodedData(p)}static getEncodedData(p){let y=p.length,w=Ye.UPPER,k=Ye.UPPER,T="",R=0;for(;R<y;)if(k===Ye.BINARY){if(y-R<5)break;let z=Yt.readCode(p,R,5);if(R+=5,z===0){if(y-R<11)break;z=Yt.readCode(p,R,11)+31,R+=11}for(let W=0;W<z;W++){if(y-R<8){R=y;break}const ee=Yt.readCode(p,R,8);T+=de.castAsNonUtf8Char(ee),R+=8}k=w}else{let z=k===Ye.DIGIT?4:5;if(y-R<z)break;let W=Yt.readCode(p,R,z);R+=z;let ee=Yt.getCharacter(k,W);ee.startsWith("CTRL_")?(w=k,k=Yt.getTable(ee.charAt(5)),ee.charAt(6)==="L"&&(w=k)):(T+=ee,k=w)}return T}static getTable(p){switch(p){case"L":return Ye.LOWER;case"P":return Ye.PUNCT;case"M":return Ye.MIXED;case"D":return Ye.DIGIT;case"B":return Ye.BINARY;case"U":default:return Ye.UPPER}}static getCharacter(p,y){switch(p){case Ye.UPPER:return Yt.UPPER_TABLE[y];case Ye.LOWER:return Yt.LOWER_TABLE[y];case Ye.MIXED:return Yt.MIXED_TABLE[y];case Ye.PUNCT:return Yt.PUNCT_TABLE[y];case Ye.DIGIT:return Yt.DIGIT_TABLE[y];default:throw new rn("Bad table")}}correctBits(p){let y,w;this.ddata.getNbLayers()<=2?(w=6,y=Mi.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(w=8,y=Mi.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(w=10,y=Mi.AZTEC_DATA_10):(w=12,y=Mi.AZTEC_DATA_12);let k=this.ddata.getNbDatablocks(),T=p.length/w;if(T<k)throw new q;let R=p.length%w,z=new Int32Array(T);for(let Fe=0;Fe<T;Fe++,R+=w)z[Fe]=Yt.readCode(p,R,w);try{new xn(y).decode(z,T-k)}catch(Fe){throw new q(Fe)}let W=(1<<w)-1,ee=0;for(let Fe=0;Fe<k;Fe++){let Ke=z[Fe];if(Ke===0||Ke===W)throw new q;(Ke===1||Ke===W-1)&&ee++}let Ae=new Array(k*w-ee),Be=0;for(let Fe=0;Fe<k;Fe++){let Ke=z[Fe];if(Ke===1||Ke===W-1)Ae.fill(Ke>1,Be,Be+w-1),Be+=w-1;else for(let gt=w-1;gt>=0;--gt)Ae[Be++]=(Ke&1<<gt)!==0}return Ae}extractBits(p){let y=this.ddata.isCompact(),w=this.ddata.getNbLayers(),k=(y?11:14)+w*4,T=new Int32Array(k),R=new Array(this.totalBitsInLayer(w,y));if(y)for(let z=0;z<T.length;z++)T[z]=z;else{let z=k+1+2*Y.truncDivision(Y.truncDivision(k,2)-1,15),W=k/2,ee=Y.truncDivision(z,2);for(let Ae=0;Ae<W;Ae++){let Be=Ae+Y.truncDivision(Ae,15);T[W-Ae-1]=ee-Be-1,T[W+Ae]=ee+Be+1}}for(let z=0,W=0;z<w;z++){let ee=(w-z)*4+(y?9:12),Ae=z*2,Be=k-1-Ae;for(let Fe=0;Fe<ee;Fe++){let Ke=Fe*2;for(let gt=0;gt<2;gt++)R[W+Ke+gt]=p.get(T[Ae+gt],T[Ae+Fe]),R[W+2*ee+Ke+gt]=p.get(T[Ae+Fe],T[Be-gt]),R[W+4*ee+Ke+gt]=p.get(T[Be-gt],T[Be-Fe]),R[W+6*ee+Ke+gt]=p.get(T[Be-Fe],T[Ae+gt])}W+=ee*8}return R}static readCode(p,y,w){let k=0;for(let T=y;T<y+w;T++)k<<=1,p[T]&&(k|=1);return k}static readByte(p,y){let w=p.length-y;return w>=8?Yt.readCode(p,y,8):Yt.readCode(p,y,w)<<8-w}static convertBoolArrayToByteArray(p){let y=new Uint8Array((p.length+7)/8);for(let w=0;w<y.length;w++)y[w]=Yt.readByte(p,8*w);return y}totalBitsInLayer(p,y){return((y?88:112)+16*p)*p}}Yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ci{constructor(){}static round(p){return p===NaN?0:p<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:p>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:p+(p<0?-.5:.5)|0}static distance(p,y,w,k){const T=p-w,R=y-k;return Math.sqrt(T*T+R*R)}static sum(p){let y=0;for(let w=0,k=p.length;w!==k;w++){const T=p[w];y+=T}return y}}class Oi{static floatToIntBits(p){return p}}Oi.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ui{constructor(p,y){this.x=p,this.y=y}getX(){return this.x}getY(){return this.y}equals(p){if(p instanceof ui){const y=p;return this.x===y.x&&this.y===y.y}return!1}hashCode(){return 31*Oi.floatToIntBits(this.x)+Oi.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(p){const y=this.distance(p[0],p[1]),w=this.distance(p[1],p[2]),k=this.distance(p[0],p[2]);let T,R,z;if(w>=y&&w>=k?(R=p[0],T=p[1],z=p[2]):k>=w&&k>=y?(R=p[1],T=p[0],z=p[2]):(R=p[2],T=p[0],z=p[1]),this.crossProductZ(T,R,z)<0){const W=T;T=z,z=W}p[0]=T,p[1]=R,p[2]=z}static distance(p,y){return ci.distance(p.x,p.y,y.x,y.y)}static crossProductZ(p,y,w){const k=y.x,T=y.y;return(w.x-k)*(p.y-T)-(w.y-T)*(p.x-k)}}class $i{constructor(p,y){this.bits=p,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class wi extends $i{constructor(p,y,w,k,T){super(p,y),this.compact=w,this.nbDatablocks=k,this.nbLayers=T}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ei{constructor(p,y,w,k){this.image=p,this.height=p.getHeight(),this.width=p.getWidth(),y==null&&(y=Ei.INIT_SIZE),w==null&&(w=p.getWidth()/2|0),k==null&&(k=p.getHeight()/2|0);const T=y/2|0;if(this.leftInit=w-T,this.rightInit=w+T,this.upInit=k-T,this.downInit=k+T,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ie}detect(){let p=this.leftInit,y=this.rightInit,w=this.upInit,k=this.downInit,T=!1,R=!0,z=!1,W=!1,ee=!1,Ae=!1,Be=!1;const Fe=this.width,Ke=this.height;for(;R;){R=!1;let gt=!0;for(;(gt||!W)&&y<Fe;)gt=this.containsBlackPoint(w,k,y,!1),gt?(y++,R=!0,W=!0):W||y++;if(y>=Fe){T=!0;break}let vt=!0;for(;(vt||!ee)&&k<Ke;)vt=this.containsBlackPoint(p,y,k,!0),vt?(k++,R=!0,ee=!0):ee||k++;if(k>=Ke){T=!0;break}let Ot=!0;for(;(Ot||!Ae)&&p>=0;)Ot=this.containsBlackPoint(w,k,p,!1),Ot?(p--,R=!0,Ae=!0):Ae||p--;if(p<0){T=!0;break}let Zt=!0;for(;(Zt||!Be)&&w>=0;)Zt=this.containsBlackPoint(p,y,w,!0),Zt?(w--,R=!0,Be=!0):Be||w--;if(w<0){T=!0;break}R&&(z=!0)}if(!T&&z){const gt=y-p;let vt=null;for(let Ri=1;vt===null&&Ri<gt;Ri++)vt=this.getBlackPointOnSegment(p,k-Ri,p+Ri,k);if(vt==null)throw new Ie;let Ot=null;for(let Ri=1;Ot===null&&Ri<gt;Ri++)Ot=this.getBlackPointOnSegment(p,w+Ri,p+Ri,w);if(Ot==null)throw new Ie;let Zt=null;for(let Ri=1;Zt===null&&Ri<gt;Ri++)Zt=this.getBlackPointOnSegment(y,w+Ri,y-Ri,w);if(Zt==null)throw new Ie;let Pi=null;for(let Ri=1;Pi===null&&Ri<gt;Ri++)Pi=this.getBlackPointOnSegment(y,k-Ri,y-Ri,k);if(Pi==null)throw new Ie;return this.centerEdges(Pi,vt,Zt,Ot)}else throw new Ie}getBlackPointOnSegment(p,y,w,k){const T=ci.round(ci.distance(p,y,w,k)),R=(w-p)/T,z=(k-y)/T,W=this.image;for(let ee=0;ee<T;ee++){const Ae=ci.round(p+ee*R),Be=ci.round(y+ee*z);if(W.get(Ae,Be))return new ui(Ae,Be)}return null}centerEdges(p,y,w,k){const T=p.getX(),R=p.getY(),z=y.getX(),W=y.getY(),ee=w.getX(),Ae=w.getY(),Be=k.getX(),Fe=k.getY(),Ke=Ei.CORR;return T<this.width/2?[new ui(Be-Ke,Fe+Ke),new ui(z+Ke,W+Ke),new ui(ee-Ke,Ae-Ke),new ui(T+Ke,R-Ke)]:[new ui(Be+Ke,Fe+Ke),new ui(z+Ke,W-Ke),new ui(ee-Ke,Ae+Ke),new ui(T-Ke,R-Ke)]}containsBlackPoint(p,y,w,k){const T=this.image;if(k){for(let R=p;R<=y;R++)if(T.get(R,w))return!0}else for(let R=p;R<=y;R++)if(T.get(w,R))return!0;return!1}}Ei.INIT_SIZE=10,Ei.CORR=1;class Fi{static checkAndNudgePoints(p,y){const w=p.getWidth(),k=p.getHeight();let T=!0;for(let R=0;R<y.length&&T;R+=2){const z=Math.floor(y[R]),W=Math.floor(y[R+1]);if(z<-1||z>w||W<-1||W>k)throw new Ie;T=!1,z===-1?(y[R]=0,T=!0):z===w&&(y[R]=w-1,T=!0),W===-1?(y[R+1]=0,T=!0):W===k&&(y[R+1]=k-1,T=!0)}T=!0;for(let R=y.length-2;R>=0&&T;R-=2){const z=Math.floor(y[R]),W=Math.floor(y[R+1]);if(z<-1||z>w||W<-1||W>k)throw new Ie;T=!1,z===-1?(y[R]=0,T=!0):z===w&&(y[R]=w-1,T=!0),W===-1?(y[R+1]=0,T=!0):W===k&&(y[R+1]=k-1,T=!0)}}}class ft{constructor(p,y,w,k,T,R,z,W,ee){this.a11=p,this.a21=y,this.a31=w,this.a12=k,this.a22=T,this.a32=R,this.a13=z,this.a23=W,this.a33=ee}static quadrilateralToQuadrilateral(p,y,w,k,T,R,z,W,ee,Ae,Be,Fe,Ke,gt,vt,Ot){const Zt=ft.quadrilateralToSquare(p,y,w,k,T,R,z,W);return ft.squareToQuadrilateral(ee,Ae,Be,Fe,Ke,gt,vt,Ot).times(Zt)}transformPoints(p){const y=p.length,w=this.a11,k=this.a12,T=this.a13,R=this.a21,z=this.a22,W=this.a23,ee=this.a31,Ae=this.a32,Be=this.a33;for(let Fe=0;Fe<y;Fe+=2){const Ke=p[Fe],gt=p[Fe+1],vt=T*Ke+W*gt+Be;p[Fe]=(w*Ke+R*gt+ee)/vt,p[Fe+1]=(k*Ke+z*gt+Ae)/vt}}transformPointsWithValues(p,y){const w=this.a11,k=this.a12,T=this.a13,R=this.a21,z=this.a22,W=this.a23,ee=this.a31,Ae=this.a32,Be=this.a33,Fe=p.length;for(let Ke=0;Ke<Fe;Ke++){const gt=p[Ke],vt=y[Ke],Ot=T*gt+W*vt+Be;p[Ke]=(w*gt+R*vt+ee)/Ot,y[Ke]=(k*gt+z*vt+Ae)/Ot}}static squareToQuadrilateral(p,y,w,k,T,R,z,W){const ee=p-w+T-z,Ae=y-k+R-W;if(ee===0&&Ae===0)return new ft(w-p,T-w,p,k-y,R-k,y,0,0,1);{const Be=w-T,Fe=z-T,Ke=k-R,gt=W-R,vt=Be*gt-Fe*Ke,Ot=(ee*gt-Fe*Ae)/vt,Zt=(Be*Ae-ee*Ke)/vt;return new ft(w-p+Ot*w,z-p+Zt*z,p,k-y+Ot*k,W-y+Zt*W,y,Ot,Zt,1)}}static quadrilateralToSquare(p,y,w,k,T,R,z,W){return ft.squareToQuadrilateral(p,y,w,k,T,R,z,W).buildAdjoint()}buildAdjoint(){return new ft(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(p){return new ft(this.a11*p.a11+this.a21*p.a12+this.a31*p.a13,this.a11*p.a21+this.a21*p.a22+this.a31*p.a23,this.a11*p.a31+this.a21*p.a32+this.a31*p.a33,this.a12*p.a11+this.a22*p.a12+this.a32*p.a13,this.a12*p.a21+this.a22*p.a22+this.a32*p.a23,this.a12*p.a31+this.a22*p.a32+this.a32*p.a33,this.a13*p.a11+this.a23*p.a12+this.a33*p.a13,this.a13*p.a21+this.a23*p.a22+this.a33*p.a23,this.a13*p.a31+this.a23*p.a32+this.a33*p.a33)}}class xe extends Fi{sampleGrid(p,y,w,k,T,R,z,W,ee,Ae,Be,Fe,Ke,gt,vt,Ot,Zt,Pi,Ri){const Si=ft.quadrilateralToQuadrilateral(k,T,R,z,W,ee,Ae,Be,Fe,Ke,gt,vt,Ot,Zt,Pi,Ri);return this.sampleGridWithTransform(p,y,w,Si)}sampleGridWithTransform(p,y,w,k){if(y<=0||w<=0)throw new Ie;const T=new De(y,w),R=new Float32Array(2*y);for(let z=0;z<w;z++){const W=R.length,ee=z+.5;for(let Ae=0;Ae<W;Ae+=2)R[Ae]=Ae/2+.5,R[Ae+1]=ee;k.transformPoints(R),Fi.checkAndNudgePoints(p,R);try{for(let Ae=0;Ae<W;Ae+=2)p.get(Math.floor(R[Ae]),Math.floor(R[Ae+1]))&&T.set(Ae/2,z)}catch{throw new Ie}}return T}}class we{static setGridSampler(p){we.gridSampler=p}static getInstance(){return we.gridSampler}}we.gridSampler=new xe;class Ee{constructor(p,y){this.x=p,this.y=y}toResultPoint(){return new ui(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class tt{constructor(p){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=p}detect(){return this.detectMirror(!1)}detectMirror(p){let y=this.getMatrixCenter(),w=this.getBullsEyeCorners(y);if(p){let R=w[0];w[0]=w[2],w[2]=R}this.extractParameters(w);let k=this.sampleGrid(this.image,w[this.shift%4],w[(this.shift+1)%4],w[(this.shift+2)%4],w[(this.shift+3)%4]),T=this.getMatrixCornerPoints(w);return new wi(k,T,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(p){if(!this.isValidPoint(p[0])||!this.isValidPoint(p[1])||!this.isValidPoint(p[2])||!this.isValidPoint(p[3]))throw new Ie;let y=2*this.nbCenterLayers,w=new Int32Array([this.sampleLine(p[0],p[1],y),this.sampleLine(p[1],p[2],y),this.sampleLine(p[2],p[3],y),this.sampleLine(p[3],p[0],y)]);this.shift=this.getRotation(w,y);let k=0;for(let R=0;R<4;R++){let z=w[(this.shift+R)%4];this.compact?(k<<=7,k+=z>>1&127):(k<<=10,k+=(z>>2&992)+(z>>1&31))}let T=this.getCorrectedParameterData(k,this.compact);this.compact?(this.nbLayers=(T>>6)+1,this.nbDataBlocks=(T&63)+1):(this.nbLayers=(T>>11)+1,this.nbDataBlocks=(T&2047)+1)}getRotation(p,y){let w=0;p.forEach((k,T,R)=>{let z=(k>>y-2<<1)+(k&1);w=(w<<3)+z}),w=((w&1)<<11)+(w>>1);for(let k=0;k<4;k++)if(Y.bitCount(w^this.EXPECTED_CORNER_BITS[k])<=2)return k;throw new Ie}getCorrectedParameterData(p,y){let w,k;y?(w=7,k=2):(w=10,k=4);let T=w-k,R=new Int32Array(w);for(let W=w-1;W>=0;--W)R[W]=p&15,p>>=4;try{new xn(Mi.AZTEC_PARAM).decode(R,T)}catch{throw new Ie}let z=0;for(let W=0;W<k;W++)z=(z<<4)+R[W];return z}getBullsEyeCorners(p){let y=p,w=p,k=p,T=p,R=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Be=this.getFirstDifferent(y,R,1,-1),Fe=this.getFirstDifferent(w,R,1,1),Ke=this.getFirstDifferent(k,R,-1,1),gt=this.getFirstDifferent(T,R,-1,-1);if(this.nbCenterLayers>2){let vt=this.distancePoint(gt,Be)*this.nbCenterLayers/(this.distancePoint(T,y)*(this.nbCenterLayers+2));if(vt<.75||vt>1.25||!this.isWhiteOrBlackRectangle(Be,Fe,Ke,gt))break}y=Be,w=Fe,k=Ke,T=gt,R=!R}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ie;this.compact=this.nbCenterLayers===5;let z=new ui(y.getX()+.5,y.getY()-.5),W=new ui(w.getX()+.5,w.getY()+.5),ee=new ui(k.getX()-.5,k.getY()+.5),Ae=new ui(T.getX()-.5,T.getY()-.5);return this.expandSquare([z,W,ee,Ae],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let p,y,w,k;try{let z=new Ei(this.image).detect();p=z[0],y=z[1],w=z[2],k=z[3]}catch{let W=this.image.getWidth()/2,ee=this.image.getHeight()/2;p=this.getFirstDifferent(new Ee(W+7,ee-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new Ee(W+7,ee+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new Ee(W-7,ee+7),!1,-1,1).toResultPoint(),k=this.getFirstDifferent(new Ee(W-7,ee-7),!1,-1,-1).toResultPoint()}let T=ci.round((p.getX()+k.getX()+y.getX()+w.getX())/4),R=ci.round((p.getY()+k.getY()+y.getY()+w.getY())/4);try{let z=new Ei(this.image,15,T,R).detect();p=z[0],y=z[1],w=z[2],k=z[3]}catch{p=this.getFirstDifferent(new Ee(T+7,R-7),!1,1,-1).toResultPoint(),y=this.getFirstDifferent(new Ee(T+7,R+7),!1,1,1).toResultPoint(),w=this.getFirstDifferent(new Ee(T-7,R+7),!1,-1,1).toResultPoint(),k=this.getFirstDifferent(new Ee(T-7,R-7),!1,-1,-1).toResultPoint()}return T=ci.round((p.getX()+k.getX()+y.getX()+w.getX())/4),R=ci.round((p.getY()+k.getY()+y.getY()+w.getY())/4),new Ee(T,R)}getMatrixCornerPoints(p){return this.expandSquare(p,2*this.nbCenterLayers,this.getDimension())}sampleGrid(p,y,w,k,T){let R=we.getInstance(),z=this.getDimension(),W=z/2-this.nbCenterLayers,ee=z/2+this.nbCenterLayers;return R.sampleGrid(p,z,z,W,W,ee,W,ee,ee,W,ee,y.getX(),y.getY(),w.getX(),w.getY(),k.getX(),k.getY(),T.getX(),T.getY())}sampleLine(p,y,w){let k=0,T=this.distanceResultPoint(p,y),R=T/w,z=p.getX(),W=p.getY(),ee=R*(y.getX()-p.getX())/T,Ae=R*(y.getY()-p.getY())/T;for(let Be=0;Be<w;Be++)this.image.get(ci.round(z+Be*ee),ci.round(W+Be*Ae))&&(k|=1<<w-Be-1);return k}isWhiteOrBlackRectangle(p,y,w,k){let T=3;p=new Ee(p.getX()-T,p.getY()+T),y=new Ee(y.getX()-T,y.getY()-T),w=new Ee(w.getX()+T,w.getY()-T),k=new Ee(k.getX()+T,k.getY()+T);let R=this.getColor(k,p);if(R===0)return!1;let z=this.getColor(p,y);return z!==R||(z=this.getColor(y,w),z!==R)?!1:(z=this.getColor(w,k),z===R)}getColor(p,y){let w=this.distancePoint(p,y),k=(y.getX()-p.getX())/w,T=(y.getY()-p.getY())/w,R=0,z=p.getX(),W=p.getY(),ee=this.image.get(p.getX(),p.getY()),Ae=Math.ceil(w);for(let Fe=0;Fe<Ae;Fe++)z+=k,W+=T,this.image.get(ci.round(z),ci.round(W))!==ee&&R++;let Be=R/w;return Be>.1&&Be<.9?0:Be<=.1===ee?1:-1}getFirstDifferent(p,y,w,k){let T=p.getX()+w,R=p.getY()+k;for(;this.isValid(T,R)&&this.image.get(T,R)===y;)T+=w,R+=k;for(T-=w,R-=k;this.isValid(T,R)&&this.image.get(T,R)===y;)T+=w;for(T-=w;this.isValid(T,R)&&this.image.get(T,R)===y;)R+=k;return R-=k,new Ee(T,R)}expandSquare(p,y,w){let k=w/(2*y),T=p[0].getX()-p[2].getX(),R=p[0].getY()-p[2].getY(),z=(p[0].getX()+p[2].getX())/2,W=(p[0].getY()+p[2].getY())/2,ee=new ui(z+k*T,W+k*R),Ae=new ui(z-k*T,W-k*R);T=p[1].getX()-p[3].getX(),R=p[1].getY()-p[3].getY(),z=(p[1].getX()+p[3].getX())/2,W=(p[1].getY()+p[3].getY())/2;let Be=new ui(z+k*T,W+k*R),Fe=new ui(z-k*T,W-k*R);return[ee,Be,Ae,Fe]}isValid(p,y){return p>=0&&p<this.image.getWidth()&&y>0&&y<this.image.getHeight()}isValidPoint(p){let y=ci.round(p.getX()),w=ci.round(p.getY());return this.isValid(y,w)}distancePoint(p,y){return ci.distance(p.getX(),p.getY(),y.getX(),y.getY())}distanceResultPoint(p,y){return ci.distance(p.getX(),p.getY(),y.getX(),y.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Y.truncDivision(this.nbLayers-4,8)+1)+15}}class st{decode(p,y=null){let w=null,k=new tt(p.getBlackMatrix()),T=null,R=null;try{let Ae=k.detectMirror(!1);T=Ae.getPoints(),this.reportFoundResultPoints(y,T),R=new Yt().decode(Ae)}catch(Ae){w=Ae}if(R==null)try{let Ae=k.detectMirror(!0);T=Ae.getPoints(),this.reportFoundResultPoints(y,T),R=new Yt().decode(Ae)}catch(Ae){throw w??Ae}let z=new It(R.getText(),R.getRawBytes(),R.getNumBits(),T,mt.AZTEC,I.currentTimeMillis()),W=R.getByteSegments();W!=null&&z.putMetadata(gi.BYTE_SEGMENTS,W);let ee=R.getECLevel();return ee!=null&&z.putMetadata(gi.ERROR_CORRECTION_LEVEL,ee),z}reportFoundResultPoints(p,y){if(p!=null){let w=p.get(re.NEED_RESULT_POINT_CALLBACK);w!=null&&y.forEach((k,T,R)=>{w.foundPossibleResultPoint(k)})}}reset(){}}class Ct extends di{constructor(p=500){super(new st,p)}}class yt{decode(p,y){try{return this.doDecode(p,y)}catch{if(y&&y.get(re.TRY_HARDER)===!0&&p.isRotateSupported()){const T=p.rotateCounterClockwise(),R=this.doDecode(T,y),z=R.getResultMetadata();let W=270;z!==null&&z.get(gi.ORIENTATION)===!0&&(W=W+z.get(gi.ORIENTATION)%360),R.putMetadata(gi.ORIENTATION,W);const ee=R.getResultPoints();if(ee!==null){const Ae=T.getHeight();for(let Be=0;Be<ee.length;Be++)ee[Be]=new ui(Ae-ee[Be].getY()-1,ee[Be].getX())}return R}else throw new Ie}}reset(){}doDecode(p,y){const w=p.getWidth(),k=p.getHeight();let T=new Z(w);const R=y&&y.get(re.TRY_HARDER)===!0,z=Math.max(1,k>>(R?8:5));let W;R?W=k:W=15;const ee=Math.trunc(k/2);for(let Ae=0;Ae<W;Ae++){const Be=Math.trunc((Ae+1)/2),Fe=(Ae&1)===0,Ke=ee+z*(Fe?Be:-Be);if(Ke<0||Ke>=k)break;try{T=p.getBlackRow(Ke,T)}catch{continue}for(let gt=0;gt<2;gt++){if(gt===1&&(T.reverse(),y&&y.get(re.NEED_RESULT_POINT_CALLBACK)===!0)){const vt=new Map;y.forEach((Ot,Zt)=>vt.set(Zt,Ot)),vt.delete(re.NEED_RESULT_POINT_CALLBACK),y=vt}try{const vt=this.decodeRow(Ke,T,y);if(gt===1){vt.putMetadata(gi.ORIENTATION,180);const Ot=vt.getResultPoints();Ot!==null&&(Ot[0]=new ui(w-Ot[0].getX()-1,Ot[0].getY()),Ot[1]=new ui(w-Ot[1].getX()-1,Ot[1].getY()))}return vt}catch{}}}throw new Ie}static recordPattern(p,y,w){const k=w.length;for(let ee=0;ee<k;ee++)w[ee]=0;const T=p.getSize();if(y>=T)throw new Ie;let R=!p.get(y),z=0,W=y;for(;W<T;){if(p.get(W)!==R)w[z]++;else{if(++z===k)break;w[z]=1,R=!R}W++}if(!(z===k||z===k-1&&W===T))throw new Ie}static recordPatternInReverse(p,y,w){let k=w.length,T=p.get(y);for(;y>0&&k>=0;)p.get(--y)!==T&&(k--,T=!T);if(k>=0)throw new Ie;yt.recordPattern(p,y+1,w)}static patternMatchVariance(p,y,w){const k=p.length;let T=0,R=0;for(let ee=0;ee<k;ee++)T+=p[ee],R+=y[ee];if(T<R)return Number.POSITIVE_INFINITY;const z=T/R;w*=z;let W=0;for(let ee=0;ee<k;ee++){const Ae=p[ee],Be=y[ee]*z,Fe=Ae>Be?Ae-Be:Be-Ae;if(Fe>w)return Number.POSITIVE_INFINITY;W+=Fe}return W/T}}class Ve extends yt{static findStartPattern(p){const y=p.getSize(),w=p.getNextSet(0);let k=0,T=Int32Array.from([0,0,0,0,0,0]),R=w,z=!1;const W=6;for(let ee=w;ee<y;ee++)if(p.get(ee)!==z)T[k]++;else{if(k===W-1){let Ae=Ve.MAX_AVG_VARIANCE,Be=-1;for(let Fe=Ve.CODE_START_A;Fe<=Ve.CODE_START_C;Fe++){const Ke=yt.patternMatchVariance(T,Ve.CODE_PATTERNS[Fe],Ve.MAX_INDIVIDUAL_VARIANCE);Ke<Ae&&(Ae=Ke,Be=Fe)}if(Be>=0&&p.isRange(Math.max(0,R-(ee-R)/2),R,!1))return Int32Array.from([R,ee,Be]);R+=T[0]+T[1],T=T.slice(2,T.length-1),T[k-1]=0,T[k]=0,k--}else k++;T[k]=1,z=!z}throw new Ie}static decodeCode(p,y,w){yt.recordPattern(p,w,y);let k=Ve.MAX_AVG_VARIANCE,T=-1;for(let R=0;R<Ve.CODE_PATTERNS.length;R++){const z=Ve.CODE_PATTERNS[R],W=this.patternMatchVariance(y,z,Ve.MAX_INDIVIDUAL_VARIANCE);W<k&&(k=W,T=R)}if(T>=0)return T;throw new Ie}decodeRow(p,y,w){const k=w&&w.get(re.ASSUME_GS1)===!0,T=Ve.findStartPattern(y),R=T[2];let z=0;const W=new Uint8Array(20);W[z++]=R;let ee;switch(R){case Ve.CODE_START_A:ee=Ve.CODE_CODE_A;break;case Ve.CODE_START_B:ee=Ve.CODE_CODE_B;break;case Ve.CODE_START_C:ee=Ve.CODE_CODE_C;break;default:throw new q}let Ae=!1,Be=!1,Fe="",Ke=T[0],gt=T[1];const vt=Int32Array.from([0,0,0,0,0,0]);let Ot=0,Zt=0,Pi=R,Ri=0,Si=!0,_a=!1,un=!1;for(;!Ae;){const $t=Be;switch(Be=!1,Ot=Zt,Zt=Ve.decodeCode(y,vt,gt),W[z++]=Zt,Zt!==Ve.CODE_STOP&&(Si=!0),Zt!==Ve.CODE_STOP&&(Ri++,Pi+=Ri*Zt),Ke=gt,gt+=vt.reduce((mi,hn)=>mi+hn,0),Zt){case Ve.CODE_START_A:case Ve.CODE_START_B:case Ve.CODE_START_C:throw new q}switch(ee){case Ve.CODE_CODE_A:if(Zt<64)un===_a?Fe+=String.fromCharCode(32+Zt):Fe+=String.fromCharCode(32+Zt+128),un=!1;else if(Zt<96)un===_a?Fe+=String.fromCharCode(Zt-64):Fe+=String.fromCharCode(Zt+64),un=!1;else switch(Zt!==Ve.CODE_STOP&&(Si=!1),Zt){case Ve.CODE_FNC_1:k&&(Fe.length===0?Fe+="]C1":Fe+="");break;case Ve.CODE_FNC_2:case Ve.CODE_FNC_3:break;case Ve.CODE_FNC_4_A:!_a&&un?(_a=!0,un=!1):_a&&un?(_a=!1,un=!1):un=!0;break;case Ve.CODE_SHIFT:Be=!0,ee=Ve.CODE_CODE_B;break;case Ve.CODE_CODE_B:ee=Ve.CODE_CODE_B;break;case Ve.CODE_CODE_C:ee=Ve.CODE_CODE_C;break;case Ve.CODE_STOP:Ae=!0;break}break;case Ve.CODE_CODE_B:if(Zt<96)un===_a?Fe+=String.fromCharCode(32+Zt):Fe+=String.fromCharCode(32+Zt+128),un=!1;else switch(Zt!==Ve.CODE_STOP&&(Si=!1),Zt){case Ve.CODE_FNC_1:k&&(Fe.length===0?Fe+="]C1":Fe+="");break;case Ve.CODE_FNC_2:case Ve.CODE_FNC_3:break;case Ve.CODE_FNC_4_B:!_a&&un?(_a=!0,un=!1):_a&&un?(_a=!1,un=!1):un=!0;break;case Ve.CODE_SHIFT:Be=!0,ee=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_A:ee=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_C:ee=Ve.CODE_CODE_C;break;case Ve.CODE_STOP:Ae=!0;break}break;case Ve.CODE_CODE_C:if(Zt<100)Zt<10&&(Fe+="0"),Fe+=Zt;else switch(Zt!==Ve.CODE_STOP&&(Si=!1),Zt){case Ve.CODE_FNC_1:k&&(Fe.length===0?Fe+="]C1":Fe+="");break;case Ve.CODE_CODE_A:ee=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_B:ee=Ve.CODE_CODE_B;break;case Ve.CODE_STOP:Ae=!0;break}break}$t&&(ee=ee===Ve.CODE_CODE_A?Ve.CODE_CODE_B:Ve.CODE_CODE_A)}const $=gt-Ke;if(gt=y.getNextUnset(gt),!y.isRange(gt,Math.min(y.getSize(),gt+(gt-Ke)/2),!1))throw new Ie;if(Pi-=Ri*Ot,Pi%103!==Ot)throw new S;const oe=Fe.length;if(oe===0)throw new Ie;oe>0&&Si&&(ee===Ve.CODE_CODE_C?Fe=Fe.substring(0,oe-2):Fe=Fe.substring(0,oe-1));const ke=(T[1]+T[0])/2,Qe=Ke+$/2,at=W.length,ht=new Uint8Array(at);for(let $t=0;$t<at;$t++)ht[$t]=W[$t];const wt=[new ui(ke,p),new ui(Qe,p)];return new It(Fe,ht,0,wt,mt.CODE_128,new Date().getTime())}}Ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ve.MAX_AVG_VARIANCE=.25,Ve.MAX_INDIVIDUAL_VARIANCE=.7,Ve.CODE_SHIFT=98,Ve.CODE_CODE_C=99,Ve.CODE_CODE_B=100,Ve.CODE_CODE_A=101,Ve.CODE_FNC_1=102,Ve.CODE_FNC_2=97,Ve.CODE_FNC_3=96,Ve.CODE_FNC_4_A=101,Ve.CODE_FNC_4_B=100,Ve.CODE_START_A=103,Ve.CODE_START_B=104,Ve.CODE_START_C=105,Ve.CODE_STOP=106;class xt extends yt{constructor(p=!1,y=!1){super(),this.usingCheckDigit=p,this.extendedMode=y,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(p,y,w){let k=this.counters;k.fill(0),this.decodeRowResult="";let T=xt.findAsteriskPattern(y,k),R=y.getNextSet(T[1]),z=y.getSize(),W,ee;do{xt.recordPattern(y,R,k);let vt=xt.toNarrowWidePattern(k);if(vt<0)throw new Ie;W=xt.patternToChar(vt),this.decodeRowResult+=W,ee=R;for(let Ot of k)R+=Ot;R=y.getNextSet(R)}while(W!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Ae=0;for(let vt of k)Ae+=vt;let Be=R-ee-Ae;if(R!==z&&Be*2<Ae)throw new Ie;if(this.usingCheckDigit){let vt=this.decodeRowResult.length-1,Ot=0;for(let Zt=0;Zt<vt;Zt++)Ot+=xt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Zt));if(this.decodeRowResult.charAt(vt)!==xt.ALPHABET_STRING.charAt(Ot%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,vt)}if(this.decodeRowResult.length===0)throw new Ie;let Fe;this.extendedMode?Fe=xt.decodeExtended(this.decodeRowResult):Fe=this.decodeRowResult;let Ke=(T[1]+T[0])/2,gt=ee+Ae/2;return new It(Fe,null,0,[new ui(Ke,p),new ui(gt,p)],mt.CODE_39,new Date().getTime())}static findAsteriskPattern(p,y){let w=p.getSize(),k=p.getNextSet(0),T=0,R=k,z=!1,W=y.length;for(let ee=k;ee<w;ee++)if(p.get(ee)!==z)y[T]++;else{if(T===W-1){if(this.toNarrowWidePattern(y)===xt.ASTERISK_ENCODING&&p.isRange(Math.max(0,R-Math.floor((ee-R)/2)),R,!1))return[R,ee];R+=y[0]+y[1],y.copyWithin(0,2,2+T-1),y[T-1]=0,y[T]=0,T--}else T++;y[T]=1,z=!z}throw new Ie}static toNarrowWidePattern(p){let y=p.length,w=0,k;do{let T=2147483647;for(let W of p)W<T&&W>w&&(T=W);w=T,k=0;let R=0,z=0;for(let W=0;W<y;W++){let ee=p[W];ee>w&&(z|=1<<y-1-W,k++,R+=ee)}if(k===3){for(let W=0;W<y&&k>0;W++){let ee=p[W];if(ee>w&&(k--,ee*2>=R))return-1}return z}}while(k>3);return-1}static patternToChar(p){for(let y=0;y<xt.CHARACTER_ENCODINGS.length;y++)if(xt.CHARACTER_ENCODINGS[y]===p)return xt.ALPHABET_STRING.charAt(y);if(p===xt.ASTERISK_ENCODING)return"*";throw new Ie}static decodeExtended(p){let y=p.length,w="";for(let k=0;k<y;k++){let T=p.charAt(k);if(T==="+"||T==="$"||T==="%"||T==="/"){let R=p.charAt(k+1),z="\0";switch(T){case"+":if(R>="A"&&R<="Z")z=String.fromCharCode(R.charCodeAt(0)+32);else throw new q;break;case"$":if(R>="A"&&R<="Z")z=String.fromCharCode(R.charCodeAt(0)-64);else throw new q;break;case"%":if(R>="A"&&R<="E")z=String.fromCharCode(R.charCodeAt(0)-38);else if(R>="F"&&R<="J")z=String.fromCharCode(R.charCodeAt(0)-11);else if(R>="K"&&R<="O")z=String.fromCharCode(R.charCodeAt(0)+16);else if(R>="P"&&R<="T")z=String.fromCharCode(R.charCodeAt(0)+43);else if(R==="U")z="\0";else if(R==="V")z="@";else if(R==="W")z="`";else if(R==="X"||R==="Y"||R==="Z")z="";else throw new q;break;case"/":if(R>="A"&&R<="O")z=String.fromCharCode(R.charCodeAt(0)-32);else if(R==="Z")z=":";else throw new q;break}w+=z,k++}else w+=T}return w}}xt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",xt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],xt.ASTERISK_ENCODING=148;class jt extends yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(p,y,w){let k=this.decodeStart(y),T=this.decodeEnd(y),R=new be;jt.decodeMiddle(y,k[1],T[0],R);let z=R.toString(),W=null;w!=null&&(W=w.get(re.ALLOWED_LENGTHS)),W==null&&(W=jt.DEFAULT_ALLOWED_LENGTHS);let ee=z.length,Ae=!1,Be=0;for(let gt of W){if(ee===gt){Ae=!0;break}gt>Be&&(Be=gt)}if(!Ae&&ee>Be&&(Ae=!0),!Ae)throw new q;const Fe=[new ui(k[1],p),new ui(T[0],p)];return new It(z,null,0,Fe,mt.ITF,new Date().getTime())}static decodeMiddle(p,y,w,k){let T=new Int32Array(10),R=new Int32Array(5),z=new Int32Array(5);for(T.fill(0),R.fill(0),z.fill(0);y<w;){yt.recordPattern(p,y,T);for(let ee=0;ee<5;ee++){let Ae=2*ee;R[ee]=T[Ae],z[ee]=T[Ae+1]}let W=jt.decodeDigit(R);k.append(W.toString()),W=this.decodeDigit(z),k.append(W.toString()),T.forEach(function(ee){y+=ee})}}decodeStart(p){let y=jt.skipWhiteSpace(p),w=jt.findGuardPattern(p,y,jt.START_PATTERN);return this.narrowLineWidth=(w[1]-w[0])/4,this.validateQuietZone(p,w[0]),w}validateQuietZone(p,y){let w=this.narrowLineWidth*10;w=w<y?w:y;for(let k=y-1;w>0&&k>=0&&!p.get(k);k--)w--;if(w!==0)throw new Ie}static skipWhiteSpace(p){const y=p.getSize(),w=p.getNextSet(0);if(w===y)throw new Ie;return w}decodeEnd(p){p.reverse();try{let y=jt.skipWhiteSpace(p),w;try{w=jt.findGuardPattern(p,y,jt.END_PATTERN_REVERSED[0])}catch(T){T instanceof Ie&&(w=jt.findGuardPattern(p,y,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(p,w[0]);let k=w[0];return w[0]=p.getSize()-w[1],w[1]=p.getSize()-k,w}finally{p.reverse()}}static findGuardPattern(p,y,w){let k=w.length,T=new Int32Array(k),R=p.getSize(),z=!1,W=0,ee=y;T.fill(0);for(let Ae=y;Ae<R;Ae++)if(p.get(Ae)!==z)T[W]++;else{if(W===k-1){if(yt.patternMatchVariance(T,w,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[ee,Ae];ee+=T[0]+T[1],I.arraycopy(T,2,T,0,W-1),T[W-1]=0,T[W]=0,W--}else W++;T[W]=1,z=!z}throw new Ie}static decodeDigit(p){let y=jt.MAX_AVG_VARIANCE,w=-1,k=jt.PATTERNS.length;for(let T=0;T<k;T++){let R=jt.PATTERNS[T],z=yt.patternMatchVariance(p,R,jt.MAX_INDIVIDUAL_VARIANCE);z<y?(y=z,w=T):z===y&&(w=-1)}if(w>=0)return w%10;throw new Ie}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kt extends yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(p){let y=!1,w,k=0,T=Int32Array.from([0,0,0]);for(;!y;){T=Int32Array.from([0,0,0]),w=kt.findGuardPattern(p,k,!1,this.START_END_PATTERN,T);let R=w[0];k=w[1];let z=R-(k-R);z>=0&&(y=p.isRange(z,R,!1))}return w}static checkChecksum(p){return kt.checkStandardUPCEANChecksum(p)}static checkStandardUPCEANChecksum(p){let y=p.length;if(y===0)return!1;let w=parseInt(p.charAt(y-1),10);return kt.getStandardUPCEANChecksum(p.substring(0,y-1))===w}static getStandardUPCEANChecksum(p){let y=p.length,w=0;for(let k=y-1;k>=0;k-=2){let T=p.charAt(k).charCodeAt(0)-48;if(T<0||T>9)throw new q;w+=T}w*=3;for(let k=y-2;k>=0;k-=2){let T=p.charAt(k).charCodeAt(0)-48;if(T<0||T>9)throw new q;w+=T}return(1e3-w)%10}static decodeEnd(p,y){return kt.findGuardPattern(p,y,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(p,y,w,k){return this.findGuardPattern(p,y,w,k,new Int32Array(k.length))}static findGuardPattern(p,y,w,k,T){let R=p.getSize();y=w?p.getNextUnset(y):p.getNextSet(y);let z=0,W=y,ee=k.length,Ae=w;for(let Be=y;Be<R;Be++)if(p.get(Be)!==Ae)T[z]++;else{if(z===ee-1){if(yt.patternMatchVariance(T,k,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return Int32Array.from([W,Be]);W+=T[0]+T[1];let Fe=T.slice(2,T.length-1);for(let Ke=0;Ke<z-1;Ke++)T[Ke]=Fe[Ke];T[z-1]=0,T[z]=0,z--}else z++;T[z]=1,Ae=!Ae}throw new Ie}static decodeDigit(p,y,w,k){this.recordPattern(p,w,y);let T=this.MAX_AVG_VARIANCE,R=-1,z=k.length;for(let W=0;W<z;W++){let ee=k[W],Ae=yt.patternMatchVariance(y,ee,kt.MAX_INDIVIDUAL_VARIANCE);Ae<T&&(T=Ae,R=W)}if(R>=0)return R;throw new Ie}}kt.MAX_AVG_VARIANCE=.48,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.START_END_PATTERN=Int32Array.from([1,1,1]),kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(p,y,w){let k=this.decodeRowStringBuffer,T=this.decodeMiddle(y,w,k),R=k.toString(),z=Lt.parseExtensionString(R),W=[new ui((w[0]+w[1])/2,p),new ui(T,p)],ee=new It(R,null,0,W,mt.UPC_EAN_EXTENSION,new Date().getTime());return z!=null&&ee.putAllMetadata(z),ee}decodeMiddle(p,y,w){let k=this.decodeMiddleCounters;k[0]=0,k[1]=0,k[2]=0,k[3]=0;let T=p.getSize(),R=y[1],z=0;for(let ee=0;ee<5&&R<T;ee++){let Ae=kt.decodeDigit(p,k,R,kt.L_AND_G_PATTERNS);w+=String.fromCharCode(48+Ae%10);for(let Be of k)R+=Be;Ae>=10&&(z|=1<<4-ee),ee!==4&&(R=p.getNextSet(R),R=p.getNextUnset(R))}if(w.length!==5)throw new Ie;let W=this.determineCheckDigit(z);if(Lt.extensionChecksum(w.toString())!==W)throw new Ie;return R}static extensionChecksum(p){let y=p.length,w=0;for(let k=y-2;k>=0;k-=2)w+=p.charAt(k).charCodeAt(0)-48;w*=3;for(let k=y-1;k>=0;k-=2)w+=p.charAt(k).charCodeAt(0)-48;return w*=3,w%10}determineCheckDigit(p){for(let y=0;y<10;y++)if(p===this.CHECK_DIGIT_ENCODINGS[y])return y;throw new Ie}static parseExtensionString(p){if(p.length!==5)return null;let y=Lt.parseExtension5String(p);return y==null?null:new Map([[gi.SUGGESTED_PRICE,y]])}static parseExtension5String(p){let y;switch(p.charAt(0)){case"0":y="";break;case"5":y="$";break;case"9":switch(p){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}y="";break;default:y="";break}let w=parseInt(p.substring(1)),k=(w/100).toString(),T=w%100,R=T<10?"0"+T:T.toString();return y+k+"."+R}}class ai{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(p,y,w){let k=this.decodeRowStringBuffer,T=this.decodeMiddle(y,w,k),R=k.toString(),z=ai.parseExtensionString(R),W=[new ui((w[0]+w[1])/2,p),new ui(T,p)],ee=new It(R,null,0,W,mt.UPC_EAN_EXTENSION,new Date().getTime());return z!=null&&ee.putAllMetadata(z),ee}decodeMiddle(p,y,w){let k=this.decodeMiddleCounters;k[0]=0,k[1]=0,k[2]=0,k[3]=0;let T=p.getSize(),R=y[1],z=0;for(let W=0;W<2&&R<T;W++){let ee=kt.decodeDigit(p,k,R,kt.L_AND_G_PATTERNS);w+=String.fromCharCode(48+ee%10);for(let Ae of k)R+=Ae;ee>=10&&(z|=1<<1-W),W!==1&&(R=p.getNextSet(R),R=p.getNextUnset(R))}if(w.length!==2)throw new Ie;if(parseInt(w.toString())%4!==z)throw new Ie;return R}static parseExtensionString(p){return p.length!==2?null:new Map([[gi.ISSUE_NUMBER,parseInt(p)]])}}class bi{static decodeRow(p,y,w){let k=kt.findGuardPattern(y,w,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lt().decodeRow(p,y,k)}catch{return new ai().decodeRow(p,y,k)}}}bi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Bi extends kt{constructor(){super(),this.decodeRowStringBuffer="",Bi.L_AND_G_PATTERNS=Bi.L_PATTERNS.map(p=>Int32Array.from(p));for(let p=10;p<20;p++){let y=Bi.L_PATTERNS[p-10],w=new Int32Array(y.length);for(let k=0;k<y.length;k++)w[k]=y[y.length-k-1];Bi.L_AND_G_PATTERNS[p]=w}}decodeRow(p,y,w){let k=Bi.findStartGuardPattern(y),T=w==null?null:w.get(re.NEED_RESULT_POINT_CALLBACK);if(T!=null){const Si=new ui((k[0]+k[1])/2,p);T.foundPossibleResultPoint(Si)}let R=this.decodeMiddle(y,k,this.decodeRowStringBuffer),z=R.rowOffset,W=R.resultString;if(T!=null){const Si=new ui(z,p);T.foundPossibleResultPoint(Si)}let ee=this.decodeEnd(y,z);if(T!=null){const Si=new ui((ee[0]+ee[1])/2,p);T.foundPossibleResultPoint(Si)}let Ae=ee[1],Be=Ae+(Ae-ee[0]);if(Be>=y.getSize()||!y.isRange(Ae,Be,!1))throw new Ie;let Fe=W.toString();if(Fe.length<8)throw new q;if(!Bi.checkChecksum(Fe))throw new S;let Ke=(k[1]+k[0])/2,gt=(ee[1]+ee[0])/2,vt=this.getBarcodeFormat(),Ot=[new ui(Ke,p),new ui(gt,p)],Zt=new It(Fe,null,0,Ot,vt,new Date().getTime()),Pi=0;try{let Si=bi.decodeRow(p,y,ee[1]);Zt.putMetadata(gi.UPC_EAN_EXTENSION,Si.getText()),Zt.putAllMetadata(Si.getResultMetadata()),Zt.addResultPoints(Si.getResultPoints()),Pi=Si.getText().length}catch{}let Ri=w==null?null:w.get(re.ALLOWED_EAN_EXTENSIONS);if(Ri!=null){let Si=!1;for(let _a in Ri)if(Pi.toString()===_a){Si=!0;break}if(!Si)throw new Ie}return Zt}decodeEnd(p,y){return Bi.findGuardPattern(p,y,!1,Bi.START_END_PATTERN,new Int32Array(Bi.START_END_PATTERN.length).fill(0))}static checkChecksum(p){return Bi.checkStandardUPCEANChecksum(p)}static checkStandardUPCEANChecksum(p){let y=p.length;if(y===0)return!1;let w=parseInt(p.charAt(y-1),10);return Bi.getStandardUPCEANChecksum(p.substring(0,y-1))===w}static getStandardUPCEANChecksum(p){let y=p.length,w=0;for(let k=y-1;k>=0;k-=2){let T=p.charAt(k).charCodeAt(0)-48;if(T<0||T>9)throw new q;w+=T}w*=3;for(let k=y-2;k>=0;k-=2){let T=p.charAt(k).charCodeAt(0)-48;if(T<0||T>9)throw new q;w+=T}return(1e3-w)%10}}class In extends Bi{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(p,y,w){let k=this.decodeMiddleCounters;k[0]=0,k[1]=0,k[2]=0,k[3]=0;let T=p.getSize(),R=y[1],z=0;for(let ee=0;ee<6&&R<T;ee++){let Ae=Bi.decodeDigit(p,k,R,Bi.L_AND_G_PATTERNS);w+=String.fromCharCode(48+Ae%10);for(let Be of k)R+=Be;Ae>=10&&(z|=1<<5-ee)}w=In.determineFirstDigit(w,z),R=Bi.findGuardPattern(p,R,!0,Bi.MIDDLE_PATTERN,new Int32Array(Bi.MIDDLE_PATTERN.length).fill(0))[1];for(let ee=0;ee<6&&R<T;ee++){let Ae=Bi.decodeDigit(p,k,R,Bi.L_PATTERNS);w+=String.fromCharCode(48+Ae);for(let Be of k)R+=Be}return{rowOffset:R,resultString:w}}getBarcodeFormat(){return mt.EAN_13}static determineFirstDigit(p,y){for(let w=0;w<10;w++)if(y===this.FIRST_DIGIT_ENCODINGS[w])return p=String.fromCharCode(48+w)+p,p;throw new Ie}}In.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Tt extends Bi{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(p,y,w){const k=this.decodeMiddleCounters;k[0]=0,k[1]=0,k[2]=0,k[3]=0;let T=p.getSize(),R=y[1];for(let W=0;W<4&&R<T;W++){let ee=Bi.decodeDigit(p,k,R,Bi.L_PATTERNS);w+=String.fromCharCode(48+ee);for(let Ae of k)R+=Ae}R=Bi.findGuardPattern(p,R,!0,Bi.MIDDLE_PATTERN,new Int32Array(Bi.MIDDLE_PATTERN.length).fill(0))[1];for(let W=0;W<4&&R<T;W++){let ee=Bi.decodeDigit(p,k,R,Bi.L_PATTERNS);w+=String.fromCharCode(48+ee);for(let Ae of k)R+=Ae}return{rowOffset:R,resultString:w}}getBarcodeFormat(){return mt.EAN_8}}class Dn extends Bi{constructor(){super(...arguments),this.ean13Reader=new In}getBarcodeFormat(){return mt.UPC_A}decode(p,y){return this.maybeReturnResult(this.ean13Reader.decode(p))}decodeRow(p,y,w){return this.maybeReturnResult(this.ean13Reader.decodeRow(p,y,w))}decodeMiddle(p,y,w){return this.ean13Reader.decodeMiddle(p,y,w)}maybeReturnResult(p){let y=p.getText();if(y.charAt(0)==="0"){let w=new It(y.substring(1),null,null,p.getResultPoints(),mt.UPC_A);return p.getResultMetadata()!=null&&w.putAllMetadata(p.getResultMetadata()),w}else throw new Ie}reset(){this.ean13Reader.reset()}}class Kn extends Bi{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(p,y,w){const k=this.decodeMiddleCounters.map(ee=>ee);k[0]=0,k[1]=0,k[2]=0,k[3]=0;const T=p.getSize();let R=y[1],z=0;for(let ee=0;ee<6&&R<T;ee++){const Ae=Kn.decodeDigit(p,k,R,Kn.L_AND_G_PATTERNS);w+=String.fromCharCode(48+Ae%10);for(let Be of k)R+=Be;Ae>=10&&(z|=1<<5-ee)}let W=Kn.determineNumSysAndCheckDigit(w,z);return{rowOffset:R,resultString:W}}decodeEnd(p,y){return Kn.findGuardPatternWithoutCounters(p,y,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(p){return Bi.checkChecksum(Kn.convertUPCEtoUPCA(p))}static determineNumSysAndCheckDigit(p,y){for(let w=0;w<=1;w++)for(let k=0;k<10;k++)if(y===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[w][k]){let T=String.fromCharCode(48+w),R=String.fromCharCode(48+k);return T+p+R}throw Ie.getNotFoundInstance()}getBarcodeFormat(){return mt.UPC_E}static convertUPCEtoUPCA(p){const y=p.slice(1,7).split("").map(T=>T.charCodeAt(0)),w=new be;w.append(p.charAt(0));let k=y[5];switch(k){case 0:case 1:case 2:w.appendChars(y,0,2),w.append(k),w.append("0000"),w.appendChars(y,2,3);break;case 3:w.appendChars(y,0,3),w.append("00000"),w.appendChars(y,3,2);break;case 4:w.appendChars(y,0,4),w.append("00000"),w.append(y[4]);break;default:w.appendChars(y,0,5),w.append("0000"),w.append(k);break}return p.length>=8&&w.append(p.charAt(7)),w.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class yn extends yt{constructor(p){super();let y=p==null?null:p.get(re.POSSIBLE_FORMATS),w=[];i(y)?(w.push(new In),w.push(new Dn),w.push(new Tt),w.push(new Kn)):(y.indexOf(mt.EAN_13)>-1&&w.push(new In),y.indexOf(mt.UPC_A)>-1&&w.push(new Dn),y.indexOf(mt.EAN_8)>-1&&w.push(new Tt),y.indexOf(mt.UPC_E)>-1&&w.push(new Kn)),this.readers=w}decodeRow(p,y,w){for(let k of this.readers)try{const T=k.decodeRow(p,y,w),R=T.getBarcodeFormat()===mt.EAN_13&&T.getText().charAt(0)==="0",z=w==null?null:w.get(re.POSSIBLE_FORMATS),W=z==null||z.includes(mt.UPC_A);if(R&&W){const ee=T.getRawBytes(),Ae=new It(T.getText().substring(1),ee,ee?ee.length:null,T.getResultPoints(),mt.UPC_A);return Ae.putAllMetadata(T.getResultMetadata()),Ae}return T}catch{}throw new Ie}reset(){for(let p of this.readers)p.reset()}}class An extends yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(p,y){for(let w=0;w<y.length;w++)if(yt.patternMatchVariance(p,y[w],An.MAX_INDIVIDUAL_VARIANCE)<An.MAX_AVG_VARIANCE)return w;throw new Ie}static count(p){return ci.sum(new Int32Array(p))}static increment(p,y){let w=0,k=y[0];for(let T=1;T<p.length;T++)y[T]>k&&(k=y[T],w=T);p[w]++}static decrement(p,y){let w=0,k=y[0];for(let T=1;T<p.length;T++)y[T]<k&&(k=y[T],w=T);p[w]--}static isFinderPattern(p){let y=p[0]+p[1],w=y+p[2]+p[3],k=y/w;if(k>=An.MIN_FINDER_PATTERN_RATIO&&k<=An.MAX_FINDER_PATTERN_RATIO){let T=Number.MAX_SAFE_INTEGER,R=Number.MIN_SAFE_INTEGER;for(let z of p)z>R&&(R=z),z<T&&(T=z);return R<10*T}return!1}}An.MAX_AVG_VARIANCE=.2,An.MAX_INDIVIDUAL_VARIANCE=.45,An.MIN_FINDER_PATTERN_RATIO=9.5/12,An.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ni{constructor(p,y){this.value=p,this.checksumPortion=y}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(p){if(!(p instanceof Ni))return!1;const y=p;return this.value===y.value&&this.checksumPortion===y.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Di{constructor(p,y,w,k,T){this.value=p,this.startEnd=y,this.value=p,this.startEnd=y,this.resultPoints=new Array,this.resultPoints.push(new ui(w,T)),this.resultPoints.push(new ui(k,T))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(p){if(!(p instanceof Di))return!1;const y=p;return this.value===y.value}hashCode(){return this.value}}class gn{constructor(){}static getRSSvalue(p,y,w){let k=0;for(let W of p)k+=W;let T=0,R=0,z=p.length;for(let W=0;W<z-1;W++){let ee;for(ee=1,R|=1<<W;ee<p[W];ee++,R&=~(1<<W)){let Ae=gn.combins(k-ee-1,z-W-2);if(w&&R===0&&k-ee-(z-W-1)>=z-W-1&&(Ae-=gn.combins(k-ee-(z-W),z-W-2)),z-W-1>1){let Be=0;for(let Fe=k-ee-(z-W-2);Fe>y;Fe--)Be+=gn.combins(k-ee-Fe-1,z-W-3);Ae-=Be*(z-1-W)}else k-ee>y&&Ae--;T+=Ae}k-=ee}return T}static combins(p,y){let w,k;p-y>y?(k=y,w=p-y):(k=p-y,w=y);let T=1,R=1;for(let z=p;z>w;z--)T*=z,R<=k&&(T/=R,R++);for(;R<=k;)T/=R,R++;return T}}class fi{static buildBitArray(p){let y=p.length*2-1;p[p.length-1].getRightChar()==null&&(y-=1);let w=12*y,k=new Z(w),T=0,z=p[0].getRightChar().getValue();for(let W=11;W>=0;--W)(z&1<<W)!=0&&k.set(T),T++;for(let W=1;W<p.length;++W){let ee=p[W],Ae=ee.getLeftChar().getValue();for(let Be=11;Be>=0;--Be)(Ae&1<<Be)!=0&&k.set(T),T++;if(ee.getRightChar()!=null){let Be=ee.getRightChar().getValue();for(let Fe=11;Fe>=0;--Fe)(Be&1<<Fe)!=0&&k.set(T),T++}}return k}}class Xi{constructor(p,y){y?this.decodedInformation=null:(this.finished=p,this.decodedInformation=y)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class sn{constructor(p){this.newPosition=p}getNewPosition(){return this.newPosition}}class Ue extends sn{constructor(p,y){super(p),this.value=y}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class Re extends sn{constructor(p,y,w){super(p),w?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=y}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _t extends sn{constructor(p,y,w){if(super(p),y<0||y>10||w<0||w>10)throw new q;this.firstDigit=y,this.secondDigit=w}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_t.FNC1}isSecondDigitFNC1(){return this.secondDigit===_t.FNC1}isAnyFNC1(){return this.firstDigit===_t.FNC1||this.secondDigit===_t.FNC1}}_t.FNC1=10;class ut{constructor(){}static parseFieldsInGeneralPurpose(p){if(!p)return null;if(p.length<2)throw new Ie;let y=p.substring(0,2);for(let T of ut.TWO_DIGIT_DATA_LENGTH)if(T[0]===y)return T[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(2,T[2],p):ut.processFixedAI(2,T[1],p);if(p.length<3)throw new Ie;let w=p.substring(0,3);for(let T of ut.THREE_DIGIT_DATA_LENGTH)if(T[0]===w)return T[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(3,T[2],p):ut.processFixedAI(3,T[1],p);for(let T of ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(T[0]===w)return T[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,T[2],p):ut.processFixedAI(4,T[1],p);if(p.length<4)throw new Ie;let k=p.substring(0,4);for(let T of ut.FOUR_DIGIT_DATA_LENGTH)if(T[0]===k)return T[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,T[2],p):ut.processFixedAI(4,T[1],p);throw new Ie}static processFixedAI(p,y,w){if(w.length<p)throw new Ie;let k=w.substring(0,p);if(w.length<p+y)throw new Ie;let T=w.substring(p,p+y),R=w.substring(p+y),z="("+k+")"+T,W=ut.parseFieldsInGeneralPurpose(R);return W==null?z:z+W}static processVariableAI(p,y,w){let k=w.substring(0,p),T;w.length<p+y?T=w.length:T=p+y;let R=w.substring(p,T),z=w.substring(T),W="("+k+")"+R,ee=ut.parseFieldsInGeneralPurpose(z);return ee==null?W:W+ee}}ut.VARIABLE_LENGTH=[],ut.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ut.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ut.VARIABLE_LENGTH,20],["22",ut.VARIABLE_LENGTH,29],["30",ut.VARIABLE_LENGTH,8],["37",ut.VARIABLE_LENGTH,8],["90",ut.VARIABLE_LENGTH,30],["91",ut.VARIABLE_LENGTH,30],["92",ut.VARIABLE_LENGTH,30],["93",ut.VARIABLE_LENGTH,30],["94",ut.VARIABLE_LENGTH,30],["95",ut.VARIABLE_LENGTH,30],["96",ut.VARIABLE_LENGTH,30],["97",ut.VARIABLE_LENGTH,3],["98",ut.VARIABLE_LENGTH,30],["99",ut.VARIABLE_LENGTH,30]],ut.THREE_DIGIT_DATA_LENGTH=[["240",ut.VARIABLE_LENGTH,30],["241",ut.VARIABLE_LENGTH,30],["242",ut.VARIABLE_LENGTH,6],["250",ut.VARIABLE_LENGTH,30],["251",ut.VARIABLE_LENGTH,30],["253",ut.VARIABLE_LENGTH,17],["254",ut.VARIABLE_LENGTH,20],["400",ut.VARIABLE_LENGTH,30],["401",ut.VARIABLE_LENGTH,30],["402",17],["403",ut.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ut.VARIABLE_LENGTH,20],["421",ut.VARIABLE_LENGTH,15],["422",3],["423",ut.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ut.VARIABLE_LENGTH,15],["391",ut.VARIABLE_LENGTH,18],["392",ut.VARIABLE_LENGTH,15],["393",ut.VARIABLE_LENGTH,18],["703",ut.VARIABLE_LENGTH,30]],ut.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ut.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ut.VARIABLE_LENGTH,20],["8003",ut.VARIABLE_LENGTH,30],["8004",ut.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ut.VARIABLE_LENGTH,30],["8008",ut.VARIABLE_LENGTH,12],["8018",18],["8020",ut.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ut.VARIABLE_LENGTH,70],["8200",ut.VARIABLE_LENGTH,70]];class Jt{constructor(p){this.buffer=new be,this.information=p}decodeAllCodes(p,y){let w=y,k=null;do{let T=this.decodeGeneralPurposeField(w,k),R=ut.parseFieldsInGeneralPurpose(T.getNewString());if(R!=null&&p.append(R),T.isRemaining()?k=""+T.getRemainingValue():k=null,w===T.getNewPosition())break;w=T.getNewPosition()}while(!0);return p.toString()}isStillNumeric(p){if(p+7>this.information.getSize())return p+4<=this.information.getSize();for(let y=p;y<p+3;++y)if(this.information.get(y))return!0;return this.information.get(p+3)}decodeNumeric(p){if(p+7>this.information.getSize()){let T=this.extractNumericValueFromBitArray(p,4);return T===0?new _t(this.information.getSize(),_t.FNC1,_t.FNC1):new _t(this.information.getSize(),T-1,_t.FNC1)}let y=this.extractNumericValueFromBitArray(p,7),w=(y-8)/11,k=(y-8)%11;return new _t(p+7,w,k)}extractNumericValueFromBitArray(p,y){return Jt.extractNumericValueFromBitArray(this.information,p,y)}static extractNumericValueFromBitArray(p,y,w){let k=0;for(let T=0;T<w;++T)p.get(y+T)&&(k|=1<<w-T-1);return k}decodeGeneralPurposeField(p,y){this.buffer.setLengthToZero(),y!=null&&this.buffer.append(y),this.current.setPosition(p);let w=this.parseBlocks();return w!=null&&w.isRemaining()?new Re(this.current.getPosition(),this.buffer.toString(),w.getRemainingValue()):new Re(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let p,y;do{let w=this.current.getPosition();if(this.current.isAlpha()?(y=this.parseAlphaBlock(),p=y.isFinished()):this.current.isIsoIec646()?(y=this.parseIsoIec646Block(),p=y.isFinished()):(y=this.parseNumericBlock(),p=y.isFinished()),!(w!==this.current.getPosition())&&!p)break}while(!p);return y.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let p=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFirstDigitFNC1()){let y;return p.isSecondDigitFNC1()?y=new Re(this.current.getPosition(),this.buffer.toString()):y=new Re(this.current.getPosition(),this.buffer.toString(),p.getSecondDigit()),new Xi(!0,y)}if(this.buffer.append(p.getFirstDigit()),p.isSecondDigitFNC1()){let y=new Re(this.current.getPosition(),this.buffer.toString());return new Xi(!0,y)}this.buffer.append(p.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let p=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFNC1()){let y=new Re(this.current.getPosition(),this.buffer.toString());return new Xi(!0,y)}this.buffer.append(p.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let p=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(p.getNewPosition()),p.isFNC1()){let y=new Re(this.current.getPosition(),this.buffer.toString());return new Xi(!0,y)}this.buffer.append(p.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xi(!1)}isStillIsoIec646(p){if(p+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(p,5);if(y>=5&&y<16)return!0;if(p+7>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(p,7);if(w>=64&&w<116)return!0;if(p+8>this.information.getSize())return!1;let k=this.extractNumericValueFromBitArray(p,8);return k>=232&&k<253}decodeIsoIec646(p){let y=this.extractNumericValueFromBitArray(p,5);if(y===15)return new Ue(p+5,Ue.FNC1);if(y>=5&&y<15)return new Ue(p+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(p,7);if(w>=64&&w<90)return new Ue(p+7,""+(w+1));if(w>=90&&w<116)return new Ue(p+7,""+(w+7));let k=this.extractNumericValueFromBitArray(p,8),T;switch(k){case 232:T="!";break;case 233:T='"';break;case 234:T="%";break;case 235:T="&";break;case 236:T="'";break;case 237:T="(";break;case 238:T=")";break;case 239:T="*";break;case 240:T="+";break;case 241:T=",";break;case 242:T="-";break;case 243:T=".";break;case 244:T="/";break;case 245:T=":";break;case 246:T=";";break;case 247:T="<";break;case 248:T="=";break;case 249:T=">";break;case 250:T="?";break;case 251:T="_";break;case 252:T=" ";break;default:throw new q}return new Ue(p+8,T)}isStillAlpha(p){if(p+5>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(p,5);if(y>=5&&y<16)return!0;if(p+6>this.information.getSize())return!1;let w=this.extractNumericValueFromBitArray(p,6);return w>=16&&w<63}decodeAlphanumeric(p){let y=this.extractNumericValueFromBitArray(p,5);if(y===15)return new Ue(p+5,Ue.FNC1);if(y>=5&&y<15)return new Ue(p+5,"0"+(y-5));let w=this.extractNumericValueFromBitArray(p,6);if(w>=32&&w<58)return new Ue(p+6,""+(w+33));let k;switch(w){case 58:k="*";break;case 59:k=",";break;case 60:k="-";break;case 61:k=".";break;case 62:k="/";break;default:throw new rn("Decoding invalid alphanumeric value: "+w)}return new Ue(p+6,k)}isAlphaTo646ToAlphaLatch(p){if(p+1>this.information.getSize())return!1;for(let y=0;y<5&&y+p<this.information.getSize();++y)if(y===2){if(!this.information.get(p+2))return!1}else if(this.information.get(p+y))return!1;return!0}isAlphaOr646ToNumericLatch(p){if(p+3>this.information.getSize())return!1;for(let y=p;y<p+3;++y)if(this.information.get(y))return!1;return!0}isNumericToAlphaNumericLatch(p){if(p+1>this.information.getSize())return!1;for(let y=0;y<4&&y+p<this.information.getSize();++y)if(this.information.get(p+y))return!1;return!0}}class ni{constructor(p){this.information=p,this.generalDecoder=new Jt(p)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class pt extends ni{constructor(p){super(p)}encodeCompressedGtin(p,y){p.append("(01)");let w=p.length();p.append("9"),this.encodeCompressedGtinWithoutAI(p,y,w)}encodeCompressedGtinWithoutAI(p,y,w){for(let k=0;k<4;++k){let T=this.getGeneralDecoder().extractNumericValueFromBitArray(y+10*k,10);T/100===0&&p.append("0"),T/10===0&&p.append("0"),p.append(T)}pt.appendCheckDigit(p,w)}static appendCheckDigit(p,y){let w=0;for(let k=0;k<13;k++){let T=p.charAt(k+y).charCodeAt(0)-48;w+=(k&1)===0?3*T:T}w=10-w%10,w===10&&(w=0),p.append(w)}}pt.GTIN_SIZE=40;class Gt extends pt{constructor(p){super(p)}parseInformation(){let p=new be;p.append("(01)");let y=p.length(),w=this.getGeneralDecoder().extractNumericValueFromBitArray(Gt.HEADER_SIZE,4);return p.append(w),this.encodeCompressedGtinWithoutAI(p,Gt.HEADER_SIZE+4,y),this.getGeneralDecoder().decodeAllCodes(p,Gt.HEADER_SIZE+44)}}Gt.HEADER_SIZE=4;class ti extends ni{constructor(p){super(p)}parseInformation(){let p=new be;return this.getGeneralDecoder().decodeAllCodes(p,ti.HEADER_SIZE)}}ti.HEADER_SIZE=5;class Ci extends pt{constructor(p){super(p)}encodeCompressedWeight(p,y,w){let k=this.getGeneralDecoder().extractNumericValueFromBitArray(y,w);this.addWeightCode(p,k);let T=this.checkWeight(k),R=1e5;for(let z=0;z<5;++z)T/R===0&&p.append("0"),R/=10;p.append(T)}}class pn extends Ci{constructor(p){super(p)}parseInformation(){if(this.getInformation().getSize()!=pn.HEADER_SIZE+Ci.GTIN_SIZE+pn.WEIGHT_SIZE)throw new Ie;let p=new be;return this.encodeCompressedGtin(p,pn.HEADER_SIZE),this.encodeCompressedWeight(p,pn.HEADER_SIZE+Ci.GTIN_SIZE,pn.WEIGHT_SIZE),p.toString()}}pn.HEADER_SIZE=5,pn.WEIGHT_SIZE=15;class Gi extends pn{constructor(p){super(p)}addWeightCode(p,y){p.append("(3103)")}checkWeight(p){return p}}class ki extends pn{constructor(p){super(p)}addWeightCode(p,y){y<1e4?p.append("(3202)"):p.append("(3203)")}checkWeight(p){return p<1e4?p:p-1e4}}class Hi extends pt{constructor(p){super(p)}parseInformation(){if(this.getInformation().getSize()<Hi.HEADER_SIZE+pt.GTIN_SIZE)throw new Ie;let p=new be;this.encodeCompressedGtin(p,Hi.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(Hi.HEADER_SIZE+pt.GTIN_SIZE,Hi.LAST_DIGIT_SIZE);p.append("(392"),p.append(y),p.append(")");let w=this.getGeneralDecoder().decodeGeneralPurposeField(Hi.HEADER_SIZE+pt.GTIN_SIZE+Hi.LAST_DIGIT_SIZE,null);return p.append(w.getNewString()),p.toString()}}Hi.HEADER_SIZE=8,Hi.LAST_DIGIT_SIZE=2;class Yi extends pt{constructor(p){super(p)}parseInformation(){if(this.getInformation().getSize()<Yi.HEADER_SIZE+pt.GTIN_SIZE)throw new Ie;let p=new be;this.encodeCompressedGtin(p,Yi.HEADER_SIZE);let y=this.getGeneralDecoder().extractNumericValueFromBitArray(Yi.HEADER_SIZE+pt.GTIN_SIZE,Yi.LAST_DIGIT_SIZE);p.append("(393"),p.append(y),p.append(")");let w=this.getGeneralDecoder().extractNumericValueFromBitArray(Yi.HEADER_SIZE+pt.GTIN_SIZE+Yi.LAST_DIGIT_SIZE,Yi.FIRST_THREE_DIGITS_SIZE);w/100==0&&p.append("0"),w/10==0&&p.append("0"),p.append(w);let k=this.getGeneralDecoder().decodeGeneralPurposeField(Yi.HEADER_SIZE+pt.GTIN_SIZE+Yi.LAST_DIGIT_SIZE+Yi.FIRST_THREE_DIGITS_SIZE,null);return p.append(k.getNewString()),p.toString()}}Yi.HEADER_SIZE=8,Yi.LAST_DIGIT_SIZE=2,Yi.FIRST_THREE_DIGITS_SIZE=10;class on extends Ci{constructor(p,y,w){super(p),this.dateCode=w,this.firstAIdigits=y}parseInformation(){if(this.getInformation().getSize()!=on.HEADER_SIZE+on.GTIN_SIZE+on.WEIGHT_SIZE+on.DATE_SIZE)throw new Ie;let p=new be;return this.encodeCompressedGtin(p,on.HEADER_SIZE),this.encodeCompressedWeight(p,on.HEADER_SIZE+on.GTIN_SIZE,on.WEIGHT_SIZE),this.encodeCompressedDate(p,on.HEADER_SIZE+on.GTIN_SIZE+on.WEIGHT_SIZE),p.toString()}encodeCompressedDate(p,y){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(y,on.DATE_SIZE);if(w==38400)return;p.append("("),p.append(this.dateCode),p.append(")");let k=w%32;w/=32;let T=w%12+1;w/=12;let R=w;R/10==0&&p.append("0"),p.append(R),T/10==0&&p.append("0"),p.append(T),k/10==0&&p.append("0"),p.append(k)}addWeightCode(p,y){p.append("("),p.append(this.firstAIdigits),p.append(y/1e5),p.append(")")}checkWeight(p){return p%1e5}}on.HEADER_SIZE=8,on.WEIGHT_SIZE=20,on.DATE_SIZE=16;function ha(Se){try{if(Se.get(1))return new Gt(Se);if(!Se.get(2))return new ti(Se);switch(Jt.extractNumericValueFromBitArray(Se,1,4)){case 4:return new Gi(Se);case 5:return new ki(Se)}switch(Jt.extractNumericValueFromBitArray(Se,1,5)){case 12:return new Hi(Se);case 13:return new Yi(Se)}switch(Jt.extractNumericValueFromBitArray(Se,1,7)){case 56:return new on(Se,"310","11");case 57:return new on(Se,"320","11");case 58:return new on(Se,"310","13");case 59:return new on(Se,"320","13");case 60:return new on(Se,"310","15");case 61:return new on(Se,"320","15");case 62:return new on(Se,"310","17");case 63:return new on(Se,"320","17")}}catch(p){throw console.log(p),new rn("unknown decoder: "+Se)}}class _n{constructor(p,y,w,k){this.leftchar=p,this.rightchar=y,this.finderpattern=w,this.maybeLast=k}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(p,y){return p instanceof _n?_n.equalsOrNull(p.leftchar,y.leftchar)&&_n.equalsOrNull(p.rightchar,y.rightchar)&&_n.equalsOrNull(p.finderpattern,y.finderpattern):!1}static equalsOrNull(p,y){return p===null?y===null:_n.equals(p,y)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Wn{constructor(p,y,w){this.pairs=p,this.rowNumber=y,this.wasReversed=w}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(p){return this.checkEqualitity(this,p)}toString(){return"{ "+this.pairs+" }"}equals(p,y){return p instanceof Wn?this.checkEqualitity(p,y)&&p.wasReversed===y.wasReversed:!1}checkEqualitity(p,y){if(!p||!y)return;let w;return p.forEach((k,T)=>{y.forEach(R=>{k.getLeftChar().getValue()===R.getLeftChar().getValue()&&k.getRightChar().getValue()===R.getRightChar().getValue()&&k.getFinderPatter().getValue()===R.getFinderPatter().getValue()&&(w=!0)})}),w}}class qt extends An{constructor(p){super(...arguments),this.pairs=new Array(qt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=p===!0}decodeRow(p,y,w){this.pairs.length=0,this.startFromEven=!1;try{return qt.constructResult(this.decodeRow2pairs(p,y))}catch(k){this.verbose&&console.log(k)}return this.pairs.length=0,this.startFromEven=!0,qt.constructResult(this.decodeRow2pairs(p,y))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(p,y){let w=!1;for(;!w;)try{this.pairs.push(this.retrieveNextPair(y,this.pairs,p))}catch(T){if(T instanceof Ie){if(!this.pairs.length)throw new Ie;w=!0}}if(this.checkChecksum())return this.pairs;let k;if(this.rows.length?k=!0:k=!1,this.storeRow(p,!1),k){let T=this.checkRowsBoolean(!1);if(T!=null||(T=this.checkRowsBoolean(!0),T!=null))return T}throw new Ie}checkRowsBoolean(p){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,p&&(this.rows=this.rows.reverse());let y=null;try{y=this.checkRows(new Array,0)}catch(w){this.verbose&&console.log(w)}return p&&(this.rows=this.rows.reverse()),y}checkRows(p,y){for(let w=y;w<this.rows.length;w++){let k=this.rows[w];this.pairs.length=0;for(let R of p)this.pairs.push(R.getPairs());if(this.pairs.push(k.getPairs()),!qt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let T=new Array(p);T.push(k);try{return this.checkRows(T,w+1)}catch(R){this.verbose&&console.log(R)}}throw new Ie}static isValidSequence(p){for(let y of qt.FINDER_PATTERN_SEQUENCES){if(p.length>y.length)continue;let w=!0;for(let k=0;k<p.length;k++)if(p[k].getFinderPattern().getValue()!=y[k]){w=!1;break}if(w)return!0}return!1}storeRow(p,y){let w=0,k=!1,T=!1;for(;w<this.rows.length;){let R=this.rows[w];if(R.getRowNumber()>p){T=R.isEquivalent(this.pairs);break}k=R.isEquivalent(this.pairs),w++}T||k||qt.isPartialRow(this.pairs,this.rows)||(this.rows.push(w,new Wn(this.pairs,p,y)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(p,y){for(let w of y)if(w.getPairs().length!==p.length){for(let k of w.getPairs())for(let T of p)if(_n.equals(k,T))break}}static isPartialRow(p,y){for(let w of y){let k=!0;for(let T of p){let R=!1;for(let z of w.getPairs())if(T.equals(z)){R=!0;break}if(!R){k=!1;break}}if(k)return!0}return!1}getRows(){return this.rows}static constructResult(p){let y=fi.buildBitArray(p),k=ha(y).parseInformation(),T=p[0].getFinderPattern().getResultPoints(),R=p[p.length-1].getFinderPattern().getResultPoints(),z=[T[0],T[1],R[0],R[1]];return new It(k,null,null,z,mt.RSS_EXPANDED,null)}checkChecksum(){let p=this.pairs.get(0),y=p.getLeftChar(),w=p.getRightChar();if(w==null)return!1;let k=w.getChecksumPortion(),T=2;for(let z=1;z<this.pairs.size();++z){let W=this.pairs.get(z);k+=W.getLeftChar().getChecksumPortion(),T++;let ee=W.getRightChar();ee!=null&&(k+=ee.getChecksumPortion(),T++)}return k%=211,211*(T-4)+k==y.getValue()}static getNextSecondBar(p,y){let w;return p.get(y)?(w=p.getNextUnset(y),w=p.getNextSet(w)):(w=p.getNextSet(y),w=p.getNextUnset(w)),w}retrieveNextPair(p,y,w){let k=y.length%2==0;this.startFromEven&&(k=!k);let T,R=!0,z=-1;do this.findNextPair(p,y,z),T=this.parseFoundFinderPattern(p,w,k),T==null?z=qt.getNextSecondBar(p,this.startEnd[0]):R=!1;while(R);let W=this.decodeDataCharacter(p,T,k,!0);if(!this.isEmptyPair(y)&&y[y.length-1].mustBeLast())throw new Ie;let ee;try{ee=this.decodeDataCharacter(p,T,k,!1)}catch(Ae){ee=null,this.verbose&&console.log(Ae)}return new _n(W,ee,T,!0)}isEmptyPair(p){return p.length===0}findNextPair(p,y,w){let k=this.getDecodeFinderCounters();k[0]=0,k[1]=0,k[2]=0,k[3]=0;let T=p.getSize(),R;w>=0?R=w:this.isEmptyPair(y)?R=0:R=y[y.length-1].getFinderPattern().getStartEnd()[1];let z=y.length%2!=0;this.startFromEven&&(z=!z);let W=!1;for(;R<T&&(W=!p.get(R),!!W);)R++;let ee=0,Ae=R;for(let Be=R;Be<T;Be++)if(p.get(Be)!=W)k[ee]++;else{if(ee==3){if(z&&qt.reverseCounters(k),qt.isFinderPattern(k)){this.startEnd[0]=Ae,this.startEnd[1]=Be;return}z&&qt.reverseCounters(k),Ae+=k[0]+k[1],k[0]=k[2],k[1]=k[3],k[2]=0,k[3]=0,ee--}else ee++;k[ee]=1,W=!W}throw new Ie}static reverseCounters(p){let y=p.length;for(let w=0;w<y/2;++w){let k=p[w];p[w]=p[y-w-1],p[y-w-1]=k}}parseFoundFinderPattern(p,y,w){let k,T,R;if(w){let ee=this.startEnd[0]-1;for(;ee>=0&&!p.get(ee);)ee--;ee++,k=this.startEnd[0]-ee,T=ee,R=this.startEnd[1]}else T=this.startEnd[0],R=p.getNextUnset(this.startEnd[1]+1),k=R-this.startEnd[1];let z=this.getDecodeFinderCounters();I.arraycopy(z,0,z,1,z.length-1),z[0]=k;let W;try{W=this.parseFinderValue(z,qt.FINDER_PATTERNS)}catch{return null}return new Di(W,[T,R],T,R,y)}decodeDataCharacter(p,y,w,k){let T=this.getDataCharacterCounters();for(let Qe=0;Qe<T.length;Qe++)T[Qe]=0;if(k)qt.recordPatternInReverse(p,y.getStartEnd()[0],T);else{qt.recordPattern(p,y.getStartEnd()[1],T);for(let Qe=0,at=T.length-1;Qe<at;Qe++,at--){let ht=T[Qe];T[Qe]=T[at],T[at]=ht}}let R=17,z=ci.sum(new Int32Array(T))/R,W=(y.getStartEnd()[1]-y.getStartEnd()[0])/15;if(Math.abs(z-W)/W>.3)throw new Ie;let ee=this.getOddCounts(),Ae=this.getEvenCounts(),Be=this.getOddRoundingErrors(),Fe=this.getEvenRoundingErrors();for(let Qe=0;Qe<T.length;Qe++){let at=1*T[Qe]/z,ht=at+.5;if(ht<1){if(at<.3)throw new Ie;ht=1}else if(ht>8){if(at>8.7)throw new Ie;ht=8}let wt=Qe/2;(Qe&1)==0?(ee[wt]=ht,Be[wt]=at-ht):(Ae[wt]=ht,Fe[wt]=at-ht)}this.adjustOddEvenCounts(R);let Ke=4*y.getValue()+(w?0:2)+(k?0:1)-1,gt=0,vt=0;for(let Qe=ee.length-1;Qe>=0;Qe--){if(qt.isNotA1left(y,w,k)){let at=qt.WEIGHTS[Ke][2*Qe];vt+=ee[Qe]*at}gt+=ee[Qe]}let Ot=0;for(let Qe=Ae.length-1;Qe>=0;Qe--)if(qt.isNotA1left(y,w,k)){let at=qt.WEIGHTS[Ke][2*Qe+1];Ot+=Ae[Qe]*at}let Zt=vt+Ot;if((gt&1)!=0||gt>13||gt<4)throw new Ie;let Pi=(13-gt)/2,Ri=qt.SYMBOL_WIDEST[Pi],Si=9-Ri,_a=gn.getRSSvalue(ee,Ri,!0),un=gn.getRSSvalue(Ae,Si,!1),$=qt.EVEN_TOTAL_SUBSET[Pi],oe=qt.GSUM[Pi],ke=_a*$+un+oe;return new Ni(ke,Zt)}static isNotA1left(p,y,w){return!(p.getValue()==0&&y&&w)}adjustOddEvenCounts(p){let y=ci.sum(new Int32Array(this.getOddCounts())),w=ci.sum(new Int32Array(this.getEvenCounts())),k=!1,T=!1;y>13?T=!0:y<4&&(k=!0);let R=!1,z=!1;w>13?z=!0:w<4&&(R=!0);let W=y+w-p,ee=(y&1)==1,Ae=(w&1)==0;if(W==1)if(ee){if(Ae)throw new Ie;T=!0}else{if(!Ae)throw new Ie;z=!0}else if(W==-1)if(ee){if(Ae)throw new Ie;k=!0}else{if(!Ae)throw new Ie;R=!0}else if(W==0){if(ee){if(!Ae)throw new Ie;y<w?(k=!0,z=!0):(T=!0,R=!0)}else if(Ae)throw new Ie}else throw new Ie;if(k){if(T)throw new Ie;qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(T&&qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),R){if(z)throw new Ie;qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}z&&qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qt.SYMBOL_WIDEST=[7,5,4,3,1],qt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],qt.GSUM=[0,348,1388,2948,3988],qt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],qt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],qt.FINDER_PAT_A=0,qt.FINDER_PAT_B=1,qt.FINDER_PAT_C=2,qt.FINDER_PAT_D=3,qt.FINDER_PAT_E=4,qt.FINDER_PAT_F=5,qt.FINDER_PATTERN_SEQUENCES=[[qt.FINDER_PAT_A,qt.FINDER_PAT_A],[qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B],[qt.FINDER_PAT_A,qt.FINDER_PAT_C,qt.FINDER_PAT_B,qt.FINDER_PAT_D],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_C],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_D,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_E,qt.FINDER_PAT_B,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_D],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_E],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F],[qt.FINDER_PAT_A,qt.FINDER_PAT_A,qt.FINDER_PAT_B,qt.FINDER_PAT_B,qt.FINDER_PAT_C,qt.FINDER_PAT_D,qt.FINDER_PAT_D,qt.FINDER_PAT_E,qt.FINDER_PAT_E,qt.FINDER_PAT_F,qt.FINDER_PAT_F]],qt.MAX_PAIRS=11;class Ma extends Ni{constructor(p,y,w){super(p,y),this.count=0,this.finderPattern=w}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class nn extends An{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(p,y,w){const k=this.decodePair(y,!1,p,w);nn.addOrTally(this.possibleLeftPairs,k),y.reverse();let T=this.decodePair(y,!0,p,w);nn.addOrTally(this.possibleRightPairs,T),y.reverse();for(let R of this.possibleLeftPairs)if(R.getCount()>1){for(let z of this.possibleRightPairs)if(z.getCount()>1&&nn.checkChecksum(R,z))return nn.constructResult(R,z)}throw new Ie}static addOrTally(p,y){if(y==null)return;let w=!1;for(let k of p)if(k.getValue()===y.getValue()){k.incrementCount(),w=!0;break}w||p.push(y)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(p,y){let w=4537077*p.getValue()+y.getValue(),k=new String(w).toString(),T=new be;for(let ee=13-k.length;ee>0;ee--)T.append("0");T.append(k);let R=0;for(let ee=0;ee<13;ee++){let Ae=T.charAt(ee).charCodeAt(0)-48;R+=(ee&1)===0?3*Ae:Ae}R=10-R%10,R===10&&(R=0),T.append(R.toString());let z=p.getFinderPattern().getResultPoints(),W=y.getFinderPattern().getResultPoints();return new It(T.toString(),null,0,[z[0],z[1],W[0],W[1]],mt.RSS_14,new Date().getTime())}static checkChecksum(p,y){let w=(p.getChecksumPortion()+16*y.getChecksumPortion())%79,k=9*p.getFinderPattern().getValue()+y.getFinderPattern().getValue();return k>72&&k--,k>8&&k--,w===k}decodePair(p,y,w,k){try{let T=this.findFinderPattern(p,y),R=this.parseFoundFinderPattern(p,w,y,T),z=k==null?null:k.get(re.NEED_RESULT_POINT_CALLBACK);if(z!=null){let Ae=(T[0]+T[1])/2;y&&(Ae=p.getSize()-1-Ae),z.foundPossibleResultPoint(new ui(Ae,w))}let W=this.decodeDataCharacter(p,R,!0),ee=this.decodeDataCharacter(p,R,!1);return new Ma(1597*W.getValue()+ee.getValue(),W.getChecksumPortion()+4*ee.getChecksumPortion(),R)}catch{return null}}decodeDataCharacter(p,y,w){let k=this.getDataCharacterCounters();for(let Ot=0;Ot<k.length;Ot++)k[Ot]=0;if(w)yt.recordPatternInReverse(p,y.getStartEnd()[0],k);else{yt.recordPattern(p,y.getStartEnd()[1]+1,k);for(let Ot=0,Zt=k.length-1;Ot<Zt;Ot++,Zt--){let Pi=k[Ot];k[Ot]=k[Zt],k[Zt]=Pi}}let T=w?16:15,R=ci.sum(new Int32Array(k))/T,z=this.getOddCounts(),W=this.getEvenCounts(),ee=this.getOddRoundingErrors(),Ae=this.getEvenRoundingErrors();for(let Ot=0;Ot<k.length;Ot++){let Zt=k[Ot]/R,Pi=Math.floor(Zt+.5);Pi<1?Pi=1:Pi>8&&(Pi=8);let Ri=Math.floor(Ot/2);(Ot&1)===0?(z[Ri]=Pi,ee[Ri]=Zt-Pi):(W[Ri]=Pi,Ae[Ri]=Zt-Pi)}this.adjustOddEvenCounts(w,T);let Be=0,Fe=0;for(let Ot=z.length-1;Ot>=0;Ot--)Fe*=9,Fe+=z[Ot],Be+=z[Ot];let Ke=0,gt=0;for(let Ot=W.length-1;Ot>=0;Ot--)Ke*=9,Ke+=W[Ot],gt+=W[Ot];let vt=Fe+3*Ke;if(w){if((Be&1)!==0||Be>12||Be<4)throw new Ie;let Ot=(12-Be)/2,Zt=nn.OUTSIDE_ODD_WIDEST[Ot],Pi=9-Zt,Ri=gn.getRSSvalue(z,Zt,!1),Si=gn.getRSSvalue(W,Pi,!0),_a=nn.OUTSIDE_EVEN_TOTAL_SUBSET[Ot],un=nn.OUTSIDE_GSUM[Ot];return new Ni(Ri*_a+Si+un,vt)}else{if((gt&1)!==0||gt>10||gt<4)throw new Ie;let Ot=(10-gt)/2,Zt=nn.INSIDE_ODD_WIDEST[Ot],Pi=9-Zt,Ri=gn.getRSSvalue(z,Zt,!0),Si=gn.getRSSvalue(W,Pi,!1),_a=nn.INSIDE_ODD_TOTAL_SUBSET[Ot],un=nn.INSIDE_GSUM[Ot];return new Ni(Si*_a+Ri+un,vt)}}findFinderPattern(p,y){let w=this.getDecodeFinderCounters();w[0]=0,w[1]=0,w[2]=0,w[3]=0;let k=p.getSize(),T=!1,R=0;for(;R<k&&(T=!p.get(R),y!==T);)R++;let z=0,W=R;for(let ee=R;ee<k;ee++)if(p.get(ee)!==T)w[z]++;else{if(z===3){if(An.isFinderPattern(w))return[W,ee];W+=w[0]+w[1],w[0]=w[2],w[1]=w[3],w[2]=0,w[3]=0,z--}else z++;w[z]=1,T=!T}throw new Ie}parseFoundFinderPattern(p,y,w,k){let T=p.get(k[0]),R=k[0]-1;for(;R>=0&&T!==p.get(R);)R--;R++;const z=k[0]-R,W=this.getDecodeFinderCounters(),ee=new Int32Array(W.length);I.arraycopy(W,0,ee,1,W.length-1),ee[0]=z;const Ae=this.parseFinderValue(ee,nn.FINDER_PATTERNS);let Be=R,Fe=k[1];return w&&(Be=p.getSize()-1-Be,Fe=p.getSize()-1-Fe),new Di(Ae,[R,k[1]],Be,Fe,y)}adjustOddEvenCounts(p,y){let w=ci.sum(new Int32Array(this.getOddCounts())),k=ci.sum(new Int32Array(this.getEvenCounts())),T=!1,R=!1,z=!1,W=!1;p?(w>12?R=!0:w<4&&(T=!0),k>12?W=!0:k<4&&(z=!0)):(w>11?R=!0:w<5&&(T=!0),k>10?W=!0:k<4&&(z=!0));let ee=w+k-y,Ae=(w&1)===(p?1:0),Be=(k&1)===1;if(ee===1)if(Ae){if(Be)throw new Ie;R=!0}else{if(!Be)throw new Ie;W=!0}else if(ee===-1)if(Ae){if(Be)throw new Ie;T=!0}else{if(!Be)throw new Ie;z=!0}else if(ee===0){if(Ae){if(!Be)throw new Ie;w<k?(T=!0,W=!0):(R=!0,z=!0)}else if(Be)throw new Ie}else throw new Ie;if(T){if(R)throw new Ie;An.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(R&&An.decrement(this.getOddCounts(),this.getOddRoundingErrors()),z){if(W)throw new Ie;An.increment(this.getEvenCounts(),this.getOddRoundingErrors())}W&&An.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],nn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],nn.OUTSIDE_GSUM=[0,161,961,2015,2715],nn.INSIDE_GSUM=[0,336,1036,1516],nn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],nn.INSIDE_ODD_WIDEST=[2,4,6,8],nn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ja extends yt{constructor(p,y){super(),this.readers=[],this.verbose=y===!0;const w=p?p.get(re.POSSIBLE_FORMATS):null,k=p&&p.get(re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;w?((w.includes(mt.EAN_13)||w.includes(mt.UPC_A)||w.includes(mt.EAN_8)||w.includes(mt.UPC_E))&&this.readers.push(new yn(p)),w.includes(mt.CODE_39)&&this.readers.push(new xt(k)),w.includes(mt.CODE_128)&&this.readers.push(new Ve),w.includes(mt.ITF)&&this.readers.push(new jt),w.includes(mt.RSS_14)&&this.readers.push(new nn),w.includes(mt.RSS_EXPANDED)&&this.readers.push(new qt(this.verbose))):(this.readers.push(new yn(p)),this.readers.push(new xt),this.readers.push(new yn(p)),this.readers.push(new Ve),this.readers.push(new jt),this.readers.push(new nn),this.readers.push(new qt(this.verbose)))}decodeRow(p,y,w){for(let k=0;k<this.readers.length;k++)try{return this.readers[k].decodeRow(p,y,w)}catch{}throw new Ie}reset(){this.readers.forEach(p=>p.reset())}}class nr extends di{constructor(p=500,y){super(new Ja(y),p,y)}}class qn{constructor(p,y,w){this.ecCodewords=p,this.ecBlocks=[y],w&&this.ecBlocks.push(w)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Zn{constructor(p,y){this.count=p,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Cn{constructor(p,y,w,k,T,R){this.versionNumber=p,this.symbolSizeRows=y,this.symbolSizeColumns=w,this.dataRegionSizeRows=k,this.dataRegionSizeColumns=T,this.ecBlocks=R;let z=0;const W=R.getECCodewords(),ee=R.getECBlocks();for(let Ae of ee)z+=Ae.getCount()*(Ae.getDataCodewords()+W);this.totalCodewords=z}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(p,y){if((p&1)!==0||(y&1)!==0)throw new q;for(let w of Cn.VERSIONS)if(w.symbolSizeRows===p&&w.symbolSizeColumns===y)return w;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new Cn(1,10,10,8,8,new qn(5,new Zn(1,3))),new Cn(2,12,12,10,10,new qn(7,new Zn(1,5))),new Cn(3,14,14,12,12,new qn(10,new Zn(1,8))),new Cn(4,16,16,14,14,new qn(12,new Zn(1,12))),new Cn(5,18,18,16,16,new qn(14,new Zn(1,18))),new Cn(6,20,20,18,18,new qn(18,new Zn(1,22))),new Cn(7,22,22,20,20,new qn(20,new Zn(1,30))),new Cn(8,24,24,22,22,new qn(24,new Zn(1,36))),new Cn(9,26,26,24,24,new qn(28,new Zn(1,44))),new Cn(10,32,32,14,14,new qn(36,new Zn(1,62))),new Cn(11,36,36,16,16,new qn(42,new Zn(1,86))),new Cn(12,40,40,18,18,new qn(48,new Zn(1,114))),new Cn(13,44,44,20,20,new qn(56,new Zn(1,144))),new Cn(14,48,48,22,22,new qn(68,new Zn(1,174))),new Cn(15,52,52,24,24,new qn(42,new Zn(2,102))),new Cn(16,64,64,14,14,new qn(56,new Zn(2,140))),new Cn(17,72,72,16,16,new qn(36,new Zn(4,92))),new Cn(18,80,80,18,18,new qn(48,new Zn(4,114))),new Cn(19,88,88,20,20,new qn(56,new Zn(4,144))),new Cn(20,96,96,22,22,new qn(68,new Zn(4,174))),new Cn(21,104,104,24,24,new qn(56,new Zn(6,136))),new Cn(22,120,120,18,18,new qn(68,new Zn(6,175))),new Cn(23,132,132,20,20,new qn(62,new Zn(8,163))),new Cn(24,144,144,22,22,new qn(62,new Zn(8,156),new Zn(2,155))),new Cn(25,8,18,6,16,new qn(7,new Zn(1,5))),new Cn(26,8,32,6,14,new qn(11,new Zn(1,10))),new Cn(27,12,26,10,24,new qn(14,new Zn(1,16))),new Cn(28,12,36,10,16,new qn(18,new Zn(1,22))),new Cn(29,16,36,14,16,new qn(24,new Zn(1,32))),new Cn(30,16,48,14,22,new qn(28,new Zn(1,49)))]}}Cn.VERSIONS=Cn.buildVersions();class Xo{constructor(p){const y=p.getHeight();if(y<8||y>144||(y&1)!==0)throw new q;this.version=Xo.readVersion(p),this.mappingBitMatrix=this.extractDataRegion(p),this.readMappingMatrix=new De(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(p){const y=p.getHeight(),w=p.getWidth();return Cn.getVersionForDimensions(y,w)}readCodewords(){const p=new Int8Array(this.version.getTotalCodewords());let y=0,w=4,k=0;const T=this.mappingBitMatrix.getHeight(),R=this.mappingBitMatrix.getWidth();let z=!1,W=!1,ee=!1,Ae=!1;do if(w===T&&k===0&&!z)p[y++]=this.readCorner1(T,R)&255,w-=2,k+=2,z=!0;else if(w===T-2&&k===0&&(R&3)!==0&&!W)p[y++]=this.readCorner2(T,R)&255,w-=2,k+=2,W=!0;else if(w===T+4&&k===2&&(R&7)===0&&!ee)p[y++]=this.readCorner3(T,R)&255,w-=2,k+=2,ee=!0;else if(w===T-2&&k===0&&(R&7)===4&&!Ae)p[y++]=this.readCorner4(T,R)&255,w-=2,k+=2,Ae=!0;else{do w<T&&k>=0&&!this.readMappingMatrix.get(k,w)&&(p[y++]=this.readUtah(w,k,T,R)&255),w-=2,k+=2;while(w>=0&&k<R);w+=1,k+=3;do w>=0&&k<R&&!this.readMappingMatrix.get(k,w)&&(p[y++]=this.readUtah(w,k,T,R)&255),w+=2,k-=2;while(w<T&&k>=0);w+=3,k+=1}while(w<T||k<R);if(y!==this.version.getTotalCodewords())throw new q;return p}readModule(p,y,w,k){return p<0&&(p+=w,y+=4-(w+4&7)),y<0&&(y+=k,p+=4-(k+4&7)),this.readMappingMatrix.set(y,p),this.mappingBitMatrix.get(y,p)}readUtah(p,y,w,k){let T=0;return this.readModule(p-2,y-2,w,k)&&(T|=1),T<<=1,this.readModule(p-2,y-1,w,k)&&(T|=1),T<<=1,this.readModule(p-1,y-2,w,k)&&(T|=1),T<<=1,this.readModule(p-1,y-1,w,k)&&(T|=1),T<<=1,this.readModule(p-1,y,w,k)&&(T|=1),T<<=1,this.readModule(p,y-2,w,k)&&(T|=1),T<<=1,this.readModule(p,y-1,w,k)&&(T|=1),T<<=1,this.readModule(p,y,w,k)&&(T|=1),T}readCorner1(p,y){let w=0;return this.readModule(p-1,0,p,y)&&(w|=1),w<<=1,this.readModule(p-1,1,p,y)&&(w|=1),w<<=1,this.readModule(p-1,2,p,y)&&(w|=1),w<<=1,this.readModule(0,y-2,p,y)&&(w|=1),w<<=1,this.readModule(0,y-1,p,y)&&(w|=1),w<<=1,this.readModule(1,y-1,p,y)&&(w|=1),w<<=1,this.readModule(2,y-1,p,y)&&(w|=1),w<<=1,this.readModule(3,y-1,p,y)&&(w|=1),w}readCorner2(p,y){let w=0;return this.readModule(p-3,0,p,y)&&(w|=1),w<<=1,this.readModule(p-2,0,p,y)&&(w|=1),w<<=1,this.readModule(p-1,0,p,y)&&(w|=1),w<<=1,this.readModule(0,y-4,p,y)&&(w|=1),w<<=1,this.readModule(0,y-3,p,y)&&(w|=1),w<<=1,this.readModule(0,y-2,p,y)&&(w|=1),w<<=1,this.readModule(0,y-1,p,y)&&(w|=1),w<<=1,this.readModule(1,y-1,p,y)&&(w|=1),w}readCorner3(p,y){let w=0;return this.readModule(p-1,0,p,y)&&(w|=1),w<<=1,this.readModule(p-1,y-1,p,y)&&(w|=1),w<<=1,this.readModule(0,y-3,p,y)&&(w|=1),w<<=1,this.readModule(0,y-2,p,y)&&(w|=1),w<<=1,this.readModule(0,y-1,p,y)&&(w|=1),w<<=1,this.readModule(1,y-3,p,y)&&(w|=1),w<<=1,this.readModule(1,y-2,p,y)&&(w|=1),w<<=1,this.readModule(1,y-1,p,y)&&(w|=1),w}readCorner4(p,y){let w=0;return this.readModule(p-3,0,p,y)&&(w|=1),w<<=1,this.readModule(p-2,0,p,y)&&(w|=1),w<<=1,this.readModule(p-1,0,p,y)&&(w|=1),w<<=1,this.readModule(0,y-2,p,y)&&(w|=1),w<<=1,this.readModule(0,y-1,p,y)&&(w|=1),w<<=1,this.readModule(1,y-1,p,y)&&(w|=1),w<<=1,this.readModule(2,y-1,p,y)&&(w|=1),w<<=1,this.readModule(3,y-1,p,y)&&(w|=1),w}extractDataRegion(p){const y=this.version.getSymbolSizeRows(),w=this.version.getSymbolSizeColumns();if(p.getHeight()!==y)throw new x("Dimension of bitMatrix must match the version size");const k=this.version.getDataRegionSizeRows(),T=this.version.getDataRegionSizeColumns(),R=y/k|0,z=w/T|0,W=R*k,ee=z*T,Ae=new De(ee,W);for(let Be=0;Be<R;++Be){const Fe=Be*k;for(let Ke=0;Ke<z;++Ke){const gt=Ke*T;for(let vt=0;vt<k;++vt){const Ot=Be*(k+2)+1+vt,Zt=Fe+vt;for(let Pi=0;Pi<T;++Pi){const Ri=Ke*(T+2)+1+Pi;if(p.get(Ri,Ot)){const Si=gt+Pi;Ae.set(Si,Zt)}}}}}return Ae}}class vn{constructor(p,y){this.numDataCodewords=p,this.codewords=y}static getDataBlocks(p,y){const w=y.getECBlocks();let k=0;const T=w.getECBlocks();for(let vt of T)k+=vt.getCount();const R=new Array(k);let z=0;for(let vt of T)for(let Ot=0;Ot<vt.getCount();Ot++){const Zt=vt.getDataCodewords(),Pi=w.getECCodewords()+Zt;R[z++]=new vn(Zt,new Uint8Array(Pi))}const ee=R[0].codewords.length-w.getECCodewords(),Ae=ee-1;let Be=0;for(let vt=0;vt<Ae;vt++)for(let Ot=0;Ot<z;Ot++)R[Ot].codewords[vt]=p[Be++];const Fe=y.getVersionNumber()===24,Ke=Fe?8:z;for(let vt=0;vt<Ke;vt++)R[vt].codewords[ee-1]=p[Be++];const gt=R[0].codewords.length;for(let vt=ee;vt<gt;vt++)for(let Ot=0;Ot<z;Ot++){const Zt=Fe?(Ot+8)%z:Ot,Pi=Fe&&Zt>7?vt-1:vt;R[Zt].codewords[Pi]=p[Be++]}if(Be!==p.length)throw new x;return R}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Is{constructor(p){this.bytes=p,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(p){if(p<1||p>32||p>this.available())throw new x(""+p);let y=0,w=this.bitOffset,k=this.byteOffset;const T=this.bytes;if(w>0){const R=8-w,z=p<R?p:R,W=R-z,ee=255>>8-z<<W;y=(T[k]&ee)>>W,p-=z,w+=z,w===8&&(w=0,k++)}if(p>0){for(;p>=8;)y=y<<8|T[k]&255,k++,p-=8;if(p>0){const R=8-p,z=255>>R<<R;y=y<<p|(T[k]&z)>>R,w+=p}}return this.bitOffset=w,this.byteOffset=k,y}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Hn;(function(Se){Se[Se.PAD_ENCODE=0]="PAD_ENCODE",Se[Se.ASCII_ENCODE=1]="ASCII_ENCODE",Se[Se.C40_ENCODE=2]="C40_ENCODE",Se[Se.TEXT_ENCODE=3]="TEXT_ENCODE",Se[Se.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Se[Se.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Se[Se.BASE256_ENCODE=6]="BASE256_ENCODE"})(Hn||(Hn={}));class ds{static decode(p){const y=new Is(p),w=new be,k=new be,T=new Array;let R=Hn.ASCII_ENCODE;do if(R===Hn.ASCII_ENCODE)R=this.decodeAsciiSegment(y,w,k);else{switch(R){case Hn.C40_ENCODE:this.decodeC40Segment(y,w);break;case Hn.TEXT_ENCODE:this.decodeTextSegment(y,w);break;case Hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(y,w);break;case Hn.EDIFACT_ENCODE:this.decodeEdifactSegment(y,w);break;case Hn.BASE256_ENCODE:this.decodeBase256Segment(y,w,T);break;default:throw new q}R=Hn.ASCII_ENCODE}while(R!==Hn.PAD_ENCODE&&y.available()>0);return k.length()>0&&w.append(k.toString()),new Vi(p,w.toString(),T.length===0?null:T,null)}static decodeAsciiSegment(p,y,w){let k=!1;do{let T=p.readBits(8);if(T===0)throw new q;if(T<=128)return k&&(T+=128),y.append(String.fromCharCode(T-1)),Hn.ASCII_ENCODE;if(T===129)return Hn.PAD_ENCODE;if(T<=229){const R=T-130;R<10&&y.append("0"),y.append(""+R)}else switch(T){case 230:return Hn.C40_ENCODE;case 231:return Hn.BASE256_ENCODE;case 232:y.append("");break;case 233:case 234:break;case 235:k=!0;break;case 236:y.append("[)>05"),w.insert(0,"");break;case 237:y.append("[)>06"),w.insert(0,"");break;case 238:return Hn.ANSIX12_ENCODE;case 239:return Hn.TEXT_ENCODE;case 240:return Hn.EDIFACT_ENCODE;case 241:break;default:if(T!==254||p.available()!==0)throw new q;break}}while(p.available()>0);return Hn.ASCII_ENCODE}static decodeC40Segment(p,y){let w=!1;const k=[];let T=0;do{if(p.available()===8)return;const R=p.readBits(8);if(R===254)return;this.parseTwoBytes(R,p.readBits(8),k);for(let z=0;z<3;z++){const W=k[z];switch(T){case 0:if(W<3)T=W+1;else if(W<this.C40_BASIC_SET_CHARS.length){const ee=this.C40_BASIC_SET_CHARS[W];w?(y.append(String.fromCharCode(ee.charCodeAt(0)+128)),w=!1):y.append(ee)}else throw new q;break;case 1:w?(y.append(String.fromCharCode(W+128)),w=!1):y.append(String.fromCharCode(W)),T=0;break;case 2:if(W<this.C40_SHIFT2_SET_CHARS.length){const ee=this.C40_SHIFT2_SET_CHARS[W];w?(y.append(String.fromCharCode(ee.charCodeAt(0)+128)),w=!1):y.append(ee)}else switch(W){case 27:y.append("");break;case 30:w=!0;break;default:throw new q}T=0;break;case 3:w?(y.append(String.fromCharCode(W+224)),w=!1):y.append(String.fromCharCode(W+96)),T=0;break;default:throw new q}}}while(p.available()>0)}static decodeTextSegment(p,y){let w=!1,k=[],T=0;do{if(p.available()===8)return;const R=p.readBits(8);if(R===254)return;this.parseTwoBytes(R,p.readBits(8),k);for(let z=0;z<3;z++){const W=k[z];switch(T){case 0:if(W<3)T=W+1;else if(W<this.TEXT_BASIC_SET_CHARS.length){const ee=this.TEXT_BASIC_SET_CHARS[W];w?(y.append(String.fromCharCode(ee.charCodeAt(0)+128)),w=!1):y.append(ee)}else throw new q;break;case 1:w?(y.append(String.fromCharCode(W+128)),w=!1):y.append(String.fromCharCode(W)),T=0;break;case 2:if(W<this.TEXT_SHIFT2_SET_CHARS.length){const ee=this.TEXT_SHIFT2_SET_CHARS[W];w?(y.append(String.fromCharCode(ee.charCodeAt(0)+128)),w=!1):y.append(ee)}else switch(W){case 27:y.append("");break;case 30:w=!0;break;default:throw new q}T=0;break;case 3:if(W<this.TEXT_SHIFT3_SET_CHARS.length){const ee=this.TEXT_SHIFT3_SET_CHARS[W];w?(y.append(String.fromCharCode(ee.charCodeAt(0)+128)),w=!1):y.append(ee),T=0}else throw new q;break;default:throw new q}}}while(p.available()>0)}static decodeAnsiX12Segment(p,y){const w=[];do{if(p.available()===8)return;const k=p.readBits(8);if(k===254)return;this.parseTwoBytes(k,p.readBits(8),w);for(let T=0;T<3;T++){const R=w[T];switch(R){case 0:y.append("\r");break;case 1:y.append("*");break;case 2:y.append(">");break;case 3:y.append(" ");break;default:if(R<14)y.append(String.fromCharCode(R+44));else if(R<40)y.append(String.fromCharCode(R+51));else throw new q;break}}}while(p.available()>0)}static parseTwoBytes(p,y,w){let k=(p<<8)+y-1,T=Math.floor(k/1600);w[0]=T,k-=T*1600,T=Math.floor(k/40),w[1]=T,w[2]=k-T*40}static decodeEdifactSegment(p,y){do{if(p.available()<=16)return;for(let w=0;w<4;w++){let k=p.readBits(6);if(k===31){const T=8-p.getBitOffset();T!==8&&p.readBits(T);return}(k&32)===0&&(k|=64),y.append(String.fromCharCode(k))}}while(p.available()>0)}static decodeBase256Segment(p,y,w){let k=1+p.getByteOffset();const T=this.unrandomize255State(p.readBits(8),k++);let R;if(T===0?R=p.available()/8|0:T<250?R=T:R=250*(T-249)+this.unrandomize255State(p.readBits(8),k++),R<0)throw new q;const z=new Uint8Array(R);for(let W=0;W<R;W++){if(p.available()<8)throw new q;z[W]=this.unrandomize255State(p.readBits(8),k++)}w.push(z);try{y.append(ve.decode(z,de.ISO88591))}catch(W){throw new rn("Platform does not support required encoding: "+W.message)}}static unrandomize255State(p,y){const w=149*y%255+1,k=p-w;return k>=0?k:k+256}}ds.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ds.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ds.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ds.TEXT_SHIFT2_SET_CHARS=ds.C40_SHIFT2_SET_CHARS,ds.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class fs{constructor(){this.rsDecoder=new xn(Mi.DATA_MATRIX_FIELD_256)}decode(p){const y=new Xo(p),w=y.getVersion(),k=y.readCodewords(),T=vn.getDataBlocks(k,w);let R=0;for(let ee of T)R+=ee.getNumDataCodewords();const z=new Uint8Array(R),W=T.length;for(let ee=0;ee<W;ee++){const Ae=T[ee],Be=Ae.getCodewords(),Fe=Ae.getNumDataCodewords();this.correctErrors(Be,Fe);for(let Ke=0;Ke<Fe;Ke++)z[Ke*W+ee]=Be[Ke]}return ds.decode(z)}correctErrors(p,y){const w=new Int32Array(p);try{this.rsDecoder.decode(w,p.length-y)}catch{throw new S}for(let k=0;k<y;k++)p[k]=w[k]}}class fa{constructor(p){this.image=p,this.rectangleDetector=new Ei(this.image)}detect(){const p=this.rectangleDetector.detect();let y=this.detectSolid1(p);if(y=this.detectSolid2(y),y[3]=this.correctTopRight(y),!y[3])throw new Ie;y=this.shiftToModuleCenter(y);const w=y[0],k=y[1],T=y[2],R=y[3];let z=this.transitionsBetween(w,R)+1,W=this.transitionsBetween(T,R)+1;(z&1)===1&&(z+=1),(W&1)===1&&(W+=1),4*z<7*W&&4*W<7*z&&(z=W=Math.max(z,W));let ee=fa.sampleGrid(this.image,w,k,T,R,z,W);return new $i(ee,[w,k,T,R])}static shiftPoint(p,y,w){let k=(y.getX()-p.getX())/(w+1),T=(y.getY()-p.getY())/(w+1);return new ui(p.getX()+k,p.getY()+T)}static moveAway(p,y,w){let k=p.getX(),T=p.getY();return k<y?k-=1:k+=1,T<w?T-=1:T+=1,new ui(k,T)}detectSolid1(p){let y=p[0],w=p[1],k=p[3],T=p[2],R=this.transitionsBetween(y,w),z=this.transitionsBetween(w,k),W=this.transitionsBetween(k,T),ee=this.transitionsBetween(T,y),Ae=R,Be=[T,y,w,k];return Ae>z&&(Ae=z,Be[0]=y,Be[1]=w,Be[2]=k,Be[3]=T),Ae>W&&(Ae=W,Be[0]=w,Be[1]=k,Be[2]=T,Be[3]=y),Ae>ee&&(Be[0]=k,Be[1]=T,Be[2]=y,Be[3]=w),Be}detectSolid2(p){let y=p[0],w=p[1],k=p[2],T=p[3],R=this.transitionsBetween(y,T),z=fa.shiftPoint(w,k,(R+1)*4),W=fa.shiftPoint(k,w,(R+1)*4),ee=this.transitionsBetween(z,y),Ae=this.transitionsBetween(W,T);return ee<Ae?(p[0]=y,p[1]=w,p[2]=k,p[3]=T):(p[0]=w,p[1]=k,p[2]=T,p[3]=y),p}correctTopRight(p){let y=p[0],w=p[1],k=p[2],T=p[3],R=this.transitionsBetween(y,T),z=this.transitionsBetween(w,T),W=fa.shiftPoint(y,w,(z+1)*4),ee=fa.shiftPoint(k,w,(R+1)*4);R=this.transitionsBetween(W,T),z=this.transitionsBetween(ee,T);let Ae=new ui(T.getX()+(k.getX()-w.getX())/(R+1),T.getY()+(k.getY()-w.getY())/(R+1)),Be=new ui(T.getX()+(y.getX()-w.getX())/(z+1),T.getY()+(y.getY()-w.getY())/(z+1));if(!this.isValid(Ae))return this.isValid(Be)?Be:null;if(!this.isValid(Be))return Ae;let Fe=this.transitionsBetween(W,Ae)+this.transitionsBetween(ee,Ae),Ke=this.transitionsBetween(W,Be)+this.transitionsBetween(ee,Be);return Fe>Ke?Ae:Be}shiftToModuleCenter(p){let y=p[0],w=p[1],k=p[2],T=p[3],R=this.transitionsBetween(y,T)+1,z=this.transitionsBetween(k,T)+1,W=fa.shiftPoint(y,w,z*4),ee=fa.shiftPoint(k,w,R*4);R=this.transitionsBetween(W,T)+1,z=this.transitionsBetween(ee,T)+1,(R&1)===1&&(R+=1),(z&1)===1&&(z+=1);let Ae=(y.getX()+w.getX()+k.getX()+T.getX())/4,Be=(y.getY()+w.getY()+k.getY()+T.getY())/4;y=fa.moveAway(y,Ae,Be),w=fa.moveAway(w,Ae,Be),k=fa.moveAway(k,Ae,Be),T=fa.moveAway(T,Ae,Be);let Fe,Ke;return W=fa.shiftPoint(y,w,z*4),W=fa.shiftPoint(W,T,R*4),Fe=fa.shiftPoint(w,y,z*4),Fe=fa.shiftPoint(Fe,k,R*4),ee=fa.shiftPoint(k,T,z*4),ee=fa.shiftPoint(ee,w,R*4),Ke=fa.shiftPoint(T,k,z*4),Ke=fa.shiftPoint(Ke,y,R*4),[W,Fe,ee,Ke]}isValid(p){return p.getX()>=0&&p.getX()<this.image.getWidth()&&p.getY()>0&&p.getY()<this.image.getHeight()}static sampleGrid(p,y,w,k,T,R,z){return we.getInstance().sampleGrid(p,R,z,.5,.5,R-.5,.5,R-.5,z-.5,.5,z-.5,y.getX(),y.getY(),T.getX(),T.getY(),k.getX(),k.getY(),w.getX(),w.getY())}transitionsBetween(p,y){let w=Math.trunc(p.getX()),k=Math.trunc(p.getY()),T=Math.trunc(y.getX()),R=Math.trunc(y.getY()),z=Math.abs(R-k)>Math.abs(T-w);if(z){let vt=w;w=k,k=vt,vt=T,T=R,R=vt}let W=Math.abs(T-w),ee=Math.abs(R-k),Ae=-W/2,Be=k<R?1:-1,Fe=w<T?1:-1,Ke=0,gt=this.image.get(z?k:w,z?w:k);for(let vt=w,Ot=k;vt!==T;vt+=Fe){let Zt=this.image.get(z?Ot:vt,z?vt:Ot);if(Zt!==gt&&(Ke++,gt=Zt),Ae+=ee,Ae>0){if(Ot===R)break;Ot+=Be,Ae-=W}}return Ke}}class Xa{constructor(){this.decoder=new fs}decode(p,y=null){let w,k;if(y!=null&&y.has(re.PURE_BARCODE)){const ee=Xa.extractPureBits(p.getBlackMatrix());w=this.decoder.decode(ee),k=Xa.NO_POINTS}else{const ee=new fa(p.getBlackMatrix()).detect();w=this.decoder.decode(ee.getBits()),k=ee.getPoints()}const T=w.getRawBytes(),R=new It(w.getText(),T,8*T.length,k,mt.DATA_MATRIX,I.currentTimeMillis()),z=w.getByteSegments();z!=null&&R.putMetadata(gi.BYTE_SEGMENTS,z);const W=w.getECLevel();return W!=null&&R.putMetadata(gi.ERROR_CORRECTION_LEVEL,W),R}reset(){}static extractPureBits(p){const y=p.getTopLeftOnBit(),w=p.getBottomRightOnBit();if(y==null||w==null)throw new Ie;const k=this.moduleSize(y,p);let T=y[1];const R=w[1];let z=y[0];const ee=(w[0]-z+1)/k,Ae=(R-T+1)/k;if(ee<=0||Ae<=0)throw new Ie;const Be=k/2;T+=Be,z+=Be;const Fe=new De(ee,Ae);for(let Ke=0;Ke<Ae;Ke++){const gt=T+Ke*k;for(let vt=0;vt<ee;vt++)p.get(z+vt*k,gt)&&Fe.set(vt,Ke)}return Fe}static moduleSize(p,y){const w=y.getWidth();let k=p[0];const T=p[1];for(;k<w&&y.get(k,T);)k++;if(k===w)throw new Ie;const R=k-p[0];if(R===0)throw new Ie;return R}}Xa.NO_POINTS=[];class nc extends di{constructor(p=500){super(new Xa,p)}}var Po;(function(Se){Se[Se.L=0]="L",Se[Se.M=1]="M",Se[Se.Q=2]="Q",Se[Se.H=3]="H"})(Po||(Po={}));class Ea{constructor(p,y,w){this.value=p,this.stringValue=y,this.bits=w,Ea.FOR_BITS.set(w,this),Ea.FOR_VALUE.set(p,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(p){switch(p){case"L":return Ea.L;case"M":return Ea.M;case"Q":return Ea.Q;case"H":return Ea.H;default:throw new g(p+"not available")}}toString(){return this.stringValue}equals(p){if(!(p instanceof Ea))return!1;const y=p;return this.value===y.value}static forBits(p){if(p<0||p>=Ea.FOR_BITS.size)throw new x;return Ea.FOR_BITS.get(p)}}Ea.FOR_BITS=new Map,Ea.FOR_VALUE=new Map,Ea.L=new Ea(Po.L,"L",1),Ea.M=new Ea(Po.M,"M",0),Ea.Q=new Ea(Po.Q,"Q",3),Ea.H=new Ea(Po.H,"H",2);class dr{constructor(p){this.errorCorrectionLevel=Ea.forBits(p>>3&3),this.dataMask=p&7}static numBitsDiffering(p,y){return Y.bitCount(p^y)}static decodeFormatInformation(p,y){const w=dr.doDecodeFormatInformation(p,y);return w!==null?w:dr.doDecodeFormatInformation(p^dr.FORMAT_INFO_MASK_QR,y^dr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(p,y){let w=Number.MAX_SAFE_INTEGER,k=0;for(const T of dr.FORMAT_INFO_DECODE_LOOKUP){const R=T[0];if(R===p||R===y)return new dr(T[1]);let z=dr.numBitsDiffering(p,R);z<w&&(k=T[1],w=z),p!==y&&(z=dr.numBitsDiffering(y,R),z<w&&(k=T[1],w=z))}return w<=3?new dr(k):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(p){if(!(p instanceof dr))return!1;const y=p;return this.errorCorrectionLevel===y.errorCorrectionLevel&&this.dataMask===y.dataMask}}dr.FORMAT_INFO_MASK_QR=21522,dr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Dt{constructor(p,...y){this.ecCodewordsPerBlock=p,this.ecBlocks=y}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let p=0;const y=this.ecBlocks;for(const w of y)p+=w.getCount();return p}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ze{constructor(p,y){this.count=p,this.dataCodewords=y}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Mn{constructor(p,y,...w){this.versionNumber=p,this.alignmentPatternCenters=y,this.ecBlocks=w;let k=0;const T=w[0].getECCodewordsPerBlock(),R=w[0].getECBlocks();for(const z of R)k+=z.getCount()*(z.getDataCodewords()+T);this.totalCodewords=k}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(p){return this.ecBlocks[p.getValue()]}static getProvisionalVersionForDimension(p){if(p%4!==1)throw new q;try{return this.getVersionForNumber((p-17)/4)}catch{throw new q}}static getVersionForNumber(p){if(p<1||p>40)throw new x;return Mn.VERSIONS[p-1]}static decodeVersionInformation(p){let y=Number.MAX_SAFE_INTEGER,w=0;for(let k=0;k<Mn.VERSION_DECODE_INFO.length;k++){const T=Mn.VERSION_DECODE_INFO[k];if(T===p)return Mn.getVersionForNumber(k+7);const R=dr.numBitsDiffering(p,T);R<y&&(w=k+7,y=R)}return y<=3?Mn.getVersionForNumber(w):null}buildFunctionPattern(){const p=this.getDimensionForVersion(),y=new De(p);y.setRegion(0,0,9,9),y.setRegion(p-8,0,8,9),y.setRegion(0,p-8,9,8);const w=this.alignmentPatternCenters.length;for(let k=0;k<w;k++){const T=this.alignmentPatternCenters[k]-2;for(let R=0;R<w;R++)k===0&&(R===0||R===w-1)||k===w-1&&R===0||y.setRegion(this.alignmentPatternCenters[R]-2,T,5,5)}return y.setRegion(6,9,1,p-17),y.setRegion(9,6,p-17,1),this.versionNumber>6&&(y.setRegion(p-11,0,3,6),y.setRegion(0,p-11,6,3)),y}toString(){return""+this.versionNumber}}Mn.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Mn.VERSIONS=[new Mn(1,new Int32Array(0),new Dt(7,new ze(1,19)),new Dt(10,new ze(1,16)),new Dt(13,new ze(1,13)),new Dt(17,new ze(1,9))),new Mn(2,Int32Array.from([6,18]),new Dt(10,new ze(1,34)),new Dt(16,new ze(1,28)),new Dt(22,new ze(1,22)),new Dt(28,new ze(1,16))),new Mn(3,Int32Array.from([6,22]),new Dt(15,new ze(1,55)),new Dt(26,new ze(1,44)),new Dt(18,new ze(2,17)),new Dt(22,new ze(2,13))),new Mn(4,Int32Array.from([6,26]),new Dt(20,new ze(1,80)),new Dt(18,new ze(2,32)),new Dt(26,new ze(2,24)),new Dt(16,new ze(4,9))),new Mn(5,Int32Array.from([6,30]),new Dt(26,new ze(1,108)),new Dt(24,new ze(2,43)),new Dt(18,new ze(2,15),new ze(2,16)),new Dt(22,new ze(2,11),new ze(2,12))),new Mn(6,Int32Array.from([6,34]),new Dt(18,new ze(2,68)),new Dt(16,new ze(4,27)),new Dt(24,new ze(4,19)),new Dt(28,new ze(4,15))),new Mn(7,Int32Array.from([6,22,38]),new Dt(20,new ze(2,78)),new Dt(18,new ze(4,31)),new Dt(18,new ze(2,14),new ze(4,15)),new Dt(26,new ze(4,13),new ze(1,14))),new Mn(8,Int32Array.from([6,24,42]),new Dt(24,new ze(2,97)),new Dt(22,new ze(2,38),new ze(2,39)),new Dt(22,new ze(4,18),new ze(2,19)),new Dt(26,new ze(4,14),new ze(2,15))),new Mn(9,Int32Array.from([6,26,46]),new Dt(30,new ze(2,116)),new Dt(22,new ze(3,36),new ze(2,37)),new Dt(20,new ze(4,16),new ze(4,17)),new Dt(24,new ze(4,12),new ze(4,13))),new Mn(10,Int32Array.from([6,28,50]),new Dt(18,new ze(2,68),new ze(2,69)),new Dt(26,new ze(4,43),new ze(1,44)),new Dt(24,new ze(6,19),new ze(2,20)),new Dt(28,new ze(6,15),new ze(2,16))),new Mn(11,Int32Array.from([6,30,54]),new Dt(20,new ze(4,81)),new Dt(30,new ze(1,50),new ze(4,51)),new Dt(28,new ze(4,22),new ze(4,23)),new Dt(24,new ze(3,12),new ze(8,13))),new Mn(12,Int32Array.from([6,32,58]),new Dt(24,new ze(2,92),new ze(2,93)),new Dt(22,new ze(6,36),new ze(2,37)),new Dt(26,new ze(4,20),new ze(6,21)),new Dt(28,new ze(7,14),new ze(4,15))),new Mn(13,Int32Array.from([6,34,62]),new Dt(26,new ze(4,107)),new Dt(22,new ze(8,37),new ze(1,38)),new Dt(24,new ze(8,20),new ze(4,21)),new Dt(22,new ze(12,11),new ze(4,12))),new Mn(14,Int32Array.from([6,26,46,66]),new Dt(30,new ze(3,115),new ze(1,116)),new Dt(24,new ze(4,40),new ze(5,41)),new Dt(20,new ze(11,16),new ze(5,17)),new Dt(24,new ze(11,12),new ze(5,13))),new Mn(15,Int32Array.from([6,26,48,70]),new Dt(22,new ze(5,87),new ze(1,88)),new Dt(24,new ze(5,41),new ze(5,42)),new Dt(30,new ze(5,24),new ze(7,25)),new Dt(24,new ze(11,12),new ze(7,13))),new Mn(16,Int32Array.from([6,26,50,74]),new Dt(24,new ze(5,98),new ze(1,99)),new Dt(28,new ze(7,45),new ze(3,46)),new Dt(24,new ze(15,19),new ze(2,20)),new Dt(30,new ze(3,15),new ze(13,16))),new Mn(17,Int32Array.from([6,30,54,78]),new Dt(28,new ze(1,107),new ze(5,108)),new Dt(28,new ze(10,46),new ze(1,47)),new Dt(28,new ze(1,22),new ze(15,23)),new Dt(28,new ze(2,14),new ze(17,15))),new Mn(18,Int32Array.from([6,30,56,82]),new Dt(30,new ze(5,120),new ze(1,121)),new Dt(26,new ze(9,43),new ze(4,44)),new Dt(28,new ze(17,22),new ze(1,23)),new Dt(28,new ze(2,14),new ze(19,15))),new Mn(19,Int32Array.from([6,30,58,86]),new Dt(28,new ze(3,113),new ze(4,114)),new Dt(26,new ze(3,44),new ze(11,45)),new Dt(26,new ze(17,21),new ze(4,22)),new Dt(26,new ze(9,13),new ze(16,14))),new Mn(20,Int32Array.from([6,34,62,90]),new Dt(28,new ze(3,107),new ze(5,108)),new Dt(26,new ze(3,41),new ze(13,42)),new Dt(30,new ze(15,24),new ze(5,25)),new Dt(28,new ze(15,15),new ze(10,16))),new Mn(21,Int32Array.from([6,28,50,72,94]),new Dt(28,new ze(4,116),new ze(4,117)),new Dt(26,new ze(17,42)),new Dt(28,new ze(17,22),new ze(6,23)),new Dt(30,new ze(19,16),new ze(6,17))),new Mn(22,Int32Array.from([6,26,50,74,98]),new Dt(28,new ze(2,111),new ze(7,112)),new Dt(28,new ze(17,46)),new Dt(30,new ze(7,24),new ze(16,25)),new Dt(24,new ze(34,13))),new Mn(23,Int32Array.from([6,30,54,78,102]),new Dt(30,new ze(4,121),new ze(5,122)),new Dt(28,new ze(4,47),new ze(14,48)),new Dt(30,new ze(11,24),new ze(14,25)),new Dt(30,new ze(16,15),new ze(14,16))),new Mn(24,Int32Array.from([6,28,54,80,106]),new Dt(30,new ze(6,117),new ze(4,118)),new Dt(28,new ze(6,45),new ze(14,46)),new Dt(30,new ze(11,24),new ze(16,25)),new Dt(30,new ze(30,16),new ze(2,17))),new Mn(25,Int32Array.from([6,32,58,84,110]),new Dt(26,new ze(8,106),new ze(4,107)),new Dt(28,new ze(8,47),new ze(13,48)),new Dt(30,new ze(7,24),new ze(22,25)),new Dt(30,new ze(22,15),new ze(13,16))),new Mn(26,Int32Array.from([6,30,58,86,114]),new Dt(28,new ze(10,114),new ze(2,115)),new Dt(28,new ze(19,46),new ze(4,47)),new Dt(28,new ze(28,22),new ze(6,23)),new Dt(30,new ze(33,16),new ze(4,17))),new Mn(27,Int32Array.from([6,34,62,90,118]),new Dt(30,new ze(8,122),new ze(4,123)),new Dt(28,new ze(22,45),new ze(3,46)),new Dt(30,new ze(8,23),new ze(26,24)),new Dt(30,new ze(12,15),new ze(28,16))),new Mn(28,Int32Array.from([6,26,50,74,98,122]),new Dt(30,new ze(3,117),new ze(10,118)),new Dt(28,new ze(3,45),new ze(23,46)),new Dt(30,new ze(4,24),new ze(31,25)),new Dt(30,new ze(11,15),new ze(31,16))),new Mn(29,Int32Array.from([6,30,54,78,102,126]),new Dt(30,new ze(7,116),new ze(7,117)),new Dt(28,new ze(21,45),new ze(7,46)),new Dt(30,new ze(1,23),new ze(37,24)),new Dt(30,new ze(19,15),new ze(26,16))),new Mn(30,Int32Array.from([6,26,52,78,104,130]),new Dt(30,new ze(5,115),new ze(10,116)),new Dt(28,new ze(19,47),new ze(10,48)),new Dt(30,new ze(15,24),new ze(25,25)),new Dt(30,new ze(23,15),new ze(25,16))),new Mn(31,Int32Array.from([6,30,56,82,108,134]),new Dt(30,new ze(13,115),new ze(3,116)),new Dt(28,new ze(2,46),new ze(29,47)),new Dt(30,new ze(42,24),new ze(1,25)),new Dt(30,new ze(23,15),new ze(28,16))),new Mn(32,Int32Array.from([6,34,60,86,112,138]),new Dt(30,new ze(17,115)),new Dt(28,new ze(10,46),new ze(23,47)),new Dt(30,new ze(10,24),new ze(35,25)),new Dt(30,new ze(19,15),new ze(35,16))),new Mn(33,Int32Array.from([6,30,58,86,114,142]),new Dt(30,new ze(17,115),new ze(1,116)),new Dt(28,new ze(14,46),new ze(21,47)),new Dt(30,new ze(29,24),new ze(19,25)),new Dt(30,new ze(11,15),new ze(46,16))),new Mn(34,Int32Array.from([6,34,62,90,118,146]),new Dt(30,new ze(13,115),new ze(6,116)),new Dt(28,new ze(14,46),new ze(23,47)),new Dt(30,new ze(44,24),new ze(7,25)),new Dt(30,new ze(59,16),new ze(1,17))),new Mn(35,Int32Array.from([6,30,54,78,102,126,150]),new Dt(30,new ze(12,121),new ze(7,122)),new Dt(28,new ze(12,47),new ze(26,48)),new Dt(30,new ze(39,24),new ze(14,25)),new Dt(30,new ze(22,15),new ze(41,16))),new Mn(36,Int32Array.from([6,24,50,76,102,128,154]),new Dt(30,new ze(6,121),new ze(14,122)),new Dt(28,new ze(6,47),new ze(34,48)),new Dt(30,new ze(46,24),new ze(10,25)),new Dt(30,new ze(2,15),new ze(64,16))),new Mn(37,Int32Array.from([6,28,54,80,106,132,158]),new Dt(30,new ze(17,122),new ze(4,123)),new Dt(28,new ze(29,46),new ze(14,47)),new Dt(30,new ze(49,24),new ze(10,25)),new Dt(30,new ze(24,15),new ze(46,16))),new Mn(38,Int32Array.from([6,32,58,84,110,136,162]),new Dt(30,new ze(4,122),new ze(18,123)),new Dt(28,new ze(13,46),new ze(32,47)),new Dt(30,new ze(48,24),new ze(14,25)),new Dt(30,new ze(42,15),new ze(32,16))),new Mn(39,Int32Array.from([6,26,54,82,110,138,166]),new Dt(30,new ze(20,117),new ze(4,118)),new Dt(28,new ze(40,47),new ze(7,48)),new Dt(30,new ze(43,24),new ze(22,25)),new Dt(30,new ze(10,15),new ze(67,16))),new Mn(40,Int32Array.from([6,30,58,86,114,142,170]),new Dt(30,new ze(19,118),new ze(6,119)),new Dt(28,new ze(18,47),new ze(31,48)),new Dt(30,new ze(34,24),new ze(34,25)),new Dt(30,new ze(20,15),new ze(61,16)))];var fr;(function(Se){Se[Se.DATA_MASK_000=0]="DATA_MASK_000",Se[Se.DATA_MASK_001=1]="DATA_MASK_001",Se[Se.DATA_MASK_010=2]="DATA_MASK_010",Se[Se.DATA_MASK_011=3]="DATA_MASK_011",Se[Se.DATA_MASK_100=4]="DATA_MASK_100",Se[Se.DATA_MASK_101=5]="DATA_MASK_101",Se[Se.DATA_MASK_110=6]="DATA_MASK_110",Se[Se.DATA_MASK_111=7]="DATA_MASK_111"})(fr||(fr={}));class Lr{constructor(p,y){this.value=p,this.isMasked=y}unmaskBitMatrix(p,y){for(let w=0;w<y;w++)for(let k=0;k<y;k++)this.isMasked(w,k)&&p.flip(k,w)}}Lr.values=new Map([[fr.DATA_MASK_000,new Lr(fr.DATA_MASK_000,(Se,p)=>(Se+p&1)===0)],[fr.DATA_MASK_001,new Lr(fr.DATA_MASK_001,(Se,p)=>(Se&1)===0)],[fr.DATA_MASK_010,new Lr(fr.DATA_MASK_010,(Se,p)=>p%3===0)],[fr.DATA_MASK_011,new Lr(fr.DATA_MASK_011,(Se,p)=>(Se+p)%3===0)],[fr.DATA_MASK_100,new Lr(fr.DATA_MASK_100,(Se,p)=>(Math.floor(Se/2)+Math.floor(p/3)&1)===0)],[fr.DATA_MASK_101,new Lr(fr.DATA_MASK_101,(Se,p)=>Se*p%6===0)],[fr.DATA_MASK_110,new Lr(fr.DATA_MASK_110,(Se,p)=>Se*p%6<3)],[fr.DATA_MASK_111,new Lr(fr.DATA_MASK_111,(Se,p)=>(Se+p+Se*p%3&1)===0)]]);class Fr{constructor(p){const y=p.getHeight();if(y<21||(y&3)!==1)throw new q;this.bitMatrix=p}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let p=0;for(let T=0;T<6;T++)p=this.copyBit(T,8,p);p=this.copyBit(7,8,p),p=this.copyBit(8,8,p),p=this.copyBit(8,7,p);for(let T=5;T>=0;T--)p=this.copyBit(8,T,p);const y=this.bitMatrix.getHeight();let w=0;const k=y-7;for(let T=y-1;T>=k;T--)w=this.copyBit(8,T,w);for(let T=y-8;T<y;T++)w=this.copyBit(T,8,w);if(this.parsedFormatInfo=dr.decodeFormatInformation(p,w),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const p=this.bitMatrix.getHeight(),y=Math.floor((p-17)/4);if(y<=6)return Mn.getVersionForNumber(y);let w=0;const k=p-11;for(let R=5;R>=0;R--)for(let z=p-9;z>=k;z--)w=this.copyBit(z,R,w);let T=Mn.decodeVersionInformation(w);if(T!==null&&T.getDimensionForVersion()===p)return this.parsedVersion=T,T;w=0;for(let R=5;R>=0;R--)for(let z=p-9;z>=k;z--)w=this.copyBit(R,z,w);if(T=Mn.decodeVersionInformation(w),T!==null&&T.getDimensionForVersion()===p)return this.parsedVersion=T,T;throw new q}copyBit(p,y,w){return(this.isMirror?this.bitMatrix.get(y,p):this.bitMatrix.get(p,y))?w<<1|1:w<<1}readCodewords(){const p=this.readFormatInformation(),y=this.readVersion(),w=Lr.values.get(p.getDataMask()),k=this.bitMatrix.getHeight();w.unmaskBitMatrix(this.bitMatrix,k);const T=y.buildFunctionPattern();let R=!0;const z=new Uint8Array(y.getTotalCodewords());let W=0,ee=0,Ae=0;for(let Be=k-1;Be>0;Be-=2){Be===6&&Be--;for(let Fe=0;Fe<k;Fe++){const Ke=R?k-1-Fe:Fe;for(let gt=0;gt<2;gt++)T.get(Be-gt,Ke)||(Ae++,ee<<=1,this.bitMatrix.get(Be-gt,Ke)&&(ee|=1),Ae===8&&(z[W++]=ee,Ae=0,ee=0))}R=!R}if(W!==y.getTotalCodewords())throw new q;return z}remask(){if(this.parsedFormatInfo===null)return;const p=Lr.values[this.parsedFormatInfo.getDataMask()],y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y)}setMirror(p){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=p}mirror(){const p=this.bitMatrix;for(let y=0,w=p.getWidth();y<w;y++)for(let k=y+1,T=p.getHeight();k<T;k++)p.get(y,k)!==p.get(k,y)&&(p.flip(k,y),p.flip(y,k))}}class Fl{constructor(p,y){this.numDataCodewords=p,this.codewords=y}static getDataBlocks(p,y,w){if(p.length!==y.getTotalCodewords())throw new x;const k=y.getECBlocksForLevel(w);let T=0;const R=k.getECBlocks();for(const gt of R)T+=gt.getCount();const z=new Array(T);let W=0;for(const gt of R)for(let vt=0;vt<gt.getCount();vt++){const Ot=gt.getDataCodewords(),Zt=k.getECCodewordsPerBlock()+Ot;z[W++]=new Fl(Ot,new Uint8Array(Zt))}const ee=z[0].codewords.length;let Ae=z.length-1;for(;Ae>=0&&z[Ae].codewords.length!==ee;)Ae--;Ae++;const Be=ee-k.getECCodewordsPerBlock();let Fe=0;for(let gt=0;gt<Be;gt++)for(let vt=0;vt<W;vt++)z[vt].codewords[gt]=p[Fe++];for(let gt=Ae;gt<W;gt++)z[gt].codewords[Be]=p[Fe++];const Ke=z[0].codewords.length;for(let gt=Be;gt<Ke;gt++)for(let vt=0;vt<W;vt++){const Ot=vt<Ae?gt:gt+1;z[vt].codewords[Ot]=p[Fe++]}return z}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ar;(function(Se){Se[Se.TERMINATOR=0]="TERMINATOR",Se[Se.NUMERIC=1]="NUMERIC",Se[Se.ALPHANUMERIC=2]="ALPHANUMERIC",Se[Se.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Se[Se.BYTE=4]="BYTE",Se[Se.ECI=5]="ECI",Se[Se.KANJI=6]="KANJI",Se[Se.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Se[Se.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Se[Se.HANZI=9]="HANZI"})(Ar||(Ar={}));class Nn{constructor(p,y,w,k){this.value=p,this.stringValue=y,this.characterCountBitsForVersions=w,this.bits=k,Nn.FOR_BITS.set(k,this),Nn.FOR_VALUE.set(p,this)}static forBits(p){const y=Nn.FOR_BITS.get(p);if(y===void 0)throw new x;return y}getCharacterCountBits(p){const y=p.getVersionNumber();let w;return y<=9?w=0:y<=26?w=1:w=2,this.characterCountBitsForVersions[w]}getValue(){return this.value}getBits(){return this.bits}equals(p){if(!(p instanceof Nn))return!1;const y=p;return this.value===y.value}toString(){return this.stringValue}}Nn.FOR_BITS=new Map,Nn.FOR_VALUE=new Map,Nn.TERMINATOR=new Nn(Ar.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Nn.NUMERIC=new Nn(Ar.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Nn.ALPHANUMERIC=new Nn(Ar.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Nn.STRUCTURED_APPEND=new Nn(Ar.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Nn.BYTE=new Nn(Ar.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Nn.ECI=new Nn(Ar.ECI,"ECI",Int32Array.from([0,0,0]),7),Nn.KANJI=new Nn(Ar.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Nn.FNC1_FIRST_POSITION=new Nn(Ar.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Nn.FNC1_SECOND_POSITION=new Nn(Ar.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Nn.HANZI=new Nn(Ar.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ua{static decode(p,y,w,k){const T=new Is(p);let R=new be;const z=new Array;let W=-1,ee=-1;try{let Ae=null,Be=!1,Fe;do{if(T.available()<4)Fe=Nn.TERMINATOR;else{const Ke=T.readBits(4);Fe=Nn.forBits(Ke)}switch(Fe){case Nn.TERMINATOR:break;case Nn.FNC1_FIRST_POSITION:case Nn.FNC1_SECOND_POSITION:Be=!0;break;case Nn.STRUCTURED_APPEND:if(T.available()<16)throw new q;W=T.readBits(8),ee=T.readBits(8);break;case Nn.ECI:const Ke=Ua.parseECIValue(T);if(Ae=te.getCharacterSetECIByValue(Ke),Ae===null)throw new q;break;case Nn.HANZI:const gt=T.readBits(4),vt=T.readBits(Fe.getCharacterCountBits(y));gt===Ua.GB2312_SUBSET&&Ua.decodeHanziSegment(T,R,vt);break;default:const Ot=T.readBits(Fe.getCharacterCountBits(y));switch(Fe){case Nn.NUMERIC:Ua.decodeNumericSegment(T,R,Ot);break;case Nn.ALPHANUMERIC:Ua.decodeAlphanumericSegment(T,R,Ot,Be);break;case Nn.BYTE:Ua.decodeByteSegment(T,R,Ot,Ae,z,k);break;case Nn.KANJI:Ua.decodeKanjiSegment(T,R,Ot);break;default:throw new q}break}}while(Fe!==Nn.TERMINATOR)}catch{throw new q}return new Vi(p,R.toString(),z.length===0?null:z,w===null?null:w.toString(),W,ee)}static decodeHanziSegment(p,y,w){if(w*13>p.available())throw new q;const k=new Uint8Array(2*w);let T=0;for(;w>0;){const R=p.readBits(13);let z=R/96<<8&4294967295|R%96;z<959?z+=41377:z+=42657,k[T]=z>>8&255,k[T+1]=z&255,T+=2,w--}try{y.append(ve.decode(k,de.GB2312))}catch(R){throw new q(R)}}static decodeKanjiSegment(p,y,w){if(w*13>p.available())throw new q;const k=new Uint8Array(2*w);let T=0;for(;w>0;){const R=p.readBits(13);let z=R/192<<8&4294967295|R%192;z<7936?z+=33088:z+=49472,k[T]=z>>8,k[T+1]=z,T+=2,w--}try{y.append(ve.decode(k,de.SHIFT_JIS))}catch(R){throw new q(R)}}static decodeByteSegment(p,y,w,k,T,R){if(8*w>p.available())throw new q;const z=new Uint8Array(w);for(let ee=0;ee<w;ee++)z[ee]=p.readBits(8);let W;k===null?W=de.guessEncoding(z,R):W=k.getName();try{y.append(ve.decode(z,W))}catch(ee){throw new q(ee)}T.push(z)}static toAlphaNumericChar(p){if(p>=Ua.ALPHANUMERIC_CHARS.length)throw new q;return Ua.ALPHANUMERIC_CHARS[p]}static decodeAlphanumericSegment(p,y,w,k){const T=y.length();for(;w>1;){if(p.available()<11)throw new q;const R=p.readBits(11);y.append(Ua.toAlphaNumericChar(Math.floor(R/45))),y.append(Ua.toAlphaNumericChar(R%45)),w-=2}if(w===1){if(p.available()<6)throw new q;y.append(Ua.toAlphaNumericChar(p.readBits(6)))}if(k)for(let R=T;R<y.length();R++)y.charAt(R)==="%"&&(R<y.length()-1&&y.charAt(R+1)==="%"?y.deleteCharAt(R+1):y.setCharAt(R,""))}static decodeNumericSegment(p,y,w){for(;w>=3;){if(p.available()<10)throw new q;const k=p.readBits(10);if(k>=1e3)throw new q;y.append(Ua.toAlphaNumericChar(Math.floor(k/100))),y.append(Ua.toAlphaNumericChar(Math.floor(k/10)%10)),y.append(Ua.toAlphaNumericChar(k%10)),w-=3}if(w===2){if(p.available()<7)throw new q;const k=p.readBits(7);if(k>=100)throw new q;y.append(Ua.toAlphaNumericChar(Math.floor(k/10))),y.append(Ua.toAlphaNumericChar(k%10))}else if(w===1){if(p.available()<4)throw new q;const k=p.readBits(4);if(k>=10)throw new q;y.append(Ua.toAlphaNumericChar(k))}}static parseECIValue(p){const y=p.readBits(8);if((y&128)===0)return y&127;if((y&192)===128){const w=p.readBits(8);return(y&63)<<8&4294967295|w}if((y&224)===192){const w=p.readBits(16);return(y&31)<<16&4294967295|w}throw new q}}Ua.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ua.GB2312_SUBSET=1;class br{constructor(p){this.mirrored=p}isMirrored(){return this.mirrored}applyMirroredCorrection(p){if(!this.mirrored||p===null||p.length<3)return;const y=p[0];p[0]=p[2],p[2]=y}}class Cr{constructor(){this.rsDecoder=new xn(Mi.QR_CODE_FIELD_256)}decodeBooleanArray(p,y){return this.decodeBitMatrix(De.parseFromBooleanArray(p),y)}decodeBitMatrix(p,y){const w=new Fr(p);let k=null;try{return this.decodeBitMatrixParser(w,y)}catch(T){k=T}try{w.remask(),w.setMirror(!0),w.readVersion(),w.readFormatInformation(),w.mirror();const T=this.decodeBitMatrixParser(w,y);return T.setOther(new br(!0)),T}catch(T){throw k!==null?k:T}}decodeBitMatrixParser(p,y){const w=p.readVersion(),k=p.readFormatInformation().getErrorCorrectionLevel(),T=p.readCodewords(),R=Fl.getDataBlocks(T,w,k);let z=0;for(const Ae of R)z+=Ae.getNumDataCodewords();const W=new Uint8Array(z);let ee=0;for(const Ae of R){const Be=Ae.getCodewords(),Fe=Ae.getNumDataCodewords();this.correctErrors(Be,Fe);for(let Ke=0;Ke<Fe;Ke++)W[ee++]=Be[Ke]}return Ua.decode(W,w,k,y)}correctErrors(p,y){const w=new Int32Array(p);try{this.rsDecoder.decode(w,p.length-y)}catch{throw new S}for(let k=0;k<y;k++)p[k]=w[k]}}class mn extends ui{constructor(p,y,w){super(p,y),this.estimatedModuleSize=w}aboutEquals(p,y,w){if(Math.abs(y-this.getY())<=p&&Math.abs(w-this.getX())<=p){const k=Math.abs(p-this.estimatedModuleSize);return k<=1||k<=this.estimatedModuleSize}return!1}combineEstimate(p,y,w){const k=(this.getX()+y)/2,T=(this.getY()+p)/2,R=(this.estimatedModuleSize+w)/2;return new mn(k,T,R)}}class eo{constructor(p,y,w,k,T,R,z){this.image=p,this.startX=y,this.startY=w,this.width=k,this.height=T,this.moduleSize=R,this.resultPointCallback=z,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const p=this.startX,y=this.height,w=this.width,k=p+w,T=this.startY+y/2,R=new Int32Array(3),z=this.image;for(let W=0;W<y;W++){const ee=T+((W&1)===0?Math.floor((W+1)/2):-Math.floor((W+1)/2));R[0]=0,R[1]=0,R[2]=0;let Ae=p;for(;Ae<k&&!z.get(Ae,ee);)Ae++;let Be=0;for(;Ae<k;){if(z.get(Ae,ee))if(Be===1)R[1]++;else if(Be===2){if(this.foundPatternCross(R)){const Fe=this.handlePossibleCenter(R,ee,Ae);if(Fe!==null)return Fe}R[0]=R[2],R[1]=1,R[2]=0,Be=1}else R[++Be]++;else Be===1&&Be++,R[Be]++;Ae++}if(this.foundPatternCross(R)){const Fe=this.handlePossibleCenter(R,ee,k);if(Fe!==null)return Fe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ie}static centerFromEnd(p,y){return y-p[2]-p[1]/2}foundPatternCross(p){const y=this.moduleSize,w=y/2;for(let k=0;k<3;k++)if(Math.abs(y-p[k])>=w)return!1;return!0}crossCheckVertical(p,y,w,k){const T=this.image,R=T.getHeight(),z=this.crossCheckStateCount;z[0]=0,z[1]=0,z[2]=0;let W=p;for(;W>=0&&T.get(y,W)&&z[1]<=w;)z[1]++,W--;if(W<0||z[1]>w)return NaN;for(;W>=0&&!T.get(y,W)&&z[0]<=w;)z[0]++,W--;if(z[0]>w)return NaN;for(W=p+1;W<R&&T.get(y,W)&&z[1]<=w;)z[1]++,W++;if(W===R||z[1]>w)return NaN;for(;W<R&&!T.get(y,W)&&z[2]<=w;)z[2]++,W++;if(z[2]>w)return NaN;const ee=z[0]+z[1]+z[2];return 5*Math.abs(ee-k)>=2*k?NaN:this.foundPatternCross(z)?eo.centerFromEnd(z,W):NaN}handlePossibleCenter(p,y,w){const k=p[0]+p[1]+p[2],T=eo.centerFromEnd(p,w),R=this.crossCheckVertical(y,T,2*p[1],k);if(!isNaN(R)){const z=(p[0]+p[1]+p[2])/3;for(const ee of this.possibleCenters)if(ee.aboutEquals(z,R,T))return ee.combineEstimate(R,T,z);const W=new mn(T,R,z);this.possibleCenters.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return null}}class Yo extends ui{constructor(p,y,w,k){super(p,y),this.estimatedModuleSize=w,this.count=k,k===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(p,y,w){if(Math.abs(y-this.getY())<=p&&Math.abs(w-this.getX())<=p){const k=Math.abs(p-this.estimatedModuleSize);return k<=1||k<=this.estimatedModuleSize}return!1}combineEstimate(p,y,w){const k=this.count+1,T=(this.count*this.getX()+y)/k,R=(this.count*this.getY()+p)/k,z=(this.count*this.estimatedModuleSize+w)/k;return new Yo(T,R,z,k)}}class Jn{constructor(p){this.bottomLeft=p[0],this.topLeft=p[1],this.topRight=p[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class na{constructor(p,y){this.image=p,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=y}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(p){const y=p!=null&&p.get(re.TRY_HARDER)!==void 0,w=p!=null&&p.get(re.PURE_BARCODE)!==void 0,k=this.image,T=k.getHeight(),R=k.getWidth();let z=Math.floor(3*T/(4*na.MAX_MODULES));(z<na.MIN_SKIP||y)&&(z=na.MIN_SKIP);let W=!1;const ee=new Int32Array(5);for(let Be=z-1;Be<T&&!W;Be+=z){ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0;let Fe=0;for(let Ke=0;Ke<R;Ke++)if(k.get(Ke,Be))(Fe&1)===1&&Fe++,ee[Fe]++;else if((Fe&1)===0)if(Fe===4)if(na.foundPatternCross(ee)){if(this.handlePossibleCenter(ee,Be,Ke,w)===!0)if(z=2,this.hasSkipped===!0)W=this.haveMultiplyConfirmedCenters();else{const vt=this.findRowSkip();vt>ee[2]&&(Be+=vt-ee[2]-z,Ke=R-1)}else{ee[0]=ee[2],ee[1]=ee[3],ee[2]=ee[4],ee[3]=1,ee[4]=0,Fe=3;continue}Fe=0,ee[0]=0,ee[1]=0,ee[2]=0,ee[3]=0,ee[4]=0}else ee[0]=ee[2],ee[1]=ee[3],ee[2]=ee[4],ee[3]=1,ee[4]=0,Fe=3;else ee[++Fe]++;else ee[Fe]++;na.foundPatternCross(ee)&&this.handlePossibleCenter(ee,Be,R,w)===!0&&(z=ee[0],this.hasSkipped&&(W=this.haveMultiplyConfirmedCenters()))}const Ae=this.selectBestPatterns();return ui.orderBestPatterns(Ae),new Jn(Ae)}static centerFromEnd(p,y){return y-p[4]-p[3]-p[2]/2}static foundPatternCross(p){let y=0;for(let T=0;T<5;T++){const R=p[T];if(R===0)return!1;y+=R}if(y<7)return!1;const w=y/7,k=w/2;return Math.abs(w-p[0])<k&&Math.abs(w-p[1])<k&&Math.abs(3*w-p[2])<3*k&&Math.abs(w-p[3])<k&&Math.abs(w-p[4])<k}getCrossCheckStateCount(){const p=this.crossCheckStateCount;return p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p}crossCheckDiagonal(p,y,w,k){const T=this.getCrossCheckStateCount();let R=0;const z=this.image;for(;p>=R&&y>=R&&z.get(y-R,p-R);)T[2]++,R++;if(p<R||y<R)return!1;for(;p>=R&&y>=R&&!z.get(y-R,p-R)&&T[1]<=w;)T[1]++,R++;if(p<R||y<R||T[1]>w)return!1;for(;p>=R&&y>=R&&z.get(y-R,p-R)&&T[0]<=w;)T[0]++,R++;if(T[0]>w)return!1;const W=z.getHeight(),ee=z.getWidth();for(R=1;p+R<W&&y+R<ee&&z.get(y+R,p+R);)T[2]++,R++;if(p+R>=W||y+R>=ee)return!1;for(;p+R<W&&y+R<ee&&!z.get(y+R,p+R)&&T[3]<w;)T[3]++,R++;if(p+R>=W||y+R>=ee||T[3]>=w)return!1;for(;p+R<W&&y+R<ee&&z.get(y+R,p+R)&&T[4]<w;)T[4]++,R++;if(T[4]>=w)return!1;const Ae=T[0]+T[1]+T[2]+T[3]+T[4];return Math.abs(Ae-k)<2*k&&na.foundPatternCross(T)}crossCheckVertical(p,y,w,k){const T=this.image,R=T.getHeight(),z=this.getCrossCheckStateCount();let W=p;for(;W>=0&&T.get(y,W);)z[2]++,W--;if(W<0)return NaN;for(;W>=0&&!T.get(y,W)&&z[1]<=w;)z[1]++,W--;if(W<0||z[1]>w)return NaN;for(;W>=0&&T.get(y,W)&&z[0]<=w;)z[0]++,W--;if(z[0]>w)return NaN;for(W=p+1;W<R&&T.get(y,W);)z[2]++,W++;if(W===R)return NaN;for(;W<R&&!T.get(y,W)&&z[3]<w;)z[3]++,W++;if(W===R||z[3]>=w)return NaN;for(;W<R&&T.get(y,W)&&z[4]<w;)z[4]++,W++;if(z[4]>=w)return NaN;const ee=z[0]+z[1]+z[2]+z[3]+z[4];return 5*Math.abs(ee-k)>=2*k?NaN:na.foundPatternCross(z)?na.centerFromEnd(z,W):NaN}crossCheckHorizontal(p,y,w,k){const T=this.image,R=T.getWidth(),z=this.getCrossCheckStateCount();let W=p;for(;W>=0&&T.get(W,y);)z[2]++,W--;if(W<0)return NaN;for(;W>=0&&!T.get(W,y)&&z[1]<=w;)z[1]++,W--;if(W<0||z[1]>w)return NaN;for(;W>=0&&T.get(W,y)&&z[0]<=w;)z[0]++,W--;if(z[0]>w)return NaN;for(W=p+1;W<R&&T.get(W,y);)z[2]++,W++;if(W===R)return NaN;for(;W<R&&!T.get(W,y)&&z[3]<w;)z[3]++,W++;if(W===R||z[3]>=w)return NaN;for(;W<R&&T.get(W,y)&&z[4]<w;)z[4]++,W++;if(z[4]>=w)return NaN;const ee=z[0]+z[1]+z[2]+z[3]+z[4];return 5*Math.abs(ee-k)>=k?NaN:na.foundPatternCross(z)?na.centerFromEnd(z,W):NaN}handlePossibleCenter(p,y,w,k){const T=p[0]+p[1]+p[2]+p[3]+p[4];let R=na.centerFromEnd(p,w),z=this.crossCheckVertical(y,Math.floor(R),p[2],T);if(!isNaN(z)&&(R=this.crossCheckHorizontal(Math.floor(R),Math.floor(z),p[2],T),!isNaN(R)&&(!k||this.crossCheckDiagonal(Math.floor(z),Math.floor(R),p[2],T)))){const W=T/7;let ee=!1;const Ae=this.possibleCenters;for(let Be=0,Fe=Ae.length;Be<Fe;Be++){const Ke=Ae[Be];if(Ke.aboutEquals(W,z,R)){Ae[Be]=Ke.combineEstimate(z,R,W),ee=!0;break}}if(!ee){const Be=new Yo(R,z,W);Ae.push(Be),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Be)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let y=null;for(const w of this.possibleCenters)if(w.getCount()>=na.CENTER_QUORUM)if(y==null)y=w;else return this.hasSkipped=!0,Math.floor((Math.abs(y.getX()-w.getX())-Math.abs(y.getY()-w.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let p=0,y=0;const w=this.possibleCenters.length;for(const R of this.possibleCenters)R.getCount()>=na.CENTER_QUORUM&&(p++,y+=R.getEstimatedModuleSize());if(p<3)return!1;const k=y/w;let T=0;for(const R of this.possibleCenters)T+=Math.abs(R.getEstimatedModuleSize()-k);return T<=.05*y}selectBestPatterns(){const p=this.possibleCenters.length;if(p<3)throw new Ie;const y=this.possibleCenters;let w;if(p>3){let k=0,T=0;for(const W of this.possibleCenters){const ee=W.getEstimatedModuleSize();k+=ee,T+=ee*ee}w=k/p;let R=Math.sqrt(T/p-w*w);y.sort((W,ee)=>{const Ae=Math.abs(ee.getEstimatedModuleSize()-w),Be=Math.abs(W.getEstimatedModuleSize()-w);return Ae<Be?-1:Ae>Be?1:0});const z=Math.max(.2*w,R);for(let W=0;W<y.length&&y.length>3;W++){const ee=y[W];Math.abs(ee.getEstimatedModuleSize()-w)>z&&(y.splice(W,1),W--)}}if(y.length>3){let k=0;for(const T of y)k+=T.getEstimatedModuleSize();w=k/y.length,y.sort((T,R)=>{if(R.getCount()===T.getCount()){const z=Math.abs(R.getEstimatedModuleSize()-w),W=Math.abs(T.getEstimatedModuleSize()-w);return z<W?1:z>W?-1:0}else return R.getCount()-T.getCount()}),y.splice(3)}return[y[0],y[1],y[2]]}}na.CENTER_QUORUM=2,na.MIN_SKIP=3,na.MAX_MODULES=57;class ar{constructor(p){this.image=p}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(p){this.resultPointCallback=p==null?null:p.get(re.NEED_RESULT_POINT_CALLBACK);const w=new na(this.image,this.resultPointCallback).find(p);return this.processFinderPatternInfo(w)}processFinderPatternInfo(p){const y=p.getTopLeft(),w=p.getTopRight(),k=p.getBottomLeft(),T=this.calculateModuleSize(y,w,k);if(T<1)throw new Ie("No pattern found in proccess finder.");const R=ar.computeDimension(y,w,k,T),z=Mn.getProvisionalVersionForDimension(R),W=z.getDimensionForVersion()-7;let ee=null;if(z.getAlignmentPatternCenters().length>0){const Ke=w.getX()-y.getX()+k.getX(),gt=w.getY()-y.getY()+k.getY(),vt=1-3/W,Ot=Math.floor(y.getX()+vt*(Ke-y.getX())),Zt=Math.floor(y.getY()+vt*(gt-y.getY()));for(let Pi=4;Pi<=16;Pi<<=1)try{ee=this.findAlignmentInRegion(T,Ot,Zt,Pi);break}catch(Ri){if(!(Ri instanceof Ie))throw Ri}}const Ae=ar.createTransform(y,w,k,ee,R),Be=ar.sampleGrid(this.image,Ae,R);let Fe;return ee===null?Fe=[k,y,w]:Fe=[k,y,w,ee],new $i(Be,Fe)}static createTransform(p,y,w,k,T){const R=T-3.5;let z,W,ee,Ae;return k!==null?(z=k.getX(),W=k.getY(),ee=R-3,Ae=ee):(z=y.getX()-p.getX()+w.getX(),W=y.getY()-p.getY()+w.getY(),ee=R,Ae=R),ft.quadrilateralToQuadrilateral(3.5,3.5,R,3.5,ee,Ae,3.5,R,p.getX(),p.getY(),y.getX(),y.getY(),z,W,w.getX(),w.getY())}static sampleGrid(p,y,w){return we.getInstance().sampleGridWithTransform(p,w,w,y)}static computeDimension(p,y,w,k){const T=ci.round(ui.distance(p,y)/k),R=ci.round(ui.distance(p,w)/k);let z=Math.floor((T+R)/2)+7;switch(z&3){case 0:z++;break;case 2:z--;break;case 3:throw new Ie("Dimensions could be not found.")}return z}calculateModuleSize(p,y,w){return(this.calculateModuleSizeOneWay(p,y)+this.calculateModuleSizeOneWay(p,w))/2}calculateModuleSizeOneWay(p,y){const w=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(p.getX()),Math.floor(p.getY()),Math.floor(y.getX()),Math.floor(y.getY())),k=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(y.getX()),Math.floor(y.getY()),Math.floor(p.getX()),Math.floor(p.getY()));return isNaN(w)?k/7:isNaN(k)?w/7:(w+k)/14}sizeOfBlackWhiteBlackRunBothWays(p,y,w,k){let T=this.sizeOfBlackWhiteBlackRun(p,y,w,k),R=1,z=p-(w-p);z<0?(R=p/(p-z),z=0):z>=this.image.getWidth()&&(R=(this.image.getWidth()-1-p)/(z-p),z=this.image.getWidth()-1);let W=Math.floor(y-(k-y)*R);return R=1,W<0?(R=y/(y-W),W=0):W>=this.image.getHeight()&&(R=(this.image.getHeight()-1-y)/(W-y),W=this.image.getHeight()-1),z=Math.floor(p+(z-p)*R),T+=this.sizeOfBlackWhiteBlackRun(p,y,z,W),T-1}sizeOfBlackWhiteBlackRun(p,y,w,k){const T=Math.abs(k-y)>Math.abs(w-p);if(T){let Ke=p;p=y,y=Ke,Ke=w,w=k,k=Ke}const R=Math.abs(w-p),z=Math.abs(k-y);let W=-R/2;const ee=p<w?1:-1,Ae=y<k?1:-1;let Be=0;const Fe=w+ee;for(let Ke=p,gt=y;Ke!==Fe;Ke+=ee){const vt=T?gt:Ke,Ot=T?Ke:gt;if(Be===1===this.image.get(vt,Ot)){if(Be===2)return ci.distance(Ke,gt,p,y);Be++}if(W+=z,W>0){if(gt===k)break;gt+=Ae,W-=R}}return Be===2?ci.distance(w+ee,k,p,y):NaN}findAlignmentInRegion(p,y,w,k){const T=Math.floor(k*p),R=Math.max(0,y-T),z=Math.min(this.image.getWidth()-1,y+T);if(z-R<p*3)throw new Ie("Alignment top exceeds estimated module size.");const W=Math.max(0,w-T),ee=Math.min(this.image.getHeight()-1,w+T);if(ee-W<p*3)throw new Ie("Alignment bottom exceeds estimated module size.");return new eo(this.image,R,W,z-R,ee-W,p,this.resultPointCallback).find()}}class ia{constructor(){this.decoder=new Cr}getDecoder(){return this.decoder}decode(p,y){let w,k;if(y!=null&&y.get(re.PURE_BARCODE)!==void 0){const W=ia.extractPureBits(p.getBlackMatrix());w=this.decoder.decodeBitMatrix(W,y),k=ia.NO_POINTS}else{const W=new ar(p.getBlackMatrix()).detect(y);w=this.decoder.decodeBitMatrix(W.getBits(),y),k=W.getPoints()}w.getOther()instanceof br&&w.getOther().applyMirroredCorrection(k);const T=new It(w.getText(),w.getRawBytes(),void 0,k,mt.QR_CODE,void 0),R=w.getByteSegments();R!==null&&T.putMetadata(gi.BYTE_SEGMENTS,R);const z=w.getECLevel();return z!==null&&T.putMetadata(gi.ERROR_CORRECTION_LEVEL,z),w.hasStructuredAppend()&&(T.putMetadata(gi.STRUCTURED_APPEND_SEQUENCE,w.getStructuredAppendSequenceNumber()),T.putMetadata(gi.STRUCTURED_APPEND_PARITY,w.getStructuredAppendParity())),T}reset(){}static extractPureBits(p){const y=p.getTopLeftOnBit(),w=p.getBottomRightOnBit();if(y===null||w===null)throw new Ie;const k=this.moduleSize(y,p);let T=y[1],R=w[1],z=y[0],W=w[0];if(z>=W||T>=R)throw new Ie;if(R-T!==W-z&&(W=z+(R-T),W>=p.getWidth()))throw new Ie;const ee=Math.round((W-z+1)/k),Ae=Math.round((R-T+1)/k);if(ee<=0||Ae<=0)throw new Ie;if(Ae!==ee)throw new Ie;const Be=Math.floor(k/2);T+=Be,z+=Be;const Fe=z+Math.floor((ee-1)*k)-W;if(Fe>0){if(Fe>Be)throw new Ie;z-=Fe}const Ke=T+Math.floor((Ae-1)*k)-R;if(Ke>0){if(Ke>Be)throw new Ie;T-=Ke}const gt=new De(ee,Ae);for(let vt=0;vt<Ae;vt++){const Ot=T+Math.floor(vt*k);for(let Zt=0;Zt<ee;Zt++)p.get(z+Math.floor(Zt*k),Ot)&&gt.set(Zt,vt)}return gt}static moduleSize(p,y){const w=y.getHeight(),k=y.getWidth();let T=p[0],R=p[1],z=!0,W=0;for(;T<k&&R<w;){if(z!==y.get(T,R)){if(++W===5)break;z=!z}T++,R++}if(T===k||R===w)throw new Ie;return(T-p[0])/7}}ia.NO_POINTS=new Array;class _i{PDF417Common(){}static getBitCountSum(p){return ci.sum(p)}static toIntArray(p){if(p==null||!p.length)return _i.EMPTY_INT_ARRAY;const y=new Int32Array(p.length);let w=0;for(const k of p)y[w++]=k;return y}static getCodeword(p){const y=Q.binarySearch(_i.SYMBOL_TABLE,p&262143);return y<0?-1:(_i.CODEWORD_TABLE[y]-1)%_i.NUMBER_OF_CODEWORDS}}_i.NUMBER_OF_CODEWORDS=929,_i.MAX_CODEWORDS_IN_BARCODE=_i.NUMBER_OF_CODEWORDS-1,_i.MIN_ROWS_IN_BARCODE=3,_i.MAX_ROWS_IN_BARCODE=90,_i.MODULES_IN_CODEWORD=17,_i.MODULES_IN_STOP_PATTERN=18,_i.BARS_IN_MODULE=8,_i.EMPTY_INT_ARRAY=new Int32Array([]),_i.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_i.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Na{constructor(p,y){this.bits=p,this.points=y}getBits(){return this.bits}getPoints(){return this.points}}class $n{static detectMultiple(p,y,w){let k=p.getBlackMatrix(),T=$n.detect(w,k);return T.length||(k=k.clone(),k.rotate180(),T=$n.detect(w,k)),new Na(k,T)}static detect(p,y){const w=new Array;let k=0,T=0,R=!1;for(;k<y.getHeight();){const z=$n.findVertices(y,k,T);if(z[0]==null&&z[3]==null){if(!R)break;R=!1,T=0;for(const W of w)W[1]!=null&&(k=Math.trunc(Math.max(k,W[1].getY()))),W[3]!=null&&(k=Math.max(k,Math.trunc(W[3].getY())));k+=$n.ROW_STEP;continue}if(R=!0,w.push(z),!p)break;z[2]!=null?(T=Math.trunc(z[2].getX()),k=Math.trunc(z[2].getY())):(T=Math.trunc(z[4].getX()),k=Math.trunc(z[4].getY()))}return w}static findVertices(p,y,w){const k=p.getHeight(),T=p.getWidth(),R=new Array(8);return $n.copyToResult(R,$n.findRowsWithPattern(p,k,T,y,w,$n.START_PATTERN),$n.INDEXES_START_PATTERN),R[4]!=null&&(w=Math.trunc(R[4].getX()),y=Math.trunc(R[4].getY())),$n.copyToResult(R,$n.findRowsWithPattern(p,k,T,y,w,$n.STOP_PATTERN),$n.INDEXES_STOP_PATTERN),R}static copyToResult(p,y,w){for(let k=0;k<w.length;k++)p[w[k]]=y[k]}static findRowsWithPattern(p,y,w,k,T,R){const z=new Array(4);let W=!1;const ee=new Int32Array(R.length);for(;k<y;k+=$n.ROW_STEP){let Be=$n.findGuardPattern(p,T,k,w,!1,R,ee);if(Be!=null){for(;k>0;){const Fe=$n.findGuardPattern(p,T,--k,w,!1,R,ee);if(Fe!=null)Be=Fe;else{k++;break}}z[0]=new ui(Be[0],k),z[1]=new ui(Be[1],k),W=!0;break}}let Ae=k+1;if(W){let Be=0,Fe=Int32Array.from([Math.trunc(z[0].getX()),Math.trunc(z[1].getX())]);for(;Ae<y;Ae++){const Ke=$n.findGuardPattern(p,Fe[0],Ae,w,!1,R,ee);if(Ke!=null&&Math.abs(Fe[0]-Ke[0])<$n.MAX_PATTERN_DRIFT&&Math.abs(Fe[1]-Ke[1])<$n.MAX_PATTERN_DRIFT)Fe=Ke,Be=0;else{if(Be>$n.SKIPPED_ROW_COUNT_MAX)break;Be++}}Ae-=Be+1,z[2]=new ui(Fe[0],Ae),z[3]=new ui(Fe[1],Ae)}return Ae-k<$n.BARCODE_MIN_HEIGHT&&Q.fill(z,null),z}static findGuardPattern(p,y,w,k,T,R,z){Q.fillWithin(z,0,z.length,0);let W=y,ee=0;for(;p.get(W,w)&&W>0&&ee++<$n.MAX_PIXEL_DRIFT;)W--;let Ae=W,Be=0,Fe=R.length;for(let Ke=T;Ae<k;Ae++)if(p.get(Ae,w)!==Ke)z[Be]++;else{if(Be===Fe-1){if($n.patternMatchVariance(z,R,$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE)return new Int32Array([W,Ae]);W+=z[0]+z[1],I.arraycopy(z,2,z,0,Be-1),z[Be-1]=0,z[Be]=0,Be--}else Be++;z[Be]=1,Ke=!Ke}return Be===Fe-1&&$n.patternMatchVariance(z,R,$n.MAX_INDIVIDUAL_VARIANCE)<$n.MAX_AVG_VARIANCE?new Int32Array([W,Ae-1]):null}static patternMatchVariance(p,y,w){let k=p.length,T=0,R=0;for(let ee=0;ee<k;ee++)T+=p[ee],R+=y[ee];if(T<R)return 1/0;let z=T/R;w*=z;let W=0;for(let ee=0;ee<k;ee++){let Ae=p[ee],Be=y[ee]*z,Fe=Ae>Be?Ae-Be:Be-Ae;if(Fe>w)return 1/0;W+=Fe}return W/T}}$n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$n.MAX_AVG_VARIANCE=.42,$n.MAX_INDIVIDUAL_VARIANCE=.8,$n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$n.MAX_PIXEL_DRIFT=3,$n.MAX_PATTERN_DRIFT=5,$n.SKIPPED_ROW_COUNT_MAX=25,$n.ROW_STEP=5,$n.BARCODE_MIN_HEIGHT=10;class ge{constructor(p,y){if(y.length===0)throw new x;this.field=p;let w=y.length;if(w>1&&y[0]===0){let k=1;for(;k<w&&y[k]===0;)k++;k===w?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(w-k),I.arraycopy(y,k,this.coefficients,0,this.coefficients.length))}else this.coefficients=y}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(p){return this.coefficients[this.coefficients.length-1-p]}evaluateAt(p){if(p===0)return this.getCoefficient(0);if(p===1){let k=0;for(let T of this.coefficients)k=this.field.add(k,T);return k}let y=this.coefficients[0],w=this.coefficients.length;for(let k=1;k<w;k++)y=this.field.add(this.field.multiply(p,y),this.coefficients[k]);return y}add(p){if(!this.field.equals(p.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return p;if(p.isZero())return this;let y=this.coefficients,w=p.coefficients;if(y.length>w.length){let R=y;y=w,w=R}let k=new Int32Array(w.length),T=w.length-y.length;I.arraycopy(w,0,k,0,T);for(let R=T;R<w.length;R++)k[R]=this.field.add(y[R-T],w[R]);return new ge(this.field,k)}subtract(p){if(!this.field.equals(p.field))throw new x("ModulusPolys do not have same ModulusGF field");return p.isZero()?this:this.add(p.negative())}multiply(p){return p instanceof ge?this.multiplyOther(p):this.multiplyScalar(p)}multiplyOther(p){if(!this.field.equals(p.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||p.isZero())return new ge(this.field,new Int32Array([0]));let y=this.coefficients,w=y.length,k=p.coefficients,T=k.length,R=new Int32Array(w+T-1);for(let z=0;z<w;z++){let W=y[z];for(let ee=0;ee<T;ee++)R[z+ee]=this.field.add(R[z+ee],this.field.multiply(W,k[ee]))}return new ge(this.field,R)}negative(){let p=this.coefficients.length,y=new Int32Array(p);for(let w=0;w<p;w++)y[w]=this.field.subtract(0,this.coefficients[w]);return new ge(this.field,y)}multiplyScalar(p){if(p===0)return new ge(this.field,new Int32Array([0]));if(p===1)return this;let y=this.coefficients.length,w=new Int32Array(y);for(let k=0;k<y;k++)w[k]=this.field.multiply(this.coefficients[k],p);return new ge(this.field,w)}multiplyByMonomial(p,y){if(p<0)throw new x;if(y===0)return new ge(this.field,new Int32Array([0]));let w=this.coefficients.length,k=new Int32Array(w+p);for(let T=0;T<w;T++)k[T]=this.field.multiply(this.coefficients[T],y);return new ge(this.field,k)}toString(){let p=new be;for(let y=this.getDegree();y>=0;y--){let w=this.getCoefficient(y);w!==0&&(w<0?(p.append(" - "),w=-w):p.length()>0&&p.append(" + "),(y===0||w!==1)&&p.append(w),y!==0&&(y===1?p.append("x"):(p.append("x^"),p.append(y))))}return p.toString()}}class Ce{add(p,y){return(p+y)%this.modulus}subtract(p,y){return(this.modulus+p-y)%this.modulus}exp(p){return this.expTable[p]}log(p){if(p===0)throw new x;return this.logTable[p]}inverse(p){if(p===0)throw new fn;return this.expTable[this.modulus-this.logTable[p]-1]}multiply(p,y){return p===0||y===0?0:this.expTable[(this.logTable[p]+this.logTable[y])%(this.modulus-1)]}getSize(){return this.modulus}equals(p){return p===this}}class Me extends Ce{constructor(p,y){super(),this.modulus=p,this.expTable=new Int32Array(p),this.logTable=new Int32Array(p);let w=1;for(let k=0;k<p;k++)this.expTable[k]=w,w=w*y%p;for(let k=0;k<p-1;k++)this.logTable[this.expTable[k]]=k;this.zero=new ge(this,new Int32Array([0])),this.one=new ge(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(p,y){if(p<0)throw new x;if(y===0)return this.zero;let w=new Int32Array(p+1);return w[0]=y,new ge(this,w)}}Me.PDF417_GF=new Me(_i.NUMBER_OF_CODEWORDS,3);class qe{constructor(){this.field=Me.PDF417_GF}decode(p,y,w){let k=new ge(this.field,p),T=new Int32Array(y),R=!1;for(let gt=y;gt>0;gt--){let vt=k.evaluateAt(this.field.exp(gt));T[y-gt]=vt,vt!==0&&(R=!0)}if(!R)return 0;let z=this.field.getOne();if(w!=null)for(const gt of w){let vt=this.field.exp(p.length-1-gt),Ot=new ge(this.field,new Int32Array([this.field.subtract(0,vt),1]));z=z.multiply(Ot)}let W=new ge(this.field,T),ee=this.runEuclideanAlgorithm(this.field.buildMonomial(y,1),W,y),Ae=ee[0],Be=ee[1],Fe=this.findErrorLocations(Ae),Ke=this.findErrorMagnitudes(Be,Ae,Fe);for(let gt=0;gt<Fe.length;gt++){let vt=p.length-1-this.field.log(Fe[gt]);if(vt<0)throw S.getChecksumInstance();p[vt]=this.field.subtract(p[vt],Ke[gt])}return Fe.length}runEuclideanAlgorithm(p,y,w){if(p.getDegree()<y.getDegree()){let Fe=p;p=y,y=Fe}let k=p,T=y,R=this.field.getZero(),z=this.field.getOne();for(;T.getDegree()>=Math.round(w/2);){let Fe=k,Ke=R;if(k=T,R=z,k.isZero())throw S.getChecksumInstance();T=Fe;let gt=this.field.getZero(),vt=k.getCoefficient(k.getDegree()),Ot=this.field.inverse(vt);for(;T.getDegree()>=k.getDegree()&&!T.isZero();){let Zt=T.getDegree()-k.getDegree(),Pi=this.field.multiply(T.getCoefficient(T.getDegree()),Ot);gt=gt.add(this.field.buildMonomial(Zt,Pi)),T=T.subtract(k.multiplyByMonomial(Zt,Pi))}z=gt.multiply(R).subtract(Ke).negative()}let W=z.getCoefficient(0);if(W===0)throw S.getChecksumInstance();let ee=this.field.inverse(W),Ae=z.multiply(ee),Be=T.multiply(ee);return[Ae,Be]}findErrorLocations(p){let y=p.getDegree(),w=new Int32Array(y),k=0;for(let T=1;T<this.field.getSize()&&k<y;T++)p.evaluateAt(T)===0&&(w[k]=this.field.inverse(T),k++);if(k!==y)throw S.getChecksumInstance();return w}findErrorMagnitudes(p,y,w){let k=y.getDegree(),T=new Int32Array(k);for(let ee=1;ee<=k;ee++)T[k-ee]=this.field.multiply(ee,y.getCoefficient(ee));let R=new ge(this.field,T),z=w.length,W=new Int32Array(z);for(let ee=0;ee<z;ee++){let Ae=this.field.inverse(w[ee]),Be=this.field.subtract(0,p.evaluateAt(Ae)),Fe=this.field.inverse(R.evaluateAt(Ae));W[ee]=this.field.multiply(Be,Fe)}return W}}class $e{constructor(p,y,w,k,T){p instanceof $e?this.constructor_2(p):this.constructor_1(p,y,w,k,T)}constructor_1(p,y,w,k,T){const R=y==null||w==null,z=k==null||T==null;if(R&&z)throw new Ie;R?(y=new ui(0,k.getY()),w=new ui(0,T.getY())):z&&(k=new ui(p.getWidth()-1,y.getY()),T=new ui(p.getWidth()-1,w.getY())),this.image=p,this.topLeft=y,this.bottomLeft=w,this.topRight=k,this.bottomRight=T,this.minX=Math.trunc(Math.min(y.getX(),w.getX())),this.maxX=Math.trunc(Math.max(k.getX(),T.getX())),this.minY=Math.trunc(Math.min(y.getY(),k.getY())),this.maxY=Math.trunc(Math.max(w.getY(),T.getY()))}constructor_2(p){this.image=p.image,this.topLeft=p.getTopLeft(),this.bottomLeft=p.getBottomLeft(),this.topRight=p.getTopRight(),this.bottomRight=p.getBottomRight(),this.minX=p.getMinX(),this.maxX=p.getMaxX(),this.minY=p.getMinY(),this.maxY=p.getMaxY()}static merge(p,y){return p==null?y:y==null?p:new $e(p.image,p.topLeft,p.bottomLeft,y.topRight,y.bottomRight)}addMissingRows(p,y,w){let k=this.topLeft,T=this.bottomLeft,R=this.topRight,z=this.bottomRight;if(p>0){let W=w?this.topLeft:this.topRight,ee=Math.trunc(W.getY()-p);ee<0&&(ee=0);let Ae=new ui(W.getX(),ee);w?k=Ae:R=Ae}if(y>0){let W=w?this.bottomLeft:this.bottomRight,ee=Math.trunc(W.getY()+y);ee>=this.image.getHeight()&&(ee=this.image.getHeight()-1);let Ae=new ui(W.getX(),ee);w?T=Ae:z=Ae}return new $e(this.image,k,T,R,z)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bt{constructor(p,y,w,k){this.columnCount=p,this.errorCorrectionLevel=k,this.rowCountUpperPart=y,this.rowCountLowerPart=w,this.rowCount=y+w}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qt{constructor(){this.buffer=""}static form(p,y){let w=-1;function k(R,z,W,ee,Ae,Be){if(R==="%%")return"%";if(y[++w]===void 0)return;R=ee?parseInt(ee.substr(1)):void 0;let Fe=Ae?parseInt(Ae.substr(1)):void 0,Ke;switch(Be){case"s":Ke=y[w];break;case"c":Ke=y[w][0];break;case"f":Ke=parseFloat(y[w]).toFixed(R);break;case"p":Ke=parseFloat(y[w]).toPrecision(R);break;case"e":Ke=parseFloat(y[w]).toExponential(R);break;case"x":Ke=parseInt(y[w]).toString(Fe||16);break;case"d":Ke=parseFloat(parseInt(y[w],Fe||10).toPrecision(R)).toFixed(0);break}Ke=typeof Ke=="object"?JSON.stringify(Ke):(+Ke).toString(Fe);let gt=parseInt(W),vt=W&&W[0]+""=="0"?"0":" ";for(;Ke.length<gt;)Ke=z!==void 0?Ke+vt:vt+Ke;return Ke}let T=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return p.replace(T,k)}format(p,...y){this.buffer+=Qt.form(p,y)}toString(){return this.buffer}}class Ft{constructor(p){this.boundingBox=new $e(p),this.codewords=new Array(p.getMaxY()-p.getMinY()+1)}getCodewordNearby(p){let y=this.getCodeword(p);if(y!=null)return y;for(let w=1;w<Ft.MAX_NEARBY_DISTANCE;w++){let k=this.imageRowToCodewordIndex(p)-w;if(k>=0&&(y=this.codewords[k],y!=null)||(k=this.imageRowToCodewordIndex(p)+w,k<this.codewords.length&&(y=this.codewords[k],y!=null)))return y}return null}imageRowToCodewordIndex(p){return p-this.boundingBox.getMinY()}setCodeword(p,y){this.codewords[this.imageRowToCodewordIndex(p)]=y}getCodeword(p){return this.codewords[this.imageRowToCodewordIndex(p)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const p=new Qt;let y=0;for(const w of this.codewords){if(w==null){p.format("%3d:    |   %n",y++);continue}p.format("%3d: %3d|%3d%n",y++,w.getRowNumber(),w.getValue())}return p.toString()}}Ft.MAX_NEARBY_DISTANCE=5;class li{constructor(){this.values=new Map}setValue(p){p=Math.trunc(p);let y=this.values.get(p);y==null&&(y=0),y++,this.values.set(p,y)}getValue(){let p=-1,y=new Array;for(const[w,k]of this.values.entries()){const T={getKey:()=>w,getValue:()=>k};T.getValue()>p?(p=T.getValue(),y=[],y.push(T.getKey())):T.getValue()===p&&y.push(T.getKey())}return _i.toIntArray(y)}getConfidence(p){return this.values.get(p)}}class Qi extends Ft{constructor(p,y){super(p),this._isLeft=y}setRowNumbers(){for(let p of this.getCodewords())p?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(p){let y=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(y,p);let w=this.getBoundingBox(),k=this._isLeft?w.getTopLeft():w.getTopRight(),T=this._isLeft?w.getBottomLeft():w.getBottomRight(),R=this.imageRowToCodewordIndex(Math.trunc(k.getY())),z=this.imageRowToCodewordIndex(Math.trunc(T.getY())),W=-1,ee=1,Ae=0;for(let Be=R;Be<z;Be++){if(y[Be]==null)continue;let Fe=y[Be],Ke=Fe.getRowNumber()-W;if(Ke===0)Ae++;else if(Ke===1)ee=Math.max(ee,Ae),Ae=1,W=Fe.getRowNumber();else if(Ke<0||Fe.getRowNumber()>=p.getRowCount()||Ke>Be)y[Be]=null;else{let gt;ee>2?gt=(ee-2)*Ke:gt=Ke;let vt=gt>=Be;for(let Ot=1;Ot<=gt&&!vt;Ot++)vt=y[Be-Ot]!=null;vt?y[Be]=null:(W=Fe.getRowNumber(),Ae=1)}}}getRowHeights(){let p=this.getBarcodeMetadata();if(p==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(p);let y=new Int32Array(p.getRowCount());for(let w of this.getCodewords())if(w!=null){let k=w.getRowNumber();if(k>=y.length)continue;y[k]++}return y}adjustIncompleteIndicatorColumnRowNumbers(p){let y=this.getBoundingBox(),w=this._isLeft?y.getTopLeft():y.getTopRight(),k=this._isLeft?y.getBottomLeft():y.getBottomRight(),T=this.imageRowToCodewordIndex(Math.trunc(w.getY())),R=this.imageRowToCodewordIndex(Math.trunc(k.getY())),z=this.getCodewords(),W=-1;for(let ee=T;ee<R;ee++){if(z[ee]==null)continue;let Ae=z[ee];Ae.setRowNumberAsRowIndicatorColumn();let Be=Ae.getRowNumber()-W;Be===0||(Be===1?W=Ae.getRowNumber():Ae.getRowNumber()>=p.getRowCount()?z[ee]=null:W=Ae.getRowNumber())}}getBarcodeMetadata(){let p=this.getCodewords(),y=new li,w=new li,k=new li,T=new li;for(let z of p){if(z==null)continue;z.setRowNumberAsRowIndicatorColumn();let W=z.getValue()%30,ee=z.getRowNumber();switch(this._isLeft||(ee+=2),ee%3){case 0:w.setValue(W*3+1);break;case 1:T.setValue(W/3),k.setValue(W%3);break;case 2:y.setValue(W+1);break}}if(y.getValue().length===0||w.getValue().length===0||k.getValue().length===0||T.getValue().length===0||y.getValue()[0]<1||w.getValue()[0]+k.getValue()[0]<_i.MIN_ROWS_IN_BARCODE||w.getValue()[0]+k.getValue()[0]>_i.MAX_ROWS_IN_BARCODE)return null;let R=new Bt(y.getValue()[0],w.getValue()[0],k.getValue()[0],T.getValue()[0]);return this.removeIncorrectCodewords(p,R),R}removeIncorrectCodewords(p,y){for(let w=0;w<p.length;w++){let k=p[w];if(p[w]==null)continue;let T=k.getValue()%30,R=k.getRowNumber();if(R>y.getRowCount()){p[w]=null;continue}switch(this._isLeft||(R+=2),R%3){case 0:T*3+1!==y.getRowCountUpperPart()&&(p[w]=null);break;case 1:(Math.trunc(T/3)!==y.getErrorCorrectionLevel()||T%3!==y.getRowCountLowerPart())&&(p[w]=null);break;case 2:T+1!==y.getColumnCount()&&(p[w]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class cn{constructor(p,y){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=p,this.barcodeColumnCount=p.getColumnCount(),this.boundingBox=y,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let p=_i.MAX_CODEWORDS_IN_BARCODE,y;do y=p,p=this.adjustRowNumbersAndGetCount();while(p>0&&p<y);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(p){p?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let p=this.adjustRowNumbersByRow();if(p===0)return 0;for(let y=1;y<this.barcodeColumnCount+1;y++){let w=this.detectionResultColumns[y].getCodewords();for(let k=0;k<w.length;k++)w[k]!=null&&(w[k].hasValidRowNumber()||this.adjustRowNumbers(y,k,w))}return p}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let p=this.detectionResultColumns[0].getCodewords(),y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<p.length;w++)if(p[w]!=null&&y[w]!=null&&p[w].getRowNumber()===y[w].getRowNumber())for(let k=1;k<=this.barcodeColumnCount;k++){let T=this.detectionResultColumns[k].getCodewords()[w];T!=null&&(T.setRowNumber(p[w].getRowNumber()),T.hasValidRowNumber()||(this.detectionResultColumns[k].getCodewords()[w]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let p=0,y=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let k=y[w].getRowNumber(),T=0;for(let R=this.barcodeColumnCount+1;R>0&&T<this.ADJUST_ROW_NUMBER_SKIP;R--){let z=this.detectionResultColumns[R].getCodewords()[w];z!=null&&(T=cn.adjustRowNumberIfValid(k,T,z),z.hasValidRowNumber()||p++)}}return p}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let p=0,y=this.detectionResultColumns[0].getCodewords();for(let w=0;w<y.length;w++){if(y[w]==null)continue;let k=y[w].getRowNumber(),T=0;for(let R=1;R<this.barcodeColumnCount+1&&T<this.ADJUST_ROW_NUMBER_SKIP;R++){let z=this.detectionResultColumns[R].getCodewords()[w];z!=null&&(T=cn.adjustRowNumberIfValid(k,T,z),z.hasValidRowNumber()||p++)}}return p}static adjustRowNumberIfValid(p,y,w){return w==null||w.hasValidRowNumber()||(w.isValidRowNumber(p)?(w.setRowNumber(p),y=0):++y),y}adjustRowNumbers(p,y,w){if(!this.detectionResultColumns[p-1])return;let k=w[y],T=this.detectionResultColumns[p-1].getCodewords(),R=T;this.detectionResultColumns[p+1]!=null&&(R=this.detectionResultColumns[p+1].getCodewords());let z=new Array(14);z[2]=T[y],z[3]=R[y],y>0&&(z[0]=w[y-1],z[4]=T[y-1],z[5]=R[y-1]),y>1&&(z[8]=w[y-2],z[10]=T[y-2],z[11]=R[y-2]),y<w.length-1&&(z[1]=w[y+1],z[6]=T[y+1],z[7]=R[y+1]),y<w.length-2&&(z[9]=w[y+2],z[12]=T[y+2],z[13]=R[y+2]);for(let W of z)if(cn.adjustRowNumber(k,W))return}static adjustRowNumber(p,y){return y==null?!1:y.hasValidRowNumber()&&y.getBucket()===p.getBucket()?(p.setRowNumber(y.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(p){this.boundingBox=p}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(p,y){this.detectionResultColumns[p]=y}getDetectionResultColumn(p){return this.detectionResultColumns[p]}toString(){let p=this.detectionResultColumns[0];p==null&&(p=this.detectionResultColumns[this.barcodeColumnCount+1]);let y=new Qt;for(let w=0;w<p.getCodewords().length;w++){y.format("CW %3d:",w);for(let k=0;k<this.barcodeColumnCount+2;k++){if(this.detectionResultColumns[k]==null){y.format("    |   ");continue}let T=this.detectionResultColumns[k].getCodewords()[w];if(T==null){y.format("    |   ");continue}y.format(" %3d|%3d",T.getRowNumber(),T.getValue())}y.format("%n")}return y.toString()}}class Ln{constructor(p,y,w,k){this.rowNumber=Ln.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(p),this.endX=Math.trunc(y),this.bucket=Math.trunc(w),this.value=Math.trunc(k)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(p){return p!==Ln.BARCODE_ROW_UNKNOWN&&this.bucket===p%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(p){this.rowNumber=p}toString(){return this.rowNumber+"|"+this.value}}Ln.BARCODE_ROW_UNKNOWN=-1;class ra{static initialize(){for(let p=0;p<_i.SYMBOL_TABLE.length;p++){let y=_i.SYMBOL_TABLE[p],w=y&1;for(let k=0;k<_i.BARS_IN_MODULE;k++){let T=0;for(;(y&1)===w;)T+=1,y>>=1;w=y&1,ra.RATIOS_TABLE[p]||(ra.RATIOS_TABLE[p]=new Array(_i.BARS_IN_MODULE)),ra.RATIOS_TABLE[p][_i.BARS_IN_MODULE-k-1]=Math.fround(T/_i.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(p){let y=ra.getDecodedCodewordValue(ra.sampleBitCounts(p));return y!==-1?y:ra.getClosestDecodedValue(p)}static sampleBitCounts(p){let y=ci.sum(p),w=new Int32Array(_i.BARS_IN_MODULE),k=0,T=0;for(let R=0;R<_i.MODULES_IN_CODEWORD;R++){let z=y/(2*_i.MODULES_IN_CODEWORD)+R*y/_i.MODULES_IN_CODEWORD;T+p[k]<=z&&(T+=p[k],k++),w[k]++}return w}static getDecodedCodewordValue(p){let y=ra.getBitValue(p);return _i.getCodeword(y)===-1?-1:y}static getBitValue(p){let y=0;for(let w=0;w<p.length;w++)for(let k=0;k<p[w];k++)y=y<<1|(w%2===0?1:0);return Math.trunc(y)}static getClosestDecodedValue(p){let y=ci.sum(p),w=new Array(_i.BARS_IN_MODULE);if(y>1)for(let R=0;R<w.length;R++)w[R]=Math.fround(p[R]/y);let k=Oi.MAX_VALUE,T=-1;this.bSymbolTableReady||ra.initialize();for(let R=0;R<ra.RATIOS_TABLE.length;R++){let z=0,W=ra.RATIOS_TABLE[R];for(let ee=0;ee<_i.BARS_IN_MODULE;ee++){let Ae=Math.fround(W[ee]-w[ee]);if(z+=Math.fround(Ae*Ae),z>=k)break}z<k&&(k=z,T=_i.SYMBOL_TABLE[R])}return T}}ra.bSymbolTableReady=!1,ra.RATIOS_TABLE=new Array(_i.SYMBOL_TABLE.length).map(Se=>new Array(_i.BARS_IN_MODULE));class pa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(p){this.segmentIndex=p}getFileId(){return this.fileId}setFileId(p){this.fileId=p}getOptionalData(){return this.optionalData}setOptionalData(p){this.optionalData=p}isLastSegment(){return this.lastSegment}setLastSegment(p){this.lastSegment=p}getSegmentCount(){return this.segmentCount}setSegmentCount(p){this.segmentCount=p}getSender(){return this.sender||null}setSender(p){this.sender=p}getAddressee(){return this.addressee||null}setAddressee(p){this.addressee=p}getFileName(){return this.fileName}setFileName(p){this.fileName=p}getFileSize(){return this.fileSize}setFileSize(p){this.fileSize=p}getChecksum(){return this.checksum}setChecksum(p){this.checksum=p}getTimestamp(){return this.timestamp}setTimestamp(p){this.timestamp=p}}class sa{static parseLong(p,y=void 0){return parseInt(p,y)}}class Un extends d{}Un.kind="NullPointerException";class ja{writeBytes(p){this.writeBytesOffset(p,0,p.length)}writeBytesOffset(p,y,w){if(p==null)throw new Un;if(y<0||y>p.length||w<0||y+w>p.length||y+w<0)throw new O;if(w===0)return;for(let k=0;k<w;k++)this.write(p[y+k])}flush(){}close(){}}class Vn extends d{}class an extends ja{constructor(p=32){if(super(),this.count=0,p<0)throw new x("Negative initial size: "+p);this.buf=new Uint8Array(p)}ensureCapacity(p){p-this.buf.length>0&&this.grow(p)}grow(p){let w=this.buf.length<<1;if(w-p<0&&(w=p),w<0){if(p<0)throw new Vn;w=Y.MAX_VALUE}this.buf=Q.copyOfUint8Array(this.buf,w)}write(p){this.ensureCapacity(this.count+1),this.buf[this.count]=p,this.count+=1}writeBytesOffset(p,y,w){if(y<0||y>p.length||w<0||y+w-p.length>0)throw new O;this.ensureCapacity(this.count+w),I.arraycopy(p,y,this.buf,this.count,w),this.count+=w}writeTo(p){p.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(p){return p?typeof p=="string"?this.toString_string(p):this.toString_number(p):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(p){return new String(this.buf).toString()}toString_number(p){return new String(this.buf).toString()}close(){}}var ca;(function(Se){Se[Se.ALPHA=0]="ALPHA",Se[Se.LOWER=1]="LOWER",Se[Se.MIXED=2]="MIXED",Se[Se.PUNCT=3]="PUNCT",Se[Se.ALPHA_SHIFT=4]="ALPHA_SHIFT",Se[Se.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ca||(ca={}));function aa(){if(typeof window<"u")return window.BigInt||null;if(typeof xr<"u")return xr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Sr;function wa(Se){if(typeof Sr>"u"&&(Sr=aa()),Sr===null)throw new Error("BigInt is not supported!");return Sr(Se)}function Va(){let Se=[];Se[0]=wa(1);let p=wa(900);Se[1]=p;for(let y=2;y<16;y++)Se[y]=Se[y-1]*p;return Se}class Wt{static decode(p,y){let w=new be(""),k=te.ISO8859_1;w.enableDecoding(k);let T=1,R=p[T++],z=new pa;for(;T<p[0];){switch(R){case Wt.TEXT_COMPACTION_MODE_LATCH:T=Wt.textCompaction(p,T,w);break;case Wt.BYTE_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH_6:T=Wt.byteCompaction(R,p,k,T,w);break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:w.append(p[T++]);break;case Wt.NUMERIC_COMPACTION_MODE_LATCH:T=Wt.numericCompaction(p,T,w);break;case Wt.ECI_CHARSET:te.getCharacterSetECIByValue(p[T++]);break;case Wt.ECI_GENERAL_PURPOSE:T+=2;break;case Wt.ECI_USER_DEFINED:T++;break;case Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:T=Wt.decodeMacroBlock(p,T,z);break;case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Wt.MACRO_PDF417_TERMINATOR:throw new q;default:T--,T=Wt.textCompaction(p,T,w);break}if(T<p.length)R=p[T++];else throw q.getFormatInstance()}if(w.length()===0)throw q.getFormatInstance();let W=new Vi(null,w.toString(),null,y);return W.setOther(z),W}static decodeMacroBlock(p,y,w){if(y+Wt.NUMBER_OF_SEQUENCE_CODEWORDS>p[0])throw q.getFormatInstance();let k=new Int32Array(Wt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let z=0;z<Wt.NUMBER_OF_SEQUENCE_CODEWORDS;z++,y++)k[z]=p[y];w.setSegmentIndex(Y.parseInt(Wt.decodeBase900toBase10(k,Wt.NUMBER_OF_SEQUENCE_CODEWORDS)));let T=new be;y=Wt.textCompaction(p,y,T),w.setFileId(T.toString());let R=-1;for(p[y]===Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(R=y+1);y<p[0];)switch(p[y]){case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(y++,p[y]){case Wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let z=new be;y=Wt.textCompaction(p,y+1,z),w.setFileName(z.toString());break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let W=new be;y=Wt.textCompaction(p,y+1,W),w.setSender(W.toString());break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let ee=new be;y=Wt.textCompaction(p,y+1,ee),w.setAddressee(ee.toString());break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let Ae=new be;y=Wt.numericCompaction(p,y+1,Ae),w.setSegmentCount(Y.parseInt(Ae.toString()));break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Be=new be;y=Wt.numericCompaction(p,y+1,Be),w.setTimestamp(sa.parseLong(Be.toString()));break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Fe=new be;y=Wt.numericCompaction(p,y+1,Fe),w.setChecksum(Y.parseInt(Fe.toString()));break;case Wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ke=new be;y=Wt.numericCompaction(p,y+1,Ke),w.setFileSize(sa.parseLong(Ke.toString()));break;default:throw q.getFormatInstance()}break;case Wt.MACRO_PDF417_TERMINATOR:y++,w.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(R!==-1){let z=y-R;w.isLastSegment()&&z--,w.setOptionalData(Q.copyOfRange(p,R,R+z))}return y}static textCompaction(p,y,w){let k=new Int32Array((p[0]-y)*2),T=new Int32Array((p[0]-y)*2),R=0,z=!1;for(;y<p[0]&&!z;){let W=p[y++];if(W<Wt.TEXT_COMPACTION_MODE_LATCH)k[R]=W/30,k[R+1]=W%30,R+=2;else switch(W){case Wt.TEXT_COMPACTION_MODE_LATCH:k[R++]=Wt.TEXT_COMPACTION_MODE_LATCH;break;case Wt.BYTE_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH_6:case Wt.NUMERIC_COMPACTION_MODE_LATCH:case Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Wt.MACRO_PDF417_TERMINATOR:y--,z=!0;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k[R]=Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,W=p[y++],T[R]=W,R++;break}}return Wt.decodeTextCompaction(k,T,R,w),y}static decodeTextCompaction(p,y,w,k){let T=ca.ALPHA,R=ca.ALPHA,z=0;for(;z<w;){let W=p[z],ee="";switch(T){case ca.ALPHA:if(W<26)ee=String.fromCharCode(65+W);else switch(W){case 26:ee=" ";break;case Wt.LL:T=ca.LOWER;break;case Wt.ML:T=ca.MIXED;break;case Wt.PS:R=T,T=ca.PUNCT_SHIFT;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k.append(y[z]);break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break;case ca.LOWER:if(W<26)ee=String.fromCharCode(97+W);else switch(W){case 26:ee=" ";break;case Wt.AS:R=T,T=ca.ALPHA_SHIFT;break;case Wt.ML:T=ca.MIXED;break;case Wt.PS:R=T,T=ca.PUNCT_SHIFT;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k.append(y[z]);break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break;case ca.MIXED:if(W<Wt.PL)ee=Wt.MIXED_CHARS[W];else switch(W){case Wt.PL:T=ca.PUNCT;break;case 26:ee=" ";break;case Wt.LL:T=ca.LOWER;break;case Wt.AL:T=ca.ALPHA;break;case Wt.PS:R=T,T=ca.PUNCT_SHIFT;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k.append(y[z]);break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break;case ca.PUNCT:if(W<Wt.PAL)ee=Wt.PUNCT_CHARS[W];else switch(W){case Wt.PAL:T=ca.ALPHA;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k.append(y[z]);break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break;case ca.ALPHA_SHIFT:if(T=R,W<26)ee=String.fromCharCode(65+W);else switch(W){case 26:ee=" ";break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break;case ca.PUNCT_SHIFT:if(T=R,W<Wt.PAL)ee=Wt.PUNCT_CHARS[W];else switch(W){case Wt.PAL:T=ca.ALPHA;break;case Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:k.append(y[z]);break;case Wt.TEXT_COMPACTION_MODE_LATCH:T=ca.ALPHA;break}break}ee!==""&&k.append(ee),z++}}static byteCompaction(p,y,w,k,T){let R=new an,z=0,W=0,ee=!1;switch(p){case Wt.BYTE_COMPACTION_MODE_LATCH:let Ae=new Int32Array(6),Be=y[k++];for(;k<y[0]&&!ee;)switch(Ae[z++]=Be,W=900*W+Be,Be=y[k++],Be){case Wt.TEXT_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH:case Wt.NUMERIC_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH_6:case Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Wt.MACRO_PDF417_TERMINATOR:k--,ee=!0;break;default:if(z%5===0&&z>0){for(let Fe=0;Fe<6;++Fe)R.write(Number(wa(W)>>wa(8*(5-Fe))));W=0,z=0}break}k===y[0]&&Be<Wt.TEXT_COMPACTION_MODE_LATCH&&(Ae[z++]=Be);for(let Fe=0;Fe<z;Fe++)R.write(Ae[Fe]);break;case Wt.BYTE_COMPACTION_MODE_LATCH_6:for(;k<y[0]&&!ee;){let Fe=y[k++];if(Fe<Wt.TEXT_COMPACTION_MODE_LATCH)z++,W=900*W+Fe;else switch(Fe){case Wt.TEXT_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH:case Wt.NUMERIC_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH_6:case Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Wt.MACRO_PDF417_TERMINATOR:k--,ee=!0;break}if(z%5===0&&z>0){for(let Ke=0;Ke<6;++Ke)R.write(Number(wa(W)>>wa(8*(5-Ke))));W=0,z=0}}break}return T.append(ve.decode(R.toByteArray(),w)),k}static numericCompaction(p,y,w){let k=0,T=!1,R=new Int32Array(Wt.MAX_NUMERIC_CODEWORDS);for(;y<p[0]&&!T;){let z=p[y++];if(y===p[0]&&(T=!0),z<Wt.TEXT_COMPACTION_MODE_LATCH)R[k]=z,k++;else switch(z){case Wt.TEXT_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH:case Wt.BYTE_COMPACTION_MODE_LATCH_6:case Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Wt.MACRO_PDF417_TERMINATOR:y--,T=!0;break}(k%Wt.MAX_NUMERIC_CODEWORDS===0||z===Wt.NUMERIC_COMPACTION_MODE_LATCH||T)&&k>0&&(w.append(Wt.decodeBase900toBase10(R,k)),k=0)}return y}static decodeBase900toBase10(p,y){let w=wa(0);for(let T=0;T<y;T++)w+=Wt.EXP900[y-T-1]*wa(p[T]);let k=w.toString();if(k.charAt(0)!=="1")throw new q;return k.substring(1)}}Wt.TEXT_COMPACTION_MODE_LATCH=900,Wt.BYTE_COMPACTION_MODE_LATCH=901,Wt.NUMERIC_COMPACTION_MODE_LATCH=902,Wt.BYTE_COMPACTION_MODE_LATCH_6=924,Wt.ECI_USER_DEFINED=925,Wt.ECI_GENERAL_PURPOSE=926,Wt.ECI_CHARSET=927,Wt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Wt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Wt.MACRO_PDF417_TERMINATOR=922,Wt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Wt.MAX_NUMERIC_CODEWORDS=15,Wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Wt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Wt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Wt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Wt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Wt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Wt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Wt.PL=25,Wt.LL=27,Wt.AS=27,Wt.ML=28,Wt.AL=28,Wt.PS=29,Wt.PAL=29,Wt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Wt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Wt.EXP900=aa()?Va():[],Wt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Tn{constructor(){}static decode(p,y,w,k,T,R,z){let W=new $e(p,y,w,k,T),ee=null,Ae=null,Be;for(let gt=!0;;gt=!1){if(y!=null&&(ee=Tn.getRowIndicatorColumn(p,W,y,!0,R,z)),k!=null&&(Ae=Tn.getRowIndicatorColumn(p,W,k,!1,R,z)),Be=Tn.merge(ee,Ae),Be==null)throw Ie.getNotFoundInstance();let vt=Be.getBoundingBox();if(gt&&vt!=null&&(vt.getMinY()<W.getMinY()||vt.getMaxY()>W.getMaxY()))W=vt;else break}Be.setBoundingBox(W);let Fe=Be.getBarcodeColumnCount()+1;Be.setDetectionResultColumn(0,ee),Be.setDetectionResultColumn(Fe,Ae);let Ke=ee!=null;for(let gt=1;gt<=Fe;gt++){let vt=Ke?gt:Fe-gt;if(Be.getDetectionResultColumn(vt)!==void 0)continue;let Ot;vt===0||vt===Fe?Ot=new Qi(W,vt===0):Ot=new Ft(W),Be.setDetectionResultColumn(vt,Ot);let Zt=-1,Pi=Zt;for(let Ri=W.getMinY();Ri<=W.getMaxY();Ri++){if(Zt=Tn.getStartColumn(Be,vt,Ri,Ke),Zt<0||Zt>W.getMaxX()){if(Pi===-1)continue;Zt=Pi}let Si=Tn.detectCodeword(p,W.getMinX(),W.getMaxX(),Ke,Zt,Ri,R,z);Si!=null&&(Ot.setCodeword(Ri,Si),Pi=Zt,R=Math.min(R,Si.getWidth()),z=Math.max(z,Si.getWidth()))}}return Tn.createDecoderResult(Be)}static merge(p,y){if(p==null&&y==null)return null;let w=Tn.getBarcodeMetadata(p,y);if(w==null)return null;let k=$e.merge(Tn.adjustBoundingBox(p),Tn.adjustBoundingBox(y));return new cn(w,k)}static adjustBoundingBox(p){if(p==null)return null;let y=p.getRowHeights();if(y==null)return null;let w=Tn.getMax(y),k=0;for(let z of y)if(k+=w-z,z>0)break;let T=p.getCodewords();for(let z=0;k>0&&T[z]==null;z++)k--;let R=0;for(let z=y.length-1;z>=0&&(R+=w-y[z],!(y[z]>0));z--);for(let z=T.length-1;R>0&&T[z]==null;z--)R--;return p.getBoundingBox().addMissingRows(k,R,p.isLeft())}static getMax(p){let y=-1;for(let w of p)y=Math.max(y,w);return y}static getBarcodeMetadata(p,y){let w;if(p==null||(w=p.getBarcodeMetadata())==null)return y==null?null:y.getBarcodeMetadata();let k;return y==null||(k=y.getBarcodeMetadata())==null?w:w.getColumnCount()!==k.getColumnCount()&&w.getErrorCorrectionLevel()!==k.getErrorCorrectionLevel()&&w.getRowCount()!==k.getRowCount()?null:w}static getRowIndicatorColumn(p,y,w,k,T,R){let z=new Qi(y,k);for(let W=0;W<2;W++){let ee=W===0?1:-1,Ae=Math.trunc(Math.trunc(w.getX()));for(let Be=Math.trunc(Math.trunc(w.getY()));Be<=y.getMaxY()&&Be>=y.getMinY();Be+=ee){let Fe=Tn.detectCodeword(p,0,p.getWidth(),k,Ae,Be,T,R);Fe!=null&&(z.setCodeword(Be,Fe),k?Ae=Fe.getStartX():Ae=Fe.getEndX())}}return z}static adjustCodewordCount(p,y){let w=y[0][1],k=w.getValue(),T=p.getBarcodeColumnCount()*p.getBarcodeRowCount()-Tn.getNumberOfECCodeWords(p.getBarcodeECLevel());if(k.length===0){if(T<1||T>_i.MAX_CODEWORDS_IN_BARCODE)throw Ie.getNotFoundInstance();w.setValue(T)}else k[0]!==T&&w.setValue(T)}static createDecoderResult(p){let y=Tn.createBarcodeMatrix(p);Tn.adjustCodewordCount(p,y);let w=new Array,k=new Int32Array(p.getBarcodeRowCount()*p.getBarcodeColumnCount()),T=[],R=new Array;for(let W=0;W<p.getBarcodeRowCount();W++)for(let ee=0;ee<p.getBarcodeColumnCount();ee++){let Ae=y[W][ee+1].getValue(),Be=W*p.getBarcodeColumnCount()+ee;Ae.length===0?w.push(Be):Ae.length===1?k[Be]=Ae[0]:(R.push(Be),T.push(Ae))}let z=new Array(T.length);for(let W=0;W<z.length;W++)z[W]=T[W];return Tn.createDecoderResultFromAmbiguousValues(p.getBarcodeECLevel(),k,_i.toIntArray(w),_i.toIntArray(R),z)}static createDecoderResultFromAmbiguousValues(p,y,w,k,T){let R=new Int32Array(k.length),z=100;for(;z-- >0;){for(let W=0;W<R.length;W++)y[k[W]]=T[W][R[W]];try{return Tn.decodeCodewords(y,p,w)}catch(W){if(!(W instanceof S))throw W}if(R.length===0)throw S.getChecksumInstance();for(let W=0;W<R.length;W++)if(R[W]<T[W].length-1){R[W]++;break}else if(R[W]=0,W===R.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(p){let y=Array.from({length:p.getBarcodeRowCount()},()=>new Array(p.getBarcodeColumnCount()+2));for(let k=0;k<y.length;k++)for(let T=0;T<y[k].length;T++)y[k][T]=new li;let w=0;for(let k of p.getDetectionResultColumns()){if(k!=null){for(let T of k.getCodewords())if(T!=null){let R=T.getRowNumber();if(R>=0){if(R>=y.length)continue;y[R][w].setValue(T.getValue())}}}w++}return y}static isValidBarcodeColumn(p,y){return y>=0&&y<=p.getBarcodeColumnCount()+1}static getStartColumn(p,y,w,k){let T=k?1:-1,R=null;if(Tn.isValidBarcodeColumn(p,y-T)&&(R=p.getDetectionResultColumn(y-T).getCodeword(w)),R!=null)return k?R.getEndX():R.getStartX();if(R=p.getDetectionResultColumn(y).getCodewordNearby(w),R!=null)return k?R.getStartX():R.getEndX();if(Tn.isValidBarcodeColumn(p,y-T)&&(R=p.getDetectionResultColumn(y-T).getCodewordNearby(w)),R!=null)return k?R.getEndX():R.getStartX();let z=0;for(;Tn.isValidBarcodeColumn(p,y-T);){y-=T;for(let W of p.getDetectionResultColumn(y).getCodewords())if(W!=null)return(k?W.getEndX():W.getStartX())+T*z*(W.getEndX()-W.getStartX());z++}return k?p.getBoundingBox().getMinX():p.getBoundingBox().getMaxX()}static detectCodeword(p,y,w,k,T,R,z,W){T=Tn.adjustCodewordStartColumn(p,y,w,k,T,R);let ee=Tn.getModuleBitCount(p,y,w,k,T,R);if(ee==null)return null;let Ae,Be=ci.sum(ee);if(k)Ae=T+Be;else{for(let gt=0;gt<ee.length/2;gt++){let vt=ee[gt];ee[gt]=ee[ee.length-1-gt],ee[ee.length-1-gt]=vt}Ae=T,T=Ae-Be}if(!Tn.checkCodewordSkew(Be,z,W))return null;let Fe=ra.getDecodedValue(ee),Ke=_i.getCodeword(Fe);return Ke===-1?null:new Ln(T,Ae,Tn.getCodewordBucketNumber(Fe),Ke)}static getModuleBitCount(p,y,w,k,T,R){let z=T,W=new Int32Array(8),ee=0,Ae=k?1:-1,Be=k;for(;(k?z<w:z>=y)&&ee<W.length;)p.get(z,R)===Be?(W[ee]++,z+=Ae):(ee++,Be=!Be);return ee===W.length||z===(k?w:y)&&ee===W.length-1?W:null}static getNumberOfECCodeWords(p){return 2<<p}static adjustCodewordStartColumn(p,y,w,k,T,R){let z=T,W=k?-1:1;for(let ee=0;ee<2;ee++){for(;(k?z>=y:z<w)&&k===p.get(z,R);){if(Math.abs(T-z)>Tn.CODEWORD_SKEW_SIZE)return T;z+=W}W=-W,k=!k}return z}static checkCodewordSkew(p,y,w){return y-Tn.CODEWORD_SKEW_SIZE<=p&&p<=w+Tn.CODEWORD_SKEW_SIZE}static decodeCodewords(p,y,w){if(p.length===0)throw q.getFormatInstance();let k=1<<y+1,T=Tn.correctErrors(p,w,k);Tn.verifyCodewordCount(p,k);let R=Wt.decode(p,""+y);return R.setErrorsCorrected(T),R.setErasures(w.length),R}static correctErrors(p,y,w){if(y!=null&&y.length>w/2+Tn.MAX_ERRORS||w<0||w>Tn.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return Tn.errorCorrection.decode(p,w,y)}static verifyCodewordCount(p,y){if(p.length<4)throw q.getFormatInstance();let w=p[0];if(w>p.length)throw q.getFormatInstance();if(w===0)if(y<p.length)p[0]=p.length-y;else throw q.getFormatInstance()}static getBitCountForCodeword(p){let y=new Int32Array(8),w=0,k=y.length-1;for(;!((p&1)!==w&&(w=p&1,k--,k<0));)y[k]++,p>>=1;return y}static getCodewordBucketNumber(p){return p instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(p):this.getCodewordBucketNumber_number(p)}static getCodewordBucketNumber_number(p){return Tn.getCodewordBucketNumber(Tn.getBitCountForCodeword(p))}static getCodewordBucketNumber_Int32Array(p){return(p[0]-p[2]+p[4]-p[6]+9)%9}static toString(p){let y=new Qt;for(let w=0;w<p.length;w++){y.format("Row %2d: ",w);for(let k=0;k<p[w].length;k++){let T=p[w][k];T.getValue().length===0?y.format("        ",null):y.format("%4d(%2d)",T.getValue()[0],T.getConfidence(T.getValue()[0]))}y.format("%n")}return y.toString()}}Tn.CODEWORD_SKEW_SIZE=2,Tn.MAX_ERRORS=3,Tn.MAX_EC_CODEWORDS=512,Tn.errorCorrection=new qe;class ea{decode(p,y=null){let w=ea.decode(p,y,!1);if(w==null||w.length===0||w[0]==null)throw Ie.getNotFoundInstance();return w[0]}decodeMultiple(p,y=null){try{return ea.decode(p,y,!0)}catch(w){throw w instanceof q||w instanceof S?Ie.getNotFoundInstance():w}}static decode(p,y,w){const k=new Array,T=$n.detectMultiple(p,y,w);for(const R of T.getPoints()){const z=Tn.decode(T.getBits(),R[4],R[5],R[6],R[7],ea.getMinCodewordWidth(R),ea.getMaxCodewordWidth(R)),W=new It(z.getText(),z.getRawBytes(),void 0,R,mt.PDF_417);W.putMetadata(gi.ERROR_CORRECTION_LEVEL,z.getECLevel());const ee=z.getOther();ee!=null&&W.putMetadata(gi.PDF417_EXTRA_METADATA,ee),k.push(W)}return k.map(R=>R)}static getMaxWidth(p,y){return p==null||y==null?0:Math.trunc(Math.abs(p.getX()-y.getX()))}static getMinWidth(p,y){return p==null||y==null?Y.MAX_VALUE:Math.trunc(Math.abs(p.getX()-y.getX()))}static getMaxCodewordWidth(p){return Math.floor(Math.max(Math.max(ea.getMaxWidth(p[0],p[4]),ea.getMaxWidth(p[6],p[2])*_i.MODULES_IN_CODEWORD/_i.MODULES_IN_STOP_PATTERN),Math.max(ea.getMaxWidth(p[1],p[5]),ea.getMaxWidth(p[7],p[3])*_i.MODULES_IN_CODEWORD/_i.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(p){return Math.floor(Math.min(Math.min(ea.getMinWidth(p[0],p[4]),ea.getMinWidth(p[6],p[2])*_i.MODULES_IN_CODEWORD/_i.MODULES_IN_STOP_PATTERN),Math.min(ea.getMinWidth(p[1],p[5]),ea.getMinWidth(p[7],p[3])*_i.MODULES_IN_CODEWORD/_i.MODULES_IN_STOP_PATTERN)))}reset(){}}class ka extends d{}ka.kind="ReaderException";class xo{constructor(p,y){this.verbose=p===!0,y&&this.setHints(y)}decode(p,y){return y&&this.setHints(y),this.decodeInternal(p)}decodeWithState(p){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(p)}setHints(p){this.hints=p;const y=!i(p)&&p.get(re.TRY_HARDER)===!0,w=i(p)?null:p.get(re.POSSIBLE_FORMATS),k=new Array;if(!i(w)){const T=w.some(R=>R===mt.UPC_A||R===mt.UPC_E||R===mt.EAN_13||R===mt.EAN_8||R===mt.CODABAR||R===mt.CODE_39||R===mt.CODE_93||R===mt.CODE_128||R===mt.ITF||R===mt.RSS_14||R===mt.RSS_EXPANDED);T&&!y&&k.push(new Ja(p,this.verbose)),w.includes(mt.QR_CODE)&&k.push(new ia),w.includes(mt.DATA_MATRIX)&&k.push(new Xa),w.includes(mt.AZTEC)&&k.push(new st),w.includes(mt.PDF_417)&&k.push(new ea),T&&y&&k.push(new Ja(p,this.verbose))}k.length===0&&(y||k.push(new Ja(p,this.verbose)),k.push(new ia),k.push(new Xa),k.push(new st),k.push(new ea),y&&k.push(new Ja(p,this.verbose))),this.readers=k}reset(){if(this.readers!==null)for(const p of this.readers)p.reset()}decodeInternal(p){if(this.readers===null)throw new ka("No readers where selected, nothing can be read.");for(const y of this.readers)try{return y.decode(p,this.hints)}catch(w){if(w instanceof ka)continue}throw new Ie("No MultiFormat Readers were able to detect the code.")}}class Ko extends di{constructor(p=null,y=500){const w=new xo;w.setHints(p),super(w,y)}decodeBitmap(p){return this.reader.decodeWithState(p)}}class rr extends di{constructor(p=500){super(new ea,p)}}class Ms extends di{constructor(p=500){super(new ia,p)}}var ba;(function(Se){Se[Se.ERROR_CORRECTION=0]="ERROR_CORRECTION",Se[Se.CHARACTER_SET=1]="CHARACTER_SET",Se[Se.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Se[Se.MIN_SIZE=3]="MIN_SIZE",Se[Se.MAX_SIZE=4]="MAX_SIZE",Se[Se.MARGIN=5]="MARGIN",Se[Se.PDF417_COMPACT=6]="PDF417_COMPACT",Se[Se.PDF417_COMPACTION=7]="PDF417_COMPACTION",Se[Se.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Se[Se.AZTEC_LAYERS=9]="AZTEC_LAYERS",Se[Se.QR_VERSION=10]="QR_VERSION"})(ba||(ba={}));var er=ba;class Do{constructor(p){this.field=p,this.cachedGenerators=[],this.cachedGenerators.push(new oi(p,Int32Array.from([1])))}buildGenerator(p){const y=this.cachedGenerators;if(p>=y.length){let w=y[y.length-1];const k=this.field;for(let T=y.length;T<=p;T++){const R=w.multiply(new oi(k,Int32Array.from([1,k.exp(T-1+k.getGeneratorBase())])));y.push(R),w=R}}return y[p]}encode(p,y){if(y===0)throw new x("No error correction bytes");const w=p.length-y;if(w<=0)throw new x("No data bytes provided");const k=this.buildGenerator(y),T=new Int32Array(w);I.arraycopy(p,0,T,0,w);let R=new oi(this.field,T);R=R.multiplyByMonomial(y,1);const W=R.divide(k)[1].getCoefficients(),ee=y-W.length;for(let Ae=0;Ae<ee;Ae++)p[w+Ae]=0;I.arraycopy(W,0,p,w+ee,W.length)}}class Ya{constructor(){}static applyMaskPenaltyRule1(p){return Ya.applyMaskPenaltyRule1Internal(p,!0)+Ya.applyMaskPenaltyRule1Internal(p,!1)}static applyMaskPenaltyRule2(p){let y=0;const w=p.getArray(),k=p.getWidth(),T=p.getHeight();for(let R=0;R<T-1;R++){const z=w[R];for(let W=0;W<k-1;W++){const ee=z[W];ee===z[W+1]&&ee===w[R+1][W]&&ee===w[R+1][W+1]&&y++}}return Ya.N2*y}static applyMaskPenaltyRule3(p){let y=0;const w=p.getArray(),k=p.getWidth(),T=p.getHeight();for(let R=0;R<T;R++)for(let z=0;z<k;z++){const W=w[R];z+6<k&&W[z]===1&&W[z+1]===0&&W[z+2]===1&&W[z+3]===1&&W[z+4]===1&&W[z+5]===0&&W[z+6]===1&&(Ya.isWhiteHorizontal(W,z-4,z)||Ya.isWhiteHorizontal(W,z+7,z+11))&&y++,R+6<T&&w[R][z]===1&&w[R+1][z]===0&&w[R+2][z]===1&&w[R+3][z]===1&&w[R+4][z]===1&&w[R+5][z]===0&&w[R+6][z]===1&&(Ya.isWhiteVertical(w,z,R-4,R)||Ya.isWhiteVertical(w,z,R+7,R+11))&&y++}return y*Ya.N3}static isWhiteHorizontal(p,y,w){y=Math.max(y,0),w=Math.min(w,p.length);for(let k=y;k<w;k++)if(p[k]===1)return!1;return!0}static isWhiteVertical(p,y,w,k){w=Math.max(w,0),k=Math.min(k,p.length);for(let T=w;T<k;T++)if(p[T][y]===1)return!1;return!0}static applyMaskPenaltyRule4(p){let y=0;const w=p.getArray(),k=p.getWidth(),T=p.getHeight();for(let W=0;W<T;W++){const ee=w[W];for(let Ae=0;Ae<k;Ae++)ee[Ae]===1&&y++}const R=p.getHeight()*p.getWidth();return Math.floor(Math.abs(y*2-R)*10/R)*Ya.N4}static getDataMaskBit(p,y,w){let k,T;switch(p){case 0:k=w+y&1;break;case 1:k=w&1;break;case 2:k=y%3;break;case 3:k=(w+y)%3;break;case 4:k=Math.floor(w/2)+Math.floor(y/3)&1;break;case 5:T=w*y,k=(T&1)+T%3;break;case 6:T=w*y,k=(T&1)+T%3&1;break;case 7:T=w*y,k=T%3+(w+y&1)&1;break;default:throw new x("Invalid mask pattern: "+p)}return k===0}static applyMaskPenaltyRule1Internal(p,y){let w=0;const k=y?p.getHeight():p.getWidth(),T=y?p.getWidth():p.getHeight(),R=p.getArray();for(let z=0;z<k;z++){let W=0,ee=-1;for(let Ae=0;Ae<T;Ae++){const Be=y?R[z][Ae]:R[Ae][z];Be===ee?W++:(W>=5&&(w+=Ya.N1+(W-5)),W=1,ee=Be)}W>=5&&(w+=Ya.N1+(W-5))}return w}}Ya.N1=3,Ya.N2=3,Ya.N3=40,Ya.N4=10;class sr{constructor(p,y){this.width=p,this.height=y;const w=new Array(y);for(let k=0;k!==y;k++)w[k]=new Uint8Array(p);this.bytes=w}getHeight(){return this.height}getWidth(){return this.width}get(p,y){return this.bytes[y][p]}getArray(){return this.bytes}setNumber(p,y,w){this.bytes[y][p]=w}setBoolean(p,y,w){this.bytes[y][p]=w?1:0}clear(p){for(const y of this.bytes)Q.fill(y,p)}equals(p){if(!(p instanceof sr))return!1;const y=p;if(this.width!==y.width||this.height!==y.height)return!1;for(let w=0,k=this.height;w<k;++w){const T=this.bytes[w],R=y.bytes[w];for(let z=0,W=this.width;z<W;++z)if(T[z]!==R[z])return!1}return!0}toString(){const p=new be;for(let y=0,w=this.height;y<w;++y){const k=this.bytes[y];for(let T=0,R=this.width;T<R;++T)switch(k[T]){case 0:p.append(" 0");break;case 1:p.append(" 1");break;default:p.append("  ");break}p.append(`
`)}return p.toString()}}class _o{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const p=new be;return p.append(`<<
`),p.append(" mode: "),p.append(this.mode?this.mode.toString():"null"),p.append(`
 ecLevel: `),p.append(this.ecLevel?this.ecLevel.toString():"null"),p.append(`
 version: `),p.append(this.version?this.version.toString():"null"),p.append(`
 maskPattern: `),p.append(this.maskPattern.toString()),this.matrix?(p.append(`
 matrix:
`),p.append(this.matrix.toString())):p.append(`
 matrix: null
`),p.append(`>>
`),p.toString()}setMode(p){this.mode=p}setECLevel(p){this.ecLevel=p}setVersion(p){this.version=p}setMaskPattern(p){this.maskPattern=p}setMatrix(p){this.matrix=p}static isValidMaskPattern(p){return p>=0&&p<_o.NUM_MASK_PATTERNS}}_o.NUM_MASK_PATTERNS=8;class Ta extends d{}Ta.kind="WriterException";class Qn{constructor(){}static clearMatrix(p){p.clear(255)}static buildMatrix(p,y,w,k,T){Qn.clearMatrix(T),Qn.embedBasicPatterns(w,T),Qn.embedTypeInfo(y,k,T),Qn.maybeEmbedVersionInfo(w,T),Qn.embedDataBits(p,k,T)}static embedBasicPatterns(p,y){Qn.embedPositionDetectionPatternsAndSeparators(y),Qn.embedDarkDotAtLeftBottomCorner(y),Qn.maybeEmbedPositionAdjustmentPatterns(p,y),Qn.embedTimingPatterns(y)}static embedTypeInfo(p,y,w){const k=new Z;Qn.makeTypeInfoBits(p,y,k);for(let T=0,R=k.getSize();T<R;++T){const z=k.get(k.getSize()-1-T),W=Qn.TYPE_INFO_COORDINATES[T],ee=W[0],Ae=W[1];if(w.setBoolean(ee,Ae,z),T<8){const Be=w.getWidth()-T-1;w.setBoolean(Be,8,z)}else{const Fe=w.getHeight()-7+(T-8);w.setBoolean(8,Fe,z)}}}static maybeEmbedVersionInfo(p,y){if(p.getVersionNumber()<7)return;const w=new Z;Qn.makeVersionInfoBits(p,w);let k=17;for(let T=0;T<6;++T)for(let R=0;R<3;++R){const z=w.get(k);k--,y.setBoolean(T,y.getHeight()-11+R,z),y.setBoolean(y.getHeight()-11+R,T,z)}}static embedDataBits(p,y,w){let k=0,T=-1,R=w.getWidth()-1,z=w.getHeight()-1;for(;R>0;){for(R===6&&(R-=1);z>=0&&z<w.getHeight();){for(let W=0;W<2;++W){const ee=R-W;if(!Qn.isEmpty(w.get(ee,z)))continue;let Ae;k<p.getSize()?(Ae=p.get(k),++k):Ae=!1,y!==255&&Ya.getDataMaskBit(y,ee,z)&&(Ae=!Ae),w.setBoolean(ee,z,Ae)}z+=T}T=-T,z+=T,R-=2}if(k!==p.getSize())throw new Ta("Not all bits consumed: "+k+"/"+p.getSize())}static findMSBSet(p){return 32-Y.numberOfLeadingZeros(p)}static calculateBCHCode(p,y){if(y===0)throw new x("0 polynomial");const w=Qn.findMSBSet(y);for(p<<=w-1;Qn.findMSBSet(p)>=w;)p^=y<<Qn.findMSBSet(p)-w;return p}static makeTypeInfoBits(p,y,w){if(!_o.isValidMaskPattern(y))throw new Ta("Invalid mask pattern");const k=p.getBits()<<3|y;w.appendBits(k,5);const T=Qn.calculateBCHCode(k,Qn.TYPE_INFO_POLY);w.appendBits(T,10);const R=new Z;if(R.appendBits(Qn.TYPE_INFO_MASK_PATTERN,15),w.xor(R),w.getSize()!==15)throw new Ta("should not happen but we got: "+w.getSize())}static makeVersionInfoBits(p,y){y.appendBits(p.getVersionNumber(),6);const w=Qn.calculateBCHCode(p.getVersionNumber(),Qn.VERSION_INFO_POLY);if(y.appendBits(w,12),y.getSize()!==18)throw new Ta("should not happen but we got: "+y.getSize())}static isEmpty(p){return p===255}static embedTimingPatterns(p){for(let y=8;y<p.getWidth()-8;++y){const w=(y+1)%2;Qn.isEmpty(p.get(y,6))&&p.setNumber(y,6,w),Qn.isEmpty(p.get(6,y))&&p.setNumber(6,y,w)}}static embedDarkDotAtLeftBottomCorner(p){if(p.get(8,p.getHeight()-8)===0)throw new Ta;p.setNumber(8,p.getHeight()-8,1)}static embedHorizontalSeparationPattern(p,y,w){for(let k=0;k<8;++k){if(!Qn.isEmpty(w.get(p+k,y)))throw new Ta;w.setNumber(p+k,y,0)}}static embedVerticalSeparationPattern(p,y,w){for(let k=0;k<7;++k){if(!Qn.isEmpty(w.get(p,y+k)))throw new Ta;w.setNumber(p,y+k,0)}}static embedPositionAdjustmentPattern(p,y,w){for(let k=0;k<5;++k){const T=Qn.POSITION_ADJUSTMENT_PATTERN[k];for(let R=0;R<5;++R)w.setNumber(p+R,y+k,T[R])}}static embedPositionDetectionPattern(p,y,w){for(let k=0;k<7;++k){const T=Qn.POSITION_DETECTION_PATTERN[k];for(let R=0;R<7;++R)w.setNumber(p+R,y+k,T[R])}}static embedPositionDetectionPatternsAndSeparators(p){const y=Qn.POSITION_DETECTION_PATTERN[0].length;Qn.embedPositionDetectionPattern(0,0,p),Qn.embedPositionDetectionPattern(p.getWidth()-y,0,p),Qn.embedPositionDetectionPattern(0,p.getWidth()-y,p);const w=8;Qn.embedHorizontalSeparationPattern(0,w-1,p),Qn.embedHorizontalSeparationPattern(p.getWidth()-w,w-1,p),Qn.embedHorizontalSeparationPattern(0,p.getWidth()-w,p);const k=7;Qn.embedVerticalSeparationPattern(k,0,p),Qn.embedVerticalSeparationPattern(p.getHeight()-k-1,0,p),Qn.embedVerticalSeparationPattern(k,p.getHeight()-k,p)}static maybeEmbedPositionAdjustmentPatterns(p,y){if(p.getVersionNumber()<2)return;const w=p.getVersionNumber()-1,k=Qn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[w];for(let T=0,R=k.length;T!==R;T++){const z=k[T];if(z>=0)for(let W=0;W!==R;W++){const ee=k[W];ee>=0&&Qn.isEmpty(y.get(ee,z))&&Qn.embedPositionAdjustmentPattern(ee-2,z-2,y)}}}}Qn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qn.VERSION_INFO_POLY=7973,Qn.TYPE_INFO_POLY=1335,Qn.TYPE_INFO_MASK_PATTERN=21522;class Lu{constructor(p,y){this.dataBytes=p,this.errorCorrectionBytes=y}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Aa{constructor(){}static calculateMaskPenalty(p){return Ya.applyMaskPenaltyRule1(p)+Ya.applyMaskPenaltyRule2(p)+Ya.applyMaskPenaltyRule3(p)+Ya.applyMaskPenaltyRule4(p)}static encode(p,y,w=null){let k=Aa.DEFAULT_BYTE_MODE_ENCODING;const T=w!==null&&w.get(er.CHARACTER_SET)!==void 0;T&&(k=w.get(er.CHARACTER_SET).toString());const R=this.chooseMode(p,k),z=new Z;if(R===Nn.BYTE&&(T||Aa.DEFAULT_BYTE_MODE_ENCODING!==k)){const Ri=te.getCharacterSetECIByName(k);Ri!==void 0&&this.appendECI(Ri,z)}this.appendModeInfo(R,z);const W=new Z;this.appendBytes(p,R,W,k);let ee;if(w!==null&&w.get(er.QR_VERSION)!==void 0){const Ri=Number.parseInt(w.get(er.QR_VERSION).toString(),10);ee=Mn.getVersionForNumber(Ri);const Si=this.calculateBitsNeeded(R,z,W,ee);if(!this.willFit(Si,ee,y))throw new Ta("Data too big for requested version")}else ee=this.recommendVersion(y,R,z,W);const Ae=new Z;Ae.appendBitArray(z);const Be=R===Nn.BYTE?W.getSizeInBytes():p.length;this.appendLengthInfo(Be,ee,R,Ae),Ae.appendBitArray(W);const Fe=ee.getECBlocksForLevel(y),Ke=ee.getTotalCodewords()-Fe.getTotalECCodewords();this.terminateBits(Ke,Ae);const gt=this.interleaveWithECBytes(Ae,ee.getTotalCodewords(),Ke,Fe.getNumBlocks()),vt=new _o;vt.setECLevel(y),vt.setMode(R),vt.setVersion(ee);const Ot=ee.getDimensionForVersion(),Zt=new sr(Ot,Ot),Pi=this.chooseMaskPattern(gt,y,ee,Zt);return vt.setMaskPattern(Pi),Qn.buildMatrix(gt,y,ee,Pi,Zt),vt.setMatrix(Zt),vt}static recommendVersion(p,y,w,k){const T=this.calculateBitsNeeded(y,w,k,Mn.getVersionForNumber(1)),R=this.chooseVersion(T,p),z=this.calculateBitsNeeded(y,w,k,R);return this.chooseVersion(z,p)}static calculateBitsNeeded(p,y,w,k){return y.getSize()+p.getCharacterCountBits(k)+w.getSize()}static getAlphanumericCode(p){return p<Aa.ALPHANUMERIC_TABLE.length?Aa.ALPHANUMERIC_TABLE[p]:-1}static chooseMode(p,y=null){if(te.SJIS.getName()===y&&this.isOnlyDoubleByteKanji(p))return Nn.KANJI;let w=!1,k=!1;for(let T=0,R=p.length;T<R;++T){const z=p.charAt(T);if(Aa.isDigit(z))w=!0;else if(this.getAlphanumericCode(z.charCodeAt(0))!==-1)k=!0;else return Nn.BYTE}return k?Nn.ALPHANUMERIC:w?Nn.NUMERIC:Nn.BYTE}static isOnlyDoubleByteKanji(p){let y;try{y=ve.encode(p,te.SJIS)}catch{return!1}const w=y.length;if(w%2!==0)return!1;for(let k=0;k<w;k+=2){const T=y[k]&255;if((T<129||T>159)&&(T<224||T>235))return!1}return!0}static chooseMaskPattern(p,y,w,k){let T=Number.MAX_SAFE_INTEGER,R=-1;for(let z=0;z<_o.NUM_MASK_PATTERNS;z++){Qn.buildMatrix(p,y,w,z,k);let W=this.calculateMaskPenalty(k);W<T&&(T=W,R=z)}return R}static chooseVersion(p,y){for(let w=1;w<=40;w++){const k=Mn.getVersionForNumber(w);if(Aa.willFit(p,k,y))return k}throw new Ta("Data too big")}static willFit(p,y,w){const k=y.getTotalCodewords(),R=y.getECBlocksForLevel(w).getTotalECCodewords(),z=k-R,W=(p+7)/8;return z>=W}static terminateBits(p,y){const w=p*8;if(y.getSize()>w)throw new Ta("data bits cannot fit in the QR Code"+y.getSize()+" > "+w);for(let R=0;R<4&&y.getSize()<w;++R)y.appendBit(!1);const k=y.getSize()&7;if(k>0)for(let R=k;R<8;R++)y.appendBit(!1);const T=p-y.getSizeInBytes();for(let R=0;R<T;++R)y.appendBits((R&1)===0?236:17,8);if(y.getSize()!==w)throw new Ta("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(p,y,w,k,T,R){if(k>=w)throw new Ta("Block ID too large");const z=p%w,W=w-z,ee=Math.floor(p/w),Ae=ee+1,Be=Math.floor(y/w),Fe=Be+1,Ke=ee-Be,gt=Ae-Fe;if(Ke!==gt)throw new Ta("EC bytes mismatch");if(w!==W+z)throw new Ta("RS blocks mismatch");if(p!==(Be+Ke)*W+(Fe+gt)*z)throw new Ta("Total bytes mismatch");k<W?(T[0]=Be,R[0]=Ke):(T[0]=Fe,R[0]=gt)}static interleaveWithECBytes(p,y,w,k){if(p.getSizeInBytes()!==w)throw new Ta("Number of bits and data bytes does not match");let T=0,R=0,z=0;const W=new Array;for(let Ae=0;Ae<k;++Ae){const Be=new Int32Array(1),Fe=new Int32Array(1);Aa.getNumDataBytesAndNumECBytesForBlockID(y,w,k,Ae,Be,Fe);const Ke=Be[0],gt=new Uint8Array(Ke);p.toBytes(8*T,gt,0,Ke);const vt=Aa.generateECBytes(gt,Fe[0]);W.push(new Lu(gt,vt)),R=Math.max(R,Ke),z=Math.max(z,vt.length),T+=Be[0]}if(w!==T)throw new Ta("Data bytes does not match offset");const ee=new Z;for(let Ae=0;Ae<R;++Ae)for(const Be of W){const Fe=Be.getDataBytes();Ae<Fe.length&&ee.appendBits(Fe[Ae],8)}for(let Ae=0;Ae<z;++Ae)for(const Be of W){const Fe=Be.getErrorCorrectionBytes();Ae<Fe.length&&ee.appendBits(Fe[Ae],8)}if(y!==ee.getSizeInBytes())throw new Ta("Interleaving error: "+y+" and "+ee.getSizeInBytes()+" differ.");return ee}static generateECBytes(p,y){const w=p.length,k=new Int32Array(w+y);for(let R=0;R<w;R++)k[R]=p[R]&255;new Do(Mi.QR_CODE_FIELD_256).encode(k,y);const T=new Uint8Array(y);for(let R=0;R<y;R++)T[R]=k[w+R];return T}static appendModeInfo(p,y){y.appendBits(p.getBits(),4)}static appendLengthInfo(p,y,w,k){const T=w.getCharacterCountBits(y);if(p>=1<<T)throw new Ta(p+" is bigger than "+((1<<T)-1));k.appendBits(p,T)}static appendBytes(p,y,w,k){switch(y){case Nn.NUMERIC:Aa.appendNumericBytes(p,w);break;case Nn.ALPHANUMERIC:Aa.appendAlphanumericBytes(p,w);break;case Nn.BYTE:Aa.append8BitBytes(p,w,k);break;case Nn.KANJI:Aa.appendKanjiBytes(p,w);break;default:throw new Ta("Invalid mode: "+y)}}static getDigit(p){return p.charCodeAt(0)-48}static isDigit(p){const y=Aa.getDigit(p);return y>=0&&y<=9}static appendNumericBytes(p,y){const w=p.length;let k=0;for(;k<w;){const T=Aa.getDigit(p.charAt(k));if(k+2<w){const R=Aa.getDigit(p.charAt(k+1)),z=Aa.getDigit(p.charAt(k+2));y.appendBits(T*100+R*10+z,10),k+=3}else if(k+1<w){const R=Aa.getDigit(p.charAt(k+1));y.appendBits(T*10+R,7),k+=2}else y.appendBits(T,4),k++}}static appendAlphanumericBytes(p,y){const w=p.length;let k=0;for(;k<w;){const T=Aa.getAlphanumericCode(p.charCodeAt(k));if(T===-1)throw new Ta;if(k+1<w){const R=Aa.getAlphanumericCode(p.charCodeAt(k+1));if(R===-1)throw new Ta;y.appendBits(T*45+R,11),k+=2}else y.appendBits(T,6),k++}}static append8BitBytes(p,y,w){let k;try{k=ve.encode(p,w)}catch(T){throw new Ta(T)}for(let T=0,R=k.length;T!==R;T++){const z=k[T];y.appendBits(z,8)}}static appendKanjiBytes(p,y){let w;try{w=ve.encode(p,te.SJIS)}catch(T){throw new Ta(T)}const k=w.length;for(let T=0;T<k;T+=2){const R=w[T]&255,z=w[T+1]&255,W=R<<8&4294967295|z;let ee=-1;if(W>=33088&&W<=40956?ee=W-33088:W>=57408&&W<=60351&&(ee=W-49472),ee===-1)throw new Ta("Invalid byte sequence");const Ae=(ee>>8)*192+(ee&255);y.appendBits(Ae,13)}}static appendECI(p,y){y.appendBits(Nn.ECI.getBits(),4),y.appendBits(p.getValue(),8)}}Aa.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Aa.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Xr{write(p,y,w,k=null){if(p.length===0)throw new x("Found empty contents");if(y<0||w<0)throw new x("Requested dimensions are too small: "+y+"x"+w);let T=Ea.L,R=Xr.QUIET_ZONE_SIZE;k!==null&&(k.get(er.ERROR_CORRECTION)!==void 0&&(T=Ea.fromString(k.get(er.ERROR_CORRECTION).toString())),k.get(er.MARGIN)!==void 0&&(R=Number.parseInt(k.get(er.MARGIN).toString(),10)));const z=Aa.encode(p,T,k);return this.renderResult(z,y,w,R)}writeToDom(p,y,w,k,T=null){typeof p=="string"&&(p=document.querySelector(p));const R=this.write(y,w,k,T);p&&p.appendChild(R)}renderResult(p,y,w,k){const T=p.getMatrix();if(T===null)throw new rn;const R=T.getWidth(),z=T.getHeight(),W=R+k*2,ee=z+k*2,Ae=Math.max(y,W),Be=Math.max(w,ee),Fe=Math.min(Math.floor(Ae/W),Math.floor(Be/ee)),Ke=Math.floor((Ae-R*Fe)/2),gt=Math.floor((Be-z*Fe)/2),vt=this.createSVGElement(Ae,Be);for(let Ot=0,Zt=gt;Ot<z;Ot++,Zt+=Fe)for(let Pi=0,Ri=Ke;Pi<R;Pi++,Ri+=Fe)if(T.get(Pi,Ot)===1){const Si=this.createSvgRectElement(Ri,Zt,Fe,Fe);vt.appendChild(Si)}return vt}createSVGElement(p,y){const w=document.createElementNS(Xr.SVG_NS,"svg");return w.setAttributeNS(null,"height",p.toString()),w.setAttributeNS(null,"width",y.toString()),w}createSvgRectElement(p,y,w,k){const T=document.createElementNS(Xr.SVG_NS,"rect");return T.setAttributeNS(null,"x",p.toString()),T.setAttributeNS(null,"y",y.toString()),T.setAttributeNS(null,"height",w.toString()),T.setAttributeNS(null,"width",k.toString()),T.setAttributeNS(null,"fill","#000000"),T}}Xr.QUIET_ZONE_SIZE=4,Xr.SVG_NS="http://www.w3.org/2000/svg";class Hr{encode(p,y,w,k,T){if(p.length===0)throw new x("Found empty contents");if(y!==mt.QR_CODE)throw new x("Can only encode QR_CODE, but got "+y);if(w<0||k<0)throw new x(`Requested dimensions are too small: ${w}x${k}`);let R=Ea.L,z=Hr.QUIET_ZONE_SIZE;T!==null&&(T.get(er.ERROR_CORRECTION)!==void 0&&(R=Ea.fromString(T.get(er.ERROR_CORRECTION).toString())),T.get(er.MARGIN)!==void 0&&(z=Number.parseInt(T.get(er.MARGIN).toString(),10)));const W=Aa.encode(p,R,T);return Hr.renderResult(W,w,k,z)}static renderResult(p,y,w,k){const T=p.getMatrix();if(T===null)throw new rn;const R=T.getWidth(),z=T.getHeight(),W=R+k*2,ee=z+k*2,Ae=Math.max(y,W),Be=Math.max(w,ee),Fe=Math.min(Math.floor(Ae/W),Math.floor(Be/ee)),Ke=Math.floor((Ae-R*Fe)/2),gt=Math.floor((Be-z*Fe)/2),vt=new De(Ae,Be);for(let Ot=0,Zt=gt;Ot<z;Ot++,Zt+=Fe)for(let Pi=0,Ri=Ke;Pi<R;Pi++,Ri+=Fe)T.get(Pi,Ot)===1&&vt.setRegion(Ri,Zt,Fe,Fe);return vt}}Hr.QUIET_ZONE_SIZE=4;class Vs{encode(p,y,w,k,T){let R;switch(y){case mt.QR_CODE:R=new Hr;break;default:throw new x("No encoder available for format "+y)}return R.encode(p,y,w,k,T)}}class lr extends dt{constructor(p,y,w,k,T,R,z,W){if(super(R,z),this.yuvData=p,this.dataWidth=y,this.dataHeight=w,this.left=k,this.top=T,k+R>y||T+z>w)throw new x("Crop rectangle does not fit within image data.");W&&this.reverseHorizontal(R,z)}getRow(p,y){if(p<0||p>=this.getHeight())throw new x("Requested row is outside the image: "+p);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const k=(p+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,k,y,0,w),y}getMatrix(){const p=this.getWidth(),y=this.getHeight();if(p===this.dataWidth&&y===this.dataHeight)return this.yuvData;const w=p*y,k=new Uint8ClampedArray(w);let T=this.top*this.dataWidth+this.left;if(p===this.dataWidth)return I.arraycopy(this.yuvData,T,k,0,w),k;for(let R=0;R<y;R++){const z=R*p;I.arraycopy(this.yuvData,T,k,z,p),T+=this.dataWidth}return k}isCropSupported(){return!0}crop(p,y,w,k){return new lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+p,this.top+y,w,k,!1)}renderThumbnail(){const p=this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR,y=this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR,w=new Int32Array(p*y),k=this.yuvData;let T=this.top*this.dataWidth+this.left;for(let R=0;R<y;R++){const z=R*p;for(let W=0;W<p;W++){const ee=k[T+W*lr.THUMBNAIL_SCALE_FACTOR]&255;w[z+W]=4278190080|ee*65793}T+=this.dataWidth*lr.THUMBNAIL_SCALE_FACTOR}return w}getThumbnailWidth(){return this.getWidth()/lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(p,y){const w=this.yuvData;for(let k=0,T=this.top*this.dataWidth+this.left;k<y;k++,T+=this.dataWidth){const R=T+p/2;for(let z=T,W=T+p-1;z<R;z++,W--){const ee=w[z];w[z]=w[W],w[W]=ee}}}invert(){return new Mt(this)}}lr.THUMBNAIL_SCALE_FACTOR=2;class Ls extends dt{constructor(p,y,w,k,T,R,z){if(super(y,w),this.dataWidth=k,this.dataHeight=T,this.left=R,this.top=z,p.BYTES_PER_ELEMENT===4){const W=y*w,ee=new Uint8ClampedArray(W);for(let Ae=0;Ae<W;Ae++){const Be=p[Ae],Fe=Be>>16&255,Ke=Be>>7&510,gt=Be&255;ee[Ae]=(Fe+Ke+gt)/4&255}this.luminances=ee}else this.luminances=p;if(k===void 0&&(this.dataWidth=y),T===void 0&&(this.dataHeight=w),R===void 0&&(this.left=0),z===void 0&&(this.top=0),this.left+y>this.dataWidth||this.top+w>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(p,y){if(p<0||p>=this.getHeight())throw new x("Requested row is outside the image: "+p);const w=this.getWidth();(y==null||y.length<w)&&(y=new Uint8ClampedArray(w));const k=(p+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,k,y,0,w),y}getMatrix(){const p=this.getWidth(),y=this.getHeight();if(p===this.dataWidth&&y===this.dataHeight)return this.luminances;const w=p*y,k=new Uint8ClampedArray(w);let T=this.top*this.dataWidth+this.left;if(p===this.dataWidth)return I.arraycopy(this.luminances,T,k,0,w),k;for(let R=0;R<y;R++){const z=R*p;I.arraycopy(this.luminances,T,k,z,p),T+=this.dataWidth}return k}isCropSupported(){return!0}crop(p,y,w,k){return new Ls(this.luminances,w,k,this.dataWidth,this.dataHeight,this.left+p,this.top+y)}invert(){return new Mt(this)}}class Pl extends te{static forName(p){return this.getCharacterSetECIByName(p)}}class Pr{}Pr.ISO_8859_1=te.ISO8859_1;class bh{isCompact(){return this.compact}setCompact(p){this.compact=p}getSize(){return this.size}setSize(p){this.size=p}getLayers(){return this.layers}setLayers(p){this.layers=p}getCodeWords(){return this.codeWords}setCodeWords(p){this.codeWords=p}getMatrix(){return this.matrix}setMatrix(p){this.matrix=p}}class Dl{static singletonList(p){return[p]}static min(p,y){return p.sort(y)[0]}}class ru{constructor(p){this.previous=p}getPrevious(){return this.previous}}class vo extends ru{constructor(p,y,w){super(p),this.value=y,this.bitCount=w}appendTo(p,y){p.appendBits(this.value,this.bitCount)}add(p,y){return new vo(this,p,y)}addBinaryShift(p,y){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vo(this,p,y)}toString(){let p=this.value&(1<<this.bitCount)-1;return p|=1<<this.bitCount,"<"+Y.toBinaryString(p|1<<this.bitCount).substring(1)+">"}}class Fu extends vo{constructor(p,y,w){super(p,0,0),this.binaryShiftStart=y,this.binaryShiftByteCount=w}appendTo(p,y){for(let w=0;w<this.binaryShiftByteCount;w++)(w===0||w===31&&this.binaryShiftByteCount<=62)&&(p.appendBits(31,5),this.binaryShiftByteCount>62?p.appendBits(this.binaryShiftByteCount-31,16):w===0?p.appendBits(Math.min(this.binaryShiftByteCount,31),5):p.appendBits(this.binaryShiftByteCount-31,5)),p.appendBits(y[this.binaryShiftStart+w],8)}addBinaryShift(p,y){return new Fu(this,p,y)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function su(Se,p,y){return new Fu(Se,p,y)}function ou(Se,p,y){return new vo(Se,p,y)}const Fc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ro=0,qo=1,Fs=2,Pu=3,to=4,Du=new vo(null,0,0),Ru=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function xd(Se){for(let p of Se)Q.fill(p,-1);return Se[Ro][to]=0,Se[qo][to]=0,Se[qo][Ro]=28,Se[Pu][to]=0,Se[Fs][to]=0,Se[Fs][Ro]=15,Se}const Ch=xd(Q.createInt32Array(6,6));class vs{constructor(p,y,w,k){this.token=p,this.mode=y,this.binaryShiftByteCount=w,this.bitCount=k}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(p,y){let w=this.bitCount,k=this.token;if(p!==this.mode){let R=Ru[this.mode][p];k=ou(k,R&65535,R>>16),w+=R>>16}let T=p===Fs?4:5;return k=ou(k,y,T),new vs(k,p,0,w+T)}shiftAndAppend(p,y){let w=this.token,k=this.mode===Fs?4:5;return w=ou(w,Ch[this.mode][p],k),w=ou(w,y,5),new vs(w,this.mode,0,this.bitCount+k+5)}addBinaryShiftChar(p){let y=this.token,w=this.mode,k=this.bitCount;if(this.mode===to||this.mode===Fs){let z=Ru[w][Ro];y=ou(y,z&65535,z>>16),k+=z>>16,w=Ro}let T=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,R=new vs(y,w,this.binaryShiftByteCount+1,k+T);return R.binaryShiftByteCount===2078&&(R=R.endBinaryShift(p+1)),R}endBinaryShift(p){if(this.binaryShiftByteCount===0)return this;let y=this.token;return y=su(y,p-this.binaryShiftByteCount,this.binaryShiftByteCount),new vs(y,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(p){let y=this.bitCount+(Ru[this.mode][p.mode]>>16);return this.binaryShiftByteCount<p.binaryShiftByteCount?y+=vs.calculateBinaryShiftCost(p)-vs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>p.binaryShiftByteCount&&p.binaryShiftByteCount>0&&(y+=10),y<=p.bitCount}toBitArray(p){let y=[];for(let k=this.endBinaryShift(p.length).token;k!==null;k=k.getPrevious())y.unshift(k);let w=new Z;for(const k of y)k.appendTo(w,p);return w}toString(){return de.format("%s bits=%d bytes=%d",Fc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(p){return p.binaryShiftByteCount>62?21:p.binaryShiftByteCount>31?20:p.binaryShiftByteCount>0?10:0}}vs.INITIAL_STATE=new vs(Du,Ro,0,0);function _d(Se){const p=de.getCharCode(" "),y=de.getCharCode("."),w=de.getCharCode(",");Se[Ro][p]=1;const k=de.getCharCode("Z"),T=de.getCharCode("A");for(let Fe=T;Fe<=k;Fe++)Se[Ro][Fe]=Fe-T+2;Se[qo][p]=1;const R=de.getCharCode("z"),z=de.getCharCode("a");for(let Fe=z;Fe<=R;Fe++)Se[qo][Fe]=Fe-z+2;Se[Fs][p]=1;const W=de.getCharCode("9"),ee=de.getCharCode("0");for(let Fe=ee;Fe<=W;Fe++)Se[Fs][Fe]=Fe-ee+2;Se[Fs][w]=12,Se[Fs][y]=13;const Ae=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Fe=0;Fe<Ae.length;Fe++)Se[Pu][de.getCharCode(Ae[Fe])]=Fe;const Be=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Fe=0;Fe<Be.length;Fe++)de.getCharCode(Be[Fe])>0&&(Se[to][de.getCharCode(Be[Fe])]=Fe);return Se}const Pc=_d(Q.createInt32Array(5,256));class Oo{constructor(p){this.text=p}encode(){const p=de.getCharCode(" "),y=de.getCharCode(`
`);let w=Dl.singletonList(vs.INITIAL_STATE);for(let T=0;T<this.text.length;T++){let R,z=T+1<this.text.length?this.text[T+1]:0;switch(this.text[T]){case de.getCharCode("\r"):R=z===y?2:0;break;case de.getCharCode("."):R=z===p?3:0;break;case de.getCharCode(","):R=z===p?4:0;break;case de.getCharCode(":"):R=z===p?5:0;break;default:R=0}R>0?(w=Oo.updateStateListForPair(w,T,R),T++):w=this.updateStateListForChar(w,T)}return Dl.min(w,(T,R)=>T.getBitCount()-R.getBitCount()).toBitArray(this.text)}updateStateListForChar(p,y){const w=[];for(let k of p)this.updateStateForChar(k,y,w);return Oo.simplifyStates(w)}updateStateForChar(p,y,w){let k=this.text[y]&255,T=Pc[p.getMode()][k]>0,R=null;for(let z=0;z<=to;z++){let W=Pc[z][k];if(W>0){if(R==null&&(R=p.endBinaryShift(y)),!T||z===p.getMode()||z===Fs){const ee=R.latchAndAppend(z,W);w.push(ee)}if(!T&&Ch[p.getMode()][z]>=0){const ee=R.shiftAndAppend(z,W);w.push(ee)}}}if(p.getBinaryShiftByteCount()>0||Pc[p.getMode()][k]===0){let z=p.addBinaryShiftChar(y);w.push(z)}}static updateStateListForPair(p,y,w){const k=[];for(let T of p)this.updateStateForPair(T,y,w,k);return this.simplifyStates(k)}static updateStateForPair(p,y,w,k){let T=p.endBinaryShift(y);if(k.push(T.latchAndAppend(to,w)),p.getMode()!==to&&k.push(T.shiftAndAppend(to,w)),w===3||w===4){let R=T.latchAndAppend(Fs,16-w).latchAndAppend(Fs,1);k.push(R)}if(p.getBinaryShiftByteCount()>0){let R=p.addBinaryShiftChar(y).addBinaryShiftChar(y+1);k.push(R)}}static simplifyStates(p){let y=[];for(const w of p){let k=!0;for(const T of y){if(T.isBetterThanOrEqualTo(w)){k=!1;break}w.isBetterThanOrEqualTo(T)&&(y=y.filter(R=>R!==T))}k&&y.push(w)}return y}}class ga{constructor(){}static encodeBytes(p){return ga.encode(p,ga.DEFAULT_EC_PERCENT,ga.DEFAULT_AZTEC_LAYERS)}static encode(p,y,w){let k=new Oo(p).encode(),T=Y.truncDivision(k.getSize()*y,100)+11,R=k.getSize()+T,z,W,ee,Ae,Be;if(w!==ga.DEFAULT_AZTEC_LAYERS){if(z=w<0,W=Math.abs(w),W>(z?ga.MAX_NB_BITS_COMPACT:ga.MAX_NB_BITS))throw new x(de.format("Illegal value %s for layers",w));ee=ga.totalBitsInLayer(W,z),Ae=ga.WORD_SIZE[W];let Si=ee-ee%Ae;if(Be=ga.stuffBits(k,Ae),Be.getSize()+T>Si)throw new x("Data to large for user specified layer");if(z&&Be.getSize()>Ae*64)throw new x("Data to large for user specified layer")}else{Ae=0,Be=null;for(let Si=0;;Si++){if(Si>ga.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(z=Si<=3,W=z?Si+1:Si,ee=ga.totalBitsInLayer(W,z),R>ee)continue;(Be==null||Ae!==ga.WORD_SIZE[W])&&(Ae=ga.WORD_SIZE[W],Be=ga.stuffBits(k,Ae));let _a=ee-ee%Ae;if(!(z&&Be.getSize()>Ae*64)&&Be.getSize()+T<=_a)break}}let Fe=ga.generateCheckWords(Be,ee,Ae),Ke=Be.getSize()/Ae,gt=ga.generateModeMessage(z,W,Ke),vt=(z?11:14)+W*4,Ot=new Int32Array(vt),Zt;if(z){Zt=vt;for(let Si=0;Si<Ot.length;Si++)Ot[Si]=Si}else{Zt=vt+1+2*Y.truncDivision(Y.truncDivision(vt,2)-1,15);let Si=Y.truncDivision(vt,2),_a=Y.truncDivision(Zt,2);for(let un=0;un<Si;un++){let $=un+Y.truncDivision(un,15);Ot[Si-un-1]=_a-$-1,Ot[Si+un]=_a+$+1}}let Pi=new De(Zt);for(let Si=0,_a=0;Si<W;Si++){let un=(W-Si)*4+(z?9:12);for(let $=0;$<un;$++){let oe=$*2;for(let ke=0;ke<2;ke++)Fe.get(_a+oe+ke)&&Pi.set(Ot[Si*2+ke],Ot[Si*2+$]),Fe.get(_a+un*2+oe+ke)&&Pi.set(Ot[Si*2+$],Ot[vt-1-Si*2-ke]),Fe.get(_a+un*4+oe+ke)&&Pi.set(Ot[vt-1-Si*2-ke],Ot[vt-1-Si*2-$]),Fe.get(_a+un*6+oe+ke)&&Pi.set(Ot[vt-1-Si*2-$],Ot[Si*2+ke])}_a+=un*8}if(ga.drawModeMessage(Pi,z,Zt,gt),z)ga.drawBullsEye(Pi,Y.truncDivision(Zt,2),5);else{ga.drawBullsEye(Pi,Y.truncDivision(Zt,2),7);for(let Si=0,_a=0;Si<Y.truncDivision(vt,2)-1;Si+=15,_a+=16)for(let un=Y.truncDivision(Zt,2)&1;un<Zt;un+=2)Pi.set(Y.truncDivision(Zt,2)-_a,un),Pi.set(Y.truncDivision(Zt,2)+_a,un),Pi.set(un,Y.truncDivision(Zt,2)-_a),Pi.set(un,Y.truncDivision(Zt,2)+_a)}let Ri=new bh;return Ri.setCompact(z),Ri.setSize(Zt),Ri.setLayers(W),Ri.setCodeWords(Ke),Ri.setMatrix(Pi),Ri}static drawBullsEye(p,y,w){for(let k=0;k<w;k+=2)for(let T=y-k;T<=y+k;T++)p.set(T,y-k),p.set(T,y+k),p.set(y-k,T),p.set(y+k,T);p.set(y-w,y-w),p.set(y-w+1,y-w),p.set(y-w,y-w+1),p.set(y+w,y-w),p.set(y+w,y-w+1),p.set(y+w,y+w-1)}static generateModeMessage(p,y,w){let k=new Z;return p?(k.appendBits(y-1,2),k.appendBits(w-1,6),k=ga.generateCheckWords(k,28,4)):(k.appendBits(y-1,5),k.appendBits(w-1,11),k=ga.generateCheckWords(k,40,4)),k}static drawModeMessage(p,y,w,k){let T=Y.truncDivision(w,2);if(y)for(let R=0;R<7;R++){let z=T-3+R;k.get(R)&&p.set(z,T-5),k.get(R+7)&&p.set(T+5,z),k.get(20-R)&&p.set(z,T+5),k.get(27-R)&&p.set(T-5,z)}else for(let R=0;R<10;R++){let z=T-5+R+Y.truncDivision(R,5);k.get(R)&&p.set(z,T-7),k.get(R+10)&&p.set(T+7,z),k.get(29-R)&&p.set(z,T+7),k.get(39-R)&&p.set(T-7,z)}}static generateCheckWords(p,y,w){let k=p.getSize()/w,T=new Do(ga.getGF(w)),R=Y.truncDivision(y,w),z=ga.bitsToWords(p,w,R);T.encode(z,R-k);let W=y%w,ee=new Z;ee.appendBits(0,W);for(const Ae of Array.from(z))ee.appendBits(Ae,w);return ee}static bitsToWords(p,y,w){let k=new Int32Array(w),T,R;for(T=0,R=p.getSize()/y;T<R;T++){let z=0;for(let W=0;W<y;W++)z|=p.get(T*y+W)?1<<y-W-1:0;k[T]=z}return k}static getGF(p){switch(p){case 4:return Mi.AZTEC_PARAM;case 6:return Mi.AZTEC_DATA_6;case 8:return Mi.AZTEC_DATA_8;case 10:return Mi.AZTEC_DATA_10;case 12:return Mi.AZTEC_DATA_12;default:throw new x("Unsupported word size "+p)}}static stuffBits(p,y){let w=new Z,k=p.getSize(),T=(1<<y)-2;for(let R=0;R<k;R+=y){let z=0;for(let W=0;W<y;W++)(R+W>=k||p.get(R+W))&&(z|=1<<y-1-W);(z&T)===T?(w.appendBits(z&T,y),R--):(z&T)===0?(w.appendBits(z|1,y),R--):w.appendBits(z,y)}return w}static totalBitsInLayer(p,y){return((y?88:112)+16*p)*p}}ga.DEFAULT_EC_PERCENT=33,ga.DEFAULT_AZTEC_LAYERS=0,ga.MAX_NB_BITS=32,ga.MAX_NB_BITS_COMPACT=4,ga.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ac{encode(p,y,w,k){return this.encodeWithHints(p,y,w,k,null)}encodeWithHints(p,y,w,k,T){let R=Pr.ISO_8859_1,z=ga.DEFAULT_EC_PERCENT,W=ga.DEFAULT_AZTEC_LAYERS;return T!=null&&(T.has(er.CHARACTER_SET)&&(R=Pl.forName(T.get(er.CHARACTER_SET).toString())),T.has(er.ERROR_CORRECTION)&&(z=Y.parseInt(T.get(er.ERROR_CORRECTION).toString())),T.has(er.AZTEC_LAYERS)&&(W=Y.parseInt(T.get(er.AZTEC_LAYERS).toString()))),ac.encodeLayers(p,y,w,k,R,z,W)}static encodeLayers(p,y,w,k,T,R,z){if(y!==mt.AZTEC)throw new x("Can only encode AZTEC, but got "+y);let W=ga.encode(de.getBytes(p,T),R,z);return ac.renderResult(W,w,k)}static renderResult(p,y,w){let k=p.getMatrix();if(k==null)throw new rn;let T=k.getWidth(),R=k.getHeight(),z=Math.max(y,T),W=Math.max(w,R),ee=Math.min(z/T,W/R),Ae=(z-T*ee)/2,Be=(W-R*ee)/2,Fe=new De(z,W);for(let Ke=0,gt=Be;Ke<R;Ke++,gt+=ee)for(let vt=0,Ot=Ae;vt<T;vt++,Ot+=ee)k.get(vt,Ke)&&Fe.setRegion(Ot,gt,ee,ee);return Fe}}t.AbstractExpandedDecoder=ni,t.ArgumentException=g,t.ArithmeticException=fn,t.AztecCode=bh,t.AztecCodeReader=st,t.AztecCodeWriter=ac,t.AztecDecoder=Yt,t.AztecDetector=tt,t.AztecDetectorResult=wi,t.AztecEncoder=ga,t.AztecHighLevelEncoder=Oo,t.AztecPoint=Ee,t.BarcodeFormat=mt,t.Binarizer=P,t.BinaryBitmap=b,t.BitArray=Z,t.BitMatrix=De,t.BitSource=Is,t.BrowserAztecCodeReader=Ct,t.BrowserBarcodeReader=nr,t.BrowserCodeReader=di,t.BrowserDatamatrixCodeReader=nc,t.BrowserMultiFormatReader=Ko,t.BrowserPDF417Reader=rr,t.BrowserQRCodeReader=Ms,t.BrowserQRCodeSvgWriter=Xr,t.CharacterSetECI=te,t.ChecksumException=S,t.Code128Reader=Ve,t.Code39Reader=xt,t.DataMatrixDecodedBitStreamParser=ds,t.DataMatrixReader=Xa,t.DecodeHintType=re,t.DecoderResult=Vi,t.DefaultGridSampler=xe,t.DetectorResult=$i,t.EAN13Reader=In,t.EncodeHintType=er,t.Exception=d,t.FormatException=q,t.GenericGF=Mi,t.GenericGFPoly=oi,t.GlobalHistogramBinarizer=nt,t.GridSampler=Fi,t.GridSamplerInstance=we,t.HTMLCanvasElementLuminanceSource=We,t.HybridBinarizer=je,t.ITFReader=jt,t.IllegalArgumentException=x,t.IllegalStateException=rn,t.InvertedLuminanceSource=Mt,t.LuminanceSource=dt,t.MathUtils=ci,t.MultiFormatOneDReader=Ja,t.MultiFormatReader=xo,t.MultiFormatWriter=Vs,t.NotFoundException=Ie,t.OneDReader=yt,t.PDF417DecodedBitStreamParser=Wt,t.PDF417DecoderErrorCorrection=qe,t.PDF417Reader=ea,t.PDF417ResultMetadata=pa,t.PerspectiveTransform=ft,t.PlanarYUVLuminanceSource=lr,t.QRCodeByteMatrix=sr,t.QRCodeDataMask=Lr,t.QRCodeDecodedBitStreamParser=Ua,t.QRCodeDecoderErrorCorrectionLevel=Ea,t.QRCodeDecoderFormatInformation=dr,t.QRCodeEncoder=Aa,t.QRCodeEncoderQRCode=_o,t.QRCodeMaskUtil=Ya,t.QRCodeMatrixUtil=Qn,t.QRCodeMode=Nn,t.QRCodeReader=ia,t.QRCodeVersion=Mn,t.QRCodeWriter=Hr,t.RGBLuminanceSource=Ls,t.RSS14Reader=nn,t.RSSExpandedReader=qt,t.ReaderException=ka,t.ReedSolomonDecoder=xn,t.ReedSolomonEncoder=Do,t.ReedSolomonException=Ji,t.Result=It,t.ResultMetadataType=gi,t.ResultPoint=ui,t.StringUtils=de,t.UnsupportedOperationException=he,t.VideoInputDevice=Pt,t.WhiteRectangleDetector=Ei,t.WriterException=Ta,t.ZXingArrays=Q,t.ZXingCharset=Pl,t.ZXingInteger=Y,t.ZXingStandardCharsets=Pr,t.ZXingStringBuilder=be,t.ZXingStringEncoding=ve,t.ZXingSystem=I,t.createAbstractExpandedDecoder=ha,Object.defineProperty(t,"__esModule",{value:!0})}))})(Wm,Wm.exports)),Wm.exports}var us=YZ();const KZ=TS(us),qZ=QN({__proto__:null,default:KZ},[us]);var CF=(function(){function a(e,t,i){if(this.formatMap=new Map([[On.QR_CODE,us.BarcodeFormat.QR_CODE],[On.AZTEC,us.BarcodeFormat.AZTEC],[On.CODABAR,us.BarcodeFormat.CODABAR],[On.CODE_39,us.BarcodeFormat.CODE_39],[On.CODE_93,us.BarcodeFormat.CODE_93],[On.CODE_128,us.BarcodeFormat.CODE_128],[On.DATA_MATRIX,us.BarcodeFormat.DATA_MATRIX],[On.MAXICODE,us.BarcodeFormat.MAXICODE],[On.ITF,us.BarcodeFormat.ITF],[On.EAN_13,us.BarcodeFormat.EAN_13],[On.EAN_8,us.BarcodeFormat.EAN_8],[On.PDF_417,us.BarcodeFormat.PDF_417],[On.RSS_14,us.BarcodeFormat.RSS_14],[On.RSS_EXPANDED,us.BarcodeFormat.RSS_EXPANDED],[On.UPC_A,us.BarcodeFormat.UPC_A],[On.UPC_E,us.BarcodeFormat.UPC_E],[On.UPC_EAN_EXTENSION,us.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!qZ)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=i;var n=this.createZXingFormats(e),r=new Map;r.set(us.DecodeHintType.POSSIBLE_FORMATS,n),r.set(us.DecodeHintType.TRY_HARDER,!1),this.hints=r}return a.prototype.decodeAsync=function(e){var t=this;return new Promise(function(i,n){try{i(t.decode(e))}catch(r){n(r)}})},a.prototype.decode=function(e){var t=new us.MultiFormatReader(this.verbose,this.hints),i=new us.HTMLCanvasElementLuminanceSource(e),n=new us.BinaryBitmap(new us.HybridBinarizer(i)),r=t.decode(n);return{text:r.text,format:p4.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}},a.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,i,n){e.set(t,i)}),e},a.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},a.prototype.createZXingFormats=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];this.formatMap.has(r)?t.push(this.formatMap.get(r)):this.logger.logError("".concat(r," is not supported by")+"ZXingHtml5QrcodeShim")}return t},a.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},a})(),ZZ=function(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,e||[])).next())})},JZ=function(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},SF=(function(){function a(e,t,i){if(this.formatMap=new Map([[On.QR_CODE,"qr_code"],[On.AZTEC,"aztec"],[On.CODABAR,"codabar"],[On.CODE_39,"code_39"],[On.CODE_93,"code_93"],[On.CODE_128,"code_128"],[On.DATA_MATRIX,"data_matrix"],[On.ITF,"itf"],[On.EAN_13,"ean_13"],[On.EAN_8,"ean_8"],[On.PDF_417,"pdf417"],[On.UPC_A,"upc_a"],[On.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!a.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=i;var n=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(n),!this.detector)throw"BarcodeDetector detector not supported"}return a.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},a.prototype.decodeAsync=function(e){return ZZ(this,void 0,void 0,function(){var t,i;return JZ(this,function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=n.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(t),[2,{text:i.rawValue,format:p4.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},a.prototype.selectLargestBarcode=function(e){for(var t=null,i=0,n=0,r=e;n<r.length;n++){var o=r[n],s=o.boundingBox.width*o.boundingBox.height;s>i&&(i=s,t=o)}if(!t)throw"No largest barcode found";return t},a.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];this.formatMap.has(r)?t.push(this.formatMap.get(r)):this.logger.warn("".concat(r," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},a.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},a.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,i,n){e.set(t,i)}),e},a.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},a})(),BF=function(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,e||[])).next())})},EF=function(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},eJ=(function(){function a(e,t,i,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,t&&SF.isSupported()?(this.primaryDecoder=new SF(e,i,n),this.secondaryDecoder=new CF(e,i,n)):this.primaryDecoder=new CF(e,i,n)}return a.prototype.decodeAsync=function(e){return BF(this,void 0,void 0,function(){var t;return EF(this,function(i){switch(i.label){case 0:t=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},a.prototype.decodeRobustlyAsync=function(e){return BF(this,void 0,void 0,function(){var t,i;return EF(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(i=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw i;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},a.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},a.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},a.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,i=this.executionResults;t<i.length;t++){var n=i[t];e+=n}var r=e/this.executionResults.length;console.log("".concat(r," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},a})(),fB=(function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},a(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})(),lv=function(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,e||[])).next())})},cv=function(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},m4=(function(){function a(e,t){this.name=e,this.track=t}return a.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},a.prototype.apply=function(e){var t={};t[this.name]=e;var i={advanced:[t]};return this.track.applyConstraints(i)},a.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},a})(),tJ=(function(a){fB(e,a);function e(t,i){return a.call(this,t,i)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var i={};i[this.name]=t;var n={advanced:[i]};return this.track.applyConstraints(n)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),i=t[this.name];return{min:i.min,max:i.max,step:i.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(m4),iJ=(function(a){fB(e,a);function e(t){return a.call(this,"zoom",t)||this}return e})(tJ),nJ=(function(a){fB(e,a);function e(t){return a.call(this,"torch",t)||this}return e})(m4),aJ=(function(){function a(e){this.track=e}return a.prototype.zoomFeature=function(){return new iJ(this.track)},a.prototype.torchFeature=function(){return new nJ(this.track)},a})(),rJ=(function(){function a(e,t,i){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return a.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},a.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var i=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(i,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},a.create=function(e,t,i,n){return lv(this,void 0,void 0,function(){var r,o;return cv(this,function(s){switch(s.label){case 0:return r=new a(e,t,n),i.aspectRatio?(o={aspectRatio:i.aspectRatio},[4,r.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:s.sent(),s.label=2;case 2:return r.setupSurface(),[2,r]}})})},a.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},a.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},a.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},a.prototype.resume=function(e){this.failIfClosed();var t=this,i=function(){setTimeout(e,200),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},a.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},a.prototype.getSurface=function(){return this.failIfClosed(),this.surface},a.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},a.prototype.applyVideoConstraints=function(e){return lv(this,void 0,void 0,function(){return cv(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},a.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,i){var n=e.mediaStream.getVideoTracks(),r=n.length,o=0;e.mediaStream.getVideoTracks().forEach(function(s){e.mediaStream.removeTrack(s),s.stop(),++o,o>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},a.prototype.getCapabilities=function(){return new aJ(this.getFirstTrackOrFail())},a})(),sJ=(function(){function a(e){this.mediaStream=e}return a.prototype.render=function(e,t,i){return lv(this,void 0,void 0,function(){return cv(this,function(n){return[2,rJ.create(e,this.mediaStream,t,i)]})})},a.create=function(e){return lv(this,void 0,void 0,function(){var t,i;return cv(this,function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return i=n.sent(),[2,new a(i)]}})})},a})(),kF=function(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,e||[])).next())})},TF=function(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},oJ=(function(){function a(){}return a.failIfNotSupported=function(){return kF(this,void 0,void 0,function(){return TF(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new a]})})},a.prototype.create=function(e){return kF(this,void 0,void 0,function(){return TF(this,function(t){return[2,sJ.create(e)]})})},a})(),lJ=function(a,e,t,i){function n(r){return r instanceof t?r:new t(function(o){o(r)})}return new(t||(t=Promise))(function(r,o){function s(g){try{d(i.next(g))}catch(x){o(x)}}function u(g){try{d(i.throw(g))}catch(x){o(x)}}function d(g){g.done?r(g.value):n(g.value).then(s,u)}d((i=i.apply(a,e||[])).next())})},cJ=function(a,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(g){return u([d,g])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(t=0)),t;)try{if(i=1,n&&(r=d[0]&2?n.return:d[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,d[1])).done)return r;switch(n=0,r&&(d=[d[0]&2,r.value]),d[0]){case 0:case 1:r=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,n=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!r||d[1]>r[0]&&d[1]<r[3])){t.label=d[1];break}if(d[0]===6&&t.label<r[1]){t.label=r[1],r=d;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(d);break}r[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(a,t)}catch(g){d=[6,g],n=0}finally{i=r=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},uJ=(function(){function a(){}return a.retrieve=function(){if(navigator.mediaDevices)return a.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?a.getCamerasFromMediaStreamTrack():a.rejectWithError()},a.rejectWithError=function(){var e=Zp.unableToQuerySupportedDevices();return a.isHttpsOrLocalhost()||(e=Zp.insecureContextCameraQueryError()),Promise.reject(e)},a.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},a.getCamerasFromMediaDevices=function(){return lJ(this,void 0,void 0,function(){var e,t,i,n,r,o,s;return cJ(this,function(u){switch(u.label){case 0:return e=function(d){for(var g=d.getVideoTracks(),x=0,b=g;x<b.length;x++){var S=b[x];S.enabled=!1,S.stop(),d.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=u.sent(),n=[],r=0,o=i;r<o.length;r++)s=o[r],s.kind==="videoinput"&&n.push({id:s.deviceId,label:s.label});return e(t),[2,n]}})})},a.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var i=function(r){for(var o=[],s=0,u=r;s<u.length;s++){var d=u[s];d.kind==="video"&&o.push({id:d.id,label:d.label})}e(o)},n=MediaStreamTrack;n.getSources(i)})},a})(),Rs;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.NOT_STARTED=1]="NOT_STARTED",a[a.SCANNING=2]="SCANNING",a[a.PAUSED=3]="PAUSED"})(Rs||(Rs={}));var hJ=(function(){function a(){this.state=Rs.NOT_STARTED,this.onGoingTransactionNewState=Rs.UNKNOWN}return a.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},a.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},a.prototype.execute=function(){if(this.onGoingTransactionNewState===Rs.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rs.UNKNOWN,this.directTransition(e)},a.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rs.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rs.UNKNOWN},a.prototype.getState=function(){return this.state},a.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rs.UNKNOWN)throw"Cannot transition to a new state, already under transition"},a.prototype.validateTransition=function(e){switch(this.state){case Rs.UNKNOWN:throw"Transition from unknown is not allowed";case Rs.NOT_STARTED:this.failIfNewStateIs(e,[Rs.PAUSED]);break;case Rs.SCANNING:break;case Rs.PAUSED:break}},a.prototype.failIfNewStateIs=function(e,t){for(var i=0,n=t;i<n.length;i++){var r=n[i];if(e===r)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},a})(),dJ=(function(){function a(e){this.stateManager=e}return a.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},a.prototype.directTransition=function(e){this.stateManager.directTransition(e)},a.prototype.getState=function(){return this.stateManager.getState()},a.prototype.canScanFile=function(){return this.stateManager.getState()===Rs.NOT_STARTED},a.prototype.isScanning=function(){return this.stateManager.getState()!==Rs.NOT_STARTED},a.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rs.SCANNING},a.prototype.isPaused=function(){return this.stateManager.getState()===Rs.PAUSED},a})(),fJ=(function(){function a(){}return a.create=function(){return new dJ(new hJ)},a})(),AJ=(function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},a(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})(),yc=(function(a){AJ(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(GZ),pJ=(function(){function a(e,t){this.logger=t,this.fps=yc.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=yc.DEFAULT_DISABLE_FLIP}return a.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?g4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},a.prototype.isShadedBoxEnabled=function(){return!Zh(this.qrbox)},a.create=function(e,t){return new a(e,t)},a})(),kS=(function(){function a(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var i;typeof t=="boolean"?this.verbose=t===!0:t&&(i=t,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new $Z(this.verbose),this.qrcode=new eJ(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fJ.create()}return a.prototype.start=function(e,t,i,n){var r=this;if(!e)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;n?o=n:o=this.verbose?this.logger.log:function(){};var s=pJ.create(t,this.logger);this.clearElement();var u=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=u,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:yc.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,b=this.stateManagerProxy.startTransition(Rs.SCANNING);return new Promise(function(S,P){var I=d?s.videoConstraints:x.createVideoConstraints(e);if(!I){b.cancel(),P("videoConstraints should be defined");return}var O={};(!d||s.aspectRatio)&&(O.aspectRatio=s.aspectRatio);var H={onRenderSurfaceReady:function(Q,Y){x.setupUi(Q,Y,s),x.isScanning=!0,x.foreverScan(s,i,o)}};oJ.failIfNotSupported().then(function(Q){Q.create(I).then(function(Y){return Y.render(r.element,O,H).then(function(Z){x.renderedCamera=Z,b.execute(),S(null)}).catch(function(Z){b.cancel(),P(Z)})}).catch(function(Y){b.cancel(),P(Zp.errorGettingUserMedia(Y))})}).catch(function(Q){b.cancel(),P(Zp.cameraStreamingNotSupported())})})},a.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rs.PAUSED),this.showPausedState(),(Zh(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},a.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Rs.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},a.prototype.getState=function(){return this.stateManagerProxy.getState()},a.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Rs.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(e.element){var r=document.getElementById(yc.SHADED_REGION_ELEMENT_ID);r&&e.element.removeChild(r)}},n=this;return this.renderedCamera.close().then(function(){return n.renderedCamera=null,n.element&&(n.element.removeChild(n.canvasElement),n.canvasElement=null),i(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),t.execute(),n.hidePausedState(),n.isScanning=!1,Promise.resolve()})},a.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(i){return i.decodedText})},a.prototype.scanFileV2=function(e,t){var i=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Zh(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(n,r){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var s=o.width,u=o.height,d=document.getElementById(i.elementId),g=d.clientWidth?d.clientWidth:yc.DEFAULT_WIDTH,x=Math.max(d.clientHeight?d.clientHeight:u,yc.FILE_SCAN_MIN_HEIGHT),b=i.computeCanvasDrawConfig(s,u,g,x);if(t){var S=i.createCanvasElement(g,x,"qr-canvas-visible");S.style.display="inline-block",d.appendChild(S);var P=S.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=g,P.canvas.height=x,P.drawImage(o,0,0,s,u,b.x,b.y,b.width,b.height)}var I=yc.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(o.width,b.width),H=Math.max(o.height,b.height),Q=O+2*I,Y=H+2*I,Z=i.createCanvasElement(Q,Y);d.appendChild(Z);var J=Z.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=Q,J.canvas.height=Y,J.drawImage(o,0,0,s,u,I,I,O,H);try{i.qrcode.decodeRobustlyAsync(Z).then(function(re){n(wF.createFromQrcodeResult(re))}).catch(r)}catch(re){r("QR code parse error, error = ".concat(re))}},o.onerror=r,o.onabort=r,o.onstalled=r,o.onsuspend=r,o.src=URL.createObjectURL(e)})},a.prototype.clear=function(){this.clearElement()},a.getCameras=function(){return uJ.retrieve()},a.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},a.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},a.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},a.prototype.applyVideoConstraints=function(e){if(e){if(!g4.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},a.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},a.prototype.getSupportedFormats=function(e){var t=[On.QR_CODE,On.AZTEC,On.CODABAR,On.CODE_39,On.CODE_93,On.CODE_128,On.DATA_MATRIX,On.MAXICODE,On.ITF,On.EAN_13,On.EAN_8,On.PDF_417,On.RSS_14,On.RSS_EXPANDED,On.UPC_A,On.UPC_E,On.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],n=0,r=e.formatsToSupport;n<r.length;n++){var o=r[n];VZ(o)?i.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},a.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Zh(e))return!0;if(!Zh(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Zh(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Zh(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},a.prototype.validateQrboxSize=function(e,t,i){var n=this,r=i.qrbox;this.validateQrboxConfig(r);var o=this.toQrdimensions(e,t,r),s=function(d){if(d<yc.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(yc.MIN_QR_BOX_SIZE,"px.")},u=function(d){return d>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=e),d};s(o.width),s(o.height),o.width=u(o.width)},a.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},a.prototype.toQrdimensions=function(e,t,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(e,t)}catch(n){throw new Error("qrbox config was passed as a function but it failed with unknown error"+n)}return i},a.prototype.setupUi=function(e,t,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,i);var n=Zh(i.qrbox)?{width:e,height:t}:i.qrbox;this.validateQrboxConfig(n);var r=this.toQrdimensions(e,t,n);r.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=i.isShadedBoxEnabled()&&r.height<=t,s={x:0,y:0,width:e,height:t},u=o?this.getShadedRegionBounds(e,t,r):s,d=this.createCanvasElement(u.width,u.height),g={willReadFrequently:!0},x=d.getContext("2d",g);x.canvas.width=u.width,x.canvas.height=u.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,e,t,r),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=x,this.canvasElement=d},a.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Zp.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},a.prototype.scanContext=function(e,t){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(n){return e(n.text,wF.createFromQrcodeResult(n)),i.possiblyUpdateShaders(!0),!0}).catch(function(n){i.possiblyUpdateShaders(!1);var r=Zp.codeParseError(n);return t(r,WZ.createFrom(r)),!1})},a.prototype.foreverScan=function(e,t,i){var n=this;if(this.shouldScan&&this.renderedCamera){var r=this.renderedCamera.getSurface(),o=r.videoWidth/r.clientWidth,s=r.videoHeight/r.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*o,d=this.qrRegion.height*s,g=this.qrRegion.x*o,x=this.qrRegion.y*s;this.context.drawImage(r,g,x,u,d,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){n.foreverScanTimeout=setTimeout(function(){n.foreverScan(e,t,i)},n.getTimeoutFps(e.fps))};this.scanContext(t,i).then(function(S){!S&&e.disableFlip!==!0?(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,i).finally(function(){b()})):b()}).catch(function(S){n.logger.logError("Error happend while scanning context",S),b()})}},a.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",i="deviceId",n={user:!0,environment:!0},r="exact",o=function(P){if(P in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},s=Object.keys(e);if(s.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var u=Object.keys(e)[0];if(u!==t&&u!==i)throw"Only '".concat(t,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(u===t){var d=e.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(r in d){if(o(d["".concat(r)]))return{facingMode:{exact:d["".concat(r)]}}}else throw"'facingMode' should be string or object with"+" ".concat(r," as key.");else{var g=typeof d;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=e.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(r in x)return{deviceId:{exact:x["".concat(r)]}};throw"'deviceId' should be string or object with"+" ".concat(r," as key.")}else{var b=typeof x;throw"Invalid type of 'deviceId' = ".concat(b)}}}var S=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},a.prototype.computeCanvasDrawConfig=function(e,t,i,n){if(e<=i&&t<=n){var r=(i-e)/2,o=(n-t)/2;return{x:r,y:o,width:e,height:t}}else{var s=e,u=t;return e>i&&(t=i/e*t,e=i),t>n&&(e=n/t*e,t=n),this.logger.log("Image downsampled from "+"".concat(s,"X").concat(u)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,i,n)}},a.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},a.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?yc.BORDER_SHADER_MATCH_COLOR:yc.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},a.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},a.prototype.createCanvasElement=function(e,t,i){var n=e,r=t,o=document.createElement("canvas");return o.style.width="".concat(n,"px"),o.style.height="".concat(r,"px"),o.style.display="none",o.id=Zh(i)?"qr-canvas":i,o},a.prototype.getShadedRegionBounds=function(e,t,i){if(i.width>e||i.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-i.width)/2,y:(t-i.height)/2,width:i.width,height:i.height}},a.prototype.possiblyInsertShadingElement=function(e,t,i,n){if(!(t-n.width<1||i-n.height<1)){var r=document.createElement("div");r.style.position="absolute";var o=(t-n.width)/2,s=(i-n.height)/2;if(r.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),r.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),r.style.boxSizing="border-box",r.style.top="0px",r.style.bottom="0px",r.style.left="0px",r.style.right="0px",r.id="".concat(yc.SHADED_REGION_ELEMENT_ID),t-n.width<11||i-n.height<11)this.hasBorderShaders=!1;else{var u=5,d=40;this.insertShaderBorders(r,d,u,-u,null,0,!0),this.insertShaderBorders(r,d,u,-u,null,0,!1),this.insertShaderBorders(r,d,u,null,-u,0,!0),this.insertShaderBorders(r,d,u,null,-u,0,!1),this.insertShaderBorders(r,u,d+u,-u,null,-u,!0),this.insertShaderBorders(r,u,d+u,null,-u,-u,!0),this.insertShaderBorders(r,u,d+u,-u,null,-u,!1),this.insertShaderBorders(r,u,d+u,null,-u,-u,!1),this.hasBorderShaders=!0}e.append(r)}},a.prototype.insertShaderBorders=function(e,t,i,n,r,o,s){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=yc.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(t,"px"),u.style.height="".concat(i,"px"),n!==null&&(u.style.top="".concat(n,"px")),r!==null&&(u.style.bottom="".concat(r,"px")),s?u.style.left="".concat(o,"px"):u.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),e.appendChild(u)},a.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},a.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},a.prototype.getTimeoutFps=function(e){return 1e3/e},a})(),IF;(function(a){a[a.STATUS_DEFAULT=0]="STATUS_DEFAULT",a[a.STATUS_SUCCESS=1]="STATUS_SUCCESS",a[a.STATUS_WARNING=2]="STATUS_WARNING",a[a.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(IF||(IF={}));class gJ{constructor(e,t,i){this.elementId=e,this.onScanSuccess=t,this.onScanFailure=i,this.html5QrCode=null,this.config={fps:30,qrbox:{width:250,height:250}}}async start(){if(!this.isSecureContext())throw console.error("Camera access requires a secure context (HTTPS or localhost)."),new Error("Kamera memerlukan koneksi aman (HTTPS).");try{if(this.html5QrCode||(this.html5QrCode=new kS(this.elementId)),this.html5QrCode.isScanning){console.log("Scanner is already running.");return}await this.html5QrCode.start({facingMode:"environment"},this.config,(e,t)=>{this.onScanSuccess(e,t)},e=>{this.onScanFailure&&this.onScanFailure(e)})}catch(e){throw console.error("Failed to start camera:",e),e}}async stop(){if(this.html5QrCode&&(this.html5QrCode.isScanning||this.html5QrCode.getState()===2||this.html5QrCode.getState()===3))try{await this.html5QrCode.stop()}catch(e){console.error("Failed to stop camera:",e)}}async pause(){this.html5QrCode&&this.html5QrCode.isScanning&&this.html5QrCode.pause()}async resume(){if(this.html5QrCode)try{this.html5QrCode.getState()===3?this.html5QrCode.resume():(this.html5QrCode.getState()===1||this.html5QrCode.getState()===0)&&await this.start()}catch{try{this.html5QrCode.resume()}catch{await this.start()}}}isSecureContext(){return window.isSecureContext}getState(){return this.html5QrCode?this.html5QrCode.getState():0}}class mJ{constructor(e){this.html5QrCode=e}async scanFile(e){if(!e)throw new Error("No file selected.");try{if(!this.html5QrCode)throw new Error("Scanner instance not initialized.");return await this.html5QrCode.scanFileV2(e,!1)}catch(t){throw console.error("Error scanning file:",t),t}}}function yJ(a){a.data("qrScanner",()=>({scanner:null,uploader:null,isScanning:!1,isLoading:!1,manualInput:"",showModal:!1,isValid:!1,statusMessage:"",isProcessing:!1,scanData:{},recentScans:[],hasCameraPermission:!1,cameraError:null,async init(){console.log("QrScanner Component Initializing..."),window.isSecureContext||(console.warn("Insecure Context Detected"),this.cameraError="Koneksi tidak aman (HTTP). Kamera dinonaktifkan. Gunakan HTTPS atau localhost.");try{this.scanner=new gJ("reader",this.onScanSuccess.bind(this),this.onScanFailure.bind(this)),this.uploader=new mJ(null),this.$nextTick(async()=>{this.cameraError||await this.startScanner()})}catch(e){console.error("Component Init Error:",e),this.cameraError="Gagal inisialisasi komponen: "+e.message}},async startScanner(){console.log("Starting Scanner..."),this.isLoading=!0,this.cameraError=null;try{this.isScanning=!0,await this.scanner.start(),this.hasCameraPermission=!0,this.scanner.html5QrCode&&(this.uploader.html5QrCode=this.scanner.html5QrCode)}catch(e){console.error("Scanner Start Error:",e),this.isScanning=!1,this.hasCameraPermission=!1,e.name==="NotAllowedError"?this.cameraError="Izin kamera ditolak. Silakan izinkan akses kamera di browser.":e.toString().includes("secure context")?this.cameraError=e.message:this.cameraError="Gagal memulai kamera: "+e.message}finally{this.isLoading=!1}},async stopScanner(){this.scanner&&(await this.scanner.stop(),this.isScanning=!1)},async toggleScanner(){this.isScanning?await this.stopScanner():await this.startScanner()},onScanSuccess(e,t){this.showModal||this.isProcessing||(this.isProcessing=!0,console.log("Scan Success:",e),this.validateQr(e).finally(()=>{this.isProcessing=!1}))},onScanFailure(e){},async handleFileUpload(e){console.log("File Upload Initiated");const t=e.target.files[0];if(!t)return;const i=document.querySelector('label[for="qr-input-file"]');i&&(i.dataset.originalText||(i.dataset.originalText=i.innerHTML),i.innerHTML='<i class="fa-solid fa-spinner fa-spin"></i> Memproses...');try{if(this.scanner)try{const o=this.scanner.getState();(o===2||o===3)&&(await this.scanner.stop(),this.isScanning=!1)}catch(o){console.warn("Stop Warning:",o)}await new Promise(o=>setTimeout(o,300)),this.uploader.html5QrCode||(this.uploader.html5QrCode=new kS("reader"));let n;try{n=await this.uploader.scanFile(t)}catch(o){if(o.toString().toLowerCase().includes("ongoing"))console.log("Conflict detected, forcing stop and retrying..."),this.uploader.html5QrCode&&(await this.uploader.html5QrCode.stop().catch(s=>{}),await this.uploader.html5QrCode.clear().catch(s=>{})),await new Promise(s=>setTimeout(s,500)),this.uploader.html5QrCode=new kS("reader"),n=await this.uploader.scanFile(t);else throw o}let r=n;typeof n=="object"&&n!==null&&(r=n.decodedText||JSON.stringify(n)),console.log("File Scan Result:",r),this.validateQr(r)}catch(n){console.error("File Scan Failed:",n),alert(`Gagal membaca QR Code.
Pastikan gambar jelas dan memiliki QR Code yang valid.
Detail: `+(n.message||n)),!this.showModal&&!this.cameraError&&this.startScanner()}finally{i&&i.dataset.originalText&&(i.innerHTML=i.dataset.originalText),e.target.value="",!this.showModal&&!this.cameraError&&setTimeout(()=>{this.showModal||this.startScanner()},500)}},async validateQr(e){try{const t=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),i=await fetch("/admin/scan",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,Accept:"application/json"},body:JSON.stringify({qr_data:e})}),n=await i.json();if(i.ok)this.handleResult(!0,n.message,n.data);else{const r=n.data||{};!r.order_number&&n.detail?.order_number&&(r.order_number=n.detail.order_number),this.handleResult(!1,n.message,r)}}catch(t){console.error("Validation Error:",t),this.handleResult(!1,"System Error: "+t.message,{order_number:e})}},handleManualInput(){const e=this.manualInput.trim();if(!e)return;let t=e;e.startsWith("{")||(t=JSON.stringify({order_number:e})),this.validateQr(t)},handleResult(e,t,i){this.isValid=e,this.statusMessage=t,this.scanData=i||{},this.showModal=!0,this.manualInput="";const n=document.getElementById(e?"scan-success":"scan-error");n&&(n.currentTime=0,n.play().catch(r=>console.log("Audio play failed",r))),this.recentScans.unshift({valid:e,ticketName:i.ticket_name||"N/A",orderNumber:i.order_number||"Unknown",time:new Date().toLocaleTimeString(),timestamp:Date.now()}),this.recentScans.length>5&&this.recentScans.pop()},closeModal(){this.showModal=!1,this.cameraError||this.startScanner()},resumeScanner(){if(!this.cameraError)if(this.scanner&&this.scanner.html5QrCode){const e=this.scanner.getState();console.log("Resuming Scanner... Current State:",e),e===3?(this.scanner.resume(),this.isScanning=!0):(e===1||e===0)&&this.startScanner()}else this.startScanner()}}))}window.L=oh;XS.registerPlugin(Oa);window.gsap=XS;window.ScrollTrigger=Oa;window.maplibregl=YN;window.Chart=x2;window.loadEditorJs=()=>GN(()=>import("./editorjs-CmR3fKEd.js"),__vite__mapDeps([0,1]));Lg.plugin(PZ);Lg.plugin(HZ);Lg.data("cultureSection",QZ);Lg.data("mapDrawer",jZ);yJ(Lg);window.Alpine=Lg;window.Livewire=Hv;Hv.start();document.addEventListener("livewire:navigated",()=>{window.ScrollTrigger&&window.ScrollTrigger.refresh()});
