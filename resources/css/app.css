/* 1. Imports (MUST be first) */
@import "leaflet/dist/leaflet.css";
@import "leaflet-draw/dist/leaflet.draw.css";
@import "maplibre-gl/dist/maplibre-gl.css";
@import "@fontsource/plus-jakarta-sans/300.css";
@import "@fontsource/plus-jakarta-sans/400.css";
@import "@fontsource/plus-jakarta-sans/500.css";
@import "@fontsource/plus-jakarta-sans/600.css";
@import "@fontsource/plus-jakarta-sans/700.css";
@import "@fontsource/noto-sans/400.css";
@import "@fontsource/noto-sans/500.css";
@import "@fontsource/noto-sans/700.css";
@import "@fontsource/poppins/500.css";
@import "@fontsource/poppins/700.css";
@import "@fontsource/poppins/900.css";
@import "@fontsource/inter/400.css";
@import "@fontsource/inter/500.css";
@import "@fontsource/inter/600.css";
@import "@fontsource/inter/700.css";
@import "@fontsource/pinyon-script/400.css";
@import "@fontsource/playfair-display/400.css";
@import "@fontsource/playfair-display/700.css";
@import "@fontsource/playfair-display/900.css";
@import "@fontsource/playfair-display/400-italic.css";
@import "@fontsource/figtree/400.css";
@import "@fontsource/figtree/500.css";
@import "@fontsource/figtree/600.css";
@import "@fontsource/figtree/700.css";
@import "@fontsource/figtree/800.css";
@import "material-symbols";
@import "@fortawesome/fontawesome-free/css/all.css";
@import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&display=swap');

/* 2. Tailwind Directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 3. TinyMCE / Rich Text Styles */
@layer components {
    .tinymce-content h1 {
        @apply text-3xl font-bold my-4;
    }

    .tinymce-content h2 {
        @apply text-2xl font-bold my-3;
    }

    .tinymce-content h3 {
        @apply text-xl font-bold my-2;
    }

    .tinymce-content h4 {
        @apply text-lg font-bold my-2;
    }

    .tinymce-content p {
        @apply mb-4 leading-relaxed;
    }

    .tinymce-content ul {
        @apply list-disc ml-5 mb-4;
    }

    .tinymce-content ol {
        @apply list-decimal ml-5 mb-4;
    }

    .tinymce-content blockquote {
        @apply border-l-4 border-gray-300 pl-4 italic my-4 bg-gray-50 py-2 pr-2;
    }

    /* Image Alignment */
    .tinymce-content img {
        @apply max-w-full h-auto rounded-lg my-2;
    }

    .tinymce-content .alignleft {
        float: left;
        margin-right: 1.5rem;
        margin-bottom: 1rem;
    }

    .tinymce-content .alignright {
        float: right;
        margin-left: 1.5rem;
        margin-bottom: 1rem;
    }

    .tinymce-content .aligncenter {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    /* Fusion (Merge & Transform) Animation */
    .fusion-line {
        transform-origin: center;
        transition: opacity 0.3s ease;
    }

    /* Top Line Animation */
    @keyframes fusion-top-open {
        0% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(6px) rotate(0deg); }
        100% { transform: translateY(6px) rotate(45deg); }
    }
    @keyframes fusion-top-close {
        0% { transform: translateY(6px) rotate(45deg); }
        50% { transform: translateY(6px) rotate(0deg); }
        100% { transform: translateY(0) rotate(0deg); }
    }

    /* Bottom Line Animation */
    @keyframes fusion-bottom-open {
        0% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-6px) rotate(0deg); }
        100% { transform: translateY(-6px) rotate(-45deg); }
    }
    @keyframes fusion-bottom-close {
        0% { transform: translateY(-6px) rotate(-45deg); }
        50% { transform: translateY(-6px) rotate(0deg); }
        100% { transform: translateY(0) rotate(0deg); }
    }

    /* Apply Animations */
    .menu-open .fusion-line-1 {
        animation: fusion-top-open 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    .menu-closed .fusion-line-1 {
        animation: fusion-top-close 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .menu-open .fusion-line-2 { opacity: 0; }
    .menu-closed .fusion-line-2 { opacity: 1; transition-delay: 0.3s; }

    .menu-open .fusion-line-3 {
        animation: fusion-bottom-open 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    .menu-closed .fusion-line-3 {
        animation: fusion-bottom-close 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    /* Clearfix for floats */
    .tinymce-content::after {
        content: "";
        display: table;
        clear: both;
    }
}

@layer utilities {

    /* Hide scrollbar for Chrome, Safari and Opera */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    .no-scrollbar {
        -ms-overflow-style: none;
        /* IE and Edge */
        scrollbar-width: none;
        /* Firefox */
    }

    .mask-image-b {
        -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
        mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
    }
}

/* Prevent Alpine.js "flicker" */
[x-cloak] {
    display: none !important;
}